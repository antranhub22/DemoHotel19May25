#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "🚀 Running pre-push validations..."

echo "🔧 TypeScript compilation check..."
npm run typecheck || {
  echo "⚠️ TypeScript errors found. Consider fixing them."
  echo "ℹ️ Use 'git push --no-verify' to bypass if needed."
}

echo "🧪 Running tests (optional)..."
npm run test || {
  echo "⚠️ Tests failed or have issues. Consider investigating."
  echo "ℹ️ Continuing with push anyway..."
}

echo "🎨 Style consistency check..."
npm run style:check || {
  echo "⚠️ Style issues found. Consider running 'npm run style:fix'."
  echo "ℹ️ Use 'git push --no-verify' to skip all checks if needed."
}

echo "✅ All pre-push checks passed!" 