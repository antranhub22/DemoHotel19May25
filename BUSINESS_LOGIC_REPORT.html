<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business Logic Report - DemoHotel19May</title>
    <style>
        @page {
            margin: 2cm;
            size: A4;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #fff;
            font-size: 12px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            border-bottom: 3px solid #2563eb;
            padding-bottom: 20px;
        }

        .header h1 {
            font-size: 2.5em;
            color: #1e40af;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .header .subtitle {
            font-size: 1.2em;
            color: #64748b;
            margin-bottom: 15px;
        }

        .metadata {
            background: linear-gradient(135deg, #f1f5f9, #e2e8f0);
            padding: 15px;
            border-radius: 8px;
            border-left: 5px solid #2563eb;
        }

        .metadata p {
            margin-bottom: 5px;
            font-weight: 500;
        }

        h2 {
            color: #1e40af;
            font-size: 1.8em;
            margin: 30px 0 15px 0;
            border-bottom: 2px solid #3b82f6;
            padding-bottom: 5px;
            page-break-after: avoid;
        }

        h3 {
            color: #3730a3;
            font-size: 1.4em;
            margin: 25px 0 10px 0;
            page-break-after: avoid;
        }

        h4 {
            color: #4338ca;
            font-size: 1.2em;
            margin: 20px 0 10px 0;
            page-break-after: avoid;
        }

        .table-container {
            margin: 20px 0;
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 11px;
            page-break-inside: avoid;
        }

        table th {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            color: white;
            padding: 12px 8px;
            text-align: left;
            font-weight: 600;
            border: 1px solid #2563eb;
        }

        table td {
            padding: 10px 8px;
            border: 1px solid #d1d5db;
            vertical-align: top;
        }

        table tr:nth-child(even) {
            background-color: #f8fafc;
        }

        table tr:hover {
            background-color: #e0e7ff;
        }

        .code-block {
            background: #1f2937;
            color: #f9fafb;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 11px;
            overflow-x: auto;
            margin: 15px 0;
            border-left: 4px solid #3b82f6;
        }

        .architecture-diagram {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            font-family: monospace;
            font-size: 10px;
            overflow-x: auto;
        }

        .highlight-box {
            background: linear-gradient(135deg, #dbeafe, #bfdbfe);
            border: 1px solid #93c5fd;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            border-left: 5px solid #3b82f6;
        }

        .success-box {
            background: linear-gradient(135deg, #d1fae5, #a7f3d0);
            border: 1px solid #6ee7b7;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            border-left: 5px solid #10b981;
        }

        .warning-box {
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            border: 1px solid #f59e0b;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            border-left: 5px solid #f59e0b;
        }

        ul,
        ol {
            margin: 10px 0 10px 30px;
        }

        li {
            margin-bottom: 5px;
        }

        .emoji {
            font-size: 1.2em;
            margin-right: 5px;
        }

        .section-divider {
            height: 2px;
            background: linear-gradient(90deg, #3b82f6, #10b981);
            margin: 30px 0;
            border-radius: 1px;
        }

        .page-break {
            page-break-before: always;
        }

        .no-break {
            page-break-inside: avoid;
        }

        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 2px solid #e5e7eb;
            text-align: center;
            font-style: italic;
            color: #6b7280;
        }

        @media print {
            body {
                font-size: 11px;
            }

            .container {
                max-width: 100%;
                margin: 0;
                padding: 10px;
            }

            .code-block {
                font-size: 9px;
            }

            table {
                font-size: 10px;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <!-- HEADER -->
        <div class="header">
            <h1><span class="emoji">ğŸ¨</span> BÃO CÃO BUSINESS LOGIC - DEMOHOTEL19MAY</h1>
            <div class="metadata">
                <p><strong>ğŸ“Š PhÃ¢n tÃ­ch hoÃ n táº¥t:</strong> Multi-tenant SaaS Hotel Voice Assistant Platform</p>
                <p><strong>ğŸ“… NgÃ y láº­p bÃ¡o cÃ¡o:</strong> 2025-01-25</p>
                <p><strong>ğŸ”§ PhiÃªn báº£n:</strong> v2.0 (Modular Architecture)</p>
                <p><strong>âœ… TÃ¬nh tráº¡ng:</strong> Production Ready</p>
            </div>
        </div>

        <!-- TÃ“M Táº®T Tá»”NG QUAN -->
        <section class="no-break">
            <h2><span class="emoji">ğŸ“‹</span> TÃ“M Táº®T Tá»”NG QUAN</h2>

            <h3><span class="emoji">ğŸ¯</span> Platform Overview</h3>
            <div class="highlight-box">
                <p><strong>DemoHotel19May</strong> lÃ  má»™t <strong>multi-tenant SaaS platform</strong> tiÃªn tiáº¿n cho quáº£n
                    lÃ½ khÃ¡ch sáº¡n vá»›i <strong>AI voice assistant</strong>, Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ phá»¥c vá»¥ nhiá»u khÃ¡ch sáº¡n Ä‘á»“ng
                    thá»i vá»›i kiáº¿n trÃºc modular vÃ  kháº£ nÄƒng má»Ÿ rá»™ng cao.</p>
            </div>

            <h3><span class="emoji">ğŸ“Š</span> Key Metrics</h3>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Chá»‰ sá»‘</th>
                            <th>GiÃ¡ trá»‹</th>
                            <th>MÃ´ táº£</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Business Domains</strong></td>
                            <td>15 domains</td>
                            <td>3 stakeholders chÃ­nh</td>
                        </tr>
                        <tr>
                            <td><strong>Business Processes</strong></td>
                            <td>83+ processes</td>
                            <td>Tá»« voice interaction Ä‘áº¿n analytics</td>
                        </tr>
                        <tr>
                            <td><strong>Database Tables</strong></td>
                            <td>8 core tables</td>
                            <td>Multi-tenant vá»›i full isolation</td>
                        </tr>
                        <tr>
                            <td><strong>API Endpoints</strong></td>
                            <td>100+ endpoints</td>
                            <td>RESTful APIs vá»›i modular structure</td>
                        </tr>
                        <tr>
                            <td><strong>Supported Languages</strong></td>
                            <td>6 languages</td>
                            <td>EN, VI, FR, ZH, RU, KO</td>
                        </tr>
                        <tr>
                            <td><strong>Architecture Pattern</strong></td>
                            <td>Modular Monolith</td>
                            <td>4 core modules + ServiceContainer</td>
                        </tr>
                        <tr>
                            <td><strong>Authentication Methods</strong></td>
                            <td>4 methods</td>
                            <td>JWT, API Key, OAuth, Basic Auth</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <div class="section-divider"></div>

        <!-- KIáº¾N TRÃšC BUSINESS LOGIC -->
        <section class="page-break">
            <h2><span class="emoji">ğŸ—ï¸</span> KIáº¾N TRÃšC BUSINESS LOGIC</h2>

            <h3><span class="emoji">ğŸ“</span> Architecture Pattern: Modular Monolith</h3>
            <div class="architecture-diagram">
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ DemoHotel19May Platform â”‚
                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                â”‚ ğŸ­ PRESENTATION LAYER â”‚
                â”‚ â”œâ”€â”€ React Frontend (Multi-language UI) â”‚
                â”‚ â”œâ”€â”€ Voice Interface (Vapi.ai Integration) â”‚
                â”‚ â””â”€â”€ Admin Dashboard (Role-based) â”‚
                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                â”‚ ğŸ”— API GATEWAY LAYER â”‚
                â”‚ â”œâ”€â”€ Rate Limiting & Caching â”‚
                â”‚ â”œâ”€â”€ Authentication & Authorization â”‚
                â”‚ â”œâ”€â”€ Request Routing & Load Balancing â”‚
                â”‚ â””â”€â”€ API Documentation & Monitoring â”‚
                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                â”‚ ğŸ§© BUSINESS LOGIC LAYER (4 Core Modules) â”‚
                â”‚ â”œâ”€â”€ ğŸ¯ Request Module (Service Orders & Requests) â”‚
                â”‚ â”œâ”€â”€ ğŸ¢ Tenant Module (Multi-tenant Management) â”‚
                â”‚ â”œâ”€â”€ ğŸ“Š Analytics Module (Reporting & BI) â”‚
                â”‚ â””â”€â”€ ğŸ¤– Assistant Module (AI Voice Assistant) â”‚
                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                â”‚ ğŸ’¾ DATA ACCESS LAYER â”‚
                â”‚ â”œâ”€â”€ PostgreSQL (Production) / SQLite (Development) â”‚
                â”‚ â”œâ”€â”€ Drizzle ORM with Row-Level Security â”‚
                â”‚ â”œâ”€â”€ Automated Migrations & Backup Systems â”‚
                â”‚ â””â”€â”€ Performance Indexes & Query Optimization â”‚
                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                â”‚ ğŸ”Œ INTEGRATION LAYER â”‚
                â”‚ â”œâ”€â”€ Vapi.ai (Voice Assistant Platform) â”‚
                â”‚ â”œâ”€â”€ OpenAI (Conversation Processing) â”‚
                â”‚ â”œâ”€â”€ Google Places API (Hotel Research) â”‚
                â”‚ â””â”€â”€ Email Services (Notifications) â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            </div>

            <h3><span class="emoji">ğŸ”§</span> ServiceContainer Pattern</h3>
            <div class="code-block">
                // Dependency Injection vá»›i ServiceContainer
                export class ServiceContainer {
                register(name: string, service: any, options: ServiceOptions): void
                get&lt;T&gt;(serviceName: string): T
                resolve&lt;T&gt;(serviceName: string): Promise&lt;T&gt;
                isRegistered(serviceName: string): boolean
                }

                // Modules sá»­ dá»¥ng ServiceContainer
                const tenantService = ServiceContainer.get&lt;TenantService&gt;('TenantService');
                const requestController = await ServiceContainer.resolve('RequestController');
            </div>
        </section>

        <div class="section-divider"></div>

        <!-- BUSINESS DOMAINS & STAKEHOLDERS -->
        <section class="page-break">
            <h2><span class="emoji">ğŸ‘¥</span> BUSINESS DOMAINS & STAKEHOLDERS</h2>

            <h3><span class="emoji">ğŸ¯</span> 3 Primary Stakeholders</h3>

            <h4><span class="emoji">ğŸ‘¤</span> USER/GUEST (5 Domains - 29 Processes)</h4>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Domain</th>
                            <th>Processes</th>
                            <th>Core Functionality</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>ğŸ™ï¸ Voice Assistant</strong></td>
                            <td>9 processes</td>
                            <td>AI conversation, language selection, real-time</td>
                        </tr>
                        <tr>
                            <td><strong>ğŸ›ï¸ Service Ordering</strong></td>
                            <td>8 processes</td>
                            <td>Room service, housekeeping, concierge</td>
                        </tr>
                        <tr>
                            <td><strong>ğŸŒ Multi-language UI/UX</strong></td>
                            <td>7 processes</td>
                            <td>6 languages, localization, accessibility</td>
                        </tr>
                        <tr>
                            <td><strong>ğŸ“± Real-time Interface</strong></td>
                            <td>3 processes</td>
                            <td>Live updates, notifications, responsive UI</td>
                        </tr>
                        <tr>
                            <td><strong>ğŸ”” Notifications</strong></td>
                            <td>2 processes</td>
                            <td>Order status, system alerts</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h4><span class="emoji">ğŸ¨</span> HOTEL STAFF (7 Domains - 35 Processes)</h4>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Domain</th>
                            <th>Processes</th>
                            <th>Core Functionality</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>ğŸ” Authentication</strong></td>
                            <td>5 processes</td>
                            <td>RBAC, JWT tokens, role management</td>
                        </tr>
                        <tr>
                            <td><strong>ğŸ“Š Analytics Dashboard</strong></td>
                            <td>8 processes</td>
                            <td>KPIs, reporting, business intelligence</td>
                        </tr>
                        <tr>
                            <td><strong>ğŸ‘¥ Staff Management</strong></td>
                            <td>6 processes</td>
                            <td>User management, permissions, profiles</td>
                        </tr>
                        <tr>
                            <td><strong>ğŸ“ Call Management</strong></td>
                            <td>5 processes</td>
                            <td>Live calls, transcripts, summaries</td>
                        </tr>
                        <tr>
                            <td><strong>ğŸ¯ Request Management</strong></td>
                            <td>4 processes</td>
                            <td>Service requests, status updates, assignments</td>
                        </tr>
                        <tr>
                            <td><strong>ğŸ“§ Communication</strong></td>
                            <td>4 processes</td>
                            <td>Email notifications, internal messaging</td>
                        </tr>
                        <tr>
                            <td><strong>âš™ï¸ System Configuration</strong></td>
                            <td>3 processes</td>
                            <td>Settings, hotel profiles, assistant config</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h4><span class="emoji">ğŸ¢</span> SAAS PROVIDER (3 Domains - 19 Processes)</h4>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Domain</th>
                            <th>Processes</th>
                            <th>Core Functionality</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>ğŸ—ï¸ Multi-tenant Platform</strong></td>
                            <td>8 processes</td>
                            <td>Tenant isolation, subscription management</td>
                        </tr>
                        <tr>
                            <td><strong>ğŸ› ï¸ Infrastructure</strong></td>
                            <td>6 processes</td>
                            <td>Monitoring, scaling, deployment</td>
                        </tr>
                        <tr>
                            <td><strong>ğŸ“ˆ Business Intelligence</strong></td>
                            <td>5 processes</td>
                            <td>Platform analytics, performance metrics</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <div class="section-divider"></div>

        <!-- DATA MODEL & DATABASE SCHEMA -->
        <section class="page-break">
            <h2><span class="emoji">ğŸ—„ï¸</span> DATA MODEL & DATABASE SCHEMA</h2>

            <h3><span class="emoji">ğŸ“Š</span> Core Database Tables</h3>

            <h4><span class="emoji">ğŸ¢</span> Tenants Table (Multi-tenant Core)</h4>
            <div class="code-block">
                CREATE TABLE tenants (
                id TEXT PRIMARY KEY,
                hotel_name TEXT NOT NULL,
                subdomain TEXT UNIQUE NOT NULL,
                subscription_plan TEXT DEFAULT 'trial',
                subscription_status TEXT DEFAULT 'active',
                max_voices INTEGER DEFAULT 5,
                max_languages INTEGER DEFAULT 4,
                monthly_call_limit INTEGER DEFAULT 1000,
                -- SaaS Features
                voice_cloning BOOLEAN DEFAULT false,
                multi_location BOOLEAN DEFAULT false,
                white_label BOOLEAN DEFAULT false,
                data_retention_days INTEGER DEFAULT 90
                );
            </div>

            <h4><span class="emoji">ğŸ‘¥</span> Staff Table (Authentication & RBAC)</h4>
            <div class="code-block">
                CREATE TABLE staff (
                id TEXT PRIMARY KEY,
                tenant_id TEXT REFERENCES tenants(id),
                username TEXT NOT NULL,
                role TEXT DEFAULT 'front-desk', -- hotel-manager, front-desk, it-manager
                permissions TEXT DEFAULT '[]', -- JSON array
                is_active BOOLEAN DEFAULT true
                );
            </div>

            <h4><span class="emoji">ğŸ“</span> Call Table (Voice Assistant Data)</h4>
            <div class="code-block">
                CREATE TABLE call (
                id SERIAL PRIMARY KEY,
                tenant_id TEXT REFERENCES tenants(id),
                call_id_vapi TEXT UNIQUE NOT NULL,
                room_number TEXT,
                language TEXT, -- EN, VI, FR, ZH, RU, KO
                service_type TEXT,
                duration INTEGER,
                start_time TIMESTAMP,
                end_time TIMESTAMP
                );
            </div>

            <h4><span class="emoji">ğŸ›ï¸</span> Request Table (Service Orders)</h4>
            <div class="code-block">
                CREATE TABLE request (
                id SERIAL PRIMARY KEY,
                tenant_id TEXT REFERENCES tenants(id),
                call_id TEXT,
                room_number TEXT,
                request_content TEXT,
                status TEXT DEFAULT 'ÄÃ£ ghi nháº­n',
                priority TEXT DEFAULT 'medium',
                assigned_to TEXT
                );
            </div>

            <h3><span class="emoji">ğŸ”’</span> Tenant Isolation Strategy</h3>
            <div class="code-block">
                // Row-Level Security tá»± Ä‘á»™ng
                const getTenantData = async (tenantId: string) => {
                // Má»i query Ä‘á»u filter theo tenant_id
                return db.select()
                .from(table)
                .where(eq(table.tenant_id, tenantId));
                };

                // Middleware tá»± Ä‘á»™ng inject tenant
                export const tenantMiddleware = (req, res, next) => {
                const tenantId = extractTenantFromJWT(req.headers.authorization);
                req.tenant = { id: tenantId };
                next();
                };
            </div>
        </section>

        <div class="section-divider"></div>

        <!-- API STRUCTURE & ROUTES -->
        <section class="page-break">
            <h2><span class="emoji">ğŸŒ</span> API STRUCTURE & ROUTES</h2>

            <h3><span class="emoji">ğŸ—ï¸</span> Modular API Architecture</h3>
            <div class="code-block">
                /api/
                â”œâ”€â”€ ğŸ” auth/ # Authentication & Authorization
                â”‚ â”œâ”€â”€ POST /login # Staff login
                â”‚ â”œâ”€â”€ POST /refresh # Token refresh
                â”‚ â””â”€â”€ POST /logout # Logout
                â”œâ”€â”€ ğŸ¨ hotel/ # Hotel Module Routes
                â”‚ â”œâ”€â”€ GET /hotel-profile # Hotel configuration
                â”‚ â”œâ”€â”€ POST /requests # Create service request
                â”‚ â”œâ”€â”€ GET /requests # List requests (paginated)
                â”‚ â”œâ”€â”€ PATCH /requests/:id # Update request status
                â”‚ â”œâ”€â”€ GET /staff # Staff management
                â”‚ â””â”€â”€ POST /email/send # Email notifications
                â”œâ”€â”€ ğŸ¤– assistant/ # Voice Assistant Module
                â”‚ â”œâ”€â”€ POST /vapi/calls # Create voice call
                â”‚ â”œâ”€â”€ GET /calls/:id # Get call details
                â”‚ â”œâ”€â”€ POST /transcripts # Store transcripts
                â”‚ â””â”€â”€ GET /summaries # Call summaries
                â”œâ”€â”€ ğŸ“Š analytics/ # Analytics Module
                â”‚ â”œâ”€â”€ GET /dashboard # Dashboard metrics
                â”‚ â”œâ”€â”€ GET /calls/stats # Call statistics
                â”‚ â”œâ”€â”€ GET /requests/stats # Request statistics
                â”‚ â””â”€â”€ GET /reports/:type # Generate reports
                â”œâ”€â”€ ğŸ›ï¸ admin/ # Admin Module (SaaS Provider)
                â”‚ â”œâ”€â”€ GET /tenants # Tenant management
                â”‚ â”œâ”€â”€ POST /tenants # Create new tenant
                â”‚ â”œâ”€â”€ GET /platform/stats # Platform metrics
                â”‚ â””â”€â”€ GET /monitoring # System monitoring
                â””â”€â”€ ğŸ”§ core/ # Core Module
                â”œâ”€â”€ GET /health # Health check
                â”œâ”€â”€ GET /modules # Module status
                â””â”€â”€ GET /feature-flags # Feature flags
            </div>

            <h3><span class="emoji">ğŸ¯</span> Request/Response Patterns</h3>
            <div class="code-block">
                // Standardized API Response
                interface APIResponse&lt;T&gt; {
                success: boolean;
                data?: T;
                error?: string;
                metadata?: {
                tenant_id: string;
                timestamp: string;
                version: string;
                };
                }

                // Multi-tenant Request Pattern
                interface TenantRequest extends Request {
                tenant: {
                id: string;
                plan: string;
                limits: TenantLimits;
                };
                user?: AuthUser;
                }
            </div>
        </section>

        <div class="section-divider"></div>

        <!-- AUTHENTICATION & AUTHORIZATION -->
        <section class="page-break">
            <h2><span class="emoji">ğŸ”’</span> AUTHENTICATION & AUTHORIZATION</h2>

            <h3><span class="emoji">ğŸ­</span> Role-Based Access Control (RBAC)</h3>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Role</th>
                            <th>Hierarchy</th>
                            <th>Core Permissions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>hotel-manager</strong></td>
                            <td>Level 3</td>
                            <td>dashboard:edit, analytics:export, staff:manage, billing:view</td>
                        </tr>
                        <tr>
                            <td><strong>front-desk</strong></td>
                            <td>Level 2</td>
                            <td>dashboard:view, calls:join, guests:manage, requests:manage</td>
                        </tr>
                        <tr>
                            <td><strong>it-manager</strong></td>
                            <td>Level 1</td>
                            <td>system:monitor, api:manage, integrations:view, logs:view</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3><span class="emoji">ğŸ”</span> Multi-layer Authentication</h3>
            <div class="code-block">
                // JWT + Tenant-aware Authentication
                class UnifiedAuthService {
                async authenticateUser(credentials: LoginCredentials): Promise&lt;AuthResult&gt; {
                // 1. Validate credentials
                const user = await this.validateCredentials(credentials);

                // 2. Check tenant access
                const tenant = await this.validateTenantAccess(user.tenant_id);

                // 3. Generate JWT with tenant context
                const token = await this.generateJWT({
                user_id: user.id,
                tenant_id: user.tenant_id,
                role: user.role,
                permissions: user.permissions
                });

                return { token, user, tenant };
                }
                }
            </div>
        </section>

        <div class="section-divider"></div>

        <!-- VOICE ASSISTANT INTEGRATION -->
        <section class="page-break">
            <h2><span class="emoji">ğŸ™ï¸</span> VOICE ASSISTANT INTEGRATION</h2>

            <h3><span class="emoji">ğŸ¤–</span> Multi-language Support</h3>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Language</th>
                            <th>Code</th>
                            <th>Voice Model</th>
                            <th>Assistant ID</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>English</td>
                            <td>EN</td>
                            <td>jennifer</td>
                            <td>asst_en_xxx</td>
                        </tr>
                        <tr>
                            <td>Vietnamese</td>
                            <td>VI</td>
                            <td>vi-VN-HoaiMyNeural</td>
                            <td>asst_vi_xxx</td>
                        </tr>
                        <tr>
                            <td>French</td>
                            <td>FR</td>
                            <td>fr-FR-DeniseNeural</td>
                            <td>asst_fr_xxx</td>
                        </tr>
                        <tr>
                            <td>Chinese</td>
                            <td>ZH</td>
                            <td>zh-CN-XiaoxiaoNeural</td>
                            <td>asst_zh_xxx</td>
                        </tr>
                        <tr>
                            <td>Russian</td>
                            <td>RU</td>
                            <td>ru-RU-SvetlanaNeural</td>
                            <td>asst_ru_xxx</td>
                        </tr>
                        <tr>
                            <td>Korean</td>
                            <td>KO</td>
                            <td>ko-KR-SunHiNeural</td>
                            <td>asst_ko_xxx</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3><span class="emoji">ğŸ¯</span> Conversation Processing Workflow</h3>
            <div class="highlight-box">
                <ol>
                    <li><strong>Voice Call Initiation:</strong> Guest clicks Siri button â†’ Language selection â†’ Vapi
                        initialization</li>
                    <li><strong>Real-time Processing:</strong> Audio streaming â†’ Transcript generation â†’ Service
                        extraction</li>
                    <li><strong>OpenAI Analysis:</strong> Conversation summary â†’ Service requests â†’ Order creation</li>
                    <li><strong>Staff Notification:</strong> Real-time alerts â†’ Task assignment â†’ Status tracking</li>
                    <li><strong>Analytics Update:</strong> Metrics collection â†’ Performance tracking â†’ BI insights</li>
                </ol>
            </div>
        </section>

        <div class="section-divider"></div>

        <!-- BUSINESS INTELLIGENCE & ANALYTICS -->
        <section class="page-break">
            <h2><span class="emoji">ğŸ“Š</span> BUSINESS INTELLIGENCE & ANALYTICS</h2>

            <h3><span class="emoji">ğŸ“ˆ</span> Key Performance Indicators (KPIs)</h3>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Category</th>
                            <th>Metrics</th>
                            <th>Business Impact</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Voice Assistant</strong></td>
                            <td>Total calls, Duration, Success rate, Language distribution</td>
                            <td>Guest satisfaction, Service efficiency</td>
                        </tr>
                        <tr>
                            <td><strong>Service Requests</strong></td>
                            <td>Completion rate, Response time, Staff performance</td>
                            <td>Operational efficiency, Revenue optimization</td>
                        </tr>
                        <tr>
                            <td><strong>Business Intelligence</strong></td>
                            <td>Revenue impact, Satisfaction score, Cost savings</td>
                            <td>Strategic decisions, Growth planning</td>
                        </tr>
                        <tr>
                            <td><strong>Real-time Metrics</strong></td>
                            <td>Active calls, Pending requests, System health</td>
                            <td>Immediate responsiveness, Issue prevention</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3><span class="emoji">ğŸ”</span> Advanced Analytics Capabilities</h3>
            <div class="highlight-box">
                <ul>
                    <li><strong>Predictive Analytics:</strong> Call volume forecasting, Staffing optimization, Service
                        demand prediction</li>
                    <li><strong>Performance Analysis:</strong> Efficiency metrics, Quality scoring, Customer
                        satisfaction tracking</li>
                    <li><strong>Business Insights:</strong> Revenue optimization, Operational improvements, Customer
                        experience enhancements</li>
                    <li><strong>Benchmarking:</strong> Industry comparison, Competitor analysis, Best practices
                        identification</li>
                </ul>
            </div>
        </section>

        <div class="section-divider"></div>

        <!-- IMPLEMENTATION STATUS -->
        <section class="page-break">
            <h2><span class="emoji">âœ…</span> IMPLEMENTATION STATUS</h2>

            <div class="success-box">
                <h3><span class="emoji">ğŸ¯</span> Production Readiness Assessment</h3>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Domain Category</th>
                                <th>Status</th>
                                <th>Coverage</th>
                                <th>Production Ready</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Multi-tenant Architecture</strong></td>
                                <td>âœ… Complete</td>
                                <td>100%</td>
                                <td>âœ… Yes</td>
                            </tr>
                            <tr>
                                <td><strong>Voice Assistant Integration</strong></td>
                                <td>âœ… Complete</td>
                                <td>100%</td>
                                <td>âœ… Yes</td>
                            </tr>
                            <tr>
                                <td><strong>Service Request Management</strong></td>
                                <td>âœ… Complete</td>
                                <td>100%</td>
                                <td>âœ… Yes</td>
                            </tr>
                            <tr>
                                <td><strong>Analytics & Reporting</strong></td>
                                <td>âœ… Complete</td>
                                <td>100%</td>
                                <td>âœ… Yes</td>
                            </tr>
                            <tr>
                                <td><strong>Authentication & RBAC</strong></td>
                                <td>âœ… Complete</td>
                                <td>100%</td>
                                <td>âœ… Yes</td>
                            </tr>
                            <tr>
                                <td><strong>API Gateway & Security</strong></td>
                                <td>âœ… Complete</td>
                                <td>100%</td>
                                <td>âœ… Yes</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <h3><span class="emoji">ğŸª</span> Business Value Proposition</h3>
            <div class="highlight-box">
                <p><strong>DemoHotel19May</strong> delivers a <strong>complete SaaS ecosystem</strong> cho hotel
                    management vá»›i:</p>
                <ul>
                    <li><strong>ğŸ’° Revenue Growth:</strong> AI voice assistant tÄƒng guest satisfaction vÃ  cross-selling
                    </li>
                    <li><strong>âš¡ Operational Efficiency:</strong> Automated request management vÃ  real-time
                        coordination</li>
                    <li><strong>ğŸ“Š Data-Driven Insights:</strong> Advanced analytics cho business optimization</li>
                    <li><strong>ğŸŒ Global Reach:</strong> Multi-language support cho international hotels</li>
                    <li><strong>ğŸ”’ Enterprise Grade:</strong> Security, compliance vÃ  scalability standards</li>
                    <li><strong>ğŸš€ Future-Proof:</strong> Modular architecture cÃ³ thá»ƒ evolve theo business needs</li>
                </ul>
            </div>
        </section>

        <div class="section-divider"></div>

        <!-- FUTURE ROADMAP -->
        <section class="page-break">
            <h2><span class="emoji">ğŸ”®</span> FUTURE ROADMAP & EXTENSIBILITY</h2>

            <h3><span class="emoji">ğŸ›£ï¸</span> Evolution Path: Monolith â†’ Microservices</h3>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Phase</th>
                            <th>Target Service</th>
                            <th>Timeline</th>
                            <th>Scope</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Phase 1</strong></td>
                            <td>Assistant Service</td>
                            <td>Q2 2025</td>
                            <td>Vapi integration, OpenAI processing, Voice analytics</td>
                        </tr>
                        <tr>
                            <td><strong>Phase 2</strong></td>
                            <td>Analytics Service</td>
                            <td>Q3 2025</td>
                            <td>Reporting engine, Business intelligence, Real-time metrics</td>
                        </tr>
                        <tr>
                            <td><strong>Phase 3</strong></td>
                            <td>Tenant Service</td>
                            <td>Q4 2025</td>
                            <td>Multi-tenant management, Subscription handling, Billing</td>
                        </tr>
                        <tr>
                            <td><strong>Phase 4</strong></td>
                            <td>Request Service</td>
                            <td>Q1 2026</td>
                            <td>Service requests, Order management, Staff coordination</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3><span class="emoji">ğŸ¯</span> Extensibility Features</h3>
            <div class="highlight-box">
                <ul>
                    <li><strong>Plugin Architecture:</strong> Custom integrations, workflows, analytics, UI components
                    </li>
                    <li><strong>Feature Flag System:</strong> A/B testing, gradual rollouts, tenant-specific features
                    </li>
                    <li><strong>API Extensions:</strong> Custom endpoints, data models, business rules</li>
                    <li><strong>Third-party Integrations:</strong> PMS systems, Payment gateways, CRM platforms</li>
                </ul>
            </div>
        </section>

        <!-- FOOTER -->
        <div class="footer">
            <p><strong>ğŸ“… BÃ¡o cÃ¡o Ä‘Æ°á»£c táº¡o:</strong> 2025-01-25</p>
            <p><strong>ğŸ—ï¸ Architecture:</strong> Modular Monolith â†’ Microservices Ready</p>
            <p><strong>ğŸ¤– Core Business:</strong> AI Voice Assistant + Hotel Management SaaS</p>
            <p><strong>ğŸŒŸ Status:</strong> Production Ready vá»›i comprehensive business logic implementation</p>
        </div>
    </div>
</body>

</html>