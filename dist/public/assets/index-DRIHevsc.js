const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CallHistory-DsMvXhUy.js","assets/ui-vendor-1kcJNA4J.js","assets/react-vendor-B4XlsiuD.js","assets/useQuery-CjCdtucu.js","assets/utility-vendor-XCGKcYu0.js","assets/voice-vendor-D4GD1w0m.js","assets/chart-vendor-DrBy8eit.js","assets/CallDetails-Dc38BZl7.js"])))=>i.map(i=>d[i]);
import{j as e,c as Mt,a as ed,u as He,B as td,P as ye,b as cn,d as Xt,e as Ce,f as Ke,V as ir,R as sd,g as nd,h as bs,i as ad,k as rr,l as id,S as rd,m as lr,n as or,o as ld,C as cr,I as dr,p as hr,q as ur,r as mr,L as xr,s as pr,t as od,T as cd,v as fr,w as dd,x as gr,y as vr,z as hd,A as jr,D as ud,E as yr,F as br,G as md,H as xd,J as wr,K as pd,M as fd,N as Nr,O as Sr,Q as Cr,U as gd,W as vd,X as jd,Y as ra,Z as _r,_ as la,$ as oa,a0 as ca,a1 as da,a2 as kr,a3 as Tr,a4 as yd,a5 as bd,a6 as wd}from"./ui-vendor-1kcJNA4J.js";import{a as Er,r as h,c as Nd,R as xe,b as si,u as Ar,B as Sd}from"./react-vendor-B4XlsiuD.js";import{c as Pr,t as Cd,j as ni}from"./utility-vendor-XCGKcYu0.js";import{_ as _d}from"./voice-vendor-D4GD1w0m.js";import{R as mt,P as Bn,a as qn,C as Hn,T as xt,B as Ir,b as es,X as ts,Y as ss,L as ai,c as Mr,d as ha,e as vs,A as kd,f as Td}from"./chart-vendor-DrBy8eit.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();var Lr,ii=Er;Lr=ii.createRoot,ii.hydrateRoot;const Ed="modulepreload",Ad=function(t){return"/"+t},ri={},Dr=function(s,n,a){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=l?.nonce||l?.getAttribute("nonce");i=Promise.allSettled(n.map(c=>{if(c=Ad(c),c in ri)return;ri[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":Ed,d||(m.as="script"),m.crossOrigin="",m.href=c,o&&m.setAttribute("nonce",o),document.head.appendChild(m),d)return new Promise((x,f)=>{m.addEventListener("load",x),m.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function r(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return i.then(l=>{for(const o of l||[])o.status==="rejected"&&r(o.reason);return s().catch(r)})};class Pd extends h.Component{constructor(s){super(s),this.state={hasError:!1,error:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,n){console.error("Uncaught error in component tree:",s,n)}render(){return this.state.hasError?e.jsx("div",{className:"flex items-center justify-center h-screen p-4 bg-gray-50",children:e.jsxs("div",{className:"max-w-md text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-2",children:"Something went wrong."}),e.jsx("p",{className:"text-gray-700 mb-4",children:"An unexpected error occurred. Please try refreshing the page or contact support if the problem persists."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Reload Page"})]})}):this.props.children}}function Id(t,s){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,a,i,r,l=[],o="",c=t.split("/");for(c[0]||c.shift();i=c.shift();)n=i[0],n==="*"?(l.push(n),o+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(a=i.indexOf("?",1),r=i.indexOf(".",1),l.push(i.substring(1,~a?a:~r?r:i.length)),o+=~a&&!~r?"(?:/([^/]+?))?":"/([^/]+?)",~r&&(o+=(~a?"?":"")+"\\"+i.substring(r))):o+="/"+i;return{keys:l,pattern:new RegExp("^"+o+(s?"(?=$|/)":"/?$"),"i")}}var Rr={exports:{}},$r={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rs=h;function Md(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Ld=typeof Object.is=="function"?Object.is:Md,Dd=rs.useState,Rd=rs.useEffect,$d=rs.useLayoutEffect,Fd=rs.useDebugValue;function Od(t,s){var n=s(),a=Dd({inst:{value:n,getSnapshot:s}}),i=a[0].inst,r=a[1];return $d(function(){i.value=n,i.getSnapshot=s,Sn(i)&&r({inst:i})},[t,n,s]),Rd(function(){return Sn(i)&&r({inst:i}),t(function(){Sn(i)&&r({inst:i})})},[t]),Fd(n),n}function Sn(t){var s=t.getSnapshot;t=t.value;try{var n=s();return!Ld(t,n)}catch{return!0}}function zd(t,s){return s()}var Bd=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?zd:Od;$r.useSyncExternalStore=rs.useSyncExternalStore!==void 0?rs.useSyncExternalStore:Bd;Rr.exports=$r;var Fr=Rr.exports;const qd=Nd.useInsertionEffect,Hd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vd=Hd?h.useLayoutEffect:h.useEffect,Gd=qd||Vd,Or=t=>{const s=h.useRef([t,(...n)=>s[0](...n)]).current;return Gd(()=>{s[0]=t}),s[1]},Ud="popstate",ua="pushState",ma="replaceState",Wd="hashchange",li=[Ud,ua,ma,Wd],Kd=t=>{for(const s of li)addEventListener(s,t);return()=>{for(const s of li)removeEventListener(s,t)}},zr=(t,s)=>Fr.useSyncExternalStore(Kd,t,s),Xd=()=>location.search,Qd=({ssrSearch:t=""}={})=>zr(Xd,()=>t),oi=()=>location.pathname,Yd=({ssrPath:t}={})=>zr(oi,t?()=>t:oi),Zd=(t,{replace:s=!1,state:n=null}={})=>history[s?ma:ua](n,"",t),Jd=(t={})=>[Yd(t),Zd],ci=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[ci]>"u"){for(const t of[ua,ma]){const s=history[t];history[t]=function(){const n=s.apply(this,arguments),a=new Event(t);return a.arguments=arguments,dispatchEvent(a),n}}Object.defineProperty(window,ci,{value:!0})}const eh=(t,s)=>s.toLowerCase().indexOf(t.toLowerCase())?"~"+s:s.slice(t.length)||"/",Br=(t="")=>t==="/"?"":t,th=(t,s)=>t[0]==="~"?t.slice(1):Br(s)+t,sh=(t="",s)=>eh(di(Br(t)),di(s)),di=t=>{try{return decodeURI(t)}catch{return t}},qr={hook:Jd,searchHook:Qd,parser:Id,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},Hr=h.createContext(qr),As=()=>h.useContext(Hr),Vr={},Gr=h.createContext(Vr),nh=()=>h.useContext(Gr),dn=t=>{const[s,n]=t.hook(t);return[sh(t.base,s),Or((a,i)=>n(th(a,t.base),i))]},Qt=()=>dn(As()),Ur=(t,s,n,a)=>{const{pattern:i,keys:r}=s instanceof RegExp?{keys:!1,pattern:s}:t(s||"*",a),l=i.exec(n)||[],[o,...c]=l;return o!==void 0?[!0,(()=>{const d=r!==!1?Object.fromEntries(r.map((m,x)=>[m,c[x]])):l.groups;let u={...c};return d&&Object.assign(u,d),u})(),...a?[o]:[]]:[!1,null]},ah=({children:t,...s})=>{const n=As(),a=s.hook?qr:n;let i=a;const[r,l]=s.ssrPath?.split("?")??[];l&&(s.ssrSearch=l,s.ssrPath=r),s.hrefs=s.hrefs??s.hook?.hrefs;let o=h.useRef({}),c=o.current,d=c;for(let u in a){const m=u==="base"?a[u]+(s[u]||""):s[u]||a[u];c===d&&m!==d[u]&&(o.current=d={...d}),d[u]=m,m!==a[u]&&(i=d)}return h.createElement(Hr.Provider,{value:i,children:t})},hi=({children:t,component:s},n)=>s?h.createElement(s,{params:n}):typeof t=="function"?t(n):t,ih=t=>{let s=h.useRef(Vr);const n=s.current;return s.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([a,i])=>i!==n[a])?t:n},fe=({path:t,nest:s,match:n,...a})=>{const i=As(),[r]=dn(i),[l,o,c]=n??Ur(i.parser,t,r,s),d=ih({...nh(),...o});if(!l)return null;const u=c?h.createElement(ah,{base:c},hi(a,d)):hi(a,d);return h.createElement(Gr.Provider,{value:d,children:u})},ke=h.forwardRef((t,s)=>{const n=As(),[a,i]=dn(n),{to:r="",href:l=r,onClick:o,asChild:c,children:d,className:u,replace:m,state:x,...f}=t,p=Or(y=>{y.ctrlKey||y.metaKey||y.altKey||y.shiftKey||y.button!==0||(o?.(y),y.defaultPrevented||(y.preventDefault(),i(l,t)))}),g=n.hrefs(l[0]==="~"?l.slice(1):n.base+l,n);return c&&h.isValidElement(d)?h.cloneElement(d,{onClick:p,href:g}):h.createElement("a",{...f,onClick:p,href:g,className:u?.call?u(a===l):u,children:d,ref:s})}),Wr=t=>Array.isArray(t)?t.flatMap(s=>Wr(s&&s.type===h.Fragment?s.props.children:s)):[t],rh=({children:t,location:s})=>{const n=As(),[a]=dn(n);for(const i of Wr(t)){let r=0;if(h.isValidElement(i)&&(r=Ur(n.parser,i.props.path,s||a,i.props.nest))[0])return h.cloneElement(i,{match:r})}return null},lh=1,oh=1e6;let Cn=0;function ch(){return Cn=(Cn+1)%Number.MAX_SAFE_INTEGER,Cn.toString()}const _n=new Map,ui=t=>{if(_n.has(t))return;const s=setTimeout(()=>{_n.delete(t),js({type:"REMOVE_TOAST",toastId:t})},oh);_n.set(t,s)},dh=(t,s)=>{switch(s.type){case"ADD_TOAST":return{...t,toasts:[s.toast,...t.toasts].slice(0,lh)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===s.toast.id?{...n,...s.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=s;return n?ui(n):t.toasts.forEach(a=>{ui(a.id)}),{...t,toasts:t.toasts.map(a=>a.id===n||n===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==s.toastId)}}},Gs=[];let Us={toasts:[]};function js(t){Us=dh(Us,t),Gs.forEach(s=>{s(Us)})}function hh({...t}){const s=ch(),n=i=>js({type:"UPDATE_TOAST",toast:{...i,id:s}}),a=()=>js({type:"DISMISS_TOAST",toastId:s});return js({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:i=>{i||a()}}}),{id:s,dismiss:a,update:n}}function uh(){const[t,s]=h.useState(Us);return h.useEffect(()=>(Gs.push(s),()=>{const n=Gs.indexOf(s);n>-1&&Gs.splice(n,1)}),[t]),{...t,toast:hh,dismiss:n=>js({type:"DISMISS_TOAST",toastId:n})}}var xa="ToastProvider",[pa,mh,xh]=ed("Toast"),[Kr,nS]=Mt("Toast",[xh]),[ph,hn]=Kr(xa),Xr=t=>{const{__scopeToast:s,label:n="Notification",duration:a=5e3,swipeDirection:i="right",swipeThreshold:r=50,children:l}=t,[o,c]=h.useState(null),[d,u]=h.useState(0),m=h.useRef(!1),x=h.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${xa}\`. Expected non-empty \`string\`.`),e.jsx(pa.Provider,{scope:s,children:e.jsx(ph,{scope:s,label:n,duration:a,swipeDirection:i,swipeThreshold:r,toastCount:d,viewport:o,onViewportChange:c,onToastAdd:h.useCallback(()=>u(f=>f+1),[]),onToastRemove:h.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:x,children:l})})};Xr.displayName=xa;var Qr="ToastViewport",fh=["F8"],Vn="toast.viewportPause",Gn="toast.viewportResume",Yr=h.forwardRef((t,s)=>{const{__scopeToast:n,hotkey:a=fh,label:i="Notifications ({hotkey})",...r}=t,l=hn(Qr,n),o=mh(n),c=h.useRef(null),d=h.useRef(null),u=h.useRef(null),m=h.useRef(null),x=He(s,m,l.onViewportChange),f=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=l.toastCount>0;h.useEffect(()=>{const y=j=>{a.length!==0&&a.every(b=>j[b]||j.code===b)&&m.current?.focus()};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[a]),h.useEffect(()=>{const y=c.current,j=m.current;if(p&&y&&j){const v=()=>{if(!l.isClosePausedRef.current){const k=new CustomEvent(Vn);j.dispatchEvent(k),l.isClosePausedRef.current=!0}},b=()=>{if(l.isClosePausedRef.current){const k=new CustomEvent(Gn);j.dispatchEvent(k),l.isClosePausedRef.current=!1}},w=k=>{!y.contains(k.relatedTarget)&&b()},C=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",v),y.addEventListener("focusout",w),y.addEventListener("pointermove",v),y.addEventListener("pointerleave",C),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",v),y.removeEventListener("focusout",w),y.removeEventListener("pointermove",v),y.removeEventListener("pointerleave",C),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[p,l.isClosePausedRef]);const g=h.useCallback(({tabbingDirection:y})=>{const v=o().map(b=>{const w=b.ref.current,C=[w,...Eh(w)];return y==="forwards"?C:C.reverse()});return(y==="forwards"?v.reverse():v).flat()},[o]);return h.useEffect(()=>{const y=m.current;if(y){const j=v=>{const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const C=document.activeElement,k=v.shiftKey;if(v.target===y&&k){d.current?.focus();return}const A=g({tabbingDirection:k?"backwards":"forwards"}),_=A.findIndex(S=>S===C);kn(A.slice(_+1))?v.preventDefault():k?d.current?.focus():u.current?.focus()}};return y.addEventListener("keydown",j),()=>y.removeEventListener("keydown",j)}},[o,g]),e.jsxs(td,{ref:c,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&e.jsx(Un,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});kn(y)}}),e.jsx(pa.Slot,{scope:n,children:e.jsx(ye.ol,{tabIndex:-1,...r,ref:x})}),p&&e.jsx(Un,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});kn(y)}})]})});Yr.displayName=Qr;var Zr="ToastFocusProxy",Un=h.forwardRef((t,s)=>{const{__scopeToast:n,onFocusFromOutsideViewport:a,...i}=t,r=hn(Zr,n);return e.jsx(ir,{"aria-hidden":!0,tabIndex:0,...i,ref:s,style:{position:"fixed"},onFocus:l=>{const o=l.relatedTarget;!r.viewport?.contains(o)&&a()}})});Un.displayName=Zr;var Ps="Toast",gh="toast.swipeStart",vh="toast.swipeMove",jh="toast.swipeCancel",yh="toast.swipeEnd",Jr=h.forwardRef((t,s)=>{const{forceMount:n,open:a,defaultOpen:i,onOpenChange:r,...l}=t,[o,c]=cn({prop:a,defaultProp:i??!0,onChange:r,caller:Ps});return e.jsx(Xt,{present:n||o,children:e.jsx(Nh,{open:o,...l,ref:s,onClose:()=>c(!1),onPause:Ke(t.onPause),onResume:Ke(t.onResume),onSwipeStart:Ce(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ce(t.onSwipeMove,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:Ce(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ce(t.onSwipeEnd,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});Jr.displayName=Ps;var[bh,wh]=Kr(Ps,{onClose(){}}),Nh=h.forwardRef((t,s)=>{const{__scopeToast:n,type:a="foreground",duration:i,open:r,onClose:l,onEscapeKeyDown:o,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:m,onSwipeCancel:x,onSwipeEnd:f,...p}=t,g=hn(Ps,n),[y,j]=h.useState(null),v=He(s,$=>j($)),b=h.useRef(null),w=h.useRef(null),C=i||g.duration,k=h.useRef(0),B=h.useRef(C),F=h.useRef(0),{onToastAdd:A,onToastRemove:_}=g,S=Ke(()=>{y?.contains(document.activeElement)&&g.viewport?.focus(),l()}),N=h.useCallback($=>{!$||$===1/0||(window.clearTimeout(F.current),k.current=new Date().getTime(),F.current=window.setTimeout(S,$))},[S]);h.useEffect(()=>{const $=g.viewport;if($){const O=()=>{N(B.current),d?.()},R=()=>{const T=new Date().getTime()-k.current;B.current=B.current-T,window.clearTimeout(F.current),c?.()};return $.addEventListener(Vn,R),$.addEventListener(Gn,O),()=>{$.removeEventListener(Vn,R),$.removeEventListener(Gn,O)}}},[g.viewport,C,c,d,N]),h.useEffect(()=>{r&&!g.isClosePausedRef.current&&N(C)},[r,C,g.isClosePausedRef,N]),h.useEffect(()=>(A(),()=>_()),[A,_]);const z=h.useMemo(()=>y?rl(y):null,[y]);return g.viewport?e.jsxs(e.Fragment,{children:[z&&e.jsx(Sh,{__scopeToast:n,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:z}),e.jsx(bh,{scope:n,onClose:S,children:Er.createPortal(e.jsx(pa.ItemSlot,{scope:n,children:e.jsx(sd,{asChild:!0,onEscapeKeyDown:Ce(o,()=>{g.isFocusedToastEscapeKeyDownRef.current||S(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(ye.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":r?"open":"closed","data-swipe-direction":g.swipeDirection,...p,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ce(t.onKeyDown,$=>{$.key==="Escape"&&(o?.($.nativeEvent),$.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,S()))}),onPointerDown:Ce(t.onPointerDown,$=>{$.button===0&&(b.current={x:$.clientX,y:$.clientY})}),onPointerMove:Ce(t.onPointerMove,$=>{if(!b.current)return;const O=$.clientX-b.current.x,R=$.clientY-b.current.y,T=!!w.current,P=["left","right"].includes(g.swipeDirection),W=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,ee=P?W(0,O):0,Se=P?0:W(0,R),ae=$.pointerType==="touch"?10:2,de={x:ee,y:Se},U={originalEvent:$,delta:de};T?(w.current=de,Rs(vh,m,U,{discrete:!1})):mi(de,g.swipeDirection,ae)?(w.current=de,Rs(gh,u,U,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(O)>ae||Math.abs(R)>ae)&&(b.current=null)}),onPointerUp:Ce(t.onPointerUp,$=>{const O=w.current,R=$.target;if(R.hasPointerCapture($.pointerId)&&R.releasePointerCapture($.pointerId),w.current=null,b.current=null,O){const T=$.currentTarget,P={originalEvent:$,delta:O};mi(O,g.swipeDirection,g.swipeThreshold)?Rs(yh,f,P,{discrete:!0}):Rs(jh,x,P,{discrete:!0}),T.addEventListener("click",W=>W.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),Sh=t=>{const{__scopeToast:s,children:n,...a}=t,i=hn(Ps,s),[r,l]=h.useState(!1),[o,c]=h.useState(!1);return kh(()=>l(!0)),h.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),o?null:e.jsx(nd,{asChild:!0,children:e.jsx(ir,{...a,children:r&&e.jsxs(e.Fragment,{children:[i.label," ",n]})})})},Ch="ToastTitle",el=h.forwardRef((t,s)=>{const{__scopeToast:n,...a}=t;return e.jsx(ye.div,{...a,ref:s})});el.displayName=Ch;var _h="ToastDescription",tl=h.forwardRef((t,s)=>{const{__scopeToast:n,...a}=t;return e.jsx(ye.div,{...a,ref:s})});tl.displayName=_h;var sl="ToastAction",nl=h.forwardRef((t,s)=>{const{altText:n,...a}=t;return n.trim()?e.jsx(il,{altText:n,asChild:!0,children:e.jsx(fa,{...a,ref:s})}):(console.error(`Invalid prop \`altText\` supplied to \`${sl}\`. Expected non-empty \`string\`.`),null)});nl.displayName=sl;var al="ToastClose",fa=h.forwardRef((t,s)=>{const{__scopeToast:n,...a}=t,i=wh(al,n);return e.jsx(il,{asChild:!0,children:e.jsx(ye.button,{type:"button",...a,ref:s,onClick:Ce(t.onClick,i.onClose)})})});fa.displayName=al;var il=h.forwardRef((t,s)=>{const{__scopeToast:n,altText:a,...i}=t;return e.jsx(ye.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...i,ref:s})});function rl(t){const s=[];return Array.from(t.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&s.push(a.textContent),Th(a)){const i=a.ariaHidden||a.hidden||a.style.display==="none",r=a.dataset.radixToastAnnounceExclude==="";if(!i)if(r){const l=a.dataset.radixToastAnnounceAlt;l&&s.push(l)}else s.push(...rl(a))}}),s}function Rs(t,s,n,{discrete:a}){const i=n.originalEvent.currentTarget,r=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});s&&i.addEventListener(t,s,{once:!0}),a?ad(i,r):i.dispatchEvent(r)}var mi=(t,s,n=0)=>{const a=Math.abs(t.x),i=Math.abs(t.y),r=a>i;return s==="left"||s==="right"?r&&a>n:!r&&i>n};function kh(t=()=>{}){const s=Ke(t);bs(()=>{let n=0,a=0;return n=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(s)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(a)}},[s])}function Th(t){return t.nodeType===t.ELEMENT_NODE}function Eh(t){const s=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const i=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||i?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)s.push(n.currentNode);return s}function kn(t){const s=document.activeElement;return t.some(n=>n===s?!0:(n.focus(),document.activeElement!==s))}var Ah=Xr,ll=Yr,ol=Jr,cl=el,dl=tl,hl=nl,ul=fa;const xi=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,pi=Pr,ds=(t,s)=>n=>{var a;if(s?.variants==null)return pi(t,n?.class,n?.className);const{variants:i,defaultVariants:r}=s,l=Object.keys(i).map(d=>{const u=n?.[d],m=r?.[d];if(u===null)return null;const x=xi(u)||xi(m);return i[d][x]}),o=n&&Object.entries(n).reduce((d,u)=>{let[m,x]=u;return x===void 0||(d[m]=x),d},{}),c=s==null||(a=s.compoundVariants)===null||a===void 0?void 0:a.reduce((d,u)=>{let{class:m,className:x,...f}=u;return Object.entries(f).every(p=>{let[g,y]=p;return Array.isArray(y)?y.includes({...r,...o}[g]):{...r,...o}[g]===y})?[...d,m,x]:d},[]);return pi(t,l,c,n?.class,n?.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ml=(...t)=>t.filter((s,n,a)=>!!s&&a.indexOf(s)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ih={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=h.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:i="",children:r,iconNode:l,...o},c)=>h.createElement("svg",{ref:c,...Ih,width:s,height:s,stroke:t,strokeWidth:a?Number(n)*24/Number(s):n,className:ml("lucide",i),...o},[...l.map(([d,u])=>h.createElement(d,u)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=(t,s)=>{const n=h.forwardRef(({className:a,...i},r)=>h.createElement(Mh,{ref:r,iconNode:s,className:ml(`lucide-${Ph(t)}`,a),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=X("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=X("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=X("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=X("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=X("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=X("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=X("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=X("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=X("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=X("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=X("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=X("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=X("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=X("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=X("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=X("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=X("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=X("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=X("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=X("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=X("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=X("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=X("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=X("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=X("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=X("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=X("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=X("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=X("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=X("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=X("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=X("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=X("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=X("Hotel",[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=X("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=X("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=X("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=X("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=X("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=X("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=X("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=X("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=X("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=X("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=X("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=X("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=X("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=X("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=X("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=X("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=X("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=X("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=X("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=X("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=X("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=X("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=X("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=X("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=X("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=X("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=X("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=X("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=X("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=X("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=X("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=X("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=X("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=X("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=X("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=X("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=X("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=X("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=X("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=X("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=X("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=X("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=X("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function D(...t){return Cd(Pr(t))}const Xh=Ah,bl=h.forwardRef(({className:t,...s},n)=>e.jsx(ll,{ref:n,className:D("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...s}));bl.displayName=ll.displayName;const Qh=ds("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-dark",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),wl=h.forwardRef(({className:t,variant:s,...n},a)=>e.jsx(ol,{ref:a,className:D(Qh({variant:s}),t),...n}));wl.displayName=ol.displayName;const Yh=h.forwardRef(({className:t,...s},n)=>e.jsx(hl,{ref:n,className:D("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...s}));Yh.displayName=hl.displayName;const Nl=h.forwardRef(({className:t,...s},n)=>e.jsx(ul,{ref:n,className:D("absolute right-2 top-2 rounded-md p-1 text-dark/50 opacity-0 transition-opacity hover:text-dark focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...s,children:e.jsx(ms,{className:"h-4 w-4"})}));Nl.displayName=ul.displayName;const Sl=h.forwardRef(({className:t,...s},n)=>e.jsx(cl,{ref:n,className:D("text-sm font-semibold",t),...s}));Sl.displayName=cl.displayName;const Cl=h.forwardRef(({className:t,...s},n)=>e.jsx(dl,{ref:n,className:D("text-sm opacity-90",t),...s}));Cl.displayName=dl.displayName;function Zh(){const{toasts:t}=uh();return e.jsxs(Xh,{children:[t.map(function({id:s,title:n,description:a,action:i,...r}){return e.jsxs(wl,{...r,children:[e.jsxs("div",{className:"grid gap-1",children:[n&&e.jsx(Sl,{children:n}),a&&e.jsx(Cl,{children:a})]}),i,e.jsx(Nl,{})]},s)}),e.jsx(bl,{})]})}const Jh={roomNumber:/(?:room(?:\s+number)?|room|phng)(?:\s*[:#\-]?\s*)([0-9]{1,4}[A-Za-z]?)|(?:staying in|in room|in phng|phng s)(?:\s+)([0-9]{1,4}[A-Za-z]?)/i};function vi(t){const s=t.match(Jh.roomNumber);if(s)return s[1]||s[2]||null;const n=t.match(/(?:room details|room number|phng s)(?:\s*[:#\-]?\s*)([0-9]{1,4}[A-Za-z]?)/i);if(n&&n[1])return n[1];const a=t.match(/(?:details[\s\S]*?room(?:\s+number)?[\s\S]*?)([0-9]{1,4}[A-Za-z]?)/i);return a&&a[1]?a[1]:null}const eu=!1;let Me=null;const tu=async t=>{try{if(console.log("[vapiClient] Initializing Vapi with public key:",t),Me){console.log("[vapiClient] Cleaning up existing instance");try{Me.stop()}catch(s){console.log("[vapiClient] Error stopping existing instance:",s)}Me=null}return console.log("[vapiClient] Creating new Vapi instance"),Me=new _d(t),Me.on("call-start",()=>{console.log("[vapiClient] Call started")}),Me.on("call-end",()=>{console.log("[vapiClient] Call ended")}),Me.on("speech-start",()=>{console.log("[vapiClient] Speech started")}),Me.on("speech-end",()=>{console.log("[vapiClient] Speech ended")}),Me.on("volume-level",s=>{console.log(`[vapiClient] Volume level: ${s}`)}),Me.on("message",s=>{console.log("[vapiClient] Message received:",s)}),Me.on("error",s=>{console.error("[vapiClient] Error:",s)}),console.log("[vapiClient] Vapi instance created successfully"),Me}catch(s){throw console.error("[vapiClient] Failed to initialize Vapi:",s),Me=null,s}},$s=()=>Me,su=()=>{if(console.log("[vapiClient] Resetting Vapi instance"),Me){try{Me.stop()}catch(t){console.log("[vapiClient] Error stopping instance during reset:",t)}Me=null}};var pn=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},fn=typeof window>"u"||"Deno"in globalThis;function st(){}function nu(t,s){return typeof t=="function"?t(s):t}function au(t){return typeof t=="number"&&t>=0&&t!==1/0}function iu(t,s){return Math.max(t+(s||0)-Date.now(),0)}function ji(t,s){return typeof t=="function"?t(s):t}function ru(t,s){return typeof t=="function"?t(s):t}function yi(t,s){const{type:n="all",exact:a,fetchStatus:i,predicate:r,queryKey:l,stale:o}=t;if(l){if(a){if(s.queryHash!==Ta(l,s.options))return!1}else if(!Cs(s.queryKey,l))return!1}if(n!=="all"){const c=s.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof o=="boolean"&&s.isStale()!==o||i&&i!==s.state.fetchStatus||r&&!r(s))}function bi(t,s){const{exact:n,status:a,predicate:i,mutationKey:r}=t;if(r){if(!s.options.mutationKey)return!1;if(n){if(Ss(s.options.mutationKey)!==Ss(r))return!1}else if(!Cs(s.options.mutationKey,r))return!1}return!(a&&s.state.status!==a||i&&!i(s))}function Ta(t,s){return(s?.queryKeyHashFn||Ss)(t)}function Ss(t){return JSON.stringify(t,(s,n)=>Xn(n)?Object.keys(n).sort().reduce((a,i)=>(a[i]=n[i],a),{}):n)}function Cs(t,s){return t===s?!0:typeof t!=typeof s?!1:t&&s&&typeof t=="object"&&typeof s=="object"?Object.keys(s).every(n=>Cs(t[n],s[n])):!1}function _l(t,s){if(t===s)return t;const n=wi(t)&&wi(s);if(n||Xn(t)&&Xn(s)){const a=n?t:Object.keys(t),i=a.length,r=n?s:Object.keys(s),l=r.length,o=n?[]:{};let c=0;for(let d=0;d<l;d++){const u=n?d:r[d];(!n&&a.includes(u)||n)&&t[u]===void 0&&s[u]===void 0?(o[u]=void 0,c++):(o[u]=_l(t[u],s[u]),o[u]===t[u]&&t[u]!==void 0&&c++)}return i===l&&c===i?t:o}return s}function aS(t,s){if(!s||Object.keys(t).length!==Object.keys(s).length)return!1;for(const n in t)if(t[n]!==s[n])return!1;return!0}function wi(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Xn(t){if(!Ni(t))return!1;const s=t.constructor;if(s===void 0)return!0;const n=s.prototype;return!(!Ni(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Ni(t){return Object.prototype.toString.call(t)==="[object Object]"}function lu(t){return new Promise(s=>{setTimeout(s,t)})}function ou(t,s,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,s):n.structuralSharing!==!1?_l(t,s):s}function cu(t,s,n=0){const a=[...t,s];return n&&a.length>n?a.slice(1):a}function du(t,s,n=0){const a=[s,...t];return n&&a.length>n?a.slice(0,-1):a}var Ea=Symbol();function kl(t,s){return!t.queryFn&&s?.initialPromise?()=>s.initialPromise:!t.queryFn||t.queryFn===Ea?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function iS(t,s){return typeof t=="function"?t(...s):!!t}var hu=class extends pn{#e;#t;#s;constructor(){super(),this.#s=t=>{if(!fn&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#s=t,this.#t?.(),this.#t=t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Tl=new hu,uu=class extends pn{#e=!0;#t;#s;constructor(){super(),this.#s=t=>{if(!fn&&window.addEventListener){const s=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#s=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Zs=new uu;function mu(){let t,s;const n=new Promise((i,r)=>{t=i,s=r});n.status="pending",n.catch(()=>{});function a(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{a({status:"fulfilled",value:i}),t(i)},n.reject=i=>{a({status:"rejected",reason:i}),s(i)},n}function xu(t){return Math.min(1e3*2**t,3e4)}function El(t){return(t??"online")==="online"?Zs.isOnline():!0}var Al=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function En(t){return t instanceof Al}function Pl(t){let s=!1,n=0,a=!1,i;const r=mu(),l=g=>{a||(x(new Al(g)),t.abort?.())},o=()=>{s=!0},c=()=>{s=!1},d=()=>Tl.isFocused()&&(t.networkMode==="always"||Zs.isOnline())&&t.canRun(),u=()=>El(t.networkMode)&&t.canRun(),m=g=>{a||(a=!0,t.onSuccess?.(g),i?.(),r.resolve(g))},x=g=>{a||(a=!0,t.onError?.(g),i?.(),r.reject(g))},f=()=>new Promise(g=>{i=y=>{(a||d())&&g(y)},t.onPause?.()}).then(()=>{i=void 0,a||t.onContinue?.()}),p=()=>{if(a)return;let g;const y=n===0?t.initialPromise:void 0;try{g=y??t.fn()}catch(j){g=Promise.reject(j)}Promise.resolve(g).then(m).catch(j=>{if(a)return;const v=t.retry??(fn?0:3),b=t.retryDelay??xu,w=typeof b=="function"?b(n,j):b,C=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,j);if(s||!C){x(j);return}n++,t.onFail?.(n,j),lu(w).then(()=>d()?void 0:f()).then(()=>{s?x(j):p()})})};return{promise:r,cancel:l,continue:()=>(i?.(),r),cancelRetry:o,continueRetry:c,canStart:u,start:()=>(u()?p():f().then(p),r)}}var pu=t=>setTimeout(t,0);function fu(){let t=[],s=0,n=o=>{o()},a=o=>{o()},i=pu;const r=o=>{s?t.push(o):i(()=>{n(o)})},l=()=>{const o=t;t=[],o.length&&i(()=>{a(()=>{o.forEach(c=>{n(c)})})})};return{batch:o=>{let c;s++;try{c=o()}finally{s--,s||l()}return c},batchCalls:o=>(...c)=>{r(()=>{o(...c)})},schedule:r,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{a=o},setScheduler:o=>{i=o}}}var $e=fu(),Il=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),au(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(fn?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},gu=class extends Il{#e;#t;#s;#a;#n;#r;#l;constructor(t){super(),this.#l=!1,this.#r=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#a=t.client,this.#s=this.#a.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=ju(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(t){this.options={...this.#r,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(t,s){const n=ou(this.state.data,t,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:s?.updatedAt,manual:s?.manual}),n}setState(t,s){this.#i({type:"setState",state:t,setStateOptions:s})}cancel(t){const s=this.#n?.promise;return this.#n?.cancel(t),s?s.then(st).catch(st):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>ru(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ea||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!iu(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(s=>s.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(s=>s.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(this.#n&&(this.#l?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}fetch(t,s){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&s?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(t&&this.setOptions(t),!this.options.queryFn){const o=this.observers.find(c=>c.options.queryFn);o&&this.setOptions(o.options)}const n=new AbortController,a=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#l=!0,n.signal)})},i=()=>{const o=kl(this.options,s),c={client:this.#a,queryKey:this.queryKey,meta:this.meta};return a(c),this.#l=!1,this.options.persister?this.options.persister(o,c,this):o(c)},r={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:i};a(r),this.options.behavior?.onFetch(r,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==r.fetchOptions?.meta)&&this.#i({type:"fetch",meta:r.fetchOptions?.meta});const l=o=>{En(o)&&o.silent||this.#i({type:"error",error:o}),En(o)||(this.#s.config.onError?.(o,this),this.#s.config.onSettled?.(this.state.data,o,this)),this.scheduleGc()};return this.#n=Pl({initialPromise:s?.initialPromise,fn:r.fetchFn,abort:n.abort.bind(n),onSuccess:o=>{if(o===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(o)}catch(c){l(c);return}this.#s.config.onSuccess?.(o,this),this.#s.config.onSettled?.(o,this.state.error,this),this.scheduleGc()},onError:l,onFail:(o,c)=>{this.#i({type:"failed",failureCount:o,error:c})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:r.options.retry,retryDelay:r.options.retryDelay,networkMode:r.options.networkMode,canRun:()=>!0}),this.#n.start()}#i(t){const s=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...vu(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return En(a)&&a.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=s(this.state),$e.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:t})})}};function vu(t,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:El(s.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function ju(t){const s=typeof t.initialData=="function"?t.initialData():t.initialData,n=s!==void 0,a=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:n?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var yu=class extends pn{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,s,n){const a=s.queryKey,i=s.queryHash??Ta(a,s);let r=this.get(i);return r||(r=new gu({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(s),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(r)),r}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=this.#e.get(t.queryHash);s&&(t.destroy(),s===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){$e.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const s={exact:!0,...t};return this.getAll().find(n=>yi(s,n))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(n=>yi(t,n)):s}notify(t){$e.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){$e.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){$e.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},bu=class extends Il{#e;#t;#s;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||wu(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(s=>s!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){const s=()=>{this.#a({type:"continue"})};this.#s=Pl({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(i,r)=>{this.#a({type:"failed",failureCount:i,error:r})},onPause:()=>{this.#a({type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const n=this.state.status==="pending",a=!this.#s.canStart();try{if(n)s();else{this.#a({type:"pending",variables:t,isPaused:a}),await this.#t.config.onMutate?.(t,this);const r=await this.options.onMutate?.(t);r!==this.state.context&&this.#a({type:"pending",context:r,variables:t,isPaused:a})}const i=await this.#s.start();return await this.#t.config.onSuccess?.(i,t,this.state.context,this),await this.options.onSuccess?.(i,t,this.state.context),await this.#t.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,t,this.state.context),this.#a({type:"success",data:i}),i}catch(i){try{throw await this.#t.config.onError?.(i,t,this.state.context,this),await this.options.onError?.(i,t,this.state.context),await this.#t.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,t,this.state.context),i}finally{this.#a({type:"error",error:i})}}finally{this.#t.runNext(this)}}#a(t){const s=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),$e.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function wu(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Nu=class extends pn{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#s=0}#e;#t;#s;build(t,s,n){const a=new bu({mutationCache:this,mutationId:++this.#s,options:t.defaultMutationOptions(s),state:n});return this.add(a),a}add(t){this.#e.add(t);const s=Fs(t);if(typeof s=="string"){const n=this.#t.get(s);n?n.push(t):this.#t.set(s,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const s=Fs(t);if(typeof s=="string"){const n=this.#t.get(s);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&this.#t.delete(s)}}this.notify({type:"removed",mutation:t})}canRun(t){const s=Fs(t);if(typeof s=="string"){const a=this.#t.get(s)?.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){const s=Fs(t);return typeof s=="string"?this.#t.get(s)?.find(a=>a!==t&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){$e.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const s={exact:!0,...t};return this.getAll().find(n=>bi(s,n))}findAll(t={}){return this.getAll().filter(s=>bi(t,s))}notify(t){$e.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return $e.batch(()=>Promise.all(t.map(s=>s.continue().catch(st))))}};function Fs(t){return t.options.scope?.id}function Si(t){return{onFetch:(s,n)=>{const a=s.options,i=s.fetchOptions?.meta?.fetchMore?.direction,r=s.state.data?.pages||[],l=s.state.data?.pageParams||[];let o={pages:[],pageParams:[]},c=0;const d=async()=>{let u=!1;const m=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(s.signal.aborted?u=!0:s.signal.addEventListener("abort",()=>{u=!0}),s.signal)})},x=kl(s.options,s.fetchOptions),f=async(p,g,y)=>{if(u)return Promise.reject();if(g==null&&p.pages.length)return Promise.resolve(p);const j={client:s.client,queryKey:s.queryKey,pageParam:g,direction:y?"backward":"forward",meta:s.options.meta};m(j);const v=await x(j),{maxPages:b}=s.options,w=y?du:cu;return{pages:w(p.pages,v,b),pageParams:w(p.pageParams,g,b)}};if(i&&r.length){const p=i==="backward",g=p?Su:Ci,y={pages:r,pageParams:l},j=g(a,y);o=await f(y,j,p)}else{const p=t??r.length;do{const g=c===0?l[0]??a.initialPageParam:Ci(a,o);if(c>0&&g==null)break;o=await f(o,g),c++}while(c<p)}return o};s.options.persister?s.fetchFn=()=>s.options.persister?.(d,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},n):s.fetchFn=d}}}function Ci(t,{pages:s,pageParams:n}){const a=s.length-1;return s.length>0?t.getNextPageParam(s[a],s,n[a],n):void 0}function Su(t,{pages:s,pageParams:n}){return s.length>0?t.getPreviousPageParam?.(s[0],s,n[0],n):void 0}var Cu=class{#e;#t;#s;#a;#n;#r;#l;#i;constructor(t={}){this.#e=t.queryCache||new yu,this.#t=t.mutationCache||new Nu,this.#s=t.defaultOptions||{},this.#a=new Map,this.#n=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#l=Tl.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Zs.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#l?.(),this.#l=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const s=this.defaultQueryOptions({queryKey:t});return this.#e.get(s.queryHash)?.state.data}ensureQueryData(t){const s=this.defaultQueryOptions(t),n=this.#e.build(this,s),a=n.state.data;return a===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ji(s.staleTime,n))&&this.prefetchQuery(s),Promise.resolve(a))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:s,state:n})=>{const a=n.data;return[s,a]})}setQueryData(t,s,n){const a=this.defaultQueryOptions({queryKey:t}),r=this.#e.get(a.queryHash)?.state.data,l=nu(s,r);if(l!==void 0)return this.#e.build(this,a).setData(l,{...n,manual:!0})}setQueriesData(t,s,n){return $e.batch(()=>this.#e.findAll(t).map(({queryKey:a})=>[a,this.setQueryData(a,s,n)]))}getQueryState(t){const s=this.defaultQueryOptions({queryKey:t});return this.#e.get(s.queryHash)?.state}removeQueries(t){const s=this.#e;$e.batch(()=>{s.findAll(t).forEach(n=>{s.remove(n)})})}resetQueries(t,s){const n=this.#e;return $e.batch(()=>(n.findAll(t).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...t},s)))}cancelQueries(t,s={}){const n={revert:!0,...s},a=$e.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(a).then(st).catch(st)}invalidateQueries(t,s={}){return $e.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},s)))}refetchQueries(t,s={}){const n={...s,cancelRefetch:s.cancelRefetch??!0},a=$e.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()).map(i=>{let r=i.fetch(void 0,n);return n.throwOnError||(r=r.catch(st)),i.state.fetchStatus==="paused"?Promise.resolve():r}));return Promise.all(a).then(st)}fetchQuery(t){const s=this.defaultQueryOptions(t);s.retry===void 0&&(s.retry=!1);const n=this.#e.build(this,s);return n.isStaleByTime(ji(s.staleTime,n))?n.fetch(s):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(st).catch(st)}fetchInfiniteQuery(t){return t.behavior=Si(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(st).catch(st)}ensureInfiniteQueryData(t){return t.behavior=Si(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Zs.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#s}setDefaultOptions(t){this.#s=t}setQueryDefaults(t,s){this.#a.set(Ss(t),{queryKey:t,defaultOptions:s})}getQueryDefaults(t){const s=[...this.#a.values()],n={};return s.forEach(a=>{Cs(t,a.queryKey)&&Object.assign(n,a.defaultOptions)}),n}setMutationDefaults(t,s){this.#n.set(Ss(t),{mutationKey:t,defaultOptions:s})}getMutationDefaults(t){const s=[...this.#n.values()],n={};return s.forEach(a=>{Cs(t,a.mutationKey)&&Object.assign(n,a.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const s={...this.#s.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return s.queryHash||(s.queryHash=Ta(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===Ea&&(s.enabled=!1),s}defaultMutationOptions(t){return t?._defaulted?t:{...this.#s.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}};async function Ml(t){if(!t.ok){const s=await t.text()||t.statusText;throw new Error(`${t.status}: ${s}`)}}async function Ot({url:t,method:s="GET",body:n=void 0}){const a=await fetch(t,{method:s,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});await Ml(a);try{return await a.json()}catch{return a}}const _u=({on401:t})=>async({queryKey:s})=>{const n=await fetch(s[0],{credentials:"include"});return await Ml(n),await n.json()};new Cu({defaultOptions:{queries:{queryFn:_u({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});const ku={"hotel-manager":{dashboard:["view","edit","view_client_interface"],analytics:["view","export","advanced","view_advanced"],billing:["view","edit"],staff:["view","edit","delete","invite","manage"],settings:["view","edit"],calls:["view","join","transfer","end","override"],system:["view","monitor"],assistant:["configure","manage"],notifications:["view","manage"],requests:["view","manage"],guests:["view","manage"],security:["view","manage"],integrations:["view","manage"],logs:["view","export"]},"front-desk":{dashboard:["view"],calls:["view","join","transfer","end"],analytics:["view_basic"],profile:["view","edit"],guests:["view","edit","checkin","checkout","manage"],requests:["view","manage"],notifications:["view"],system:[]},"it-manager":{dashboard:["view"],system:["view","edit","debug","restart","monitor"],integrations:["view","edit","test","manage"],logs:["view","export","debug"],calls:["view","debug"],analytics:["view","technical"],billing:[],staff:[],security:["view","manage"],notifications:["view"]}},_i=t=>{const s=ku[t],n=[];for(const[a,i]of Object.entries(s))for(const r of i)n.push({module:a,action:r,allowed:!0});return n},Ll=h.createContext(void 0),De=()=>{const t=h.useContext(Ll);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},ki=t=>{switch(t){case"admin":case"manager":case"hotel-manager":return"hotel-manager";case"staff":case"front-desk":return"front-desk";case"it":case"tech":case"it-manager":return"it-manager";default:return"front-desk"}},Tu=({children:t})=>{console.log("[DEBUG] AuthProvider render");const[s,n]=h.useState(null),[a,i]=h.useState(null),[r,l]=h.useState(!0);h.useEffect(()=>{console.log("[DEBUG] AuthProvider useEffect - checking token");const m=localStorage.getItem("token");if(!m){console.log("[DEBUG] AuthProvider - no token found, setting loading false"),l(!1);return}try{console.log("[DEBUG] AuthProvider - decoding token");const x=ni(m);console.log("[DEBUG] AuthProvider - token decoded:",x);const f=ki(x.role),p={id:x.username,name:x.username,email:x.username,tenantId:x.tenantId,role:f,permissions:_i(f)},g={id:x.tenantId,hotelName:"Mi Nhon Hotel",subdomain:"minhonmuine",subscriptionPlan:"premium",subscriptionStatus:"active"};n(p),i(g)}catch(x){console.log("[DEBUG] AuthProvider - token decode error:",x),localStorage.removeItem("token")}finally{console.log("[DEBUG] AuthProvider - setting loading false"),l(!1)}},[]);const o=h.useCallback(async(m,x)=>{l(!0);try{const f=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:m,password:x})});if(!f.ok)throw new Error("Sai ti khon hoc mt khu");const p=await f.json();if(!p.token)throw new Error("Khng nhn c token t server");localStorage.setItem("token",p.token);const g=ni(p.token),y=ki(g.role),j={id:g.username,name:g.username,email:g.username,tenantId:g.tenantId,role:y,permissions:_i(y)},v={id:g.tenantId,hotelName:"Mi Nhon Hotel",subdomain:"minhonmuine",subscriptionPlan:"premium",subscriptionStatus:"active"};n(j),i(v)}catch(f){throw localStorage.removeItem("token"),n(null),i(null),f}finally{l(!1)}},[]),c=h.useCallback(()=>{console.log("[DEBUG] AuthProvider logout called"),n(null),i(null),localStorage.removeItem("token"),window.location.href="/login"},[]),d=h.useCallback((m,x)=>!s||!s.permissions?!1:s.permissions.some(f=>f.module===m&&f.action===x&&f.allowed),[s]),u=h.useCallback(m=>s?.role===m,[s]);return console.log("[DEBUG] AuthProvider state:",{user:s,tenant:a,isLoading:r}),e.jsx(Ll.Provider,{value:{user:s,tenant:a,isLoading:r,login:o,logout:c,isAuthenticated:!!s,refreshAuth:async()=>{},hasFeature:()=>!1,hasRole:u,hasPermission:d,isWithinLimits:()=>!0},children:t})},Dl=()=>{const[t,s]=h.useState(null);return h.useEffect(()=>{if(typeof window>"u")return;const n=window.location.hostname,a=n==="localhost"||n==="127.0.0.1",i=/^\d+\.\d+\.\d+\.\d+$/.test(n),r=n==="talk2go.online"||n==="www.talk2go.online";let l=null,o=!1,c;if(!a&&!i&&!r)if(n.includes(".talk2go.online")){const u=n.split(".");u.length>2&&(l=u[0],o=!0)}else c=n,o=!1;s({subdomain:l,isMiNhon:a||n==="minhotel.talk2go.online"||n==="talk2go.online"||n==="www.talk2go.online"||l==="minhon",isSubdomain:o,customDomain:c})},[]),t},Os={hotelName:"Mi Nhon Hotel Mui Ne",logoUrl:"/assets/references/images/minhon-logo.jpg",primaryColor:"#2C3E50",headerText:"Mi Nhon Hotel Mui Ne",vapiPublicKey:"",vapiAssistantId:"",branding:{logo:"/assets/references/images/minhon-logo.jpg",colors:{primary:"#2C3E50",secondary:"#34495E",accent:"#E74C3C"},fonts:{primary:"Poppins",secondary:"Inter"}},features:{callHistory:!0,multiLanguage:!0,analytics:!0,customization:!0},services:[{type:"room_service",name:"Room Service",enabled:!0},{type:"concierge",name:"Concierge",enabled:!0},{type:"housekeeping",name:"Housekeeping",enabled:!0},{type:"maintenance",name:"Maintenance",enabled:!0},{type:"restaurant",name:"Restaurant",enabled:!0}],supportedLanguages:["en","fr","zh","ru","ko","vi"]},xs=()=>{console.log("[DEBUG] useHotelConfiguration hook called");const[t,s]=h.useState(null),[n,a]=h.useState(!0),[i,r]=h.useState(null);Dl();const l=()=>{const c=window.location.hostname;if(c==="localhost"||c==="127.0.0.1")return{type:"default",identifier:"mi-nhon-hotel"};const u=c.split(".");return u.length>=3&&u[u.length-2]==="talk2go"&&u[u.length-1]==="online"?{type:"subdomain",identifier:u[0]}:{type:"custom",identifier:c}},o=h.useCallback(async()=>{console.log("[DEBUG] loadConfiguration called");try{a(!0),r(null);const{type:c,identifier:d}=l();if(console.log("[DEBUG] extractHotelIdentifier",{type:c,identifier:d}),c==="default"){s(Os);return}if(c==="subdomain"){const u=`/api/hotels/by-subdomain/${d}`;console.log("[DEBUG] Fetching hotel config from",u);try{const m=await fetch(u);if(console.log("[DEBUG] fetch response",m),!m.ok)throw new Error("Failed to load hotel configuration");const x=await m.json();console.log("[DEBUG] hotelData",x),s({hotelName:x.name,logoUrl:x.branding.logo,primaryColor:x.branding.primaryColor,headerText:x.name,vapiPublicKey:"",vapiAssistantId:"",branding:{...x.branding,colors:{primary:x.branding.primaryColor||"#2C3E50",secondary:x.branding.secondaryColor||"#34495E",accent:x.branding.accentColor||"#E74C3C"},fonts:{primary:x.branding.PrimaryFont||"Inter",secondary:x.branding.SecondaryFont||"Roboto"}},features:x.features,services:x.services,supportedLanguages:x.supportedLanguages});return}catch(m){console.error("[DEBUG] fetch hotel config error",m),s(Os);return}}s(Os)}catch(c){r(c instanceof Error?c.message:"Failed to load configuration"),s(Os)}finally{a(!1)}},[]);return h.useEffect(()=>{o()},[o]),{config:t,isLoading:n,error:i,reload:o,isMiNhon:!1}},Eu=(t,s)=>{if(s.hotelName==="Mi Nhon Hotel Mui Ne")switch(t){case"fr":return s.vapiPublicKey;case"zh":return s.vapiPublicKey;case"ru":return s.vapiPublicKey;case"ko":return s.vapiPublicKey;case"vi":return s.vapiPublicKey;case"en":default:return s.vapiPublicKey}return s.vapiPublicKey||void 0},Au=(t,s)=>{if(s.hotelName==="Mi Nhon Hotel Mui Ne")switch(t){case"fr":return s.vapiAssistantId;case"zh":return s.vapiAssistantId;case"ru":return s.vapiAssistantId;case"ko":return s.vapiAssistantId;case"vi":return s.vapiAssistantId;case"en":default:return s.vapiAssistantId}return s.vapiAssistantId||void 0},Pu={orderType:"Room Service",deliveryTime:"asap",roomNumber:"",guestName:"",guestEmail:"",guestPhone:"",specialInstructions:"",items:[{id:"1",name:"Club Sandwich",description:"Served with french fries and side salad",quantity:1,price:15},{id:"2",name:"Fresh Orange Juice",description:"Large size",quantity:1,price:8}],totalAmount:23},Rl=h.createContext(void 0);function Iu({children:t}){console.log("[DEBUG] AssistantProvider render");const[s,n]=h.useState("interface1"),a=ne=>{console.log("[AssistantContext]  setCurrentInterface called:",{from:s,to:ne}),ne==="interface1"&&(su(),r([]),o(null),d(null),m(null),f(0),g(null),j(!1),b(null),C([]),B(null),A(!1)),n(ne),console.log("[AssistantContext]  setCurrentInterface executed:",ne)},[i,r]=h.useState([]),[l,o]=h.useState(null),[c,d]=h.useState(null),[u,m]=h.useState(null),[x,f]=h.useState(0),[p,g]=h.useState(null),[y,j]=h.useState(!1),[v,b]=h.useState(null),[w,C]=h.useState([]),[k,B]=h.useState(null),[F,A]=h.useState(!1),[_,S]=h.useState(null),[N,z]=h.useState(()=>{if(typeof window>"u")return[];try{const ne=localStorage.getItem("activeOrders");return ne?JSON.parse(ne).map(_e=>({..._e,requestedAt:new Date(_e.requestedAt)})):[]}catch(ne){return console.error("Failed to parse activeOrders from localStorage",ne),[]}}),[$,O]=h.useState(0),[R,T]=h.useState([]),[P,W]=h.useState("en"),[ee,Se]=h.useState(null),[ae,de]=h.useState(null),[U,ie]=h.useState(null),Re=ne=>{console.log(" AssistantContext: setCurrentInterface called with:",ne),console.log(" Previous interface:",s),a(ne),console.log(" AssistantContext: setCurrentInterface completed")},H=ne=>{console.log(" AssistantContext: setOrder called with:",ne),console.log(" Previous order:",u),m(ne),console.log(" AssistantContext: setOrder completed")};h.useEffect(()=>{if(!(typeof window>"u"))try{localStorage.setItem("activeOrders",JSON.stringify(N))}catch{console.error("Failed to persist activeOrders to localStorage")}},[N]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - currentInterface changed to:",s),console.log("[DEBUG] AssistantProvider - timestamp:",new Date().toISOString())},[s]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - order changed to:",u),console.log("[DEBUG] AssistantProvider - order reference:",u?.reference),console.log("[DEBUG] AssistantProvider - timestamp:",new Date().toISOString())},[u]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - activeOrders changed:",N.length),console.log("[DEBUG] AssistantProvider - activeOrders:",N)},[N]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - hotelConfig changed:",ee?"loaded":"null")},[ee]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - language changed to:",P)},[P]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - callDetails changed:",c?"active":"null")},[c]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - transcripts count:",i.length)},[i]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - orderSummary changed:",l?"has summary":"null")},[l]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - callSummary changed:",v?"has summary":"null")},[v]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - serviceRequests count:",w.length)},[w]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - modelOutput count:",R.length)},[R]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - micLevel:",$)},[$]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - isMuted:",y)},[y]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - callDuration:",x)},[x]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - emailSentForCurrentSession:",F)},[F]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - requestReceivedAt:",_)},[_]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - vietnameseSummary:",k?"has summary":"null")},[k]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - tenantId:",ae)},[ae]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - tenantConfig:",U?"loaded":"null")},[U]);const se=ne=>{z(he=>[...he,{...ne,status:ne.status||" ghi nhn"}])},pe=xe.useCallback(ne=>{const he={...ne,id:Date.now(),callId:c?.id||`call-${Date.now()}`,timestamp:new Date,tenantId:ae||"default"};r(Ae=>[...Ae,he]),(async()=>{try{const Ae=await fetch("/api/transcripts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({callId:he.callId,role:he.role,content:he.content,tenantId:he.tenantId})});if(!Ae.ok)throw new Error(`Failed to save transcript: ${Ae.status}`);const Pe=await Ae.json();console.log("Transcript saved to database:",Pe)}catch(Ae){console.error("Error saving transcript to server:",Ae)}})()},[c?.id,ae]);h.useEffect(()=>((async()=>{try{const he=ee?Eu(P,ee):void 0;if(!he)throw new Error("Vapi public key is not configured");const _e=await tu(he);_e.on("volume-level",te=>{O(te)});const Ae=te=>{try{if(typeof window<"u"&&window.WebSocket){const Oe=window.location.origin.replace("http","ws")+"/ws",We=new WebSocket(Oe);We.onopen=()=>{We.send(JSON.stringify({type:"transcript",call_id:te.callId,role:te.role,content:te.content,timestamp:te.timestamp})),We.close()},We.onerror=Nn=>{console.warn("Failed to send transcript to WebSocket:",Nn)}}}catch(Oe){console.warn("Error sending transcript to WebSocket:",Oe)}},Pe=async te=>{if(console.log("Raw message received:",te),console.log("Message type:",te.type),console.log("Message role:",te.role),console.log("Message content structure:",{content:te.content,text:te.text,transcript:te.transcript}),te.type==="model-output"){console.log("Model output detected - Full message:",te);const Oe=te.content||te.text||te.transcript||te.output;if(Oe){console.log("Adding model output to conversation:",Oe);const We={id:Date.now(),callId:c?.id||`call-${Date.now()}`,role:"assistant",content:Oe,timestamp:new Date,isModelOutput:!0,tenantId:ae||"default"};console.log("Adding new transcript for model output:",We),r(Nn=>{const ti=[...Nn,We];return console.log("Updated transcripts array:",ti),ti}),Ae(We)}else console.warn("Model output message received but no content found:",te)}if(te.type==="transcript"){console.log("Adding transcript:",te);const Oe={id:Date.now(),callId:c?.id||`call-${Date.now()}`,role:te.role,content:te.content||te.transcript||"",timestamp:new Date,tenantId:ae||"default"};r(We=>[...We,Oe]),Ae(Oe)}};_e.on("message",Pe)}catch(he){console.error("Error setting up Vapi:",he)}})(),()=>{const he=$s();he&&he.stop()}),[P,ee,ae,c?.id]),h.useEffect(()=>{if(s==="interface2"){console.log("Starting call duration timer in interface2");const ne=setInterval(()=>{f(he=>{const _e=he+1;return console.log("Call duration updated:",_e),_e})},1e3);g(ne)}else p&&(console.log("Clearing call duration timer when leaving interface2"),clearInterval(p),g(null));return()=>{p&&(console.log("Cleaning up call duration timer"),clearInterval(p))}},[s,p]);const Ft=()=>{const ne=$s();ne&&(ne.setMuted(!y),j(!y))},ht=xe.useCallback(async()=>{try{A(!1);const ne=`call-${Date.now()}`;d({id:ne,roomNumber:"",duration:"",category:"",language:"en"}),r([]),T([]);const he=$s();if(!he){console.error("Vapi instance not initialized");return}const _e=ee?Au(P,ee):void 0;if(!_e){console.error("Assistant ID not configured");return}if(!await he.start(_e)){console.error("Failed to start call - call object is null");return}console.log("Call started successfully"),f(0);const Pe=setInterval(()=>{f(te=>te+1)},1e3);g(Pe),a("interface2")}catch(ne){console.error("Error starting call:",ne)}},[P,ee,ae]),Qc=h.useCallback(()=>{try{const ne=$s();ne&&ne.stop();const he=()=>{p&&(clearInterval(p),g(null)),o(Pu);const _e=x?`${Math.floor(x/60)}:${(x%60).toString().padStart(2,"0")}`:"0:00",Ae=i.map(te=>({role:te.role,content:te.content}));if(Ae.length<2){const te={id:Date.now(),callId:c?.id||`call-${Date.now()}`,content:"Call was too short to generate a summary. Please try a more detailed conversation.",timestamp:new Date,tenantId:ae||"default"};b(te);return}const Pe={id:Date.now(),callId:c?.id||`call-${Date.now()}`,content:"Generating AI summary of your conversation...",timestamp:new Date,tenantId:ae||"default"};b(Pe),fetch("/api/store-summary",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({summary:"",transcripts:Ae,timestamp:new Date().toISOString(),callId:c?.id||`call-${Date.now()}`,callDuration:_e,forceBasicSummary:eu,language:P,tenantId:ae||"default"})}).then(te=>{if(!te.ok)throw new Error(`Network response was not ok: ${te.status}`);return te.json()}).then(te=>{if(te.success&&te.summary&&te.summary.content){const Oe=te.summary.content;si.unstable_batchedUpdates(()=>{const We={id:Date.now(),callId:c?.id||`call-${Date.now()}`,content:Oe,timestamp:new Date(te.summary.timestamp||Date.now()),tenantId:ae||"default"};b(We),te.serviceRequests&&Array.isArray(te.serviceRequests)&&te.serviceRequests.length>0&&C(te.serviceRequests)})}}).catch(te=>{console.error("Error processing summary:",te);const Oe={id:Date.now(),callId:c?.id||`call-${Date.now()}`,content:"An error occurred while generating the call summary.",timestamp:new Date,tenantId:ae||"default"};b(Oe)})};si.unstable_batchedUpdates(he)}catch(ne){console.error("Error in endCall:",ne),a("interface1")}},[p,x,i,c,b,a,C,P,ae]),Yc=async ne=>{try{console.log("Requesting Vietnamese translation for summary...");const he=await fetch("/api/translate-to-vietnamese",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:ne})});if(!he.ok)throw new Error(`Network response was not ok: ${he.status}`);const _e=await he.json();if(_e.success&&_e.translatedText)return B(_e.translatedText),_e.translatedText;throw new Error("Translation failed")}catch(he){return console.error("Error translating to Vietnamese:",he),"Khng th dch ni dung ny sang ting Vit. Vui lng th li sau."}},Zc=ne=>{T(he=>[...he,ne])};h.useEffect(()=>{let ne=null;const he=async()=>{try{const _e=await fetch("/api/orders");if(!_e.ok)return;const Ae=await _e.json();console.log("[AssistantContext] Fetched orders from API:",Ae),Array.isArray(Ae)&&z(Ae.map(Pe=>({reference:Pe.specialInstructions||Pe.reference||Pe.callId||"",requestedAt:Pe.createdAt?new Date(Pe.createdAt):new Date,estimatedTime:Pe.deliveryTime||"",status:Pe.status==="completed"?"Hon thin":Pe.status==="pending"?" ghi nhn":Pe.status,...Pe})))}catch{}};return(s==="interface1"||s==="interface2")&&(he(),ne=setInterval(he,5e3)),()=>{ne&&clearInterval(ne)}},[s]);const Jc={currentInterface:s,setCurrentInterface:Re,transcripts:i,setTranscripts:r,addTranscript:pe,orderSummary:l,setOrderSummary:o,callDetails:c,setCallDetails:d,order:u,setOrder:H,callDuration:x,setCallDuration:f,isMuted:y,toggleMute:Ft,startCall:ht,endCall:Qc,callSummary:v,setCallSummary:b,serviceRequests:w,setServiceRequests:C,vietnameseSummary:k,setVietnameseSummary:B,translateToVietnamese:Yc,emailSentForCurrentSession:F,setEmailSentForCurrentSession:A,requestReceivedAt:_,setRequestReceivedAt:S,activeOrders:N,addActiveOrder:se,setActiveOrders:z,micLevel:$,modelOutput:R,setModelOutput:T,addModelOutput:Zc,language:P,setLanguage:W,hotelConfig:ee,setHotelConfig:Se,tenantId:ae,setTenantId:de,tenantConfig:U,setTenantConfig:ie};return e.jsx(Rl.Provider,{value:Jc,children:t})}function ft(){const t=h.useContext(Rl);if(t===void 0)throw new Error("useAssistant must be used within an AssistantProvider");return t}const Ee={colors:{primary:"#1B4E8B",secondary:"#3B82F6",text:"#FFFFFF",error:"#EF4444"},fonts:{primary:"'Inter', 'Poppins', 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif"},spacing:{xl:"40px"},shadows:{subtle:"0 2px 8px rgba(0, 0, 0, 0.1)",card:"0 4px 16px rgba(0, 0, 0, 0.15)",large:"0 8px 32px rgba(0, 0, 0, 0.2)"},borderRadius:{xl:"16px"},transitions:{normal:"0.3s ease-in-out"},zIndex:{above:1}},Mu=()=>e.jsx("div",{className:"absolute w-full min-h-screen h-full flex items-center justify-center z-10",style:{background:`linear-gradient(135deg, ${Ee.colors.primary}, ${Ee.colors.secondary})`,fontFamily:Ee.fonts.primary},children:e.jsxs("div",{className:"text-center p-8 bg-white/10 backdrop-blur-md rounded-2xl",style:{boxShadow:Ee.shadows.card},children:[e.jsx("div",{className:"animate-spin rounded-full border-4 border-white/20 border-t-white mx-auto mb-6",style:{width:"64px",height:"64px"}}),e.jsx("p",{className:"text-white text-lg font-medium",children:"Loading hotel configuration..."})]})}),Lu=({error:t})=>e.jsx("div",{className:"absolute w-full min-h-screen h-full flex items-center justify-center z-10",style:{background:`linear-gradient(135deg, ${Ee.colors.primary}, ${Ee.colors.error})`,fontFamily:Ee.fonts.primary},children:e.jsxs("div",{className:"text-center p-8 bg-white/10 backdrop-blur-md rounded-2xl",style:{boxShadow:Ee.shadows.card},children:[e.jsx("div",{className:"text-white text-xl font-semibold mb-4",children:"Failed to load hotel configuration"}),e.jsx("p",{className:"text-white/80",children:t})]})});var $l={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ti=xe.createContext&&xe.createContext($l),Du=["attr","size","title"];function Ru(t,s){if(t==null)return{};var n=$u(t,s),a,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)a=r[i],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function $u(t,s){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(s.indexOf(a)>=0)continue;n[a]=t[a]}return n}function Js(){return Js=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Js.apply(this,arguments)}function Ei(t,s){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function en(t){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?Ei(Object(n),!0).forEach(function(a){Fu(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ei(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Fu(t,s,n){return s=Ou(s),s in t?Object.defineProperty(t,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[s]=n,t}function Ou(t){var s=zu(t,"string");return typeof s=="symbol"?s:s+""}function zu(t,s){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,s);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}function Fl(t){return t&&t.map((s,n)=>xe.createElement(s.tag,en({key:n},s.attr),Fl(s.child)))}function et(t){return s=>xe.createElement(Bu,Js({attr:en({},t.attr)},s),Fl(t.child))}function Bu(t){var s=n=>{var{attr:a,size:i,title:r}=t,l=Ru(t,Du),o=i||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),xe.createElement("svg",Js({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,l,{className:c,style:en(en({color:t.color||n.color},n.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),r&&xe.createElement("title",null,r),t.children)};return Ti!==void 0?xe.createElement(Ti.Consumer,null,n=>s(n)):s($l)}function qu(t){return et({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M176 256c44.11 0 80-35.89 80-80s-35.89-80-80-80-80 35.89-80 80 35.89 80 80 80zm352-128H304c-8.84 0-16 7.16-16 16v144H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v352c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16v-48h512v48c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V240c0-61.86-50.14-112-112-112z"},child:[]}]})(t)}function Hu(t){return et({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"},child:[]}]})(t)}function Ai(t){return et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M288 130.54V112h16c8.84 0 16-7.16 16-16V80c0-8.84-7.16-16-16-16h-96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h16v18.54C115.49 146.11 32 239.18 32 352h448c0-112.82-83.49-205.89-192-221.46zM496 384H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h480c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function Vu(t){return et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.05 57.6C523.3 36.34 508.25 0 478.2 0H33.8C3.75 0-11.3 36.34 9.95 57.6L224 271.64V464h-56c-22.09 0-40 17.91-40 40 0 4.42 3.58 8 8 8h240c4.42 0 8-3.58 8-8 0-22.09-17.91-40-40-40h-56V271.64L502.05 57.6z"},child:[]}]})(t)}function Gu(t){return et({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm-11.34 240.23c-2.89 4.82-8.1 7.77-13.72 7.77h-.31c-4.24 0-8.31 1.69-11.31 4.69l-5.66 5.66c-3.12 3.12-3.12 8.19 0 11.31l5.66 5.66c3 3 4.69 7.07 4.69 11.31V304c0 8.84-7.16 16-16 16h-6.11c-6.06 0-11.6-3.42-14.31-8.85l-22.62-45.23c-2.44-4.88-8.95-5.94-12.81-2.08l-19.47 19.46c-3 3-7.07 4.69-11.31 4.69H50.81C49.12 277.55 48 266.92 48 256c0-110.28 89.72-200 200-200 21.51 0 42.2 3.51 61.63 9.82l-50.16 38.53c-5.11 3.41-4.63 11.06.86 13.81l10.83 5.41c5.42 2.71 8.84 8.25 8.84 14.31V216c0 4.42-3.58 8-8 8h-3.06c-3.03 0-5.8-1.71-7.15-4.42-1.56-3.12-5.96-3.29-7.76-.3l-17.37 28.95zM408 358.43c0 4.24-1.69 8.31-4.69 11.31l-9.57 9.57c-3 3-7.07 4.69-11.31 4.69h-15.16c-4.24 0-8.31-1.69-11.31-4.69l-13.01-13.01a26.767 26.767 0 0 0-25.42-7.04l-21.27 5.32c-1.27.32-2.57.48-3.88.48h-10.34c-4.24 0-8.31-1.69-11.31-4.69l-11.91-11.91a8.008 8.008 0 0 1-2.34-5.66v-10.2c0-3.27 1.99-6.21 5.03-7.43l39.34-15.74c1.98-.79 3.86-1.82 5.59-3.05l23.71-16.89a7.978 7.978 0 0 1 4.64-1.48h12.09c3.23 0 6.15 1.94 7.39 4.93l5.35 12.85a4 4 0 0 0 3.69 2.46h3.8c1.78 0 3.35-1.18 3.84-2.88l4.2-14.47c.5-1.71 2.06-2.88 3.84-2.88h6.06c2.21 0 4 1.79 4 4v12.93c0 2.12.84 4.16 2.34 5.66l11.91 11.91c3 3 4.69 7.07 4.69 11.31v24.6z"},child:[]}]})(t)}function Uu(t){return et({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 0c-69.59 0-126 56.41-126 126 0 56.26 82.35 158.8 113.9 196.02 6.39 7.54 17.82 7.54 24.2 0C331.65 284.8 414 182.26 414 126 414 56.41 357.59 0 288 0zm0 168c-23.2 0-42-18.8-42-42s18.8-42 42-42 42 18.8 42 42-18.8 42-42 42zM20.12 215.95A32.006 32.006 0 0 0 0 245.66v250.32c0 11.32 11.43 19.06 21.94 14.86L160 448V214.92c-8.84-15.98-16.07-31.54-21.25-46.42L20.12 215.95zM288 359.67c-14.07 0-27.38-6.18-36.51-16.96-19.66-23.2-40.57-49.62-59.49-76.72v182l192 64V266c-18.92 27.09-39.82 53.52-59.49 76.72-9.13 10.77-22.44 16.95-36.51 16.95zm266.06-198.51L416 224v288l139.88-55.95A31.996 31.996 0 0 0 576 426.34V176.02c0-11.32-11.43-19.06-21.94-14.86z"},child:[]}]})(t)}function Wu(t){return et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"},child:[]}]})(t)}function Ku(t){return et({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M568.25 192c-29.04.13-135.01 6.16-213.84 83-33.12 29.63-53.36 63.3-66.41 94.86-13.05-31.56-33.29-65.23-66.41-94.86-78.83-76.84-184.8-82.87-213.84-83-4.41-.02-7.79 3.4-7.75 7.82.23 27.92 7.14 126.14 88.77 199.3C172.79 480.94 256 480 288 480s115.19.95 199.23-80.88c81.64-73.17 88.54-171.38 88.77-199.3.04-4.42-3.34-7.84-7.75-7.82zM287.98 302.6c12.82-18.85 27.6-35.78 44.09-50.52 19.09-18.61 39.58-33.3 60.26-45.18-16.44-70.5-51.72-133.05-96.73-172.22-4.11-3.58-11.02-3.58-15.14 0-44.99 39.14-80.27 101.63-96.74 172.07 20.37 11.7 40.5 26.14 59.22 44.39a282.768 282.768 0 0 1 45.04 51.46z"},child:[]}]})(t)}function Xu(t){return et({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 416h-16c-26.04 0-45.8-8.42-56.09-17.9-8.9-8.21-19.66-14.1-31.77-14.1h-16.3c-12.11 0-22.87 5.89-31.77 14.1C461.8 407.58 442.04 416 416 416s-45.8-8.42-56.09-17.9c-8.9-8.21-19.66-14.1-31.77-14.1h-16.3c-12.11 0-22.87 5.89-31.77 14.1C269.8 407.58 250.04 416 224 416s-45.8-8.42-56.09-17.9c-8.9-8.21-19.66-14.1-31.77-14.1h-16.3c-12.11 0-22.87 5.89-31.77 14.1C77.8 407.58 58.04 416 32 416H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h16c38.62 0 72.72-12.19 96-31.84 23.28 19.66 57.38 31.84 96 31.84s72.72-12.19 96-31.84c23.28 19.66 57.38 31.84 96 31.84s72.72-12.19 96-31.84c23.28 19.66 57.38 31.84 96 31.84h16c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zm-400-32v-96h192v96c19.12 0 30.86-6.16 34.39-9.42 9.17-8.46 19.2-14.34 29.61-18.07V128c0-17.64 14.36-32 32-32s32 14.36 32 32v16c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16v-16c0-52.94-43.06-96-96-96s-96 43.06-96 96v96H224v-96c0-17.64 14.36-32 32-32s32 14.36 32 32v16c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16v-16c0-52.94-43.06-96-96-96s-96 43.06-96 96v228.5c10.41 3.73 20.44 9.62 29.61 18.07 3.53 3.27 15.27 9.43 34.39 9.43z"},child:[]}]})(t)}function Qu(t){return et({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462 241.64l-22-84.84c-9.6-35.2-41.6-60.8-76.8-60.8H352V64c0-17.67-14.33-32-32-32H192c-17.67 0-32 14.33-32 32v32h-11.2c-35.2 0-67.2 25.6-76.8 60.8l-22 84.84C21.41 248.04 0 273.47 0 304v48c0 23.63 12.95 44.04 32 55.12V448c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-32h256v32c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-40.88c19.05-11.09 32-31.5 32-55.12v-48c0-30.53-21.41-55.96-50-62.36zM96 352c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm20.55-112l17.2-66.36c2.23-8.16 9.59-13.64 15.06-13.64h214.4c5.47 0 12.83 5.48 14.85 12.86L395.45 240h-278.9zM416 352c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(t)}function Yu(t){return et({attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"},child:[]}]})(t)}const Zu=[{name:"Room Service",icon:qu,description:"In-room dining and housekeeping services"},{name:"Restaurant",icon:Yu,description:"Hotel restaurants and dining options"},{name:"Concierge",icon:Ai,description:"Concierge and guest services"},{name:"Pool & Gym",icon:Xu,description:"Swimming pool and fitness facilities"},{name:"Spa & Wellness",icon:Ku,description:"Spa treatments and wellness services"},{name:"Bar & Lounge",icon:Vu,description:"Hotel bars and lounges"},{name:"Transportation",icon:Qu,description:"Transportation and taxi services"},{name:"Local Guide",icon:Uu,description:"Local area guide and information"},{name:"Reception",icon:Wu,description:"Front desk and reception services"},{name:"Guest Services",icon:Ai,description:"Additional guest services"}],Ju=()=>e.jsx("div",{className:"hidden md:grid w-full max-w-7xl mx-auto",style:{gridTemplateColumns:"repeat(5, minmax(280px, 1fr))",gridTemplateRows:"repeat(2, 180px)",gap:"24px",padding:"32px 24px",transformOrigin:"top center",marginTop:"2rem",position:"relative",left:"50%",transform:"translateX(-50%) scale(0.65)",width:"180%",maxWidth:"none",placeItems:"center"},children:Zu.map((t,s)=>{const n=t.icon;return e.jsxs("div",{className:"relative group w-full h-full",style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",borderRadius:Ee.borderRadius.xl,border:"1px solid rgba(255, 255, 255, 0.2)",transition:Ee.transitions.normal,cursor:"pointer",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"20px",boxShadow:Ee.shadows.card,overflow:"hidden"},children:[e.jsx("div",{className:"text-white group-hover:scale-110 transition-transform",style:{fontSize:"3rem",marginBottom:"12px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(n,{size:48})}),e.jsx("div",{className:"text-white text-center",style:{fontSize:"18px",fontWeight:"500",lineHeight:"1.4",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",padding:"0 8px"},children:t.name}),t.description&&e.jsx("div",{className:"absolute inset-0 bg-black/80 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center p-4 text-white text-sm text-center",style:{borderRadius:Ee.borderRadius.xl,transition:Ee.transitions.normal},children:t.description})]},s)})});class em{constructor(s){this.gradientRotation=0,this.isHovered=!1,this.isActive=!1,this.waveformPhase=0,this.particles=[],this.mouseX=0,this.mouseY=0,this.isDarkMode=!1,this.elapsedTime=0,this.displayedTime=0,this.timeTarget=60,this.idleFrame=0,this.lastActiveTime=Date.now(),this.idleFlash=0,this.canvas=document.createElement("canvas");const n=document.getElementById(s);if(!n)throw new Error("Container element not found");n.appendChild(this.canvas);const a=this.canvas.getContext("2d");if(!a)throw new Error("Could not get canvas context");this.ctx=a,this.width=500,this.height=500,this.centerX=this.width/2,this.centerY=this.height/2,this.radius=100,this.ripples=[],this.isListening=!1,this.pulsePhase=0,this.volumeLevel=0,this.animationFrameId=0,this.resize(),this.animate(),window.addEventListener("resize",this.resize.bind(this)),n&&(n.addEventListener("mouseenter",()=>{this.isHovered=!0,this.lastActiveTime=Date.now()}),n.addEventListener("mouseleave",()=>{this.isHovered=!1,this.isActive=!1}),n.addEventListener("mousedown",()=>{this.isActive=!0,this.lastActiveTime=Date.now()}),n.addEventListener("mouseup",()=>{this.isActive=!1}),n.addEventListener("mousemove",i=>{const r=n.getBoundingClientRect();this.mouseX=i.clientX-r.left,this.mouseY=i.clientY-r.top,this.lastActiveTime=Date.now()})),this.isDarkMode=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",i=>{this.isDarkMode=i.matches})}resize(){const s=this.canvas.parentElement;if(!s)return;const n=window.devicePixelRatio||1,a=Math.min(s.clientWidth,s.clientHeight);this.width=this.height=a,this.canvas.width=this.canvas.height=a*n,this.canvas.style.width=this.canvas.style.height=`${a}px`,this.canvas.style.borderRadius="50%",this.canvas.style.overflow="hidden",this.ctx.setTransform(1,0,0,1,0,0),this.ctx.scale(n,n),this.centerX=this.width/2,this.centerY=this.height/2}drawTexturePattern(){const s="rgba(232,181,84,0.18)";for(let a=-this.radius;a<this.radius;a+=14)for(let i=-this.radius;i<this.radius;i+=14)a*a+i*i<this.radius*this.radius*.85&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.centerX+a,this.centerY+i,1.2,0,Math.PI*2),this.ctx.fillStyle=s,this.ctx.fill(),this.ctx.restore())}drawLightBeam(){if(!(this.isHovered||this.isActive))return;this.ctx.save();const s=this.ctx.createLinearGradient(this.centerX,this.centerY-this.radius*1.3,this.centerX,this.centerY+this.radius*.5);s.addColorStop(0,"rgba(255,255,255,0.22)"),s.addColorStop(.5,"rgba(255,255,255,0.08)"),s.addColorStop(1,"rgba(255,255,255,0)"),this.ctx.beginPath(),this.ctx.ellipse(this.centerX,this.centerY-this.radius*.7,this.radius*.7,this.radius*.22,0,0,2*Math.PI),this.ctx.fillStyle=s,this.ctx.filter="blur(2.5px)",this.ctx.fill(),this.ctx.filter="none",this.ctx.restore()}drawBaseCircle(){let s=0,n=0;this.isHovered&&(s=(this.mouseX-this.centerX)*.07,n=(this.mouseY-this.centerY)*.07),this.gradientRotation+=.0025;const a=this.gradientRotation%(2*Math.PI),i=this.centerX+Math.cos(a)*this.radius*1.2,r=this.centerY+Math.sin(a)*this.radius*1.2,l=this.ctx.createLinearGradient(this.centerX-this.radius*1.2+s,this.centerY-this.radius*1.2+n,i+s,r+n);l.addColorStop(0,this.isDarkMode?"#559A9A":"#5DB6B9"),l.addColorStop(1,this.isDarkMode?"#559A9A":"#5DB6B9"),this.ctx.save(),this.ctx.globalAlpha=.85,this.ctx.beginPath(),this.ctx.arc(this.centerX+s,this.centerY+n,this.radius*1.25,0,Math.PI*2),this.ctx.strokeStyle=l,this.ctx.lineWidth=12,this.ctx.shadowColor=(this.isHovered,"#559A9A"),this.ctx.shadowBlur=this.isHovered?32:16,this.ctx.stroke(),this.ctx.restore(),this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.centerX+s,this.centerY+n,this.radius*1.13,0,Math.PI*2),this.ctx.fillStyle=this.isDarkMode?"rgba(40,50,80,0.18)":"rgba(255,255,255,0.10)",this.ctx.filter="blur(2.5px)",this.ctx.fill(),this.ctx.filter="none",this.ctx.restore(),this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.centerX+s,this.centerY+n,this.radius*.98,0,Math.PI*2),this.ctx.fillStyle=this.isDarkMode?"#bfa133":"#E8B554",this.ctx.shadowColor=this.isDarkMode?"rgba(85,154,154,0.18)":"rgba(85,154,154,0.25)",this.ctx.shadowBlur=10,this.ctx.fill(),this.ctx.restore(),this.drawTexturePattern(),this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.centerX+s,this.centerY+n,this.radius*.98,0,Math.PI*2),this.ctx.shadowColor=this.isDarkMode?"rgba(85,154,154,0.10)":"rgba(85,154,154,0.18)",this.ctx.shadowBlur=24,this.ctx.globalAlpha=.7,this.ctx.strokeStyle="rgba(0,0,0,0)",this.ctx.lineWidth=8,this.ctx.stroke(),this.ctx.restore(),this.drawLightBeam(),this.drawMicIcon(s,n)}drawMicIcon(s=0,n=0){let a=.85+.15*Math.sin(this.pulsePhase*1.5);this.isHovered&&(a*=1.08),this.isActive&&(a*=.95),this.ctx.save(),this.ctx.translate(this.centerX+s,this.centerY+n),this.ctx.scale(a*2.5,a*2.5),this.ctx.shadowColor=this.isHovered?"rgba(255,255,255,0.95)":"rgba(255,255,255,0.7)",this.ctx.shadowBlur=40+20*a+(this.isHovered?20:0),this.ctx.beginPath(),this.ctx.moveTo(0,18),this.ctx.arc(0,0,18,Math.PI*.15,Math.PI*1.85,!1),this.ctx.lineTo(0,18),this.ctx.closePath(),this.ctx.fillStyle="rgba(255,255,255,0.92)",this.ctx.fill(),this.ctx.beginPath(),this.ctx.moveTo(-4,18),this.ctx.lineTo(-4,28),this.ctx.lineTo(4,28),this.ctx.lineTo(4,18),this.ctx.closePath(),this.ctx.fillStyle="rgba(255,255,255,0.92)",this.ctx.fill(),this.ctx.beginPath(),this.ctx.arc(0,28,6,0,Math.PI,!0),this.ctx.fillStyle="rgba(255,255,255,0.7)",this.ctx.fill(),this.ctx.restore()}drawRipples(){for(let s=this.ripples.length-1;s>=0;s--){const n=this.ripples[s];if(n.radius+=n.speed,n.alpha-=.01,n.alpha<=0){this.ripples.splice(s,1);continue}this.ctx.beginPath(),this.ctx.arc(this.centerX,this.centerY,n.radius,0,Math.PI*2),this.ctx.strokeStyle=`rgba(85,154,154, ${n.alpha})`,this.ctx.lineWidth=2,this.ctx.stroke()}}drawPulsingRing(){if(this.isListening){const s=this.radius+10+Math.sin(this.pulsePhase)*5,n=this.volumeLevel*20;this.ctx.beginPath(),this.ctx.arc(this.centerX,this.centerY,s+n,0,Math.PI*2),this.ctx.strokeStyle="rgba(33, 150, 243, 0.5)",this.ctx.lineWidth=3,this.ctx.stroke(),this.pulsePhase+=.1}}drawWaveform(){if(!this.isListening)return;const s=4;this.waveformPhase+=.08+this.volumeLevel*.12;for(let n=1;n<=s;n++){const a=this.radius*.98+n*10+Math.sin(this.waveformPhase+n)*3*(1+this.volumeLevel);this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.centerX,this.centerY,a,0,Math.PI*2),this.ctx.strokeStyle=`rgba(232,181,84,${.18+.08*(s-n)})`,this.ctx.lineWidth=2+this.volumeLevel*2,this.ctx.shadowColor="rgba(85,154,154,0.22)",this.ctx.shadowBlur=8,this.ctx.stroke(),this.ctx.restore()}}drawParticles(){if(this.isListening&&Math.random()<.18){const s=Math.random()*2*Math.PI,n=this.radius*1.18+Math.random()*16;this.particles.push({x:this.centerX+Math.cos(s)*n,y:this.centerY+Math.sin(s)*n,alpha:.7+Math.random()*.3,size:2+Math.random()*2,speed:.5+Math.random()*.7})}for(let s=this.particles.length-1;s>=0;s--){const n=this.particles[s];if(n.alpha-=.012,n.size*=.98,n.y-=n.speed*.5,n.x+=Math.sin(n.y*.1)*.2,n.alpha<=.05||n.size<.5){this.particles.splice(s,1);continue}this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.x,n.y,n.size,0,Math.PI*2),this.ctx.fillStyle=`rgba(232,181,84,${n.alpha})`,this.ctx.shadowColor="rgba(85,154,154,0.22)",this.ctx.shadowBlur=6,this.ctx.fill(),this.ctx.restore()}}drawTimeRing(){const s=Math.min(1,this.elapsedTime/this.timeTarget),n=s<.5?"#E8B554":s<1?"#d4af37":"#e53935";this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.centerX,this.centerY,this.radius*1.32,-Math.PI/2,-Math.PI/2+s*2*Math.PI),this.ctx.strokeStyle=n,this.ctx.lineWidth=4,this.ctx.shadowColor=n,this.ctx.shadowBlur=s>.95?16:6,this.ctx.globalAlpha=.85,this.ctx.stroke(),this.ctx.restore()}drawTimeText(){this.displayedTime+=(this.elapsedTime-this.displayedTime)*.18;const s=Math.round(this.displayedTime),n=Math.floor(s/60).toString().padStart(2,"0"),a=(s%60).toString().padStart(2,"0"),i=`${n}:${a}`;this.ctx.save(),this.ctx.font="600 1.25rem Montserrat, Raleway, Arial, sans-serif",this.ctx.textAlign="center",this.ctx.textBaseline="top",this.ctx.shadowColor="rgba(85,154,154,0.22)",this.ctx.shadowBlur=8,this.ctx.fillStyle="#fff",this.isDarkMode&&(this.ctx.fillStyle="#e8e8e8"),this.ctx.globalAlpha=.95,this.ctx.fillText(i,this.centerX,this.centerY+this.radius*1.45),this.ctx.restore()}drawIdleFlash(){if(Date.now()-this.lastActiveTime>6e3){this.idleFlash+=.08;const n=.7+.3*Math.abs(Math.sin(this.idleFlash*1.2));this.ctx.save(),this.ctx.globalAlpha=.18*n,this.ctx.beginPath(),this.ctx.arc(this.centerX,this.centerY,this.radius*1.18,0,Math.PI*2),this.ctx.fillStyle="#E8B554",this.ctx.filter="blur(2.5px)",this.ctx.fill(),this.ctx.filter="none",this.ctx.restore()}else this.idleFlash=0}drawVolumeVisualization(){if(!this.isListening)return;const s=16,n=this.radius*1.08;for(let a=0;a<s;a++){const i=2*Math.PI*a/s,r=8+Math.sin(this.waveformPhase+a)*4+this.volumeLevel*18,l=this.centerX+Math.cos(i)*n,o=this.centerY+Math.sin(i)*n,c=this.centerX+Math.cos(i)*(n+r),d=this.centerY+Math.sin(i)*(n+r);this.ctx.save(),this.ctx.strokeStyle=`rgba(232,181,84,${.18+.18*this.volumeLevel})`,this.ctx.lineWidth=2.2,this.ctx.beginPath(),this.ctx.moveTo(l,o),this.ctx.lineTo(c,d),this.ctx.shadowColor="rgba(85,154,154,0.22)",this.ctx.shadowBlur=6,this.ctx.stroke(),this.ctx.restore()}}animate(){const s=Math.min(this.width,this.height)<850;this.radius=s?Math.max(80,Math.min(this.width,this.height)/2.8):Math.max(90,Math.min(this.width,this.height)/5.2),this.ctx.clearRect(0,0,this.width,this.height),this.drawBaseCircle(),this.drawWaveform(),this.drawParticles(),this.drawRipples(),this.drawPulsingRing(),this.drawTimeRing(),this.drawTimeText(),this.drawIdleFlash(),this.drawVolumeVisualization(),this.isListening&&Math.random()<(s?.05:.1)&&this.ripples.push({radius:this.radius,alpha:.4,speed:1+this.volumeLevel*2}),this.animationFrameId=requestAnimationFrame(this.animate.bind(this))}setListening(s){this.isListening=s,s&&(this.ripples=[])}setVolumeLevel(s){this.volumeLevel=Math.max(0,Math.min(1,s))}setTime(s,n=60){this.elapsedTime=s,this.timeTarget=n}getTime(){return this.elapsedTime}cleanup(){window.removeEventListener("resize",this.resize),this.animationFrameId&&cancelAnimationFrame(this.animationFrameId),this.canvas.remove()}}const Ol=({isListening:t,volumeLevel:s,containerId:n,onCallStart:a,onCallEnd:i})=>{const r=h.useRef(null),l=h.useRef(null),[o,c]=h.useState("idle"),[d]=h.useState(()=>Array(12).fill(0));h.useEffect(()=>{c(t?"listening":"idle")},[t]),h.useEffect(()=>{console.log("[SiriCallButton] Initializing with containerId:",n),r.current=new em(n);const m=async f=>{if(console.log("[SiriCallButton] Click detected! isListening:",t),f.preventDefault(),f.stopPropagation(),!t&&a){console.log("[SiriCallButton] Calling onCallStart"),c("listening");try{await a()}catch(p){console.error("[SiriCallButton] Error in onCallStart:",p),c("idle")}}else t&&i&&(console.log("[SiriCallButton] Calling onCallEnd"),c("processing"),i(),setTimeout(()=>c("idle"),500))};l.current=m;const x=document.getElementById(n);if(x){console.log("[SiriCallButton] Adding click listener to element:",x),x.addEventListener("click",m);const f=x.querySelector("canvas");f&&(console.log("[SiriCallButton] Adding click listener to canvas"),f.addEventListener("click",m))}else console.error("[SiriCallButton] Container element not found:",n);return()=>{console.log("[SiriCallButton] Cleaning up"),r.current&&(r.current.cleanup(),r.current=null);const f=document.getElementById(n);if(f&&l.current){f.removeEventListener("click",l.current);const p=f.querySelector("canvas");p&&p.removeEventListener("click",l.current)}l.current=null}},[n]),h.useEffect(()=>{console.log("[SiriCallButton] Callbacks updated - isListening:",t)},[t,a,i]),h.useEffect(()=>{r.current&&r.current.setListening(t)},[t]),h.useEffect(()=>{r.current&&r.current.setVolumeLevel(s)},[s]);const u={idle:"",listening:"Listening...",processing:"Processing...",speaking:"Speaking..."};return e.jsxs("div",{className:"relative",children:[o!=="idle"&&e.jsx("div",{className:`status-indicator ${o}`,children:u[o]}),e.jsx("div",{id:n,className:`voice-button ${t?"listening":""} relative rounded-full overflow-visible`,style:{cursor:"pointer",width:"357.5px",height:"357.5px",transform:"translate(-25%, -25%)",margin:"25% auto"},onClick:m=>{console.log("[SiriCallButton] Div click detected!"),!t&&a?(console.log("[SiriCallButton] Fallback - calling onCallStart"),c("listening"),a()):t&&i&&(console.log("[SiriCallButton] Fallback - calling onCallEnd"),c("processing"),i(),setTimeout(()=>c("idle"),500))},children:e.jsx("div",{className:"gradient-ring",style:{transform:"scale(0.65)"}})}),t&&e.jsx("div",{className:"waveform-container",style:{transform:"scale(0.65)"},children:d.map((m,x)=>e.jsx("div",{className:"waveform-bar",style:{animation:`waveform ${.5+Math.random()*.5}s ease-in-out infinite`,animationDelay:`${x*.1}s`}},x))})]})},tm=({isCallStarted:t,micLevel:s,onCallStart:n,onCallEnd:a})=>e.jsxs("div",{className:"flex flex-col items-center mt-32 md:mt-4",style:{marginBottom:Ee.spacing.xl,width:"357.5px",height:"357.5px",position:"relative",zIndex:Ee.zIndex.above},children:[e.jsx("div",{style:{borderRadius:"50%",boxShadow:Ee.shadows.large,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:e.jsx(Ol,{containerId:"main-siri-button",isListening:t,volumeLevel:s,onCallStart:()=>n("en"),onCallEnd:a})}),e.jsx("div",{className:"block md:hidden",style:{color:Ee.colors.text,fontSize:"1rem",fontWeight:"500",marginTop:"1rem",textAlign:"center",textShadow:"0 2px 4px rgba(0, 0, 0, 0.2)"},children:"Tap To Speak"})]}),sm="Hotel Mui Ne",nm="AI-powered Voice Assistant - Supporting All Your Needs",am="Tap To Speak",im="Room & Stay",rm="Room Services",lm="Bookings & Facilities",om="Tourism & Exploration",cm="Support to book external services",dm="Order Ref",hm="Requested At",um="Estimated Completion",mm="Time Remaining",xm="Mute",pm="Unmute",fm="Confirm",gm="Please speak to the assistant first.",vm="Tap to speak",jm="Order Summary",ym="Confirm",bm="Add Note",wm="Room Number",Nm="Enter room number",Sm="Enter additional notes",Cm="Summary",_m="Generated at",km="Order Confirmed!",Tm="Your request has been confirmed and forwarded to our staff. They will process it right away.",Em="Order Reference",Am="Estimated delivery time:",Pm="Return to Home",Im="Language",Mm="English",Lm="French",Dm="Send",Rm="Cancel",$m="End Call",Fm="Room",Om="Order ID",zm="Guest Name",Bm="Content",qm="Time",Hm="Status",Vm="Action",Gm="Message Guest",Um="Staff Request Management",Wm="Login",Km="Username",Xm="Password",Qm="Tap the call button to start your request.",Ym="Review and confirm your request for accuracy.",Zm="Your request will be sent to the reception for processing.",Jm="Acknowledged",ex="In Progress",tx="Delivering to You",sx="Completed",nx="Special Note",ax="Check-in/Check-out",ix="Extended Stay Request",rx="Room Information",lx="Hotel Policies",ox="Wi-Fi Services",cx="Room Service Food",dx="Drinks & Bar Service",hx="Room Cleaning",ux="Laundry Service",mx="Wake-up Call",xx="Additional Amenities",px="Maintenance Request",fx="Restaurant Reservation",gx="Spa Services",vx="Fitness Center",jx="Swimming Pool",yx="Car Rental",bx="Medical Assistance",wx="Customer Support",Nx="Local Attractions",Sx="Local Restaurants",Cx="Public Transportation",_x="Local Events",kx="Shopping Areas",Tx="Area Maps",Ex="Translation Services",Ax="Leave a Review",Px="Report an Issue",Ix="Luggage Services",Mx="Generating your summary...",Lx="Speak Multiple Languages with Our AI Voice Assistant",Dx={hotel_name:sm,hotel_subtitle:nm,press_to_call:am,room_and_stay:im,room_services:rm,bookings_and_facilities:lm,tourism_and_exploration:om,support_external_services:cm,order_ref:dm,requested_at:hm,estimated_completion:um,time_remaining:mm,mute:xm,unmute:pm,confirm:fm,need_conversation:gm,tap_to_speak:vm,order_summary:jm,send_to_reception:ym,add_note:bm,room_number:wm,enter_room_number:Nm,enter_notes:Sm,summary:Cm,generated_at:_m,order_confirmed:km,order_confirmed_message:Tm,order_reference:Em,estimated_delivery_time:Am,return_to_home:Pm,language:Im,english:Mm,french:Lm,send:Dm,cancel:Rm,confirm_request:$m,room:Fm,order_id:Om,guest_name:zm,content:Bm,time:qm,status:Hm,action:Vm,message_guest:Gm,request_management:Um,login:Wm,username:Km,password:Xm,press_to_call_desc:Qm,confirm_request_desc:Ym,send_to_reception_desc:Zm,status_acknowledged:Jm,status_in_progress:ex,status_delivering:tx,status_completed:sx,status_note:nx,icon_login:ax,icon_hourglass_empty:ix,icon_info:rx,icon_policy:lx,icon_wifi:ox,icon_restaurant:cx,icon_local_bar:dx,icon_cleaning_services:hx,icon_local_laundry_service:ux,icon_alarm:mx,icon_add_circle:xx,icon_build:px,icon_event_seat:fx,icon_spa:gx,icon_fitness_center:vx,icon_pool:jx,icon_directions_car:yx,icon_medical_services:bx,icon_support_agent:wx,icon_location_on:Nx,icon_local_dining:Sx,icon_directions_bus:Cx,icon_event:_x,icon_shopping_bag:kx,icon_map:Tx,icon_translate:Ex,icon_rate_review:Ax,icon_report_problem:Px,icon_luggage:Ix,generating_your_summary:Mx,speak_multiple_languages:Lx},Rx="Bienvenue  Mi Nhon Hotel",$x="Commencer",Fx="Langue",Ox="Anglais",zx="Franais",Bx="Envoyer",qx="Annuler",Hx="Confirmer la demande",Vx="Chambre",Gx="ID de commande",Ux="Nom du client",Wx="Contenu",Kx="Heure",Xx="Statut",Qx="Action",Yx="Message au client",Zx="Gestion des demandes du personnel",Jx="Connexion",ep="Nom d'utilisateur",tp="Mot de passe",sp="Hotel Mui Ne",np="Assistant vocal IA -  votre service pour tous vos besoins",ap="Appuyez pour appeler",ip="Chambre & Sjour",rp="Services de chambre",lp="Rservations & Installations",op="Tourisme & Exploration",cp="Assistance pour services externes",dp="Rf. commande",hp="Demand ",up="Fin estime",mp="Temps restant",xp="Muet",pp="Rtablir le son",fp="Confirmer",gp="Veuillez d'abord parler avec l'assistant.",vp="Appuyez pour parler",jp="Rcapitulatif de la commande",yp="Envoyer  la rception",bp="Ajouter une note",wp="Numro de chambre",Np="Saisir le numro de chambre",Sp="Saisir des notes supplmentaires",Cp="Rsum",_p="Gnr ",kp="Commande confirme !",Tp="Votre demande a t confirme et transmise  notre personnel. Elle sera traite immdiatement.",Ep="Rfrence de la commande",Ap="Heure de livraison estime :",Pp="Retour  l'accueil",Ip="Appuyez sur le bouton d'appel pour dmarrer votre demande.",Mp="Vrifiez et confirmez votre demande pour plus de prcision.",Lp="Votre demande sera envoye  la rception pour traitement.",Dp="Reue",Rp="En cours",$p="En livraison",Fp="Termine",Op="Note spciale",zp="Arrive/Dpart",Bp="Prolongation de sjour",qp="Informations sur la chambre",Hp="Politiques de l'htel",Vp="Services Wi-Fi",Gp="Service de restauration",Up="Service de bar",Wp="Nettoyage de chambre",Kp="Service de blanchisserie",Xp="Service de rveil",Qp="Amnits supplmentaires",Yp="Demande de maintenance",Zp="Rservation au restaurant",Jp="Services de spa",ef="Centre de fitness",tf="Piscine",sf="Location de voiture",nf="Assistance mdicale",af="Service client",rf="Attractions locales",lf="Restaurants locaux",of="Transports publics",cf="vnements locaux",df="Zones commerciales",hf="Cartes de la rgion",uf="Services de traduction",mf="Laisser un avis",xf="Signaler un problme",pf="Services de bagagerie",ff="Gnration de votre rsum...",gf="Parlez Plusieurs Langues avec Notre Assistant Vocal IA",vf={welcome:Rx,start:$x,language:Fx,english:Ox,french:zx,send:Bx,cancel:qx,confirm_request:Hx,room:Vx,order_id:Gx,guest_name:Ux,content:Wx,time:Kx,status:Xx,action:Qx,message_guest:Yx,request_management:Zx,login:Jx,username:ep,password:tp,hotel_name:sp,hotel_subtitle:np,press_to_call:ap,room_and_stay:ip,room_services:rp,bookings_and_facilities:lp,tourism_and_exploration:op,support_external_services:cp,order_ref:dp,requested_at:hp,estimated_completion:up,time_remaining:mp,mute:xp,unmute:pp,confirm:fp,need_conversation:gp,tap_to_speak:vp,order_summary:jp,send_to_reception:yp,add_note:bp,room_number:wp,enter_room_number:Np,enter_notes:Sp,summary:Cp,generated_at:_p,order_confirmed:kp,order_confirmed_message:Tp,order_reference:Ep,estimated_delivery_time:Ap,return_to_home:Pp,press_to_call_desc:Ip,confirm_request_desc:Mp,send_to_reception_desc:Lp,status_acknowledged:Dp,status_in_progress:Rp,status_delivering:$p,status_completed:Fp,status_note:Op,icon_login:zp,icon_hourglass_empty:Bp,icon_info:qp,icon_policy:Hp,icon_wifi:Vp,icon_restaurant:Gp,icon_local_bar:Up,icon_cleaning_services:Wp,icon_local_laundry_service:Kp,icon_alarm:Xp,icon_add_circle:Qp,icon_build:Yp,icon_event_seat:Zp,icon_spa:Jp,icon_fitness_center:ef,icon_pool:tf,icon_directions_car:sf,icon_medical_services:nf,icon_support_agent:af,icon_location_on:rf,icon_local_dining:lf,icon_directions_bus:of,icon_event:cf,icon_shopping_bag:df,icon_map:hf,icon_translate:uf,icon_rate_review:mf,icon_report_problem:xf,icon_luggage:pf,generating_your_summary:ff,speak_multiple_languages:gf},jf=" (Mi Nhon Hotel)",yf="",bf="",wf="",Nf="",Sf="",Cf="",_f="",kf="",Tf="",Ef="",Af="",Pf="",If="",Mf="",Lf="",Df="",Rf="",$f="",Ff="",Of=" Mui Ne",zf="AI - ",Bf="",qf="",Hf="",Vf="",Gf="",Uf="",Wf="",Kf="",Xf="",Qf="",Yf="",Zf="",Jf="",eg="",tg="",sg="",ng="",ag="",ig="",rg="",lg="",og="",cg="",dg="",hg="",ug="",mg="",xg="",pg="",fg="",gg="",vg="",jg="",yg="",bg="",wg="",Ng="/",Sg="",Cg="",_g="",kg="",Tg="",Eg="",Ag="",Pg="",Ig="",Mg="",Lg="",Dg="",Rg="",$g="",Fg="",Og="",zg="",Bg="",qg="",Hg="",Vg="",Gg="",Ug="",Wg="",Kg="",Xg="",Qg="",Yg="",Zg="...",Jg={welcome:jf,start:yf,language:bf,english:wf,french:Nf,send:Sf,cancel:Cf,confirm_request:_f,room:kf,order_id:Tf,guest_name:Ef,content:Af,time:Pf,status:If,action:Mf,message_guest:Lf,request_management:Df,login:Rf,username:$f,password:Ff,hotel_name:Of,hotel_subtitle:zf,press_to_call:Bf,room_and_stay:qf,room_services:Hf,bookings_and_facilities:Vf,tourism_and_exploration:Gf,support_external_services:Uf,order_ref:Wf,requested_at:Kf,estimated_completion:Xf,time_remaining:Qf,mute:Yf,unmute:Zf,confirm:Jf,need_conversation:eg,tap_to_speak:tg,order_summary:sg,send_to_reception:ng,add_note:ag,room_number:ig,enter_room_number:rg,enter_notes:lg,summary:og,generated_at:cg,order_confirmed:dg,order_confirmed_message:hg,order_reference:ug,estimated_delivery_time:mg,return_to_home:xg,press_to_call_desc:pg,confirm_request_desc:fg,send_to_reception_desc:gg,status_acknowledged:vg,status_in_progress:jg,status_delivering:yg,status_completed:bg,status_note:wg,icon_login:Ng,icon_hourglass_empty:Sg,icon_info:Cg,icon_policy:_g,icon_wifi:kg,icon_restaurant:Tg,icon_local_bar:Eg,icon_cleaning_services:Ag,icon_local_laundry_service:Pg,icon_alarm:Ig,icon_add_circle:Mg,icon_build:Lg,icon_event_seat:Dg,icon_spa:Rg,icon_fitness_center:$g,icon_pool:Fg,icon_directions_car:Og,icon_medical_services:zg,icon_support_agent:Bg,icon_location_on:qg,icon_local_dining:Hg,icon_directions_bus:Vg,icon_event:Gg,icon_shopping_bag:Ug,icon_map:Wg,icon_translate:Kg,icon_rate_review:Xg,icon_report_problem:Qg,icon_luggage:Yg,generating_your_summary:Zg},e0="    Mi Nhon",t0="",s0="",n0="",a0="",i0="",r0="",l0="",o0=" ",c0="",d0="ID ",h0=" ",u0="",m0="",x0="",p0="",f0=" ",g0="  ",v0="",j0=" ",y0="",b0=" Mui Ne",w0="- -    ",N0="  ",S0="  ",C0=" ",_0="  ",k0="  ",T0="  ",E0="  ",A0=" ",P0=" ",I0=" ",M0=" ",L0=" ",D0="",R0=",    .",$0=",  ",F0=" ",O0="  ",z0=" ",B0=" ",q0="  ",H0="  ",V0="",G0=" ",U0=" !",W0="      .    .",K0="  ",X0="  :",Q0="  ",Y0="  ,    .",Z0="      .",J0="       .",ev="",tv=" ",sv="",nv="",av=" ",iv="/",rv="   ",lv="  ",ov=" ",cv="Wi-Fi ",dv="  ",hv="  ",uv=" ",mv=" ",xv=" ",pv=" ",fv="   ",gv=" ",vv=" ",jv="-",yv="",bv=" ",wv=" ",Nv=" ",Sv=" ",Cv=" ",_v=" ",kv=" ",Tv=" ",Ev=" ",Av=" ",Pv=" ",Iv="  ",Mv=" ",Lv="  ...",Dv={welcome:e0,start:t0,language:s0,english:n0,french:a0,russian:i0,send:r0,cancel:l0,confirm_request:o0,room:c0,order_id:d0,guest_name:h0,content:u0,time:m0,status:x0,action:p0,message_guest:f0,request_management:g0,login:v0,username:j0,password:y0,hotel_name:b0,hotel_subtitle:w0,press_to_call:N0,room_and_stay:S0,room_services:C0,bookings_and_facilities:_0,tourism_and_exploration:k0,support_external_services:T0,order_ref:E0,requested_at:A0,estimated_completion:P0,time_remaining:I0,mute:M0,unmute:L0,confirm:D0,need_conversation:R0,tap_to_speak:$0,order_summary:F0,send_to_reception:O0,add_note:z0,room_number:B0,enter_room_number:q0,enter_notes:H0,summary:V0,generated_at:G0,order_confirmed:U0,order_confirmed_message:W0,order_reference:K0,estimated_delivery_time:X0,return_to_home:Q0,press_to_call_desc:Y0,confirm_request_desc:Z0,send_to_reception_desc:J0,status_acknowledged:ev,status_in_progress:tv,status_delivering:sv,status_completed:nv,status_note:av,icon_login:iv,icon_hourglass_empty:rv,icon_info:lv,icon_policy:ov,icon_wifi:cv,icon_restaurant:dv,icon_local_bar:hv,icon_cleaning_services:uv,icon_local_laundry_service:mv,icon_alarm:xv,icon_add_circle:pv,icon_build:fv,icon_event_seat:gv,icon_spa:vv,icon_fitness_center:jv,icon_pool:yv,icon_directions_car:bv,icon_medical_services:wv,icon_support_agent:Nv,icon_location_on:Sv,icon_local_dining:Cv,icon_directions_bus:_v,icon_event:kv,icon_shopping_bag:Tv,icon_map:Ev,icon_translate:Av,icon_rate_review:Pv,icon_report_problem:Iv,icon_luggage:Mv,generating_your_summary:Lv},Rv="    ",$v="",Fv="",Ov="",zv="",Bv="",qv="",Hv="",Vv="",Gv=" ",Uv="",Wv=" ID",Kv=" ",Xv="",Qv="",Yv="",Zv="",Jv="  ",ej="  ",tj="",sj=" ",nj="",aj=" ",ij="AI  -   ",rj=" ",lj="  ",oj=" ",cj="  ",dj="  ",hj="  ",uj=" ",mj=" ",xj="  ",pj=" ",fj="",gj=" ",vj="",jj="   .",yj=" ",bj=" ",wj=" ",Nj=" ",Sj=" ",Cj="  ",_j="  ",kj="",Tj=" ",Ej=" !",Aj="    .  .",Pj=" ",Ij="  :",Mj=" ",Lj="    .",Dj="   .",Rj="    .",$j="",Fj=" ",Oj=" ",zj="",Bj=" ",qj="/",Hj="  ",Vj=" ",Gj=" ",Uj=" ",Wj=" ",Kj="   ",Xj=" ",Qj=" ",Yj=" ",Zj="  ",Jj=" ",ey=" ",ty=" ",sy=" ",ny="",ay="",iy=" ",ry=" ",ly=" ",oy=" ",cy="",dy=" ",hy=" ",uy=" ",my=" ",xy=" ",py=" ",fy=" ",gy="  ...",vy={welcome:Rv,start:$v,language:Fv,english:Ov,french:zv,russian:Bv,korean:qv,send:Hv,cancel:Vv,confirm_request:Gv,room:Uv,order_id:Wv,guest_name:Kv,content:Xv,time:Qv,status:Yv,action:Zv,message_guest:Jv,request_management:ej,login:tj,username:sj,password:nj,hotel_name:aj,hotel_subtitle:ij,press_to_call:rj,room_and_stay:lj,room_services:oj,bookings_and_facilities:cj,tourism_and_exploration:dj,support_external_services:hj,order_ref:uj,requested_at:mj,estimated_completion:xj,time_remaining:pj,mute:fj,unmute:gj,confirm:vj,need_conversation:jj,tap_to_speak:yj,order_summary:bj,send_to_reception:wj,add_note:Nj,room_number:Sj,enter_room_number:Cj,enter_notes:_j,summary:kj,generated_at:Tj,order_confirmed:Ej,order_confirmed_message:Aj,order_reference:Pj,estimated_delivery_time:Ij,return_to_home:Mj,press_to_call_desc:Lj,confirm_request_desc:Dj,send_to_reception_desc:Rj,status_acknowledged:$j,status_in_progress:Fj,status_delivering:Oj,status_completed:zj,status_note:Bj,icon_login:qj,icon_hourglass_empty:Hj,icon_info:Vj,icon_policy:Gj,icon_wifi:Uj,icon_restaurant:Wj,icon_local_bar:Kj,icon_cleaning_services:Xj,icon_local_laundry_service:Qj,icon_alarm:Yj,icon_add_circle:Zj,icon_build:Jj,icon_event_seat:ey,icon_spa:ty,icon_fitness_center:sy,icon_pool:ny,icon_directions_car:ay,icon_medical_services:iy,icon_support_agent:ry,icon_location_on:ly,icon_local_dining:oy,icon_directions_bus:cy,icon_event:dy,icon_shopping_bag:hy,icon_map:uy,icon_translate:my,icon_rate_review:xy,icon_report_problem:py,icon_luggage:fy,generating_your_summary:gy},jy="Khch sn Mui Ne",yy="Tr l ging ni AI - H tr mi nhu cu ca bn",by="Nhn  ni",wy="Phng & Lu tr",Ny="Dch v phng",Sy="t ch & Tin ch",Cy="Du lch & Khm ph",_y="H tr t dch v bn ngoi",ky="M n",Ty="Thi gian yu cu",Ey="D kin hon thnh",Ay="Thi gian cn li",Py="Tt mic",Iy="Bt mic",My="Xc nhn",Ly="Vui lng ni chuyn vi tr l trc.",Dy="Chm  ni",Ry="Tm tt n hng",$y="Xc nhn",Fy="Thm ghi ch",Oy="S phng",zy="Nhp s phng",By="Nhp ghi ch b sung",qy="Tm tt",Hy="To lc",Vy=" xc nhn n!",Gy="Yu cu ca bn  c xc nhn v chuyn n nhn vin. Chng ti s x l ngay lp tc.",Uy="M tham chiu",Wy="Thi gian giao d kin:",Ky="V trang ch",Xy="Ngn ng",Qy="Ting Anh",Yy="Ting Php",Zy="Gi",Jy="Hy",eb="Kt thc cuc gi",tb="Phng",sb="M n",nb="Tn khch",ab="Ni dung",ib="Thi gian",rb="Trng thi",lb="Hnh ng",ob="Nhn khch",cb="Qun l yu cu nhn vin",db="ng nhp",hb="Tn ng nhp",ub="Mt khu",mb="Nhn nt gi  bt u yu cu ca bn.",xb="Xem li v xc nhn yu cu ca bn.",pb="Yu cu ca bn s c gi n l tn  x l.",fb=" ghi nhn",gb="ang x l",vb="ang giao cho bn",jb=" hon thnh",yb="Lu  c bit",bb="Nhn/Tr phng",wb="Yu cu gia hn lu tr",Nb="Thng tin phng",Sb="Chnh sch khch sn",Cb="Dch v Wi-Fi",_b=" n ti phng",kb="Dch v  ung & quy bar",Tb="Dn phng",Eb="Git l",Ab="Bo thc",Pb="Tin ch b sung",Ib="Yu cu bo tr",Mb="t ch nh hng",Lb="Dch v Spa",Db="Trung tm th hnh",Rb="H bi",$b="Thu xe",Fb="H tr y t",Ob="Chm sc khch hng",zb="im tham quan",Bb="Nh hng a phng",qb="Phng tin cng cng",Hb="S kin a phng",Vb="Khu mua sm",Gb="Bn  khu vc",Ub="Dch v phin dch",Wb="nh gi",Kb="Bo s c",Xb="Dch v hnh l",Qb="ang to tm tt ca bn...",Yb="Ni Nhiu Ngn Ng vi Tr L AI ca Chng Ti",Zb={hotel_name:jy,hotel_subtitle:yy,press_to_call:by,room_and_stay:wy,room_services:Ny,bookings_and_facilities:Sy,tourism_and_exploration:Cy,support_external_services:_y,order_ref:ky,requested_at:Ty,estimated_completion:Ey,time_remaining:Ay,mute:Py,unmute:Iy,confirm:My,need_conversation:Ly,tap_to_speak:Dy,order_summary:Ry,send_to_reception:$y,add_note:Fy,room_number:Oy,enter_room_number:zy,enter_notes:By,summary:qy,generated_at:Hy,order_confirmed:Vy,order_confirmed_message:Gy,order_reference:Uy,estimated_delivery_time:Wy,return_to_home:Ky,language:Xy,english:Qy,french:Yy,send:Zy,cancel:Jy,confirm_request:eb,room:tb,order_id:sb,guest_name:nb,content:ab,time:ib,status:rb,action:lb,message_guest:ob,request_management:cb,login:db,username:hb,password:ub,press_to_call_desc:mb,confirm_request_desc:xb,send_to_reception_desc:pb,status_acknowledged:fb,status_in_progress:gb,status_delivering:vb,status_completed:jb,status_note:yb,icon_login:bb,icon_hourglass_empty:wb,icon_info:Nb,icon_policy:Sb,icon_wifi:Cb,icon_restaurant:_b,icon_local_bar:kb,icon_cleaning_services:Tb,icon_local_laundry_service:Eb,icon_alarm:Ab,icon_add_circle:Pb,icon_build:Ib,icon_event_seat:Mb,icon_spa:Lb,icon_fitness_center:Db,icon_pool:Rb,icon_directions_car:$b,icon_medical_services:Fb,icon_support_agent:Ob,icon_location_on:zb,icon_local_dining:Bb,icon_directions_bus:qb,icon_event:Hb,icon_shopping_bag:Vb,icon_map:Gb,icon_translate:Ub,icon_rate_review:Wb,icon_report_problem:Kb,icon_luggage:Xb,generating_your_summary:Qb,speak_multiple_languages:Yb},Jb={en:Dx,fr:vf,zh:Jg,ru:Dv,ko:vy,vi:Zb};function le(t,s="en"){return Jb[s][t]||t}const e1=({isOpen:t,onClose:s,isRight:n})=>{const{transcripts:a,modelOutput:i,language:r}=ft(),l=h.useRef(null),o=h.useRef({}),[c,d]=h.useState({}),[u,m]=h.useState([]),x=()=>{Object.values(o.current).forEach(f=>{cancelAnimationFrame(f)}),o.current={}};return h.useEffect(()=>{const f=[...a].sort((y,j)=>y.timestamp.getTime()-j.timestamp.getTime()),p=[];let g=null;f.forEach(y=>{y.role==="user"?(g={id:y.id.toString(),role:"user",timestamp:y.timestamp,messages:[{id:y.id.toString(),content:y.content,timestamp:y.timestamp}]},p.push(g)):((!g||g.role==="user")&&(g={id:y.id.toString(),role:"assistant",timestamp:y.timestamp,messages:[]},p.push(g)),g.messages.push({id:y.id.toString(),content:y.content,timestamp:y.timestamp}))}),m(p)},[a]),h.useEffect(()=>(u.filter(p=>p.role==="assistant").flatMap(p=>p.messages).forEach(p=>{if(c[p.id]===p.content.length)return;let g=c[p.id]||0;const y=p.content,j=()=>{g<y.length?(d(v=>({...v,[p.id]:g+1})),g++,o.current[p.id]=requestAnimationFrame(j)):delete o.current[p.id]};o.current[p.id]=requestAnimationFrame(j)}),()=>x()),[u]),h.useEffect(()=>{l.current&&(l.current.scrollTop=l.current.scrollHeight)},[u]),t?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`relative z-30 overflow-hidden rounded-2xl shadow-2xl realtime-popup ${n?"popup-right":""}`,style:{width:"90vw",maxWidth:360,height:"70vh",maxHeight:440,background:"rgba(255,255,255,0.12)",backdropFilter:"blur(18px)",WebkitBackdropFilter:"blur(18px)",border:"1.5px solid rgba(255,255,255,0.25)",boxShadow:n?"0 8px 32px rgba(0,0,0,0.18), 8px 0 24px rgba(0,0,0,0.10)":"0 8px 32px rgba(0,0,0,0.18)",borderTopLeftRadius:24,borderBottomLeftRadius:24,borderTopRightRadius:24,borderBottomRightRadius:24},children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200/40 bg-white/10",style:{backdropFilter:"blur(4px)"},children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Conversation"}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(ms,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{ref:l,className:"p-4 h-[calc(100%-4rem)] overflow-y-auto",children:[u.length===0&&e.jsx("div",{className:"text-gray-400 text-base text-center select-none",style:{opacity:.7},children:le("tap_to_speak",r)}),u.map((f,p)=>e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0",style:{background:f.role==="user"?"#3B82F6":"#10B981"},children:e.jsx("span",{className:"text-white text-sm",children:f.role==="user"?"U":"A"})}),e.jsxs("div",{className:"flex-1",children:[f.role==="user"?e.jsx("div",{className:"bg-gray-100 rounded-lg p-3",children:e.jsx("p",{className:"text-gray-800",children:f.messages[0].content})}):e.jsx("div",{className:"bg-green-50 rounded-lg p-3",children:e.jsxs("p",{className:"text-base md:text-lg font-medium",style:{position:"relative",background:"linear-gradient(90deg, #FF512F, #F09819, #FFD700, #56ab2f, #43cea2, #1e90ff, #6a11cb, #FF512F)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:600,letterSpacing:.2,transition:"background 0.5s"},children:[e.jsx("span",{className:"inline-flex flex-wrap",children:f.messages.map((g,y)=>{const j=g.content.slice(0,c[g.id]||0);return e.jsxs("span",{style:{whiteSpace:"pre"},children:[j,y===f.messages.length-1&&p===0&&c[g.id]<g.content.length&&e.jsx("span",{className:"animate-blink text-yellow-500",style:{marginLeft:1},children:"|"})]},g.id)})}),p===0&&f.role==="assistant"&&c[f.messages[f.messages.length-1].id]===f.messages[f.messages.length-1].content.length&&e.jsx("span",{className:"ml-2 animate-ellipsis text-yellow-500",children:"..."})]})}),e.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:f.timestamp.toLocaleTimeString()})]})]})},f.id))]})]}),e.jsx("style",{children:`
        @media (min-width: 640px) {
          .realtime-popup {
            width: 340px !important;
            height: 420px !important;
            max-width: 340px !important;
            max-height: 420px !important;
          }
          .popup-right {
            /* C th thm hiu ng i xng nu mun */
          }
        }
      `})]}):null};function t1(t,s){return h.useReducer((n,a)=>s[n][a]??n,t)}var Aa="ScrollArea",[zl,rS]=Mt(Aa),[s1,tt]=zl(Aa),Bl=h.forwardRef((t,s)=>{const{__scopeScrollArea:n,type:a="hover",dir:i,scrollHideDelay:r=600,...l}=t,[o,c]=h.useState(null),[d,u]=h.useState(null),[m,x]=h.useState(null),[f,p]=h.useState(null),[g,y]=h.useState(null),[j,v]=h.useState(0),[b,w]=h.useState(0),[C,k]=h.useState(!1),[B,F]=h.useState(!1),A=He(s,S=>c(S)),_=rr(i);return e.jsx(s1,{scope:n,type:a,dir:_,scrollHideDelay:r,scrollArea:o,viewport:d,onViewportChange:u,content:m,onContentChange:x,scrollbarX:f,onScrollbarXChange:p,scrollbarXEnabled:C,onScrollbarXEnabledChange:k,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:B,onScrollbarYEnabledChange:F,onCornerWidthChange:v,onCornerHeightChange:w,children:e.jsx(ye.div,{dir:_,...l,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});Bl.displayName=Aa;var ql="ScrollAreaViewport",Hl=h.forwardRef((t,s)=>{const{__scopeScrollArea:n,children:a,nonce:i,...r}=t,l=tt(ql,n),o=h.useRef(null),c=He(s,o,l.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),e.jsx(ye.div,{"data-radix-scroll-area-viewport":"",...r,ref:c,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:e.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});Hl.displayName=ql;var ct="ScrollAreaScrollbar",Pa=h.forwardRef((t,s)=>{const{forceMount:n,...a}=t,i=tt(ct,t.__scopeScrollArea),{onScrollbarXEnabledChange:r,onScrollbarYEnabledChange:l}=i,o=t.orientation==="horizontal";return h.useEffect(()=>(o?r(!0):l(!0),()=>{o?r(!1):l(!1)}),[o,r,l]),i.type==="hover"?e.jsx(n1,{...a,ref:s,forceMount:n}):i.type==="scroll"?e.jsx(a1,{...a,ref:s,forceMount:n}):i.type==="auto"?e.jsx(Vl,{...a,ref:s,forceMount:n}):i.type==="always"?e.jsx(Ia,{...a,ref:s}):null});Pa.displayName=ct;var n1=h.forwardRef((t,s)=>{const{forceMount:n,...a}=t,i=tt(ct,t.__scopeScrollArea),[r,l]=h.useState(!1);return h.useEffect(()=>{const o=i.scrollArea;let c=0;if(o){const d=()=>{window.clearTimeout(c),l(!0)},u=()=>{c=window.setTimeout(()=>l(!1),i.scrollHideDelay)};return o.addEventListener("pointerenter",d),o.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),o.removeEventListener("pointerenter",d),o.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),e.jsx(Xt,{present:n||r,children:e.jsx(Vl,{"data-state":r?"visible":"hidden",...a,ref:s})})}),a1=h.forwardRef((t,s)=>{const{forceMount:n,...a}=t,i=tt(ct,t.__scopeScrollArea),r=t.orientation==="horizontal",l=vn(()=>c("SCROLL_END"),100),[o,c]=t1("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(o==="idle"){const d=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(d)}},[o,i.scrollHideDelay,c]),h.useEffect(()=>{const d=i.viewport,u=r?"scrollLeft":"scrollTop";if(d){let m=d[u];const x=()=>{const f=d[u];m!==f&&(c("SCROLL"),l()),m=f};return d.addEventListener("scroll",x),()=>d.removeEventListener("scroll",x)}},[i.viewport,r,c,l]),e.jsx(Xt,{present:n||o!=="hidden",children:e.jsx(Ia,{"data-state":o==="hidden"?"hidden":"visible",...a,ref:s,onPointerEnter:Ce(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ce(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Vl=h.forwardRef((t,s)=>{const n=tt(ct,t.__scopeScrollArea),{forceMount:a,...i}=t,[r,l]=h.useState(!1),o=t.orientation==="horizontal",c=vn(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;l(o?d:u)}},10);return cs(n.viewport,c),cs(n.content,c),e.jsx(Xt,{present:a||r,children:e.jsx(Ia,{"data-state":r?"visible":"hidden",...i,ref:s})})}),Ia=h.forwardRef((t,s)=>{const{orientation:n="vertical",...a}=t,i=tt(ct,t.__scopeScrollArea),r=h.useRef(null),l=h.useRef(0),[o,c]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=Xl(o.viewport,o.content),u={...a,sizes:o,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:x=>r.current=x,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:x=>l.current=x};function m(x,f){return d1(x,l.current,o,f)}return n==="horizontal"?e.jsx(i1,{...u,ref:s,onThumbPositionChange:()=>{if(i.viewport&&r.current){const x=i.viewport.scrollLeft,f=Pi(x,o,i.dir);r.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:x=>{i.viewport&&(i.viewport.scrollLeft=x)},onDragScroll:x=>{i.viewport&&(i.viewport.scrollLeft=m(x,i.dir))}}):n==="vertical"?e.jsx(r1,{...u,ref:s,onThumbPositionChange:()=>{if(i.viewport&&r.current){const x=i.viewport.scrollTop,f=Pi(x,o);r.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:x=>{i.viewport&&(i.viewport.scrollTop=x)},onDragScroll:x=>{i.viewport&&(i.viewport.scrollTop=m(x))}}):null}),i1=h.forwardRef((t,s)=>{const{sizes:n,onSizesChange:a,...i}=t,r=tt(ct,t.__scopeScrollArea),[l,o]=h.useState(),c=h.useRef(null),d=He(s,c,r.onScrollbarXChange);return h.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),e.jsx(Ul,{"data-orientation":"horizontal",...i,ref:d,sizes:n,style:{bottom:0,left:r.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:r.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":gn(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,m)=>{if(r.viewport){const x=r.viewport.scrollLeft+u.deltaX;t.onWheelScroll(x),Yl(x,m)&&u.preventDefault()}},onResize:()=>{c.current&&r.viewport&&l&&a({content:r.viewport.scrollWidth,viewport:r.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:sn(l.paddingLeft),paddingEnd:sn(l.paddingRight)}})}})}),r1=h.forwardRef((t,s)=>{const{sizes:n,onSizesChange:a,...i}=t,r=tt(ct,t.__scopeScrollArea),[l,o]=h.useState(),c=h.useRef(null),d=He(s,c,r.onScrollbarYChange);return h.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),e.jsx(Ul,{"data-orientation":"vertical",...i,ref:d,sizes:n,style:{top:0,right:r.dir==="ltr"?0:void 0,left:r.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":gn(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,m)=>{if(r.viewport){const x=r.viewport.scrollTop+u.deltaY;t.onWheelScroll(x),Yl(x,m)&&u.preventDefault()}},onResize:()=>{c.current&&r.viewport&&l&&a({content:r.viewport.scrollHeight,viewport:r.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:sn(l.paddingTop),paddingEnd:sn(l.paddingBottom)}})}})}),[l1,Gl]=zl(ct),Ul=h.forwardRef((t,s)=>{const{__scopeScrollArea:n,sizes:a,hasThumb:i,onThumbChange:r,onThumbPointerUp:l,onThumbPointerDown:o,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:m,...x}=t,f=tt(ct,n),[p,g]=h.useState(null),y=He(s,A=>g(A)),j=h.useRef(null),v=h.useRef(""),b=f.viewport,w=a.content-a.viewport,C=Ke(u),k=Ke(c),B=vn(m,10);function F(A){if(j.current){const _=A.clientX-j.current.left,S=A.clientY-j.current.top;d({x:_,y:S})}}return h.useEffect(()=>{const A=_=>{const S=_.target;p?.contains(S)&&C(_,w)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[b,p,w,C]),h.useEffect(k,[a,k]),cs(p,B),cs(f.content,B),e.jsx(l1,{scope:n,scrollbar:p,hasThumb:i,onThumbChange:Ke(r),onThumbPointerUp:Ke(l),onThumbPositionChange:k,onThumbPointerDown:Ke(o),children:e.jsx(ye.div,{...x,ref:y,style:{position:"absolute",...x.style},onPointerDown:Ce(t.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),j.current=p.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),F(A))}),onPointerMove:Ce(t.onPointerMove,F),onPointerUp:Ce(t.onPointerUp,A=>{const _=A.target;_.hasPointerCapture(A.pointerId)&&_.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=v.current,f.viewport&&(f.viewport.style.scrollBehavior=""),j.current=null})})})}),tn="ScrollAreaThumb",Wl=h.forwardRef((t,s)=>{const{forceMount:n,...a}=t,i=Gl(tn,t.__scopeScrollArea);return e.jsx(Xt,{present:n||i.hasThumb,children:e.jsx(o1,{ref:s,...a})})}),o1=h.forwardRef((t,s)=>{const{__scopeScrollArea:n,style:a,...i}=t,r=tt(tn,n),l=Gl(tn,n),{onThumbPositionChange:o}=l,c=He(s,m=>l.onThumbChange(m)),d=h.useRef(void 0),u=vn(()=>{d.current&&(d.current(),d.current=void 0)},100);return h.useEffect(()=>{const m=r.viewport;if(m){const x=()=>{if(u(),!d.current){const f=h1(m,o);d.current=f,o()}};return o(),m.addEventListener("scroll",x),()=>m.removeEventListener("scroll",x)}},[r.viewport,u,o]),e.jsx(ye.div,{"data-state":l.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:Ce(t.onPointerDownCapture,m=>{const f=m.target.getBoundingClientRect(),p=m.clientX-f.left,g=m.clientY-f.top;l.onThumbPointerDown({x:p,y:g})}),onPointerUp:Ce(t.onPointerUp,l.onThumbPointerUp)})});Wl.displayName=tn;var Ma="ScrollAreaCorner",Kl=h.forwardRef((t,s)=>{const n=tt(Ma,t.__scopeScrollArea),a=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&a?e.jsx(c1,{...t,ref:s}):null});Kl.displayName=Ma;var c1=h.forwardRef((t,s)=>{const{__scopeScrollArea:n,...a}=t,i=tt(Ma,n),[r,l]=h.useState(0),[o,c]=h.useState(0),d=!!(r&&o);return cs(i.scrollbarX,()=>{const u=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(u),c(u)}),cs(i.scrollbarY,()=>{const u=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(u),l(u)}),d?e.jsx(ye.div,{...a,ref:s,style:{width:r,height:o,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function sn(t){return t?parseInt(t,10):0}function Xl(t,s){const n=t/s;return isNaN(n)?0:n}function gn(t){const s=Xl(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=(t.scrollbar.size-n)*s;return Math.max(a,18)}function d1(t,s,n,a="ltr"){const i=gn(n),r=i/2,l=s||r,o=i-l,c=n.scrollbar.paddingStart+l,d=n.scrollbar.size-n.scrollbar.paddingEnd-o,u=n.content-n.viewport,m=a==="ltr"?[0,u]:[u*-1,0];return Ql([c,d],m)(t)}function Pi(t,s,n="ltr"){const a=gn(s),i=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,r=s.scrollbar.size-i,l=s.content-s.viewport,o=r-a,c=n==="ltr"?[0,l]:[l*-1,0],d=id(t,c);return Ql([0,l],[0,o])(d)}function Ql(t,s){return n=>{if(t[0]===t[1]||s[0]===s[1])return s[0];const a=(s[1]-s[0])/(t[1]-t[0]);return s[0]+a*(n-t[0])}}function Yl(t,s){return t>0&&t<s}var h1=(t,s=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},a=0;return function i(){const r={left:t.scrollLeft,top:t.scrollTop},l=n.left!==r.left,o=n.top!==r.top;(l||o)&&s(),n=r,a=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(a)};function vn(t,s){const n=Ke(t),a=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(a.current),[]),h.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(n,s)},[n,s])}function cs(t,s){const n=Ke(s);bs(()=>{let a=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(a),i.unobserve(t)}}},[t,n])}var Zl=Bl,u1=Hl,m1=Kl;const Qn=h.forwardRef(({className:t,children:s,...n},a)=>e.jsxs(Zl,{ref:a,className:D("relative overflow-hidden",t),...n,children:[e.jsx(u1,{className:"h-full w-full rounded-[inherit]",children:s}),e.jsx(Jl,{}),e.jsx(m1,{})]}));Qn.displayName=Zl.displayName;const Jl=h.forwardRef(({className:t,orientation:s="vertical",...n},a)=>e.jsx(Pa,{ref:a,orientation:s,className:D("flex touch-none select-none transition-colors",s==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",s==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:e.jsx(Wl,{className:"relative flex-1 rounded-full bg-border"})}));Jl.displayName=Pa.displayName;const x1=({isActive:t})=>{const{micLevel:s}=ft(),{config:n,isLoading:a,error:i}=xs(),[r,l]=h.useState(!1),[o,c]=h.useState(!1),[d,u]=h.useState(!1);h.useEffect(()=>{const f=()=>{const p=window.scrollY;c(p>200)};return window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)},[]),h.useEffect(()=>{t||window.scrollTo({top:0,behavior:"smooth"})},[t]),h.useEffect(()=>{if(d){const f=document.getElementById("conversation-popup");f&&f.scrollIntoView({behavior:"smooth",block:"nearest"})}},[d]);const m=()=>{window.scrollTo({top:0,behavior:"smooth"})},x=async f=>{try{return{success:!0}}catch(p){return console.error("Error in handleCall:",p),{success:!1,error:"Failed to start call"}}};return a||!n?e.jsx(Mu,{}):i?e.jsx(Lu,{error:i}):e.jsx(Qn,{className:"relative min-h-screen w-full scroll-smooth",style:{fontFamily:Ee.fonts.primary,minHeight:"calc(100vh - 64px)",marginTop:"64px",backgroundColor:"#2C3E50"},children:e.jsxs("div",{className:"container mx-auto px-4 py-8 relative z-10",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-8 md:space-y-12",children:[e.jsx("h1",{className:"hidden md:block text-4xl md:text-5xl font-bold text-center text-white mb-8",style:{textShadow:Ee.shadows.subtle,maxWidth:"800px",lineHeight:1.2},children:"Speak in Multiple Languages"}),e.jsx(tm,{isCallStarted:r,micLevel:s,onCallStart:async f=>{(await x()).success&&(l(!0),u(!0))},onCallEnd:()=>{l(!1),u(!1)}}),e.jsx(Qn,{className:"w-full max-h-[60vh] md:max-h-[70vh] px-4",children:e.jsx(Ju,{})}),d&&e.jsx("div",{id:"conversation-popup",className:"w-full",children:e.jsx(e1,{isOpen:d,onClose:()=>u(!1),isRight:!0})})]}),o&&e.jsx("button",{className:"fixed bottom-4 right-4 bg-white/10 backdrop-blur-md p-3 rounded-full shadow-lg transition-all duration-300 hover:bg-white/20 z-50",onClick:m,"aria-label":"Scroll to top",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{d:"M5 10l7-7m0 0l7 7m-7-7v18"})})})]})})};function Ii(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function La(t,s){t===void 0&&(t={}),s===void 0&&(s={});const n=["__proto__","constructor","prototype"];Object.keys(s).filter(a=>n.indexOf(a)<0).forEach(a=>{typeof t[a]>"u"?t[a]=s[a]:Ii(s[a])&&Ii(t[a])&&Object.keys(s[a]).length>0&&La(t[a],s[a])})}const eo={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function gt(){const t=typeof document<"u"?document:{};return La(t,eo),t}const p1={document:eo,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Fe(){const t=typeof window<"u"?window:{};return La(t,p1),t}function f1(t){return t===void 0&&(t=""),t.trim().split(" ").filter(s=>!!s.trim())}function g1(t){const s=t;Object.keys(s).forEach(n=>{try{s[n]=null}catch{}try{delete s[n]}catch{}})}function Yn(t,s){return s===void 0&&(s=0),setTimeout(t,s)}function nn(){return Date.now()}function v1(t){const s=Fe();let n;return s.getComputedStyle&&(n=s.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function j1(t,s){s===void 0&&(s="x");const n=Fe();let a,i,r;const l=v1(t);return n.WebKitCSSMatrix?(i=l.transform||l.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(o=>o.replace(",",".")).join(", ")),r=new n.WebKitCSSMatrix(i==="none"?"":i)):(r=l.MozTransform||l.OTransform||l.MsTransform||l.msTransform||l.transform||l.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),a=r.toString().split(",")),s==="x"&&(n.WebKitCSSMatrix?i=r.m41:a.length===16?i=parseFloat(a[12]):i=parseFloat(a[4])),s==="y"&&(n.WebKitCSSMatrix?i=r.m42:a.length===16?i=parseFloat(a[13]):i=parseFloat(a[5])),i||0}function zs(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function y1(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Ge(){const t=Object(arguments.length<=0?void 0:arguments[0]),s=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const a=n<0||arguments.length<=n?void 0:arguments[n];if(a!=null&&!y1(a)){const i=Object.keys(Object(a)).filter(r=>s.indexOf(r)<0);for(let r=0,l=i.length;r<l;r+=1){const o=i[r],c=Object.getOwnPropertyDescriptor(a,o);c!==void 0&&c.enumerable&&(zs(t[o])&&zs(a[o])?a[o].__swiper__?t[o]=a[o]:Ge(t[o],a[o]):!zs(t[o])&&zs(a[o])?(t[o]={},a[o].__swiper__?t[o]=a[o]:Ge(t[o],a[o])):t[o]=a[o])}}}return t}function Bs(t,s,n){t.style.setProperty(s,n)}function to(t){let{swiper:s,targetPosition:n,side:a}=t;const i=Fe(),r=-s.translate;let l=null,o;const c=s.params.speed;s.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(s.cssModeFrameID);const d=n>r?"next":"prev",u=(x,f)=>d==="next"&&x>=f||d==="prev"&&x<=f,m=()=>{o=new Date().getTime(),l===null&&(l=o);const x=Math.max(Math.min((o-l)/c,1),0),f=.5-Math.cos(x*Math.PI)/2;let p=r+f*(n-r);if(u(p,n)&&(p=n),s.wrapperEl.scrollTo({[a]:p}),u(p,n)){s.wrapperEl.style.overflow="hidden",s.wrapperEl.style.scrollSnapType="",setTimeout(()=>{s.wrapperEl.style.overflow="",s.wrapperEl.scrollTo({[a]:p})}),i.cancelAnimationFrame(s.cssModeFrameID);return}s.cssModeFrameID=i.requestAnimationFrame(m)};m()}function rt(t,s){s===void 0&&(s="");const n=Fe(),a=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&a.push(...t.assignedElements()),s?a.filter(i=>i.matches(s)):a}function b1(t,s){const n=[s];for(;n.length>0;){const a=n.shift();if(t===a)return!0;n.push(...a.children,...a.shadowRoot?a.shadowRoot.children:[],...a.assignedElements?a.assignedElements():[])}}function w1(t,s){const n=Fe();let a=s.contains(t);return!a&&n.HTMLSlotElement&&s instanceof HTMLSlotElement&&(a=[...s.assignedElements()].includes(t),a||(a=b1(t,s))),a}function an(t){try{console.warn(t);return}catch{}}function _s(t,s){s===void 0&&(s=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(s)?s:f1(s)),n}function N1(t,s){const n=[];for(;t.previousElementSibling;){const a=t.previousElementSibling;s?a.matches(s)&&n.push(a):n.push(a),t=a}return n}function S1(t,s){const n=[];for(;t.nextElementSibling;){const a=t.nextElementSibling;s?a.matches(s)&&n.push(a):n.push(a),t=a}return n}function Et(t,s){return Fe().getComputedStyle(t,null).getPropertyValue(s)}function ks(t){let s=t,n;if(s){for(n=0;(s=s.previousSibling)!==null;)s.nodeType===1&&(n+=1);return n}}function so(t,s){const n=[];let a=t.parentElement;for(;a;)s?a.matches(s)&&n.push(a):n.push(a),a=a.parentElement;return n}function Zn(t,s,n){const a=Fe();return t[s==="width"?"offsetWidth":"offsetHeight"]+parseFloat(a.getComputedStyle(t,null).getPropertyValue(s==="width"?"margin-right":"margin-top"))+parseFloat(a.getComputedStyle(t,null).getPropertyValue(s==="width"?"margin-left":"margin-bottom"))}function re(t){return(Array.isArray(t)?t:[t]).filter(s=>!!s)}let An;function C1(){const t=Fe(),s=gt();return{smoothScroll:s.documentElement&&s.documentElement.style&&"scrollBehavior"in s.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch)}}function no(){return An||(An=C1()),An}let Pn;function _1(t){let{userAgent:s}=t===void 0?{}:t;const n=no(),a=Fe(),i=a.navigator.platform,r=s||a.navigator.userAgent,l={ios:!1,android:!1},o=a.screen.width,c=a.screen.height,d=r.match(/(Android);?[\s\/]+([\d.]+)?/);let u=r.match(/(iPad).*OS\s([\d_]+)/);const m=r.match(/(iPod)(.*OS\s([\d_]+))?/),x=!u&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f=i==="Win32";let p=i==="MacIntel";const g=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&p&&n.touch&&g.indexOf(`${o}x${c}`)>=0&&(u=r.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),p=!1),d&&!f&&(l.os="android",l.android=!0),(u||x||m)&&(l.os="ios",l.ios=!0),l}function ao(t){return t===void 0&&(t={}),Pn||(Pn=_1(t)),Pn}let In;function k1(){const t=Fe(),s=ao();let n=!1;function a(){const o=t.navigator.userAgent.toLowerCase();return o.indexOf("safari")>=0&&o.indexOf("chrome")<0&&o.indexOf("android")<0}if(a()){const o=String(t.navigator.userAgent);if(o.includes("Version/")){const[c,d]=o.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));n=c<16||c===16&&d<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),r=a(),l=r||i&&s.ios;return{isSafari:n||r,needPerspectiveFix:n,need3dFix:l,isWebView:i}}function io(){return In||(In=k1()),In}function T1(t){let{swiper:s,on:n,emit:a}=t;const i=Fe();let r=null,l=null;const o=()=>{!s||s.destroyed||!s.initialized||(a("beforeResize"),a("resize"))},c=()=>{!s||s.destroyed||!s.initialized||(r=new ResizeObserver(m=>{l=i.requestAnimationFrame(()=>{const{width:x,height:f}=s;let p=x,g=f;m.forEach(y=>{let{contentBoxSize:j,contentRect:v,target:b}=y;b&&b!==s.el||(p=v?v.width:(j[0]||j).inlineSize,g=v?v.height:(j[0]||j).blockSize)}),(p!==x||g!==f)&&o()})}),r.observe(s.el))},d=()=>{l&&i.cancelAnimationFrame(l),r&&r.unobserve&&s.el&&(r.unobserve(s.el),r=null)},u=()=>{!s||s.destroyed||!s.initialized||a("orientationchange")};n("init",()=>{if(s.params.resizeObserver&&typeof i.ResizeObserver<"u"){c();return}i.addEventListener("resize",o),i.addEventListener("orientationchange",u)}),n("destroy",()=>{d(),i.removeEventListener("resize",o),i.removeEventListener("orientationchange",u)})}function E1(t){let{swiper:s,extendParams:n,on:a,emit:i}=t;const r=[],l=Fe(),o=function(u,m){m===void 0&&(m={});const x=l.MutationObserver||l.WebkitMutationObserver,f=new x(p=>{if(s.__preventObserver__)return;if(p.length===1){i("observerUpdate",p[0]);return}const g=function(){i("observerUpdate",p[0])};l.requestAnimationFrame?l.requestAnimationFrame(g):l.setTimeout(g,0)});f.observe(u,{attributes:typeof m.attributes>"u"?!0:m.attributes,childList:s.isElement||(typeof m.childList>"u"?!0:m).childList,characterData:typeof m.characterData>"u"?!0:m.characterData}),r.push(f)},c=()=>{if(s.params.observer){if(s.params.observeParents){const u=so(s.hostEl);for(let m=0;m<u.length;m+=1)o(u[m])}o(s.hostEl,{childList:s.params.observeSlideChildren}),o(s.wrapperEl,{attributes:!1})}},d=()=>{r.forEach(u=>{u.disconnect()}),r.splice(0,r.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),a("init",c),a("destroy",d)}var A1={on(t,s,n){const a=this;if(!a.eventsListeners||a.destroyed||typeof s!="function")return a;const i=n?"unshift":"push";return t.split(" ").forEach(r=>{a.eventsListeners[r]||(a.eventsListeners[r]=[]),a.eventsListeners[r][i](s)}),a},once(t,s,n){const a=this;if(!a.eventsListeners||a.destroyed||typeof s!="function")return a;function i(){a.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];s.apply(a,l)}return i.__emitterProxy=s,a.on(t,i,n)},onAny(t,s){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const a=s?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[a](t),n},offAny(t){const s=this;if(!s.eventsListeners||s.destroyed||!s.eventsAnyListeners)return s;const n=s.eventsAnyListeners.indexOf(t);return n>=0&&s.eventsAnyListeners.splice(n,1),s},off(t,s){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(a=>{typeof s>"u"?n.eventsListeners[a]=[]:n.eventsListeners[a]&&n.eventsListeners[a].forEach((i,r)=>{(i===s||i.__emitterProxy&&i.__emitterProxy===s)&&n.eventsListeners[a].splice(r,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let s,n,a;for(var i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return typeof r[0]=="string"||Array.isArray(r[0])?(s=r[0],n=r.slice(1,r.length),a=t):(s=r[0].events,n=r[0].data,a=r[0].context||t),n.unshift(a),(Array.isArray(s)?s:s.split(" ")).forEach(c=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(d=>{d.apply(a,[c,...n])}),t.eventsListeners&&t.eventsListeners[c]&&t.eventsListeners[c].forEach(d=>{d.apply(a,n)})}),t}};function P1(){const t=this;let s,n;const a=t.el;typeof t.params.width<"u"&&t.params.width!==null?s=t.params.width:s=a.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=a.clientHeight,!(s===0&&t.isHorizontal()||n===0&&t.isVertical())&&(s=s-parseInt(Et(a,"padding-left")||0,10)-parseInt(Et(a,"padding-right")||0,10),n=n-parseInt(Et(a,"padding-top")||0,10)-parseInt(Et(a,"padding-bottom")||0,10),Number.isNaN(s)&&(s=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:s,height:n,size:t.isHorizontal()?s:n}))}function I1(){const t=this;function s(_,S){return parseFloat(_.getPropertyValue(t.getDirectionLabel(S))||0)}const n=t.params,{wrapperEl:a,slidesEl:i,size:r,rtlTranslate:l,wrongRTL:o}=t,c=t.virtual&&n.virtual.enabled,d=c?t.virtual.slides.length:t.slides.length,u=rt(i,`.${t.params.slideClass}, swiper-slide`),m=c?t.virtual.slides.length:u.length;let x=[];const f=[],p=[];let g=n.slidesOffsetBefore;typeof g=="function"&&(g=n.slidesOffsetBefore.call(t));let y=n.slidesOffsetAfter;typeof y=="function"&&(y=n.slidesOffsetAfter.call(t));const j=t.snapGrid.length,v=t.slidesGrid.length;let b=n.spaceBetween,w=-g,C=0,k=0;if(typeof r>"u")return;typeof b=="string"&&b.indexOf("%")>=0?b=parseFloat(b.replace("%",""))/100*r:typeof b=="string"&&(b=parseFloat(b)),t.virtualSize=-b,u.forEach(_=>{l?_.style.marginLeft="":_.style.marginRight="",_.style.marginBottom="",_.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Bs(a,"--swiper-centered-offset-before",""),Bs(a,"--swiper-centered-offset-after",""));const B=n.grid&&n.grid.rows>1&&t.grid;B?t.grid.initSlides(u):t.grid&&t.grid.unsetSlides();let F;const A=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(_=>typeof n.breakpoints[_].slidesPerView<"u").length>0;for(let _=0;_<m;_+=1){F=0;let S;if(u[_]&&(S=u[_]),B&&t.grid.updateSlide(_,S,u),!(u[_]&&Et(S,"display")==="none")){if(n.slidesPerView==="auto"){A&&(u[_].style[t.getDirectionLabel("width")]="");const N=getComputedStyle(S),z=S.style.transform,$=S.style.webkitTransform;if(z&&(S.style.transform="none"),$&&(S.style.webkitTransform="none"),n.roundLengths)F=t.isHorizontal()?Zn(S,"width"):Zn(S,"height");else{const O=s(N,"width"),R=s(N,"padding-left"),T=s(N,"padding-right"),P=s(N,"margin-left"),W=s(N,"margin-right"),ee=N.getPropertyValue("box-sizing");if(ee&&ee==="border-box")F=O+P+W;else{const{clientWidth:Se,offsetWidth:ae}=S;F=O+R+T+P+W+(ae-Se)}}z&&(S.style.transform=z),$&&(S.style.webkitTransform=$),n.roundLengths&&(F=Math.floor(F))}else F=(r-(n.slidesPerView-1)*b)/n.slidesPerView,n.roundLengths&&(F=Math.floor(F)),u[_]&&(u[_].style[t.getDirectionLabel("width")]=`${F}px`);u[_]&&(u[_].swiperSlideSize=F),p.push(F),n.centeredSlides?(w=w+F/2+C/2+b,C===0&&_!==0&&(w=w-r/2-b),_===0&&(w=w-r/2-b),Math.abs(w)<1/1e3&&(w=0),n.roundLengths&&(w=Math.floor(w)),k%n.slidesPerGroup===0&&x.push(w),f.push(w)):(n.roundLengths&&(w=Math.floor(w)),(k-Math.min(t.params.slidesPerGroupSkip,k))%t.params.slidesPerGroup===0&&x.push(w),f.push(w),w=w+F+b),t.virtualSize+=F+b,C=F,k+=1}}if(t.virtualSize=Math.max(t.virtualSize,r)+y,l&&o&&(n.effect==="slide"||n.effect==="coverflow")&&(a.style.width=`${t.virtualSize+b}px`),n.setWrapperSize&&(a.style[t.getDirectionLabel("width")]=`${t.virtualSize+b}px`),B&&t.grid.updateWrapperSize(F,x),!n.centeredSlides){const _=[];for(let S=0;S<x.length;S+=1){let N=x[S];n.roundLengths&&(N=Math.floor(N)),x[S]<=t.virtualSize-r&&_.push(N)}x=_,Math.floor(t.virtualSize-r)-Math.floor(x[x.length-1])>1&&x.push(t.virtualSize-r)}if(c&&n.loop){const _=p[0]+b;if(n.slidesPerGroup>1){const S=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),N=_*n.slidesPerGroup;for(let z=0;z<S;z+=1)x.push(x[x.length-1]+N)}for(let S=0;S<t.virtual.slidesBefore+t.virtual.slidesAfter;S+=1)n.slidesPerGroup===1&&x.push(x[x.length-1]+_),f.push(f[f.length-1]+_),t.virtualSize+=_}if(x.length===0&&(x=[0]),b!==0){const _=t.isHorizontal()&&l?"marginLeft":t.getDirectionLabel("marginRight");u.filter((S,N)=>!n.cssMode||n.loop?!0:N!==u.length-1).forEach(S=>{S.style[_]=`${b}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let _=0;p.forEach(N=>{_+=N+(b||0)}),_-=b;const S=_>r?_-r:0;x=x.map(N=>N<=0?-g:N>S?S+y:N)}if(n.centerInsufficientSlides){let _=0;p.forEach(N=>{_+=N+(b||0)}),_-=b;const S=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(_+S<r){const N=(r-_-S)/2;x.forEach((z,$)=>{x[$]=z-N}),f.forEach((z,$)=>{f[$]=z+N})}}if(Object.assign(t,{slides:u,snapGrid:x,slidesGrid:f,slidesSizesGrid:p}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Bs(a,"--swiper-centered-offset-before",`${-x[0]}px`),Bs(a,"--swiper-centered-offset-after",`${t.size/2-p[p.length-1]/2}px`);const _=-t.snapGrid[0],S=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(N=>N+_),t.slidesGrid=t.slidesGrid.map(N=>N+S)}if(m!==d&&t.emit("slidesLengthChange"),x.length!==j&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),f.length!==v&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!c&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const _=`${n.containerModifierClass}backface-hidden`,S=t.el.classList.contains(_);m<=n.maxBackfaceHiddenSlides?S||t.el.classList.add(_):S&&t.el.classList.remove(_)}}function M1(t){const s=this,n=[],a=s.virtual&&s.params.virtual.enabled;let i=0,r;typeof t=="number"?s.setTransition(t):t===!0&&s.setTransition(s.params.speed);const l=o=>a?s.slides[s.getSlideIndexByData(o)]:s.slides[o];if(s.params.slidesPerView!=="auto"&&s.params.slidesPerView>1)if(s.params.centeredSlides)(s.visibleSlides||[]).forEach(o=>{n.push(o)});else for(r=0;r<Math.ceil(s.params.slidesPerView);r+=1){const o=s.activeIndex+r;if(o>s.slides.length&&!a)break;n.push(l(o))}else n.push(l(s.activeIndex));for(r=0;r<n.length;r+=1)if(typeof n[r]<"u"){const o=n[r].offsetHeight;i=o>i?o:i}(i||i===0)&&(s.wrapperEl.style.height=`${i}px`)}function L1(){const t=this,s=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let a=0;a<s.length;a+=1)s[a].swiperSlideOffset=(t.isHorizontal()?s[a].offsetLeft:s[a].offsetTop)-n-t.cssOverflowAdjustment()}const Mi=(t,s,n)=>{s&&!t.classList.contains(n)?t.classList.add(n):!s&&t.classList.contains(n)&&t.classList.remove(n)};function D1(t){t===void 0&&(t=this&&this.translate||0);const s=this,n=s.params,{slides:a,rtlTranslate:i,snapGrid:r}=s;if(a.length===0)return;typeof a[0].swiperSlideOffset>"u"&&s.updateSlidesOffset();let l=-t;i&&(l=t),s.visibleSlidesIndexes=[],s.visibleSlides=[];let o=n.spaceBetween;typeof o=="string"&&o.indexOf("%")>=0?o=parseFloat(o.replace("%",""))/100*s.size:typeof o=="string"&&(o=parseFloat(o));for(let c=0;c<a.length;c+=1){const d=a[c];let u=d.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(u-=a[0].swiperSlideOffset);const m=(l+(n.centeredSlides?s.minTranslate():0)-u)/(d.swiperSlideSize+o),x=(l-r[0]+(n.centeredSlides?s.minTranslate():0)-u)/(d.swiperSlideSize+o),f=-(l-u),p=f+s.slidesSizesGrid[c],g=f>=0&&f<=s.size-s.slidesSizesGrid[c],y=f>=0&&f<s.size-1||p>1&&p<=s.size||f<=0&&p>=s.size;y&&(s.visibleSlides.push(d),s.visibleSlidesIndexes.push(c)),Mi(d,y,n.slideVisibleClass),Mi(d,g,n.slideFullyVisibleClass),d.progress=i?-m:m,d.originalProgress=i?-x:x}}function R1(t){const s=this;if(typeof t>"u"){const u=s.rtlTranslate?-1:1;t=s&&s.translate&&s.translate*u||0}const n=s.params,a=s.maxTranslate()-s.minTranslate();let{progress:i,isBeginning:r,isEnd:l,progressLoop:o}=s;const c=r,d=l;if(a===0)i=0,r=!0,l=!0;else{i=(t-s.minTranslate())/a;const u=Math.abs(t-s.minTranslate())<1,m=Math.abs(t-s.maxTranslate())<1;r=u||i<=0,l=m||i>=1,u&&(i=0),m&&(i=1)}if(n.loop){const u=s.getSlideIndexByData(0),m=s.getSlideIndexByData(s.slides.length-1),x=s.slidesGrid[u],f=s.slidesGrid[m],p=s.slidesGrid[s.slidesGrid.length-1],g=Math.abs(t);g>=x?o=(g-x)/p:o=(g+p-f)/p,o>1&&(o-=1)}Object.assign(s,{progress:i,progressLoop:o,isBeginning:r,isEnd:l}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&s.updateSlidesProgress(t),r&&!c&&s.emit("reachBeginning toEdge"),l&&!d&&s.emit("reachEnd toEdge"),(c&&!r||d&&!l)&&s.emit("fromEdge"),s.emit("progress",i)}const Mn=(t,s,n)=>{s&&!t.classList.contains(n)?t.classList.add(n):!s&&t.classList.contains(n)&&t.classList.remove(n)};function $1(){const t=this,{slides:s,params:n,slidesEl:a,activeIndex:i}=t,r=t.virtual&&n.virtual.enabled,l=t.grid&&n.grid&&n.grid.rows>1,o=m=>rt(a,`.${n.slideClass}${m}, swiper-slide${m}`)[0];let c,d,u;if(r)if(n.loop){let m=i-t.virtual.slidesBefore;m<0&&(m=t.virtual.slides.length+m),m>=t.virtual.slides.length&&(m-=t.virtual.slides.length),c=o(`[data-swiper-slide-index="${m}"]`)}else c=o(`[data-swiper-slide-index="${i}"]`);else l?(c=s.find(m=>m.column===i),u=s.find(m=>m.column===i+1),d=s.find(m=>m.column===i-1)):c=s[i];c&&(l||(u=S1(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u&&(u=s[0]),d=N1(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d===0&&(d=s[s.length-1]))),s.forEach(m=>{Mn(m,m===c,n.slideActiveClass),Mn(m,m===u,n.slideNextClass),Mn(m,m===d,n.slidePrevClass)}),t.emitSlidesClasses()}const Ws=(t,s)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,a=s.closest(n());if(a){let i=a.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(a.shadowRoot?i=a.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{a.shadowRoot&&(i=a.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},Ln=(t,s)=>{if(!t.slides[s])return;const n=t.slides[s].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Jn=t=>{if(!t||t.destroyed||!t.params)return;let s=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!s||s<0)return;s=Math.min(s,n);const a=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const l=i,o=[l-s];o.push(...Array.from({length:s}).map((c,d)=>l+a+d)),t.slides.forEach((c,d)=>{o.includes(c.column)&&Ln(t,d)});return}const r=i+a-1;if(t.params.rewind||t.params.loop)for(let l=i-s;l<=r+s;l+=1){const o=(l%n+n)%n;(o<i||o>r)&&Ln(t,o)}else for(let l=Math.max(i-s,0);l<=Math.min(r+s,n-1);l+=1)l!==i&&(l>r||l<i)&&Ln(t,l)};function F1(t){const{slidesGrid:s,params:n}=t,a=t.rtlTranslate?t.translate:-t.translate;let i;for(let r=0;r<s.length;r+=1)typeof s[r+1]<"u"?a>=s[r]&&a<s[r+1]-(s[r+1]-s[r])/2?i=r:a>=s[r]&&a<s[r+1]&&(i=r+1):a>=s[r]&&(i=r);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function O1(t){const s=this,n=s.rtlTranslate?s.translate:-s.translate,{snapGrid:a,params:i,activeIndex:r,realIndex:l,snapIndex:o}=s;let c=t,d;const u=f=>{let p=f-s.virtual.slidesBefore;return p<0&&(p=s.virtual.slides.length+p),p>=s.virtual.slides.length&&(p-=s.virtual.slides.length),p};if(typeof c>"u"&&(c=F1(s)),a.indexOf(n)>=0)d=a.indexOf(n);else{const f=Math.min(i.slidesPerGroupSkip,c);d=f+Math.floor((c-f)/i.slidesPerGroup)}if(d>=a.length&&(d=a.length-1),c===r&&!s.params.loop){d!==o&&(s.snapIndex=d,s.emit("snapIndexChange"));return}if(c===r&&s.params.loop&&s.virtual&&s.params.virtual.enabled){s.realIndex=u(c);return}const m=s.grid&&i.grid&&i.grid.rows>1;let x;if(s.virtual&&i.virtual.enabled&&i.loop)x=u(c);else if(m){const f=s.slides.find(g=>g.column===c);let p=parseInt(f.getAttribute("data-swiper-slide-index"),10);Number.isNaN(p)&&(p=Math.max(s.slides.indexOf(f),0)),x=Math.floor(p/i.grid.rows)}else if(s.slides[c]){const f=s.slides[c].getAttribute("data-swiper-slide-index");f?x=parseInt(f,10):x=c}else x=c;Object.assign(s,{previousSnapIndex:o,snapIndex:d,previousRealIndex:l,realIndex:x,previousIndex:r,activeIndex:c}),s.initialized&&Jn(s),s.emit("activeIndexChange"),s.emit("snapIndexChange"),(s.initialized||s.params.runCallbacksOnInit)&&(l!==x&&s.emit("realIndexChange"),s.emit("slideChange"))}function z1(t,s){const n=this,a=n.params;let i=t.closest(`.${a.slideClass}, swiper-slide`);!i&&n.isElement&&s&&s.length>1&&s.includes(t)&&[...s.slice(s.indexOf(t)+1,s.length)].forEach(o=>{!i&&o.matches&&o.matches(`.${a.slideClass}, swiper-slide`)&&(i=o)});let r=!1,l;if(i){for(let o=0;o<n.slides.length;o+=1)if(n.slides[o]===i){r=!0,l=o;break}}if(i&&r)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=l;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}a.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var B1={updateSize:P1,updateSlides:I1,updateAutoHeight:M1,updateSlidesOffset:L1,updateSlidesProgress:D1,updateProgress:R1,updateSlidesClasses:$1,updateActiveIndex:O1,updateClickedSlide:z1};function q1(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const s=this,{params:n,rtlTranslate:a,translate:i,wrapperEl:r}=s;if(n.virtualTranslate)return a?-i:i;if(n.cssMode)return i;let l=j1(r,t);return l+=s.cssOverflowAdjustment(),a&&(l=-l),l||0}function H1(t,s){const n=this,{rtlTranslate:a,params:i,wrapperEl:r,progress:l}=n;let o=0,c=0;const d=0;n.isHorizontal()?o=a?-t:t:c=t,i.roundLengths&&(o=Math.floor(o),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?o:c,i.cssMode?r[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-o:-c:i.virtualTranslate||(n.isHorizontal()?o-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),r.style.transform=`translate3d(${o}px, ${c}px, ${d}px)`);let u;const m=n.maxTranslate()-n.minTranslate();m===0?u=0:u=(t-n.minTranslate())/m,u!==l&&n.updateProgress(t),n.emit("setTranslate",n.translate,s)}function V1(){return-this.snapGrid[0]}function G1(){return-this.snapGrid[this.snapGrid.length-1]}function U1(t,s,n,a,i){t===void 0&&(t=0),s===void 0&&(s=this.params.speed),n===void 0&&(n=!0),a===void 0&&(a=!0);const r=this,{params:l,wrapperEl:o}=r;if(r.animating&&l.preventInteractionOnTransition)return!1;const c=r.minTranslate(),d=r.maxTranslate();let u;if(a&&t>c?u=c:a&&t<d?u=d:u=t,r.updateProgress(u),l.cssMode){const m=r.isHorizontal();if(s===0)o[m?"scrollLeft":"scrollTop"]=-u;else{if(!r.support.smoothScroll)return to({swiper:r,targetPosition:-u,side:m?"left":"top"}),!0;o.scrollTo({[m?"left":"top"]:-u,behavior:"smooth"})}return!0}return s===0?(r.setTransition(0),r.setTranslate(u),n&&(r.emit("beforeTransitionStart",s,i),r.emit("transitionEnd"))):(r.setTransition(s),r.setTranslate(u),n&&(r.emit("beforeTransitionStart",s,i),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(x){!r||r.destroyed||x.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,r.animating=!1,n&&r.emit("transitionEnd"))}),r.wrapperEl.addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd))),!0}var W1={getTranslate:q1,setTranslate:H1,minTranslate:V1,maxTranslate:G1,translateTo:U1};function K1(t,s){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,s)}function ro(t){let{swiper:s,runCallbacks:n,direction:a,step:i}=t;const{activeIndex:r,previousIndex:l}=s;let o=a;if(o||(r>l?o="next":r<l?o="prev":o="reset"),s.emit(`transition${i}`),n&&r!==l){if(o==="reset"){s.emit(`slideResetTransition${i}`);return}s.emit(`slideChangeTransition${i}`),o==="next"?s.emit(`slideNextTransition${i}`):s.emit(`slidePrevTransition${i}`)}}function X1(t,s){t===void 0&&(t=!0);const n=this,{params:a}=n;a.cssMode||(a.autoHeight&&n.updateAutoHeight(),ro({swiper:n,runCallbacks:t,direction:s,step:"Start"}))}function Q1(t,s){t===void 0&&(t=!0);const n=this,{params:a}=n;n.animating=!1,!a.cssMode&&(n.setTransition(0),ro({swiper:n,runCallbacks:t,direction:s,step:"End"}))}var Y1={setTransition:K1,transitionStart:X1,transitionEnd:Q1};function Z1(t,s,n,a,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const r=this;let l=t;l<0&&(l=0);const{params:o,snapGrid:c,slidesGrid:d,previousIndex:u,activeIndex:m,rtlTranslate:x,wrapperEl:f,enabled:p}=r;if(!p&&!a&&!i||r.destroyed||r.animating&&o.preventInteractionOnTransition)return!1;typeof s>"u"&&(s=r.params.speed);const g=Math.min(r.params.slidesPerGroupSkip,l);let y=g+Math.floor((l-g)/r.params.slidesPerGroup);y>=c.length&&(y=c.length-1);const j=-c[y];if(o.normalizeSlideIndex)for(let B=0;B<d.length;B+=1){const F=-Math.floor(j*100),A=Math.floor(d[B]*100),_=Math.floor(d[B+1]*100);typeof d[B+1]<"u"?F>=A&&F<_-(_-A)/2?l=B:F>=A&&F<_&&(l=B+1):F>=A&&(l=B)}if(r.initialized&&l!==m&&(!r.allowSlideNext&&(x?j>r.translate&&j>r.minTranslate():j<r.translate&&j<r.minTranslate())||!r.allowSlidePrev&&j>r.translate&&j>r.maxTranslate()&&(m||0)!==l))return!1;l!==(u||0)&&n&&r.emit("beforeSlideChangeStart"),r.updateProgress(j);let v;l>m?v="next":l<m?v="prev":v="reset";const b=r.virtual&&r.params.virtual.enabled;if(!(b&&i)&&(x&&-j===r.translate||!x&&j===r.translate))return r.updateActiveIndex(l),o.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),o.effect!=="slide"&&r.setTranslate(j),v!=="reset"&&(r.transitionStart(n,v),r.transitionEnd(n,v)),!1;if(o.cssMode){const B=r.isHorizontal(),F=x?j:-j;if(s===0)b&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),b&&!r._cssModeVirtualInitialSet&&r.params.initialSlide>0?(r._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{f[B?"scrollLeft":"scrollTop"]=F})):f[B?"scrollLeft":"scrollTop"]=F,b&&requestAnimationFrame(()=>{r.wrapperEl.style.scrollSnapType="",r._immediateVirtual=!1});else{if(!r.support.smoothScroll)return to({swiper:r,targetPosition:F,side:B?"left":"top"}),!0;f.scrollTo({[B?"left":"top"]:F,behavior:"smooth"})}return!0}const k=io().isSafari;return b&&!i&&k&&r.isElement&&r.virtual.update(!1,!1,l),r.setTransition(s),r.setTranslate(j),r.updateActiveIndex(l),r.updateSlidesClasses(),r.emit("beforeTransitionStart",s,a),r.transitionStart(n,v),s===0?r.transitionEnd(n,v):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(F){!r||r.destroyed||F.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(n,v))}),r.wrapperEl.addEventListener("transitionend",r.onSlideToWrapperTransitionEnd)),!0}function J1(t,s,n,a){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof s>"u"&&(s=i.params.speed);const r=i.grid&&i.params.grid&&i.params.grid.rows>1;let l=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)l=l+i.virtual.slidesBefore;else{let o;if(r){const x=l*i.params.grid.rows;o=i.slides.find(f=>f.getAttribute("data-swiper-slide-index")*1===x).column}else o=i.getSlideIndexByData(l);const c=r?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:d}=i.params;let u=i.params.slidesPerView;u==="auto"?u=i.slidesPerViewDynamic():(u=Math.ceil(parseFloat(i.params.slidesPerView,10)),d&&u%2===0&&(u=u+1));let m=c-o<u;if(d&&(m=m||o<Math.ceil(u/2)),a&&d&&i.params.slidesPerView!=="auto"&&!r&&(m=!1),m){const x=d?o<i.activeIndex?"prev":"next":o-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:x,slideTo:!0,activeSlideIndex:x==="next"?o+1:o-c+1,slideRealIndex:x==="next"?i.realIndex:void 0})}if(r){const x=l*i.params.grid.rows;l=i.slides.find(f=>f.getAttribute("data-swiper-slide-index")*1===x).column}else l=i.getSlideIndexByData(l)}return requestAnimationFrame(()=>{i.slideTo(l,s,n,a)}),i}function ew(t,s,n){s===void 0&&(s=!0);const a=this,{enabled:i,params:r,animating:l}=a;if(!i||a.destroyed)return a;typeof t>"u"&&(t=a.params.speed);let o=r.slidesPerGroup;r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(o=Math.max(a.slidesPerViewDynamic("current",!0),1));const c=a.activeIndex<r.slidesPerGroupSkip?1:o,d=a.virtual&&r.virtual.enabled;if(r.loop){if(l&&!d&&r.loopPreventsSliding)return!1;if(a.loopFix({direction:"next"}),a._clientLeft=a.wrapperEl.clientLeft,a.activeIndex===a.slides.length-1&&r.cssMode)return requestAnimationFrame(()=>{a.slideTo(a.activeIndex+c,t,s,n)}),!0}return r.rewind&&a.isEnd?a.slideTo(0,t,s,n):a.slideTo(a.activeIndex+c,t,s,n)}function tw(t,s,n){s===void 0&&(s=!0);const a=this,{params:i,snapGrid:r,slidesGrid:l,rtlTranslate:o,enabled:c,animating:d}=a;if(!c||a.destroyed)return a;typeof t>"u"&&(t=a.params.speed);const u=a.virtual&&i.virtual.enabled;if(i.loop){if(d&&!u&&i.loopPreventsSliding)return!1;a.loopFix({direction:"prev"}),a._clientLeft=a.wrapperEl.clientLeft}const m=o?a.translate:-a.translate;function x(v){return v<0?-Math.floor(Math.abs(v)):Math.floor(v)}const f=x(m),p=r.map(v=>x(v)),g=i.freeMode&&i.freeMode.enabled;let y=r[p.indexOf(f)-1];if(typeof y>"u"&&(i.cssMode||g)){let v;r.forEach((b,w)=>{f>=b&&(v=w)}),typeof v<"u"&&(y=g?r[v]:r[v>0?v-1:v])}let j=0;if(typeof y<"u"&&(j=l.indexOf(y),j<0&&(j=a.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(j=j-a.slidesPerViewDynamic("previous",!0)+1,j=Math.max(j,0))),i.rewind&&a.isBeginning){const v=a.params.virtual&&a.params.virtual.enabled&&a.virtual?a.virtual.slides.length-1:a.slides.length-1;return a.slideTo(v,t,s,n)}else if(i.loop&&a.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{a.slideTo(j,t,s,n)}),!0;return a.slideTo(j,t,s,n)}function sw(t,s,n){s===void 0&&(s=!0);const a=this;if(!a.destroyed)return typeof t>"u"&&(t=a.params.speed),a.slideTo(a.activeIndex,t,s,n)}function nw(t,s,n,a){s===void 0&&(s=!0),a===void 0&&(a=.5);const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let r=i.activeIndex;const l=Math.min(i.params.slidesPerGroupSkip,r),o=l+Math.floor((r-l)/i.params.slidesPerGroup),c=i.rtlTranslate?i.translate:-i.translate;if(c>=i.snapGrid[o]){const d=i.snapGrid[o],u=i.snapGrid[o+1];c-d>(u-d)*a&&(r+=i.params.slidesPerGroup)}else{const d=i.snapGrid[o-1],u=i.snapGrid[o];c-d<=(u-d)*a&&(r-=i.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,i.slidesGrid.length-1),i.slideTo(r,t,s,n)}function aw(){const t=this;if(t.destroyed)return;const{params:s,slidesEl:n}=t,a=s.slidesPerView==="auto"?t.slidesPerViewDynamic():s.slidesPerView;let i=t.clickedIndex,r;const l=t.isElement?"swiper-slide":`.${s.slideClass}`;if(s.loop){if(t.animating)return;r=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),s.centeredSlides?i<t.loopedSlides-a/2||i>t.slides.length-t.loopedSlides+a/2?(t.loopFix(),i=t.getSlideIndex(rt(n,`${l}[data-swiper-slide-index="${r}"]`)[0]),Yn(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-a?(t.loopFix(),i=t.getSlideIndex(rt(n,`${l}[data-swiper-slide-index="${r}"]`)[0]),Yn(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var iw={slideTo:Z1,slideToLoop:J1,slideNext:ew,slidePrev:tw,slideReset:sw,slideToClosest:nw,slideToClickedSlide:aw};function rw(t,s){const n=this,{params:a,slidesEl:i}=n;if(!a.loop||n.virtual&&n.params.virtual.enabled)return;const r=()=>{rt(i,`.${a.slideClass}, swiper-slide`).forEach((x,f)=>{x.setAttribute("data-swiper-slide-index",f)})},l=n.grid&&a.grid&&a.grid.rows>1,o=a.slidesPerGroup*(l?a.grid.rows:1),c=n.slides.length%o!==0,d=l&&n.slides.length%a.grid.rows!==0,u=m=>{for(let x=0;x<m;x+=1){const f=n.isElement?_s("swiper-slide",[a.slideBlankClass]):_s("div",[a.slideClass,a.slideBlankClass]);n.slidesEl.append(f)}};if(c){if(a.loopAddBlankSlides){const m=o-n.slides.length%o;u(m),n.recalcSlides(),n.updateSlides()}else an("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else if(d){if(a.loopAddBlankSlides){const m=a.grid.rows-n.slides.length%a.grid.rows;u(m),n.recalcSlides(),n.updateSlides()}else an("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else r();n.loopFix({slideRealIndex:t,direction:a.centeredSlides?void 0:"next",initial:s})}function lw(t){let{slideRealIndex:s,slideTo:n=!0,direction:a,setTranslate:i,activeSlideIndex:r,initial:l,byController:o,byMousewheel:c}=t===void 0?{}:t;const d=this;if(!d.params.loop)return;d.emit("beforeLoopFix");const{slides:u,allowSlidePrev:m,allowSlideNext:x,slidesEl:f,params:p}=d,{centeredSlides:g,initialSlide:y}=p;if(d.allowSlidePrev=!0,d.allowSlideNext=!0,d.virtual&&p.virtual.enabled){n&&(!p.centeredSlides&&d.snapIndex===0?d.slideTo(d.virtual.slides.length,0,!1,!0):p.centeredSlides&&d.snapIndex<p.slidesPerView?d.slideTo(d.virtual.slides.length+d.snapIndex,0,!1,!0):d.snapIndex===d.snapGrid.length-1&&d.slideTo(d.virtual.slidesBefore,0,!1,!0)),d.allowSlidePrev=m,d.allowSlideNext=x,d.emit("loopFix");return}let j=p.slidesPerView;j==="auto"?j=d.slidesPerViewDynamic():(j=Math.ceil(parseFloat(p.slidesPerView,10)),g&&j%2===0&&(j=j+1));const v=p.slidesPerGroupAuto?j:p.slidesPerGroup;let b=v;b%v!==0&&(b+=v-b%v),b+=p.loopAdditionalSlides,d.loopedSlides=b;const w=d.grid&&p.grid&&p.grid.rows>1;u.length<j+b||d.params.effect==="cards"&&u.length<j+b*2?an("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):w&&p.grid.fill==="row"&&an("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const C=[],k=[],B=w?Math.ceil(u.length/p.grid.rows):u.length,F=l&&B-y<j&&!g;let A=F?y:d.activeIndex;typeof r>"u"?r=d.getSlideIndex(u.find(R=>R.classList.contains(p.slideActiveClass))):A=r;const _=a==="next"||!a,S=a==="prev"||!a;let N=0,z=0;const O=(w?u[r].column:r)+(g&&typeof i>"u"?-j/2+.5:0);if(O<b){N=Math.max(b-O,v);for(let R=0;R<b-O;R+=1){const T=R-Math.floor(R/B)*B;if(w){const P=B-T-1;for(let W=u.length-1;W>=0;W-=1)u[W].column===P&&C.push(W)}else C.push(B-T-1)}}else if(O+j>B-b){z=Math.max(O-(B-b*2),v),F&&(z=Math.max(z,j-B+y+1));for(let R=0;R<z;R+=1){const T=R-Math.floor(R/B)*B;w?u.forEach((P,W)=>{P.column===T&&k.push(W)}):k.push(T)}}if(d.__preventObserver__=!0,requestAnimationFrame(()=>{d.__preventObserver__=!1}),d.params.effect==="cards"&&u.length<j+b*2&&(k.includes(r)&&k.splice(k.indexOf(r),1),C.includes(r)&&C.splice(C.indexOf(r),1)),S&&C.forEach(R=>{u[R].swiperLoopMoveDOM=!0,f.prepend(u[R]),u[R].swiperLoopMoveDOM=!1}),_&&k.forEach(R=>{u[R].swiperLoopMoveDOM=!0,f.append(u[R]),u[R].swiperLoopMoveDOM=!1}),d.recalcSlides(),p.slidesPerView==="auto"?d.updateSlides():w&&(C.length>0&&S||k.length>0&&_)&&d.slides.forEach((R,T)=>{d.grid.updateSlide(T,R,d.slides)}),p.watchSlidesProgress&&d.updateSlidesOffset(),n){if(C.length>0&&S){if(typeof s>"u"){const R=d.slidesGrid[A],P=d.slidesGrid[A+N]-R;c?d.setTranslate(d.translate-P):(d.slideTo(A+Math.ceil(N),0,!1,!0),i&&(d.touchEventsData.startTranslate=d.touchEventsData.startTranslate-P,d.touchEventsData.currentTranslate=d.touchEventsData.currentTranslate-P))}else if(i){const R=w?C.length/p.grid.rows:C.length;d.slideTo(d.activeIndex+R,0,!1,!0),d.touchEventsData.currentTranslate=d.translate}}else if(k.length>0&&_)if(typeof s>"u"){const R=d.slidesGrid[A],P=d.slidesGrid[A-z]-R;c?d.setTranslate(d.translate-P):(d.slideTo(A-z,0,!1,!0),i&&(d.touchEventsData.startTranslate=d.touchEventsData.startTranslate-P,d.touchEventsData.currentTranslate=d.touchEventsData.currentTranslate-P))}else{const R=w?k.length/p.grid.rows:k.length;d.slideTo(d.activeIndex-R,0,!1,!0)}}if(d.allowSlidePrev=m,d.allowSlideNext=x,d.controller&&d.controller.control&&!o){const R={slideRealIndex:s,direction:a,setTranslate:i,activeSlideIndex:r,byController:!0};Array.isArray(d.controller.control)?d.controller.control.forEach(T=>{!T.destroyed&&T.params.loop&&T.loopFix({...R,slideTo:T.params.slidesPerView===p.slidesPerView?n:!1})}):d.controller.control instanceof d.constructor&&d.controller.control.params.loop&&d.controller.control.loopFix({...R,slideTo:d.controller.control.params.slidesPerView===p.slidesPerView?n:!1})}d.emit("loopFix")}function ow(){const t=this,{params:s,slidesEl:n}=t;if(!s.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const a=[];t.slides.forEach(i=>{const r=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;a[r]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),a.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var cw={loopCreate:rw,loopFix:lw,loopDestroy:ow};function dw(t){const s=this;if(!s.params.simulateTouch||s.params.watchOverflow&&s.isLocked||s.params.cssMode)return;const n=s.params.touchEventsTarget==="container"?s.el:s.wrapperEl;s.isElement&&(s.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",s.isElement&&requestAnimationFrame(()=>{s.__preventObserver__=!1})}function hw(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var uw={setGrabCursor:dw,unsetGrabCursor:hw};function mw(t,s){s===void 0&&(s=this);function n(a){if(!a||a===gt()||a===Fe())return null;a.assignedSlot&&(a=a.assignedSlot);const i=a.closest(t);return!i&&!a.getRootNode?null:i||n(a.getRootNode().host)}return n(s)}function Li(t,s,n){const a=Fe(),{params:i}=t,r=i.edgeSwipeDetection,l=i.edgeSwipeThreshold;return r&&(n<=l||n>=a.innerWidth-l)?r==="prevent"?(s.preventDefault(),!0):!1:!0}function xw(t){const s=this,n=gt();let a=t;a.originalEvent&&(a=a.originalEvent);const i=s.touchEventsData;if(a.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==a.pointerId)return;i.pointerId=a.pointerId}else a.type==="touchstart"&&a.targetTouches.length===1&&(i.touchId=a.targetTouches[0].identifier);if(a.type==="touchstart"){Li(s,a,a.targetTouches[0].pageX);return}const{params:r,touches:l,enabled:o}=s;if(!o||!r.simulateTouch&&a.pointerType==="mouse"||s.animating&&r.preventInteractionOnTransition)return;!s.animating&&r.cssMode&&r.loop&&s.loopFix();let c=a.target;if(r.touchEventsTarget==="wrapper"&&!w1(c,s.wrapperEl)||"which"in a&&a.which===3||"button"in a&&a.button>0||i.isTouched&&i.isMoved)return;const d=!!r.noSwipingClass&&r.noSwipingClass!=="",u=a.composedPath?a.composedPath():a.path;d&&a.target&&a.target.shadowRoot&&u&&(c=u[0]);const m=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,x=!!(a.target&&a.target.shadowRoot);if(r.noSwiping&&(x?mw(m,c):c.closest(m))){s.allowClick=!0;return}if(r.swipeHandler&&!c.closest(r.swipeHandler))return;l.currentX=a.pageX,l.currentY=a.pageY;const f=l.currentX,p=l.currentY;if(!Li(s,a,f))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),l.startX=f,l.startY=p,i.touchStartTime=nn(),s.allowClick=!0,s.updateSize(),s.swipeDirection=void 0,r.threshold>0&&(i.allowThresholdMove=!1);let g=!0;c.matches(i.focusableElements)&&(g=!1,c.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==c&&(a.pointerType==="mouse"||a.pointerType!=="mouse"&&!c.matches(i.focusableElements))&&n.activeElement.blur();const y=g&&s.allowTouchMove&&r.touchStartPreventDefault;(r.touchStartForcePreventDefault||y)&&!c.isContentEditable&&a.preventDefault(),r.freeMode&&r.freeMode.enabled&&s.freeMode&&s.animating&&!r.cssMode&&s.freeMode.onTouchStart(),s.emit("touchStart",a)}function pw(t){const s=gt(),n=this,a=n.touchEventsData,{params:i,touches:r,rtlTranslate:l,enabled:o}=n;if(!o||!i.simulateTouch&&t.pointerType==="mouse")return;let c=t;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(a.touchId!==null||c.pointerId!==a.pointerId))return;let d;if(c.type==="touchmove"){if(d=[...c.changedTouches].find(C=>C.identifier===a.touchId),!d||d.identifier!==a.touchId)return}else d=c;if(!a.isTouched){a.startMoving&&a.isScrolling&&n.emit("touchMoveOpposite",c);return}const u=d.pageX,m=d.pageY;if(c.preventedByNestedSwiper){r.startX=u,r.startY=m;return}if(!n.allowTouchMove){c.target.matches(a.focusableElements)||(n.allowClick=!1),a.isTouched&&(Object.assign(r,{startX:u,startY:m,currentX:u,currentY:m}),a.touchStartTime=nn());return}if(i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(m<r.startY&&n.translate<=n.maxTranslate()||m>r.startY&&n.translate>=n.minTranslate()){a.isTouched=!1,a.isMoved=!1;return}}else{if(l&&(u>r.startX&&-n.translate<=n.maxTranslate()||u<r.startX&&-n.translate>=n.minTranslate()))return;if(!l&&(u<r.startX&&n.translate<=n.maxTranslate()||u>r.startX&&n.translate>=n.minTranslate()))return}if(s.activeElement&&s.activeElement.matches(a.focusableElements)&&s.activeElement!==c.target&&c.pointerType!=="mouse"&&s.activeElement.blur(),s.activeElement&&c.target===s.activeElement&&c.target.matches(a.focusableElements)){a.isMoved=!0,n.allowClick=!1;return}a.allowTouchCallbacks&&n.emit("touchMove",c),r.previousX=r.currentX,r.previousY=r.currentY,r.currentX=u,r.currentY=m;const x=r.currentX-r.startX,f=r.currentY-r.startY;if(n.params.threshold&&Math.sqrt(x**2+f**2)<n.params.threshold)return;if(typeof a.isScrolling>"u"){let C;n.isHorizontal()&&r.currentY===r.startY||n.isVertical()&&r.currentX===r.startX?a.isScrolling=!1:x*x+f*f>=25&&(C=Math.atan2(Math.abs(f),Math.abs(x))*180/Math.PI,a.isScrolling=n.isHorizontal()?C>i.touchAngle:90-C>i.touchAngle)}if(a.isScrolling&&n.emit("touchMoveOpposite",c),typeof a.startMoving>"u"&&(r.currentX!==r.startX||r.currentY!==r.startY)&&(a.startMoving=!0),a.isScrolling||c.type==="touchmove"&&a.preventTouchMoveFromPointerMove){a.isTouched=!1;return}if(!a.startMoving)return;n.allowClick=!1,!i.cssMode&&c.cancelable&&c.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&c.stopPropagation();let p=n.isHorizontal()?x:f,g=n.isHorizontal()?r.currentX-r.previousX:r.currentY-r.previousY;i.oneWayMovement&&(p=Math.abs(p)*(l?1:-1),g=Math.abs(g)*(l?1:-1)),r.diff=p,p*=i.touchRatio,l&&(p=-p,g=-g);const y=n.touchesDirection;n.swipeDirection=p>0?"prev":"next",n.touchesDirection=g>0?"prev":"next";const j=n.params.loop&&!i.cssMode,v=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!a.isMoved){if(j&&v&&n.loopFix({direction:n.swipeDirection}),a.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const C=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(C)}a.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}if(new Date().getTime(),i._loopSwapReset!==!1&&a.isMoved&&a.allowThresholdMove&&y!==n.touchesDirection&&j&&v&&Math.abs(p)>=1){Object.assign(r,{startX:u,startY:m,currentX:u,currentY:m,startTranslate:a.currentTranslate}),a.loopSwapReset=!0,a.startTranslate=a.currentTranslate;return}n.emit("sliderMove",c),a.isMoved=!0,a.currentTranslate=p+a.startTranslate;let b=!0,w=i.resistanceRatio;if(i.touchReleaseOnEdges&&(w=0),p>0?(j&&v&&a.allowThresholdMove&&a.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),a.currentTranslate>n.minTranslate()&&(b=!1,i.resistance&&(a.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+a.startTranslate+p)**w))):p<0&&(j&&v&&a.allowThresholdMove&&a.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),a.currentTranslate<n.maxTranslate()&&(b=!1,i.resistance&&(a.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-a.startTranslate-p)**w))),b&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&a.currentTranslate<a.startTranslate&&(a.currentTranslate=a.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&a.currentTranslate>a.startTranslate&&(a.currentTranslate=a.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(a.currentTranslate=a.startTranslate),i.threshold>0)if(Math.abs(p)>i.threshold||a.allowThresholdMove){if(!a.allowThresholdMove){a.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,a.currentTranslate=a.startTranslate,r.diff=n.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY;return}}else{a.currentTranslate=a.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(a.currentTranslate),n.setTranslate(a.currentTranslate))}function fw(t){const s=this,n=s.touchEventsData;let a=t;a.originalEvent&&(a=a.originalEvent);let i;if(a.type==="touchend"||a.type==="touchcancel"){if(i=[...a.changedTouches].find(C=>C.identifier===n.touchId),!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||a.pointerId!==n.pointerId)return;i=a}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(a.type)&&!(["pointercancel","contextmenu"].includes(a.type)&&(s.browser.isSafari||s.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:l,touches:o,rtlTranslate:c,slidesGrid:d,enabled:u}=s;if(!u||!l.simulateTouch&&a.pointerType==="mouse")return;if(n.allowTouchCallbacks&&s.emit("touchEnd",a),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&l.grabCursor&&s.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}l.grabCursor&&n.isMoved&&n.isTouched&&(s.allowSlideNext===!0||s.allowSlidePrev===!0)&&s.setGrabCursor(!1);const m=nn(),x=m-n.touchStartTime;if(s.allowClick){const C=a.path||a.composedPath&&a.composedPath();s.updateClickedSlide(C&&C[0]||a.target,C),s.emit("tap click",a),x<300&&m-n.lastClickTime<300&&s.emit("doubleTap doubleClick",a)}if(n.lastClickTime=nn(),Yn(()=>{s.destroyed||(s.allowClick=!0)}),!n.isTouched||!n.isMoved||!s.swipeDirection||o.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let f;if(l.followFinger?f=c?s.translate:-s.translate:f=-n.currentTranslate,l.cssMode)return;if(l.freeMode&&l.freeMode.enabled){s.freeMode.onTouchEnd({currentPos:f});return}const p=f>=-s.maxTranslate()&&!s.params.loop;let g=0,y=s.slidesSizesGrid[0];for(let C=0;C<d.length;C+=C<l.slidesPerGroupSkip?1:l.slidesPerGroup){const k=C<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;typeof d[C+k]<"u"?(p||f>=d[C]&&f<d[C+k])&&(g=C,y=d[C+k]-d[C]):(p||f>=d[C])&&(g=C,y=d[d.length-1]-d[d.length-2])}let j=null,v=null;l.rewind&&(s.isBeginning?v=l.virtual&&l.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1:s.isEnd&&(j=0));const b=(f-d[g])/y,w=g<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;if(x>l.longSwipesMs){if(!l.longSwipes){s.slideTo(s.activeIndex);return}s.swipeDirection==="next"&&(b>=l.longSwipesRatio?s.slideTo(l.rewind&&s.isEnd?j:g+w):s.slideTo(g)),s.swipeDirection==="prev"&&(b>1-l.longSwipesRatio?s.slideTo(g+w):v!==null&&b<0&&Math.abs(b)>l.longSwipesRatio?s.slideTo(v):s.slideTo(g))}else{if(!l.shortSwipes){s.slideTo(s.activeIndex);return}s.navigation&&(a.target===s.navigation.nextEl||a.target===s.navigation.prevEl)?a.target===s.navigation.nextEl?s.slideTo(g+w):s.slideTo(g):(s.swipeDirection==="next"&&s.slideTo(j!==null?j:g+w),s.swipeDirection==="prev"&&s.slideTo(v!==null?v:g))}}function Di(){const t=this,{params:s,el:n}=t;if(n&&n.offsetWidth===0)return;s.breakpoints&&t.setBreakpoint();const{allowSlideNext:a,allowSlidePrev:i,snapGrid:r}=t,l=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const o=l&&s.loop;(s.slidesPerView==="auto"||s.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!o?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!l?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=a,t.params.watchOverflow&&r!==t.snapGrid&&t.checkOverflow()}function gw(t){const s=this;s.enabled&&(s.allowClick||(s.params.preventClicks&&t.preventDefault(),s.params.preventClicksPropagation&&s.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function vw(){const t=this,{wrapperEl:s,rtlTranslate:n,enabled:a}=t;if(!a)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-s.scrollLeft:t.translate=-s.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const r=t.maxTranslate()-t.minTranslate();r===0?i=0:i=(t.translate-t.minTranslate())/r,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function jw(t){const s=this;Ws(s,t.target),!(s.params.cssMode||s.params.slidesPerView!=="auto"&&!s.params.autoHeight)&&s.update()}function yw(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const lo=(t,s)=>{const n=gt(),{params:a,el:i,wrapperEl:r,device:l}=t,o=!!a.nested,c=s==="on"?"addEventListener":"removeEventListener",d=s;!i||typeof i=="string"||(n[c]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:o}),i[c]("touchstart",t.onTouchStart,{passive:!1}),i[c]("pointerdown",t.onTouchStart,{passive:!1}),n[c]("touchmove",t.onTouchMove,{passive:!1,capture:o}),n[c]("pointermove",t.onTouchMove,{passive:!1,capture:o}),n[c]("touchend",t.onTouchEnd,{passive:!0}),n[c]("pointerup",t.onTouchEnd,{passive:!0}),n[c]("pointercancel",t.onTouchEnd,{passive:!0}),n[c]("touchcancel",t.onTouchEnd,{passive:!0}),n[c]("pointerout",t.onTouchEnd,{passive:!0}),n[c]("pointerleave",t.onTouchEnd,{passive:!0}),n[c]("contextmenu",t.onTouchEnd,{passive:!0}),(a.preventClicks||a.preventClicksPropagation)&&i[c]("click",t.onClick,!0),a.cssMode&&r[c]("scroll",t.onScroll),a.updateOnWindowResize?t[d](l.ios||l.android?"resize orientationchange observerUpdate":"resize observerUpdate",Di,!0):t[d]("observerUpdate",Di,!0),i[c]("load",t.onLoad,{capture:!0}))};function bw(){const t=this,{params:s}=t;t.onTouchStart=xw.bind(t),t.onTouchMove=pw.bind(t),t.onTouchEnd=fw.bind(t),t.onDocumentTouchStart=yw.bind(t),s.cssMode&&(t.onScroll=vw.bind(t)),t.onClick=gw.bind(t),t.onLoad=jw.bind(t),lo(t,"on")}function ww(){lo(this,"off")}var Nw={attachEvents:bw,detachEvents:ww};const Ri=(t,s)=>t.grid&&s.grid&&s.grid.rows>1;function Sw(){const t=this,{realIndex:s,initialized:n,params:a,el:i}=t,r=a.breakpoints;if(!r||r&&Object.keys(r).length===0)return;const l=gt(),o=a.breakpointsBase==="window"||!a.breakpointsBase?a.breakpointsBase:"container",c=["window","container"].includes(a.breakpointsBase)||!a.breakpointsBase?t.el:l.querySelector(a.breakpointsBase),d=t.getBreakpoint(r,o,c);if(!d||t.currentBreakpoint===d)return;const m=(d in r?r[d]:void 0)||t.originalParams,x=Ri(t,a),f=Ri(t,m),p=t.params.grabCursor,g=m.grabCursor,y=a.enabled;x&&!f?(i.classList.remove(`${a.containerModifierClass}grid`,`${a.containerModifierClass}grid-column`),t.emitContainerClasses()):!x&&f&&(i.classList.add(`${a.containerModifierClass}grid`),(m.grid.fill&&m.grid.fill==="column"||!m.grid.fill&&a.grid.fill==="column")&&i.classList.add(`${a.containerModifierClass}grid-column`),t.emitContainerClasses()),p&&!g?t.unsetGrabCursor():!p&&g&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(k=>{if(typeof m[k]>"u")return;const B=a[k]&&a[k].enabled,F=m[k]&&m[k].enabled;B&&!F&&t[k].disable(),!B&&F&&t[k].enable()});const j=m.direction&&m.direction!==a.direction,v=a.loop&&(m.slidesPerView!==a.slidesPerView||j),b=a.loop;j&&n&&t.changeDirection(),Ge(t.params,m);const w=t.params.enabled,C=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),y&&!w?t.disable():!y&&w&&t.enable(),t.currentBreakpoint=d,t.emit("_beforeBreakpoint",m),n&&(v?(t.loopDestroy(),t.loopCreate(s),t.updateSlides()):!b&&C?(t.loopCreate(s),t.updateSlides()):b&&!C&&t.loopDestroy()),t.emit("breakpoint",m)}function Cw(t,s,n){if(s===void 0&&(s="window"),!t||s==="container"&&!n)return;let a=!1;const i=Fe(),r=s==="window"?i.innerHeight:n.clientHeight,l=Object.keys(t).map(o=>{if(typeof o=="string"&&o.indexOf("@")===0){const c=parseFloat(o.substr(1));return{value:r*c,point:o}}return{value:o,point:o}});l.sort((o,c)=>parseInt(o.value,10)-parseInt(c.value,10));for(let o=0;o<l.length;o+=1){const{point:c,value:d}=l[o];s==="window"?i.matchMedia(`(min-width: ${d}px)`).matches&&(a=c):d<=n.clientWidth&&(a=c)}return a||"max"}var _w={setBreakpoint:Sw,getBreakpoint:Cw};function kw(t,s){const n=[];return t.forEach(a=>{typeof a=="object"?Object.keys(a).forEach(i=>{a[i]&&n.push(s+i)}):typeof a=="string"&&n.push(s+a)}),n}function Tw(){const t=this,{classNames:s,params:n,rtl:a,el:i,device:r}=t,l=kw(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:a},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:r.android},{ios:r.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);s.push(...l),i.classList.add(...s),t.emitContainerClasses()}function Ew(){const t=this,{el:s,classNames:n}=t;!s||typeof s=="string"||(s.classList.remove(...n),t.emitContainerClasses())}var Aw={addClasses:Tw,removeClasses:Ew};function Pw(){const t=this,{isLocked:s,params:n}=t,{slidesOffsetBefore:a}=n;if(a){const i=t.slides.length-1,r=t.slidesGrid[i]+t.slidesSizesGrid[i]+a*2;t.isLocked=t.size>r}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),s&&s!==t.isLocked&&(t.isEnd=!1),s!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var Iw={checkOverflow:Pw},ea={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Mw(t,s){return function(a){a===void 0&&(a={});const i=Object.keys(a)[0],r=a[i];if(typeof r!="object"||r===null){Ge(s,a);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in r)){Ge(s,a);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),Ge(s,a)}}const Dn={eventsEmitter:A1,update:B1,translate:W1,transition:Y1,slide:iw,loop:cw,grabCursor:uw,events:Nw,breakpoints:_w,checkOverflow:Iw,classes:Aw},Rn={};let Da=class ut{constructor(){let s,n;for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[s,n]=i,n||(n={}),n=Ge({},n),s&&!n.el&&(n.el=s);const l=gt();if(n.el&&typeof n.el=="string"&&l.querySelectorAll(n.el).length>1){const u=[];return l.querySelectorAll(n.el).forEach(m=>{const x=Ge({},n,{el:m});u.push(new ut(x))}),u}const o=this;o.__swiper__=!0,o.support=no(),o.device=ao({userAgent:n.userAgent}),o.browser=io(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],n.modules&&Array.isArray(n.modules)&&o.modules.push(...n.modules);const c={};o.modules.forEach(u=>{u({params:n,swiper:o,extendParams:Mw(n,c),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})});const d=Ge({},ea,c);return o.params=Ge({},d,Rn,n),o.originalParams=Ge({},o.params),o.passedParams=Ge({},n),o.params&&o.params.on&&Object.keys(o.params.on).forEach(u=>{o.on(u,o.params.on[u])}),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:s,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return o.params.direction==="horizontal"},isVertical(){return o.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getDirectionLabel(s){return this.isHorizontal()?s:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[s]}getSlideIndex(s){const{slidesEl:n,params:a}=this,i=rt(n,`.${a.slideClass}, swiper-slide`),r=ks(i[0]);return ks(s)-r}getSlideIndexByData(s){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===s))}recalcSlides(){const s=this,{slidesEl:n,params:a}=s;s.slides=rt(n,`.${a.slideClass}, swiper-slide`)}enable(){const s=this;s.enabled||(s.enabled=!0,s.params.grabCursor&&s.setGrabCursor(),s.emit("enable"))}disable(){const s=this;s.enabled&&(s.enabled=!1,s.params.grabCursor&&s.unsetGrabCursor(),s.emit("disable"))}setProgress(s,n){const a=this;s=Math.min(Math.max(s,0),1);const i=a.minTranslate(),l=(a.maxTranslate()-i)*s+i;a.translateTo(l,typeof n>"u"?0:n),a.updateActiveIndex(),a.updateSlidesClasses()}emitContainerClasses(){const s=this;if(!s.params._emitClasses||!s.el)return;const n=s.el.className.split(" ").filter(a=>a.indexOf("swiper")===0||a.indexOf(s.params.containerModifierClass)===0);s.emit("_containerClasses",n.join(" "))}getSlideClasses(s){const n=this;return n.destroyed?"":s.className.split(" ").filter(a=>a.indexOf("swiper-slide")===0||a.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const s=this;if(!s.params._emitClasses||!s.el)return;const n=[];s.slides.forEach(a=>{const i=s.getSlideClasses(a);n.push({slideEl:a,classNames:i}),s.emit("_slideClass",a,i)}),s.emit("_slideClasses",n)}slidesPerViewDynamic(s,n){s===void 0&&(s="current"),n===void 0&&(n=!1);const a=this,{params:i,slides:r,slidesGrid:l,slidesSizesGrid:o,size:c,activeIndex:d}=a;let u=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let m=r[d]?Math.ceil(r[d].swiperSlideSize):0,x;for(let f=d+1;f<r.length;f+=1)r[f]&&!x&&(m+=Math.ceil(r[f].swiperSlideSize),u+=1,m>c&&(x=!0));for(let f=d-1;f>=0;f-=1)r[f]&&!x&&(m+=r[f].swiperSlideSize,u+=1,m>c&&(x=!0))}else if(s==="current")for(let m=d+1;m<r.length;m+=1)(n?l[m]+o[m]-l[d]<c:l[m]-l[d]<c)&&(u+=1);else for(let m=d-1;m>=0;m-=1)l[d]-l[m]<c&&(u+=1);return u}update(){const s=this;if(!s||s.destroyed)return;const{snapGrid:n,params:a}=s;a.breakpoints&&s.setBreakpoint(),[...s.el.querySelectorAll('[loading="lazy"]')].forEach(l=>{l.complete&&Ws(s,l)}),s.updateSize(),s.updateSlides(),s.updateProgress(),s.updateSlidesClasses();function i(){const l=s.rtlTranslate?s.translate*-1:s.translate,o=Math.min(Math.max(l,s.maxTranslate()),s.minTranslate());s.setTranslate(o),s.updateActiveIndex(),s.updateSlidesClasses()}let r;if(a.freeMode&&a.freeMode.enabled&&!a.cssMode)i(),a.autoHeight&&s.updateAutoHeight();else{if((a.slidesPerView==="auto"||a.slidesPerView>1)&&s.isEnd&&!a.centeredSlides){const l=s.virtual&&a.virtual.enabled?s.virtual.slides:s.slides;r=s.slideTo(l.length-1,0,!1,!0)}else r=s.slideTo(s.activeIndex,0,!1,!0);r||i()}a.watchOverflow&&n!==s.snapGrid&&s.checkOverflow(),s.emit("update")}changeDirection(s,n){n===void 0&&(n=!0);const a=this,i=a.params.direction;return s||(s=i==="horizontal"?"vertical":"horizontal"),s===i||s!=="horizontal"&&s!=="vertical"||(a.el.classList.remove(`${a.params.containerModifierClass}${i}`),a.el.classList.add(`${a.params.containerModifierClass}${s}`),a.emitContainerClasses(),a.params.direction=s,a.slides.forEach(r=>{s==="vertical"?r.style.width="":r.style.height=""}),a.emit("changeDirection"),n&&a.update()),a}changeLanguageDirection(s){const n=this;n.rtl&&s==="rtl"||!n.rtl&&s==="ltr"||(n.rtl=s==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(s){const n=this;if(n.mounted)return!0;let a=s||n.params.el;if(typeof a=="string"&&(a=document.querySelector(a)),!a)return!1;a.swiper=n,a.parentNode&&a.parentNode.host&&a.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let l=a&&a.shadowRoot&&a.shadowRoot.querySelector?a.shadowRoot.querySelector(i()):rt(a,i())[0];return!l&&n.params.createElements&&(l=_s("div",n.params.wrapperClass),a.append(l),rt(a,`.${n.params.slideClass}`).forEach(o=>{l.append(o)})),Object.assign(n,{el:a,wrapperEl:l,slidesEl:n.isElement&&!a.parentNode.host.slideSlots?a.parentNode.host:l,hostEl:n.isElement?a.parentNode.host:a,mounted:!0,rtl:a.dir.toLowerCase()==="rtl"||Et(a,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(a.dir.toLowerCase()==="rtl"||Et(a,"direction")==="rtl"),wrongRTL:Et(l,"display")==="-webkit-box"}),!0}init(s){const n=this;if(n.initialized||n.mount(s)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(r=>{r.complete?Ws(n,r):r.addEventListener("load",l=>{Ws(n,l.target)})}),Jn(n),n.initialized=!0,Jn(n),n.emit("init"),n.emit("afterInit"),n}destroy(s,n){s===void 0&&(s=!0),n===void 0&&(n=!0);const a=this,{params:i,el:r,wrapperEl:l,slides:o}=a;return typeof a.params>"u"||a.destroyed||(a.emit("beforeDestroy"),a.initialized=!1,a.detachEvents(),i.loop&&a.loopDestroy(),n&&(a.removeClasses(),r&&typeof r!="string"&&r.removeAttribute("style"),l&&l.removeAttribute("style"),o&&o.length&&o.forEach(c=>{c.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),a.emit("destroy"),Object.keys(a.eventsListeners).forEach(c=>{a.off(c)}),s!==!1&&(a.el&&typeof a.el!="string"&&(a.el.swiper=null),g1(a)),a.destroyed=!0),null}static extendDefaults(s){Ge(Rn,s)}static get extendedDefaults(){return Rn}static get defaults(){return ea}static installModule(s){ut.prototype.__modules__||(ut.prototype.__modules__=[]);const n=ut.prototype.__modules__;typeof s=="function"&&n.indexOf(s)<0&&n.push(s)}static use(s){return Array.isArray(s)?(s.forEach(n=>ut.installModule(n)),ut):(ut.installModule(s),ut)}};Object.keys(Dn).forEach(t=>{Object.keys(Dn[t]).forEach(s=>{Da.prototype[s]=Dn[t][s]})});Da.use([T1,E1]);const oo=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Kt(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function as(t,s){const n=["__proto__","constructor","prototype"];Object.keys(s).filter(a=>n.indexOf(a)<0).forEach(a=>{typeof t[a]>"u"?t[a]=s[a]:Kt(s[a])&&Kt(t[a])&&Object.keys(s[a]).length>0?s[a].__swiper__?t[a]=s[a]:as(t[a],s[a]):t[a]=s[a]})}function co(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function ho(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function uo(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function mo(t){t===void 0&&(t="");const s=t.split(" ").map(a=>a.trim()).filter(a=>!!a),n=[];return s.forEach(a=>{n.indexOf(a)<0&&n.push(a)}),n.join(" ")}function Lw(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function Dw(t){let{swiper:s,slides:n,passedParams:a,changedParams:i,nextEl:r,prevEl:l,scrollbarEl:o,paginationEl:c}=t;const d=i.filter(A=>A!=="children"&&A!=="direction"&&A!=="wrapperClass"),{params:u,pagination:m,navigation:x,scrollbar:f,virtual:p,thumbs:g}=s;let y,j,v,b,w,C,k,B;i.includes("thumbs")&&a.thumbs&&a.thumbs.swiper&&!a.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(y=!0),i.includes("controller")&&a.controller&&a.controller.control&&u.controller&&!u.controller.control&&(j=!0),i.includes("pagination")&&a.pagination&&(a.pagination.el||c)&&(u.pagination||u.pagination===!1)&&m&&!m.el&&(v=!0),i.includes("scrollbar")&&a.scrollbar&&(a.scrollbar.el||o)&&(u.scrollbar||u.scrollbar===!1)&&f&&!f.el&&(b=!0),i.includes("navigation")&&a.navigation&&(a.navigation.prevEl||l)&&(a.navigation.nextEl||r)&&(u.navigation||u.navigation===!1)&&x&&!x.prevEl&&!x.nextEl&&(w=!0);const F=A=>{s[A]&&(s[A].destroy(),A==="navigation"?(s.isElement&&(s[A].prevEl.remove(),s[A].nextEl.remove()),u[A].prevEl=void 0,u[A].nextEl=void 0,s[A].prevEl=void 0,s[A].nextEl=void 0):(s.isElement&&s[A].el.remove(),u[A].el=void 0,s[A].el=void 0))};i.includes("loop")&&s.isElement&&(u.loop&&!a.loop?C=!0:!u.loop&&a.loop?k=!0:B=!0),d.forEach(A=>{if(Kt(u[A])&&Kt(a[A]))Object.assign(u[A],a[A]),(A==="navigation"||A==="pagination"||A==="scrollbar")&&"enabled"in a[A]&&!a[A].enabled&&F(A);else{const _=a[A];(_===!0||_===!1)&&(A==="navigation"||A==="pagination"||A==="scrollbar")?_===!1&&F(A):u[A]=a[A]}}),d.includes("controller")&&!j&&s.controller&&s.controller.control&&u.controller&&u.controller.control&&(s.controller.control=u.controller.control),i.includes("children")&&n&&p&&u.virtual.enabled?(p.slides=n,p.update(!0)):i.includes("virtual")&&p&&u.virtual.enabled&&(n&&(p.slides=n),p.update(!0)),i.includes("children")&&n&&u.loop&&(B=!0),y&&g.init()&&g.update(!0),j&&(s.controller.control=u.controller.control),v&&(s.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-pagination"),c.part.add("pagination"),s.el.appendChild(c)),c&&(u.pagination.el=c),m.init(),m.render(),m.update()),b&&(s.isElement&&(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-scrollbar"),o.part.add("scrollbar"),s.el.appendChild(o)),o&&(u.scrollbar.el=o),f.init(),f.updateSize(),f.setTranslate()),w&&(s.isElement&&((!r||typeof r=="string")&&(r=document.createElement("div"),r.classList.add("swiper-button-next"),r.innerHTML=s.hostEl.constructor.nextButtonSvg,r.part.add("button-next"),s.el.appendChild(r)),(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-button-prev"),l.innerHTML=s.hostEl.constructor.prevButtonSvg,l.part.add("button-prev"),s.el.appendChild(l))),r&&(u.navigation.nextEl=r),l&&(u.navigation.prevEl=l),x.init(),x.update()),i.includes("allowSlideNext")&&(s.allowSlideNext=a.allowSlideNext),i.includes("allowSlidePrev")&&(s.allowSlidePrev=a.allowSlidePrev),i.includes("direction")&&s.changeDirection(a.direction,!1),(C||B)&&s.loopDestroy(),(k||B)&&s.loopCreate(),s.update()}function Rw(t,s){t===void 0&&(t={}),s===void 0&&(s=!0);const n={on:{}},a={},i={};as(n,ea),n._emitClasses=!0,n.init=!1;const r={},l=oo.map(c=>c.replace(/_/,"")),o=Object.assign({},t);return Object.keys(o).forEach(c=>{typeof t[c]>"u"||(l.indexOf(c)>=0?Kt(t[c])?(n[c]={},i[c]={},as(n[c],t[c]),as(i[c],t[c])):(n[c]=t[c],i[c]=t[c]):c.search(/on[A-Z]/)===0&&typeof t[c]=="function"?s?a[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:n.on[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:r[c]=t[c])}),["navigation","pagination","scrollbar"].forEach(c=>{n[c]===!0&&(n[c]={}),n[c]===!1&&delete n[c]}),{params:n,passedParams:i,rest:r,events:a}}function $w(t,s){let{el:n,nextEl:a,prevEl:i,paginationEl:r,scrollbarEl:l,swiper:o}=t;co(s)&&a&&i&&(o.params.navigation.nextEl=a,o.originalParams.navigation.nextEl=a,o.params.navigation.prevEl=i,o.originalParams.navigation.prevEl=i),ho(s)&&r&&(o.params.pagination.el=r,o.originalParams.pagination.el=r),uo(s)&&l&&(o.params.scrollbar.el=l,o.originalParams.scrollbar.el=l),o.init(n)}function Fw(t,s,n,a,i){const r=[];if(!s)return r;const l=c=>{r.indexOf(c)<0&&r.push(c)};if(n&&a){const c=a.map(i),d=n.map(i);c.join("")!==d.join("")&&l("children"),a.length!==n.length&&l("children")}return oo.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in t&&c in s)if(Kt(t[c])&&Kt(s[c])){const d=Object.keys(t[c]),u=Object.keys(s[c]);d.length!==u.length?l(c):(d.forEach(m=>{t[c][m]!==s[c][m]&&l(c)}),u.forEach(m=>{t[c][m]!==s[c][m]&&l(c)}))}else t[c]!==s[c]&&l(c)}),r}const Ow=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function rn(){return rn=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},rn.apply(this,arguments)}function xo(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function po(t){const s=[];return xe.Children.toArray(t).forEach(n=>{xo(n)?s.push(n):n.props&&n.props.children&&po(n.props.children).forEach(a=>s.push(a))}),s}function zw(t){const s=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return xe.Children.toArray(t).forEach(a=>{if(xo(a))s.push(a);else if(a.props&&a.props.slot&&n[a.props.slot])n[a.props.slot].push(a);else if(a.props&&a.props.children){const i=po(a.props.children);i.length>0?i.forEach(r=>s.push(r)):n["container-end"].push(a)}else n["container-end"].push(a)}),{slides:s,slots:n}}function Bw(t,s,n){if(!n)return null;const a=u=>{let m=u;return u<0?m=s.length+u:m>=s.length&&(m=m-s.length),m},i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:r,to:l}=n,o=t.params.loop?-s.length:0,c=t.params.loop?s.length*2:s.length,d=[];for(let u=o;u<c;u+=1)u>=r&&u<=l&&d.push(s[a(u)]);return d.map((u,m)=>xe.cloneElement(u,{swiper:t,style:i,key:u.props.virtualIndex||u.key||`slide-${m}`}))}function ys(t,s){return typeof window>"u"?h.useEffect(t,s):h.useLayoutEffect(t,s)}const $i=h.createContext(null),qw=h.createContext(null),fo=h.forwardRef(function(t,s){let{className:n,tag:a="div",wrapperTag:i="div",children:r,onSwiper:l,...o}=t===void 0?{}:t,c=!1;const[d,u]=h.useState("swiper"),[m,x]=h.useState(null),[f,p]=h.useState(!1),g=h.useRef(!1),y=h.useRef(null),j=h.useRef(null),v=h.useRef(null),b=h.useRef(null),w=h.useRef(null),C=h.useRef(null),k=h.useRef(null),B=h.useRef(null),{params:F,passedParams:A,rest:_,events:S}=Rw(o),{slides:N,slots:z}=zw(r),$=()=>{p(!f)};Object.assign(F.on,{_containerClasses(W,ee){u(ee)}});const O=()=>{Object.assign(F.on,S),c=!0;const W={...F};if(delete W.wrapperClass,j.current=new Da(W),j.current.virtual&&j.current.params.virtual.enabled){j.current.virtual.slides=N;const ee={cache:!1,slides:N,renderExternal:x,renderExternalUpdate:!1};as(j.current.params.virtual,ee),as(j.current.originalParams.virtual,ee)}};y.current||O(),j.current&&j.current.on("_beforeBreakpoint",$);const R=()=>{c||!S||!j.current||Object.keys(S).forEach(W=>{j.current.on(W,S[W])})},T=()=>{!S||!j.current||Object.keys(S).forEach(W=>{j.current.off(W,S[W])})};h.useEffect(()=>()=>{j.current&&j.current.off("_beforeBreakpoint",$)}),h.useEffect(()=>{!g.current&&j.current&&(j.current.emitSlidesClasses(),g.current=!0)}),ys(()=>{if(s&&(s.current=y.current),!!y.current)return j.current.destroyed&&O(),$w({el:y.current,nextEl:w.current,prevEl:C.current,paginationEl:k.current,scrollbarEl:B.current,swiper:j.current},F),l&&!j.current.destroyed&&l(j.current),()=>{j.current&&!j.current.destroyed&&j.current.destroy(!0,!1)}},[]),ys(()=>{R();const W=Fw(A,v.current,N,b.current,ee=>ee.key);return v.current=A,b.current=N,W.length&&j.current&&!j.current.destroyed&&Dw({swiper:j.current,slides:N,passedParams:A,changedParams:W,nextEl:w.current,prevEl:C.current,scrollbarEl:B.current,paginationEl:k.current}),()=>{T()}}),ys(()=>{Ow(j.current)},[m]);function P(){return F.virtual?Bw(j.current,N,m):N.map((W,ee)=>xe.cloneElement(W,{swiper:j.current,swiperSlideIndex:ee}))}return xe.createElement(a,rn({ref:y,className:mo(`${d}${n?` ${n}`:""}`)},_),xe.createElement(qw.Provider,{value:j.current},z["container-start"],xe.createElement(i,{className:Lw(F.wrapperClass)},z["wrapper-start"],P(),z["wrapper-end"]),co(F)&&xe.createElement(xe.Fragment,null,xe.createElement("div",{ref:C,className:"swiper-button-prev"}),xe.createElement("div",{ref:w,className:"swiper-button-next"})),uo(F)&&xe.createElement("div",{ref:B,className:"swiper-scrollbar"}),ho(F)&&xe.createElement("div",{ref:k,className:"swiper-pagination"}),z["container-end"]))});fo.displayName="Swiper";const go=h.forwardRef(function(t,s){let{tag:n="div",children:a,className:i="",swiper:r,zoom:l,lazy:o,virtualIndex:c,swiperSlideIndex:d,...u}=t===void 0?{}:t;const m=h.useRef(null),[x,f]=h.useState("swiper-slide"),[p,g]=h.useState(!1);function y(w,C,k){C===m.current&&f(k)}ys(()=>{if(typeof d<"u"&&(m.current.swiperSlideIndex=d),s&&(s.current=m.current),!(!m.current||!r)){if(r.destroyed){x!=="swiper-slide"&&f("swiper-slide");return}return r.on("_slideClass",y),()=>{r&&r.off("_slideClass",y)}}}),ys(()=>{r&&m.current&&!r.destroyed&&f(r.getSlideClasses(m.current))},[r]);const j={isActive:x.indexOf("swiper-slide-active")>=0,isVisible:x.indexOf("swiper-slide-visible")>=0,isPrev:x.indexOf("swiper-slide-prev")>=0,isNext:x.indexOf("swiper-slide-next")>=0},v=()=>typeof a=="function"?a(j):a,b=()=>{g(!0)};return xe.createElement(n,rn({ref:m,className:mo(`${x}${i?` ${i}`:""}`),"data-swiper-slide-index":c,onLoad:b},u),l&&xe.createElement($i.Provider,{value:j},xe.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof l=="number"?l:void 0},v(),o&&!p&&xe.createElement("div",{className:"swiper-lazy-preloader"}))),!l&&xe.createElement($i.Provider,{value:j},v(),o&&!p&&xe.createElement("div",{className:"swiper-lazy-preloader"})))});go.displayName="SwiperSlide";function vo(t,s,n,a){return t.params.createElements&&Object.keys(a).forEach(i=>{if(!n[i]&&n.auto===!0){let r=rt(t.el,`.${a[i]}`)[0];r||(r=_s("div",a[i]),r.className=a[i],t.el.append(r)),n[i]=r,s[i]=r}}),n}function Hw(t){let{swiper:s,extendParams:n,on:a,emit:i}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),s.navigation={nextEl:null,prevEl:null};function r(p){let g;return p&&typeof p=="string"&&s.isElement&&(g=s.el.querySelector(p)||s.hostEl.querySelector(p),g)?g:(p&&(typeof p=="string"&&(g=[...document.querySelectorAll(p)]),s.params.uniqueNavElements&&typeof p=="string"&&g&&g.length>1&&s.el.querySelectorAll(p).length===1?g=s.el.querySelector(p):g&&g.length===1&&(g=g[0])),p&&!g?p:g)}function l(p,g){const y=s.params.navigation;p=re(p),p.forEach(j=>{j&&(j.classList[g?"add":"remove"](...y.disabledClass.split(" ")),j.tagName==="BUTTON"&&(j.disabled=g),s.params.watchOverflow&&s.enabled&&j.classList[s.isLocked?"add":"remove"](y.lockClass))})}function o(){const{nextEl:p,prevEl:g}=s.navigation;if(s.params.loop){l(g,!1),l(p,!1);return}l(g,s.isBeginning&&!s.params.rewind),l(p,s.isEnd&&!s.params.rewind)}function c(p){p.preventDefault(),!(s.isBeginning&&!s.params.loop&&!s.params.rewind)&&(s.slidePrev(),i("navigationPrev"))}function d(p){p.preventDefault(),!(s.isEnd&&!s.params.loop&&!s.params.rewind)&&(s.slideNext(),i("navigationNext"))}function u(){const p=s.params.navigation;if(s.params.navigation=vo(s,s.originalParams.navigation,s.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(p.nextEl||p.prevEl))return;let g=r(p.nextEl),y=r(p.prevEl);Object.assign(s.navigation,{nextEl:g,prevEl:y}),g=re(g),y=re(y);const j=(v,b)=>{v&&v.addEventListener("click",b==="next"?d:c),!s.enabled&&v&&v.classList.add(...p.lockClass.split(" "))};g.forEach(v=>j(v,"next")),y.forEach(v=>j(v,"prev"))}function m(){let{nextEl:p,prevEl:g}=s.navigation;p=re(p),g=re(g);const y=(j,v)=>{j.removeEventListener("click",v==="next"?d:c),j.classList.remove(...s.params.navigation.disabledClass.split(" "))};p.forEach(j=>y(j,"next")),g.forEach(j=>y(j,"prev"))}a("init",()=>{s.params.navigation.enabled===!1?f():(u(),o())}),a("toEdge fromEdge lock unlock",()=>{o()}),a("destroy",()=>{m()}),a("enable disable",()=>{let{nextEl:p,prevEl:g}=s.navigation;if(p=re(p),g=re(g),s.enabled){o();return}[...p,...g].filter(y=>!!y).forEach(y=>y.classList.add(s.params.navigation.lockClass))}),a("click",(p,g)=>{let{nextEl:y,prevEl:j}=s.navigation;y=re(y),j=re(j);const v=g.target;let b=j.includes(v)||y.includes(v);if(s.isElement&&!b){const w=g.path||g.composedPath&&g.composedPath();w&&(b=w.find(C=>y.includes(C)||j.includes(C)))}if(s.params.navigation.hideOnClick&&!b){if(s.pagination&&s.params.pagination&&s.params.pagination.clickable&&(s.pagination.el===v||s.pagination.el.contains(v)))return;let w;y.length?w=y[0].classList.contains(s.params.navigation.hiddenClass):j.length&&(w=j[0].classList.contains(s.params.navigation.hiddenClass)),i(w===!0?"navigationShow":"navigationHide"),[...y,...j].filter(C=>!!C).forEach(C=>C.classList.toggle(s.params.navigation.hiddenClass))}});const x=()=>{s.el.classList.remove(...s.params.navigation.navigationDisabledClass.split(" ")),u(),o()},f=()=>{s.el.classList.add(...s.params.navigation.navigationDisabledClass.split(" ")),m()};Object.assign(s.navigation,{enable:x,disable:f,update:o,init:u,destroy:m})}function Tt(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function Vw(t){let{swiper:s,extendParams:n,on:a,emit:i}=t;const r="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:v=>v,formatFractionTotal:v=>v,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),s.pagination={el:null,bullets:[]};let l,o=0;function c(){return!s.params.pagination.el||!s.pagination.el||Array.isArray(s.pagination.el)&&s.pagination.el.length===0}function d(v,b){const{bulletActiveClass:w}=s.params.pagination;v&&(v=v[`${b==="prev"?"previous":"next"}ElementSibling`],v&&(v.classList.add(`${w}-${b}`),v=v[`${b==="prev"?"previous":"next"}ElementSibling`],v&&v.classList.add(`${w}-${b}-${b}`)))}function u(v,b,w){if(v=v%w,b=b%w,b===v+1)return"next";if(b===v-1)return"previous"}function m(v){const b=v.target.closest(Tt(s.params.pagination.bulletClass));if(!b)return;v.preventDefault();const w=ks(b)*s.params.slidesPerGroup;if(s.params.loop){if(s.realIndex===w)return;const C=u(s.realIndex,w,s.slides.length);C==="next"?s.slideNext():C==="previous"?s.slidePrev():s.slideToLoop(w)}else s.slideTo(w)}function x(){const v=s.rtl,b=s.params.pagination;if(c())return;let w=s.pagination.el;w=re(w);let C,k;const B=s.virtual&&s.params.virtual.enabled?s.virtual.slides.length:s.slides.length,F=s.params.loop?Math.ceil(B/s.params.slidesPerGroup):s.snapGrid.length;if(s.params.loop?(k=s.previousRealIndex||0,C=s.params.slidesPerGroup>1?Math.floor(s.realIndex/s.params.slidesPerGroup):s.realIndex):typeof s.snapIndex<"u"?(C=s.snapIndex,k=s.previousSnapIndex):(k=s.previousIndex||0,C=s.activeIndex||0),b.type==="bullets"&&s.pagination.bullets&&s.pagination.bullets.length>0){const A=s.pagination.bullets;let _,S,N;if(b.dynamicBullets&&(l=Zn(A[0],s.isHorizontal()?"width":"height"),w.forEach(z=>{z.style[s.isHorizontal()?"width":"height"]=`${l*(b.dynamicMainBullets+4)}px`}),b.dynamicMainBullets>1&&k!==void 0&&(o+=C-(k||0),o>b.dynamicMainBullets-1?o=b.dynamicMainBullets-1:o<0&&(o=0)),_=Math.max(C-o,0),S=_+(Math.min(A.length,b.dynamicMainBullets)-1),N=(S+_)/2),A.forEach(z=>{const $=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(O=>`${b.bulletActiveClass}${O}`)].map(O=>typeof O=="string"&&O.includes(" ")?O.split(" "):O).flat();z.classList.remove(...$)}),w.length>1)A.forEach(z=>{const $=ks(z);$===C?z.classList.add(...b.bulletActiveClass.split(" ")):s.isElement&&z.setAttribute("part","bullet"),b.dynamicBullets&&($>=_&&$<=S&&z.classList.add(...`${b.bulletActiveClass}-main`.split(" ")),$===_&&d(z,"prev"),$===S&&d(z,"next"))});else{const z=A[C];if(z&&z.classList.add(...b.bulletActiveClass.split(" ")),s.isElement&&A.forEach(($,O)=>{$.setAttribute("part",O===C?"bullet-active":"bullet")}),b.dynamicBullets){const $=A[_],O=A[S];for(let R=_;R<=S;R+=1)A[R]&&A[R].classList.add(...`${b.bulletActiveClass}-main`.split(" "));d($,"prev"),d(O,"next")}}if(b.dynamicBullets){const z=Math.min(A.length,b.dynamicMainBullets+4),$=(l*z-l)/2-N*l,O=v?"right":"left";A.forEach(R=>{R.style[s.isHorizontal()?O:"top"]=`${$}px`})}}w.forEach((A,_)=>{if(b.type==="fraction"&&(A.querySelectorAll(Tt(b.currentClass)).forEach(S=>{S.textContent=b.formatFractionCurrent(C+1)}),A.querySelectorAll(Tt(b.totalClass)).forEach(S=>{S.textContent=b.formatFractionTotal(F)})),b.type==="progressbar"){let S;b.progressbarOpposite?S=s.isHorizontal()?"vertical":"horizontal":S=s.isHorizontal()?"horizontal":"vertical";const N=(C+1)/F;let z=1,$=1;S==="horizontal"?z=N:$=N,A.querySelectorAll(Tt(b.progressbarFillClass)).forEach(O=>{O.style.transform=`translate3d(0,0,0) scaleX(${z}) scaleY(${$})`,O.style.transitionDuration=`${s.params.speed}ms`})}b.type==="custom"&&b.renderCustom?(A.innerHTML=b.renderCustom(s,C+1,F),_===0&&i("paginationRender",A)):(_===0&&i("paginationRender",A),i("paginationUpdate",A)),s.params.watchOverflow&&s.enabled&&A.classList[s.isLocked?"add":"remove"](b.lockClass)})}function f(){const v=s.params.pagination;if(c())return;const b=s.virtual&&s.params.virtual.enabled?s.virtual.slides.length:s.grid&&s.params.grid.rows>1?s.slides.length/Math.ceil(s.params.grid.rows):s.slides.length;let w=s.pagination.el;w=re(w);let C="";if(v.type==="bullets"){let k=s.params.loop?Math.ceil(b/s.params.slidesPerGroup):s.snapGrid.length;s.params.freeMode&&s.params.freeMode.enabled&&k>b&&(k=b);for(let B=0;B<k;B+=1)v.renderBullet?C+=v.renderBullet.call(s,B,v.bulletClass):C+=`<${v.bulletElement} ${s.isElement?'part="bullet"':""} class="${v.bulletClass}"></${v.bulletElement}>`}v.type==="fraction"&&(v.renderFraction?C=v.renderFraction.call(s,v.currentClass,v.totalClass):C=`<span class="${v.currentClass}"></span> / <span class="${v.totalClass}"></span>`),v.type==="progressbar"&&(v.renderProgressbar?C=v.renderProgressbar.call(s,v.progressbarFillClass):C=`<span class="${v.progressbarFillClass}"></span>`),s.pagination.bullets=[],w.forEach(k=>{v.type!=="custom"&&(k.innerHTML=C||""),v.type==="bullets"&&s.pagination.bullets.push(...k.querySelectorAll(Tt(v.bulletClass)))}),v.type!=="custom"&&i("paginationRender",w[0])}function p(){s.params.pagination=vo(s,s.originalParams.pagination,s.params.pagination,{el:"swiper-pagination"});const v=s.params.pagination;if(!v.el)return;let b;typeof v.el=="string"&&s.isElement&&(b=s.el.querySelector(v.el)),!b&&typeof v.el=="string"&&(b=[...document.querySelectorAll(v.el)]),b||(b=v.el),!(!b||b.length===0)&&(s.params.uniqueNavElements&&typeof v.el=="string"&&Array.isArray(b)&&b.length>1&&(b=[...s.el.querySelectorAll(v.el)],b.length>1&&(b=b.find(w=>so(w,".swiper")[0]===s.el))),Array.isArray(b)&&b.length===1&&(b=b[0]),Object.assign(s.pagination,{el:b}),b=re(b),b.forEach(w=>{v.type==="bullets"&&v.clickable&&w.classList.add(...(v.clickableClass||"").split(" ")),w.classList.add(v.modifierClass+v.type),w.classList.add(s.isHorizontal()?v.horizontalClass:v.verticalClass),v.type==="bullets"&&v.dynamicBullets&&(w.classList.add(`${v.modifierClass}${v.type}-dynamic`),o=0,v.dynamicMainBullets<1&&(v.dynamicMainBullets=1)),v.type==="progressbar"&&v.progressbarOpposite&&w.classList.add(v.progressbarOppositeClass),v.clickable&&w.addEventListener("click",m),s.enabled||w.classList.add(v.lockClass)}))}function g(){const v=s.params.pagination;if(c())return;let b=s.pagination.el;b&&(b=re(b),b.forEach(w=>{w.classList.remove(v.hiddenClass),w.classList.remove(v.modifierClass+v.type),w.classList.remove(s.isHorizontal()?v.horizontalClass:v.verticalClass),v.clickable&&(w.classList.remove(...(v.clickableClass||"").split(" ")),w.removeEventListener("click",m))})),s.pagination.bullets&&s.pagination.bullets.forEach(w=>w.classList.remove(...v.bulletActiveClass.split(" ")))}a("changeDirection",()=>{if(!s.pagination||!s.pagination.el)return;const v=s.params.pagination;let{el:b}=s.pagination;b=re(b),b.forEach(w=>{w.classList.remove(v.horizontalClass,v.verticalClass),w.classList.add(s.isHorizontal()?v.horizontalClass:v.verticalClass)})}),a("init",()=>{s.params.pagination.enabled===!1?j():(p(),f(),x())}),a("activeIndexChange",()=>{typeof s.snapIndex>"u"&&x()}),a("snapIndexChange",()=>{x()}),a("snapGridLengthChange",()=>{f(),x()}),a("destroy",()=>{g()}),a("enable disable",()=>{let{el:v}=s.pagination;v&&(v=re(v),v.forEach(b=>b.classList[s.enabled?"remove":"add"](s.params.pagination.lockClass)))}),a("lock unlock",()=>{x()}),a("click",(v,b)=>{const w=b.target,C=re(s.pagination.el);if(s.params.pagination.el&&s.params.pagination.hideOnClick&&C&&C.length>0&&!w.classList.contains(s.params.pagination.bulletClass)){if(s.navigation&&(s.navigation.nextEl&&w===s.navigation.nextEl||s.navigation.prevEl&&w===s.navigation.prevEl))return;const k=C[0].classList.contains(s.params.pagination.hiddenClass);i(k===!0?"paginationShow":"paginationHide"),C.forEach(B=>B.classList.toggle(s.params.pagination.hiddenClass))}});const y=()=>{s.el.classList.remove(s.params.pagination.paginationDisabledClass);let{el:v}=s.pagination;v&&(v=re(v),v.forEach(b=>b.classList.remove(s.params.pagination.paginationDisabledClass))),p(),f(),x()},j=()=>{s.el.classList.add(s.params.pagination.paginationDisabledClass);let{el:v}=s.pagination;v&&(v=re(v),v.forEach(b=>b.classList.add(s.params.pagination.paginationDisabledClass))),g()};Object.assign(s.pagination,{enable:y,disable:j,render:f,update:x,init:p,destroy:g})}function Gw(t){let{swiper:s,extendParams:n,on:a}=t;n({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,containerRole:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null,scrollOnFocus:!0}}),s.a11y={clicked:!1};let i=null,r,l,o=new Date().getTime();function c(T){const P=i;P.length!==0&&(P.innerHTML="",P.innerHTML=T)}function d(T){const P=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(T).replace(/x/g,P)}function u(T){T=re(T),T.forEach(P=>{P.setAttribute("tabIndex","0")})}function m(T){T=re(T),T.forEach(P=>{P.setAttribute("tabIndex","-1")})}function x(T,P){T=re(T),T.forEach(W=>{W.setAttribute("role",P)})}function f(T,P){T=re(T),T.forEach(W=>{W.setAttribute("aria-roledescription",P)})}function p(T,P){T=re(T),T.forEach(W=>{W.setAttribute("aria-controls",P)})}function g(T,P){T=re(T),T.forEach(W=>{W.setAttribute("aria-label",P)})}function y(T,P){T=re(T),T.forEach(W=>{W.setAttribute("id",P)})}function j(T,P){T=re(T),T.forEach(W=>{W.setAttribute("aria-live",P)})}function v(T){T=re(T),T.forEach(P=>{P.setAttribute("aria-disabled",!0)})}function b(T){T=re(T),T.forEach(P=>{P.setAttribute("aria-disabled",!1)})}function w(T){if(T.keyCode!==13&&T.keyCode!==32)return;const P=s.params.a11y,W=T.target;if(!(s.pagination&&s.pagination.el&&(W===s.pagination.el||s.pagination.el.contains(T.target))&&!T.target.matches(Tt(s.params.pagination.bulletClass)))){if(s.navigation&&s.navigation.prevEl&&s.navigation.nextEl){const ee=re(s.navigation.prevEl);re(s.navigation.nextEl).includes(W)&&(s.isEnd&&!s.params.loop||s.slideNext(),s.isEnd?c(P.lastSlideMessage):c(P.nextSlideMessage)),ee.includes(W)&&(s.isBeginning&&!s.params.loop||s.slidePrev(),s.isBeginning?c(P.firstSlideMessage):c(P.prevSlideMessage))}s.pagination&&W.matches(Tt(s.params.pagination.bulletClass))&&W.click()}}function C(){if(s.params.loop||s.params.rewind||!s.navigation)return;const{nextEl:T,prevEl:P}=s.navigation;P&&(s.isBeginning?(v(P),m(P)):(b(P),u(P))),T&&(s.isEnd?(v(T),m(T)):(b(T),u(T)))}function k(){return s.pagination&&s.pagination.bullets&&s.pagination.bullets.length}function B(){return k()&&s.params.pagination.clickable}function F(){const T=s.params.a11y;k()&&s.pagination.bullets.forEach(P=>{s.params.pagination.clickable&&(u(P),s.params.pagination.renderBullet||(x(P,"button"),g(P,T.paginationBulletMessage.replace(/\{\{index\}\}/,ks(P)+1)))),P.matches(Tt(s.params.pagination.bulletActiveClass))?P.setAttribute("aria-current","true"):P.removeAttribute("aria-current")})}const A=(T,P,W)=>{u(T),T.tagName!=="BUTTON"&&(x(T,"button"),T.addEventListener("keydown",w)),g(T,W),p(T,P)},_=T=>{l&&l!==T.target&&!l.contains(T.target)&&(r=!0),s.a11y.clicked=!0},S=()=>{r=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>{s.destroyed||(s.a11y.clicked=!1)})})},N=T=>{o=new Date().getTime()},z=T=>{if(s.a11y.clicked||!s.params.a11y.scrollOnFocus||new Date().getTime()-o<100)return;const P=T.target.closest(`.${s.params.slideClass}, swiper-slide`);if(!P||!s.slides.includes(P))return;l=P;const W=s.slides.indexOf(P)===s.activeIndex,ee=s.params.watchSlidesProgress&&s.visibleSlides&&s.visibleSlides.includes(P);W||ee||T.sourceCapabilities&&T.sourceCapabilities.firesTouchEvents||(s.isHorizontal()?s.el.scrollLeft=0:s.el.scrollTop=0,requestAnimationFrame(()=>{r||(s.params.loop?s.slideToLoop(parseInt(P.getAttribute("data-swiper-slide-index")),0):s.slideTo(s.slides.indexOf(P),0),r=!1)}))},$=()=>{const T=s.params.a11y;T.itemRoleDescriptionMessage&&f(s.slides,T.itemRoleDescriptionMessage),T.slideRole&&x(s.slides,T.slideRole);const P=s.slides.length;T.slideLabelMessage&&s.slides.forEach((W,ee)=>{const Se=s.params.loop?parseInt(W.getAttribute("data-swiper-slide-index"),10):ee,ae=T.slideLabelMessage.replace(/\{\{index\}\}/,Se+1).replace(/\{\{slidesLength\}\}/,P);g(W,ae)})},O=()=>{const T=s.params.a11y;s.el.append(i);const P=s.el;T.containerRoleDescriptionMessage&&f(P,T.containerRoleDescriptionMessage),T.containerMessage&&g(P,T.containerMessage),T.containerRole&&x(P,T.containerRole);const W=s.wrapperEl,ee=T.id||W.getAttribute("id")||`swiper-wrapper-${d(16)}`,Se=s.params.autoplay&&s.params.autoplay.enabled?"off":"polite";y(W,ee),j(W,Se),$();let{nextEl:ae,prevEl:de}=s.navigation?s.navigation:{};ae=re(ae),de=re(de),ae&&ae.forEach(ie=>A(ie,ee,T.nextSlideMessage)),de&&de.forEach(ie=>A(ie,ee,T.prevSlideMessage)),B()&&re(s.pagination.el).forEach(Re=>{Re.addEventListener("keydown",w)}),gt().addEventListener("visibilitychange",N),s.el.addEventListener("focus",z,!0),s.el.addEventListener("focus",z,!0),s.el.addEventListener("pointerdown",_,!0),s.el.addEventListener("pointerup",S,!0)};function R(){i&&i.remove();let{nextEl:T,prevEl:P}=s.navigation?s.navigation:{};T=re(T),P=re(P),T&&T.forEach(ee=>ee.removeEventListener("keydown",w)),P&&P.forEach(ee=>ee.removeEventListener("keydown",w)),B()&&re(s.pagination.el).forEach(Se=>{Se.removeEventListener("keydown",w)}),gt().removeEventListener("visibilitychange",N),s.el&&typeof s.el!="string"&&(s.el.removeEventListener("focus",z,!0),s.el.removeEventListener("pointerdown",_,!0),s.el.removeEventListener("pointerup",S,!0))}a("beforeInit",()=>{i=_s("span",s.params.a11y.notificationClass),i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true")}),a("afterInit",()=>{s.params.a11y.enabled&&O()}),a("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{s.params.a11y.enabled&&$()}),a("fromEdge toEdge afterInit lock unlock",()=>{s.params.a11y.enabled&&C()}),a("paginationUpdate",()=>{s.params.a11y.enabled&&F()}),a("destroy",()=>{s.params.a11y.enabled&&R()})}function jo(t){return et({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}const Fi=["Landmark","Hotel Amenities","Local Cuisine","Area Map","Activity and Experiences","Tours","Transportation","Dining"],Uw=({references:t})=>{const[s,n]=h.useState({}),[a,i]=h.useState(!0),[r,l]=h.useState(Fi[0]),[o,c]=h.useState(null);h.useEffect(()=>{i(!0);let y=0;if(t.length===0){i(!1);return}t.forEach(j=>{j.type==="document"&&j.url.endsWith(".txt")&&!s[j.url]?fetch(j.url).then(v=>v.text()).then(v=>{n(b=>({...b,[j.url]:v})),y++,y===t.length&&i(!1)}).catch(()=>{y++,y===t.length&&i(!1)}):(y++,y===t.length&&i(!1))}),t.every(j=>j.type!=="document"||!j.url.endsWith(".txt"))&&i(!1)},[t]);const d=y=>/^https?:\/\//.test(y)?y:`/${y.replace(/^\//,"")}`,u=async(y,j)=>{try{const b=await(await fetch(d(y))).blob(),w=URL.createObjectURL(b),C=document.createElement("a");C.href=w,C.download=j,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(w)}catch(v){console.error("Error downloading file:",v)}},m=y=>{window.open(d(y),"_blank")},x=()=>e.jsxs("div",{className:"animate-pulse bg-white/80 rounded-xl shadow-md h-[180px] flex flex-col p-4 gap-2",children:[e.jsx("div",{className:"bg-gray-200 rounded w-full h-2/3 mb-2"}),e.jsx("div",{className:"bg-gray-200 rounded w-2/3 h-4 mb-1"}),e.jsx("div",{className:"bg-gray-100 rounded w-1/2 h-3"})]}),f=y=>e.jsxs("div",{className:"group bg-white/90 rounded-xl shadow-md h-[180px] flex flex-col justify-between cursor-pointer transition-transform duration-200 hover:scale-[1.03] active:scale-95 border border-white/40 backdrop-blur-md",style:{minWidth:220,maxWidth:260},onClick:()=>y.type==="link"?m(y.url):void 0,children:[e.jsxs("div",{className:"flex-1 flex items-center justify-center overflow-hidden rounded-t-xl",style:{height:"60%"},children:[y.type==="image"&&e.jsx("img",{src:d(y.url),alt:y.title,className:"object-cover w-full h-full rounded-t-xl hover:opacity-80 transition cursor-zoom-in",onClick:j=>{j.stopPropagation(),c(d(y.url))},tabIndex:0,onKeyDown:j=>{(j.key==="Enter"||j.key===" ")&&c(d(y.url))}}),y.type==="document"&&y.url.endsWith(".pdf")&&e.jsx("span",{className:"material-icons text-5xl text-blue-700/80",children:"picture_as_pdf"}),y.type==="document"&&y.url.endsWith(".txt")&&e.jsx("span",{className:"material-icons text-5xl text-green-700/80",children:"description"}),y.type==="link"&&e.jsx("span",{className:"material-icons text-5xl text-yellow-700/80",children:"link"})]}),e.jsxs("div",{className:"flex flex-col gap-1 px-3 py-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-base font-medium text-gray-900 truncate",children:y.title}),y.type==="document"&&e.jsx("button",{onClick:j=>{j.stopPropagation(),u(y.url,y.title)},className:"ml-auto p-1 rounded-full hover:bg-yellow-100 text-yellow-700 transition-colors",children:e.jsx("span",{className:"material-icons text-base",children:"download"})}),y.type==="link"&&e.jsx("span",{className:"material-icons text-xs text-gray-400 ml-1",children:"open_in_new"})]}),y.description&&e.jsx("span",{className:"text-xs text-gray-500 truncate",children:y.description}),y.url.endsWith(".txt")&&s[y.url]&&e.jsxs("pre",{className:"mt-1 max-h-12 overflow-auto whitespace-pre-wrap text-xs text-gray-700 bg-gray-50 rounded p-1",children:[s[y.url].slice(0,120),"..."]})]})]}),p=()=>window.innerWidth<640?"auto":window.innerWidth<1024?2:window.innerWidth<1280?3:4,g=t.filter(y=>y.category&&y.category.trim().toLowerCase()===r.trim().toLowerCase());return e.jsxs("div",{className:"w-full sm:max-w-5xl mx-auto mt-2 mb-2 px-2 py-3 rounded-2xl",style:{background:"rgba(85,154,154,0.85)",minHeight:260},children:[o&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",onClick:()=>c(null),children:e.jsxs("div",{className:"relative max-w-3xl w-full flex flex-col items-center",children:[e.jsx("button",{className:"absolute top-2 right-2 bg-white/80 hover:bg-white text-gray-800 rounded-full p-2 shadow-lg z-10",onClick:y=>{y.stopPropagation(),c(null)},children:e.jsx("span",{className:"material-icons text-2xl",children:"close"})}),e.jsx("img",{src:o,alt:"Phng to nh reference",className:"rounded-xl max-h-[80vh] w-auto object-contain border-4 border-white shadow-2xl",onClick:y=>y.stopPropagation()})]})}),e.jsx("div",{className:"flex items-center mb-4 px-2",children:e.jsxs("div",{className:"flex items-center px-3 py-2 sm:py-1.5 gap-2 transition-all duration-300 mx-auto sm:mx-0",style:{background:"linear-gradient(135deg, #79DBDC 0%, #559A9A 100%)",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.15)",borderRadius:"8px",minWidth:"150px",maxWidth:"95%",width:"auto",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[e.jsx(Hu,{className:"text-[#F9BF3B] text-xl mr-1.5",style:{filter:"drop-shadow(0px 2px 3px rgba(0, 0, 0, 0.2))"}}),e.jsx("label",{className:"mr-2 font-semibold font-sans text-white whitespace-nowrap text-sm sm:text-base",children:"Category:"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("select",{value:r,onChange:y=>l(y.target.value),className:"appearance-none w-full pl-6 sm:pl-8 pr-6 py-1 sm:py-1.5 font-sans bg-transparent focus:outline-none transition-all duration-200",style:{fontWeight:600,color:"#fff",textShadow:"0px 1px 2px rgba(0, 0, 0, 0.2)",borderRadius:"8px"},children:Fi.map(y=>e.jsx("option",{value:y,className:"bg-blue-800 text-white",children:y},y))}),e.jsx(jo,{className:"absolute right-2 top-1/2 -translate-y-1/2 text-[#F9BF3B] pointer-events-none text-lg"})]})]})}),a?e.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2",children:[...Array(3)].map((y,j)=>e.jsx(x,{},j))}):g.length===0?e.jsx("div",{className:"flex items-center justify-center h-[120px] text-white/80 text-base font-medium",children:"No references available"}):e.jsx(fo,{modules:[Hw,Vw,Gw],spaceBetween:16,slidesPerView:p(),navigation:g.length>3,pagination:{clickable:!0,dynamicBullets:!0},className:"w-full",style:{paddingBottom:32,overflowX:window.innerWidth<640?"auto":void 0},children:g.map((y,j)=>e.jsx(go,{className:"flex justify-center",style:window.innerWidth<640?{width:"90vw",maxWidth:"98vw",minWidth:0}:{},children:f(y)},y.url+j))})]})};class Ww{constructor(){this.referenceMap={}}async initialize(){try{const s=await fetch("/assets/references/reference-map.json");this.referenceMap=await s.json(),console.log("Loaded referenceMap:",this.referenceMap)}catch(s){console.error("Error loading reference map:",s)}}findReferences(s){const n=s.toLowerCase(),a=[];return Object.values(this.referenceMap).forEach(i=>{i.keywords.some(l=>n.includes(l.toLowerCase()))&&!a.find(l=>l.url===i.url)&&a.push(i)}),a}async addReference(s,n){this.referenceMap[s]=n;try{await fetch("/api/references",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...n,id:s})})}catch(a){console.error("Error saving reference:",a)}}}const Oi=new Ww,Ra=ds("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-[10px] text-base font-semibold ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-5 [&_svg]:shrink-0 shadow-sm px-5 py-2",{variants:{variant:{default:"bg-gradient-to-tr from-[#4e5ab7] to-[#3f51b5] text-white hover:brightness-110 hover:shadow-lg",yellow:"bg-gradient-to-b from-[#ffe066] to-[#ffd700] text-blue-900 border-2 border-[#d4af37] shadow-xl hover:brightness-105 hover:shadow-2xl text-shadow-white",outline:"border-2 border-[#4e5ab7] bg-white text-[#4e5ab7] hover:bg-[#f5f7fa]",secondary:"bg-white text-[#4e5ab7] border border-[#4e5ab7] hover:bg-[#e8eaf6]",destructive:"bg-red-500 text-white hover:bg-red-600",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-12 px-6 py-2",sm:"h-10 rounded-md px-4 py-2 text-sm",lg:"h-14 rounded-xl px-8 py-3 text-lg",icon:"h-12 w-12"}},defaultVariants:{variant:"default",size:"default"}}),I=h.forwardRef(({className:t,variant:s,size:n,asChild:a=!1,...i},r)=>{const l=a?rd:"button";return e.jsx(l,{className:D(Ra({variant:s,size:n,className:t})),ref:r,...i})});I.displayName="Button";const Kw=({isActive:t})=>{const{transcripts:s,callDetails:n,callDuration:a,endCall:i,isMuted:r,toggleMute:l,setCurrentInterface:o,micLevel:c,modelOutput:d,language:u,addTranscript:m}=ft();h.useEffect(()=>{console.log(" [Interface2] isActive changed to:",t)},[t]);const{config:x,isLoading:f,error:p}=xs(),[g,y]=h.useState({}),j=h.useRef({}),[v,b]=h.useState([]),[w,C]=h.useState([]),[k,B]=h.useState(0),F=h.useRef(null),[A,_]=h.useState(!0);h.useEffect(()=>{console.log(" [Interface2] showRealtimeConversation:",A),console.log(" [Interface2] conversationTurns:",v),console.log(" [Interface2] transcripts:",s)},[A,v,s]);const S=h.useCallback(()=>{Object.values(j.current).forEach(O=>{cancelAnimationFrame(O)}),j.current={}},[]),N=h.useCallback(()=>{const O=a>0?a:k;console.log("Canceling call with duration:",O),i(),o("interface1")},[a,k,i,o]),z=h.useCallback(()=>{if(!s||s.length===0){alert(le("need_conversation",u));return}const O=a>0?a:k;console.log("Ending call with duration:",O),i(),o(u==="fr"?"interface3fr":u==="vi"?"interface3vi":"interface3")},[a,k,i,o,s,u]),$=h.useCallback(O=>{const R=Math.floor(O/60).toString().padStart(2,"0"),T=(O%60).toString().padStart(2,"0");return`${R}:${T}`},[]);return h.useEffect(()=>{async function O(){await Oi.initialize();const R=Object.values(Oi.referenceMap||{});console.log("All references loaded:",R),C(R)}O()},[]),h.useEffect(()=>{console.log("[Interface2] Transcripts changed:",s),console.log("[Interface2] Transcripts count:",s.length);const O=[...s].sort((P,W)=>P.timestamp.getTime()-W.timestamp.getTime()),R=[];let T=null;O.forEach(P=>{console.log("[Interface2] Processing transcript:",P),P.role==="user"?(T={id:P.id.toString(),role:"user",timestamp:P.timestamp,messages:[{id:P.id.toString(),content:P.content,timestamp:P.timestamp}]},R.push(T)):((!T||T.role==="user")&&(T={id:P.id.toString(),role:"assistant",timestamp:P.timestamp,messages:[]},R.push(T)),T.messages.push({id:P.id.toString(),content:P.content,timestamp:P.timestamp}))}),console.log("[Interface2] Generated conversation turns:",R),b(R)},[s]),h.useEffect(()=>(v.filter(R=>R.role==="assistant").flatMap(R=>R.messages).forEach(R=>{if(g[R.id]===R.content.length)return;let T=g[R.id]||0;const P=R.content,W=()=>{T<P.length?(y(ee=>({...ee,[R.id]:T+1})),T++,j.current[R.id]=requestAnimationFrame(W)):delete j.current[R.id]};j.current[R.id]=requestAnimationFrame(W)}),()=>S()),[v,S]),h.useEffect(()=>{let O=null;return t&&(console.log("Interface2 is active, starting local timer"),B(a||0),O=setInterval(()=>{B(R=>R+1)},1e3)),()=>{O&&(console.log("Cleaning up local timer in Interface2"),clearInterval(O))}},[t,a]),h.useEffect(()=>{F.current&&t&&(F.current.scrollTop=0)},[v,t]),f||!x?(console.log("[DEBUG] Interface2 render:",{hotelConfig:x,configLoading:f}),e.jsx("div",{className:"absolute w-full min-h-screen h-full flex items-center justify-center z-40 bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Loading hotel configuration..."})]})})):p?e.jsx("div",{className:"absolute w-full min-h-screen h-full flex items-center justify-center z-40 bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-500 text-lg mb-4",children:"Failed to load hotel configuration"}),e.jsx("p",{className:"text-gray-600",children:p})]})}):e.jsx("div",{className:`absolute w-full min-h-screen h-full transition-opacity duration-500 ${t?"opacity-100":"opacity-0 pointer-events-none"} z-20 overflow-y-auto`,id:"interface2",style:{display:t?"block":"none",backgroundImage:`linear-gradient(${x?.branding?.colors?.primary||"#1e40af"}CC, ${x?.branding?.colors?.secondary||"#d4af37"}99), url('/assets/courtyard.jpeg')`,backgroundSize:"cover",backgroundPosition:"center",fontFamily:x.branding.fonts.primary+", SF Pro Text, Roboto, Open Sans, Arial, sans-serif"},children:e.jsxs("div",{className:"container mx-auto flex flex-col md:flex-row p-2 h-full gap-2",children:[e.jsxs("div",{className:"w-full md:w-3/4 lg:w-2/3 flex flex-col items-center space-y-1 sm:space-y-4 mt-1 min-h-0 overflow-y-auto",children:[e.jsxs("div",{className:"relative flex flex-col items-center justify-center mb-1 sm:mb-6 w-full max-w-xs mx-auto",children:[e.jsx(Ol,{containerId:"siri-button",isListening:!r,volumeLevel:c}),e.jsxs("div",{className:"flex items-center justify-center mt-2 w-full gap-2 sm:gap-3",children:[e.jsx("button",{className:"flex items-center justify-center transition-colors",title:le(r?"unmute":"mute",u),onClick:l,style:{fontSize:22,padding:0,background:"none",border:"none",color:"#d4af37",width:28,height:28},onMouseOver:O=>O.currentTarget.style.color="#ffd700",onMouseOut:O=>O.currentTarget.style.color="#d4af37",children:e.jsx("span",{className:"material-icons",children:r?"mic_off":"mic"})}),e.jsxs("button",{id:"cancelButton",onClick:N,className:"flex items-center justify-center px-3 py-2 bg-white/80 hover:bg-blue-100 text-blue-900 rounded-full text-xs font-semibold border-2 border-blue-200 shadow transition-colors sm:hidden active:scale-95 active:bg-blue-100",style:{fontFamily:"inherit",letterSpacing:.2,minHeight:44,minWidth:90,fontSize:14,touchAction:"manipulation",zIndex:10},children:[e.jsx("span",{className:"material-icons text-base mr-1",children:"cancel"}),le("cancel",u)]}),e.jsx("div",{className:"flex-1 flex justify-center",children:e.jsx("div",{className:"text-white text-xs sm:text-sm bg-blue-900/80 rounded-full px-3 sm:px-4 py-1 shadow-lg border border-white/30 flex items-center justify-center",style:{backdropFilter:"blur(2px)"},children:$(k)})}),e.jsxs(I,{id:"confirmButton",onClick:z,variant:"yellow",className:"flex items-center justify-center sm:hidden text-xs font-bold",style:{minHeight:44,minWidth:120,fontSize:14,zIndex:10},children:[e.jsx("span",{className:"material-icons text-lg mr-2",children:"send"}),le("confirm",u)]}),e.jsxs("button",{className:"flex items-center justify-center transition-colors",title:"Mic Level",style:{fontSize:22,padding:0,background:"none",border:"none",color:"#d4af37",width:28,height:28},tabIndex:-1,disabled:!0,onMouseOver:O=>O.currentTarget.style.color="#ffd700",onMouseOut:O=>O.currentTarget.style.color="#d4af37",children:[e.jsx("span",{className:"material-icons",children:"graphic_eq"}),e.jsx("span",{className:"ml-1 flex items-end h-4 w-6",children:[...Array(4)].map((O,R)=>e.jsx("span",{style:{display:"inline-block",width:2,height:`${4+Math.round(c/100*12)*(R%2+1)}px`,background:"#d4af37",marginLeft:1,borderRadius:1}},R))})]})]})]}),A&&e.jsxs("div",{id:"realTimeConversation",ref:F,className:"w-full flex flex-col-reverse gap-1 pr-2 relative max-w-full sm:max-w-2xl mx-auto min-h-[60px] max-h-[12vh] overflow-y-auto mb-1",style:{background:"rgba(255,255,255,0.88)",borderRadius:12,border:"1px solid rgba(255,255,255,0.35)",boxShadow:"0px 4px 10px rgba(0,0,0,0.15)",padding:"8px",transition:"box-shadow 0.3s, background 0.3s",fontFamily:"SF Pro Text, Roboto, Open Sans, Arial, sans-serif",fontSize:window.innerWidth<640?14:16,lineHeight:1.5,color:"#222",fontWeight:400,backdropFilter:"blur(2px)",display:"flex",flexDirection:"column",justifyContent:"flex-end"},children:[e.jsx("button",{className:"absolute top-1.5 right-1.5 w-5 h-5 flex items-center justify-center rounded-full bg-white/40 hover:bg-white/70 text-gray-400 hover:text-gray-700 shadow z-10 opacity-60 hover:opacity-90 transition-all",style:{fontSize:14,display:"block"},title:"n realtime conversation",onClick:()=>_(!1),children:e.jsx("span",{className:"material-icons",style:{fontSize:16},children:"close"})}),e.jsxs("div",{className:"w-full flex flex-col gap-1 pr-2",style:{overflowY:"auto",maxHeight:"28vh"},children:[(console.log("[Interface2] Rendering conversation - conversationTurns.length:",v.length),console.log("[Interface2] showRealtimeConversation:",A),console.log("[Interface2] isActive:",t),null),v.length===0&&e.jsx("div",{className:"text-gray-400 text-base text-center select-none",style:{opacity:.7},children:le("tap_to_speak",u)}),[...v].reverse().map((O,R)=>(console.log("[Interface2] Rendering turn:",O,"Index:",R),e.jsx("div",{className:"mb-1",children:e.jsx("div",{className:"flex items-start",children:e.jsx("div",{className:"flex-grow",children:O.role==="user"?e.jsx("p",{className:"text-base md:text-lg font-medium text-gray-900",style:{marginBottom:2},children:O.messages[0].content}):e.jsxs("p",{className:"text-base md:text-lg font-medium",style:{marginBottom:2,position:"relative",background:"linear-gradient(90deg, #FF512F, #F09819, #FFD700, #56ab2f, #43cea2, #1e90ff, #6a11cb, #FF512F)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:600,letterSpacing:.2,transition:"background 0.5s"},children:[e.jsx("span",{className:"inline-flex flex-wrap",children:O.messages.map((T,P)=>{const W=T.content.slice(0,g[T.id]||0);return e.jsxs("span",{style:{whiteSpace:"pre"},children:[W,P===O.messages.length-1&&R===0&&g[T.id]<T.content.length&&e.jsx("span",{className:"animate-blink text-yellow-500",style:{marginLeft:1},children:"|"})]},T.id)})}),R===0&&O.role==="assistant"&&g[O.messages[O.messages.length-1].id]===O.messages[O.messages.length-1].content.length&&e.jsx("span",{className:"ml-2 animate-ellipsis text-yellow-500",children:"..."})]})})})},O.id)))]})]}),!A&&e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:()=>_(!0),className:"bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-full text-sm",children:"Show Conversation"})}),e.jsx("div",{className:"w-full mt-1",children:e.jsx("div",{className:"w-full flex flex-row items-center gap-x-2 mb-3 px-2",children:e.jsx(Uw,{references:w})})})]}),e.jsx("div",{className:"w-1/4 lg:w-1/3 flex-col items-center lg:items-end p-2 space-y-4 overflow-auto hidden sm:flex",style:{maxHeight:"100%"},children:e.jsxs("div",{className:"flex flex-col gap-4 w-full md:w-auto",children:[e.jsxs(I,{id:"endCallButton",onClick:z,variant:"yellow",className:"w-full md:w-auto flex items-center justify-center space-x-2 text-base sm:text-lg",style:{minHeight:56,minWidth:220,zIndex:10},children:[e.jsx("span",{className:"material-icons",children:"send"}),e.jsx("span",{className:"whitespace-nowrap",children:le("confirm_request",u)})]}),e.jsxs("button",{id:"cancelButtonDesktop",onClick:N,className:"w-full md:w-auto bg-white hover:bg-blue-100 text-blue-900 font-semibold py-3 px-8 rounded-full shadow flex items-center justify-center space-x-2 transition-all duration-200 border-2 border-blue-200 text-base sm:text-lg active:scale-95 active:bg-blue-100",style:{fontFamily:"inherit",letterSpacing:.2,minHeight:56,minWidth:120,touchAction:"manipulation",zIndex:10},children:[e.jsx("span",{className:"material-icons text-lg mr-2",children:"cancel"}),le("cancel",u)]})]})})]})})},Xw="/assets/hotel-exterior-BsmmGNZ1.jpeg",Qw=({isActive:t})=>{const{orderSummary:s,setOrderSummary:n,setCurrentInterface:a,setOrder:i,callSummary:r,setCallSummary:l,serviceRequests:o,callDuration:c,callDetails:d,emailSentForCurrentSession:u,setEmailSentForCurrentSession:m,addActiveOrder:x,translateToVietnamese:f,language:p}=ft(),{config:g,isLoading:y,error:j}=xs(),[v,b]=h.useState({}),[w,C]=h.useState("");if(y||!g)return console.log("[DEBUG] Interface3 render:",{hotelConfig:g,configLoading:y}),e.jsx("div",{className:"absolute w-full min-h-screen h-full flex items-center justify-center z-10 bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Loading hotel configuration..."})]})});if(j)return e.jsx("div",{className:"absolute w-full min-h-screen h-full flex items-center justify-center z-10 bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-500 text-lg mb-4",children:"Failed to load hotel configuration"}),e.jsx("p",{className:"text-gray-600",children:j})]})});if(!s)return null;const k=(A,_)=>{s&&n({...s,[A]:_})};h.useEffect(()=>{if(o&&o.length>0){const A=o.reduce((_,S)=>{const N=S.serviceType;return _[N]||(_[N]=[]),_[N].push(S),_},{});if(b(A),s&&(!s.items||s.items.length===0)){const _=o.map((S,N)=>{let z=1;const $=S.details||{},O=S.requestText.match(/(\d+)\s+(towels|bottles|pieces|cups|glasses|plates|servings|items)/i);O?z=parseInt(O[1]):typeof $.people=="number"&&(z=$.people);let R=10;return S.serviceType==="room-service"?R=15:S.serviceType==="housekeeping"?R=8:S.serviceType==="transportation"?R=25:S.serviceType==="tours-activities"?R=35:S.serviceType==="spa"&&(R=30),{id:`item-${N}`,name:S.serviceType,description:S.requestText,quantity:z,price:R}});n({...s,items:_,totalAmount:_.reduce((S,N)=>S+N.price*N.quantity,0)})}}},[o,s,n]),h.useEffect(()=>{if(t&&r&&s){const A=r.content,_=vi(A);if(_&&_!==s.roomNumber&&n({...s,roomNumber:_}),!o||o.length===0){const S=A.match(/List of Requests:([\s\S]*?)(?:\n\nSpecial Instructions|\n\nThe conversation)/);if(S){const N=S[1],z=/Request (\d+): ([^\n]+)/g;let $;const O=[];let R=1;for(;($=z.exec(N))!==null;){const T=$[2].trim(),P=$.index,W=N.indexOf(`Request ${parseInt($[1])+1}:`,P),ee=W>-1?N.substring(P,W):N.substring(P),Se=/- ([^:]+): ([^\n]+)/g;let ae;const de={};for(;(ae=Se.exec(ee))!==null;){const ie=ae[1].trim(),Re=ae[2].trim();de[ie.toLowerCase()]=Re}let U="";de["service description"]&&(U+=`${de["service description"]}`),de.details&&(U+=U?`. ${de.details}`:de.details),de.items&&(U+=U?`
Items: ${de.items}`:`Items: ${de.items}`),de["service timing requested"]&&(U+=`
Timing: ${de["service timing requested"]}`),de.destinations&&(U+=`
Destinations: ${de.destinations}`),U||(U=`Requested ${T} service`),O.push({id:R.toString(),name:T,description:U,quantity:1,price:10}),R++}if(O.length>0&&(!s.items||s.items.length===0)){const T=O.map(ae=>ae.name.toLowerCase().replace(/\s+/g,"-")).join(","),P=vi(A)||s.roomNumber,W=A.match(/Service Timing Requested:?\s*([^\n]+)/i),ee=W?W[1]:s.deliveryTime;let Se=s.deliveryTime;ee&&(/soon|immediate|urgent|right now/i.test(ee)?Se="asap":/30 minute|half hour/i.test(ee)?Se="30min":/hour|60 minute/i.test(ee)?Se="1hour":/schedule|later|specific/i.test(ee)&&(Se="specific")),n({...s,items:O,orderType:T,roomNumber:P,deliveryTime:Se,totalAmount:O.reduce((ae,de)=>ae+de.price*de.quantity,0)})}}}}},[t,r,s,n]);const B=async()=>{if(!s)return;const A=()=>{if(s.roomNumber&&s.roomNumber!=="unknown")return s.roomNumber;if(r&&r.content){const R=r.content.match(/Room Number:?\s*(\w+)/i);if(R&&R[1])return R[1]}return"unknown"},_=s.items&&s.items.length>0?s.items:[{id:"1",name:"General Service",description:"No details provided",quantity:1,price:0}],S=s.orderType||"Room Service",N=s.deliveryTime||"asap",z=`ORD-${Math.floor(1e4+Math.random()*9e4)}`,$=new Date,O={callId:z,roomNumber:A(),orderType:S,deliveryTime:N,specialInstructions:z,items:_,totalAmount:s.totalAmount||0,status:"pending",createdAt:$.toISOString()};try{if(!(await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(O)})).ok)throw new Error("Failed to create order");i({reference:O.specialInstructions||O.callId,estimatedTime:O.deliveryTime,summary:s,...O}),a("interface4")}catch{alert("Failed to send order to reception!")}},F=()=>{!w.trim()||!r||l({...r,content:`${r.content}

Additional Notes:
${w}`})};return e.jsx("div",{className:`w-full transition-opacity duration-500 ${t?"opacity-100":"opacity-0 pointer-events-none"} z-30`,id:"interface3",style:{backgroundImage:`linear-gradient(${g?.branding?.colors?.primary||"#1e40af"}CC, ${g?.branding?.colors?.secondary||"#d4af37"}99), url(${Xw})`,backgroundSize:"cover",backgroundPosition:"center",fontFamily:g.branding.fonts.primary+", SF Pro Text, Roboto, Open Sans, Arial, sans-serif"},children:e.jsx("div",{className:"container mx-auto flex flex-col p-2 sm:p-4 md:p-8",children:e.jsxs("div",{className:"mx-auto w-full max-w-4xl bg-white/90 rounded-2xl shadow-xl p-3 sm:p-6 md:p-10 mb-4 sm:mb-6 flex-grow border border-white/40 backdrop-blur-md",style:{minHeight:420},children:[e.jsx("div",{className:"mb-3 sm:mb-4 pb-2 sm:pb-3 border-b border-gray-200",children:e.jsx("p",{className:"font-poppins font-bold text-xl sm:text-2xl text-blue-900 tracking-wide",children:le("order_summary",p)})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 sm:gap-10 md:gap-16",children:[e.jsxs("div",{className:"md:w-3/4 w-full space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex sm:hidden flex-row w-full gap-2 mb-2",children:[e.jsxs("button",{className:"flex-1 flex items-center justify-center px-2 py-1.5 bg-white/80 hover:bg-blue-100 text-blue-900 rounded-full text-xs font-semibold border border-white/30 shadow transition-colors",onClick:()=>a("interface1"),children:[e.jsx("span",{className:"material-icons text-base mr-1",children:"cancel"}),le("cancel",p)]}),e.jsxs(I,{onClick:B,variant:"yellow",className:"flex-1 flex items-center justify-center space-x-2 text-xs font-bold sm:hidden",style:{minHeight:44,minWidth:120,zIndex:10},children:[e.jsx("span",{className:"material-icons",children:"send"}),e.jsx("span",{className:"whitespace-nowrap",children:le("send_to_reception",p)})]})]}),e.jsxs("div",{className:"flex flex-col gap-2 mb-2 sm:hidden",children:[e.jsxs("div",{className:"flex flex-row w-full gap-2",children:[e.jsx("button",{className:"h-10 px-3 bg-[#ffe082] hover:bg-[#ffe9b3] text-blue-900 rounded-full text-xs font-semibold shadow transition-colors flex-1",onClick:F,disabled:!w.trim(),children:le("add_note",p)}),e.jsxs("div",{className:"flex items-center space-x-2 w-full justify-center",children:[e.jsx("label",{className:"text-xs text-gray-600 font-medium",children:le("room_number",p)}),e.jsx("input",{type:"text",placeholder:le("enter_room_number",p),className:"w-16 p-2 border border-white/30 rounded-xl focus:ring-2 focus:ring-[#d4af37] focus:border-[#d4af37] bg-white/70 text-gray-900 font-semibold text-xs",value:s.roomNumber,onChange:A=>k("roomNumber",A.target.value)})]}),e.jsx("button",{className:"h-10 px-3 bg-white/70 text-blue-900 rounded-full text-xs font-semibold border border-white/30 shadow flex items-center justify-center",onClick:()=>a("interface3vi"),children:e.jsx("span",{className:"material-icons text-base",children:"language"})})]}),e.jsx("textarea",{placeholder:le("enter_notes",p),className:"w-full p-2 border border-white/30 rounded-xl text-xs bg-white/60 focus:bg-white/90 focus:ring-2 focus:ring-[#d4af37] transition italic font-light text-gray-500",value:w,onChange:A=>C(A.target.value),rows:3,style:{fontFamily:"inherit"}})]}),r&&e.jsxs("div",{id:"summary-container",className:"mb-3 sm:mb-4",children:[e.jsxs("div",{className:"p-3 sm:p-5 bg-white/80 rounded-xl shadow border border-white/30 mb-3 sm:mb-4 relative",style:{backdropFilter:"blur(2px)"},children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg mb-1 sm:mb-2 text-blue-800",children:le("summary",p)}),e.jsx("div",{className:"text-sm sm:text-base leading-relaxed text-gray-800 whitespace-pre-line",style:{fontWeight:400},children:(r.content||"").split(`
`).filter(_=>!/^Next Step:/i.test(_)&&!/Please Press Send To Reception/i.test(_)).map((_,S)=>{if(/^Guest's Name/i.test(_)){const N=_.replace(/\s*\(used for Guest with a confirmed reservation\)/i,"");return e.jsx("div",{children:e.jsx("b",{children:N})},S)}return/^Room Number:/i.test(_)?e.jsx("div",{children:e.jsx("b",{children:_})},S):/^REQUEST \d+:/i.test(_)?e.jsx("div",{className:"mt-3 mb-1",children:e.jsx("b",{children:_})},S):/^ Service Timing:/i.test(_)?e.jsx("div",{style:{marginLeft:16},children:e.jsx("b",{children:_})},S):/^ Order Details:/i.test(_)?e.jsx("div",{style:{marginLeft:16},children:e.jsx("b",{children:_})},S):/^ Special Requirements:/i.test(_)?e.jsx("div",{style:{marginLeft:16},children:e.jsx("b",{children:_})},S):/^ [^-].+/.test(_)?e.jsx("div",{style:{marginLeft:32},children:_},S):/^\s*[-]/.test(_)?e.jsx("div",{style:{marginLeft:32},children:_},S):/^\s*$/.test(_)?e.jsx("div",{style:{height:8}},S):e.jsx("div",{children:_},S)})}),e.jsx("div",{className:"mt-2 sm:mt-3 flex justify-end",children:e.jsxs("div",{className:"text-xs text-gray-500",children:[le("generated_at",p)," ",new Date(r.timestamp).toLocaleTimeString()]})})]}),e.jsx("div",{className:"text-center mt-2 mb-1",children:e.jsxs("span",{className:"italic text-sm",style:{color:"#2563eb",background:"#e0f2fe",borderRadius:"6px",padding:"4px 12px",display:"inline-block",fontWeight:500},children:["Please Press ",e.jsx("b",{style:{fontWeight:700,color:"#1d4ed8"},children:le("send_to_reception",p)})," To Complete Your Request"]})})]}),e.jsxs("div",{className:"hidden sm:flex flex-row items-center gap-2 h-10",children:[e.jsx("button",{className:"h-10 px-3 sm:px-4 bg-[#ffe082] hover:bg-[#ffe9b3] text-blue-900 rounded-full text-xs sm:text-sm font-semibold shadow transition-colors",onClick:F,disabled:!w.trim(),children:le("add_note",p)}),e.jsxs("div",{className:"flex items-center space-x-2 w-full justify-center",children:[e.jsx("label",{className:"text-xs sm:text-base text-gray-600 font-medium",children:le("room_number",p)}),e.jsx("input",{type:"text",placeholder:le("enter_room_number",p),className:"w-16 sm:w-32 p-2 border border-white/30 rounded-xl focus:ring-2 focus:ring-[#d4af37] focus:border-[#d4af37] bg-white/70 text-gray-900 font-semibold text-xs sm:text-base",value:s.roomNumber,onChange:A=>k("roomNumber",A.target.value)})]}),e.jsx("button",{className:"h-10 px-3 sm:px-4 bg-white/70 text-blue-900 rounded-full text-xs sm:text-sm font-semibold border border-white/30 shadow flex items-center justify-center",onClick:()=>a("interface3vi"),children:e.jsx("span",{className:"material-icons text-base",children:"language"})})]}),e.jsx("textarea",{placeholder:le("enter_notes",p),className:"hidden sm:block w-full p-2 sm:p-3 border border-white/30 rounded-xl mb-3 sm:mb-4 text-xs sm:text-sm bg-white/60 focus:bg-white/90 focus:ring-2 focus:ring-[#d4af37] transition italic font-light text-gray-500",value:w,onChange:A=>C(A.target.value),rows:3,style:{fontFamily:"inherit"}})]}),e.jsx("div",{className:"md:w-1/4 w-full hidden sm:flex md:justify-end justify-center",children:e.jsxs("div",{className:"flex flex-col items-end space-y-2 sm:space-y-3 w-full md:w-auto",children:[e.jsxs(I,{onClick:B,variant:"yellow",className:"w-full md:w-auto flex items-center justify-center space-x-2 text-xs sm:text-sm font-bold",style:{minHeight:44,minWidth:160,zIndex:10},children:[e.jsx("span",{className:"material-icons",children:"send"}),e.jsx("span",{className:"whitespace-nowrap",children:le("send_to_reception",p)})]}),e.jsxs("button",{className:"w-full md:w-auto flex items-center justify-center px-2 sm:px-3 py-1.5 bg-white/80 hover:bg-blue-100 text-blue-900 rounded-full text-xs font-semibold border border-white/30 shadow transition-colors",onClick:()=>a("interface1"),children:[e.jsx("span",{className:"material-icons text-base mr-1",children:"cancel"}),le("cancel",p)]})]})})]})]})})})},Yw=({isActive:t})=>{const{order:s,setCurrentInterface:n,language:a,setOrder:i}=ft(),{config:r,isLoading:l,error:o}=xs();h.useEffect(()=>{t&&(console.clear(),console.log(" === Interface4 Debug Session Started ==="),console.log(" Interface4 mounted with isActive:",t),console.log(" Order:",s))},[t,s]);const c=h.useCallback(()=>{console.log(" Return to Home button clicked"),console.log("Current interface before:",t),console.log("Order exists:",!!s);try{console.log(" Clearing order..."),i(null),console.log(" Setting interface to interface1..."),n("interface1"),console.log(' Order cleared and setCurrentInterface("interface1") called'),setTimeout(()=>{console.log(" Delayed check - Current interface should be interface1"),console.log(" Order should be null:",!s)},100)}catch(d){console.error(" Error in handleReturnHome:",d)}},[t,s,i,n]);return console.log(" Interface4 render:",{isActive:t,hasOrder:!!s,orderReference:s?.reference,timestamp:new Date().toISOString()}),console.log("[DEBUG] Interface4 render:",{hotelConfig:r}),l||!r?e.jsx("div",{className:"fixed inset-0 z-50 w-full h-full min-h-screen flex items-center justify-center bg-black/30 backdrop-blur-sm",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-white text-lg",children:"Loading hotel configuration..."})]})}):o?e.jsx("div",{className:"fixed inset-0 z-50 w-full h-full min-h-screen flex items-center justify-center bg-black/30 backdrop-blur-sm",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-500 text-lg mb-4",children:"Failed to load hotel configuration"}),e.jsx("p",{className:"text-white",children:o})]})}):!t||!s?(console.log(" Interface4 not rendering - isActive:",t,"hasOrder:",!!s),null):e.jsx("div",{className:"fixed inset-0 z-50 w-full h-full min-h-screen flex items-start sm:items-center justify-center bg-black/30 backdrop-blur-sm",id:"interface4",onClick:d=>{d.target===d.currentTarget&&console.log(" Background clicked - not closing dialog")},children:e.jsx("div",{className:"container mx-auto flex flex-col items-center justify-center pt-50 sm:pt-0 p-3 sm:p-5 text-center h-auto",children:e.jsxs("div",{className:"w-full max-w-xs sm:max-w-md bg-white rounded-lg shadow-lg p-4 sm:p-8",style:{fontFamily:r.branding.fonts.primary+", SF Pro Text, Roboto, Open Sans, Arial, sans-serif"},children:[e.jsx("div",{className:"mb-4 sm:mb-6 flex justify-center",children:e.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 rounded-full flex items-center justify-center",style:{backgroundColor:r?.branding?.colors?.primary||"#1e40af"},children:e.jsx("span",{className:"material-icons text-white text-4xl sm:text-5xl",children:"check"})})}),e.jsx("h2",{className:"font-poppins font-bold text-xl sm:text-2xl text-primary mb-2 sm:mb-3",children:le("order_confirmed",a)}),e.jsx("p",{className:"text-gray-700 mb-4 sm:mb-6 text-sm sm:text-base",children:le("order_confirmed_message",a)}),e.jsx("div",{className:"bg-neutral p-3 sm:p-4 rounded-lg mb-4 sm:mb-6",children:e.jsxs("p",{className:"font-medium text-gray-800 text-sm sm:text-base",children:[le("order_reference",a),": ",e.jsx("span",{className:"font-bold",children:s.reference})]})}),e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:le("estimated_delivery_time",a)}),e.jsx("p",{className:"font-poppins font-bold text-lg sm:text-xl",children:s.estimatedTime})]}),e.jsx("button",{className:"w-full px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-poppins font-medium text-sm sm:text-base transition-colors cursor-pointer",onClick:c,onMouseDown:()=>console.log(" Mouse down on Return to Home button"),onMouseUp:()=>console.log(" Mouse up on Return to Home button"),style:{zIndex:9999,position:"relative",pointerEvents:"auto",backgroundColor:r.branding.colors.secondary,color:"#ffffff"},children:le("return_to_home",a)})]})})})};function Zw({currentStep:t=1,compact:s=!1,horizontal:n=!1,language:a}){const{language:i}=ft?ft():{language:"en"},r=a||i||"en",l=[{icon:"call",title:le("press_to_call",r),desc:le("press_to_call_desc",r)},{icon:"check_circle",title:le("confirm_request",r),desc:le("confirm_request_desc",r)},{icon:"mail",title:le("send_to_reception",r),desc:le("send_to_reception_desc",r)}];return n?e.jsx("div",{className:"flex flex-row items-center justify-center w-full gap-2 md:gap-6 py-1",children:l.map((o,c)=>e.jsxs(xe.Fragment,{children:[e.jsxs("div",{className:`flex flex-col items-center transition-all duration-300 ${c+1===t?"opacity-100 scale-105":c+1<t?"opacity-60":"opacity-40"}`,children:[e.jsx("div",{className:`flex items-center justify-center rounded-full shadow-lg mb-0.5 transition-all duration-300 ${c+1===t?"bg-[#d4af37] text-blue-900 border-2 border-[#d4af37]":c+1===2||c+1===3?"bg-white/30 text-[#d4af37] border-2 border-[#d4af37]":"bg-white/30 text-white border border-gray-200"}`,style:{width:22,height:22,fontSize:13,boxShadow:c+1===2||c+1===3?"0 0 0 2px #d4af37":void 0},children:e.jsx("span",{className:"material-icons",children:o.icon})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`font-semibold font-poppins mb-0 text-[10px] ${c+1===t?"text-[#d4af37]":"text-[#d4af37]/70"} ${c+1===2||c+1===3?"font-extrabold text-base":""}`,children:o.title}),e.jsx("div",{className:`font-light text-[8px] ${c+1===2||c+1===3?"text-base text-[#b48a19]":"text-[#d4af37]/80"} hidden md:block`,children:o.desc})]})]}),c<l.length-1&&e.jsx("div",{className:"h-0.5 w-3 md:w-8 bg-gradient-to-r from-[#d4af37]/80 to-transparent mx-1 rounded-full"})]},o.title))}):e.jsx("div",{className:`w-full ${s?"max-w-[160px] py-2 gap-3":"max-w-xs py-6 gap-6"} mx-auto flex flex-col items-center`,children:l.map((o,c)=>e.jsxs("div",{className:`flex flex-col items-center w-full transition-all duration-300 ${c+1===t?"opacity-100 scale-105":c+1<t?"opacity-60":"opacity-40"}`,children:[e.jsx("div",{className:`flex items-center justify-center rounded-full shadow-lg mb-2 transition-all duration-300 ${c+1===t?"bg-[#d4af37] text-blue-900 border-2 border-[#d4af37]":c+1===2||c+1===3?"bg-white/30 text-[#d4af37] border-2 border-[#d4af37]":"bg-white/30 text-white border border-gray-200"}`,style:{width:s?32:48,height:s?32:48,fontSize:s?18:28,boxShadow:c+1===2||c+1===3?"0 0 0 2px #d4af37":void 0},children:e.jsx("span",{className:"material-icons",children:o.icon})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`font-semibold font-poppins mb-1 ${s?"text-xs":c+1===2||c+1===3?"text-lg":"text-base"} ${c+1===t?"text-[#d4af37]":"text-[#d4af37]/70"} ${c+1===2||c+1===3?"font-extrabold":""}`,style:c+1===2||c+1===3?{letterSpacing:.5}:{},children:o.title}),e.jsx("div",{className:`font-light ${s?"text-[10px]":c+1===2||c+1===3?"text-base":"text-sm"} ${c+1===2||c+1===3?"text-[#b48a19]":"text-[#d4af37]/80"}`,children:o.desc})]}),c<l.length-1&&e.jsx("div",{className:`mx-auto my-1 rounded-full ${s?"w-0.5 h-4":"w-1 h-8"} bg-gradient-to-b from-[#d4af37]/80 to-transparent`})]},o.title))})}const Jw=({onClose:t})=>e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm font-sans",children:e.jsxs("div",{className:"bg-gradient-to-br from-[rgba(255,255,255,0.7)] to-[rgba(255,255,255,0.5)] dark:from-[rgba(30,30,30,0.7)] dark:to-[rgba(30,30,30,0.5)] text-gray-800 dark:text-gray-200 rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto border border-white/30",style:{transformStyle:"preserve-3d"},children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 sm:gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-blue-900 dark:text-amber-400 font-poppins",children:"Ni dung"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"target",children:""})," MC CH:"]}),e.jsx("p",{className:"pl-6 text-gray-700 dark:text-gray-300",children:"Thay th cho nhn s l tn bng AI Voice Assistant c o to ring vi thng tin v dch v ca mt khch sn c th."})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"money",children:""})," GI TR MANG LI:"]}),e.jsxs("ul",{className:"list-inside list-disc pl-6 space-y-1 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"Phc v a ngn ng  khng cn thng dch vin"}),e.jsx("li",{children:"Hot ng 24/7  khng bao gi ngh"}),e.jsx("li",{children:"X l ng thi nhiu khch cng lc"}),e.jsx("li",{children:"Tng doanh thu dch v thng qua gi  thng minh"})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"speech bubble",children:""})," C IM NI BT:"]}),e.jsx("p",{className:"pl-6 text-gray-700 dark:text-gray-300",children:"Voice Bot  Bn NI CHUYN vi AI, khng cn g phm!"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"bell",children:""})," CHC NNG CA AI VOICE BOT:"]}),e.jsxs("ul",{className:"list-inside list-disc pl-6 space-y-1 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"t phng & Check-in/out"}),e.jsx("li",{children:"Room Service & Housekeeping"}),e.jsx("li",{children:"Tour bookings & V xe but"}),e.jsx("li",{children:"Thng tin du lch a phng"}),e.jsx("li",{children:"Homestay & i tin, git i"})]}),e.jsx("p",{className:"pl-6 text-xs italic text-gray-600 dark:text-gray-400 mt-1",children:"*Tt c dch v ny s do khch sn cung cp"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"microphone",children:""})," CCH S DNG:"]}),e.jsx("p",{className:"pl-6 text-gray-700 dark:text-gray-300",children:"Nhn mic  NI yu cu  Nhn phn hi bng ging ni"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"light bulb",children:""})," TH NGAY (6 ngn ng  tri nghim):"]}),e.jsxs("div",{className:"pl-6 text-gray-700 dark:text-gray-300 italic",children:[e.jsx("p",{children:'"t phng cho 2 ngi ti nay"'}),e.jsx("p",{children:'"Order breakfast to room 101"'}),e.jsx("p",{children:'"Book tour Fairy Stream tomorrow"'})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-blue-900 dark:text-amber-400 font-poppins",children:"Content"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"target",children:""})," PURPOSE:"]}),e.jsx("p",{className:"pl-6 text-gray-700 dark:text-gray-300",children:"Replace human receptionists with an AI Voice Assistant trained with the specific information and services of a hotel."})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"money",children:""})," VALUE PROPOSITION:"]}),e.jsxs("ul",{className:"list-inside list-disc pl-6 space-y-1 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"Serves multiple languages  no interpreter needed"}),e.jsx("li",{children:"Operates 24/7  never takes a break"}),e.jsx("li",{children:"Handles multiple guests simultaneously"}),e.jsx("li",{children:"Increases service revenue through smart suggestions"})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"speech bubble",children:""})," HIGHLIGHT:"]}),e.jsx("p",{className:"pl-6 text-gray-700 dark:text-gray-300",children:"Voice Bot  You SPEAK with AI, no typing needed!"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"bell",children:""})," AI VOICE BOT FEATURES:"]}),e.jsxs("ul",{className:"list-inside list-disc pl-6 space-y-1 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"Booking & Check-in/out"}),e.jsx("li",{children:"Room Service & Housekeeping"}),e.jsx("li",{children:"Tour bookings & Bus tickets"}),e.jsx("li",{children:"Local tourism information"}),e.jsx("li",{children:"Homestay & Currency exchange, laundry"})]}),e.jsx("p",{className:"pl-6 text-xs italic text-gray-600 dark:text-gray-400 mt-1",children:"*All these services are provided by the hotel"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"microphone",children:""})," HOW TO USE:"]}),e.jsx("p",{className:"pl-6 text-gray-700 dark:text-gray-300",children:"Press mic  SPEAK request  Receive voice response"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"light bulb",children:""})," TRY NOW (6 languages to experience):"]}),e.jsxs("div",{className:"pl-6 text-gray-700 dark:text-gray-300 italic",children:[e.jsx("p",{children:'"Book a room for 2 people tonight"'}),e.jsx("p",{children:'"Order breakfast to room 101"'}),e.jsx("p",{children:'"Book tour Fairy Stream tomorrow"'})]})]})]})]}),e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsx(I,{onClick:t,className:"font-bold text-lg bg-yellow-400 hover:bg-yellow-500 text-blue-900 px-8 py-6 rounded-full shadow-lg transition-transform transform hover:scale-105",children:"ng / Close"})})]})}),ps=()=>{const{currentInterface:t,language:s,setLanguage:n,hotelConfig:a,setHotelConfig:i,setCurrentInterface:r}=ft(),{config:l,isLoading:o,error:c}=xs();Qt();const[d,u]=h.useState(!1),[m,x]=h.useState(!1),f=h.useMemo(()=>({interface1:t==="interface1",interface2:t==="interface2",interface3:t==="interface3",interface3vi:t==="interface3vi",interface3fr:t==="interface3fr",interface4:t==="interface4"}),[t]);h.useEffect(()=>{console.log(" [VoiceAssistant] Current interface changed to:",t),console.log(" [VoiceAssistant] Interface states:",f)},[t,f]),h.useEffect(()=>{l&&l!==a&&(console.log(" Hotel configuration loaded:",l),i(l))},[l,a,i]),h.useEffect(()=>{localStorage.getItem("hasSeenWelcomePopup")||(x(!0),localStorage.setItem("hasSeenWelcomePopup","true"))},[]);const p=j=>{n(j)},y=(l?.supportedLanguages||["en"]).filter(j=>["en","fr","zh","ru","ko","vi"].includes(j));return console.log("[DEBUG] VoiceAssistant render:",{isLoading:o,config:l,hotelConfig:a}),o||!l?e.jsx("div",{className:"relative h-screen overflow-hidden font-sans text-gray-800 bg-neutral-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Loading hotel configuration..."})]})}):c&&!l?e.jsx("div",{className:"relative h-screen overflow-hidden font-sans text-gray-800 bg-neutral-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ne,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-600 text-lg font-semibold mb-2",children:"Configuration Error"}),e.jsx("p",{className:"text-gray-600 mb-4",children:c}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors",children:"Reload Page"})]})}):e.jsxs("div",{className:"relative h-screen overflow-hidden font-sans text-gray-800 bg-neutral-50",id:"app",children:[m&&e.jsx(Jw,{onClose:()=>x(!1)}),c&&e.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Ne,{className:"h-5 w-5 text-yellow-400"})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-yellow-700",children:c})})]})}),e.jsx("header",{className:"w-full text-white shadow-md fixed top-0 left-0 right-0 z-50",style:{backgroundColor:"#1B4E8B",height:"64px"},children:e.jsxs("div",{className:"container mx-auto flex items-center justify-between px-2 h-full",children:[e.jsxs("div",{className:"flex items-center justify-start ml-1 sm:ml-4 mr-2 sm:mr-6 gap-3 min-w-fit",children:[e.jsx("img",{src:l.branding.logo,alt:`${l.hotelName} Logo`,className:"h-8 sm:h-12 w-auto rounded-lg shadow-md bg-white/80 p-1",onError:j=>{j.currentTarget.src="/assets/references/images/minhon-logo.jpg"}}),e.jsx("span",{className:"font-poppins font-bold text-xl sm:text-2xl lg:text-3xl whitespace-nowrap",style:{color:l.branding.colors.secondary,textShadow:"0px 1px 2px rgba(0,0,0,0.18)"},children:l.headerText})]}),e.jsx("div",{className:"flex-1"}),e.jsxs("div",{className:"flex items-center gap-2",children:[l.features.multiLanguage&&e.jsxs("div",{className:"flex items-center px-2 py-1 rounded bg-primary-dark text-white text-xs sm:text-sm",children:[e.jsx(Gu,{className:"text-[#F9BF3B] text-sm sm:text-base mr-1.5"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:s,onChange:j=>p(j.target.value),className:"appearance-none bg-transparent focus:outline-none transition-all duration-200 pr-6",style:{fontWeight:600,color:"#fff",textShadow:"0px 1px 2px rgba(0, 0, 0, 0.2)"},children:y.map(j=>{const v={en:" EN",fr:" FR",zh:" ZH",ru:" RU",ko:" KO",vi:" VI"};return e.jsx("option",{value:j,children:v[j]},j)})}),e.jsx(jo,{className:"absolute right-0 top-1/2 -translate-y-1/2 text-[#F9BF3B] pointer-events-none text-sm"})]})]}),e.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-1 px-2 py-1 rounded bg-primary-dark text-white text-xs sm:text-sm hover:bg-primary-darker transition-colors",title:"View Steps",children:[e.jsx(Ys,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Steps"})]}),l.features.callHistory&&e.jsxs(ke,{href:"/call-history",className:"flex items-center gap-1 px-2 py-1 rounded bg-primary-dark text-white text-xs sm:text-sm hover:bg-primary-darker transition-colors",children:[e.jsx(Oh,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Call History"})]})]})]})}),d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 relative",children:[e.jsx("button",{onClick:()=>u(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:e.jsx(ms,{className:"w-6 h-6"})}),e.jsx("div",{className:"mt-4",children:e.jsx(Zw,{horizontal:!1,compact:!1,currentStep:t==="interface3"?3:t==="interface2"?2:1,language:s})})]})}),e.jsxs("div",{className:"relative w-full h-full",id:"interfaceContainer",style:{marginTop:"64px",minHeight:"calc(100vh - 64px)"},children:[e.jsx(x1,{isActive:f.interface1}),e.jsx(Kw,{isActive:f.interface2}),e.jsx(Qw,{isActive:f.interface3||f.interface3vi||f.interface3fr}),e.jsx(Yw,{isActive:f.interface4})]})]})},e2=h.createContext(void 0);class lS extends xe.Component{constructor(s){super(s),this.state={hasError:!1,error:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,n){console.error("Hotel configuration error:",s,n)}render(){return this.state.hasError?this.props.fallback||e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[e.jsx(Ne,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Configuration Error"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Failed to load hotel configuration. Please try refreshing the page."}),e.jsxs("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md",children:[e.jsx(me,{className:"w-4 h-4 inline mr-2"}),"Reload Page"]})]})}):this.props.children}}const t2=({children:t})=>{console.log("[DEBUG] HotelProvider rendered");const s=xs(),{config:n,isLoading:a,error:i,reload:r}=s,l=j=>"",o=j=>"",c=j=>n?.features?.[j]??!1,d=()=>n?.supportedLanguages||[],u=j=>n?.services||[],m=()=>({primary:n?.branding?.colors.primary||"#2E7D32",secondary:n?.branding?.colors.secondary||"#FFC107",accent:n?.branding?.colors.accent||"#FF6B6B"}),x=()=>({primary:n?.branding?.fonts.primary||"Inter",secondary:n?.branding?.fonts.secondary||"Roboto"}),f=()=>null,p=()=>null,g=()=>"UTC",y=()=>"USD";return e.jsx(e2.Provider,{value:{config:n,loading:a,error:i,reload:r,getVapiPublicKey:l,getVapiAssistantId:o,hasFeature:c,getSupportedLanguages:d,getAvailableServices:u,getThemeColors:m,getFontFamilies:x,getContactInfo:f,getLocation:p,getTimezone:g,getCurrency:y},children:t})},s2=ds("rounded-lg border bg-card text-card-foreground transition-all duration-200",{variants:{variant:{default:"shadow-sm hover:shadow-md",elevated:"shadow-md hover:shadow-lg transform hover:-translate-y-1",ghost:"border-none shadow-none hover:bg-accent/50",outline:"bg-transparent hover:bg-accent/50"},size:{default:"p-6",sm:"p-4",lg:"p-8"}},defaultVariants:{variant:"default",size:"default"}}),M=h.forwardRef(({className:t,variant:s,size:n,...a},i)=>e.jsx("div",{ref:i,className:D(s2({variant:s,size:n,className:t})),...a}));M.displayName="Card";const V=h.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:D("flex flex-col space-y-1.5",t),...s}));V.displayName="CardHeader";const G=h.forwardRef(({className:t,...s},n)=>e.jsx("h3",{ref:n,className:D("text-2xl font-semibold leading-none tracking-tight",t),...s}));G.displayName="CardTitle";const J=h.forwardRef(({className:t,...s},n)=>e.jsx("p",{ref:n,className:D("text-sm text-muted-foreground",t),...s}));J.displayName="CardDescription";const L=h.forwardRef(({className:t,padded:s=!0,...n},a)=>e.jsx("div",{ref:a,className:D(s&&"p-6 pt-0",t),...n}));L.displayName="CardContent";const n2=h.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:D("flex items-center p-6 pt-0",t),...s}));n2.displayName="CardFooter";const a2=h.forwardRef(({className:t,color:s="primary",...n},a)=>{const i={primary:"bg-primary/10 text-primary",secondary:"bg-secondary/10 text-secondary",success:"bg-green-100 text-green-700",warning:"bg-yellow-100 text-yellow-700",danger:"bg-red-100 text-red-700"};return e.jsx("div",{ref:a,className:D("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium",i[s],t),...n})});a2.displayName="CardBadge";const i2=h.forwardRef(({className:t,alt:s,...n},a)=>e.jsx("img",{ref:a,className:D("w-full h-48 object-cover rounded-t-lg",t),alt:s,...n}));i2.displayName="CardImage";const r2=h.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:D("absolute top-4 right-4 flex items-center gap-2",t),...s}));r2.displayName="CardActions";function l2(){return e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:e.jsx(M,{className:"w-full max-w-md mx-4",children:e.jsxs(L,{className:"pt-6",children:[e.jsxs("div",{className:"flex mb-4 gap-2",children:[e.jsx(Ne,{className:"h-8 w-8 text-red-500"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function o2(){const[t,s]=h.useState(null),[n,a]=h.useState(!1),i=ft(),r=h.useRef(0),l=h.useCallback(()=>{console.log("useWebSocket env VITE_API_HOST:",void 0),t!==null&&t.close();const u=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`;console.log("Attempting WebSocket connection to",u);const m=new WebSocket(u);return m.onopen=()=>{console.log("WebSocket connection established"),a(!0),r.current=0,i.callDetails&&m.send(JSON.stringify({type:"init",callId:i.callDetails.id}))},m.onmessage=x=>{try{const f=JSON.parse(x.data);console.log("[useWebSocket] Message received:",f),f.type==="transcript"&&(console.log("[useWebSocket] Transcript message:",f),i.addTranscript({callId:f.callId,role:f.role,content:f.content,tenantId:"default"})),f.type==="connected"&&console.log("[useWebSocket] Connected to server:",f.message),f.type==="order_status_update"&&(f.orderId||f.reference)&&f.status&&(console.log("[useWebSocket] Order status update:",f),i.setActiveOrders(p=>p.map(g=>f.reference&&g.reference===f.reference||f.orderId&&g.reference===f.orderId?{...g,status:f.status}:g)))}catch(f){console.error("Error parsing WebSocket message:",f)}},m.onclose=x=>{if(console.log("WebSocket connection closed",x),a(!1),r.current<5){const f=Math.pow(2,r.current)*1e3;console.log(`Reconnecting WebSocket in ${f}ms (attempt ${r.current+1})`),setTimeout(l,f),r.current++}else console.warn("Max WebSocket reconnection attempts reached")},m.onerror=x=>{console.error("WebSocket encountered error",x),m.readyState!==WebSocket.CLOSED&&m.close()},s(m),()=>{m.close()}},[i.callDetails,i.addTranscript,i.activeOrders,i.setActiveOrders]),o=h.useCallback(d=>{t&&n?t.send(JSON.stringify(d)):console.error("Cannot send message, WebSocket not connected")},[t,n]),c=h.useCallback(()=>{n||l()},[n,l]);return h.useEffect(()=>(l(),()=>{t&&t.close()}),[]),h.useEffect(()=>{t&&n&&i.callDetails?.id&&(console.log("Sending init message with callId after availability",i.callDetails.id),t.send(JSON.stringify({type:"init",callId:i.callDetails.id})))},[i.callDetails?.id,t,n]),{connected:n,sendMessage:o,reconnect:c}}const c2=({onLogin:t})=>{const[s,n]=h.useState(""),[a,i]=h.useState(""),[r,l]=h.useState(""),[o,c]=h.useState(!1),d=async u=>{if(u.preventDefault(),!s||!a){l("Please enter both username and password.");return}l("");try{const m=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,password:a})});if(!m.ok){const f=await m.json();l(f.error||"Login failed.");return}const x=await m.json();x.token?(localStorage.setItem("token",x.token),t()):l("Login failed: No token received.")}catch{l("Login failed: Network or server error.")}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-100 to-blue-300",children:e.jsxs("form",{onSubmit:d,className:"bg-white p-8 rounded-xl shadow-lg w-full max-w-md space-y-6 border border-gray-200",children:[e.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-4 text-center",children:"Staff Login"}),r&&e.jsx("div",{className:"text-red-500 text-sm mb-2",children:r}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Username"}),e.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400",value:s,onChange:u=>n(u.target.value),autoFocus:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:o?"text":"password",className:"w-full p-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400",value:a,onChange:u=>i(u.target.value)}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>c(!o),children:o?e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):e.jsxs("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-700 hover:bg-blue-800 text-white font-semibold py-2 rounded-lg transition",children:"Login"})]})})},d2=[" ghi nhn","ang thc hin"," thc hin v ang bn giao cho khch","Hon thin","Lu  khc"],h2=({request:t,onClose:s,onStatusChange:n,onOpenMessage:a})=>{const[i,r]=h.useState(t.status);return t?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 w-full max-w-lg relative",children:[e.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-blue-700",onClick:s,children:""}),e.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-4",children:"Request Details"}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{children:[e.jsx("b",{children:"Room:"})," ",t.room]}),e.jsxs("div",{children:[e.jsx("b",{children:"Order ID:"})," ",t.id]}),e.jsxs("div",{children:[e.jsx("b",{children:"Guest Name:"})," ",t.guestName]}),e.jsxs("div",{children:[e.jsx("b",{children:"Content:"})," ",t.content]}),e.jsxs("div",{children:[e.jsx("b",{children:"Time:"})," ",t.time]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("b",{children:"Status:"}),e.jsx("select",{className:"border rounded px-2 py-1 text-xs",value:i,onChange:l=>r(l.target.value),children:d2.map(l=>e.jsx("option",{value:l,children:l},l))})]}),e.jsxs("div",{children:[e.jsx("b",{children:"Notes:"})," ",t.notes||"-"]})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded font-semibold",onClick:()=>{i!==t.status&&n(i)},children:"Cp Nht"}),e.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded font-semibold",onClick:a,children:"Nhn khch"}),e.jsx("button",{className:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded font-semibold",onClick:s,children:"ng"})]})]})}):null},u2=({messages:t,onSend:s,onClose:n,loading:a})=>{const[i,r]=h.useState(""),l=()=>{i.trim()&&(s(i),r(""))};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-5 w-full max-w-md relative flex flex-col",children:[e.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-blue-700",onClick:n,children:""}),e.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-3",children:"Nhn tin ti Guest"}),e.jsx("div",{className:"flex-1 overflow-y-auto mb-3 max-h-60 border rounded p-2 bg-gray-50",children:t.length===0?e.jsx("div",{className:"text-gray-400 text-sm text-center",children:"Cha c tin nhn"}):t.map(o=>e.jsxs("div",{className:`mb-2 ${o.sender==="staff"?"text-right":"text-left"}`,children:[e.jsxs("div",{className:`inline-block px-3 py-1 rounded-lg ${o.sender==="staff"?"bg-blue-100 text-blue-900":"bg-gray-200 text-gray-800"}`,children:[e.jsxs("span",{className:"font-semibold",children:[o.sender==="staff"?"Staff":"Guest",":"]})," ",o.content]}),e.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:o.time})]},o.id))}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("input",{type:"text",className:"flex-1 border rounded px-2 py-1",placeholder:"Nhp tin nhn...",value:i,onChange:o=>r(o.target.value),onKeyDown:o=>{o.key==="Enter"&&l()},disabled:a}),e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-1 rounded font-semibold",onClick:l,disabled:a||!i.trim(),children:"Gi"})]})]})})},$n=["Tt c"," ghi nhn","ang thc hin"," thc hin v ang bn giao cho khch","Hon thin","Lu  khc"],zi=t=>{switch(t){case" ghi nhn":return"bg-gray-300 text-gray-800";case"ang thc hin":return"bg-yellow-200 text-yellow-800";case" thc hin v ang bn giao cho khch":return"bg-blue-200 text-blue-800";case"Hon thin":return"bg-green-200 text-green-800";case"Lu  khc":return"bg-red-200 text-red-800";default:return"bg-gray-100 text-gray-700"}},yo=()=>{const[t,s]=h.useState([]),[n,a]=h.useState(null),[i,r]=h.useState(!1),[l,o]=h.useState(!1),[c,d]=h.useState([]),[u,m]=h.useState(!1),[x,f]=h.useState("Tt c"),[p,g]=h.useState(""),[y,j]=h.useState(""),[v,b]=h.useState(null),[w,C]=h.useState(!1),[k,B]=h.useState(!1),[F,A]=h.useState(""),[_,S]=h.useState(""),[N,z]=h.useState({}),$=Ar(),O=()=>localStorage.getItem("staff_token"),R=async()=>{const H=O();if(!H){$("/staff");return}try{const se=await fetch("/api/staff/requests",{headers:{Authorization:`Bearer ${H}`},credentials:"include"});if(se.status===401){localStorage.removeItem("staff_token"),$("/staff");return}const pe=await se.json();console.log("Fetched requests data:",pe),s(pe)}catch(se){console.error("Failed to fetch requests:",se)}};h.useEffect(()=>{R();const H=setInterval(R,3e4);return()=>clearInterval(H)},[]);const T=()=>{r(!1),a(null)},P=async(H,se)=>{const pe=O();if(!pe)return $("/staff");try{await fetch(`/api/staff/requests/${se}/status`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${pe}`},credentials:"include",body:JSON.stringify({status:H})}),s(Ft=>Ft.map(ht=>ht.id===se?{...ht,status:H}:ht)),n&&n.id===se&&a({...n,status:H})}catch(Ft){console.error("Failed to update status:",Ft)}},W=async()=>{if(o(!0),!n)return;const H=O();if(!H)return $("/staff");try{const pe=await(await fetch(`/api/staff/requests/${n.id}/messages`,{headers:{Authorization:`Bearer ${H}`},credentials:"include"})).json();d(pe)}catch{d([])}},ee=()=>o(!1),Se=async H=>{m(!0);const se=O();if(!se)return $("/staff");try{await fetch(`/api/staff/requests/${n.id}/message`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${se}`},credentials:"include",body:JSON.stringify({content:H})}),d(pe=>[...pe,{id:(pe.length+1).toString(),sender:"staff",content:H,time:new Date().toLocaleTimeString().slice(0,5)}])}catch{}m(!1)},ae=async()=>{B(!0),A(""),S("")},de=async()=>{if(F!=="2208"){S("Mt khu khng ng");return}C(!0);try{const H=O();if(!H)return B(!1),$("/staff");const pe=await(await fetch("/api/staff/requests/all",{method:"DELETE",headers:{Authorization:`Bearer ${H}`},credentials:"include"})).json();B(!1),pe.success?(alert(`${pe.message}`),s([])):alert(`Li: ${pe.error||"Khng th xa requests"}`)}catch(H){console.error("Error deleting all requests:",H),alert(" xy ra li khi xa requests"),B(!1)}finally{C(!1),A("")}},U=t.filter(H=>{if(x!=="Tt c"&&H.status!==x)return!1;if(p||y){const se=new Date(H.created_at);if(p){const pe=new Date(p);if(pe.setHours(0,0,0,0),se<pe)return!1}if(y){const pe=new Date(y);if(pe.setHours(23,59,59,999),se>pe)return!1}}return!0}),ie=H=>{H.key==="Enter"&&de(),_&&S("")},Re=H=>{H.stopPropagation()};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-200 p-2 sm:p-6",children:[e.jsxs("div",{className:"max-w-7xl mx-auto bg-white rounded-xl shadow-lg p-3 sm:p-6 border border-gray-200",children:[e.jsxs("div",{className:"flex flex-col items-center mb-6",children:[e.jsx("img",{src:"/assets/references/images/minhon-logo.jpg",alt:"Minhon Logo",className:"h-16 object-contain mb-2"}),e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-blue-900 text-center",children:"Staff Request Management"})]}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("button",{onClick:()=>$("/analytics"),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-semibold shadow transition",children:"View Analytics"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:ae,disabled:w||t.length===0,className:`bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-semibold shadow transition ${w||t.length===0?"opacity-50 cursor-not-allowed":""}`,children:w?"Deleting...":"Delete All Requests"}),e.jsx("button",{onClick:R,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold shadow transition",children:"Refresh"})]})]}),e.jsxs("div",{className:"mb-4 grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[e.jsx("label",{className:"font-semibold text-blue-900 w-full sm:w-auto",children:"Lc theo trng thi:"}),e.jsx("select",{className:"w-full sm:w-auto border rounded px-3 py-1 text-sm",value:x,onChange:H=>f(H.target.value),children:$n.map(H=>e.jsx("option",{value:H,children:H},H))})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[e.jsx("label",{className:"font-semibold text-blue-900 w-full sm:w-auto",children:"Lc theo thi gian:"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 w-full sm:w-auto",children:[e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("label",{className:"text-sm text-gray-600 min-w-10",children:"T:"}),e.jsx("input",{type:"date",className:"border rounded px-2 py-1 text-sm w-full",value:p,onChange:H=>g(H.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("label",{className:"text-sm text-gray-600 min-w-10",children:"n:"}),e.jsx("input",{type:"date",className:"border rounded px-2 py-1 text-sm w-full",value:y,onChange:H=>j(H.target.value)})]}),(p||y)&&e.jsx("button",{onClick:()=>{g(""),j("")},className:"text-blue-600 hover:text-blue-800 text-sm mt-2 sm:mt-0",children:"Xa lc"})]})]})]}),e.jsx("div",{className:"block sm:hidden",children:e.jsxs("div",{className:"space-y-4",children:[(console.log("Mobile rendering - filteredRequests:",U),null),U.length>0?[...U].sort((H,se)=>new Date(se.created_at).getTime()-new Date(H.created_at).getTime()).map(H=>e.jsxs("div",{className:"border rounded-lg p-3 bg-white shadow-sm",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsxs("div",{className:"font-semibold",children:["Phng: ",H.room_number||"N/A"]}),e.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-semibold ${zi(H.status)}`,children:H.status||"Cha xc nh"})]}),e.jsxs("div",{className:"text-sm text-gray-500 mb-2",children:["Order ID: ",H.orderId||H.id||"N/A"]}),e.jsx("div",{className:"text-xs text-gray-500 mb-3",children:H.created_at?e.jsxs(e.Fragment,{children:[new Date(H.created_at).toLocaleDateString()," ",new Date(H.created_at).toLocaleTimeString()]}):"Thi gian khng xc nh"}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("button",{onClick:()=>b(v===H.id?null:H.id),className:"w-full flex justify-between items-center py-1 px-2 border rounded bg-gray-50 hover:bg-gray-100",children:[e.jsx("span",{className:"text-sm font-medium text-blue-700",children:v===H.id?"n ni dung":"Xem ni dung"}),e.jsx("svg",{className:`w-4 h-4 text-blue-700 transition-transform ${v===H.id?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),v===H.id&&e.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded-md whitespace-pre-line break-words text-sm",children:H.request_content||"Khng c ni dung"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("select",{className:"border rounded px-2 py-2 text-sm w-full",value:N[H.id]??H.status,onChange:se=>z(pe=>({...pe,[H.id]:se.target.value})),children:$n.filter(se=>se!=="Tt c").map(se=>e.jsx("option",{value:se,children:se},se))}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-2 py-2 rounded text-sm font-semibold",onClick:async()=>{const se=N[H.id];se&&se!==H.status&&(await P(se,H.id),z(pe=>{const{[H.id]:Ft,...ht}=pe;return ht}))},children:"Cp Nht"}),e.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-2 py-2 rounded text-sm font-semibold",onClick:()=>{a(H),W()},children:"Nhn khch"})]})]})]},H.id)):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("p",{children:"Khng c yu cu no"}),e.jsx("p",{className:"mt-2 text-sm",children:"Nhn Refresh  ti li d liu"})]})]})}),e.jsx("div",{className:"hidden sm:block overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-blue-100 text-blue-900",children:[e.jsx("th",{className:"py-2 px-3 text-left",children:"Room"}),e.jsx("th",{className:"py-2 px-3 text-left",children:"Order ID"}),e.jsx("th",{className:"py-2 px-6 text-left w-3/5",children:"Content"}),e.jsx("th",{className:"py-2 px-3 text-left",children:"Time"}),e.jsx("th",{className:"py-2 px-2 text-left w-1/12",children:"Status"}),e.jsx("th",{className:"py-2 px-3 text-left",children:"Action"})]})}),e.jsxs("tbody",{children:[(Array.isArray(U)?[...U].sort((H,se)=>new Date(se.created_at).getTime()-new Date(H.created_at).getTime()):[]).map(H=>e.jsxs("tr",{className:"border-b hover:bg-blue-50",children:[e.jsx("td",{className:"py-2 px-3 font-semibold",children:H.room_number}),e.jsx("td",{className:"py-2 px-3",children:H.orderId||H.id}),e.jsx("td",{className:"py-2 px-6 whitespace-pre-line break-words max-w-4xl",children:H.request_content}),e.jsxs("td",{className:"py-2 px-3",children:[H.created_at&&e.jsx("span",{className:"block whitespace-nowrap",children:new Date(H.created_at).toLocaleDateString()}),H.created_at&&e.jsx("span",{className:"block whitespace-nowrap text-xs text-gray-500",children:new Date(H.created_at).toLocaleTimeString()})]}),e.jsx("td",{className:"py-2 px-2",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${zi(H.status)} break-words whitespace-normal block text-center`,children:H.status})}),e.jsxs("td",{className:"py-2 px-3 space-x-2",children:[e.jsx("select",{className:"border rounded px-2 py-1 text-xs",value:N[H.id]??H.status,onChange:se=>z(pe=>({...pe,[H.id]:se.target.value})),children:$n.filter(se=>se!=="Tt c").map(se=>e.jsx("option",{value:se,children:se},se))}),e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-xs font-semibold",onClick:async()=>{const se=N[H.id];se&&se!==H.status&&(await P(se,H.id),z(pe=>{const{[H.id]:Ft,...ht}=pe;return ht}))},children:"Cp Nht"}),e.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-xs font-semibold",onClick:()=>{a(H),W()},children:"Nhn khch"})]})]},H.id)),U.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"py-8 text-center text-gray-500",children:"Khng c yu cu no"})})]})]})})]}),i&&n&&e.jsx(h2,{request:n,onClose:T,onStatusChange:H=>P(H,n.id),onOpenMessage:W}),l&&n&&e.jsx(u2,{messages:c,onClose:ee,onSend:Se,loading:u}),k&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md mx-4",onClick:Re,children:[e.jsx("h3",{className:"text-lg font-bold text-red-600 mb-4",children:"Xc nhn xa ton b requests"}),e.jsx("p",{className:"mb-4 text-gray-700",children:"Hnh ng ny s xa tt c requests v khng th hon tc. Vui lng nhp mt khu  xc nhn:"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("input",{type:"password",value:F,onChange:H=>A(H.target.value),onKeyDown:ie,className:`w-full px-3 py-2 border rounded ${_?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-red-500`,placeholder:"Nhp mt khu xc nhn",autoFocus:!0}),_&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:_}),e.jsx("p",{className:"text-gray-500 text-xs mt-2 italic",children:"Bin php bo v: Chc nng xa yu cu mt khu xc nhn  ngn nga xa d liu do nhm ln."})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>B(!1),className:"px-4 py-2 bg-gray-300 hover:bg-gray-400 rounded transition duration-200",children:"Hy"}),e.jsx("button",{onClick:de,disabled:w,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded transition duration-200 flex items-center disabled:opacity-70",children:w?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ang xa..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Xc nhn xa"]})})]})]})})]})},m2=()=>{const[t,s]=h.useState(!1),n=()=>s(!0);return t?e.jsx(yo,{}):e.jsx(c2,{onLogin:n})},Bi=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF4560"],x2=()=>{const[t,s]=h.useState(null),[n,a]=h.useState([]),[i,r]=h.useState([]),l=Ar(),o=async c=>{const d=localStorage.getItem("staff_token");if(!d)return l("/staff"),null;try{const u=await fetch(c,{headers:{Authorization:`Bearer ${d}`}});return u.status===401?(l("/staff"),null):u.json()}catch(u){return console.error(`Failed to fetch from ${c}:`,u),null}};return h.useEffect(()=>{(async()=>{const d=await o("/api/analytics/overview"),u=await o("/api/analytics/service-distribution"),m=await o("/api/analytics/hourly-activity");d&&s(d),u&&a(u),m&&r(m)})()},[]),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-100 to-gray-200 p-4 sm:p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800",children:"Analytics Dashboard"}),e.jsx("button",{onClick:()=>l("/staff/dashboard"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold shadow transition",children:"Back to Staff Dashboard"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Total Calls"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t?.totalCalls||"..."})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Avg. Call Duration"}),e.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[t?.averageCallDuration||"...","s"]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Languages"}),e.jsx(mt,{width:"100%",height:150,children:e.jsxs(Bn,{children:[e.jsx(qn,{data:t?.languageDistribution,dataKey:"count",nameKey:"language",cx:"50%",cy:"50%",outerRadius:60,fill:"#8884d8",label:!0,children:t?.languageDistribution.map((c,d)=>e.jsx(Hn,{fill:Bi[d%Bi.length]},`cell-${d}`))}),e.jsx(xt,{})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Popular Services"}),e.jsx(mt,{width:"100%",height:300,children:e.jsxs(Ir,{data:n,margin:{top:5,right:20,left:10,bottom:5},children:[e.jsx(es,{strokeDasharray:"3 3"}),e.jsx(ts,{dataKey:"serviceType"}),e.jsx(ss,{}),e.jsx(xt,{}),e.jsx(ai,{}),e.jsx(Mr,{dataKey:"count",fill:"#8884d8"})]})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Hourly Activity"}),e.jsx(mt,{width:"100%",height:300,children:e.jsxs(ha,{data:i,margin:{top:5,right:20,left:10,bottom:5},children:[e.jsx(es,{strokeDasharray:"3 3"}),e.jsx(ts,{dataKey:"hour"}),e.jsx(ss,{}),e.jsx(xt,{}),e.jsx(ai,{}),e.jsx(vs,{type:"monotone",dataKey:"count",stroke:"#82ca9d"})]})})]})]})]})})},p2=ds("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-dark"}},defaultVariants:{variant:"default"}});function Z({className:t,variant:s,...n}){return e.jsx("div",{className:D(p2({variant:s}),t),...n})}function f2(){return Fr.useSyncExternalStore(g2,()=>!0,()=>!1)}function g2(){return()=>{}}var $a="Avatar",[v2,oS]=Mt($a),[j2,bo]=v2($a),wo=h.forwardRef((t,s)=>{const{__scopeAvatar:n,...a}=t,[i,r]=h.useState("idle");return e.jsx(j2,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:r,children:e.jsx(ye.span,{...a,ref:s})})});wo.displayName=$a;var No="AvatarImage",So=h.forwardRef((t,s)=>{const{__scopeAvatar:n,src:a,onLoadingStatusChange:i=()=>{},...r}=t,l=bo(No,n),o=y2(a,r),c=Ke(d=>{i(d),l.onImageLoadingStatusChange(d)});return bs(()=>{o!=="idle"&&c(o)},[o,c]),o==="loaded"?e.jsx(ye.img,{...r,ref:s,src:a}):null});So.displayName=No;var Co="AvatarFallback",_o=h.forwardRef((t,s)=>{const{__scopeAvatar:n,delayMs:a,...i}=t,r=bo(Co,n),[l,o]=h.useState(a===void 0);return h.useEffect(()=>{if(a!==void 0){const c=window.setTimeout(()=>o(!0),a);return()=>window.clearTimeout(c)}},[a]),l&&r.imageLoadingStatus!=="loaded"?e.jsx(ye.span,{...i,ref:s}):null});_o.displayName=Co;function qi(t,s){return t?s?(t.src!==s&&(t.src=s),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function y2(t,{referrerPolicy:s,crossOrigin:n}){const a=f2(),i=h.useRef(null),r=a?(i.current||(i.current=new window.Image),i.current):null,[l,o]=h.useState(()=>qi(r,t));return bs(()=>{o(qi(r,t))},[r,t]),bs(()=>{const c=m=>()=>{o(m)};if(!r)return;const d=c("loaded"),u=c("error");return r.addEventListener("load",d),r.addEventListener("error",u),s&&(r.referrerPolicy=s),typeof n=="string"&&(r.crossOrigin=n),()=>{r.removeEventListener("load",d),r.removeEventListener("error",u)}},[r,n,s]),l}var ko=wo,To=So,Eo=_o;const Fa=h.forwardRef(({className:t,...s},n)=>e.jsx(ko,{ref:n,className:D("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...s}));Fa.displayName=ko.displayName;const Oa=h.forwardRef(({className:t,...s},n)=>e.jsx(To,{ref:n,className:D("aspect-square h-full w-full",t),...s}));Oa.displayName=To.displayName;const za=h.forwardRef(({className:t,...s},n)=>e.jsx(Eo,{ref:n,className:D("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...s}));za.displayName=Eo.displayName;const Ao=od,Po=cd,b2=h.forwardRef(({className:t,inset:s,children:n,...a},i)=>e.jsxs(lr,{ref:i,className:D("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",t),...a,children:[n,e.jsx(qt,{className:"ml-auto h-4 w-4"})]}));b2.displayName=lr.displayName;const w2=h.forwardRef(({className:t,...s},n)=>e.jsx(or,{ref:n,className:D("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));w2.displayName=or.displayName;const Ba=h.forwardRef(({className:t,sideOffset:s=4,...n},a)=>e.jsx(ld,{children:e.jsx(cr,{ref:a,sideOffset:s,className:D("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Ba.displayName=cr.displayName;const Gt=h.forwardRef(({className:t,inset:s,...n},a)=>e.jsx(dr,{ref:a,className:D("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",t),...n}));Gt.displayName=dr.displayName;const N2=h.forwardRef(({className:t,children:s,checked:n,...a},i)=>e.jsxs(hr,{ref:i,className:D("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(ur,{children:e.jsx(ja,{className:"h-4 w-4"})})}),s]}));N2.displayName=hr.displayName;const S2=h.forwardRef(({className:t,children:s,...n},a)=>e.jsxs(mr,{ref:a,className:D("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(ur,{children:e.jsx(Rh,{className:"h-2 w-2 fill-current"})})}),s]}));S2.displayName=mr.displayName;const qa=h.forwardRef(({className:t,inset:s,...n},a)=>e.jsx(xr,{ref:a,className:D("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...n}));qa.displayName=xr.displayName;const Ts=h.forwardRef(({className:t,...s},n)=>e.jsx(pr,{ref:n,className:D("-mx-1 my-1 h-px bg-muted",t),...s}));Ts.displayName=pr.displayName;const C2=[{href:"/dashboard",icon:ba,label:"Tng quan",description:"Metrics v thng k tng quan"},{href:"/dashboard/setup",icon:Ze,label:"Thit lp Assistant",description:"Cu hnh v ty chnh AI Assistant"},{href:"/dashboard/analytics",icon:va,label:"Phn tch",description:"Bo co v thng k chi tit"},{href:"/dashboard/settings",icon:Je,label:"Ci t",description:"Qun l thng tin khch sn"}],_2=[{href:"/dashboard/billing",icon:un,label:"Thanh ton",description:"Qun l subscription v billing",requiresPlan:"basic"},{href:"/dashboard/team",icon:Ue,label:"Nhm",description:"Qun l team v permissions",requiresPlan:"enterprise"}],k2=({href:t,icon:s,label:n,description:a,isActive:i,disabled:r=!1})=>{const l=e.jsxs(I,{variant:i?"default":"ghost",className:D("w-full justify-start gap-3 px-3 py-6 h-auto","hover:bg-gray-100 dark:hover:bg-gray-800",i&&"bg-primary text-primary-foreground hover:bg-primary/90",r&&"opacity-50 cursor-not-allowed hover:bg-transparent"),disabled:r,children:[e.jsx(s,{className:"h-5 w-5 shrink-0"}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("div",{className:"font-medium",children:n}),e.jsx("div",{className:D("text-xs text-muted-foreground",i&&"text-primary-foreground/80"),children:a})]}),r&&e.jsx(Z,{variant:"outline",className:"text-xs",children:"Premium"})]});return r?e.jsx("div",{children:l}):e.jsx(ke,{href:t,children:l})},T2=({plan:t,status:s})=>{const n=()=>s==="expired"?"destructive":t==="trial"?"secondary":t==="enterprise"?"default":"outline",a=()=>t==="trial"?"Dng th":t==="basic"?"C bn":t==="premium"?"Cao cp":t==="enterprise"?"Doanh nghip":t;return e.jsx(Z,{variant:n(),className:"text-xs",children:a()})},E2=(t,s)=>{if(!s)return!0;const n={trial:0,basic:1,premium:2,enterprise:3},a=n[t]??0,i=n[s]??0;return a>=i},A2=({isOpen:t,onClose:s,tenantData:n})=>{const[a]=Qt(),i=[...C2,..._2.filter(r=>r.requiresPlan&&n.subscriptionPlan!=="trial")];return e.jsx("aside",{className:D("fixed inset-y-0 left-0 z-50 w-80 bg-white dark:bg-gray-800 shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0",t?"translate-x-0":"-translate-x-full"),children:e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary text-primary-foreground",children:e.jsx(xl,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold",children:"Talk2Go"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"SaaS Dashboard"})]})]}),e.jsx(I,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:s,children:e.jsx(ms,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"px-6 py-4 border-b",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-lg",children:n.hotelName}),e.jsx("div",{className:"text-xs text-gray-500",children:n.subscriptionStatus==="active"?"Hot ng":"Ht hn"})]}),e.jsx(T2,{plan:n.subscriptionPlan,status:n.subscriptionStatus})]}),e.jsx(ke,{href:"/interface1",className:"block mt-3 px-3 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 transition text-center",children:"Xem giao din khch"})]}),e.jsx("nav",{className:"flex-1 p-4 space-y-2",children:i.map(r=>{const l=E2(n.subscriptionPlan,r.requiresPlan);return e.jsx(k2,{href:r.href,icon:r.icon,label:r.label,description:r.description,isActive:a===r.href,disabled:!l},r.href)})}),e.jsx("div",{className:"p-4 border-t",children:e.jsx("p",{className:"text-xs text-center text-muted-foreground",children:" 2024 Talk2Go. All rights reserved."})})]})})},Jt={id:"tenant-1",hotelName:"Mi Nhon Hotel",subscriptionPlan:"premium",subscriptionStatus:"active",remainingDays:15},P2=[{href:"/dashboard",icon:ba,label:"Tng quan",description:"Metrics v thng k tng quan"},{href:"/dashboard/setup",icon:Ze,label:"Thit lp Assistant",description:"Cu hnh v ty chnh AI Assistant"},{href:"/dashboard/analytics",icon:va,label:"Phn tch",description:"Bo co v thng k chi tit"},{href:"/dashboard/settings",icon:Je,label:"Ci t",description:"Qun l thng tin khch sn"}],I2=t=>{const s=[];return t!=="trial"&&s.push({href:"/dashboard/billing",icon:un,label:"Thanh ton",description:"Qun l subscription v billing"}),t==="enterprise"&&s.push({href:"/dashboard/team",icon:Ue,label:"Nhm",description:"Qun l team v permissions"}),s},zt=({children:t})=>{const[s,n]=h.useState(!1);Qt();const{tenant:a,logout:i}=De();return[...P2,...I2(a?.subscriptionPlan||Jt.subscriptionPlan)],e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s&&e.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:()=>n(!1)}),e.jsx(A2,{isOpen:s,onClose:()=>n(!1),tenantData:a||Jt}),e.jsxs("div",{className:"lg:ml-80",children:[e.jsx("header",{className:"sticky top-0 z-30 bg-white dark:bg-gray-800 border-b shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(I,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>n(!0),children:e.jsx(jl,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Dashboard"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Qun l khch sn v AI Assistant"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(I,{variant:"ghost",size:"icon",className:"relative",children:[e.jsx(Ut,{className:"h-5 w-5"}),e.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 bg-red-500 rounded-full text-xs flex items-center justify-center text-white",children:"2"})]}),e.jsxs(Ao,{children:[e.jsx(Po,{asChild:!0,children:e.jsx(I,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:e.jsxs(Fa,{className:"h-10 w-10",children:[e.jsx(Oa,{src:"",alt:(a||Jt).hotelName}),e.jsx(za,{className:"bg-primary text-primary-foreground",children:(a||Jt).hotelName.charAt(0).toUpperCase()})]})})}),e.jsxs(Ba,{className:"w-56",align:"end",children:[e.jsxs(qa,{className:"flex flex-col",children:[e.jsx("div",{className:"font-medium",children:(a||Jt).hotelName}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["ID: ",(a||Jt).id]})]}),e.jsx(Ts,{}),e.jsxs(Gt,{children:[e.jsx(Je,{className:"mr-2 h-4 w-4"}),"Ci t ti khon"]}),e.jsxs(Gt,{children:[e.jsx(pl,{className:"mr-2 h-4 w-4"}),"Tr gip"]}),e.jsx(Ts,{}),e.jsxs(Gt,{className:"text-red-600 focus:text-red-600",onClick:i,children:[e.jsx(vl,{className:"mr-2 h-4 w-4"}),"ng xut"]})]})]})]})]})}),e.jsx("main",{className:"p-6",children:t})]})]})};var Ha="Progress",Va=100,[M2,cS]=Mt(Ha),[L2,D2]=M2(Ha),Io=h.forwardRef((t,s)=>{const{__scopeProgress:n,value:a=null,max:i,getValueLabel:r=R2,...l}=t;(i||i===0)&&!Hi(i)&&console.error($2(`${i}`,"Progress"));const o=Hi(i)?i:Va;a!==null&&!Vi(a,o)&&console.error(F2(`${a}`,"Progress"));const c=Vi(a,o)?a:null,d=ln(c)?r(c,o):void 0;return e.jsx(L2,{scope:n,value:c,max:o,children:e.jsx(ye.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":ln(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":Do(c,o),"data-value":c??void 0,"data-max":o,...l,ref:s})})});Io.displayName=Ha;var Mo="ProgressIndicator",Lo=h.forwardRef((t,s)=>{const{__scopeProgress:n,...a}=t,i=D2(Mo,n);return e.jsx(ye.div,{"data-state":Do(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...a,ref:s})});Lo.displayName=Mo;function R2(t,s){return`${Math.round(t/s*100)}%`}function Do(t,s){return t==null?"indeterminate":t===s?"complete":"loading"}function ln(t){return typeof t=="number"}function Hi(t){return ln(t)&&!isNaN(t)&&t>0}function Vi(t,s){return ln(t)&&!isNaN(t)&&t<=s&&t>=0}function $2(t,s){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${s}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Va}\`.`}function F2(t,s){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${s}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Va} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Ro=Io,O2=Lo;const pt=h.forwardRef(({className:t,value:s,...n},a)=>e.jsx(Ro,{ref:a,className:D("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:e.jsx(O2,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));pt.displayName=Ro.displayName;const at={totalCalls:1247,totalCallsGrowth:12.5,averageCallDuration:245,callDurationGrowth:-5.2,activeUsers:89,activeUsersGrowth:8.3,satisfactionScore:4.7,satisfactionGrowth:2.1,languageDistribution:[{language:"Ting Vit",count:687,percentage:55.1},{language:"English",count:423,percentage:33.9},{language:"Franais",count:137,percentage:11}],recentActivity:[{time:"2 pht trc",action:"Cuc gi t phng 205",type:"call"},{time:"5 pht trc",action:"t room service t phng 301",type:"service"},{time:"12 pht trc",action:"Hi thng tin v spa",type:"inquiry"},{time:"18 pht trc",action:"Phn nn v ting n",type:"complaint"}]},Bt={usageLimit:5e3,currentUsage:1247,resetDate:"2024-01-01"},qs=({title:t,value:s,change:n,icon:a,description:i,suffix:r=""})=>e.jsxs(M,{children:[e.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(G,{className:"text-sm font-medium",children:t}),e.jsx(a,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(L,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[s,r]}),e.jsxs("div",{className:"flex items-center pt-1",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:i}),n!==void 0&&e.jsxs("div",{className:`ml-auto flex items-center text-xs ${n>0?"text-green-600":"text-red-600"}`,children:[e.jsx(ze,{className:`h-3 w-3 mr-1 ${n<0?"rotate-180":""}`}),Math.abs(n),"%"]})]})]})]}),z2=({time:t,action:s,type:n})=>{const a=()=>{switch(n){case"call":return e.jsx(ot,{className:"h-4 w-4 text-blue-500"});case"service":return e.jsx(Ze,{className:"h-4 w-4 text-green-500"});case"inquiry":return e.jsx(Zt,{className:"h-4 w-4 text-purple-500"});case"complaint":return e.jsx(Ne,{className:"h-4 w-4 text-red-500"});default:return e.jsx(bt,{className:"h-4 w-4 text-gray-500"})}};return e.jsxs("div",{className:"flex items-center space-x-3 p-3 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0",children:a()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:s}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:t})]})]})},B2=()=>e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"h-5 w-5"}),"Thao tc nhanh"]}),e.jsx(J,{children:"Cc tnh nng thng dng"})]}),e.jsxs(L,{className:"space-y-3",children:[e.jsx(ke,{href:"/dashboard/setup",children:e.jsxs(I,{variant:"outline",className:"w-full justify-start",children:[e.jsx(Ze,{className:"h-4 w-4 mr-2"}),"Cu hnh AI Assistant"]})}),e.jsx(ke,{href:"/dashboard/analytics",children:e.jsxs(I,{variant:"outline",className:"w-full justify-start",children:[e.jsx(Is,{className:"h-4 w-4 mr-2"}),"Xem bo co chi tit"]})}),e.jsx(ke,{href:"/dashboard/settings",children:e.jsxs(I,{variant:"outline",className:"w-full justify-start",children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),"Ci t khch sn"]})})]})]}),q2=()=>{const t=Bt.currentUsage/Bt.usageLimit*100;return e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(bt,{className:"h-5 w-5"}),"S dng thng ny"]}),e.jsx(J,{children:"Theo di gii hn subscription"})]}),e.jsxs(L,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Cuc gi"}),e.jsxs("span",{children:[Bt.currentUsage.toLocaleString()," / ",Bt.usageLimit.toLocaleString()]})]}),e.jsx(pt,{value:t,className:"h-2"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Cn li"}),e.jsxs("span",{className:"font-medium",children:[(Bt.usageLimit-Bt.currentUsage).toLocaleString()," cuc gi"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(lt,{className:"h-4 w-4"}),e.jsxs("span",{children:["Reset vo ",Bt.resetDate]})]})]})]})},H2=()=>e.jsxs(M,{children:[e.jsx(V,{children:e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(hs,{className:"h-5 w-5 text-green-500"}),"Trng thi h thng"]})}),e.jsxs(L,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"AI Assistant"})]}),e.jsx(Z,{variant:"outline",className:"text-green-600",children:"Hot ng"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"Voice API"})]}),e.jsx(Z,{variant:"outline",className:"text-green-600",children:"Hot ng"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"Analytics"})]}),e.jsx(Z,{variant:"outline",className:"text-green-600",children:"Hot ng"})]})]})]}),V2=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Tng quan"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Theo di hiu sut AI Assistant v hot ng khch sn"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(qs,{title:"Tng cuc gi",value:at.totalCalls.toLocaleString(),change:at.totalCallsGrowth,icon:ot,description:"Thng ny"}),e.jsx(qs,{title:"Thi gian trung bnh",value:Math.floor(at.averageCallDuration/60),change:at.callDurationGrowth,icon:lt,description:"Pht/cuc gi",suffix:"m"}),e.jsx(qs,{title:"Ngi dng hot ng",value:at.activeUsers,change:at.activeUsersGrowth,icon:Ue,description:"Trong 7 ngy"}),e.jsx(qs,{title:"im hi lng",value:at.satisfactionScore,change:at.satisfactionGrowth,icon:ze,description:"Trn 5 im",suffix:"/5"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(M,{className:"lg:col-span-2",children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(us,{className:"h-5 w-5"}),"Phn b ngn ng"]}),e.jsx(J,{children:"Ngn ng c s dng trong cc cuc gi"})]}),e.jsx(L,{children:e.jsx("div",{className:"space-y-4",children:at.languageDistribution.map(t=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium",children:t.language}),e.jsxs("span",{className:"text-muted-foreground",children:[t.count," (",t.percentage,"%)"]})]}),e.jsx(pt,{value:t.percentage,className:"h-2"})]},t.language))})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(B2,{}),e.jsx(q2,{})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(bt,{className:"h-5 w-5"}),"Hot ng gn y"]}),e.jsx(J,{children:"Cc s kin mi nht t AI Assistant"})]}),e.jsx(L,{children:e.jsx("div",{className:"space-y-1",children:at.recentActivity.map((t,s)=>e.jsx(z2,{time:t.time,action:t.action,type:t.type},s))})})]}),e.jsx(H2,{})]})]}),K=h.forwardRef(({className:t,type:s,...n},a)=>e.jsx("input",{type:s,className:D("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm font-medium text-dark placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...n}));K.displayName="Input";var G2="Label",$o=h.forwardRef((t,s)=>e.jsx(ye.label,{...t,ref:s,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));$o.displayName=G2;var Fo=$o;const U2=ds("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),E=h.forwardRef(({className:t,...s},n)=>e.jsx(Fo,{ref:n,className:D(U2(),t),...s}));E.displayName=Fo.displayName;const be=pd,we=fd,ve=h.forwardRef(({className:t,children:s,...n},a)=>e.jsxs(fr,{ref:a,className:D("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[s,e.jsx(dd,{asChild:!0,children:e.jsx(kt,{className:"h-4 w-4 opacity-50"})})]}));ve.displayName=fr.displayName;const Oo=h.forwardRef(({className:t,...s},n)=>e.jsx(gr,{ref:n,className:D("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Dh,{className:"h-4 w-4"})}));Oo.displayName=gr.displayName;const zo=h.forwardRef(({className:t,...s},n)=>e.jsx(vr,{ref:n,className:D("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(kt,{className:"h-4 w-4"})}));zo.displayName=vr.displayName;const je=h.forwardRef(({className:t,children:s,position:n="popper",...a},i)=>e.jsx(hd,{children:e.jsxs(jr,{ref:i,className:D("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...a,children:[e.jsx(Oo,{}),e.jsx(ud,{className:D("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(zo,{})]})}));je.displayName=jr.displayName;const W2=h.forwardRef(({className:t,...s},n)=>e.jsx(yr,{ref:n,className:D("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));W2.displayName=yr.displayName;const q=h.forwardRef(({className:t,children:s,...n},a)=>e.jsxs(br,{ref:a,className:D("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(md,{children:e.jsx(ja,{className:"h-4 w-4"})})}),e.jsx(xd,{children:s})]}));q.displayName=br.displayName;const K2=h.forwardRef(({className:t,...s},n)=>e.jsx(wr,{ref:n,className:D("-mx-1 my-1 h-px bg-muted",t),...s}));K2.displayName=wr.displayName;var jn="Checkbox",[X2,dS]=Mt(jn),[Q2,Ga]=X2(jn);function Y2(t){const{__scopeCheckbox:s,checked:n,children:a,defaultChecked:i,disabled:r,form:l,name:o,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:m}=t,[x,f]=cn({prop:n,defaultProp:i??!1,onChange:c,caller:jn}),[p,g]=h.useState(null),[y,j]=h.useState(null),v=h.useRef(!1),b=p?!!l||!!p.closest("form"):!0,w={checked:x,disabled:r,setChecked:f,control:p,setControl:g,name:o,form:l,value:u,hasConsumerStoppedPropagationRef:v,required:d,defaultChecked:Pt(i)?!1:i,isFormControl:b,bubbleInput:y,setBubbleInput:j};return e.jsx(Q2,{scope:s,...w,children:Z2(m)?m(w):a})}var Bo="CheckboxTrigger",qo=h.forwardRef(({__scopeCheckbox:t,onKeyDown:s,onClick:n,...a},i)=>{const{control:r,value:l,disabled:o,checked:c,required:d,setControl:u,setChecked:m,hasConsumerStoppedPropagationRef:x,isFormControl:f,bubbleInput:p}=Ga(Bo,t),g=He(i,u),y=h.useRef(c);return h.useEffect(()=>{const j=r?.form;if(j){const v=()=>m(y.current);return j.addEventListener("reset",v),()=>j.removeEventListener("reset",v)}},[r,m]),e.jsx(ye.button,{type:"button",role:"checkbox","aria-checked":Pt(c)?"mixed":c,"aria-required":d,"data-state":Wo(c),"data-disabled":o?"":void 0,disabled:o,value:l,...a,ref:g,onKeyDown:Ce(s,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:Ce(n,j=>{m(v=>Pt(v)?!0:!v),p&&f&&(x.current=j.isPropagationStopped(),x.current||j.stopPropagation())})})});qo.displayName=Bo;var Ua=h.forwardRef((t,s)=>{const{__scopeCheckbox:n,name:a,checked:i,defaultChecked:r,required:l,disabled:o,value:c,onCheckedChange:d,form:u,...m}=t;return e.jsx(Y2,{__scopeCheckbox:n,checked:i,defaultChecked:r,disabled:o,required:l,onCheckedChange:d,name:a,form:u,value:c,internal_do_not_use_render:({isFormControl:x})=>e.jsxs(e.Fragment,{children:[e.jsx(qo,{...m,ref:s,__scopeCheckbox:n}),x&&e.jsx(Uo,{__scopeCheckbox:n})]})})});Ua.displayName=jn;var Ho="CheckboxIndicator",Vo=h.forwardRef((t,s)=>{const{__scopeCheckbox:n,forceMount:a,...i}=t,r=Ga(Ho,n);return e.jsx(Xt,{present:a||Pt(r.checked)||r.checked===!0,children:e.jsx(ye.span,{"data-state":Wo(r.checked),"data-disabled":r.disabled?"":void 0,...i,ref:s,style:{pointerEvents:"none",...t.style}})})});Vo.displayName=Ho;var Go="CheckboxBubbleInput",Uo=h.forwardRef(({__scopeCheckbox:t,...s},n)=>{const{control:a,hasConsumerStoppedPropagationRef:i,checked:r,defaultChecked:l,required:o,disabled:c,name:d,value:u,form:m,bubbleInput:x,setBubbleInput:f}=Ga(Go,t),p=He(n,f),g=Nr(r),y=Sr(a);h.useEffect(()=>{const v=x;if(!v)return;const b=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(b,"checked").set,k=!i.current;if(g!==r&&C){const B=new Event("click",{bubbles:k});v.indeterminate=Pt(r),C.call(v,Pt(r)?!1:r),v.dispatchEvent(B)}},[x,g,r,i]);const j=h.useRef(Pt(r)?!1:r);return e.jsx(ye.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??j.current,required:o,disabled:c,name:d,value:u,form:m,...s,tabIndex:-1,ref:p,style:{...s.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Uo.displayName=Go;function Z2(t){return typeof t=="function"}function Pt(t){return t==="indeterminate"}function Wo(t){return Pt(t)?"indeterminate":t?"checked":"unchecked"}const Ko=h.forwardRef(({className:t,...s},n)=>e.jsx(Ua,{ref:n,className:D("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...s,children:e.jsx(Vo,{className:D("flex items-center justify-center text-current"),children:e.jsx(ja,{className:"h-4 w-4"})})}));Ko.displayName=Ua.displayName;const J2=ds("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-dark",{variants:{variant:{default:"bg-background text-dark",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ls=h.forwardRef(({className:t,variant:s,...n},a)=>e.jsx("div",{ref:a,role:"alert",className:D(J2({variant:s}),t),...n}));Ls.displayName="Alert";const eN=h.forwardRef(({className:t,...s},n)=>e.jsx("h5",{ref:n,className:D("mb-1 font-medium leading-none tracking-tight",t),...s}));eN.displayName="AlertTitle";const Ds=h.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:D("text-sm [&_p]:leading-relaxed",t),...s}));Ds.displayName="AlertDescription";class tN{constructor(){this.baseUrl="/api/dashboard"}async researchHotel(s){try{return await Ot({url:`${this.baseUrl}/research-hotel`,method:"POST",body:s})}catch(n){throw console.error("Hotel research failed:",n),this.handleApiError(n)}}async generateAssistant(s){try{return await Ot({url:`${this.baseUrl}/generate-assistant`,method:"POST",body:s})}catch(n){throw console.error("Assistant generation failed:",n),this.handleApiError(n)}}async getHotelProfile(){try{return await Ot({url:`${this.baseUrl}/hotel-profile`,method:"GET"})}catch(s){throw console.error("Failed to fetch hotel profile:",s),this.handleApiError(s)}}async updateAssistantConfig(s){try{return await Ot({url:`${this.baseUrl}/assistant-config`,method:"PUT",body:s})}catch(n){throw console.error("Failed to update assistant config:",n),this.handleApiError(n)}}async getAnalytics(){try{return await Ot({url:`${this.baseUrl}/analytics`,method:"GET"})}catch(s){throw console.error("Failed to fetch analytics:",s),this.handleApiError(s)}}async getServiceHealth(){try{return await Ot({url:`${this.baseUrl}/service-health`,method:"GET"})}catch(s){throw console.error("Failed to fetch service health:",s),this.handleApiError(s)}}async resetAssistant(){try{return await Ot({url:`${this.baseUrl}/reset-assistant`,method:"POST"})}catch(s){throw console.error("Failed to reset assistant:",s),this.handleApiError(s)}}handleApiError(s){if(s.error)return s;const n=s.message||"An unexpected error occurred",a=n.match(/^(\d+):\s*(.+)$/);if(a){const[,i,r]=a,l=parseInt(i);try{const o=JSON.parse(r);return{error:o.error||r,details:o.details,feature:o.feature,currentPlan:o.currentPlan,upgradeRequired:o.upgradeRequired,setupRequired:o.setupRequired,assistantRequired:o.assistantRequired,requiresResearch:o.requiresResearch}}catch{return{error:r,details:{statusCode:l}}}}return{error:n,details:{originalError:s}}}}const Xo=new tN,sN=t=>t&&typeof t.name=="string"&&typeof t.address=="string"&&Array.isArray(t.services)&&Array.isArray(t.amenities)&&t.policies&&Array.isArray(t.roomTypes),nN=t=>t&&["professional","friendly","luxurious","casual","enthusiastic"].includes(t.personality)&&["formal","friendly","warm","energetic","calm"].includes(t.tone)&&Array.isArray(t.languages)&&t.languages.length>0&&["office","off","hotel-lobby"].includes(t.backgroundSound),aN=[{value:"professional",label:"Chuyn nghip",description:"Lch s, trang trng v ng tin cy"},{value:"friendly",label:"Thn thin",description:"m p, d gn v hu ch"},{value:"luxurious",label:"Sang trng",description:"Tinh t, ng cp v chuyn nghip"},{value:"casual",label:"Thoi mi",description:"T nhin, gn gi v d chu"},{value:"enthusiastic",label:"Nhit tnh",description:"Tch cc, nng ng v si ni"}],iN=[{value:"formal",label:"Trang trng",description:"Lch s v chuyn nghip"},{value:"friendly",label:"Thn thin",description:"m p v d gn"},{value:"warm",label:"m p",description:"Gn gi v chm sc"},{value:"energetic",label:"Nng ng",description:"Tch cc v si ni"},{value:"calm",label:"im tnh",description:"Bnh tnh v th thi"}],rN=[{value:"vi",label:"Ting Vit",flag:""},{value:"en",label:"English",flag:""},{value:"fr",label:"Franais",flag:""},{value:"ko",label:"",flag:""},{value:"zh",label:"",flag:""},{value:"ru",label:"",flag:""}],lN=[{value:"hotel-lobby",label:"Snh khch sn",description:"Nhc nn nh nhng"},{value:"office",label:"Vn phng",description:"m thanh vn phng"},{value:"off",label:"Tt m thanh",description:"Khng c m thanh nn"}],oN=({state:t,onNext:s,onError:n,onUpdateState:a})=>{const i=(o,c)=>{a({formData:{...t.formData,[o]:c},validation:{...t.validation,[o]:null}})},r=()=>{const o={};return t.formData.hotelName.trim()?t.formData.hotelName.length<2&&(o.hotelName="Tn khch sn phi c t nht 2 k t"):o.hotelName="Tn khch sn l bt buc",a({validation:{...t.validation,...o}}),Object.keys(o).length===0},l=async()=>{if(r()){a({isResearching:!0,error:null});try{const o=await Xo.researchHotel({hotelName:t.formData.hotelName,location:t.formData.location||void 0,researchTier:t.formData.researchTier});o.success&&sN(o.hotelData)?s(o.hotelData):n({error:"D liu khch sn khng hp l"})}catch(o){n(o)}finally{a({isResearching:!1})}}};return e.jsxs(M,{className:"max-w-2xl mx-auto",children:[e.jsxs(V,{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary text-primary-foreground",children:e.jsx(It,{className:"h-6 w-6"})})}),e.jsx(G,{className:"text-2xl",children:"Tm kim thng tin khch sn"}),e.jsx(J,{children:"Chng ti s t ng nghin cu v thu thp thng tin v khch sn ca bn"})]}),e.jsxs(L,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"hotel-name",children:"Tn khch sn *"}),e.jsx(K,{id:"hotel-name",placeholder:"V d: Grand Hotel Saigon",value:t.formData.hotelName,onChange:o=>i("hotelName",o.target.value),className:`mt-1 ${t.validation.hotelName?"border-red-500":""}`}),t.validation.hotelName&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:t.validation.hotelName})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"location",children:"a im (khng bt buc)"}),e.jsx(K,{id:"location",placeholder:"V d: Ho Chi Minh City, Vietnam",value:t.formData.location,onChange:o=>i("location",o.target.value),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"research-tier",children:"Mc  nghin cu"}),e.jsxs(be,{value:t.formData.researchTier,onValueChange:o=>i("researchTier",o),children:[e.jsx(ve,{className:"mt-1",children:e.jsx(we,{})}),e.jsxs(je,{children:[e.jsx(q,{value:"basic",children:"C bn (Min ph)"}),e.jsx(q,{value:"advanced",children:"Nng cao (Premium)"})]})]})]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Thng tin s c thu thp:"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:" Thng tin c bn (a ch, s in thoi, website)"}),e.jsx("li",{children:" Dch v v tin nghi"}),e.jsx("li",{children:" Cc loi phng v gi c"}),e.jsx("li",{children:" Chnh sch check-in/check-out"}),e.jsx("li",{children:" Cc im tham quan gn "}),t.formData.researchTier==="advanced"&&e.jsxs(e.Fragment,{children:[e.jsx("li",{children:" D liu mng x hi"}),e.jsx("li",{children:" Phn tch nh gi khch hng"}),e.jsx("li",{children:" Thng tin i th cnh tranh"})]})]})]}),t.error&&e.jsxs(Ls,{variant:"destructive",children:[e.jsx(Ne,{className:"h-4 w-4"}),e.jsxs(Ds,{children:[t.error.error,t.error.upgradeRequired&&e.jsx("div",{className:"mt-2",children:e.jsx(I,{variant:"outline",size:"sm",children:"Nng cp gi dch v"})})]})]}),e.jsx(I,{onClick:l,disabled:!t.formData.hotelName.trim()||t.isResearching,className:"w-full",size:"lg",children:t.isResearching?e.jsxs(e.Fragment,{children:[e.jsx(Dt,{className:"w-4 h-4 mr-2 animate-spin"}),"ang tm kim..."]}):e.jsxs(e.Fragment,{children:[e.jsx(It,{className:"w-4 h-4 mr-2"}),"Tm kim khch sn"]})})]})]})},cN=({state:t,onNext:s,onBack:n,onError:a,onUpdateState:i})=>{const[r,l]=h.useState(!1),[o,c]=h.useState(t.hotelData),[d,u]=h.useState(new Set(["basic"])),m=p=>{const g=new Set(d);g.has(p)?g.delete(p):g.add(p),u(g)},x=()=>{l(!r),r&&o&&i({hotelData:o})},f=()=>{t.hotelData&&s()};return t.hotelData?e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-green-100 text-green-600",children:e.jsx(hs,{className:"h-6 w-6"})})}),e.jsx("h2",{className:"text-2xl font-bold",children:"Xc nhn thng tin khch sn"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Vui lng kim tra v xc nhn thng tin  thu thp"})]}),e.jsxs("div",{className:"flex justify-center gap-2 mb-6",children:[e.jsxs(I,{variant:r?"default":"outline",onClick:x,size:"sm",children:[e.jsx(Je,{className:"w-4 h-4 mr-2"}),r?"Lu thay i":"Chnh sa"]}),e.jsxs(I,{variant:"outline",onClick:n,size:"sm",children:[e.jsx(Wn,{className:"w-4 h-4 mr-2"}),"Tm kim li"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(M,{children:[e.jsx(V,{className:"cursor-pointer",onClick:()=>m("basic"),children:e.jsxs(G,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qs,{className:"h-5 w-5"}),"Thng tin c bn"]}),d.has("basic")?e.jsx(kt,{className:"h-4 w-4"}):e.jsx(qt,{className:"h-4 w-4"})]})}),d.has("basic")&&e.jsxs(L,{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Tn khch sn"}),e.jsx("p",{className:"font-medium",children:t.hotelData.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"a ch"}),e.jsx("p",{className:"text-sm text-gray-600",children:t.hotelData.address})]}),t.hotelData.phone&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"S in thoi"}),e.jsx("p",{className:"text-sm",children:t.hotelData.phone})]}),t.hotelData.website&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"Website"}),e.jsxs("a",{href:t.hotelData.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm flex items-center gap-1",children:[t.hotelData.website,e.jsx(Fh,{className:"h-3 w-3"})]})]}),t.hotelData.rating&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:"nh gi"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ns,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"font-medium",children:t.hotelData.rating})]})]})]})]}),e.jsxs(M,{children:[e.jsx(V,{className:"cursor-pointer",onClick:()=>m("services"),children:e.jsxs(G,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"h-5 w-5"}),"Dch v (",t.hotelData.services.length,")"]}),d.has("services")?e.jsx(kt,{className:"h-4 w-4"}):e.jsx(qt,{className:"h-4 w-4"})]})}),d.has("services")&&e.jsx(L,{children:e.jsx("div",{className:"space-y-2",children:t.hotelData.services.map((p,g)=>e.jsxs("div",{className:"p-2 bg-gray-50 rounded",children:[e.jsx("div",{className:"font-medium text-sm",children:p.name}),e.jsx("div",{className:"text-xs text-gray-600",children:p.description})]},g))})})]}),e.jsxs(M,{children:[e.jsx(V,{className:"cursor-pointer",onClick:()=>m("amenities"),children:e.jsxs(G,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_a,{className:"h-5 w-5"}),"Tin nghi (",t.hotelData.amenities.length,")"]}),d.has("amenities")?e.jsx(kt,{className:"h-4 w-4"}):e.jsx(qt,{className:"h-4 w-4"})]})}),d.has("amenities")&&e.jsx(L,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:t.hotelData.amenities.map((p,g)=>e.jsx(Z,{variant:"secondary",children:p},g))})})]}),e.jsxs(M,{children:[e.jsx(V,{className:"cursor-pointer",onClick:()=>m("rooms"),children:e.jsxs(G,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"h-5 w-5"}),"Loi phng (",t.hotelData.roomTypes.length,")"]}),d.has("rooms")?e.jsx(kt,{className:"h-4 w-4"}):e.jsx(qt,{className:"h-4 w-4"})]})}),d.has("rooms")&&e.jsx(L,{children:e.jsx("div",{className:"space-y-3",children:t.hotelData.roomTypes.map((p,g)=>e.jsx("div",{className:"p-3 border rounded",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:p.name}),e.jsx("div",{className:"text-sm text-gray-600",children:p.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-green-600",children:[p.price.toLocaleString()," VND"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"/ m"})]})]})},g))})})]}),e.jsxs(M,{children:[e.jsx(V,{className:"cursor-pointer",onClick:()=>m("policies"),children:e.jsxs(G,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(lt,{className:"h-5 w-5"}),"Chnh sch"]}),d.has("policies")?e.jsx(kt,{className:"h-4 w-4"}):e.jsx(qt,{className:"h-4 w-4"})]})}),d.has("policies")&&e.jsxs(L,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Check-in:"}),e.jsx("span",{className:"font-medium",children:t.hotelData.policies.checkIn})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Check-out:"}),e.jsx("span",{className:"font-medium",children:t.hotelData.policies.checkOut})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Hy phng:"}),e.jsx("span",{className:"font-medium",children:t.hotelData.policies.cancellation})]})]})]}),e.jsxs(M,{children:[e.jsx(V,{className:"cursor-pointer",onClick:()=>m("attractions"),children:e.jsxs(G,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Na,{className:"h-5 w-5"}),"im tham quan (",t.hotelData.localAttractions.length,")"]}),d.has("attractions")?e.jsx(kt,{className:"h-4 w-4"}):e.jsx(qt,{className:"h-4 w-4"})]})}),d.has("attractions")&&e.jsx(L,{children:e.jsx("div",{className:"space-y-2",children:t.hotelData.localAttractions.map((p,g)=>e.jsxs("div",{className:"p-2 bg-gray-50 rounded",children:[e.jsx("div",{className:"font-medium text-sm",children:p.name}),e.jsx("div",{className:"text-xs text-gray-600",children:p.description}),p.distance&&e.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Cch ",p.distance]})]},g))})})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(I,{variant:"outline",onClick:n,children:[e.jsx(Wn,{className:"w-4 h-4 mr-2"}),"Quay li"]}),e.jsxs(I,{onClick:f,size:"lg",children:["Tip tc",e.jsx(Lh,{className:"w-4 h-4 ml-2"})]})]})]}):e.jsx(M,{className:"max-w-2xl mx-auto",children:e.jsxs(L,{className:"text-center py-8",children:[e.jsx(Ne,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),e.jsx("p",{children:"Khng tm thy d liu khch sn. Vui lng th li."}),e.jsx(I,{onClick:n,className:"mt-4",children:"Quay li"})]})})},dN=({state:t,onNext:s,onBack:n,onError:a,onUpdateState:i})=>{const r=(d,u)=>{i({customization:{...t.customization,[d]:u},validation:{...t.validation,[d]:null}})},l=(d,u)=>{let m=[...t.customization.languages];u?m.push(d):m=m.filter(x=>x!==d),r("languages",m)},o=()=>{const d={};return t.customization.languages.length===0&&(d.languages="Vui lng chn t nht mt ngn ng"),i({validation:{...t.validation,...d}}),Object.keys(d).length===0},c=async()=>{if(!(!o()||!t.hotelData)){if(!nN(t.customization)){a({error:"Cu hnh Assistant khng hp l"});return}i({isGenerating:!0,error:null});try{const d=await Xo.generateAssistant({hotelData:t.hotelData,customization:t.customization});d.success?s(d.assistantId):a({error:"Khng th to Assistant"})}catch(d){a(d)}finally{i({isGenerating:!1})}}};return e.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-purple-100 text-purple-600",children:e.jsx(Ze,{className:"h-6 w-6"})})}),e.jsx("h2",{className:"text-2xl font-bold",children:"Ty chnh AI Assistant"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"C nhn ha AI Assistant theo phong cch khch sn ca bn"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(qh,{className:"h-5 w-5"}),"Tnh cch"]}),e.jsx(J,{children:"Chn phong cch giao tip ca AI Assistant"})]}),e.jsx(L,{children:e.jsxs(be,{value:t.customization.personality,onValueChange:d=>r("personality",d),children:[e.jsx(ve,{children:e.jsx(we,{})}),e.jsx(je,{children:aN.map(d=>e.jsx(q,{value:d.value,children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:d.label}),e.jsx("div",{className:"text-xs text-gray-500",children:d.description})]})},d.value))})]})})]}),e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(gi,{className:"h-5 w-5"}),"Ging iu"]}),e.jsx(J,{children:"Chn cch thc giao tip"})]}),e.jsx(L,{children:e.jsxs(be,{value:t.customization.tone,onValueChange:d=>r("tone",d),children:[e.jsx(ve,{children:e.jsx(we,{})}),e.jsx(je,{children:iN.map(d=>e.jsx(q,{value:d.value,children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:d.label}),e.jsx("div",{className:"text-xs text-gray-500",children:d.description})]})},d.value))})]})})]}),e.jsxs(M,{className:"md:col-span-2",children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(us,{className:"h-5 w-5"}),"Ngn ng h tr"]}),e.jsx(J,{children:"Chn cc ngn ng m AI Assistant c th giao tip"})]}),e.jsxs(L,{children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:rN.map(d=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ko,{id:d.value,checked:t.customization.languages.includes(d.value),onCheckedChange:u=>l(d.value,u)}),e.jsxs(E,{htmlFor:d.value,className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("span",{children:d.flag}),e.jsx("span",{children:d.label})]})]},d.value))}),t.validation.languages&&e.jsx("p",{className:"text-sm text-red-500 mt-2",children:t.validation.languages})]})]}),e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(Bh,{className:"h-5 w-5"}),"Ci t ging ni"]}),e.jsx(J,{children:"iu chnh thi gian v m thanh"})]}),e.jsxs(L,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(E,{children:"Thi gian ch (giy)"}),e.jsx(K,{type:"number",min:"10",max:"120",value:t.customization.silenceTimeout||30,onChange:d=>r("silenceTimeout",parseInt(d.target.value)),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(E,{children:"Thi gian ti a (giy)"}),e.jsx(K,{type:"number",min:"300",max:"3600",value:t.customization.maxDuration||1800,onChange:d=>r("maxDuration",parseInt(d.target.value)),className:"mt-1"})]})]})]}),e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(gi,{className:"h-5 w-5"}),"m thanh nn"]}),e.jsx(J,{children:"Chn m thanh nn cho cuc gi"})]}),e.jsx(L,{children:e.jsxs(be,{value:t.customization.backgroundSound,onValueChange:d=>r("backgroundSound",d),children:[e.jsx(ve,{children:e.jsx(we,{})}),e.jsx(je,{children:lN.map(d=>e.jsx(q,{value:d.value,children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:d.label}),e.jsx("div",{className:"text-xs text-gray-500",children:d.description})]})},d.value))})]})})]})]}),t.error&&e.jsxs(Ls,{variant:"destructive",children:[e.jsx(Ne,{className:"h-4 w-4"}),e.jsxs(Ds,{children:[t.error.error,t.error.upgradeRequired&&e.jsx("div",{className:"mt-2",children:e.jsx(I,{variant:"outline",size:"sm",children:"Nng cp gi dch v"})})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(I,{variant:"outline",onClick:n,children:[e.jsx(Wn,{className:"w-4 h-4 mr-2"}),"Quay li"]}),e.jsx(I,{onClick:c,disabled:t.customization.languages.length===0||t.isGenerating,size:"lg",children:t.isGenerating?e.jsxs(e.Fragment,{children:[e.jsx(Dt,{className:"w-4 h-4 mr-2 animate-spin"}),"ang to Assistant..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ze,{className:"w-4 h-4 mr-2"}),"To AI Assistant"]})})]})]})},hN=({state:t,onUpdateState:s})=>{const[,n]=Qt(),a=()=>{n("/dashboard")},i=()=>{n("/dashboard/assistant")};return e.jsxs(M,{className:"max-w-2xl mx-auto",children:[e.jsxs(V,{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-green-100 text-green-600",children:e.jsx(hs,{className:"h-8 w-8"})})}),e.jsx(G,{className:"text-2xl",children:"AI Assistant  sn sng!"}),e.jsx(J,{className:"text-base",children:"Khch sn ca bn  c thit lp thnh cng. AI Assistant hin c th phc v khch hng 24/7."})]}),e.jsxs(L,{className:"space-y-6",children:[e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Nhng g  c thit lp:"}),e.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[e.jsx("li",{children:" Thng tin khch sn  c lu tr"}),e.jsx("li",{children:" Knowledge base  c to"}),e.jsx("li",{children:" AI Assistant  c cu hnh"}),e.jsx("li",{children:" Voice API  c kch hot"}),e.jsx("li",{children:" Dashboard  sn sng s dng"})]})]}),t.assistantId&&e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Thng tin Assistant:"}),e.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[e.jsxs("div",{children:["ID: ",e.jsx("code",{className:"bg-blue-100 px-1 rounded",children:t.assistantId})]}),e.jsxs("div",{children:["Tnh cch: ",e.jsx("span",{className:"capitalize",children:t.customization.personality})]}),e.jsxs("div",{children:["Ngn ng: ",t.customization.languages.join(", ")]})]})]}),e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Bn c th bt u s dng AI Assistant ngay by gi hoc ty chnh thm trong ci t."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(I,{onClick:i,variant:"outline",className:"flex-1",children:[e.jsx(ot,{className:"w-4 h-4 mr-2"}),"Kim tra Assistant"]}),e.jsx(I,{onClick:a,size:"lg",className:"flex-1",children:"i ti Dashboard"})]})]})]})]})},uN=()=>{const[t,s]=h.useState({currentStep:1,hotelData:null,customization:{personality:"professional",tone:"friendly",languages:["vi"],backgroundSound:"hotel-lobby"},isLoading:!1,error:null,isResearching:!1,isGenerating:!1,assistantId:null,retryCount:0,formData:{hotelName:"",location:"",researchTier:"basic"},validation:{hotelName:null,languages:null}}),n=4,a=t.currentStep/n*100,i=u=>{s(m=>({...m,...u}))},r=u=>{t.currentStep===1&&u?i({hotelData:u,currentStep:2,error:null}):t.currentStep===2?i({currentStep:3,error:null}):t.currentStep===3&&u&&i({assistantId:u,currentStep:4,error:null})},l=()=>{t.currentStep>1&&i({currentStep:t.currentStep-1,error:null})},o=u=>{i({error:u})},c=()=>{i({error:null,retryCount:t.retryCount+1})},d={state:t,onNext:r,onBack:l,onError:o,onUpdateState:i};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"max-w-2xl mx-auto mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:["Bc ",t.currentStep," / ",n]}),e.jsxs("span",{className:"text-sm text-gray-600",children:[Math.round(a),"%"]})]}),e.jsx(pt,{value:a,className:"h-2"})]}),t.error&&e.jsx("div",{className:"max-w-2xl mx-auto mb-6",children:e.jsxs(Ls,{variant:"destructive",children:[e.jsx(Ne,{className:"h-4 w-4"}),e.jsxs(Ds,{className:"flex items-center justify-between",children:[e.jsx("span",{children:t.error.error}),e.jsxs(I,{variant:"outline",size:"sm",onClick:c,children:[e.jsx(me,{className:"w-4 h-4 mr-2"}),"Th li"]})]})]})}),t.currentStep===1&&e.jsx(oN,{...d}),t.currentStep===2&&e.jsx(cN,{...d}),t.currentStep===3&&e.jsx(dN,{...d}),t.currentStep===4&&e.jsx(hN,{...d})]})})},qe=h.forwardRef(({className:t,...s},n)=>e.jsx("textarea",{className:D("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...s}));qe.displayName="Textarea";var yn="Switch",[mN,hS]=Mt(yn),[xN,pN]=mN(yn),Qo=h.forwardRef((t,s)=>{const{__scopeSwitch:n,name:a,checked:i,defaultChecked:r,required:l,disabled:o,value:c="on",onCheckedChange:d,form:u,...m}=t,[x,f]=h.useState(null),p=He(s,b=>f(b)),g=h.useRef(!1),y=x?u||!!x.closest("form"):!0,[j,v]=cn({prop:i,defaultProp:r??!1,onChange:d,caller:yn});return e.jsxs(xN,{scope:n,checked:j,disabled:o,children:[e.jsx(ye.button,{type:"button",role:"switch","aria-checked":j,"aria-required":l,"data-state":ec(j),"data-disabled":o?"":void 0,disabled:o,value:c,...m,ref:p,onClick:Ce(t.onClick,b=>{v(w=>!w),y&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),y&&e.jsx(Jo,{control:x,bubbles:!g.current,name:a,value:c,checked:j,required:l,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});Qo.displayName=yn;var Yo="SwitchThumb",Zo=h.forwardRef((t,s)=>{const{__scopeSwitch:n,...a}=t,i=pN(Yo,n);return e.jsx(ye.span,{"data-state":ec(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:s})});Zo.displayName=Yo;var fN="SwitchBubbleInput",Jo=h.forwardRef(({__scopeSwitch:t,control:s,checked:n,bubbles:a=!0,...i},r)=>{const l=h.useRef(null),o=He(l,r),c=Nr(n),d=Sr(s);return h.useEffect(()=>{const u=l.current;if(!u)return;const m=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==n&&f){const p=new Event("click",{bubbles:a});f.call(u,n),u.dispatchEvent(p)}},[c,n,a]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Jo.displayName=fN;function ec(t){return t?"checked":"unchecked"}var tc=Qo,gN=Zo;const ue=h.forwardRef(({className:t,...s},n)=>e.jsx(tc,{className:D("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...s,ref:n,children:e.jsx(gN,{className:D("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ue.displayName=tc.displayName;var bn="Tabs",[vN,uS]=Mt(bn,[Cr]),sc=Cr(),[jN,Wa]=vN(bn),nc=h.forwardRef((t,s)=>{const{__scopeTabs:n,value:a,onValueChange:i,defaultValue:r,orientation:l="horizontal",dir:o,activationMode:c="automatic",...d}=t,u=rr(o),[m,x]=cn({prop:a,onChange:i,defaultProp:r??"",caller:bn});return e.jsx(jN,{scope:n,baseId:jd(),value:m,onValueChange:x,orientation:l,dir:u,activationMode:c,children:e.jsx(ye.div,{dir:u,"data-orientation":l,...d,ref:s})})});nc.displayName=bn;var ac="TabsList",ic=h.forwardRef((t,s)=>{const{__scopeTabs:n,loop:a=!0,...i}=t,r=Wa(ac,n),l=sc(n);return e.jsx(gd,{asChild:!0,...l,orientation:r.orientation,dir:r.dir,loop:a,children:e.jsx(ye.div,{role:"tablist","aria-orientation":r.orientation,...i,ref:s})})});ic.displayName=ac;var rc="TabsTrigger",lc=h.forwardRef((t,s)=>{const{__scopeTabs:n,value:a,disabled:i=!1,...r}=t,l=Wa(rc,n),o=sc(n),c=dc(l.baseId,a),d=hc(l.baseId,a),u=a===l.value;return e.jsx(vd,{asChild:!0,...o,focusable:!i,active:u,children:e.jsx(ye.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...r,ref:s,onMouseDown:Ce(t.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?l.onValueChange(a):m.preventDefault()}),onKeyDown:Ce(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&l.onValueChange(a)}),onFocus:Ce(t.onFocus,()=>{const m=l.activationMode!=="manual";!u&&!i&&m&&l.onValueChange(a)})})})});lc.displayName=rc;var oc="TabsContent",cc=h.forwardRef((t,s)=>{const{__scopeTabs:n,value:a,forceMount:i,children:r,...l}=t,o=Wa(oc,n),c=dc(o.baseId,a),d=hc(o.baseId,a),u=a===o.value,m=h.useRef(u);return h.useEffect(()=>{const x=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(x)},[]),e.jsx(Xt,{present:i||u,children:({present:x})=>e.jsx(ye.div,{"data-state":u?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!x,id:d,tabIndex:0,...l,ref:s,style:{...t.style,animationDuration:m.current?"0s":void 0},children:x&&r})})});cc.displayName=oc;function dc(t,s){return`${t}-trigger-${s}`}function hc(t,s){return`${t}-content-${s}`}var yN=nc,uc=ic,mc=lc,xc=cc;const dt=yN,nt=h.forwardRef(({className:t,...s},n)=>e.jsx(uc,{ref:n,className:D("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s}));nt.displayName=uc.displayName;const oe=h.forwardRef(({className:t,...s},n)=>e.jsx(mc,{ref:n,className:D("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-dark data-[state=active]:shadow-sm",t),...s}));oe.displayName=mc.displayName;const ce=h.forwardRef(({className:t,...s},n)=>e.jsx(xc,{ref:n,className:D("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));ce.displayName=xc.displayName;const Ks={id:"asst_abc123",name:"Mi Nhon Hotel AI Concierge",personality:"professional",tone:"friendly",languages:["vi","en","fr"],voiceId:"jennifer",silenceTimeout:30,maxDuration:600,backgroundSound:"hotel-lobby",systemPrompt:"You are the AI concierge for Mi Nhon Hotel...",status:"active",lastUpdated:"2024-01-15T10:30:00Z"},fs={totalCalls:1247,averageRating:4.7,responseTime:1.2,successRate:96.5,topIntents:[{intent:"Room Service",count:342,percentage:27.4},{intent:"Hotel Information",count:298,percentage:23.9},{intent:"Spa Booking",count:187,percentage:15},{intent:"Restaurant Reservation",count:156,percentage:12.5}]},bN=()=>{const[t,s]=h.useState(Ks),[n,a]=h.useState(!1),i=async()=>{a(!0);try{await new Promise(r=>setTimeout(r,1e3)),console.log("Saving configuration:",t)}catch(r){console.error("Failed to save configuration:",r)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"h-5 w-5"}),"Cu hnh c bn"]}),e.jsx(J,{children:"Thit lp thng tin v hnh vi ca AI Assistant"})]}),e.jsxs(L,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"assistant-name",children:"Tn Assistant"}),e.jsx(K,{id:"assistant-name",value:t.name,onChange:r=>s(l=>({...l,name:r.target.value})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"voice-id",children:"Ging ni"}),e.jsxs(be,{value:t.voiceId,onValueChange:r=>s(l=>({...l,voiceId:r})),children:[e.jsx(ve,{className:"mt-1",children:e.jsx(we,{})}),e.jsxs(je,{children:[e.jsx(q,{value:"jennifer",children:"Jennifer (N, Ting Anh)"}),e.jsx(q,{value:"david",children:"David (Nam, Ting Anh)"}),e.jsx(q,{value:"linh",children:"Linh (N, Ting Vit)"}),e.jsx(q,{value:"duc",children:"c (Nam, Ting Vit)"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"personality",children:"Tnh cch"}),e.jsxs(be,{value:t.personality,onValueChange:r=>s(l=>({...l,personality:r})),children:[e.jsx(ve,{className:"mt-1",children:e.jsx(we,{})}),e.jsxs(je,{children:[e.jsx(q,{value:"professional",children:"Chuyn nghip"}),e.jsx(q,{value:"friendly",children:"Thn thin"}),e.jsx(q,{value:"luxurious",children:"Sang trng"}),e.jsx(q,{value:"casual",children:"Thoi mi"})]})]})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"tone",children:"Ging iu"}),e.jsxs(be,{value:t.tone,onValueChange:r=>s(l=>({...l,tone:r})),children:[e.jsx(ve,{className:"mt-1",children:e.jsx(we,{})}),e.jsxs(je,{children:[e.jsx(q,{value:"formal",children:"Lch s"}),e.jsx(q,{value:"friendly",children:"Thn thin"}),e.jsx(q,{value:"warm",children:"m p"}),e.jsx(q,{value:"energetic",children:"Nng ng"}),e.jsx(q,{value:"calm",children:"Bnh tnh"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"silence-timeout",children:"Thi gian ch (giy)"}),e.jsx(K,{id:"silence-timeout",type:"number",value:t.silenceTimeout,onChange:r=>s(l=>({...l,silenceTimeout:parseInt(r.target.value)})),className:"mt-1",min:"10",max:"120"})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"max-duration",children:"Thi lng ti a (giy)"}),e.jsx(K,{id:"max-duration",type:"number",value:t.maxDuration,onChange:r=>s(l=>({...l,maxDuration:parseInt(r.target.value)})),className:"mt-1",min:"300",max:"3600"})]})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"background-sound",children:"m thanh nn"}),e.jsxs(be,{value:t.backgroundSound,onValueChange:r=>s(l=>({...l,backgroundSound:r})),children:[e.jsx(ve,{className:"mt-1",children:e.jsx(we,{})}),e.jsxs(je,{children:[e.jsx(q,{value:"hotel-lobby",children:"Snh khch sn"}),e.jsx(q,{value:"office",children:"Vn phng"}),e.jsx(q,{value:"off",children:"Tt m thanh nn"})]})]})]})]})]}),e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(Zt,{className:"h-5 w-5"}),"System Prompt"]}),e.jsx(J,{children:"Hng dn chi tit cho AI Assistant v cch hnh x v tr li"})]}),e.jsx(L,{children:e.jsx(qe,{value:t.systemPrompt,onChange:r=>s(l=>({...l,systemPrompt:r.target.value})),rows:8,className:"font-mono text-sm",placeholder:"Nhp system prompt cho AI Assistant..."})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(I,{onClick:i,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(Dt,{className:"w-4 h-4 mr-2 animate-spin"}),"ang lu..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Lu cu hnh"]})})})]})},wN=()=>{const[t,s]=h.useState(!1),[n,a]=h.useState(""),[i,r]=h.useState(""),[l,o]=h.useState(!1),c=async()=>{if(n.trim()){o(!0);try{await new Promise(d=>setTimeout(d,2e3)),r(`Xin cho! Ti l AI Assistant ca Mi Nhon Hotel. Ti c th gip bn v ${n}. Bn c cn ti h tr g thm khng?`)}catch{r(" xy ra li khi kim tra. Vui lng th li.")}finally{o(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(fi,{className:"h-5 w-5"}),"Test AI Assistant"]}),e.jsx(J,{children:"Kim tra phn hi ca AI Assistant vi cc cu hi mu"})]}),e.jsxs(L,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ue,{id:"test-mode",checked:t,onCheckedChange:s}),e.jsx(E,{htmlFor:"test-mode",children:"Ch  kim tra"})]}),t&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"test-phrase",children:"Cu hi th nghim"}),e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsx(K,{id:"test-phrase",value:n,onChange:d=>a(d.target.value),placeholder:"V d: Ti mun t phng",className:"flex-1"}),e.jsx(I,{onClick:c,disabled:!n.trim()||l,children:l?e.jsx(Dt,{className:"w-4 h-4 animate-spin"}):e.jsx(fi,{className:"w-4 h-4"})})]})]}),i&&e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx(E,{className:"text-sm font-medium",children:"Phn hi ca AI:"}),e.jsx("p",{className:"text-sm text-gray-700 mt-1",children:i})]})]})]})]}),e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Mu cu hi thng gp"}),e.jsx(J,{children:"Cc cu hi m khch hng thng hi"})]}),e.jsx(L,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:["Ti mun t phng","Gi check-in l my gi?","Khch sn c dch v spa khng?","Ti mun t bn n ti","Lm sao  i sn bay?","C wifi min ph khng?","Ti mun gi room service","Khch sn c h bi khng?"].map((d,u)=>e.jsxs(I,{variant:"outline",size:"sm",className:"justify-start text-left h-auto p-2",onClick:()=>a(d),children:[e.jsx(Zt,{className:"w-3 h-3 mr-2 shrink-0"}),e.jsx("span",{className:"text-xs",children:d})]},u))})})]})]})},NN=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(M,{children:[e.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(G,{className:"text-sm font-medium",children:"Tng cuc gi"}),e.jsx(ot,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(L,{children:[e.jsx("div",{className:"text-2xl font-bold",children:fs.totalCalls.toLocaleString()}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Thng ny"})]})]}),e.jsxs(M,{children:[e.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(G,{className:"text-sm font-medium",children:"nh gi trung bnh"}),e.jsx(bt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(L,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[fs.averageRating,"/5"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"im hi lng"})]})]}),e.jsxs(M,{children:[e.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(G,{className:"text-sm font-medium",children:"Thi gian phn hi"}),e.jsx(lt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(L,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[fs.responseTime,"s"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Trung bnh"})]})]}),e.jsxs(M,{children:[e.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(G,{className:"text-sm font-medium",children:"T l thnh cng"}),e.jsx(hs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(L,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[fs.successRate,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Cuc gi thnh cng"})]})]})]}),e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:" nh ph bin"}),e.jsx(J,{children:"Cc yu cu m khch hng thng hi nht"})]}),e.jsx(L,{children:e.jsx("div",{className:"space-y-4",children:fs.topIntents.map((t,s)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),e.jsx("span",{className:"font-medium",children:t.intent})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx("span",{children:t.count}),e.jsxs(Z,{variant:"outline",children:[t.percentage,"%"]})]})]},s))})})]})]}),SN=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"AI Assistant"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Qun l v ty chnh AI Assistant cho khch sn"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(Z,{variant:"outline",className:"text-green-600",children:[e.jsx(hs,{className:"w-3 h-3 mr-1"}),"Hot ng"]})})]}),e.jsxs(M,{children:[e.jsx(V,{children:e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"h-5 w-5"}),"Trng thi Assistant"]})}),e.jsx(L,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{className:"text-sm font-medium",children:"Tn Assistant"}),e.jsx("p",{className:"text-sm text-gray-600",children:Ks.name})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-sm font-medium",children:"ID Assistant"}),e.jsx("p",{className:"text-sm text-gray-600 font-mono",children:Ks.id})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-sm font-medium",children:"Cp nht ln cui"}),e.jsx("p",{className:"text-sm text-gray-600",children:new Date(Ks.lastUpdated).toLocaleString("vi-VN")})]})]})})]}),e.jsxs(dt,{defaultValue:"config",className:"space-y-4",children:[e.jsxs(nt,{className:"grid w-full grid-cols-3",children:[e.jsx(oe,{value:"config",children:"Cu hnh"}),e.jsx(oe,{value:"test",children:"Kim tra"}),e.jsx(oe,{value:"performance",children:"Hiu sut"})]}),e.jsx(ce,{value:"config",className:"space-y-4",children:e.jsx(bN,{})}),e.jsx(ce,{value:"test",className:"space-y-4",children:e.jsx(wN,{})}),e.jsx(ce,{value:"performance",className:"space-y-4",children:e.jsx(NN,{})})]})]}),Ve={overview:{totalCalls:1247,totalCallsGrowth:12.5,averageCallDuration:245,callDurationGrowth:-5.2,uniqueUsers:89,uniqueUsersGrowth:8.3,satisfactionScore:4.7,satisfactionGrowth:2.1},callsByHour:[{hour:"00",calls:12},{hour:"01",calls:8},{hour:"02",calls:5},{hour:"03",calls:3},{hour:"04",calls:2},{hour:"05",calls:4},{hour:"06",calls:15},{hour:"07",calls:28},{hour:"08",calls:45},{hour:"09",calls:67},{hour:"10",calls:89},{hour:"11",calls:78},{hour:"12",calls:95},{hour:"13",calls:87},{hour:"14",calls:92},{hour:"15",calls:85},{hour:"16",calls:78},{hour:"17",calls:65},{hour:"18",calls:82},{hour:"19",calls:75},{hour:"20",calls:58},{hour:"21",calls:45},{hour:"22",calls:32},{hour:"23",calls:22}],languageDistribution:[{language:"Ting Vit",calls:687,percentage:55.1},{language:"English",calls:423,percentage:33.9},{language:"Franais",calls:137,percentage:11}],intentDistribution:[{intent:"Room Service",calls:342,percentage:27.4},{intent:"Hotel Information",calls:298,percentage:23.9},{intent:"Spa Booking",calls:187,percentage:15},{intent:"Restaurant Reservation",calls:156,percentage:12.5},{intent:"Housekeeping",calls:98,percentage:7.9},{intent:"Concierge",calls:87,percentage:7},{intent:"Complaints",calls:45,percentage:3.6},{intent:"Other",calls:34,percentage:2.7}],callsByDay:[{day:"Th 2",calls:145},{day:"Th 3",calls:178},{day:"Th 4",calls:189},{day:"Th 5",calls:234},{day:"Th 6",calls:267},{day:"Th 7",calls:156},{day:"Ch nht",calls:78}],satisfactionByIntent:[{intent:"Room Service",rating:4.8},{intent:"Hotel Information",rating:4.9},{intent:"Spa Booking",rating:4.6},{intent:"Restaurant Reservation",rating:4.7},{intent:"Housekeeping",rating:4.5},{intent:"Concierge",rating:4.8},{intent:"Complaints",rating:3.2}]},Hs=({title:t,value:s,change:n,icon:a,description:i,suffix:r=""})=>e.jsxs(M,{children:[e.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(G,{className:"text-sm font-medium",children:t}),e.jsx(a,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(L,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[s,r]}),e.jsxs("div",{className:"flex items-center pt-1",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:i}),n!==void 0&&e.jsxs("div",{className:`ml-auto flex items-center text-xs ${n>0?"text-green-600":"text-red-600"}`,children:[e.jsx(ze,{className:`h-3 w-3 mr-1 ${n<0?"rotate-180":""}`}),Math.abs(n),"%"]})]})]})]}),CN=({data:t,dataKey:s,nameKey:n,title:a})=>{const i=Math.max(...t.map(r=>r[s]));return e.jsxs(M,{children:[e.jsx(V,{children:e.jsx(G,{className:"text-base",children:a})}),e.jsx(L,{children:e.jsx("div",{className:"space-y-2",children:t.map((r,l)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-20 text-sm text-gray-600 text-right",children:r[n]}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${r[s]/i*100}%`}})}),e.jsx("div",{className:"w-16 text-sm font-medium text-right",children:r[s]})]},l))})})]})},_N=()=>{const[t,s]=h.useState("30d"),[n,a]=h.useState("all");return e.jsxs(M,{children:[e.jsx(V,{children:e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(ya,{className:"h-5 w-5"}),"B lc"]})}),e.jsx(L,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Khong thi gian"}),e.jsxs(be,{value:t,onValueChange:s,children:[e.jsx(ve,{className:"mt-1",children:e.jsx(we,{})}),e.jsxs(je,{children:[e.jsx(q,{value:"7d",children:"7 ngy qua"}),e.jsx(q,{value:"30d",children:"30 ngy qua"}),e.jsx(q,{value:"90d",children:"90 ngy qua"}),e.jsx(q,{value:"1y",children:"1 nm qua"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Ngn ng"}),e.jsxs(be,{value:n,onValueChange:a,children:[e.jsx(ve,{className:"mt-1",children:e.jsx(we,{})}),e.jsxs(je,{children:[e.jsx(q,{value:"all",children:"Tt c"}),e.jsx(q,{value:"vi",children:"Ting Vit"}),e.jsx(q,{value:"en",children:"English"}),e.jsx(q,{value:"fr",children:"Franais"})]})]})]}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsxs(I,{variant:"outline",size:"sm",children:[e.jsx(me,{className:"h-4 w-4 mr-2"}),"Lm mi"]}),e.jsxs(I,{variant:"outline",size:"sm",children:[e.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Xut Excel"]})]})]})})]})},kN=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Hs,{title:"Tng cuc gi",value:Ve.overview.totalCalls.toLocaleString(),change:Ve.overview.totalCallsGrowth,icon:ot,description:"Thng ny"}),e.jsx(Hs,{title:"Thi gian trung bnh",value:Math.floor(Ve.overview.averageCallDuration/60),change:Ve.overview.callDurationGrowth,icon:lt,description:"Pht/cuc gi",suffix:"m"}),e.jsx(Hs,{title:"Ngi dng duy nht",value:Ve.overview.uniqueUsers,change:Ve.overview.uniqueUsersGrowth,icon:Ue,description:"Thng ny"}),e.jsx(Hs,{title:"im hi lng",value:Ve.overview.satisfactionScore,change:Ve.overview.satisfactionGrowth,icon:ze,description:"Trn 5 im",suffix:"/5"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(CN,{data:Ve.callsByDay,dataKey:"calls",nameKey:"day",title:"Cuc gi theo ngy trong tun"}),e.jsxs(M,{children:[e.jsx(V,{children:e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(us,{className:"h-5 w-5"}),"Phn b ngn ng"]})}),e.jsx(L,{children:e.jsx("div",{className:"space-y-3",children:Ve.languageDistribution.map((t,s)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-primary rounded-full"}),e.jsx("span",{className:"font-medium",children:t.language})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:t.calls}),e.jsxs(Z,{variant:"outline",children:[t.percentage,"%"]})]})]},s))})})]})]})]}),TN=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Cuc gi theo gi"}),e.jsx(J,{children:"Phn b cuc gi trong 24 gi"})]}),e.jsx(L,{children:e.jsx("div",{className:"space-y-2",children:Ve.callsByHour.map((t,s)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"w-8 text-xs text-gray-600",children:[t.hour,"h"]}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${t.calls/95*100}%`}})}),e.jsx("div",{className:"w-8 text-xs font-medium text-right",children:t.calls})]},s))})})]}),e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:" nh cuc gi"}),e.jsx(J,{children:"Phn loi theo mc ch"})]}),e.jsx(L,{children:e.jsx("div",{className:"space-y-3",children:Ve.intentDistribution.map((t,s)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:t.intent}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:t.calls}),e.jsxs(Z,{variant:"outline",children:[t.percentage,"%"]})]})]},s))})})]})]})}),EN=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"im hi lng theo  nh"}),e.jsx(J,{children:"nh gi khch hng cho tng loi dch v"})]}),e.jsx(L,{children:e.jsx("div",{className:"space-y-4",children:Ve.satisfactionByIntent.map((t,s)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:t.intent}),e.jsxs(Z,{variant:t.rating>=4.5?"default":t.rating>=4?"secondary":"destructive",children:[t.rating,"/5"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${t.rating>=4.5?"bg-green-500":t.rating>=4?"bg-yellow-500":"bg-red-500"}`,style:{width:`${t.rating/5*100}%`}})})]},s))})})]}),e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Xu hng im hi lng"}),e.jsx(J,{children:"Thay i theo thi gian"})]}),e.jsx(L,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:"4.7/5"}),e.jsx("div",{className:"text-sm text-gray-600",children:"im trung bnh thng ny"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"5 sao"}),e.jsx("span",{children:"68%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"68%"}})}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"4 sao"}),e.jsx("span",{children:"22%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"22%"}})}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"3 sao"}),e.jsx("span",{children:"7%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:"7%"}})}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"2 sao"}),e.jsx("span",{children:"2%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:"2%"}})}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"1 sao"}),e.jsx("span",{children:"1%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:"1%"}})})]})]})})]})]})}),AN=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Phn tch & Bo co"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Thng k chi tit v hiu sut AI Assistant"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(I,{variant:"outline",size:"sm",children:[e.jsx(ga,{className:"h-4 w-4 mr-2"}),"Ty chnh khong thi gian"]}),e.jsxs(I,{variant:"outline",size:"sm",children:[e.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Xut bo co"]})]})]}),e.jsx(_N,{}),e.jsxs(dt,{defaultValue:"overview",className:"space-y-4",children:[e.jsxs(nt,{className:"grid w-full grid-cols-3",children:[e.jsx(oe,{value:"overview",children:"Tng quan"}),e.jsx(oe,{value:"patterns",children:"Mu cuc gi"}),e.jsx(oe,{value:"satisfaction",children:"Hi lng"})]}),e.jsx(ce,{value:"overview",className:"space-y-4",children:e.jsx(kN,{})}),e.jsx(ce,{value:"patterns",className:"space-y-4",children:e.jsx(TN,{})}),e.jsx(ce,{value:"satisfaction",className:"space-y-4",children:e.jsx(EN,{})})]})]}),wn={basicInfo:{name:"Mi Nhon Hotel",address:"123 Nguyen Hue Street, District 1, Ho Chi Minh City",phone:"+84 28 3829 2999",email:"info@minhonhotel.com",website:"https://minhonhotel.com",description:"Khch sn 4 sao sang trng ti trung tm thnh ph vi view bin tuyt p v dch v chuyn nghip.",checkInTime:"14:00",checkOutTime:"12:00",currency:"VND",timezone:"Asia/Ho_Chi_Minh"},notifications:{emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,dailyReports:!0,weeklyReports:!0,monthlyReports:!0,alertOnErrors:!0,alertOnLowRating:!0},privacy:{recordCalls:!0,dataRetentionDays:90,shareAnalytics:!1,allowDataExport:!0,gdprCompliance:!0},api:{webhookUrl:"https://minhonhotel.com/webhook",apiKeys:{vapi:"vapi_***************",openai:"sk-***************"}}},PN=()=>{const[t,s]=h.useState(wn.basicInfo),[n,a]=h.useState(!1),i=async()=>{a(!0);try{await new Promise(r=>setTimeout(r,1e3)),console.log("Saving hotel settings:",t)}catch(r){console.error("Failed to save settings:",r)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(Qs,{className:"h-5 w-5"}),"Thng tin c bn"]}),e.jsx(J,{children:"Cp nht thng tin chi tit v khch sn"})]}),e.jsxs(L,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"hotel-name",children:"Tn khch sn"}),e.jsx(K,{id:"hotel-name",value:t.name,onChange:r=>s(l=>({...l,name:r.target.value})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"phone",children:"S in thoi"}),e.jsx(K,{id:"phone",value:t.phone,onChange:r=>s(l=>({...l,phone:r.target.value})),className:"mt-1"})]})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"address",children:"a ch"}),e.jsx(K,{id:"address",value:t.address,onChange:r=>s(l=>({...l,address:r.target.value})),className:"mt-1"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"email",children:"Email"}),e.jsx(K,{id:"email",type:"email",value:t.email,onChange:r=>s(l=>({...l,email:r.target.value})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"website",children:"Website"}),e.jsx(K,{id:"website",value:t.website,onChange:r=>s(l=>({...l,website:r.target.value})),className:"mt-1"})]})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"description",children:"M t khch sn"}),e.jsx(qe,{id:"description",value:t.description,onChange:r=>s(l=>({...l,description:r.target.value})),className:"mt-1",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"check-in",children:"Gi check-in"}),e.jsx(K,{id:"check-in",type:"time",value:t.checkInTime,onChange:r=>s(l=>({...l,checkInTime:r.target.value})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"check-out",children:"Gi check-out"}),e.jsx(K,{id:"check-out",type:"time",value:t.checkOutTime,onChange:r=>s(l=>({...l,checkOutTime:r.target.value})),className:"mt-1"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"currency",children:"n v tin t"}),e.jsx(K,{id:"currency",value:t.currency,onChange:r=>s(l=>({...l,currency:r.target.value})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"timezone",children:"Mi gi"}),e.jsx(K,{id:"timezone",value:t.timezone,onChange:r=>s(l=>({...l,timezone:r.target.value})),className:"mt-1"})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(I,{onClick:i,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(Dt,{className:"w-4 h-4 mr-2 animate-spin"}),"ang lu..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Lu thay i"]})})})]})},IN=()=>{const[t,s]=h.useState(wn.notifications),[n,a]=h.useState(!1),i=l=>{s(o=>({...o,[l]:!o[l]}))},r=async()=>{a(!0);try{await new Promise(l=>setTimeout(l,1e3)),console.log("Saving notification settings:",t)}catch(l){console.error("Failed to save settings:",l)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"h-5 w-5"}),"Ci t thng bo"]}),e.jsx(J,{children:"Ty chn thng bo v bo co"})]}),e.jsxs(L,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Phng thc thng bo"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Email notifications"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Nhn thng bo qua email"})]}),e.jsx(ue,{checked:t.emailNotifications,onCheckedChange:()=>i("emailNotifications")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"SMS notifications"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Nhn thng bo qua SMS"})]}),e.jsx(ue,{checked:t.smsNotifications,onCheckedChange:()=>i("smsNotifications")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Push notifications"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Thng bo y trn trnh duyt"})]}),e.jsx(ue,{checked:t.pushNotifications,onCheckedChange:()=>i("pushNotifications")})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Bo co nh k"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Bo co hng ngy"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Tm tt hot ng hng ngy"})]}),e.jsx(ue,{checked:t.dailyReports,onCheckedChange:()=>i("dailyReports")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Bo co hng tun"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Thng k tun"})]}),e.jsx(ue,{checked:t.weeklyReports,onCheckedChange:()=>i("weeklyReports")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Bo co hng thng"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Tng quan thng"})]}),e.jsx(ue,{checked:t.monthlyReports,onCheckedChange:()=>i("monthlyReports")})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Cnh bo"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Cnh bo li"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Thng bo khi c li h thng"})]}),e.jsx(ue,{checked:t.alertOnErrors,onCheckedChange:()=>i("alertOnErrors")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Cnh bo im thp"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Thng bo khi im hi lng thp"})]}),e.jsx(ue,{checked:t.alertOnLowRating,onCheckedChange:()=>i("alertOnLowRating")})]})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(I,{onClick:r,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(Dt,{className:"w-4 h-4 mr-2 animate-spin"}),"ang lu..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Lu ci t"]})})})]})},MN=()=>{const[t,s]=h.useState(wn.privacy),[n,a]=h.useState(!1),i=l=>{s(o=>({...o,[l]:!o[l]}))},r=async()=>{a(!0);try{await new Promise(l=>setTimeout(l,1e3)),console.log("Saving privacy settings:",t)}catch(l){console.error("Failed to save settings:",l)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-5 w-5"}),"Quyn ring t & Bo mt"]}),e.jsx(J,{children:"Cu hnh bo mt v quyn ring t d liu"})]}),e.jsxs(L,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Ghi m cuc gi"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Lu tr cuc gi  ci thin cht lng"})]}),e.jsx(ue,{checked:t.recordCalls,onCheckedChange:()=>i("recordCalls")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Chia s d liu phn tch"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Gip ci thin sn phm (d liu n danh)"})]}),e.jsx(ue,{checked:t.shareAnalytics,onCheckedChange:()=>i("shareAnalytics")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Cho php xut d liu"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Khch hng c th yu cu xut d liu"})]}),e.jsx(ue,{checked:t.allowDataExport,onCheckedChange:()=>i("allowDataExport")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Tun th GDPR"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Bo v quyn ring t theo chun EU"})]}),e.jsx(ue,{checked:t.gdprCompliance,onCheckedChange:()=>i("gdprCompliance")})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Lu tr d liu"}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"retention-days",children:"Thi gian lu tr (ngy)"}),e.jsx(K,{id:"retention-days",type:"number",value:t.dataRetentionDays,onChange:l=>s(o=>({...o,dataRetentionDays:parseInt(l.target.value)})),className:"mt-1 max-w-xs",min:"30",max:"365"}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["D liu s c t ng xa sau ",t.dataRetentionDays," ngy"]})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(I,{onClick:r,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(Dt,{className:"w-4 h-4 mr-2 animate-spin"}),"ang lu..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Lu ci t"]})})})]})},LN=()=>{const[t,s]=h.useState(wn.api),[n,a]=h.useState(!1),i=async()=>{a(!0);try{await new Promise(r=>setTimeout(r,1e3)),console.log("Saving API settings:",t)}catch(r){console.error("Failed to save settings:",r)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(gl,{className:"h-5 w-5"}),"Cu hnh API"]}),e.jsx(J,{children:"Qun l API keys v webhook"})]}),e.jsxs(L,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"webhook-url",children:"Webhook URL"}),e.jsx(K,{id:"webhook-url",value:t.webhookUrl,onChange:r=>s(l=>({...l,webhookUrl:r.target.value})),className:"mt-1",placeholder:"https://yourhotel.com/webhook"}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"URL  nhn thng bo v cc s kin"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"API Keys"}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ne,{className:"h-4 w-4 text-yellow-600"}),e.jsx("span",{className:"font-medium text-yellow-800",children:"Lu  bo mt"})]}),e.jsx("p",{className:"text-sm text-yellow-700",children:"Khng chia s API keys vi ngi khc. Thay i ngay nu b l."})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"vapi-key",children:"Vapi API Key"}),e.jsx(K,{id:"vapi-key",type:"password",value:t.apiKeys.vapi,onChange:r=>s(l=>({...l,apiKeys:{...l.apiKeys,vapi:r.target.value}})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"openai-key",children:"OpenAI API Key"}),e.jsx(K,{id:"openai-key",type:"password",value:t.apiKeys.openai,onChange:r=>s(l=>({...l,apiKeys:{...l.apiKeys,openai:r.target.value}})),className:"mt-1"})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(I,{onClick:i,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(Dt,{className:"w-4 h-4 mr-2 animate-spin"}),"ang lu..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Lu ci t"]})})})]})},DN=()=>{const t=[{name:"Database Connection",status:"healthy",icon:Wt},{name:"Vapi API",status:"healthy",icon:ot},{name:"OpenAI API",status:"healthy",icon:Ze},{name:"Email Service",status:"healthy",icon:wa},{name:"Webhook Endpoint",status:"warning",icon:us},{name:"SSL Certificate",status:"healthy",icon:Te}],s=a=>{switch(a){case"healthy":return"text-green-600";case"warning":return"text-yellow-600";case"error":return"text-red-600";default:return"text-gray-600"}},n=a=>{switch(a){case"healthy":return e.jsx(Z,{className:"bg-green-100 text-green-800",children:"Hot ng"});case"warning":return e.jsx(Z,{className:"bg-yellow-100 text-yellow-800",children:"Cnh bo"});case"error":return e.jsx(Z,{className:"bg-red-100 text-red-800",children:"Li"});default:return e.jsx(Z,{variant:"outline",children:"Khng xc nh"})}};return e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(hs,{className:"h-5 w-5"}),"Trng thi h thng"]}),e.jsx(J,{children:"Kim tra tnh trng cc dch v"})]}),e.jsx(L,{children:e.jsx("div",{className:"space-y-4",children:t.map((a,i)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(a.icon,{className:`h-5 w-5 ${s(a.status)}`}),e.jsx("span",{className:"font-medium",children:a.name})]}),n(a.status)]},i))})})]})},RN=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Ci t"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Qun l thng tin khch sn v cu hnh h thng"})]}),e.jsx(DN,{}),e.jsxs(dt,{defaultValue:"hotel",className:"space-y-4",children:[e.jsxs(nt,{className:"grid w-full grid-cols-4",children:[e.jsx(oe,{value:"hotel",children:"Khch sn"}),e.jsx(oe,{value:"notifications",children:"Thng bo"}),e.jsx(oe,{value:"privacy",children:"Quyn ring t"}),e.jsx(oe,{value:"api",children:"API"})]}),e.jsx(ce,{value:"hotel",className:"space-y-4",children:e.jsx(PN,{})}),e.jsx(ce,{value:"notifications",className:"space-y-4",children:e.jsx(IN,{})}),e.jsx(ce,{value:"privacy",className:"space-y-4",children:e.jsx(MN,{})}),e.jsx(ce,{value:"api",className:"space-y-4",children:e.jsx(LN,{})})]})]}),Fn=({requiredPermission:t,requiredRole:s,variant:n="alert"})=>n==="minimal"?e.jsxs("div",{className:"text-gray-400 text-sm flex items-center gap-2",children:[e.jsx(ls,{className:"h-4 w-4"}),e.jsx("span",{children:"Khng c quyn truy cp"})]}):n==="placeholder"?e.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-lg p-8 text-center",children:[e.jsx(Te,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"Quyn truy cp b hn ch"}),e.jsxs("p",{className:"text-gray-500",children:[t&&`Cn quyn: ${t}`,s&&`Cn vai tr: ${s}`]})]}):e.jsxs(Ls,{className:"border-orange-200 bg-orange-50",children:[e.jsx(Te,{className:"h-4 w-4 text-orange-600"}),e.jsxs(Ds,{className:"text-orange-800",children:[e.jsx("strong",{children:"Khng c quyn truy cp."})," ",t&&`Cn quyn: ${t}. `,s&&`Cn vai tr: ${s}. `,"Vui lng lin h qun tr vin  c cp quyn."]})]}),Xe=({children:t,requiredPermission:s,requiredRole:n,fallback:a,showFallback:i=!0})=>{const{user:r,hasPermission:l}=De();if(!r)return i?e.jsx(Fn,{requiredPermission:s,requiredRole:n,variant:"minimal"}):null;if(n&&r.role!==n)return i?a||e.jsx(Fn,{requiredRole:n,variant:"alert"}):null;if(s){let o,c;if(s.includes(":")?[o,c]=s.split(":"):[o,c]=s.split("."),!l(o,c))return i?a||e.jsx(Fn,{requiredPermission:s,variant:"alert"}):null}return e.jsx(e.Fragment,{children:t})},$N=()=>{const{user:t,hasPermission:s}=De(),n=o=>{if(!t)return!1;const[c,d]=o.split(".");return s(c,d)},a=o=>t?.role===o;return{canAccess:n,hasRole:a,isManager:()=>a("hotel-manager"),isStaff:()=>a("front-desk"),isIT:()=>a("it-manager"),user:t}},FN=[{href:"/dashboard",icon:ba,label:"Tng quan",description:"Thng k v metrics tng quan",permission:"dashboard:view"},{href:"/dashboard/setup",icon:Ze,label:"Thit lp Assistant",description:"Cu hnh v ty chnh AI Assistant",permission:"assistant:configure",roleSpecific:["hotel-manager"]},{href:"/unified-dashboard/analytics",icon:va,label:"Phn tch nng cao",description:"Bo co v thng k chi tit",permission:"analytics:view_advanced",roleSpecific:["hotel-manager"]},{href:"/dashboard/billing",icon:un,label:"Thanh ton",description:"Qun l subscription v billing",permission:"billing:view",roleSpecific:["hotel-manager"]},{href:"/unified-dashboard/staff-management",icon:Ue,label:"Qun l nhn vin",description:"Thm, sa, xa ti khon nhn vin",permission:"staff:manage",roleSpecific:["hotel-manager"]},{href:"/dashboard/settings",icon:Je,label:"Ci t h thng",description:"Cu hnh khch sn v h thng",permission:"settings:manage",roleSpecific:["hotel-manager"]},{href:"/unified-dashboard/requests",icon:Kn,label:"Yu cu khch hng",description:"Xem v x l yu cu t khch",permission:"requests:view",roleSpecific:["front-desk"]},{href:"/dashboard/guest-management",icon:Wh,label:"Qun l khch hng",description:"Thng tin v lch s khch hng",permission:"guests:manage",roleSpecific:["front-desk"]},{href:"/dashboard/basic-analytics",icon:Is,label:"Thng k c bn",description:"Bo co hot ng hng ngy",permission:"analytics:view_basic",roleSpecific:["front-desk"]},{href:"/dashboard/calls",icon:Zt,label:"Lch s cuc gi",description:"Xem lch s cuc gi v transcript",permission:"calls:view",roleSpecific:["front-desk"]},{href:"/unified-dashboard/system-monitoring",icon:xn,label:"Gim st h thng",description:"Theo di hiu sut v sc khe h thng",permission:"system:monitor",roleSpecific:["it-manager"]},{href:"/dashboard/integrations",icon:ka,label:"Tch hp",description:"Qun l API v tch hp bn th 3",permission:"integrations:manage",roleSpecific:["it-manager"]},{href:"/dashboard/logs",icon:Wt,label:"Nht k h thng",description:"Xem logs v debug issues",permission:"logs:view",roleSpecific:["it-manager"]},{href:"/dashboard/security",icon:Te,label:"Bo mt",description:"Cu hnh v gim st bo mt",permission:"security:manage",roleSpecific:["it-manager"]}],pc=t=>{switch(t){case"hotel-manager":return{primary:"bg-blue-600 hover:bg-blue-700",accent:"border-blue-200",badge:"bg-blue-100 text-blue-800"};case"front-desk":return{primary:"bg-green-600 hover:bg-green-700",accent:"border-green-200",badge:"bg-green-100 text-green-800"};case"it-manager":return{primary:"bg-purple-600 hover:bg-purple-700",accent:"border-purple-200",badge:"bg-purple-100 text-purple-800"};default:return{primary:"bg-gray-600 hover:bg-gray-700",accent:"border-gray-200",badge:"bg-gray-100 text-gray-800"}}},ta=t=>{switch(t){case"hotel-manager":return"Qun l khch sn";case"front-desk":return"L tn";case"it-manager":return"Qun l IT";default:return"Ngi dng"}},ON=({href:t,icon:s,label:n,description:a,isActive:i,theme:r})=>e.jsx(ke,{href:t,children:e.jsxs(I,{variant:i?"default":"ghost",className:D("w-full justify-start gap-3 px-3 py-6 h-auto","hover:bg-gray-100 dark:hover:bg-gray-800",i&&`${r.primary} text-white hover:${r.primary.replace("bg-","bg-").replace("600","700")}`),children:[e.jsx(s,{className:"h-5 w-5 shrink-0"}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("div",{className:"font-medium",children:n}),e.jsx("div",{className:D("text-xs text-muted-foreground",i&&"text-white/80"),children:a})]})]})}),zN=({user:t,role:s,onLogout:n})=>{const a=pc(s);return e.jsxs(Ao,{children:[e.jsx(Po,{asChild:!0,children:e.jsx(I,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:e.jsxs(Fa,{className:"h-10 w-10",children:[e.jsx(Oa,{src:t.avatar_url||"",alt:t.display_name||t.email}),e.jsx(za,{className:a.primary,children:(t.display_name||t.email||"").charAt(0).toUpperCase()})]})})}),e.jsxs(Ba,{className:"w-56",align:"end",children:[e.jsxs(qa,{className:"flex flex-col",children:[e.jsx("div",{className:"font-medium",children:t.display_name||t.email}),e.jsx("div",{className:"text-xs text-muted-foreground",children:ta(s)})]}),e.jsx(Ts,{}),e.jsxs(Gt,{children:[e.jsx(Je,{className:"mr-2 h-4 w-4"}),"Ci t ti khon"]}),e.jsxs(Gt,{children:[e.jsx(pl,{className:"mr-2 h-4 w-4"}),"Tr gip"]}),e.jsx(Ts,{}),e.jsxs(Gt,{className:"text-red-600 focus:text-red-600",onClick:n,children:[e.jsx(vl,{className:"mr-2 h-4 w-4"}),"ng xut"]})]})]})},BN=({isOpen:t,onClose:s,user:n,role:a,theme:i})=>{const[r]=Qt(),o=$N().canAccess,c=FN.filter(d=>!(!o(d.permission)||d.roleSpecific&&!d.roleSpecific.includes(a)));return e.jsx("aside",{className:D("fixed inset-y-0 left-0 z-50 w-80 bg-white dark:bg-gray-800 shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0",t?"translate-x-0":"-translate-x-full"),children:e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsxs("div",{className:D("flex items-center justify-between p-6 border-b",i.accent),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:D("flex h-10 w-10 items-center justify-center rounded-lg text-white",i.primary),children:e.jsx(xl,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold",children:"Talk2Go"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Hotel Management"})]})]}),e.jsx(I,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:s,children:e.jsx(ms,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:D("px-6 py-4 border-b",i.accent),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-lg",children:n.display_name||n.email}),e.jsx("div",{className:"text-xs text-gray-500",children:ta(a)})]}),e.jsx(Z,{variant:"outline",className:i.badge,children:ta(a)})]}),e.jsxs("div",{className:"mt-3 flex gap-2",children:[e.jsx(Xe,{requiredPermission:"dashboard:view_client_interface",children:e.jsx(ke,{href:"/interface1",className:D("flex-1 px-3 py-2 text-white text-sm rounded hover:opacity-90 transition text-center",i.primary),children:"Giao din khch"})}),e.jsxs(I,{variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(Ut,{className:"h-4 w-4 mr-1"}),"Thng bo"]})]})]}),e.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:c.map(d=>{const u=r===d.href;return e.jsx(ON,{href:d.href,icon:d.icon,label:d.label,description:d.description,isActive:u,theme:i},d.href)})}),e.jsx("div",{className:"p-4 border-t",children:e.jsx("div",{className:"text-xs text-center text-muted-foreground",children:" 2024 Talk2Go - Hotel AI Assistant"})})]})})},it=({children:t})=>{const[s,n]=h.useState(!1),{user:a,logout:i}=De(),r=a?.role||"front-desk",l=pc(r),o=()=>{switch(r){case"hotel-manager":return"Dashboard Qun l";case"front-desk":return"Dashboard L tn";case"it-manager":return"Dashboard IT";default:return"Dashboard"}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s&&e.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:()=>n(!1)}),e.jsx(BN,{isOpen:s,onClose:()=>n(!1),user:a,role:r,theme:l}),e.jsxs("div",{className:"lg:ml-80",children:[e.jsx("header",{className:"sticky top-0 z-30 bg-white dark:bg-gray-800 border-b shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(I,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>n(!0),children:e.jsx(jl,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:o()}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Qun l khch sn vi AI Assistant"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Xe,{requiredPermission:"notifications:view",children:e.jsxs(I,{variant:"ghost",size:"icon",className:"relative",children:[e.jsx(Ut,{className:"h-5 w-5"}),e.jsx(Z,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 text-xs",children:"3"})]})}),e.jsx(zN,{user:a,role:r,onLogout:i})]})]})}),e.jsx("main",{className:"p-6",children:t})]})]})},ge={calls:{total:156,today:23},requests:{pending:8,inProgress:12,completed:45,totalToday:18},satisfaction:{rating:4.7,trend:"+0.2"},system:{uptime:99.8,responseTime:150,errors:2}},Qe=({title:t,value:s,description:n,icon:a,trend:i,color:r="blue"})=>e.jsxs(M,{children:[e.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(G,{className:"text-sm font-medium",children:t}),e.jsx(a,{className:`h-4 w-4 text-${r}-600`})]}),e.jsxs(L,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s}),n&&e.jsx("p",{className:"text-xs text-muted-foreground",children:n}),i&&e.jsxs("div",{className:"flex items-center text-xs text-green-600 mt-1",children:[e.jsx(ze,{className:"h-3 w-3 mr-1"}),i]})]})]}),qN=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white p-6 rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Cho mng n vi Dashboard Qun l"}),e.jsx("p",{className:"text-blue-100",children:"Tng quan hot ng khch sn v AI Assistant"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Qe,{title:"Tng cuc gi",value:ge.calls.total,description:"Hm nay: +23",icon:ot,trend:"+15.2%",color:"blue"}),e.jsx(Qe,{title:"nh gi trung bnh",value:`${ge.satisfaction.rating}/5`,description:"89 phn hi",icon:ns,trend:ge.satisfaction.trend,color:"green"}),e.jsx(Qe,{title:"Yu cu ang ch",value:ge.requests.pending,description:"Cn x l ngay",icon:Ne,color:"orange"}),e.jsx(Qe,{title:"Uptime h thng",value:`${ge.system.uptime}%`,description:"30 ngy qua",icon:bt,trend:"+0.1%",color:"purple"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Hnh ng nhanh"}),e.jsx(J,{children:"Cc tc v thng xuyn"})]}),e.jsxs(L,{className:"space-y-3",children:[e.jsx(Xe,{requiredPermission:"assistant:configure",children:e.jsx(ke,{href:"/unified-dashboard/settings",children:e.jsxs(I,{className:"w-full justify-start",variant:"outline",children:[e.jsx(Ze,{className:"mr-2 h-4 w-4"}),"Cu hnh AI Assistant"]})})}),e.jsx(Xe,{requiredPermission:"analytics:view_advanced",children:e.jsx(ke,{href:"/unified-dashboard/analytics",children:e.jsxs(I,{className:"w-full justify-start",variant:"outline",children:[e.jsx(Is,{className:"mr-2 h-4 w-4"}),"Xem bo co chi tit"]})})}),e.jsx(Xe,{requiredPermission:"staff:manage",children:e.jsx(ke,{href:"/unified-dashboard/staff-management",children:e.jsxs(I,{className:"w-full justify-start",variant:"outline",children:[e.jsx(Ue,{className:"mr-2 h-4 w-4"}),"Qun l nhn vin"]})})})]})]}),e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Hot ng gn y"}),e.jsx(J,{children:"Cp nht h thng mi nht"})]}),e.jsx(L,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Be,{className:"h-4 w-4 text-green-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm",children:"AI Assistant c cp nht"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"2 pht trc"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ne,{className:"h-4 w-4 text-orange-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm",children:"8 yu cu mi cn x l"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"15 pht trc"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ze,{className:"h-4 w-4 text-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm",children:"Satisfaction tng 0.2 im"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"1 gi trc"})]})]})]})})]})]})]}),HN=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-800 text-white p-6 rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Dashboard L tn"}),e.jsx("p",{className:"text-green-100",children:"Qun l yu cu khch hng v cuc gi"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Qe,{title:"Yu cu hm nay",value:ge.requests.totalToday,description:"Mi trong ngy",icon:Kn,color:"green"}),e.jsx(Qe,{title:"ang ch x l",value:ge.requests.pending,description:"Cn hnh ng",icon:lt,color:"orange"}),e.jsx(Qe,{title:" hon thnh",value:ge.requests.completed,description:"Tun ny",icon:Be,color:"blue"}),e.jsx(Qe,{title:"Cuc gi hm nay",value:ge.calls.today,description:"Thi gian TB: 2.3 pht",icon:ot,color:"purple"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Cng vic ca ti"}),e.jsx(J,{children:"Nhim v cn thc hin"})]}),e.jsxs(L,{className:"space-y-3",children:[e.jsx(Xe,{requiredPermission:"requests:view",children:e.jsx(ke,{href:"/unified-dashboard/requests",children:e.jsxs(I,{className:"w-full justify-start",variant:"outline",children:[e.jsx(Kn,{className:"mr-2 h-4 w-4"}),"Xem yu cu khch hng (",ge.requests.pending,")"]})})}),e.jsx(Xe,{requiredPermission:"calls:view",children:e.jsx(ke,{href:"/dashboard/calls",children:e.jsxs(I,{className:"w-full justify-start",variant:"outline",children:[e.jsx(Zt,{className:"mr-2 h-4 w-4"}),"Lch s cuc gi"]})})}),e.jsx(Xe,{requiredPermission:"guests:manage",children:e.jsx(ke,{href:"/unified-dashboard/guest-management",children:e.jsxs(I,{className:"w-full justify-start",variant:"outline",children:[e.jsx(Ue,{className:"mr-2 h-4 w-4"}),"Qun l khch hng"]})})})]})]}),e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Trng thi yu cu"}),e.jsx(J,{children:"Phn b theo trng thi"})]}),e.jsx(L,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"ang ch"}),e.jsx(Z,{variant:"outline",children:ge.requests.pending})]}),e.jsx(pt,{value:ge.requests.pending/(ge.requests.pending+ge.requests.inProgress+ge.requests.completed)*100,className:"h-2"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"ang x l"}),e.jsx(Z,{variant:"outline",children:ge.requests.inProgress})]}),e.jsx(pt,{value:ge.requests.inProgress/(ge.requests.pending+ge.requests.inProgress+ge.requests.completed)*100,className:"h-2"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Hon thnh"}),e.jsx(Z,{variant:"outline",children:ge.requests.completed})]}),e.jsx(pt,{value:ge.requests.completed/(ge.requests.pending+ge.requests.inProgress+ge.requests.completed)*100,className:"h-2"})]})})]})]})]}),VN=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-800 text-white p-6 rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Dashboard IT Manager"}),e.jsx("p",{className:"text-purple-100",children:"Gim st h thng v qun l k thut"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Qe,{title:"Uptime h thng",value:`${ge.system.uptime}%`,description:"30 ngy qua",icon:Sa,trend:"+0.1%",color:"purple"}),e.jsx(Qe,{title:"Response Time",value:`${ge.system.responseTime}ms`,description:"Trung bnh 24h",icon:bt,color:"blue"}),e.jsx(Qe,{title:"Li h thng",value:ge.system.errors,description:"Hm nay",icon:Ne,color:"red"}),e.jsx(Qe,{title:"API Calls",value:"12.5K",description:"Hm nay",icon:Wt,trend:"+8.2%",color:"green"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Cng c IT"}),e.jsx(J,{children:"Qun l h thng v bo mt"})]}),e.jsxs(L,{className:"space-y-3",children:[e.jsx(Xe,{requiredPermission:"system:monitor",children:e.jsx(ke,{href:"/unified-dashboard/system-monitoring",children:e.jsxs(I,{className:"w-full justify-start",variant:"outline",children:[e.jsx(xn,{className:"mr-2 h-4 w-4"}),"Gim st h thng"]})})}),e.jsx(Xe,{requiredPermission:"logs:view",children:e.jsx(ke,{href:"/unified-dashboard/logs",children:e.jsxs(I,{className:"w-full justify-start",variant:"outline",children:[e.jsx(Wt,{className:"mr-2 h-4 w-4"}),"Xem system logs"]})})}),e.jsx(Xe,{requiredPermission:"security:manage",children:e.jsx(ke,{href:"/unified-dashboard/security",children:e.jsxs(I,{className:"w-full justify-start",variant:"outline",children:[e.jsx(Te,{className:"mr-2 h-4 w-4"}),"Cu hnh bo mt"]})})}),e.jsx(Xe,{requiredPermission:"integrations:manage",children:e.jsx(ke,{href:"/unified-dashboard/integrations",children:e.jsxs(I,{className:"w-full justify-start",variant:"outline",children:[e.jsx(ka,{className:"mr-2 h-4 w-4"}),"Qun l tch hp"]})})})]})]}),e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Cnh bo h thng"}),e.jsx(J,{children:"Thng bo k thut quan trng"})]}),e.jsx(L,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Be,{className:"h-4 w-4 text-green-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm",children:"Database backup completed"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"5 pht trc"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ne,{className:"h-4 w-4 text-orange-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm",children:"High memory usage: 85%"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"10 pht trc"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Te,{className:"h-4 w-4 text-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm",children:"Security scan completed"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"1 gi trc"})]})]})]})})]})]})]}),GN=()=>{const{user:t}=De(),s=t?.role||"front-desk",n=()=>{switch(s){case"hotel-manager":return e.jsx(qN,{});case"front-desk":return e.jsx(HN,{});case"it-manager":return e.jsx(VN,{});default:return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Cho mng n vi Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Vai tr ca bn cha c cu hnh. Vui lng lin h qun tr vin."})]})}};return e.jsx("div",{className:"space-y-6",children:n()})},Rt=kr,UN=_r,fc=h.forwardRef(({className:t,...s},n)=>e.jsx(ra,{ref:n,className:D("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s}));fc.displayName=ra.displayName;const wt=h.forwardRef(({className:t,children:s,...n},a)=>e.jsxs(UN,{children:[e.jsx(fc,{}),e.jsxs(la,{ref:a,className:D("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[s,e.jsxs(oa,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(ms,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));wt.displayName=la.displayName;const Nt=({className:t,...s})=>e.jsx("div",{className:D("flex flex-col space-y-1.5 text-center sm:text-left",t),...s});Nt.displayName="DialogHeader";const St=h.forwardRef(({className:t,...s},n)=>e.jsx(ca,{ref:n,className:D("text-lg font-semibold leading-none tracking-tight",t),...s}));St.displayName=ca.displayName;const $t=h.forwardRef(({className:t,...s},n)=>e.jsx(da,{ref:n,className:D("text-sm text-muted-foreground",t),...s}));$t.displayName=da.displayName;var gc="AlertDialog",[WN,mS]=Mt(gc,[Tr]),Ct=Tr(),vc=t=>{const{__scopeAlertDialog:s,...n}=t,a=Ct(s);return e.jsx(kr,{...a,...n,modal:!0})};vc.displayName=gc;var KN="AlertDialogTrigger",jc=h.forwardRef((t,s)=>{const{__scopeAlertDialog:n,...a}=t,i=Ct(n);return e.jsx(wd,{...i,...a,ref:s})});jc.displayName=KN;var XN="AlertDialogPortal",yc=t=>{const{__scopeAlertDialog:s,...n}=t,a=Ct(s);return e.jsx(_r,{...a,...n})};yc.displayName=XN;var QN="AlertDialogOverlay",bc=h.forwardRef((t,s)=>{const{__scopeAlertDialog:n,...a}=t,i=Ct(n);return e.jsx(ra,{...i,...a,ref:s})});bc.displayName=QN;var is="AlertDialogContent",[YN,ZN]=WN(is),JN=bd("AlertDialogContent"),wc=h.forwardRef((t,s)=>{const{__scopeAlertDialog:n,children:a,...i}=t,r=Ct(n),l=h.useRef(null),o=He(s,l),c=h.useRef(null);return e.jsx(yd,{contentName:is,titleName:Nc,docsSlug:"alert-dialog",children:e.jsx(YN,{scope:n,cancelRef:c,children:e.jsxs(la,{role:"alertdialog",...r,...i,ref:o,onOpenAutoFocus:Ce(i.onOpenAutoFocus,d=>{d.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[e.jsx(JN,{children:a}),e.jsx(t4,{contentRef:l})]})})})});wc.displayName=is;var Nc="AlertDialogTitle",Sc=h.forwardRef((t,s)=>{const{__scopeAlertDialog:n,...a}=t,i=Ct(n);return e.jsx(ca,{...i,...a,ref:s})});Sc.displayName=Nc;var Cc="AlertDialogDescription",_c=h.forwardRef((t,s)=>{const{__scopeAlertDialog:n,...a}=t,i=Ct(n);return e.jsx(da,{...i,...a,ref:s})});_c.displayName=Cc;var e4="AlertDialogAction",kc=h.forwardRef((t,s)=>{const{__scopeAlertDialog:n,...a}=t,i=Ct(n);return e.jsx(oa,{...i,...a,ref:s})});kc.displayName=e4;var Tc="AlertDialogCancel",Ec=h.forwardRef((t,s)=>{const{__scopeAlertDialog:n,...a}=t,{cancelRef:i}=ZN(Tc,n),r=Ct(n),l=He(s,i);return e.jsx(oa,{...r,...a,ref:l})});Ec.displayName=Tc;var t4=({contentRef:t})=>{const s=`\`${is}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${is}\` by passing a \`${Cc}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${is}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(s)},[s,t]),null},s4=vc,n4=jc,a4=yc,Ac=bc,Pc=wc,Ic=kc,Mc=Ec,Lc=Sc,Dc=_c;const Rc=s4,$c=n4,i4=a4,Fc=h.forwardRef(({className:t,...s},n)=>e.jsx(Ac,{className:D("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:n}));Fc.displayName=Ac.displayName;const Ka=h.forwardRef(({className:t,...s},n)=>e.jsxs(i4,{children:[e.jsx(Fc,{}),e.jsx(Pc,{ref:n,className:D("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s})]}));Ka.displayName=Pc.displayName;const Xa=({className:t,...s})=>e.jsx("div",{className:D("flex flex-col space-y-2 text-center sm:text-left",t),...s});Xa.displayName="AlertDialogHeader";const Qa=({className:t,...s})=>e.jsx("div",{className:D("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});Qa.displayName="AlertDialogFooter";const Ya=h.forwardRef(({className:t,...s},n)=>e.jsx(Lc,{ref:n,className:D("text-lg font-semibold",t),...s}));Ya.displayName=Lc.displayName;const Za=h.forwardRef(({className:t,...s},n)=>e.jsx(Dc,{ref:n,className:D("text-sm text-muted-foreground",t),...s}));Za.displayName=Dc.displayName;const Ja=h.forwardRef(({className:t,...s},n)=>e.jsx(Ic,{ref:n,className:D(Ra(),t),...s}));Ja.displayName=Ic.displayName;const ei=h.forwardRef(({className:t,...s},n)=>e.jsx(Mc,{ref:n,className:D(Ra({variant:"outline"}),"mt-2 sm:mt-0",t),...s}));ei.displayName=Mc.displayName;const Oc=["Tt c"," ghi nhn","ang thc hin"," thc hin v ang bn giao cho khch","Hon thin","Lu  khc"],zc=t=>{switch(t){case" ghi nhn":return"bg-gray-100 text-gray-800 border-gray-300";case"ang thc hin":return"bg-yellow-100 text-yellow-800 border-yellow-300";case" thc hin v ang bn giao cho khch":return"bg-blue-100 text-blue-800 border-blue-300";case"Hon thin":return"bg-green-100 text-green-800 border-green-300";case"Lu  khc":return"bg-red-100 text-red-800 border-red-300";default:return"bg-gray-100 text-gray-700 border-gray-300"}},Bc=t=>{switch(t){case" ghi nhn":return e.jsx(lt,{className:"h-3 w-3"});case"ang thc hin":return e.jsx(Ne,{className:"h-3 w-3"});case" thc hin v ang bn giao cho khch":return e.jsx(me,{className:"h-3 w-3"});case"Hon thin":return e.jsx(Be,{className:"h-3 w-3"});case"Lu  khc":return e.jsx(Ne,{className:"h-3 w-3"});default:return e.jsx(lt,{className:"h-3 w-3"})}},r4=({request:t,isOpen:s,onClose:n,onStatusChange:a,onOpenMessage:i})=>{const[r,l]=h.useState(t.status),o=()=>{r!==t.status&&a(r)};return e.jsx(Rt,{open:s,onOpenChange:n,children:e.jsxs(wt,{className:"max-w-2xl",children:[e.jsxs(Nt,{children:[e.jsxs(St,{className:"flex items-center gap-2",children:[e.jsx(Na,{className:"h-5 w-5"}),"Phng ",t.roomNumber," - ",t.orderId]}),e.jsx($t,{children:"Chi tit yu cu khch hng"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{children:"Khch hng"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(Ca,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:t.guestName})]})]}),e.jsxs("div",{children:[e.jsx(E,{children:"Thi gian to"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(ga,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:new Date(t.createdAt).toLocaleString()})]})]})]}),e.jsxs("div",{children:[e.jsx(E,{children:"Ni dung yu cu"}),e.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg whitespace-pre-wrap",children:t.requestContent})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{children:"Trng thi hin ti"}),e.jsxs(Z,{variant:"outline",className:D("mt-2",zc(t.status)),children:[Bc(t.status),e.jsx("span",{className:"ml-1",children:t.status})]})]}),e.jsxs("div",{children:[e.jsx(E,{children:"Cp nht trng thi"}),e.jsxs(be,{value:r,onValueChange:l,children:[e.jsx(ve,{className:"mt-2",children:e.jsx(we,{})}),e.jsx(je,{children:Oc.filter(c=>c!=="Tt c").map(c=>e.jsx(q,{value:c,children:c},c))})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsxs(I,{onClick:o,disabled:r===t.status,children:[e.jsx(Ht,{className:"h-4 w-4 mr-2"}),"Cp nht trng thi"]}),e.jsxs(I,{variant:"outline",onClick:i,children:[e.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Nhn tin vi khch"]})]})]})]})})},l4=({request:t,messages:s,isOpen:n,onClose:a,onSendMessage:i,loading:r})=>{const[l,o]=h.useState(""),c=()=>{l.trim()&&(i(l.trim()),o(""))};return e.jsx(Rt,{open:n,onOpenChange:a,children:e.jsxs(wt,{className:"max-w-md",children:[e.jsx(Nt,{children:e.jsxs(St,{children:["Tin nhn vi khch - Phng ",t.roomNumber]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-60 overflow-y-auto border rounded-lg p-3 space-y-2",children:s.length===0?e.jsx("div",{className:"text-center text-gray-500 py-8",children:"Cha c tin nhn no"}):s.map(d=>e.jsx("div",{className:D("flex",d.sender==="staff"?"justify-end":"justify-start"),children:e.jsxs("div",{className:D("max-w-[70%] p-2 rounded-lg text-sm",d.sender==="staff"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"),children:[e.jsx("p",{children:d.content}),e.jsx("p",{className:D("text-xs mt-1",d.sender==="staff"?"text-blue-100":"text-gray-500"),children:d.time})]})},d.id))}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(qe,{placeholder:"Nhp tin nhn...",value:l,onChange:d=>o(d.target.value),className:"min-h-[60px]"}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(I,{onClick:c,disabled:!l.trim()||r,size:"sm",children:[r?e.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(Hh,{className:"h-4 w-4 mr-2"}),"Gi"]})})]})]})]})})},o4=()=>{const{user:t}=De(),[s,n]=h.useState([]),[a,i]=h.useState(!0),[r,l]=h.useState(null),[o,c]=h.useState(!1),[d,u]=h.useState(!1),[m,x]=h.useState([]),[f,p]=h.useState(!1),[g,y]=h.useState("Tt c"),[j,v]=h.useState(""),[b,w]=h.useState(""),[C,k]=h.useState(""),[B,F]=h.useState(""),[A,_]=h.useState(""),[S,N]=h.useState(!1),z=()=>({Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}),$=async()=>{try{i(!0);const U=await fetch("/api/staff/requests",{headers:z()});if(U.status===401){console.error("Unauthorized access");return}if(!U.ok)throw new Error("Failed to fetch requests");const ie=await U.json();n(ie)}catch(U){console.error("Failed to fetch requests:",U)}finally{i(!1)}},O=async(U,ie)=>{try{await fetch(`/api/staff/requests/${U}/status`,{method:"PATCH",headers:z(),body:JSON.stringify({status:ie})}),n(Re=>Re.map(H=>H.id===U?{...H,status:ie}:H)),r&&r.id===U&&l({...r,status:ie})}catch(Re){console.error("Failed to update status:",Re)}},R=async U=>{try{const ie=await fetch(`/api/staff/requests/${U}/messages`,{headers:z()});if(ie.ok){const Re=await ie.json();x(Re)}}catch(ie){console.error("Failed to fetch messages:",ie),x([])}},T=async U=>{if(r){p(!0);try{await fetch(`/api/staff/requests/${r.id}/message`,{method:"POST",headers:z(),body:JSON.stringify({content:U})});const ie={id:Date.now().toString(),sender:"staff",content:U,time:new Date().toLocaleTimeString().slice(0,5)};x(Re=>[...Re,ie])}catch(ie){console.error("Failed to send message:",ie)}finally{p(!1)}}},P=async()=>{if(B!=="2208"){_("Mt khu khng ng");return}N(!0);try{const ie=await(await fetch("/api/staff/requests/all",{method:"DELETE",headers:z()})).json();ie.success?(n([]),F(""),_("")):_(ie.error||"Khng th xa requests")}catch(U){console.error("Error deleting requests:",U),_(" xy ra li khi xa requests")}finally{N(!1)}},W=s.filter(U=>{if(g!=="Tt c"&&U.status!==g)return!1;if(j||b){const ie=new Date(U.createdAt);if(j&&ie<new Date(j)||b&&ie>new Date(b+"T23:59:59"))return!1}if(C){const ie=C.toLowerCase();return U.roomNumber.toLowerCase().includes(ie)||U.guestName.toLowerCase().includes(ie)||U.requestContent.toLowerCase().includes(ie)||U.orderId.toLowerCase().includes(ie)}return!0});h.useEffect(()=>{$();const U=setInterval($,3e4);return()=>clearInterval(U)},[]);const ee=U=>{l(U),c(!0)},Se=()=>{c(!1),l(null)},ae=async()=>{r&&(u(!0),await R(r.id))},de=()=>{u(!1),x([])};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Yu cu khch hng"}),e.jsx("p",{className:"text-gray-600",children:"Qun l v x l cc yu cu t khch hng"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(I,{variant:"outline",onClick:$,disabled:a,children:[e.jsx(me,{className:D("h-4 w-4 mr-2",a&&"animate-spin")}),"Lm mi"]}),e.jsxs(Rc,{children:[e.jsx($c,{asChild:!0,children:e.jsxs(I,{variant:"destructive",disabled:s.length===0,children:[e.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Xa tt c"]})}),e.jsxs(Ka,{children:[e.jsxs(Xa,{children:[e.jsx(Ya,{children:"Xc nhn xa tt c requests"}),e.jsx(Za,{children:"Hnh ng ny s xa tt c yu cu v khng th hon tc. Vui lng nhp mt khu  xc nhn:"})]}),e.jsxs("div",{className:"py-4",children:[e.jsx(K,{type:"password",placeholder:"Nhp mt khu xc nhn",value:B,onChange:U=>F(U.target.value),className:A?"border-red-500":""}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:A})]}),e.jsxs(Qa,{children:[e.jsx(ei,{onClick:()=>{F(""),_("")},children:"Hy"}),e.jsx(Ja,{onClick:P,disabled:S,className:"bg-red-600 hover:bg-red-700",children:S?"ang xa...":"Xa tt c"})]})]})]})]})]}),e.jsxs(M,{children:[e.jsx(V,{children:e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(ya,{className:"h-5 w-5"}),"B lc"]})}),e.jsxs(L,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{children:"Trng thi"}),e.jsxs(be,{value:g,onValueChange:y,children:[e.jsx(ve,{children:e.jsx(we,{})}),e.jsx(je,{children:Oc.map(U=>e.jsx(q,{value:U,children:U},U))})]})]}),e.jsxs("div",{children:[e.jsx(E,{children:"T ngy"}),e.jsx(K,{type:"date",value:j,onChange:U=>v(U.target.value)})]}),e.jsxs("div",{children:[e.jsx(E,{children:"n ngy"}),e.jsx(K,{type:"date",value:b,onChange:U=>w(U.target.value)})]}),e.jsxs("div",{children:[e.jsx(E,{children:"Tm kim"}),e.jsxs("div",{className:"relative",children:[e.jsx(It,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(K,{placeholder:"Tm theo phng, khch...",value:C,onChange:U=>k(U.target.value),className:"pl-10"})]})]})]}),(g!=="Tt c"||j||b||C)&&e.jsx("div",{className:"mt-4",children:e.jsx(I,{variant:"outline",size:"sm",onClick:()=>{y("Tt c"),v(""),w(""),k("")},children:"Xa b lc"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(lt,{className:"h-5 w-5 text-orange-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"ang ch"}),e.jsx("p",{className:"text-2xl font-bold",children:s.filter(U=>U.status===" ghi nhn").length})]})]})})}),e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(me,{className:"h-5 w-5 text-yellow-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"ang x l"}),e.jsx("p",{className:"text-2xl font-bold",children:s.filter(U=>U.status==="ang thc hin").length})]})]})})}),e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"h-5 w-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Hon thnh"}),e.jsx("p",{className:"text-2xl font-bold",children:s.filter(U=>U.status==="Hon thin").length})]})]})})}),e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"h-5 w-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Tng cng"}),e.jsx("p",{className:"text-2xl font-bold",children:s.length})]})]})})})]}),e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Danh sch yu cu"}),e.jsxs(J,{children:["Hin th ",W.length," / ",s.length," yu cu"]})]}),e.jsx(L,{children:a?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(me,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{children:"ang ti..."})]}):W.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ne,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Khng c yu cu no"})]}):e.jsx("div",{className:"space-y-4",children:W.sort((U,ie)=>new Date(ie.createdAt).getTime()-new Date(U.createdAt).getTime()).map(U=>e.jsx(M,{className:"hover:shadow-md transition-shadow",children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Na,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"font-semibold",children:["Phng ",U.roomNumber]}),e.jsx(Z,{variant:"outline",className:"text-xs",children:U.orderId})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ca,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:U.guestName}),e.jsx(ga,{className:"h-4 w-4 text-gray-500 ml-4"}),e.jsx("span",{className:"text-sm text-gray-600",children:new Date(U.createdAt).toLocaleString()})]}),e.jsx("p",{className:"text-sm text-gray-800 mb-3 line-clamp-2",children:U.requestContent}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(Z,{variant:"outline",className:D("text-xs",zc(U.status)),children:[Bc(U.status),e.jsx("span",{className:"ml-1",children:U.status})]})})]}),e.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[e.jsxs(I,{variant:"outline",size:"sm",onClick:()=>ee(U),children:[e.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Chi tit"]}),e.jsxs(I,{variant:"outline",size:"sm",onClick:()=>{l(U),ae()},children:[e.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Nhn tin"]})]})]})})},U.id))})})]}),r&&e.jsxs(e.Fragment,{children:[e.jsx(r4,{request:r,isOpen:o,onClose:Se,onStatusChange:U=>O(r.id,U),onOpenMessage:ae}),e.jsx(l4,{request:r,messages:m,isOpen:d,onClose:de,onSendMessage:T,loading:f})]})]})},_t=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF4560"],Vs=({title:t,value:s,change:n,changeType:a,icon:i,description:r})=>{const l=()=>{switch(a){case"positive":return"text-green-600";case"negative":return"text-red-600";default:return"text-gray-600"}},o=()=>{switch(a){case"positive":return e.jsx(ze,{className:"h-3 w-3"});case"negative":return e.jsx(Gh,{className:"h-3 w-3"});default:return e.jsx(ze,{className:"h-3 w-3"})}};return e.jsx(M,{children:e.jsx(L,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:t}),e.jsx("p",{className:"text-2xl font-bold",children:s}),n&&e.jsxs("div",{className:D("flex items-center gap-1 text-sm mt-1",l()),children:[o(),e.jsx("span",{children:n})]}),r&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r})]}),e.jsx(i,{className:"h-8 w-8 text-gray-400"})]})})})},On=({active:t,payload:s,label:n})=>t&&s&&s.length?e.jsxs("div",{className:"bg-white p-2 border rounded shadow",children:[e.jsx("p",{className:"font-medium",children:n}),s.map((a,i)=>e.jsx("p",{style:{color:a.color},children:`${a.dataKey}: ${a.value}`},i))]}):null,c4=()=>{const{user:t}=De(),[s,n]=h.useState(null),[a,i]=h.useState(!0),[r,l]=h.useState("30d"),[o,c]=h.useState("all"),d={overview:{totalCalls:1247,averageCallDuration:"2:34",successRate:94.2,topLanguages:["Vietnamese","English","Korean"],callsThisMonth:423,growthRate:15.3},serviceDistribution:[{service:"Room Service",calls:450,percentage:36.1},{service:"Concierge",calls:300,percentage:24.1},{service:"Housekeeping",calls:250,percentage:20.1},{service:"Front Desk",calls:150,percentage:12},{service:"Spa & Wellness",calls:97,percentage:7.8}],hourlyActivity:[{hour:"06:00",calls:5},{hour:"07:00",calls:12},{hour:"08:00",calls:25},{hour:"09:00",calls:35},{hour:"10:00",calls:45},{hour:"11:00",calls:40},{hour:"12:00",calls:55},{hour:"13:00",calls:48},{hour:"14:00",calls:52},{hour:"15:00",calls:38},{hour:"16:00",calls:42},{hour:"17:00",calls:35},{hour:"18:00",calls:45},{hour:"19:00",calls:52},{hour:"20:00",calls:38},{hour:"21:00",calls:25},{hour:"22:00",calls:15},{hour:"23:00",calls:8}],dailyTrends:[{date:"2024-01-01",calls:45,duration:154,satisfaction:4.5},{date:"2024-01-02",calls:52,duration:162,satisfaction:4.6},{date:"2024-01-03",calls:38,duration:148,satisfaction:4.4},{date:"2024-01-04",calls:41,duration:156,satisfaction:4.7},{date:"2024-01-05",calls:48,duration:159,satisfaction:4.5},{date:"2024-01-06",calls:55,duration:165,satisfaction:4.8},{date:"2024-01-07",calls:42,duration:151,satisfaction:4.6}],languageDistribution:[{language:"Vietnamese",calls:687,percentage:55.1},{language:"English",calls:423,percentage:33.9},{language:"Korean",calls:87,percentage:7},{language:"Chinese",calls:50,percentage:4}]},u=async()=>{try{i(!0),setTimeout(()=>{n(d),i(!1)},1e3)}catch(m){console.error("Failed to fetch analytics:",m),i(!1)}};return h.useEffect(()=>{u()},[r]),a?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(me,{className:"h-8 w-8 animate-spin text-blue-600"}),e.jsx("span",{className:"ml-2",children:"ang ti analytics..."})]}):s?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Analytics nng cao"}),e.jsx("p",{className:"text-gray-600",children:"Phn tch chi tit hot ng AI Assistant v khch hng"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(be,{value:r,onValueChange:l,children:[e.jsx(ve,{className:"w-32",children:e.jsx(we,{})}),e.jsxs(je,{children:[e.jsx(q,{value:"7d",children:"7 ngy"}),e.jsx(q,{value:"30d",children:"30 ngy"}),e.jsx(q,{value:"90d",children:"90 ngy"}),e.jsx(q,{value:"365d",children:"1 nm"})]})]}),e.jsxs(I,{variant:"outline",onClick:u,children:[e.jsx(me,{className:"h-4 w-4 mr-2"}),"Lm mi"]}),e.jsxs(I,{variant:"outline",children:[e.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Xut bo co"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Vs,{title:"Tng cuc gi",value:s.overview.totalCalls.toLocaleString(),change:`+${s.overview.growthRate}%`,changeType:"positive",icon:ot,description:"30 ngy qua"}),e.jsx(Vs,{title:"Thi gian TB",value:s.overview.averageCallDuration,change:"+12 giy",changeType:"positive",icon:lt,description:"So vi thng trc"}),e.jsx(Vs,{title:"T l thnh cng",value:`${s.overview.successRate}%`,change:"+2.1%",changeType:"positive",icon:bt,description:"Cuc gi hon thnh"}),e.jsx(Vs,{title:"Thng ny",value:s.overview.callsThisMonth.toLocaleString(),change:"+23 hm nay",changeType:"positive",icon:ze,description:"Cuc gi trong thng"})]}),e.jsxs(dt,{defaultValue:"overview",className:"space-y-4",children:[e.jsxs(nt,{className:"grid w-full grid-cols-4",children:[e.jsx(oe,{value:"overview",children:"Tng quan"}),e.jsx(oe,{value:"services",children:"Dch v"}),e.jsx(oe,{value:"activity",children:"Hot ng"}),e.jsx(oe,{value:"languages",children:"Ngn ng"})]}),e.jsx(ce,{value:"overview",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Xu hng cuc gi theo ngy"}),e.jsx(J,{children:"7 ngy gn y"})]}),e.jsx(L,{children:e.jsx(mt,{width:"100%",height:300,children:e.jsxs(kd,{data:s.dailyTrends,children:[e.jsx(es,{strokeDasharray:"3 3"}),e.jsx(ts,{dataKey:"date"}),e.jsx(ss,{}),e.jsx(xt,{content:e.jsx(On,{})}),e.jsx(Td,{type:"monotone",dataKey:"calls",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})]})})})]}),e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Mc  hi lng"}),e.jsx(J,{children:"im trung bnh theo ngy"})]}),e.jsx(L,{children:e.jsx(mt,{width:"100%",height:300,children:e.jsxs(ha,{data:s.dailyTrends,children:[e.jsx(es,{strokeDasharray:"3 3"}),e.jsx(ts,{dataKey:"date"}),e.jsx(ss,{domain:[4,5]}),e.jsx(xt,{content:e.jsx(On,{})}),e.jsx(vs,{type:"monotone",dataKey:"satisfaction",stroke:"#00C49F",strokeWidth:2})]})})})]})]})}),e.jsx(ce,{value:"services",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Phn b dch v"}),e.jsx(J,{children:"Theo s lng cuc gi"})]}),e.jsx(L,{children:e.jsx(mt,{width:"100%",height:300,children:e.jsxs(Bn,{children:[e.jsx(qn,{data:s.serviceDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({name:m,percentage:x})=>`${m} (${x}%)`,outerRadius:80,fill:"#8884d8",dataKey:"calls",children:s.serviceDistribution.map((m,x)=>e.jsx(Hn,{fill:_t[x%_t.length]},`cell-${x}`))}),e.jsx(xt,{})]})})})]}),e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Top dch v"}),e.jsx(J,{children:"Xp hng theo lng s dng"})]}),e.jsx(L,{children:e.jsx("div",{className:"space-y-3",children:s.serviceDistribution.map((m,x)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:_t[x%_t.length]}}),e.jsx("span",{className:"font-medium",children:m.service})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-semibold",children:[m.calls," cuc gi"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[m.percentage,"%"]})]})]},m.service))})})]})]})}),e.jsx(ce,{value:"activity",className:"space-y-4",children:e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Hot ng theo gi"}),e.jsx(J,{children:"Phn b cuc gi trong 24h"})]}),e.jsx(L,{children:e.jsx(mt,{width:"100%",height:400,children:e.jsxs(Ir,{data:s.hourlyActivity,children:[e.jsx(es,{strokeDasharray:"3 3"}),e.jsx(ts,{dataKey:"hour"}),e.jsx(ss,{}),e.jsx(xt,{content:e.jsx(On,{})}),e.jsx(Mr,{dataKey:"calls",fill:"#8884d8"})]})})})]})}),e.jsx(ce,{value:"languages",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Phn b ngn ng"}),e.jsx(J,{children:"T l s dng cc ngn ng"})]}),e.jsx(L,{children:e.jsx(mt,{width:"100%",height:300,children:e.jsxs(Bn,{children:[e.jsx(qn,{data:s.languageDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({name:m,percentage:x})=>`${m} (${x}%)`,outerRadius:80,fill:"#8884d8",dataKey:"calls",children:s.languageDistribution.map((m,x)=>e.jsx(Hn,{fill:_t[x%_t.length]},`cell-${x}`))}),e.jsx(xt,{})]})})})]}),e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Thng k ngn ng"}),e.jsx(J,{children:"Chi tit s dng"})]}),e.jsx(L,{children:e.jsx("div",{className:"space-y-4",children:s.languageDistribution.map((m,x)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:m.language}),e.jsxs("span",{className:"text-sm text-gray-500",children:[m.calls," cuc gi (",m.percentage,"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"h-2 rounded-full",style:{width:`${m.percentage}%`,backgroundColor:_t[x%_t.length]}})})]},m.language))})})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsxs(M,{children:[e.jsx(V,{children:e.jsx(G,{children:"Ngn ng ph bin"})}),e.jsx(L,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:s.overview.topLanguages.map((m,x)=>e.jsx(Z,{variant:"secondary",children:m},m))})})]}),e.jsxs(M,{children:[e.jsx(V,{children:e.jsx(G,{children:"Gi cao im"})}),e.jsx(L,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Sng:"}),e.jsx("span",{className:"font-medium",children:"08:00 - 12:00"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Chiu:"}),e.jsx("span",{className:"font-medium",children:"14:00 - 18:00"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Ti:"}),e.jsx("span",{className:"font-medium",children:"19:00 - 21:00"})]})]})})]}),e.jsxs(M,{children:[e.jsx(V,{children:e.jsx(G,{children:"Xu hng"})}),e.jsx(L,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm",children:"Tng trng 15.3%"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm",children:"Thi gian gi tng"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm",children:"Hi lng ci thin"})]})]})})]})]})]}):e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:"Khng th ti d liu analytics"})})},vt=h.forwardRef(({className:t,...s},n)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:n,className:D("w-full caption-bottom text-sm",t),...s})}));vt.displayName="Table";const jt=h.forwardRef(({className:t,...s},n)=>e.jsx("thead",{ref:n,className:D("[&_tr]:border-b",t),...s}));jt.displayName="TableHeader";const yt=h.forwardRef(({className:t,...s},n)=>e.jsx("tbody",{ref:n,className:D("[&_tr:last-child]:border-0",t),...s}));yt.displayName="TableBody";const d4=h.forwardRef(({className:t,...s},n)=>e.jsx("tfoot",{ref:n,className:D("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s}));d4.displayName="TableFooter";const Le=h.forwardRef(({className:t,...s},n)=>e.jsx("tr",{ref:n,className:D("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...s}));Le.displayName="TableRow";const Q=h.forwardRef(({className:t,...s},n)=>e.jsx("th",{ref:n,className:D("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...s}));Q.displayName="TableHead";const Y=h.forwardRef(({className:t,...s},n)=>e.jsx("td",{ref:n,className:D("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...s}));Y.displayName="TableCell";const h4=h.forwardRef(({className:t,...s},n)=>e.jsx("caption",{ref:n,className:D("mt-4 text-sm text-muted-foreground",t),...s}));h4.displayName="TableCaption";const on={"hotel-manager":{label:"Qun l khch sn",color:"bg-blue-100 text-blue-800 border-blue-300",icon:e.jsx(Te,{className:"h-3 w-3"}),description:"Quyn truy cp y "},"front-desk":{label:"L tn",color:"bg-green-100 text-green-800 border-green-300",icon:e.jsx(Ue,{className:"h-3 w-3"}),description:"Qun l yu cu khch hng"},"it-manager":{label:"Qun l IT",color:"bg-purple-100 text-purple-800 border-purple-300",icon:e.jsx(Je,{className:"h-3 w-3"}),description:"Qun l h thng k thut"}},Gi=({isOpen:t,onClose:s,onSubmit:n,staff:a=null,loading:i=!1})=>{const r=!!a,[l,o]=h.useState({username:a?.username||"",email:a?.email||"",displayName:a?.displayName||"",role:a?.role||"front-desk",password:"",confirmPassword:"",isActive:a?.isActive??!0}),[c,d]=h.useState({}),[u,m]=h.useState(!1);h.useEffect(()=>{t&&(o({username:a?.username||"",email:a?.email||"",displayName:a?.displayName||"",role:a?.role||"front-desk",password:"",confirmPassword:"",isActive:a?.isActive??!0}),d({}))},[t,a]);const x=()=>{const p={};return l.username.trim()?l.username.length<3&&(p.username="Tn ng nhp phi c t nht 3 k t"):p.username="Tn ng nhp l bt buc",l.email.trim()?/\S+@\S+\.\S+/.test(l.email)||(p.email="Email khng hp l"):p.email="Email l bt buc",l.displayName.trim()||(p.displayName="Tn hin th l bt buc"),r||(l.password?l.password.length<6&&(p.password="Mt khu phi c t nht 6 k t"):p.password="Mt khu l bt buc",l.password!==l.confirmPassword&&(p.confirmPassword="Mt khu xc nhn khng khp")),d(p),Object.keys(p).length===0},f=p=>{p.preventDefault(),x()&&n(l)};return e.jsx(Rt,{open:t,onOpenChange:s,children:e.jsxs(wt,{className:"max-w-md",children:[e.jsxs(Nt,{children:[e.jsx(St,{children:r?"Chnh sa nhn vin":"Thm nhn vin mi"}),e.jsx($t,{children:r?"Cp nht thng tin nhn vin":"To ti khon nhn vin mi"})]}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"username",children:"Tn ng nhp"}),e.jsx(K,{id:"username",value:l.username,onChange:p=>o(g=>({...g,username:p.target.value})),className:c.username?"border-red-500":"",disabled:r}),c.username&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.username})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"email",children:"Email"}),e.jsx(K,{id:"email",type:"email",value:l.email,onChange:p=>o(g=>({...g,email:p.target.value})),className:c.email?"border-red-500":""}),c.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.email})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"displayName",children:"Tn hin th"}),e.jsx(K,{id:"displayName",value:l.displayName,onChange:p=>o(g=>({...g,displayName:p.target.value})),className:c.displayName?"border-red-500":""}),c.displayName&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.displayName})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"role",children:"Vai tr"}),e.jsxs(be,{value:l.role,onValueChange:p=>o(g=>({...g,role:p})),children:[e.jsx(ve,{children:e.jsx(we,{})}),e.jsx(je,{children:Object.entries(on).map(([p,g])=>e.jsx(q,{value:p,children:e.jsxs("div",{className:"flex items-center gap-2",children:[g.icon,e.jsx("span",{children:g.label})]})},p))})]})]}),!r&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"password",children:"Mt khu"}),e.jsxs("div",{className:"relative",children:[e.jsx(K,{id:"password",type:u?"text":"password",value:l.password,onChange:p=>o(g=>({...g,password:p.target.value})),className:c.password?"border-red-500":""}),e.jsx(I,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>m(!u),children:u?e.jsx(fl,{className:"h-4 w-4"}):e.jsx(Lt,{className:"h-4 w-4"})})]}),c.password&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.password})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"confirmPassword",children:"Xc nhn mt khu"}),e.jsx(K,{id:"confirmPassword",type:"password",value:l.confirmPassword,onChange:p=>o(g=>({...g,confirmPassword:p.target.value})),className:c.confirmPassword?"border-red-500":""}),c.confirmPassword&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.confirmPassword})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"isActive",checked:l.isActive,onChange:p=>o(g=>({...g,isActive:p.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx(E,{htmlFor:"isActive",children:"Ti khon hot ng"})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(I,{type:"button",variant:"outline",onClick:s,children:"Hy"}),e.jsxs(I,{type:"submit",disabled:i,children:[i?e.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(Ns,{className:"h-4 w-4 mr-2"}),r?"Cp nht":"To ti khon"]})]})]})]})})},u4=({staff:t,isOpen:s,onClose:n})=>{if(!t)return null;const a=on[t.role];return e.jsx(Rt,{open:s,onOpenChange:n,children:e.jsxs(wt,{className:"max-w-lg",children:[e.jsxs(Nt,{children:[e.jsxs(St,{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-5 w-5"}),"Quyn hn ca ",t.displayName]}),e.jsx($t,{children:"Chi tit quyn truy cp v vai tr"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(E,{children:"Vai tr"}),e.jsxs(Z,{variant:"outline",className:D("mt-1",a.color),children:[a.icon,e.jsx("span",{className:"ml-1",children:a.label})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:a.description})]}),e.jsxs("div",{children:[e.jsxs(E,{children:["Quyn hn (",t.permissions.length,")"]}),e.jsx("div",{className:"mt-2 max-h-48 overflow-y-auto border rounded-lg p-3",children:e.jsx("div",{className:"grid grid-cols-1 gap-1",children:t.permissions.map(i=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(gl,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{className:"font-mono text-xs",children:i})]},i))})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(I,{onClick:n,children:"ng"})})]})]})})},m4=()=>{const{user:t}=De(),[s,n]=h.useState([]),[a,i]=h.useState(!0),[r,l]=h.useState(""),[o,c]=h.useState("all"),[d,u]=h.useState("all"),[m,x]=h.useState(!1),[f,p]=h.useState(!1),[g,y]=h.useState(!1),[j,v]=h.useState(null),[b,w]=h.useState(!1),C=[{id:"1",username:"manager",email:"manager@hotel.com",displayName:"Hotel Manager",role:"hotel-manager",permissions:["dashboard:view","analytics:view_advanced","staff:manage","settings:manage"],isActive:!0,lastLogin:"2024-01-15T10:30:00Z",createdAt:"2024-01-01T09:00:00Z",updatedAt:"2024-01-15T10:30:00Z"},{id:"2",username:"frontdesk",email:"frontdesk@hotel.com",displayName:"Front Desk Staff",role:"front-desk",permissions:["dashboard:view","requests:view","calls:view","guests:manage"],isActive:!0,lastLogin:"2024-01-15T09:15:00Z",createdAt:"2024-01-02T10:00:00Z",updatedAt:"2024-01-15T09:15:00Z"},{id:"3",username:"itmanager",email:"it@hotel.com",displayName:"IT Manager",role:"it-manager",permissions:["dashboard:view","system:monitor","logs:view","security:manage"],isActive:!0,lastLogin:"2024-01-14T16:45:00Z",createdAt:"2024-01-03T11:00:00Z",updatedAt:"2024-01-14T16:45:00Z"},{id:"4",username:"receptionist2",email:"receptionist2@hotel.com",displayName:"Receptionist 2",role:"front-desk",permissions:["dashboard:view","requests:view","calls:view"],isActive:!1,lastLogin:"2024-01-10T14:20:00Z",createdAt:"2024-01-05T08:30:00Z",updatedAt:"2024-01-10T14:20:00Z"}],k=async()=>{try{i(!0),setTimeout(()=>{n(C),i(!1)},1e3)}catch(S){console.error("Failed to fetch staff:",S),i(!1)}},B=async S=>{try{if(w(!0),await new Promise(N=>setTimeout(N,1e3)),j)n(N=>N.map(z=>z.id===j.id?{...z,...S,updatedAt:new Date().toISOString()}:z)),p(!1);else{const N={id:Date.now().toString(),...S,permissions:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};n(z=>[...z,N]),x(!1)}v(null)}catch(N){console.error("Failed to save staff:",N)}finally{w(!1)}},F=async S=>{try{await new Promise(N=>setTimeout(N,500)),n(N=>N.filter(z=>z.id!==S))}catch(N){console.error("Failed to delete staff:",N)}},A=async S=>{try{n(N=>N.map(z=>z.id===S?{...z,isActive:!z.isActive,updatedAt:new Date().toISOString()}:z))}catch(N){console.error("Failed to toggle staff status:",N)}},_=s.filter(S=>{const N=S.displayName.toLowerCase().includes(r.toLowerCase())||S.username.toLowerCase().includes(r.toLowerCase())||S.email.toLowerCase().includes(r.toLowerCase()),z=o==="all"||S.role===o,$=d==="all"||d==="active"&&S.isActive||d==="inactive"&&!S.isActive;return N&&z&&$});return h.useEffect(()=>{k()},[]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Qun l nhn vin"}),e.jsx("p",{className:"text-gray-600",children:"Thm, sa, xa ti khon nhn vin v qun l quyn hn"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(I,{variant:"outline",onClick:k,disabled:a,children:[e.jsx(me,{className:D("h-4 w-4 mr-2",a&&"animate-spin")}),"Lm mi"]}),e.jsxs(I,{onClick:()=>x(!0),children:[e.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Thm nhn vin"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"h-5 w-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Tng nhn vin"}),e.jsx("p",{className:"text-2xl font-bold",children:s.length})]})]})})}),e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Tn,{className:"h-5 w-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"ang hot ng"}),e.jsx("p",{className:"text-2xl font-bold",children:s.filter(S=>S.isActive).length})]})]})})}),e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-5 w-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Qun l"}),e.jsx("p",{className:"text-2xl font-bold",children:s.filter(S=>S.role==="hotel-manager").length})]})]})})}),e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"h-5 w-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"L tn"}),e.jsx("p",{className:"text-2xl font-bold",children:s.filter(S=>S.role==="front-desk").length})]})]})})})]}),e.jsxs(M,{children:[e.jsx(V,{children:e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(ya,{className:"h-5 w-5"}),"B lc"]})}),e.jsx(L,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{children:"Tm kim"}),e.jsxs("div",{className:"relative",children:[e.jsx(It,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(K,{placeholder:"Tn, username, email...",value:r,onChange:S=>l(S.target.value),className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx(E,{children:"Vai tr"}),e.jsxs(be,{value:o,onValueChange:c,children:[e.jsx(ve,{children:e.jsx(we,{})}),e.jsxs(je,{children:[e.jsx(q,{value:"all",children:"Tt c vai tr"}),Object.entries(on).map(([S,N])=>e.jsx(q,{value:S,children:N.label},S))]})]})]}),e.jsxs("div",{children:[e.jsx(E,{children:"Trng thi"}),e.jsxs(be,{value:d,onValueChange:u,children:[e.jsx(ve,{children:e.jsx(we,{})}),e.jsxs(je,{children:[e.jsx(q,{value:"all",children:"Tt c"}),e.jsx(q,{value:"active",children:"Hot ng"}),e.jsx(q,{value:"inactive",children:"Ngng hot ng"})]})]})]})]})})]}),e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Danh sch nhn vin"}),e.jsxs(J,{children:["Hin th ",_.length," / ",s.length," nhn vin"]})]}),e.jsx(L,{children:a?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(me,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{children:"ang ti..."})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Le,{children:[e.jsx(Q,{children:"Nhn vin"}),e.jsx(Q,{children:"Vai tr"}),e.jsx(Q,{children:"Trng thi"}),e.jsx(Q,{children:"Ln ng nhp cui"}),e.jsx(Q,{children:"Thao tc"})]})}),e.jsx(yt,{children:_.map(S=>{const N=on[S.role];return e.jsxs(Le,{children:[e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx(Ue,{className:"h-5 w-5 text-gray-500"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:S.displayName}),e.jsxs("div",{className:"text-sm text-gray-500",children:["@",S.username,"  ",S.email]})]})]})}),e.jsx(Y,{children:e.jsxs(Z,{variant:"outline",className:N.color,children:[N.icon,e.jsx("span",{className:"ml-1",children:N.label})]})}),e.jsx(Y,{children:e.jsx(Z,{variant:S.isActive?"default":"secondary",children:S.isActive?e.jsxs(e.Fragment,{children:[e.jsx(Tn,{className:"h-3 w-3 mr-1"}),"Hot ng"]}):e.jsxs(e.Fragment,{children:[e.jsx(ls,{className:"h-3 w-3 mr-1"}),"Ngng"]})})}),e.jsx(Y,{children:e.jsx("div",{className:"text-sm",children:S.lastLogin?e.jsxs(e.Fragment,{children:[e.jsx("div",{children:new Date(S.lastLogin).toLocaleDateString()}),e.jsx("div",{className:"text-gray-500",children:new Date(S.lastLogin).toLocaleTimeString()})]}):e.jsx("span",{className:"text-gray-400",children:"Cha ng nhp"})})}),e.jsx(Y,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>{v(S),y(!0)},children:e.jsx(Te,{className:"h-4 w-4"})}),e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>{v(S),p(!0)},children:e.jsx(Ht,{className:"h-4 w-4"})}),e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>A(S.id),children:S.isActive?e.jsx(ls,{className:"h-4 w-4"}):e.jsx(Tn,{className:"h-4 w-4"})}),e.jsxs(Rc,{children:[e.jsx($c,{asChild:!0,children:e.jsx(I,{variant:"ghost",size:"sm",children:e.jsx(Vt,{className:"h-4 w-4"})})}),e.jsxs(Ka,{children:[e.jsxs(Xa,{children:[e.jsx(Ya,{children:"Xc nhn xa"}),e.jsxs(Za,{children:['Bn c chc mun xa nhn vin "',S.displayName,'"? Hnh ng ny khng th hon tc.']})]}),e.jsxs(Qa,{children:[e.jsx(ei,{children:"Hy"}),e.jsx(Ja,{onClick:()=>F(S.id),className:"bg-red-600 hover:bg-red-700",children:"Xa"})]})]})]})]})})]},S.id)})})]})})})]}),e.jsx(Gi,{isOpen:m,onClose:()=>x(!1),onSubmit:B,loading:b}),e.jsx(Gi,{isOpen:f,onClose:()=>{p(!1),v(null)},onSubmit:B,staff:j,loading:b}),e.jsx(u4,{staff:j,isOpen:g,onClose:()=>{y(!1),v(null)}})]})},Ui={cpu:{usage:45.2,cores:4,temperature:62,processes:156},memory:{used:6.8,total:16,available:9.2,usage:42.5},disk:{used:85.4,total:500,available:414.6,usage:17.1},network:{downloadSpeed:125.5,uploadSpeed:25.2,latency:12,status:"connected"},database:{connections:15,queries:1250,responseTime:45,status:"healthy"},services:[{name:"Hotel API",status:"running",uptime:"15d 4h 23m",memory:256,cpu:12.5},{name:"Database",status:"running",uptime:"15d 4h 23m",memory:512,cpu:8.2},{name:"Web Server",status:"running",uptime:"15d 4h 23m",memory:128,cpu:5.1},{name:"Socket Server",status:"running",uptime:"15d 4h 23m",memory:64,cpu:3.8},{name:"Email Service",status:"error",uptime:"0d 0h 0m",memory:0,cpu:0}]},Wi=[{id:"1",type:"error",title:"Email Service Down",message:"Email service has been down for 2 hours",timestamp:"2024-01-15T10:30:00Z",resolved:!1},{id:"2",type:"warning",title:"High Memory Usage",message:"System memory usage is above 80%",timestamp:"2024-01-15T09:15:00Z",resolved:!1},{id:"3",type:"info",title:"Database Backup Completed",message:"Daily database backup completed successfully",timestamp:"2024-01-15T02:00:00Z",resolved:!0}],Ki=[{id:"1",timestamp:"2024-01-15T10:35:22Z",level:"ERROR",service:"EmailService",message:"Failed to connect to SMTP server",details:"Connection timeout after 30 seconds"},{id:"2",timestamp:"2024-01-15T10:30:15Z",level:"WARN",service:"HotelAPI",message:"High response time detected",details:"Average response time: 2.5s (threshold: 1s)"},{id:"3",timestamp:"2024-01-15T10:25:08Z",level:"INFO",service:"Database",message:"Query executed successfully",details:"SELECT * FROM requests - 156 rows returned"},{id:"4",timestamp:"2024-01-15T10:20:03Z",level:"DEBUG",service:"WebServer",message:"Static file served",details:"GET /assets/logo.png - 200 OK"}],x4=[{time:"00:00",cpu:35,memory:40,disk:15},{time:"04:00",cpu:28,memory:35,disk:15},{time:"08:00",cpu:45,memory:50,disk:18},{time:"12:00",cpu:65,memory:60,disk:22},{time:"16:00",cpu:55,memory:58,disk:20},{time:"20:00",cpu:42,memory:45,disk:17},{time:"24:00",cpu:35,memory:40,disk:15}],p4=({metrics:t})=>{const s=a=>a<50?"text-green-600":a<80?"text-yellow-600":"text-red-600",n=a=>{switch(a){case"running":case"connected":case"healthy":return e.jsx(Be,{className:"h-4 w-4 text-green-500"});case"error":return e.jsx(Ms,{className:"h-4 w-4 text-red-500"});case"stopped":return e.jsx(os,{className:"h-4 w-4 text-yellow-500"});default:return e.jsx(Ne,{className:"h-4 w-4 text-gray-500"})}};return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(M,{children:e.jsxs(L,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($h,{className:"h-5 w-5 text-blue-500"}),e.jsx("span",{className:"font-medium",children:"CPU"})]}),e.jsxs("span",{className:D("text-lg font-bold",s(t.cpu.usage)),children:[t.cpu.usage,"%"]})]}),e.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[e.jsxs("div",{children:["Cores: ",t.cpu.cores]}),e.jsxs("div",{children:["Temperature: ",t.cpu.temperature,"C"]}),e.jsxs("div",{children:["Processes: ",t.cpu.processes]})]})]})}),e.jsx(M,{children:e.jsxs(L,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xn,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{className:"font-medium",children:"Memory"})]}),e.jsxs("span",{className:D("text-lg font-bold",s(t.memory.usage)),children:[t.memory.usage,"%"]})]}),e.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[e.jsxs("div",{children:["Used: ",t.memory.used,"GB"]}),e.jsxs("div",{children:["Total: ",t.memory.total,"GB"]}),e.jsxs("div",{children:["Available: ",t.memory.available,"GB"]})]})]})}),e.jsx(M,{children:e.jsxs(L,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ws,{className:"h-5 w-5 text-purple-500"}),e.jsx("span",{className:"font-medium",children:"Disk"})]}),e.jsxs("span",{className:D("text-lg font-bold",s(t.disk.usage)),children:[t.disk.usage,"%"]})]}),e.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[e.jsxs("div",{children:["Used: ",t.disk.used,"GB"]}),e.jsxs("div",{children:["Total: ",t.disk.total,"GB"]}),e.jsxs("div",{children:["Available: ",t.disk.available,"GB"]})]})]})}),e.jsx(M,{children:e.jsxs(L,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_a,{className:"h-5 w-5 text-blue-500"}),e.jsx("span",{className:"font-medium",children:"Network"})]}),n(t.network.status)]}),e.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[e.jsxs("div",{children:["Download: ",t.network.downloadSpeed," Mbps"]}),e.jsxs("div",{children:["Upload: ",t.network.uploadSpeed," Mbps"]}),e.jsxs("div",{children:["Latency: ",t.network.latency,"ms"]})]})]})}),e.jsx(M,{children:e.jsxs(L,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Wt,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{className:"font-medium",children:"Database"})]}),n(t.database.status)]}),e.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[e.jsxs("div",{children:["Connections: ",t.database.connections]}),e.jsxs("div",{children:["Queries: ",t.database.queries]}),e.jsxs("div",{children:["Response: ",t.database.responseTime,"ms"]})]})]})}),e.jsx(M,{children:e.jsxs(L,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Sa,{className:"h-5 w-5 text-orange-500"}),e.jsx("span",{className:"font-medium",children:"Services"})]}),e.jsxs("span",{className:"text-lg font-bold text-green-600",children:[t.services.filter(a=>a.status==="running").length,"/",t.services.length]})]}),e.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[e.jsxs("div",{children:["Running: ",t.services.filter(a=>a.status==="running").length]}),e.jsxs("div",{children:["Stopped: ",t.services.filter(a=>a.status==="stopped").length]}),e.jsxs("div",{children:["Error: ",t.services.filter(a=>a.status==="error").length]})]})]})})]})},f4=({alerts:t})=>{const s=i=>{switch(i){case"error":return e.jsx(Ms,{className:"h-4 w-4 text-red-500"});case"warning":return e.jsx(os,{className:"h-4 w-4 text-yellow-500"});case"info":return e.jsx(Ys,{className:"h-4 w-4 text-blue-500"});default:return e.jsx(Ne,{className:"h-4 w-4 text-gray-500"})}},n=i=>{switch(i){case"error":return"border-red-200 bg-red-50";case"warning":return"border-yellow-200 bg-yellow-50";case"info":return"border-blue-200 bg-blue-50";default:return"border-gray-200 bg-gray-50"}},a=t.filter(i=>!i.resolved);return e.jsx("div",{className:"space-y-3",children:a.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Be,{className:"h-12 w-12 mx-auto mb-4 text-green-500"}),e.jsx("p",{children:"Khng c cnh bo no"})]}):a.map(i=>e.jsx("div",{className:D("border rounded-lg p-4",n(i.type)),children:e.jsxs("div",{className:"flex items-start gap-3",children:[s(i.type),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h4",{className:"font-medium",children:i.title}),e.jsx("span",{className:"text-sm text-gray-500",children:new Date(i.timestamp).toLocaleTimeString()})]}),e.jsx("p",{className:"text-sm text-gray-600",children:i.message})]})]})},i.id))})},g4=({services:t})=>{const s=n=>{switch(n){case"running":return e.jsx(Z,{className:"bg-green-100 text-green-800",children:"Running"});case"stopped":return e.jsx(Z,{className:"bg-gray-100 text-gray-800",children:"Stopped"});case"error":return e.jsx(Z,{className:"bg-red-100 text-red-800",children:"Error"});default:return e.jsx(Z,{variant:"secondary",children:"Unknown"})}};return e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-3",children:"Service"}),e.jsx("th",{className:"text-left p-3",children:"Status"}),e.jsx("th",{className:"text-left p-3",children:"Uptime"}),e.jsx("th",{className:"text-left p-3",children:"Memory"}),e.jsx("th",{className:"text-left p-3",children:"CPU"}),e.jsx("th",{className:"text-left p-3",children:"Actions"})]})}),e.jsx("tbody",{children:t.map((n,a)=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-3 font-medium",children:n.name}),e.jsx("td",{className:"p-3",children:s(n.status)}),e.jsx("td",{className:"p-3 text-sm text-gray-600",children:n.uptime}),e.jsxs("td",{className:"p-3 text-sm",children:[n.memory,"MB"]}),e.jsxs("td",{className:"p-3 text-sm",children:[n.cpu,"%"]}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{variant:"ghost",size:"sm",children:e.jsx(Lt,{className:"h-4 w-4"})}),e.jsx(I,{variant:"ghost",size:"sm",children:e.jsx(Je,{className:"h-4 w-4"})}),e.jsx(I,{variant:"ghost",size:"sm",children:e.jsx(me,{className:"h-4 w-4"})})]})})]},a))})]})})},v4=({logs:t})=>{const[s,n]=h.useState(null),a=i=>{switch(i){case"ERROR":return"bg-red-100 text-red-800";case"WARN":return"bg-yellow-100 text-yellow-800";case"INFO":return"bg-blue-100 text-blue-800";case"DEBUG":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return e.jsx("div",{className:"space-y-2",children:t.map(i=>e.jsx("div",{className:"border rounded-lg p-3 hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Z,{variant:"outline",className:D("text-xs",a(i.level)),children:i.level}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"font-medium text-sm",children:i.service}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(i.timestamp).toLocaleString()})]}),e.jsx("p",{className:"text-sm text-gray-700",children:i.message}),i.details&&e.jsx("p",{className:"text-xs text-gray-500 mt-1 font-mono",children:i.details})]})]})},i.id))})},j4=()=>{const{user:t}=De(),[s,n]=h.useState(Ui),[a,i]=h.useState(Wi),[r,l]=h.useState(Ki),[o,c]=h.useState(!1),[d,u]=h.useState(!0),m=async()=>{try{c(!0),setTimeout(()=>{n(Ui),i(Wi),l(Ki),c(!1)},1e3)}catch(x){console.error("Failed to fetch metrics:",x),c(!1)}};return h.useEffect(()=>{if(m(),d){const x=setInterval(m,3e4);return()=>clearInterval(x)}},[d]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Gim st h thng"}),e.jsx("p",{className:"text-gray-600",children:"Theo di hiu sut, trng thi v logs h thng"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(I,{variant:"outline",onClick:()=>u(!d),className:d?"bg-green-50":"",children:[e.jsx(bt,{className:"h-4 w-4 mr-2"}),d?"Auto ON":"Auto OFF"]}),e.jsxs(I,{variant:"outline",onClick:m,disabled:o,children:[e.jsx(me,{className:D("h-4 w-4 mr-2",o&&"animate-spin")}),"Lm mi"]}),e.jsxs(I,{variant:"outline",children:[e.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Xut bo co"]})]})]}),e.jsx(p4,{metrics:s}),e.jsxs(dt,{defaultValue:"performance",className:"space-y-4",children:[e.jsxs(nt,{className:"grid w-full grid-cols-4",children:[e.jsx(oe,{value:"performance",children:"Hiu sut"}),e.jsx(oe,{value:"alerts",children:"Cnh bo"}),e.jsx(oe,{value:"services",children:"Dch v"}),e.jsx(oe,{value:"logs",children:"Logs"})]}),e.jsx(ce,{value:"performance",className:"space-y-4",children:e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Hiu sut h thng 24h"}),e.jsx(J,{children:"CPU, Memory v Disk usage"})]}),e.jsx(L,{children:e.jsx(mt,{width:"100%",height:300,children:e.jsxs(ha,{data:x4,children:[e.jsx(es,{strokeDasharray:"3 3"}),e.jsx(ts,{dataKey:"time"}),e.jsx(ss,{}),e.jsx(xt,{}),e.jsx(vs,{type:"monotone",dataKey:"cpu",stroke:"#8884d8",strokeWidth:2}),e.jsx(vs,{type:"monotone",dataKey:"memory",stroke:"#82ca9d",strokeWidth:2}),e.jsx(vs,{type:"monotone",dataKey:"disk",stroke:"#ffc658",strokeWidth:2})]})})})]})}),e.jsx(ce,{value:"alerts",className:"space-y-4",children:e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"h-5 w-5"}),"Cnh bo h thng"]}),e.jsxs(J,{children:[a.filter(x=>!x.resolved).length," cnh bo cha x l"]})]}),e.jsx(L,{children:e.jsx(f4,{alerts:a})})]})}),e.jsx(ce,{value:"services",className:"space-y-4",children:e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Dch v h thng"}),e.jsx(J,{children:"Trng thi v hiu sut cc dch v"})]}),e.jsx(L,{children:e.jsx(g4,{services:s.services})})]})}),e.jsx(ce,{value:"logs",className:"space-y-4",children:e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(Vh,{className:"h-5 w-5"}),"System Logs"]}),e.jsx(J,{children:"Logs h thng gn y"})]}),e.jsx(L,{children:e.jsx(v4,{logs:r})})]})})]})]})};var y4="Separator",Xi="horizontal",b4=["horizontal","vertical"],qc=h.forwardRef((t,s)=>{const{decorative:n,orientation:a=Xi,...i}=t,r=w4(a)?a:Xi,o=n?{role:"none"}:{"aria-orientation":r==="vertical"?r:void 0,role:"separator"};return e.jsx(ye.div,{"data-orientation":r,...o,...i,ref:s})});qc.displayName=y4;function w4(t){return b4.includes(t)}var Hc=qc;const gs=h.forwardRef(({className:t,orientation:s="horizontal",decorative:n=!0,...a},i)=>e.jsx(Hc,{ref:i,decorative:n,orientation:s,className:D("shrink-0 bg-border",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...a}));gs.displayName=Hc.displayName;const N4=()=>{const{user:t}=De(),[s,n]=h.useState(!1),[a,i]=h.useState("idle"),[r,l]=h.useState({hotelName:"Minh Hng Hotel",description:"Premium hotel with AI-powered guest services",address:"123 Nguyen Hue Street, District 1, Ho Chi Minh City",phone:"+84 28 3823 4567",email:"info@minhhonghotel.com",website:"https://minhhonghotel.com",timezone:"Asia/Ho_Chi_Minh",language:"vi",currency:"VND"}),[o,c]=h.useState({enabled:!0,name:"Minh Hng Assistant",language:"vi",responseDelay:500,enableSmallTalk:!0,enableTranscription:!0,confidenceThreshold:.8,customInstructions:"Bn l tr l AI ca khch sn Minh Hng. Lun lch s, nhit tnh v chuyn nghip."}),[d,u]=h.useState({emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,newRequestAlert:!0,systemAlerts:!0,dailyReports:!0}),m=async()=>{n(!0),i("saving");try{await new Promise(x=>setTimeout(x,1e3)),i("success"),setTimeout(()=>i("idle"),2e3)}catch{i("error"),setTimeout(()=>i("idle"),2e3)}finally{n(!1)}};return s?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(me,{className:"h-8 w-8 animate-spin text-blue-600"}),e.jsx("span",{className:"ml-2",children:"ang ti ci t..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ci t h thng"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Qun l cu hnh khch sn, AI Assistant v cc tnh nng khc"})]}),e.jsxs(dt,{defaultValue:"general",className:"space-y-6",children:[e.jsxs(nt,{className:"grid w-full grid-cols-4",children:[e.jsxs(oe,{value:"general",className:"flex items-center gap-2",children:[e.jsx(Qs,{className:"h-4 w-4"}),"Chung"]}),e.jsxs(oe,{value:"ai",className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"h-4 w-4"}),"AI Assistant"]}),e.jsxs(oe,{value:"notifications",className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"h-4 w-4"}),"Thng bo"]}),e.jsxs(oe,{value:"security",className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-4 w-4"}),"Bo mt"]})]}),e.jsx(ce,{value:"general",children:e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(Qs,{className:"h-5 w-5"}),"Ci t chung"]}),e.jsx(J,{children:"Thng tin c bn v khch sn v cu hnh h thng"})]}),e.jsxs(L,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"hotelName",children:"Tn khch sn"}),e.jsx(K,{id:"hotelName",value:r.hotelName,onChange:x=>l({...r,hotelName:x.target.value}),placeholder:"Tn khch sn"})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"phone",children:"S in thoi"}),e.jsx(K,{id:"phone",value:r.phone,onChange:x=>l({...r,phone:x.target.value}),placeholder:"+84 28 3823 4567"})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"email",children:"Email"}),e.jsx(K,{id:"email",type:"email",value:r.email,onChange:x=>l({...r,email:x.target.value}),placeholder:"info@hotel.com"})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"website",children:"Website"}),e.jsx(K,{id:"website",value:r.website,onChange:x=>l({...r,website:x.target.value}),placeholder:"https://hotel.com"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"description",children:"M t"}),e.jsx(qe,{id:"description",value:r.description,onChange:x=>l({...r,description:x.target.value}),placeholder:"M t v khch sn...",rows:3})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"address",children:"a ch"}),e.jsx(qe,{id:"address",value:r.address,onChange:x=>l({...r,address:x.target.value}),placeholder:"a ch y ",rows:3})]})]})]}),e.jsx(gs,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[a==="success"&&e.jsxs(e.Fragment,{children:[e.jsx(Be,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm text-green-600",children:" lu thnh cng"})]}),a==="error"&&e.jsxs(e.Fragment,{children:[e.jsx(Ne,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-sm text-red-600",children:"Li khi lu"})]})]}),e.jsx(I,{onClick:m,disabled:s,children:s?e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}),"ang lu..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Lu thay i"]})})]})]})]})}),e.jsx(ce,{value:"ai",children:e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"h-5 w-5"}),"Ci t AI Assistant"]}),e.jsx(J,{children:"Cu hnh tr l AI cho dch v khch hng"})]}),e.jsxs(L,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium",children:"AI Assistant"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Kch hot tr l AI cho dch v khch hng"})]}),e.jsx(ue,{checked:o.enabled,onCheckedChange:x=>c({...o,enabled:x})})]}),e.jsx(gs,{}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"assistantName",children:"Tn tr l"}),e.jsx(K,{id:"assistantName",value:o.name,onChange:x=>c({...o,name:x.target.value}),placeholder:"Tn tr l AI"})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"responseDelay",children:" tr phn hi (ms)"}),e.jsx(K,{id:"responseDelay",type:"number",value:o.responseDelay,onChange:x=>c({...o,responseDelay:parseInt(x.target.value)}),min:"0",max:"5000"})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"confidenceThreshold",children:"Ngng tin cy"}),e.jsx(K,{id:"confidenceThreshold",type:"number",step:"0.1",value:o.confidenceThreshold,onChange:x=>c({...o,confidenceThreshold:parseFloat(x.target.value)}),min:"0",max:"1"})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(E,{htmlFor:"enableSmallTalk",children:"Kch hot tr chuyn phim"}),e.jsx(ue,{id:"enableSmallTalk",checked:o.enableSmallTalk,onCheckedChange:x=>c({...o,enableSmallTalk:x})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(E,{htmlFor:"enableTranscription",children:"Kch hot chuyn i vn bn"}),e.jsx(ue,{id:"enableTranscription",checked:o.enableTranscription,onCheckedChange:x=>c({...o,enableTranscription:x})})]})]})})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"customInstructions",children:"Hng dn ty chnh"}),e.jsx(qe,{id:"customInstructions",value:o.customInstructions,onChange:x=>c({...o,customInstructions:x.target.value}),placeholder:"Hng dn chi tit cho AI v cch phc v khch hng...",rows:4})]}),e.jsx(gs,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[a==="success"&&e.jsxs(e.Fragment,{children:[e.jsx(Be,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm text-green-600",children:" lu thnh cng"})]}),a==="error"&&e.jsxs(e.Fragment,{children:[e.jsx(Ne,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-sm text-red-600",children:"Li khi lu"})]})]}),e.jsx(I,{onClick:m,disabled:s,children:s?e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}),"ang lu..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Lu cu hnh"]})})]})]})]})}),e.jsx(ce,{value:"notifications",children:e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"h-5 w-5"}),"Ci t thng bo"]}),e.jsx(J,{children:"Qun l cch thc nhn thng bo v cnh bo"})]}),e.jsxs(L,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Knh thng bo"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(E,{children:"Email notifications"}),e.jsx(ue,{checked:d.emailNotifications,onCheckedChange:x=>u({...d,emailNotifications:x})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(E,{children:"SMS notifications"}),e.jsx(ue,{checked:d.smsNotifications,onCheckedChange:x=>u({...d,smsNotifications:x})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(E,{children:"Push notifications"}),e.jsx(ue,{checked:d.pushNotifications,onCheckedChange:x=>u({...d,pushNotifications:x})})]})]})]})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Loi thng bo"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(E,{children:"Yu cu mi"}),e.jsx(ue,{checked:d.newRequestAlert,onCheckedChange:x=>u({...d,newRequestAlert:x})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(E,{children:"Cnh bo h thng"}),e.jsx(ue,{checked:d.systemAlerts,onCheckedChange:x=>u({...d,systemAlerts:x})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(E,{children:"Bo co hng ngy"}),e.jsx(ue,{checked:d.dailyReports,onCheckedChange:x=>u({...d,dailyReports:x})})]})]})]})})]}),e.jsx(gs,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[a==="success"&&e.jsxs(e.Fragment,{children:[e.jsx(Be,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm text-green-600",children:" lu thnh cng"})]}),a==="error"&&e.jsxs(e.Fragment,{children:[e.jsx(Ne,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-sm text-red-600",children:"Li khi lu"})]})]}),e.jsx(I,{onClick:m,disabled:s,children:s?e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}),"ang lu..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Lu ci t"]})})]})]})]})}),e.jsx(ce,{value:"security",children:e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-5 w-5"}),"Ci t bo mt"]}),e.jsx(J,{children:"Qun l bo mt ti khon v h thng"})]}),e.jsx(L,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Te,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Ci t bo mt"}),e.jsx("p",{className:"text-gray-600",children:"Cc ty chn bo mt nng cao s sm ra mt"})]})})]})})]})]})},Qi=[{id:"1",firstName:"Nguyen",lastName:"Van A",email:"nguyenvana@email.com",phone:"+84 90 123 4567",nationality:"Vietnam",dateOfBirth:"1985-03-15",idNumber:"123456789",address:"123 Le Loi Street",city:"Ho Chi Minh City",country:"Vietnam",zipCode:"700000",preferredLanguage:"vi",membershipTier:"gold",totalStays:12,totalSpent:45e6,averageRating:4.8,notes:"VIP customer, prefers quiet rooms",createdAt:"2023-01-15T10:00:00Z",updatedAt:"2024-01-10T14:30:00Z",lastStay:"2024-01-10T14:30:00Z",status:"vip",preferences:{roomType:"Suite",floorPreference:"High floor",smokingPreference:"Non-smoking",bedPreference:"King bed",specialRequests:["Late check-out","Extra towels"]}},{id:"2",firstName:"Kim",lastName:"Min Jun",email:"kim.minjun@email.com",phone:"+82 10 9876 5432",nationality:"South Korea",dateOfBirth:"1990-07-22",idNumber:"KOR987654321",address:"456 Gangnam-gu",city:"Seoul",country:"South Korea",zipCode:"06543",preferredLanguage:"ko",membershipTier:"silver",totalStays:5,totalSpent:18e6,averageRating:4.5,notes:"Business traveler, needs early breakfast",createdAt:"2023-08-20T09:00:00Z",updatedAt:"2024-01-05T11:15:00Z",lastStay:"2024-01-05T11:15:00Z",status:"active",preferences:{roomType:"Deluxe",floorPreference:"Mid floor",smokingPreference:"Non-smoking",bedPreference:"Twin beds",specialRequests:["Early breakfast","Business center access"]}},{id:"3",firstName:"Sarah",lastName:"Johnson",email:"sarah.johnson@email.com",phone:"+1 555 123 4567",nationality:"United States",dateOfBirth:"1988-12-03",idNumber:"USA123456789",address:"789 Broadway",city:"New York",country:"United States",zipCode:"10001",preferredLanguage:"en",membershipTier:"platinum",totalStays:25,totalSpent:95e6,averageRating:4.9,notes:"Frequent traveler, allergic to shellfish",createdAt:"2022-05-10T16:00:00Z",updatedAt:"2024-01-12T09:45:00Z",lastStay:"2024-01-12T09:45:00Z",status:"vip",preferences:{roomType:"Presidential Suite",floorPreference:"Top floor",smokingPreference:"Non-smoking",bedPreference:"King bed",specialRequests:["Shellfish allergy","Concierge service","Airport transfer"]}}],S4=[{id:"1",guestId:"1",roomNumber:"2101",roomType:"Suite",checkIn:"2024-01-10T15:00:00Z",checkOut:"2024-01-13T11:00:00Z",guests:2,totalAmount:12e6,status:"checked-out",paymentStatus:"paid",specialRequests:["Late check-out","Extra towels"],rating:5,review:"Excellent service and room quality",createdAt:"2024-01-05T10:00:00Z"},{id:"2",guestId:"2",roomNumber:"1505",roomType:"Deluxe",checkIn:"2024-01-05T14:00:00Z",checkOut:"2024-01-07T12:00:00Z",guests:1,totalAmount:6e6,status:"checked-out",paymentStatus:"paid",specialRequests:["Early breakfast"],rating:4,review:"Good stay, helpful staff",createdAt:"2024-01-01T09:00:00Z"}],C4=[{id:"1",guestId:"1",note:"Guest requested room upgrade, complimentary provided",type:"general",staffMember:"Front Desk Staff",createdAt:"2024-01-10T16:00:00Z"},{id:"2",guestId:"1",note:"Prefers high floor rooms with city view",type:"preference",staffMember:"Front Desk Staff",createdAt:"2024-01-10T15:30:00Z"}],Vc=t=>{switch(t){case"platinum":return"bg-purple-100 text-purple-800";case"gold":return"bg-yellow-100 text-yellow-800";case"silver":return"bg-gray-100 text-gray-800";case"bronze":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},Gc=t=>{switch(t){case"vip":return"bg-purple-100 text-purple-800";case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},_4=t=>{switch(t){case"confirmed":return"bg-blue-100 text-blue-800";case"checked-in":return"bg-green-100 text-green-800";case"checked-out":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},sa=t=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",maximumFractionDigits:0}).format(t),Xs=t=>new Date(t).toLocaleDateString("vi-VN",{year:"numeric",month:"short",day:"numeric"}),k4=({guest:t,isOpen:s,onClose:n,onUpdate:a})=>{const[i,r]=h.useState(!1),[l,o]=h.useState(t),[c,d]=h.useState(!1);h.useEffect(()=>{o(t)},[t]);const u=async()=>{if(l){d(!0);try{await new Promise(m=>setTimeout(m,1e3)),a(l),r(!1)}catch(m){console.error("Failed to update guest:",m)}finally{d(!1)}}};return!t||!l?null:e.jsx(Rt,{open:s,onOpenChange:n,children:e.jsxs(wt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Nt,{children:[e.jsxs(St,{className:"flex items-center gap-2",children:[e.jsx(Ca,{className:"h-5 w-5"}),t.firstName," ",t.lastName,e.jsx(Z,{className:D("ml-2",Vc(t.membershipTier)),children:t.membershipTier.toUpperCase()}),e.jsx(Z,{className:D("ml-1",Gc(t.status)),children:t.status.toUpperCase()})]}),e.jsx($t,{children:"Chi tit thng tin khch hng v lch s t phng"})]}),e.jsxs(dt,{defaultValue:"info",className:"w-full",children:[e.jsxs(nt,{className:"grid w-full grid-cols-3",children:[e.jsx(oe,{value:"info",children:"Thng tin"}),e.jsx(oe,{value:"bookings",children:"Lch s t phng"}),e.jsx(oe,{value:"notes",children:"Ghi ch"})]}),e.jsxs(ce,{value:"info",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Thng tin c nhn"}),e.jsxs(I,{variant:"outline",size:"sm",onClick:()=>r(!i),children:[e.jsx(Ht,{className:"h-4 w-4 mr-2"}),i?"Hy":"Chnh sa"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"firstName",children:"H"}),e.jsx(K,{id:"firstName",value:l.firstName,onChange:m=>o({...l,firstName:m.target.value}),disabled:!i})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"lastName",children:"Tn"}),e.jsx(K,{id:"lastName",value:l.lastName,onChange:m=>o({...l,lastName:m.target.value}),disabled:!i})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"email",children:"Email"}),e.jsx(K,{id:"email",type:"email",value:l.email,onChange:m=>o({...l,email:m.target.value}),disabled:!i})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"phone",children:"S in thoi"}),e.jsx(K,{id:"phone",value:l.phone,onChange:m=>o({...l,phone:m.target.value}),disabled:!i})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"nationality",children:"Quc tch"}),e.jsx(K,{id:"nationality",value:l.nationality,onChange:m=>o({...l,nationality:m.target.value}),disabled:!i})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"dateOfBirth",children:"Ngy sinh"}),e.jsx(K,{id:"dateOfBirth",type:"date",value:l.dateOfBirth,onChange:m=>o({...l,dateOfBirth:m.target.value}),disabled:!i})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"idNumber",children:"S CMND/CCCD"}),e.jsx(K,{id:"idNumber",value:l.idNumber,onChange:m=>o({...l,idNumber:m.target.value}),disabled:!i})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"address",children:"a ch"}),e.jsx(qe,{id:"address",value:l.address,onChange:m=>o({...l,address:m.target.value}),disabled:!i,rows:2})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"city",children:"Thnh ph"}),e.jsx(K,{id:"city",value:l.city,onChange:m=>o({...l,city:m.target.value}),disabled:!i})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"country",children:"Quc gia"}),e.jsx(K,{id:"country",value:l.country,onChange:m=>o({...l,country:m.target.value}),disabled:!i})]})]})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"notes",children:"Ghi ch"}),e.jsx(qe,{id:"notes",value:l.notes,onChange:m=>o({...l,notes:m.target.value}),disabled:!i,rows:3})]}),i&&e.jsx("div",{className:"flex justify-end gap-2",children:e.jsx(I,{onClick:u,disabled:c,children:c?e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}),"ang lu..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Lu thay i"]})})})]}),e.jsxs(ce,{value:"bookings",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Lch s t phng"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Tng cng: ",t.totalStays," ln lu tr"]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:""}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Chi tiu: ",sa(t.totalSpent)]})]})]}),e.jsx("div",{className:"space-y-4",children:S4.filter(m=>m.guestId===t.id).map(m=>e.jsx(M,{children:e.jsxs(L,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-medium",children:["Phng ",m.roomNumber]}),e.jsx(Z,{variant:"outline",children:m.roomType}),e.jsx(Z,{className:D(_4(m.status)),children:m.status})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[Xs(m.checkIn)," - ",Xs(m.checkOut)]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"S khch:"})," ",m.guests]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Tng tin:"})," ",sa(m.totalAmount)]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"nh gi:"}),e.jsxs("div",{className:"flex items-center gap-1 ml-1",children:[[...Array(5)].map((x,f)=>e.jsx(ns,{className:D("h-3 w-3",f<m.rating?"fill-yellow-400 text-yellow-400":"text-gray-300")},f)),e.jsxs("span",{className:"ml-1",children:["(",m.rating,"/5)"]})]})]})]}),m.review&&e.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"nh gi:"})," ",m.review]})]})},m.id))})]}),e.jsxs(ce,{value:"notes",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Ghi ch dch v"}),e.jsxs(I,{size:"sm",children:[e.jsx(At,{className:"h-4 w-4 mr-2"}),"Thm ghi ch"]})]}),e.jsx("div",{className:"space-y-3",children:C4.filter(m=>m.guestId===t.id).map(m=>e.jsx(M,{children:e.jsxs(L,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(Z,{variant:"outline",children:m.type}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[m.staffMember,"  ",Xs(m.createdAt)]})]}),e.jsx("p",{className:"text-sm",children:m.note})]})},m.id))})]})]})]})})},T4=({isOpen:t,onClose:s,onAdd:n})=>{const[a,i]=h.useState({firstName:"",lastName:"",email:"",phone:"",nationality:"",dateOfBirth:"",idNumber:"",address:"",city:"",country:"",zipCode:"",preferredLanguage:"vi",membershipTier:"bronze",notes:""}),[r,l]=h.useState(!1),o=async c=>{c.preventDefault(),l(!0);try{await new Promise(u=>setTimeout(u,1e3));const d={id:Date.now().toString(),...a,totalStays:0,totalSpent:0,averageRating:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),lastStay:"",status:"active",preferences:{roomType:"",floorPreference:"",smokingPreference:"Non-smoking",bedPreference:"",specialRequests:[]}};n(d),s(),i({firstName:"",lastName:"",email:"",phone:"",nationality:"",dateOfBirth:"",idNumber:"",address:"",city:"",country:"",zipCode:"",preferredLanguage:"vi",membershipTier:"bronze",notes:""})}catch(d){console.error("Failed to add guest:",d)}finally{l(!1)}};return e.jsx(Rt,{open:t,onOpenChange:s,children:e.jsxs(wt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Nt,{children:[e.jsxs(St,{className:"flex items-center gap-2",children:[e.jsx(Ns,{className:"h-5 w-5"}),"Thm khch hng mi"]}),e.jsx($t,{children:"Nhp thng tin khch hng  to h s mi"})]}),e.jsxs("form",{onSubmit:o,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"firstName",children:"H *"}),e.jsx(K,{id:"firstName",value:a.firstName,onChange:c=>i({...a,firstName:c.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"lastName",children:"Tn *"}),e.jsx(K,{id:"lastName",value:a.lastName,onChange:c=>i({...a,lastName:c.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"email",children:"Email *"}),e.jsx(K,{id:"email",type:"email",value:a.email,onChange:c=>i({...a,email:c.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"phone",children:"S in thoi *"}),e.jsx(K,{id:"phone",value:a.phone,onChange:c=>i({...a,phone:c.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"nationality",children:"Quc tch"}),e.jsx(K,{id:"nationality",value:a.nationality,onChange:c=>i({...a,nationality:c.target.value})})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"dateOfBirth",children:"Ngy sinh"}),e.jsx(K,{id:"dateOfBirth",type:"date",value:a.dateOfBirth,onChange:c=>i({...a,dateOfBirth:c.target.value})})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"idNumber",children:"S CMND/CCCD"}),e.jsx(K,{id:"idNumber",value:a.idNumber,onChange:c=>i({...a,idNumber:c.target.value})})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"preferredLanguage",children:"Ngn ng a thch"}),e.jsxs(be,{value:a.preferredLanguage,onValueChange:c=>i({...a,preferredLanguage:c}),children:[e.jsx(ve,{children:e.jsx(we,{})}),e.jsxs(je,{children:[e.jsx(q,{value:"vi",children:"Ting Vit"}),e.jsx(q,{value:"en",children:"English"}),e.jsx(q,{value:"ko",children:""}),e.jsx(q,{value:"ja",children:""})]})]})]})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"address",children:"a ch"}),e.jsx(qe,{id:"address",value:a.address,onChange:c=>i({...a,address:c.target.value}),rows:2})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"city",children:"Thnh ph"}),e.jsx(K,{id:"city",value:a.city,onChange:c=>i({...a,city:c.target.value})})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"country",children:"Quc gia"}),e.jsx(K,{id:"country",value:a.country,onChange:c=>i({...a,country:c.target.value})})]})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"notes",children:"Ghi ch"}),e.jsx(qe,{id:"notes",value:a.notes,onChange:c=>i({...a,notes:c.target.value}),placeholder:"Thng tin b sung v khch hng...",rows:3})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(I,{type:"button",variant:"outline",onClick:s,children:"Hy"}),e.jsx(I,{type:"submit",disabled:r,children:r?e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}),"ang to..."]}):e.jsxs(e.Fragment,{children:[e.jsx(At,{className:"h-4 w-4 mr-2"}),"To khch hng"]})})]})]})]})})},E4=()=>{const{user:t}=De(),[s,n]=h.useState(Qi),[a,i]=h.useState(!1),[r,l]=h.useState(""),[o,c]=h.useState("all"),[d,u]=h.useState("all"),[m,x]=h.useState(null),[f,p]=h.useState(!1),[g,y]=h.useState(!1),j=s.filter(k=>{const B=!r||k.firstName.toLowerCase().includes(r.toLowerCase())||k.lastName.toLowerCase().includes(r.toLowerCase())||k.email.toLowerCase().includes(r.toLowerCase())||k.phone.includes(r),F=o==="all"||k.membershipTier===o,A=d==="all"||k.status===d;return B&&F&&A}),v=k=>{x(k),p(!0)},b=k=>{n(B=>B.map(F=>F.id===k.id?k:F)),x(k)},w=k=>{n(B=>[...B,k])},C=async()=>{i(!0);try{await new Promise(k=>setTimeout(k,1e3)),n(Qi)}catch(k){console.error("Failed to fetch guests:",k)}finally{i(!1)}};return h.useEffect(()=>{C()},[]),a?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(me,{className:"h-8 w-8 animate-spin text-green-600"}),e.jsx("span",{className:"ml-2",children:"ang ti danh sch khch hng..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Qun l khch hng"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Qun l thng tin khch hng v lch s lu tr"})]}),e.jsxs(I,{onClick:()=>y(!0),children:[e.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Thm khch hng"]})]}),e.jsxs(M,{children:[e.jsx(V,{children:e.jsx(G,{className:"text-lg",children:"Tm kim v lc"})}),e.jsx(L,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(It,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(K,{placeholder:"Tm kim theo tn, email hoc s in thoi...",value:r,onChange:k=>l(k.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(be,{value:o,onValueChange:c,children:[e.jsx(ve,{className:"w-[180px]",children:e.jsx(we,{placeholder:"Membership tier"})}),e.jsxs(je,{children:[e.jsx(q,{value:"all",children:"Tt c membership"}),e.jsx(q,{value:"bronze",children:"Bronze"}),e.jsx(q,{value:"silver",children:"Silver"}),e.jsx(q,{value:"gold",children:"Gold"}),e.jsx(q,{value:"platinum",children:"Platinum"})]})]}),e.jsxs(be,{value:d,onValueChange:u,children:[e.jsx(ve,{className:"w-[150px]",children:e.jsx(we,{placeholder:"Trng thi"})}),e.jsxs(je,{children:[e.jsx(q,{value:"all",children:"Tt c trng thi"}),e.jsx(q,{value:"active",children:"Active"}),e.jsx(q,{value:"inactive",children:"Inactive"}),e.jsx(q,{value:"vip",children:"VIP"})]})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Tng khch hng"}),e.jsx("p",{className:"text-2xl font-bold",children:s.length})]}),e.jsx(Ue,{className:"h-8 w-8 text-blue-500"})]})})}),e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Khch VIP"}),e.jsx("p",{className:"text-2xl font-bold",children:s.filter(k=>k.status==="vip").length})]}),e.jsx(ns,{className:"h-8 w-8 text-purple-500"})]})})}),e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Khch hng mi"}),e.jsx("p",{className:"text-2xl font-bold",children:s.filter(k=>new Date(k.createdAt)>new Date(Date.now()-30*24*60*60*1e3)).length})]}),e.jsx(Ns,{className:"h-8 w-8 text-green-500"})]})})}),e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"nh gi TB"}),e.jsx("p",{className:"text-2xl font-bold",children:(s.reduce((k,B)=>k+B.averageRating,0)/s.length).toFixed(1)})]}),e.jsx(ns,{className:"h-8 w-8 text-yellow-500"})]})})})]}),e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Danh sch khch hng"}),e.jsxs(J,{children:["Hin th ",j.length," trong tng s ",s.length," khch hng"]})]}),e.jsx(L,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Le,{children:[e.jsx(Q,{children:"Khch hng"}),e.jsx(Q,{children:"Lin h"}),e.jsx(Q,{children:"Membership"}),e.jsx(Q,{children:"Trng thi"}),e.jsx(Q,{children:"Ln lu tr"}),e.jsx(Q,{children:"Chi tiu"}),e.jsx(Q,{children:"nh gi"}),e.jsx(Q,{children:"Ln cui"}),e.jsx(Q,{children:"Hnh ng"})]})}),e.jsx(yt,{children:j.map(k=>e.jsxs(Le,{children:[e.jsx(Y,{children:e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[k.firstName," ",k.lastName]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:k.nationality})]})}),e.jsx(Y,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(wa,{className:"h-3 w-3"}),k.email]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(ot,{className:"h-3 w-3"}),k.phone]})]})}),e.jsx(Y,{children:e.jsx(Z,{className:Vc(k.membershipTier),children:k.membershipTier.toUpperCase()})}),e.jsx(Y,{children:e.jsx(Z,{className:Gc(k.status),children:k.status.toUpperCase()})}),e.jsx(Y,{children:k.totalStays}),e.jsx(Y,{children:sa(k.totalSpent)}),e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ns,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{children:k.averageRating})]})}),e.jsx(Y,{children:k.lastStay?Xs(k.lastStay):"Cha lu tr"}),e.jsx(Y,{children:e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>v(k),children:e.jsx(Lt,{className:"h-4 w-4"})})})]},k.id))})]})})})]}),e.jsx(k4,{guest:m,isOpen:f,onClose:()=>p(!1),onUpdate:b}),e.jsx(T4,{isOpen:g,onClose:()=>y(!1),onAdd:w})]})},Yi={firewall:{enabled:!0,rules:[{id:"1",name:"Allow HTTP",source:"any",destination:"server",port:80,protocol:"tcp",action:"allow",enabled:!0,createdAt:"2024-01-01T00:00:00Z"},{id:"2",name:"Allow HTTPS",source:"any",destination:"server",port:443,protocol:"tcp",action:"allow",enabled:!0,createdAt:"2024-01-01T00:00:00Z"},{id:"3",name:"Block Suspicious IP",source:"192.168.1.100",destination:"any",port:0,protocol:"tcp",action:"deny",enabled:!0,createdAt:"2024-01-10T10:00:00Z"}],allowedPorts:[80,443,22,25,587],blockedIPs:["192.168.1.100","10.0.0.50"],ddosProtection:!0,rateLimiting:!0},ssl:{enabled:!0,certificates:[{id:"1",domain:"minhhonghotel.com",issuer:"Let's Encrypt",validFrom:"2024-01-01T00:00:00Z",validTo:"2024-04-01T00:00:00Z",status:"valid",type:"ssl"},{id:"2",domain:"*.minhhonghotel.com",issuer:"DigiCert",validFrom:"2023-12-01T00:00:00Z",validTo:"2024-12-01T00:00:00Z",status:"valid",type:"wildcard"}],forceHttps:!0,hstsEnabled:!0,cipherSuites:["TLS_AES_256_GCM_SHA384","TLS_CHACHA20_POLY1305_SHA256"]},authentication:{mfaEnabled:!0,passwordPolicy:{minLength:8,requireUppercase:!0,requireNumbers:!0,requireSymbols:!0,expirationDays:90},sessionTimeout:30,maxLoginAttempts:5,lockoutDuration:15},monitoring:{logLevel:"info",alertsEnabled:!0,alertThresholds:{failedLogins:10,diskUsage:85,memoryUsage:90,cpuUsage:95},retentionPeriod:90},backup:{enabled:!0,schedule:"0 2 * * *",retention:30,encryption:!0,location:"AWS S3",lastBackup:"2024-01-15T02:00:00Z",status:"success"},compliance:{gdprCompliant:!0,pciCompliant:!1,iso27001:!0,auditEnabled:!0,dataRetentionDays:365}},Zi=[{id:"1",type:"authentication",severity:"high",message:"Multiple failed login attempts detected",timestamp:"2024-01-15T14:30:00Z",resolved:!1,details:"User attempted to login with incorrect credentials 8 times from IP 192.168.1.100"},{id:"2",type:"ssl",severity:"medium",message:"SSL certificate expiring soon",timestamp:"2024-01-15T10:00:00Z",resolved:!1,details:"Certificate for minhhonghotel.com will expire in 30 days"},{id:"3",type:"firewall",severity:"low",message:"Port scan detected",timestamp:"2024-01-15T08:15:00Z",resolved:!0,details:"Port scan from 10.0.0.50 was blocked by firewall"}],Ji=[{id:"1",timestamp:"2024-01-15T15:00:00Z",source:"auth",event:"LOGIN_SUCCESS",severity:"info",details:"User logged in successfully",ip:"192.168.1.50",user:"admin"},{id:"2",timestamp:"2024-01-15T14:45:00Z",source:"firewall",event:"BLOCKED_IP",severity:"warning",details:"Blocked connection from suspicious IP",ip:"192.168.1.100"},{id:"3",timestamp:"2024-01-15T14:30:00Z",source:"auth",event:"LOGIN_FAILED",severity:"error",details:"Failed login attempt",ip:"192.168.1.100",user:"admin"}],A4=t=>{switch(t){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},Es=t=>new Date(t).toLocaleDateString("vi-VN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),P4=({config:t,onUpdate:s})=>{const[n,a]=h.useState(!1),[i,r]=h.useState(!1),l=async()=>{a(!0);try{await new Promise(o=>setTimeout(o,1e3))}catch(o){console.error("Failed to save firewall config:",o)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-5 w-5"}),"Cu hnh Firewall"]}),e.jsx(J,{children:"Qun l tng la v bo mt mng"})]}),e.jsxs(L,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(E,{className:"text-base font-medium",children:"Kch hot Firewall"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Bt/tt tng la cho h thng"})]}),e.jsx(ue,{checked:t.enabled,onCheckedChange:o=>s({enabled:o})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(E,{children:"DDoS Protection"}),e.jsx(ue,{checked:t.ddosProtection,onCheckedChange:o=>s({ddosProtection:o})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(E,{children:"Rate Limiting"}),e.jsx(ue,{checked:t.rateLimiting,onCheckedChange:o=>s({rateLimiting:o})})]})]}),e.jsxs("div",{children:[e.jsx(E,{children:"Blocked IPs"}),e.jsx(qe,{value:t.blockedIPs.join(`
`),onChange:o=>s({blockedIPs:o.target.value.split(`
`).filter(c=>c.trim())}),placeholder:`192.168.1.100
10.0.0.50`,rows:3})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(I,{onClick:l,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}),"ang lu..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Lu cu hnh"]})})})]})]}),e.jsxs(M,{children:[e.jsx(V,{children:e.jsxs(G,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Firewall Rules"}),e.jsxs(I,{size:"sm",onClick:()=>r(!i),children:[e.jsx(At,{className:"h-4 w-4 mr-2"}),"Thm Rule"]})]})}),e.jsx(L,{children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Le,{children:[e.jsx(Q,{children:"Tn"}),e.jsx(Q,{children:"Source"}),e.jsx(Q,{children:"Destination"}),e.jsx(Q,{children:"Port"}),e.jsx(Q,{children:"Protocol"}),e.jsx(Q,{children:"Action"}),e.jsx(Q,{children:"Trng thi"}),e.jsx(Q,{children:"Hnh ng"})]})}),e.jsx(yt,{children:t.rules.map(o=>e.jsxs(Le,{children:[e.jsx(Y,{className:"font-medium",children:o.name}),e.jsx(Y,{children:o.source}),e.jsx(Y,{children:o.destination}),e.jsx(Y,{children:o.port}),e.jsx(Y,{children:o.protocol.toUpperCase()}),e.jsx(Y,{children:e.jsx(Z,{variant:o.action==="allow"?"default":"destructive",children:o.action.toUpperCase()})}),e.jsx(Y,{children:e.jsx(Z,{variant:o.enabled?"default":"secondary",children:o.enabled?"Enabled":"Disabled"})}),e.jsx(Y,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{variant:"ghost",size:"sm",children:e.jsx(Ht,{className:"h-4 w-4"})}),e.jsx(I,{variant:"ghost",size:"sm",children:e.jsx(Vt,{className:"h-4 w-4"})})]})})]},o.id))})]})})]})]})},I4=({config:t,onUpdate:s})=>{const[n,a]=h.useState(!1),i=async()=>{a(!0);try{await new Promise(r=>setTimeout(r,1e3))}catch(r){console.error("Failed to save SSL config:",r)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(ls,{className:"h-5 w-5"}),"Cu hnh SSL/TLS"]}),e.jsx(J,{children:"Qun l chng ch SSL v cu hnh TLS"})]}),e.jsxs(L,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(E,{children:"Kch hot SSL"}),e.jsx(ue,{checked:t.enabled,onCheckedChange:r=>s({enabled:r})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(E,{children:"Force HTTPS"}),e.jsx(ue,{checked:t.forceHttps,onCheckedChange:r=>s({forceHttps:r})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(E,{children:"HSTS Enabled"}),e.jsx(ue,{checked:t.hstsEnabled,onCheckedChange:r=>s({hstsEnabled:r})})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(I,{onClick:i,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}),"ang lu..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Lu cu hnh"]})})})]})]}),e.jsxs(M,{children:[e.jsx(V,{children:e.jsxs(G,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"SSL Certificates"}),e.jsxs(I,{size:"sm",children:[e.jsx(At,{className:"h-4 w-4 mr-2"}),"Thm Certificate"]})]})}),e.jsx(L,{children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Le,{children:[e.jsx(Q,{children:"Domain"}),e.jsx(Q,{children:"Issuer"}),e.jsx(Q,{children:"Type"}),e.jsx(Q,{children:"Valid From"}),e.jsx(Q,{children:"Valid To"}),e.jsx(Q,{children:"Status"}),e.jsx(Q,{children:"Actions"})]})}),e.jsx(yt,{children:t.certificates.map(r=>e.jsxs(Le,{children:[e.jsx(Y,{className:"font-medium",children:r.domain}),e.jsx(Y,{children:r.issuer}),e.jsx(Y,{children:e.jsx(Z,{variant:"outline",children:r.type.toUpperCase()})}),e.jsx(Y,{children:Es(r.validFrom)}),e.jsx(Y,{children:Es(r.validTo)}),e.jsx(Y,{children:e.jsx(Z,{className:D(r.status==="valid"?"bg-green-100 text-green-800":r.status==="expired"?"bg-red-100 text-red-800":"bg-orange-100 text-orange-800"),children:r.status.toUpperCase()})}),e.jsx(Y,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{variant:"ghost",size:"sm",children:e.jsx(Yt,{className:"h-4 w-4"})}),e.jsx(I,{variant:"ghost",size:"sm",children:e.jsx(me,{className:"h-4 w-4"})}),e.jsx(I,{variant:"ghost",size:"sm",children:e.jsx(Vt,{className:"h-4 w-4"})})]})})]},r.id))})]})})]})]})},M4=({alerts:t})=>{const[s,n]=h.useState("all"),a=t.filter(i=>s==="all"||i.severity===s);return e.jsx("div",{className:"space-y-6",children:e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(os,{className:"h-5 w-5"}),"Cnh bo bo mt"]}),e.jsx(J,{children:"Theo di v x l cc cnh bo bo mt"})]}),e.jsxs(L,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(I,{variant:s==="all"?"default":"outline",size:"sm",onClick:()=>n("all"),children:["Tt c (",t.length,")"]}),e.jsxs(I,{variant:s==="critical"?"default":"outline",size:"sm",onClick:()=>n("critical"),children:["Critical (",t.filter(i=>i.severity==="critical").length,")"]}),e.jsxs(I,{variant:s==="high"?"default":"outline",size:"sm",onClick:()=>n("high"),children:["High (",t.filter(i=>i.severity==="high").length,")"]})]}),e.jsxs(I,{size:"sm",children:[e.jsx(me,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),e.jsx("div",{className:"space-y-4",children:a.map(i=>e.jsx(M,{className:D("border-l-4",i.severity==="critical"?"border-l-red-500":i.severity==="high"?"border-l-orange-500":i.severity==="medium"?"border-l-yellow-500":"border-l-blue-500"),children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Z,{className:A4(i.severity),children:i.severity.toUpperCase()}),e.jsx(Z,{variant:"outline",children:i.type}),e.jsx("span",{className:"text-sm text-muted-foreground",children:Es(i.timestamp)})]}),e.jsx("h4",{className:"font-medium",children:i.message}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:i.details})]}),e.jsxs("div",{className:"flex gap-2",children:[!i.resolved&&e.jsxs(I,{size:"sm",variant:"outline",children:[e.jsx(Be,{className:"h-4 w-4 mr-2"}),"Resolve"]}),e.jsx(I,{size:"sm",variant:"ghost",children:e.jsx(Lt,{className:"h-4 w-4"})})]})]})})},i.id))})]})]})})},L4=({logs:t})=>{const[s,n]=h.useState(""),[a,i]=h.useState("all"),r=t.filter(l=>{const o=!s||l.event.toLowerCase().includes(s.toLowerCase())||l.details.toLowerCase().includes(s.toLowerCase())||l.ip.includes(s),c=a==="all"||l.severity===a;return o&&c});return e.jsx("div",{className:"space-y-6",children:e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(mn,{className:"h-5 w-5"}),"Security Logs"]}),e.jsx(J,{children:"Nht k hot ng bo mt ca h thng"})]}),e.jsxs(L,{children:[e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(It,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(K,{placeholder:"Tm kim logs...",value:s,onChange:l=>n(l.target.value),className:"pl-10"})]})}),e.jsxs(be,{value:a,onValueChange:i,children:[e.jsx(ve,{className:"w-[150px]",children:e.jsx(we,{})}),e.jsxs(je,{children:[e.jsx(q,{value:"all",children:"Tt c"}),e.jsx(q,{value:"info",children:"Info"}),e.jsx(q,{value:"warning",children:"Warning"}),e.jsx(q,{value:"error",children:"Error"})]})]})]}),e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Le,{children:[e.jsx(Q,{children:"Timestamp"}),e.jsx(Q,{children:"Source"}),e.jsx(Q,{children:"Event"}),e.jsx(Q,{children:"Severity"}),e.jsx(Q,{children:"IP"}),e.jsx(Q,{children:"User"}),e.jsx(Q,{children:"Details"})]})}),e.jsx(yt,{children:r.map(l=>e.jsxs(Le,{children:[e.jsx(Y,{className:"font-mono text-sm",children:Es(l.timestamp)}),e.jsx(Y,{children:l.source}),e.jsx(Y,{className:"font-medium",children:l.event}),e.jsx(Y,{children:e.jsx(Z,{className:D(l.severity==="error"?"bg-red-100 text-red-800":l.severity==="warning"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:l.severity.toUpperCase()})}),e.jsx(Y,{className:"font-mono text-sm",children:l.ip}),e.jsx(Y,{children:l.user||"-"}),e.jsx(Y,{className:"max-w-xs truncate",children:l.details})]},l.id))})]})]})]})})},D4=({config:t,onUpdate:s})=>{const[n,a]=h.useState(!1),i=async()=>{a(!0);try{await new Promise(r=>setTimeout(r,3e3)),s({lastBackup:new Date().toISOString(),status:"success"})}catch(r){console.error("Backup failed:",r),s({status:"failed"})}finally{a(!1)}};return e.jsx("div",{className:"space-y-6",children:e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(ws,{className:"h-5 w-5"}),"Backup & Recovery"]}),e.jsx(J,{children:"Qun l sao lu v khi phc d liu"})]}),e.jsx(L,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(E,{children:"Kch hot backup t ng"}),e.jsx(ue,{checked:t.enabled,onCheckedChange:r=>s({enabled:r})})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"schedule",children:"Lch backup (Cron)"}),e.jsx(K,{id:"schedule",value:t.schedule,onChange:r=>s({schedule:r.target.value}),placeholder:"0 2 * * *"})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"retention",children:"Thi gian lu tr (ngy)"}),e.jsx(K,{id:"retention",type:"number",value:t.retention,onChange:r=>s({retention:parseInt(r.target.value)})})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"location",children:"V tr lu tr"}),e.jsxs(be,{value:t.location,onValueChange:r=>s({location:r}),children:[e.jsx(ve,{children:e.jsx(we,{})}),e.jsxs(je,{children:[e.jsx(q,{value:"AWS S3",children:"AWS S3"}),e.jsx(q,{value:"Google Cloud",children:"Google Cloud"}),e.jsx(q,{value:"Azure",children:"Azure"}),e.jsx(q,{value:"Local",children:"Local Storage"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(E,{children:"M ha backup"}),e.jsx(ue,{checked:t.encryption,onCheckedChange:r=>s({encryption:r})})]}),e.jsxs("div",{children:[e.jsx(E,{children:"Backup cui cng"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"text-sm",children:t.lastBackup?Es(t.lastBackup):"Cha c backup"}),e.jsx(Z,{className:D("ml-2",t.status==="success"?"bg-green-100 text-green-800":t.status==="failed"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"),children:t.status.toUpperCase()})]})]}),e.jsxs("div",{children:[e.jsx(E,{children:"Dung lng backup"}),e.jsxs("div",{className:"mt-1",children:[e.jsx(pt,{value:65,className:"h-2"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"2.1 GB / 5 GB"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{onClick:i,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}),"ang backup..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Uh,{className:"h-4 w-4 mr-2"}),"Backup ngay"]})}),e.jsxs(I,{variant:"outline",children:[e.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Khi phc"]})]})]})]})})]})})},R4=()=>{const{user:t}=De(),[s,n]=h.useState(Yi),[a,i]=h.useState(Zi),[r,l]=h.useState(Ji),[o,c]=h.useState(!1),d=(m,x)=>{n(f=>({...f,[m]:{...f[m],...x}}))},u=async()=>{c(!0);try{await new Promise(m=>setTimeout(m,1e3)),n(Yi),i(Zi),l(Ji)}catch(m){console.error("Failed to fetch security data:",m)}finally{c(!1)}};return h.useEffect(()=>{u()},[]),o?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(me,{className:"h-8 w-8 animate-spin text-purple-600"}),e.jsx("span",{className:"ml-2",children:"ang ti cu hnh bo mt..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ci t bo mt"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Qun l tng la, SSL, cnh bo bo mt v sao lu h thng"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Firewall"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.firewall.enabled?"ON":"OFF"})]}),e.jsx(Te,{className:D("h-8 w-8",s.firewall.enabled?"text-green-500":"text-gray-400")})]})})}),e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"SSL"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.ssl.enabled?"ACTIVE":"INACTIVE"})]}),e.jsx(ls,{className:D("h-8 w-8",s.ssl.enabled?"text-green-500":"text-gray-400")})]})})}),e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Cnh bo"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:a.filter(m=>!m.resolved).length})]}),e.jsx(os,{className:"h-8 w-8 text-orange-500"})]})})}),e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Backup"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.backup.status==="success"?"OK":"FAILED"})]}),e.jsx(ws,{className:D("h-8 w-8",s.backup.status==="success"?"text-blue-500":"text-red-500")})]})})})]}),e.jsxs(dt,{defaultValue:"firewall",className:"space-y-6",children:[e.jsxs(nt,{className:"grid w-full grid-cols-5",children:[e.jsxs(oe,{value:"firewall",className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-4 w-4"}),"Firewall"]}),e.jsxs(oe,{value:"ssl",className:"flex items-center gap-2",children:[e.jsx(ls,{className:"h-4 w-4"}),"SSL/TLS"]}),e.jsxs(oe,{value:"alerts",className:"flex items-center gap-2",children:[e.jsx(os,{className:"h-4 w-4"}),"Cnh bo"]}),e.jsxs(oe,{value:"logs",className:"flex items-center gap-2",children:[e.jsx(mn,{className:"h-4 w-4"}),"Logs"]}),e.jsxs(oe,{value:"backup",className:"flex items-center gap-2",children:[e.jsx(ws,{className:"h-4 w-4"}),"Backup"]})]}),e.jsx(ce,{value:"firewall",children:e.jsx(P4,{config:s.firewall,onUpdate:m=>d("firewall",m)})}),e.jsx(ce,{value:"ssl",children:e.jsx(I4,{config:s.ssl,onUpdate:m=>d("ssl",m)})}),e.jsx(ce,{value:"alerts",children:e.jsx(M4,{alerts:a})}),e.jsx(ce,{value:"logs",children:e.jsx(L4,{logs:r})}),e.jsx(ce,{value:"backup",children:e.jsx(D4,{config:s.backup,onUpdate:m=>d("backup",m)})})]})]})},er=[{id:"1",timestamp:"2024-01-15T15:30:25.123Z",level:"info",module:"auth",message:"User login successful",details:"User authenticated successfully with email",requestId:"req_123456",userId:"user_001",ip:"192.168.1.100",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",duration:125,statusCode:200,endpoint:"/api/auth/login"},{id:"2",timestamp:"2024-01-15T15:29:45.456Z",level:"error",module:"database",message:"Connection timeout",details:"Database connection pool exhausted, unable to acquire connection within timeout",requestId:"req_123455",ip:"192.168.1.101",duration:5e3,statusCode:500,endpoint:"/api/staff/requests"},{id:"3",timestamp:"2024-01-15T15:28:15.789Z",level:"warn",module:"api",message:"Rate limit exceeded",details:"Client has exceeded rate limit of 100 requests per minute",requestId:"req_123454",ip:"192.168.1.102",duration:1,statusCode:429,endpoint:"/api/staff/requests"},{id:"4",timestamp:"2024-01-15T15:27:30.012Z",level:"debug",module:"websocket",message:"WebSocket connection established",details:"New WebSocket connection from client",requestId:"ws_123453",ip:"192.168.1.103",userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36"},{id:"5",timestamp:"2024-01-15T15:26:45.345Z",level:"info",module:"email",message:"Email notification sent",details:"Daily report email sent to admin@hotel.com",requestId:"email_123452",duration:890,statusCode:200},{id:"6",timestamp:"2024-01-15T15:25:20.678Z",level:"error",module:"ai",message:"OpenAI API call failed",details:"OpenAI API returned 503 Service Unavailable",requestId:"req_123451",ip:"192.168.1.100",duration:2e3,statusCode:503,endpoint:"/api/ai/chat"},{id:"7",timestamp:"2024-01-15T15:24:55.901Z",level:"info",module:"backup",message:"Backup completed successfully",details:"Database backup completed, size: 2.1GB",duration:45e3,statusCode:200},{id:"8",timestamp:"2024-01-15T15:23:10.234Z",level:"warn",module:"security",message:"Failed login attempt",details:"User attempted login with incorrect credentials",requestId:"req_123450",userId:"user_002",ip:"192.168.1.104",userAgent:"curl/7.68.0",duration:100,statusCode:401,endpoint:"/api/auth/login"}],tr={total:15420,byLevel:{debug:3240,info:8950,warn:2100,error:1050,fatal:80},byModule:{auth:2340,api:4560,database:1890,websocket:890,email:1200,ai:890,backup:340,security:1450,system:1860},recentErrors:25,averageResponseTime:245,errorRate:6.8},Uc=t=>{switch(t){case"debug":return"bg-blue-100 text-blue-800";case"info":return"bg-green-100 text-green-800";case"warn":return"bg-yellow-100 text-yellow-800";case"error":return"bg-red-100 text-red-800";case"fatal":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},na=t=>{switch(t){case"debug":return e.jsx(Ys,{className:"h-4 w-4"});case"info":return e.jsx(Be,{className:"h-4 w-4"});case"warn":return e.jsx(os,{className:"h-4 w-4"});case"error":return e.jsx(Ms,{className:"h-4 w-4"});case"fatal":return e.jsx(Ne,{className:"h-4 w-4"});default:return e.jsx(Ys,{className:"h-4 w-4"})}},aa=t=>{switch(t){case"auth":return e.jsx(Te,{className:"h-4 w-4"});case"api":return e.jsx(us,{className:"h-4 w-4"});case"database":return e.jsx(Wt,{className:"h-4 w-4"});case"websocket":return e.jsx(_a,{className:"h-4 w-4"});case"email":return e.jsx(mn,{className:"h-4 w-4"});case"ai":return e.jsx(yl,{className:"h-4 w-4"});case"backup":return e.jsx(ws,{className:"h-4 w-4"});case"security":return e.jsx(Te,{className:"h-4 w-4"});case"system":return e.jsx(Sa,{className:"h-4 w-4"});default:return e.jsx(xn,{className:"h-4 w-4"})}},Wc=t=>new Date(t).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3}),Kc=t=>t?t<1e3?`${t}ms`:`${(t/1e3).toFixed(2)}s`:"-",$4=({log:t,isOpen:s,onClose:n})=>t?e.jsx("div",{className:D("fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",s?"block":"hidden"),children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Log Details"}),e.jsx(I,{variant:"ghost",size:"sm",onClick:n,children:e.jsx(Ms,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{className:"text-sm font-medium",children:"Timestamp"}),e.jsx("p",{className:"text-sm font-mono",children:Wc(t.timestamp)})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-sm font-medium",children:"Level"}),e.jsxs("div",{className:"flex items-center gap-2",children:[na(t.level),e.jsx(Z,{className:Uc(t.level),children:t.level.toUpperCase()})]})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-sm font-medium",children:"Module"}),e.jsxs("div",{className:"flex items-center gap-2",children:[aa(t.module),e.jsx("span",{className:"text-sm",children:t.module})]})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-sm font-medium",children:"Request ID"}),e.jsx("p",{className:"text-sm font-mono",children:t.requestId||"-"})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-sm font-medium",children:"User ID"}),e.jsx("p",{className:"text-sm font-mono",children:t.userId||"-"})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-sm font-medium",children:"IP Address"}),e.jsx("p",{className:"text-sm font-mono",children:t.ip||"-"})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-sm font-medium",children:"Duration"}),e.jsx("p",{className:"text-sm",children:Kc(t.duration)})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-sm font-medium",children:"Status Code"}),e.jsx("p",{className:"text-sm",children:t.statusCode||"-"})]})]}),e.jsxs("div",{children:[e.jsx(E,{className:"text-sm font-medium",children:"Message"}),e.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded border",children:t.message})]}),t.details&&e.jsxs("div",{children:[e.jsx(E,{className:"text-sm font-medium",children:"Details"}),e.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded border whitespace-pre-wrap",children:t.details})]}),t.userAgent&&e.jsxs("div",{children:[e.jsx(E,{className:"text-sm font-medium",children:"User Agent"}),e.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded border break-all",children:t.userAgent})]}),t.endpoint&&e.jsxs("div",{children:[e.jsx(E,{className:"text-sm font-medium",children:"Endpoint"}),e.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded border font-mono",children:t.endpoint})]})]})]})}):null,F4=()=>{const{user:t}=De(),[s,n]=h.useState(er),[a,i]=h.useState(tr),[r,l]=h.useState(!1),[o,c]=h.useState(!1),[d,u]=h.useState(null),[m,x]=h.useState(!1),[f,p]=h.useState({level:"all",module:"all",startTime:"",endTime:"",search:"",requestId:"",userId:"",ip:""}),g=s.filter(w=>{const C=f.level==="all"||w.level===f.level,k=f.module==="all"||w.module===f.module,B=!f.search||w.message.toLowerCase().includes(f.search.toLowerCase())||w.details?.toLowerCase().includes(f.search.toLowerCase()),F=!f.requestId||w.requestId?.includes(f.requestId),A=!f.userId||w.userId?.includes(f.userId),_=!f.ip||w.ip?.includes(f.ip);let S=!0;return f.startTime&&(S=S&&new Date(w.timestamp)>=new Date(f.startTime)),f.endTime&&(S=S&&new Date(w.timestamp)<=new Date(f.endTime)),C&&k&&B&&F&&A&&_&&S}),y=w=>{u(w),x(!0)},j=async()=>{l(!0);try{await new Promise(F=>setTimeout(F,2e3));const w=g.map(F=>`${F.timestamp},${F.level},${F.module},"${F.message}",${F.requestId||""},${F.userId||""},${F.ip||""},${F.statusCode||""}`).join(`
`),C=new Blob([w],{type:"text/csv"}),k=window.URL.createObjectURL(C),B=document.createElement("a");B.href=k,B.download=`system_logs_${new Date().toISOString().split("T")[0]}.csv`,B.click(),window.URL.revokeObjectURL(k)}catch(w){console.error("Export failed:",w)}finally{l(!1)}},v=async()=>{l(!0);try{await new Promise(w=>setTimeout(w,1e3)),n(er),i(tr)}catch(w){console.error("Failed to fetch logs:",w)}finally{l(!1)}},b=()=>{p({level:"all",module:"all",startTime:"",endTime:"",search:"",requestId:"",userId:"",ip:""})};return h.useEffect(()=>{v()},[]),h.useEffect(()=>{if(!o)return;const w=setInterval(()=>{const C={id:Date.now().toString(),timestamp:new Date().toISOString(),level:["debug","info","warn","error"][Math.floor(Math.random()*4)],module:["auth","api","database","websocket"][Math.floor(Math.random()*4)],message:`Real-time log entry ${Date.now()}`,details:"Generated for real-time demonstration",requestId:`req_${Date.now()}`,ip:`192.168.1.${Math.floor(Math.random()*255)}`};n(k=>[C,...k.slice(0,99)])},3e3);return()=>clearInterval(w)},[o]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Logs"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Theo di v phn tch logs h thng"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{checked:o,onCheckedChange:c}),e.jsx(E,{className:"text-sm",children:"Real-time"})]}),e.jsxs(I,{onClick:v,disabled:r,children:[e.jsx(me,{className:D("h-4 w-4 mr-2",r&&"animate-spin")}),"Refresh"]}),e.jsxs(I,{onClick:j,disabled:r,children:[e.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Logs"}),e.jsx("p",{className:"text-2xl font-bold",children:a.total.toLocaleString()})]}),e.jsx(mn,{className:"h-8 w-8 text-blue-500"})]})})}),e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Recent Errors"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:a.recentErrors})]}),e.jsx(Ne,{className:"h-8 w-8 text-red-500"})]})})}),e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Response Time"}),e.jsxs("p",{className:"text-2xl font-bold",children:[a.averageResponseTime,"ms"]})]}),e.jsx(ze,{className:"h-8 w-8 text-green-500"})]})})}),e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Error Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[a.errorRate,"%"]})]}),e.jsx(Is,{className:"h-8 w-8 text-orange-500"})]})})})]}),e.jsxs(dt,{defaultValue:"logs",className:"space-y-6",children:[e.jsxs(nt,{children:[e.jsx(oe,{value:"logs",children:"Logs"}),e.jsx(oe,{value:"stats",children:"Statistics"})]}),e.jsxs(ce,{value:"logs",className:"space-y-4",children:[e.jsxs(M,{children:[e.jsx(V,{children:e.jsx(G,{className:"text-lg",children:"Filters"})}),e.jsxs(L,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"level",children:"Log Level"}),e.jsxs(be,{value:f.level,onValueChange:w=>p({...f,level:w}),children:[e.jsx(ve,{children:e.jsx(we,{})}),e.jsxs(je,{children:[e.jsx(q,{value:"all",children:"All Levels"}),e.jsx(q,{value:"debug",children:"Debug"}),e.jsx(q,{value:"info",children:"Info"}),e.jsx(q,{value:"warn",children:"Warning"}),e.jsx(q,{value:"error",children:"Error"}),e.jsx(q,{value:"fatal",children:"Fatal"})]})]})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"module",children:"Module"}),e.jsxs(be,{value:f.module,onValueChange:w=>p({...f,module:w}),children:[e.jsx(ve,{children:e.jsx(we,{})}),e.jsxs(je,{children:[e.jsx(q,{value:"all",children:"All Modules"}),e.jsx(q,{value:"auth",children:"Auth"}),e.jsx(q,{value:"api",children:"API"}),e.jsx(q,{value:"database",children:"Database"}),e.jsx(q,{value:"websocket",children:"WebSocket"}),e.jsx(q,{value:"email",children:"Email"}),e.jsx(q,{value:"ai",children:"AI"}),e.jsx(q,{value:"backup",children:"Backup"}),e.jsx(q,{value:"security",children:"Security"}),e.jsx(q,{value:"system",children:"System"})]})]})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"search",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(It,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(K,{id:"search",placeholder:"Search logs...",value:f.search,onChange:w=>p({...f,search:w.target.value}),className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"startTime",children:"Start Time"}),e.jsx(K,{id:"startTime",type:"datetime-local",value:f.startTime,onChange:w=>p({...f,startTime:w.target.value})})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"endTime",children:"End Time"}),e.jsx(K,{id:"endTime",type:"datetime-local",value:f.endTime,onChange:w=>p({...f,endTime:w.target.value})})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"requestId",children:"Request ID"}),e.jsx(K,{id:"requestId",placeholder:"Filter by request ID...",value:f.requestId,onChange:w=>p({...f,requestId:w.target.value})})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(I,{variant:"outline",onClick:b,children:"Clear Filters"})})]})]}),e.jsxs(M,{children:[e.jsx(V,{children:e.jsxs(G,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"System Logs"}),e.jsxs("div",{className:"flex items-center gap-2",children:[o&&e.jsxs(Z,{variant:"outline",className:"text-green-600",children:[e.jsx(bt,{className:"h-3 w-3 mr-1"}),"Live"]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Showing ",g.length," of ",s.length," logs"]})]})]})}),e.jsx(L,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Le,{children:[e.jsx(Q,{className:"w-[180px]",children:"Timestamp"}),e.jsx(Q,{children:"Level"}),e.jsx(Q,{children:"Module"}),e.jsx(Q,{children:"Message"}),e.jsx(Q,{children:"Request ID"}),e.jsx(Q,{children:"Duration"}),e.jsx(Q,{children:"Status"}),e.jsx(Q,{children:"Actions"})]})}),e.jsx(yt,{children:g.map(w=>e.jsxs(Le,{children:[e.jsx(Y,{className:"font-mono text-sm",children:Wc(w.timestamp)}),e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[na(w.level),e.jsx(Z,{className:Uc(w.level),children:w.level.toUpperCase()})]})}),e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[aa(w.module),w.module]})}),e.jsx(Y,{className:"max-w-xs",children:e.jsx("div",{className:"truncate",title:w.message,children:w.message})}),e.jsx(Y,{className:"font-mono text-sm",children:w.requestId&&e.jsx("span",{className:"text-blue-600 cursor-pointer hover:underline",children:w.requestId})}),e.jsx(Y,{children:Kc(w.duration)}),e.jsx(Y,{children:w.statusCode&&e.jsx(Z,{variant:w.statusCode>=400?"destructive":"default",children:w.statusCode})}),e.jsx(Y,{children:e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>y(w),children:e.jsx(Lt,{className:"h-4 w-4"})})})]},w.id))})]})})})]})]}),e.jsx(ce,{value:"stats",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(M,{children:[e.jsx(V,{children:e.jsx(G,{children:"Logs by Level"})}),e.jsx(L,{children:e.jsx("div",{className:"space-y-3",children:Object.entries(a.byLevel).map(([w,C])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[na(w),e.jsx("span",{className:"capitalize",children:w})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${C/a.total*100}%`}})}),e.jsx("span",{className:"text-sm font-medium",children:C})]})]},w))})})]}),e.jsxs(M,{children:[e.jsx(V,{children:e.jsx(G,{children:"Logs by Module"})}),e.jsx(L,{children:e.jsx("div",{className:"space-y-3",children:Object.entries(a.byModule).map(([w,C])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[aa(w),e.jsx("span",{className:"capitalize",children:w})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${C/a.total*100}%`}})}),e.jsx("span",{className:"text-sm font-medium",children:C})]})]},w))})})]})]})})]}),e.jsx($4,{log:d,isOpen:m,onClose:()=>x(!1)})]})},sr=[{id:"1",name:"OpenAI GPT",type:"ai",provider:"OpenAI",description:"AI-powered chatbot and content generation",status:"active",enabled:!0,config:{baseUrl:"https://api.openai.com/v1",apiKey:"sk-...",timeout:3e4,retryCount:3,rateLimitPerMinute:60},metrics:{totalRequests:15420,successRate:98.5,averageResponseTime:1250,lastRequest:"2024-01-15T15:30:00Z",uptime:99.8},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-15T10:00:00Z",lastSync:"2024-01-15T15:30:00Z"},{id:"2",name:"Stripe Payment",type:"payment",provider:"Stripe",description:"Payment processing and billing",status:"active",enabled:!0,config:{baseUrl:"https://api.stripe.com/v1",apiKey:"sk_live_...",timeout:1e4,retryCount:2,rateLimitPerMinute:100},metrics:{totalRequests:8950,successRate:99.9,averageResponseTime:450,lastRequest:"2024-01-15T15:25:00Z",uptime:99.9},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-15T12:00:00Z",lastSync:"2024-01-15T15:25:00Z"},{id:"3",name:"Twilio SMS",type:"notification",provider:"Twilio",description:"SMS notifications and alerts",status:"active",enabled:!0,config:{baseUrl:"https://api.twilio.com/2010-04-01",apiKey:"AC...",timeout:5e3,retryCount:3,rateLimitPerMinute:200},metrics:{totalRequests:2340,successRate:97.8,averageResponseTime:890,lastRequest:"2024-01-15T14:45:00Z",uptime:98.5},createdAt:"2024-01-05T00:00:00Z",updatedAt:"2024-01-15T09:00:00Z",lastSync:"2024-01-15T14:45:00Z"},{id:"4",name:"Google Places",type:"api",provider:"Google",description:"Location data and place information",status:"error",enabled:!1,config:{baseUrl:"https://maps.googleapis.com/maps/api/place",apiKey:"AIza...",timeout:8e3,retryCount:2,rateLimitPerMinute:50},metrics:{totalRequests:1250,successRate:45.2,averageResponseTime:2100,lastRequest:"2024-01-15T13:20:00Z",uptime:78.3},createdAt:"2024-01-10T00:00:00Z",updatedAt:"2024-01-15T13:20:00Z",lastSync:"2024-01-15T13:20:00Z"},{id:"5",name:"Slack Notifications",type:"webhook",provider:"Slack",description:"Team notifications and alerts",status:"active",enabled:!0,config:{webhookUrl:"https://hooks.slack.com/services/...",timeout:3e3,retryCount:2,rateLimitPerMinute:1},metrics:{totalRequests:450,successRate:100,averageResponseTime:320,lastRequest:"2024-01-15T15:00:00Z",uptime:100},createdAt:"2024-01-08T00:00:00Z",updatedAt:"2024-01-15T08:00:00Z",lastSync:"2024-01-15T15:00:00Z"}],nr=[{id:"1",name:"Payment Webhook",url:"https://api.hotel.com/webhooks/payment",method:"POST",events:["payment.completed","payment.failed","payment.refunded"],active:!0,secret:"whsec_...",headers:{"Content-Type":"application/json","X-Webhook-Source":"hotel-system"},retryPolicy:{enabled:!0,maxRetries:3,retryDelay:1e3},logs:[{id:"1",timestamp:"2024-01-15T15:30:00Z",event:"payment.completed",statusCode:200,responseTime:245,success:!0},{id:"2",timestamp:"2024-01-15T15:25:00Z",event:"payment.failed",statusCode:500,responseTime:1e3,success:!1,error:"Internal server error"}]},{id:"2",name:"Booking Webhook",url:"https://api.hotel.com/webhooks/booking",method:"POST",events:["booking.created","booking.updated","booking.cancelled"],active:!0,secret:"whsec_...",headers:{"Content-Type":"application/json"},retryPolicy:{enabled:!0,maxRetries:5,retryDelay:2e3},logs:[]}],ar=[{id:"1",name:"OpenAI Production",service:"OpenAI",type:"api_key",environment:"production",credentials:{apiKey:"sk-..."},lastUsed:"2024-01-15T15:30:00Z",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-15T10:00:00Z"},{id:"2",name:"Stripe Live",service:"Stripe",type:"api_key",environment:"production",credentials:{apiKey:"sk_live_..."},lastUsed:"2024-01-15T15:25:00Z",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-15T12:00:00Z"},{id:"3",name:"Google OAuth",service:"Google",type:"oauth",environment:"production",credentials:{clientId:"123456789-...",clientSecret:"GOCSPX-...",accessToken:"ya29.a0A...",refreshToken:"1//0G..."},expiresAt:"2024-01-16T15:30:00Z",lastUsed:"2024-01-15T13:20:00Z",createdAt:"2024-01-10T00:00:00Z",updatedAt:"2024-01-15T13:20:00Z"}],O4=t=>{switch(t){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"error":return"bg-red-100 text-red-800";case"testing":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},Xc=t=>{switch(t){case"api":return e.jsx(us,{className:"h-4 w-4"});case"webhook":return e.jsx(Kh,{className:"h-4 w-4"});case"database":return e.jsx(Wt,{className:"h-4 w-4"});case"payment":return e.jsx(un,{className:"h-4 w-4"});case"notification":return e.jsx(wa,{className:"h-4 w-4"});case"ai":return e.jsx(yl,{className:"h-4 w-4"});case"analytics":return e.jsx(Is,{className:"h-4 w-4"});case"security":return e.jsx(Te,{className:"h-4 w-4"});default:return e.jsx(zh,{className:"h-4 w-4"})}},zn=t=>new Date(t).toLocaleString("vi-VN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),z4=t=>new Intl.NumberFormat("vi-VN").format(t),B4=({integration:t,isOpen:s,onClose:n,onSave:a})=>{const[i,r]=h.useState(t),[l,o]=h.useState(!1),[c,d]=h.useState(!1);h.useEffect(()=>{r(t)},[t]);const u=async()=>{if(i){o(!0);try{await new Promise(x=>setTimeout(x,1e3)),a(i),n()}catch(x){console.error("Failed to save integration:",x)}finally{o(!1)}}},m=async()=>{o(!0);try{await new Promise(x=>setTimeout(x,2e3)),alert("Integration test successful!")}catch{alert("Integration test failed!")}finally{o(!1)}};return!t||!i?null:e.jsx(Rt,{open:s,onOpenChange:n,children:e.jsxs(wt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Nt,{children:[e.jsxs(St,{className:"flex items-center gap-2",children:[Xc(t.type),t.name]}),e.jsx($t,{children:"Cu hnh chi tit cho integration"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"name",children:"Tn"}),e.jsx(K,{id:"name",value:i.name,onChange:x=>r({...i,name:x.target.value})})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"provider",children:"Provider"}),e.jsx(K,{id:"provider",value:i.provider,onChange:x=>r({...i,provider:x.target.value})})]})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"description",children:"M t"}),e.jsx(qe,{id:"description",value:i.description,onChange:x=>r({...i,description:x.target.value}),rows:2})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"baseUrl",children:"Base URL"}),e.jsx(K,{id:"baseUrl",value:i.config.baseUrl||"",onChange:x=>r({...i,config:{...i.config,baseUrl:x.target.value}})})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"timeout",children:"Timeout (ms)"}),e.jsx(K,{id:"timeout",type:"number",value:i.config.timeout||"",onChange:x=>r({...i,config:{...i.config,timeout:parseInt(x.target.value)}})})]})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"apiKey",children:"API Key"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(K,{id:"apiKey",type:c?"text":"password",value:i.config.apiKey||"",onChange:x=>r({...i,config:{...i.config,apiKey:x.target.value}})}),e.jsx(I,{type:"button",variant:"outline",size:"sm",onClick:()=>d(!c),children:c?e.jsx(fl,{className:"h-4 w-4"}):e.jsx(Lt,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"retryCount",children:"Retry Count"}),e.jsx(K,{id:"retryCount",type:"number",value:i.config.retryCount||"",onChange:x=>r({...i,config:{...i.config,retryCount:parseInt(x.target.value)}})})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"rateLimit",children:"Rate Limit/min"}),e.jsx(K,{id:"rateLimit",type:"number",value:i.config.rateLimitPerMinute||"",onChange:x=>r({...i,config:{...i.config,rateLimitPerMinute:parseInt(x.target.value)}})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(E,{children:"Kch hot"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Bt/tt integration ny"})]}),e.jsx(ue,{checked:i.enabled,onCheckedChange:x=>r({...i,enabled:x})})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsxs(I,{variant:"outline",onClick:m,disabled:l,children:[e.jsx(Be,{className:"h-4 w-4 mr-2"}),"Test Connection"]}),e.jsx(I,{onClick:u,disabled:l,children:l?e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}),"ang lu..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Lu"]})})]})]})]})})},q4=({isOpen:t,onClose:s,onAdd:n})=>{const[a,i]=h.useState({name:"",type:"api",provider:"",description:"",baseUrl:"",apiKey:"",timeout:3e4,retryCount:3,rateLimitPerMinute:100}),[r,l]=h.useState(!1),o=async c=>{c.preventDefault(),l(!0);try{await new Promise(u=>setTimeout(u,1e3));const d={id:Date.now().toString(),name:a.name,type:a.type,provider:a.provider,description:a.description,status:"inactive",enabled:!1,config:{baseUrl:a.baseUrl,apiKey:a.apiKey,timeout:a.timeout,retryCount:a.retryCount,rateLimitPerMinute:a.rateLimitPerMinute},metrics:{totalRequests:0,successRate:0,averageResponseTime:0,lastRequest:"",uptime:0},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),lastSync:""};n(d),s(),i({name:"",type:"api",provider:"",description:"",baseUrl:"",apiKey:"",timeout:3e4,retryCount:3,rateLimitPerMinute:100})}catch(d){console.error("Failed to add integration:",d)}finally{l(!1)}};return e.jsx(Rt,{open:t,onOpenChange:s,children:e.jsxs(wt,{className:"max-w-2xl",children:[e.jsxs(Nt,{children:[e.jsx(St,{children:"Thm Integration mi"}),e.jsx($t,{children:"To integration mi vi third-party service"})]}),e.jsxs("form",{onSubmit:o,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"name",children:"Tn *"}),e.jsx(K,{id:"name",value:a.name,onChange:c=>i({...a,name:c.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"type",children:"Loi *"}),e.jsxs(be,{value:a.type,onValueChange:c=>i({...a,type:c}),children:[e.jsx(ve,{children:e.jsx(we,{})}),e.jsxs(je,{children:[e.jsx(q,{value:"api",children:"API"}),e.jsx(q,{value:"webhook",children:"Webhook"}),e.jsx(q,{value:"database",children:"Database"}),e.jsx(q,{value:"payment",children:"Payment"}),e.jsx(q,{value:"notification",children:"Notification"}),e.jsx(q,{value:"ai",children:"AI"}),e.jsx(q,{value:"analytics",children:"Analytics"}),e.jsx(q,{value:"security",children:"Security"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"provider",children:"Provider *"}),e.jsx(K,{id:"provider",value:a.provider,onChange:c=>i({...a,provider:c.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"description",children:"M t"}),e.jsx(qe,{id:"description",value:a.description,onChange:c=>i({...a,description:c.target.value}),rows:2})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"baseUrl",children:"Base URL *"}),e.jsx(K,{id:"baseUrl",value:a.baseUrl,onChange:c=>i({...a,baseUrl:c.target.value}),placeholder:"https://api.example.com",required:!0})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"apiKey",children:"API Key *"}),e.jsx(K,{id:"apiKey",type:"password",value:a.apiKey,onChange:c=>i({...a,apiKey:c.target.value}),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(E,{htmlFor:"timeout",children:"Timeout (ms)"}),e.jsx(K,{id:"timeout",type:"number",value:a.timeout,onChange:c=>i({...a,timeout:parseInt(c.target.value)})})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"retryCount",children:"Retry Count"}),e.jsx(K,{id:"retryCount",type:"number",value:a.retryCount,onChange:c=>i({...a,retryCount:parseInt(c.target.value)})})]}),e.jsxs("div",{children:[e.jsx(E,{htmlFor:"rateLimit",children:"Rate Limit/min"}),e.jsx(K,{id:"rateLimit",type:"number",value:a.rateLimitPerMinute,onChange:c=>i({...a,rateLimitPerMinute:parseInt(c.target.value)})})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(I,{type:"button",variant:"outline",onClick:s,children:"Hy"}),e.jsx(I,{type:"submit",disabled:r,children:r?e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}),"ang to..."]}):e.jsxs(e.Fragment,{children:[e.jsx(At,{className:"h-4 w-4 mr-2"}),"To Integration"]})})]})]})]})})},H4=()=>{const{user:t}=De(),[s,n]=h.useState(sr),[a,i]=h.useState(nr),[r,l]=h.useState(ar),[o,c]=h.useState(!1),[d,u]=h.useState(null),[m,x]=h.useState(!1),[f,p]=h.useState(!1),[g,y]=h.useState("all"),[j,v]=h.useState("all"),[b,w]=h.useState(""),C=s.filter(N=>{const z=g==="all"||N.status===g,$=j==="all"||N.type===j,O=!b||N.name.toLowerCase().includes(b.toLowerCase())||N.provider.toLowerCase().includes(b.toLowerCase());return z&&$&&O}),k=N=>{u(N),x(!0)},B=N=>{n(z=>z.map($=>$.id===N.id?N:$)),u(null)},F=N=>{n(z=>[...z,N])},A=N=>{confirm("Bn c chc mun xa integration ny?")&&n(z=>z.filter($=>$.id!==N))},_=N=>{n(z=>z.map($=>$.id===N?{...$,enabled:!$.enabled,status:$.enabled?"inactive":"active"}:$))},S=async()=>{c(!0);try{await new Promise(N=>setTimeout(N,1e3)),n(sr),i(nr),l(ar)}catch(N){console.error("Failed to fetch integrations:",N)}finally{c(!1)}};return h.useEffect(()=>{S()},[]),o?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(me,{className:"h-8 w-8 animate-spin text-purple-600"}),e.jsx("span",{className:"ml-2",children:"ang ti integrations..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Integrations"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Qun l tch hp vi cc dch v bn th ba"})]}),e.jsxs(I,{onClick:()=>p(!0),children:[e.jsx(At,{className:"h-4 w-4 mr-2"}),"Thm Integration"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Integrations"}),e.jsx("p",{className:"text-2xl font-bold",children:s.length})]}),e.jsx(ka,{className:"h-8 w-8 text-blue-500"})]})})}),e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.filter(N=>N.status==="active").length})]}),e.jsx(Be,{className:"h-8 w-8 text-green-500"})]})})}),e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Errors"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:s.filter(N=>N.status==="error").length})]}),e.jsx(Ms,{className:"h-8 w-8 text-red-500"})]})})}),e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Success Rate"}),e.jsxs("p",{className:"text-2xl font-bold",children:[(s.reduce((N,z)=>N+z.metrics.successRate,0)/s.length).toFixed(1),"%"]})]}),e.jsx(ze,{className:"h-8 w-8 text-blue-500"})]})})})]}),e.jsxs(dt,{defaultValue:"integrations",className:"space-y-6",children:[e.jsxs(nt,{className:"grid w-full grid-cols-3",children:[e.jsx(oe,{value:"integrations",children:"Integrations"}),e.jsx(oe,{value:"webhooks",children:"Webhooks"}),e.jsx(oe,{value:"credentials",children:"Credentials"})]}),e.jsxs(ce,{value:"integrations",className:"space-y-4",children:[e.jsxs(M,{children:[e.jsx(V,{children:e.jsx(G,{children:"Filters"})}),e.jsx(L,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(It,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(K,{placeholder:"Tm kim integrations...",value:b,onChange:N=>w(N.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(be,{value:g,onValueChange:y,children:[e.jsx(ve,{className:"w-[150px]",children:e.jsx(we,{})}),e.jsxs(je,{children:[e.jsx(q,{value:"all",children:"All Status"}),e.jsx(q,{value:"active",children:"Active"}),e.jsx(q,{value:"inactive",children:"Inactive"}),e.jsx(q,{value:"error",children:"Error"}),e.jsx(q,{value:"testing",children:"Testing"})]})]}),e.jsxs(be,{value:j,onValueChange:v,children:[e.jsx(ve,{className:"w-[150px]",children:e.jsx(we,{})}),e.jsxs(je,{children:[e.jsx(q,{value:"all",children:"All Types"}),e.jsx(q,{value:"api",children:"API"}),e.jsx(q,{value:"webhook",children:"Webhook"}),e.jsx(q,{value:"payment",children:"Payment"}),e.jsx(q,{value:"notification",children:"Notification"}),e.jsx(q,{value:"ai",children:"AI"})]})]})]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:C.map(N=>e.jsxs(M,{children:[e.jsxs(V,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[Xc(N.type),e.jsx(G,{className:"text-lg",children:N.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:O4(N.status),children:N.status.toUpperCase()}),e.jsx(ue,{checked:N.enabled,onCheckedChange:()=>_(N.id)})]})]}),e.jsx(J,{children:N.description})]}),e.jsxs(L,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Provider:"}),e.jsx("span",{className:"font-medium",children:N.provider})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Success Rate:"}),e.jsxs("span",{className:"font-medium",children:[N.metrics.successRate,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Requests:"}),e.jsx("span",{className:"font-medium",children:z4(N.metrics.totalRequests)})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Avg Response:"}),e.jsxs("span",{className:"font-medium",children:[N.metrics.averageResponseTime,"ms"]})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Uptime:"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(pt,{value:N.metrics.uptime,className:"h-2"}),e.jsxs("span",{className:"font-medium",children:[N.metrics.uptime,"%"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Last sync: ",N.lastSync?zn(N.lastSync):"Never"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>k(N),children:e.jsx(Ht,{className:"h-4 w-4"})}),e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>A(N.id),children:e.jsx(Vt,{className:"h-4 w-4"})})]})]})]})]},N.id))})]}),e.jsx(ce,{value:"webhooks",className:"space-y-4",children:e.jsxs(M,{children:[e.jsx(V,{children:e.jsxs(G,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Webhook Endpoints"}),e.jsxs(I,{size:"sm",children:[e.jsx(At,{className:"h-4 w-4 mr-2"}),"Add Webhook"]})]})}),e.jsx(L,{children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Le,{children:[e.jsx(Q,{children:"Name"}),e.jsx(Q,{children:"URL"}),e.jsx(Q,{children:"Method"}),e.jsx(Q,{children:"Events"}),e.jsx(Q,{children:"Status"}),e.jsx(Q,{children:"Actions"})]})}),e.jsx(yt,{children:a.map(N=>e.jsxs(Le,{children:[e.jsx(Y,{className:"font-medium",children:N.name}),e.jsx(Y,{className:"font-mono text-sm",children:N.url}),e.jsx(Y,{children:e.jsx(Z,{variant:"outline",children:N.method})}),e.jsx(Y,{children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[N.events.slice(0,2).map((z,$)=>e.jsx(Z,{variant:"secondary",className:"text-xs",children:z},$)),N.events.length>2&&e.jsxs(Z,{variant:"secondary",className:"text-xs",children:["+",N.events.length-2]})]})}),e.jsx(Y,{children:e.jsx(Z,{className:N.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:N.active?"Active":"Inactive"})}),e.jsx(Y,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{variant:"ghost",size:"sm",children:e.jsx(Ht,{className:"h-4 w-4"})}),e.jsx(I,{variant:"ghost",size:"sm",children:e.jsx(Lt,{className:"h-4 w-4"})}),e.jsx(I,{variant:"ghost",size:"sm",children:e.jsx(Vt,{className:"h-4 w-4"})})]})})]},N.id))})]})})]})}),e.jsx(ce,{value:"credentials",className:"space-y-4",children:e.jsxs(M,{children:[e.jsx(V,{children:e.jsxs(G,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"API Credentials"}),e.jsxs(I,{size:"sm",children:[e.jsx(At,{className:"h-4 w-4 mr-2"}),"Add Credential"]})]})}),e.jsx(L,{children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Le,{children:[e.jsx(Q,{children:"Name"}),e.jsx(Q,{children:"Service"}),e.jsx(Q,{children:"Type"}),e.jsx(Q,{children:"Environment"}),e.jsx(Q,{children:"Expires"}),e.jsx(Q,{children:"Last Used"}),e.jsx(Q,{children:"Actions"})]})}),e.jsx(yt,{children:r.map(N=>e.jsxs(Le,{children:[e.jsx(Y,{className:"font-medium",children:N.name}),e.jsx(Y,{children:N.service}),e.jsx(Y,{children:e.jsx(Z,{variant:"outline",children:N.type})}),e.jsx(Y,{children:e.jsx(Z,{className:D(N.environment==="production"?"bg-red-100 text-red-800":N.environment==="staging"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:N.environment})}),e.jsx(Y,{children:N.expiresAt?zn(N.expiresAt):"Never"}),e.jsx(Y,{children:N.lastUsed?zn(N.lastUsed):"Never"}),e.jsx(Y,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{variant:"ghost",size:"sm",children:e.jsx(Ht,{className:"h-4 w-4"})}),e.jsx(I,{variant:"ghost",size:"sm",children:e.jsx(me,{className:"h-4 w-4"})}),e.jsx(I,{variant:"ghost",size:"sm",children:e.jsx(Vt,{className:"h-4 w-4"})})]})})]},N.id))})]})})]})})]}),e.jsx(B4,{integration:d,isOpen:m,onClose:()=>x(!1),onSave:B}),e.jsx(q4,{isOpen:f,onClose:()=>p(!1),onAdd:F})]})},Ie=({children:t,requireAuth:s=!0,requiredRole:n,redirectTo:a="/login"})=>{const{user:i,isAuthenticated:r,isLoading:l}=De(),[,o]=Qt();return h.useEffect(()=>{if(!l&&s&&!r){o(a);return}},[r,l,i,s,n,a,o]),l?e.jsx(ia,{}):s&&!r?null:e.jsx(e.Fragment,{children:t})},V4=xe.lazy(()=>Dr(()=>import("./CallHistory-DsMvXhUy.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),G4=xe.lazy(()=>Dr(()=>import("./CallDetails-Dc38BZl7.js"),__vite__mapDeps([7,1,2,3,4,5,6]))),ia=()=>e.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"ang ti..."})]})}),U4=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"container mx-auto",children:e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Kim tra Tnh nng Email"}),e.jsx(ke,{href:"/",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90",children:"Quay li Trang Chnh"})]})})}),W4=()=>{const{login:t,isLoading:s}=De(),[,n]=Qt(),[a,i]=h.useState(""),[r,l]=h.useState(""),[o,c]=h.useState(""),[d,u]=h.useState(!1),m=async x=>{x.preventDefault(),c("");try{await t(a,r),n("/unified-dashboard")}catch(f){c(f.message||"ng nhp tht bi")}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"ng nhp Dashboard"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Hoc"," ",e.jsx(ke,{href:"/",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"quay li trang chnh"})]})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:m,children:[e.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[e.jsx("div",{children:e.jsx("input",{id:"email",name:"email",type:"text",autoComplete:"username",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Tn ng nhp hoc email",value:a,onChange:x=>i(x.target.value)})}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",name:"password",type:d?"text":"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Mt khu",value:r,onChange:x=>l(x.target.value)}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>u(!d),children:d?e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):e.jsxs("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),o&&e.jsx("div",{className:"text-red-600 text-sm text-center",children:o}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:s?"ang ng nhp...":"ng nhp"})})]})]})})},K4=()=>e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Khng c quyn truy cp"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Bn khng c quyn truy cp vo trang ny."}),e.jsx(ke,{href:"/",className:"text-indigo-600 hover:text-indigo-500",children:"Quay li trang chnh"})]})});function X4(){const t=Dl(),{isAuthenticated:s}=De();return console.log("[DEBUG] Router render",{tenantInfo:t,isAuthenticated:s}),t?e.jsx(h.Suspense,{fallback:e.jsx(ia,{}),children:e.jsxs(rh,{children:[e.jsx(fe,{path:"/",component:ps}),e.jsx(fe,{path:"/interface1",component:ps}),e.jsx(fe,{path:"/interface2",component:ps}),e.jsx(fe,{path:"/interface3",component:ps}),e.jsx(fe,{path:"/interface4",component:ps}),e.jsx(fe,{path:"/call-history",component:V4}),e.jsx(fe,{path:"/call-details/:callId",component:G4}),e.jsx(fe,{path:"/email-test",component:U4}),e.jsx(fe,{path:"/staff",component:m2}),e.jsx(fe,{path:"/staff/dashboard",component:yo}),e.jsx(fe,{path:"/analytics",component:x2}),e.jsx(fe,{path:"/login",component:W4}),e.jsx(fe,{path:"/unauthorized",component:K4}),e.jsx(fe,{path:"/unified-dashboard",children:e.jsx(Ie,{requireAuth:!0,children:e.jsx(it,{children:e.jsx(GN,{})})})}),e.jsx(fe,{path:"/unified-dashboard/requests",children:e.jsx(Ie,{requireAuth:!0,children:e.jsx(it,{children:e.jsx(o4,{})})})}),e.jsx(fe,{path:"/unified-dashboard/analytics",children:e.jsx(Ie,{requireAuth:!0,children:e.jsx(it,{children:e.jsx(c4,{})})})}),e.jsx(fe,{path:"/unified-dashboard/staff-management",children:e.jsx(Ie,{requireAuth:!0,children:e.jsx(it,{children:e.jsx(m4,{})})})}),e.jsx(fe,{path:"/unified-dashboard/system-monitoring",children:e.jsx(Ie,{requireAuth:!0,children:e.jsx(it,{children:e.jsx(j4,{})})})}),e.jsx(fe,{path:"/unified-dashboard/settings",children:e.jsx(Ie,{requireAuth:!0,children:e.jsx(it,{children:e.jsx(N4,{})})})}),e.jsx(fe,{path:"/unified-dashboard/guest-management",children:e.jsx(Ie,{requireAuth:!0,children:e.jsx(it,{children:e.jsx(E4,{})})})}),e.jsx(fe,{path:"/unified-dashboard/security",children:e.jsx(Ie,{requireAuth:!0,children:e.jsx(it,{children:e.jsx(R4,{})})})}),e.jsx(fe,{path:"/unified-dashboard/logs",children:e.jsx(Ie,{requireAuth:!0,children:e.jsx(it,{children:e.jsx(F4,{})})})}),e.jsx(fe,{path:"/unified-dashboard/integrations",children:e.jsx(Ie,{requireAuth:!0,children:e.jsx(it,{children:e.jsx(H4,{})})})}),e.jsx(fe,{path:"/dashboard",children:e.jsx(Ie,{requireAuth:!0,children:e.jsx(zt,{children:e.jsx(V2,{})})})}),e.jsx(fe,{path:"/dashboard/setup",children:e.jsx(Ie,{requireAuth:!0,children:e.jsx(zt,{children:e.jsx(uN,{})})})}),e.jsx(fe,{path:"/dashboard/assistant",children:e.jsx(Ie,{requireAuth:!0,children:e.jsx(zt,{children:e.jsx(SN,{})})})}),e.jsx(fe,{path:"/dashboard/analytics",children:e.jsx(Ie,{requireAuth:!0,children:e.jsx(zt,{children:e.jsx(AN,{})})})}),e.jsx(fe,{path:"/dashboard/settings",children:e.jsx(Ie,{requireAuth:!0,children:e.jsx(zt,{children:e.jsx(RN,{})})})}),e.jsx(fe,{path:"/dashboard/billing",children:e.jsx(Ie,{requireAuth:!0,children:e.jsx(zt,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Thanh ton & ng k"}),e.jsx("p",{className:"text-gray-600",children:"Trang qun l thanh ton ang c pht trin..."})]})})})}),e.jsx(fe,{path:"/dashboard/team",children:e.jsx(Ie,{requireAuth:!0,requiredRole:"admin",children:e.jsx(zt,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Qun l Nhm"}),e.jsx("p",{className:"text-gray-600",children:"Trang qun l nhm ang c pht trin..."})]})})})}),e.jsx(fe,{component:l2})]})}):e.jsx(ia,{})}function Q4(){return console.log("[DEBUG] AppContent render"),o2(),e.jsxs(Pd,{children:[e.jsx(X4,{}),e.jsx(Zh,{})]})}function Y4(){return console.log("[DEBUG] App render"),e.jsx(Sd,{children:e.jsx(Tu,{children:e.jsx(t2,{children:e.jsx(Iu,{children:e.jsx(Q4,{})})})})})}Lr(document.getElementById("root")).render(e.jsx(Y4,{}));export{ke as L,pn as S,ji as a,au as b,vu as c,ou as d,$e as e,Tl as f,iS as g,fn as i,st as n,mu as p,ru as r,aS as s,iu as t,nh as u};
