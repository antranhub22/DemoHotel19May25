const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/voice-vendor-By6w_Ckf.js","assets/react-vendor-DwA95FbG.js","assets/CallHistory-L2bLS15O.js","assets/ui-vendor-V-Ei8kYY.js","assets/useQuery-DpDZnvLg.js","assets/utility-vendor-XCGKcYu0.js","assets/chart-vendor-9PNgCd9A.js","assets/CallDetails-Dkkz_tm4.js"])))=>i.map(i=>d[i]);
import{j as e,c as Yt,a as rd,u as Mt,B as ld,P as Te,b as xn,d as ua,e as De,f as Ns,V as vr,R as od,g as cd,h as an,i as dd,S as ud,k as yr,l as jr,m as hd,C as br,I as wr,n as Nr,o as Sr,p as Cr,L as kr,q as Tr,r as md,T as pd,s as _r,t as xd,v as Er,w as Ar,x as fd,y as Pr,z as gd,A as Ir,D as Dr,E as vd,F as yd,G as Mr,H as jd,J as bd,K as Lr,M as Rr,N as $r,O as wd,Q as Nd,U as Sd,W as Cd,X as ha,Y as Fr,Z as ma,_ as pa,$ as xa,a0 as fa,a1 as Or,a2 as zr,a3 as kd,a4 as Td,a5 as _d}from"./ui-vendor-V-Ei8kYY.js";import{a as Br,r as u,c as Ed,R as pe,u as ga,f as Ad,B as Pd}from"./react-vendor-DwA95FbG.js";import{c as Hr,t as Id,j as hi}from"./utility-vendor-XCGKcYu0.js";import{R as pt,P as Un,a as Wn,C as Kn,T as xt,B as qr,b as ss,X as ns,Y as as,L as mi,c as Vr,d as va,e as ys,A as Dd,f as Md}from"./chart-vendor-9PNgCd9A.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();var Gr,pi=Br;Gr=pi.createRoot,pi.hydrateRoot;const Ld="modulepreload",Rd=function(s){return"/"+s},xi={},Ss=function(t,n,a){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");i=Promise.allSettled(n.map(c=>{if(c=Rd(c),c in xi)return;xi[c]=!0;const d=c.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":Ld,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((p,v)=>{h.addEventListener("load",p),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function r(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&r(l.reason);return t().catch(r)})};class Ur extends u.Component{constructor(t){super(t),this.retryTimeoutId=null,this.shouldAutoRetry=n=>["ChunkLoadError","Loading chunk","Failed to import","NetworkError","TypeError: Failed to fetch"].some(i=>n.message.includes(i)||n.name.includes(i)),this.handleRetry=()=>{console.log("üîÑ [ErrorBoundary] Retrying after error..."),this.setState(n=>({hasError:!1,error:null,retryCount:n.retryCount+1}))},this.handleResetToHome=()=>{console.log("üè† [ErrorBoundary] Resetting to home state...");try{localStorage.removeItem("lastInterface"),sessionStorage.clear(),window.location.href="/"}catch(n){console.error("üö® [ErrorBoundary] Failed to reset to home:",n),window.location.reload()}},this.state={hasError:!1,error:null,retryCount:0}}static getDerivedStateFromError(t){return{hasError:!0,error:t,retryCount:0}}componentDidCatch(t,n){console.error("üö® [ErrorBoundary] Uncaught error in component tree:",t),console.error("üö® [ErrorBoundary] Component stack:",n.componentStack),this.props.onError&&this.props.onError(t,n),this.shouldAutoRetry(t)&&this.state.retryCount<2&&(console.log("üîÑ [ErrorBoundary] Attempting auto-recovery..."),this.retryTimeoutId=setTimeout(()=>{this.handleRetry()},1e3))}componentWillUnmount(){this.retryTimeoutId&&clearTimeout(this.retryTimeoutId)}render(){return this.state.hasError?this.props.fallbackComponent?this.props.fallbackComponent:e.jsx("div",{className:"flex items-center justify-center h-screen p-4 bg-gray-50",children:e.jsxs("div",{className:"max-w-md text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-2",children:"T·∫°m th·ªùi c√≥ l·ªói"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"C√≥ l·ªói kh√¥ng mong mu·ªën x·∫£y ra. ƒê·ª´ng lo l·∫Øng, ch√∫ng t√¥i s·∫Ω ƒë∆∞a b·∫°n v·ªÅ trang ch·ªß."}),e.jsxs("div",{className:"space-y-3",children:[this.state.retryCount<3&&e.jsxs("button",{onClick:this.handleRetry,className:"w-full px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:["Th·ª≠ l·∫°i (",3-this.state.retryCount," l·∫ßn c√≤n l·∫°i)"]}),e.jsx("button",{onClick:this.handleResetToHome,className:"w-full px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition-colors",children:"üè† V·ªÅ trang ch·ªß"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600 transition-colors",children:"üîÑ T·∫£i l·∫°i trang"})]}),this.state.error&&e.jsxs("details",{className:"mt-4 text-left",children:[e.jsx("summary",{className:"cursor-pointer text-sm text-gray-500",children:"Chi ti·∫øt l·ªói"}),e.jsx("pre",{className:"mt-2 p-2 bg-gray-100 rounded text-xs overflow-auto",children:this.state.error.toString()})]})]})}):this.props.children}}function $d(s,t){if(s instanceof RegExp)return{keys:!1,pattern:s};var n,a,i,r,o=[],l="",c=s.split("/");for(c[0]||c.shift();i=c.shift();)n=i[0],n==="*"?(o.push(n),l+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(a=i.indexOf("?",1),r=i.indexOf(".",1),o.push(i.substring(1,~a?a:~r?r:i.length)),l+=~a&&!~r?"(?:/([^/]+?))?":"/([^/]+?)",~r&&(l+=(~a?"?":"")+"\\"+i.substring(r))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var Wr={exports:{}},Kr={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var os=u;function Fd(s,t){return s===t&&(s!==0||1/s===1/t)||s!==s&&t!==t}var Od=typeof Object.is=="function"?Object.is:Fd,zd=os.useState,Bd=os.useEffect,Hd=os.useLayoutEffect,qd=os.useDebugValue;function Vd(s,t){var n=t(),a=zd({inst:{value:n,getSnapshot:t}}),i=a[0].inst,r=a[1];return Hd(function(){i.value=n,i.getSnapshot=t,En(i)&&r({inst:i})},[s,n,t]),Bd(function(){return En(i)&&r({inst:i}),s(function(){En(i)&&r({inst:i})})},[s]),qd(n),n}function En(s){var t=s.getSnapshot;s=s.value;try{var n=t();return!Od(s,n)}catch{return!0}}function Gd(s,t){return t()}var Ud=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Gd:Vd;Kr.useSyncExternalStore=os.useSyncExternalStore!==void 0?os.useSyncExternalStore:Ud;Wr.exports=Kr;var Qr=Wr.exports;const Wd=Ed.useInsertionEffect,Kd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qd=Kd?u.useLayoutEffect:u.useEffect,Xd=Wd||Qd,Xr=s=>{const t=u.useRef([s,(...n)=>t[0](...n)]).current;return Xd(()=>{t[0]=s}),t[1]},Yd="popstate",ya="pushState",ja="replaceState",Zd="hashchange",fi=[Yd,ya,ja,Zd],Jd=s=>{for(const t of fi)addEventListener(t,s);return()=>{for(const t of fi)removeEventListener(t,s)}},Yr=(s,t)=>Qr.useSyncExternalStore(Jd,s,t),eu=()=>location.search,tu=({ssrSearch:s=""}={})=>Yr(eu,()=>s),gi=()=>location.pathname,su=({ssrPath:s}={})=>Yr(gi,s?()=>s:gi),nu=(s,{replace:t=!1,state:n=null}={})=>history[t?ja:ya](n,"",s),au=(s={})=>[su(s),nu],vi=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[vi]>"u"){for(const s of[ya,ja]){const t=history[s];history[s]=function(){const n=t.apply(this,arguments),a=new Event(s);return a.arguments=arguments,dispatchEvent(a),n}}Object.defineProperty(window,vi,{value:!0})}const iu=(s,t)=>t.toLowerCase().indexOf(s.toLowerCase())?"~"+t:t.slice(s.length)||"/",Zr=(s="")=>s==="/"?"":s,ru=(s,t)=>s[0]==="~"?s.slice(1):Zr(t)+s,lu=(s="",t)=>iu(yi(Zr(s)),yi(t)),yi=s=>{try{return decodeURI(s)}catch{return s}},Jr={hook:au,searchHook:tu,parser:$d,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:s=>s},el=u.createContext(Jr),Ms=()=>u.useContext(el),tl={},sl=u.createContext(tl),ou=()=>u.useContext(sl),fn=s=>{const[t,n]=s.hook(s);return[lu(s.base,t),Xr((a,i)=>n(ru(a,s.base),i))]},us=()=>fn(Ms()),nl=(s,t,n,a)=>{const{pattern:i,keys:r}=t instanceof RegExp?{keys:!1,pattern:t}:s(t||"*",a),o=i.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=r!==!1?Object.fromEntries(r.map((h,p)=>[h,c[p]])):o.groups;let m={...c};return d&&Object.assign(m,d),m})(),...a?[l]:[]]:[!1,null]},cu=({children:s,...t})=>{const n=Ms(),a=t.hook?Jr:n;let i=a;const[r,o]=t.ssrPath?.split("?")??[];o&&(t.ssrSearch=o,t.ssrPath=r),t.hrefs=t.hrefs??t.hook?.hrefs;let l=u.useRef({}),c=l.current,d=c;for(let m in a){const h=m==="base"?a[m]+(t[m]||""):t[m]||a[m];c===d&&h!==d[m]&&(l.current=d={...d}),d[m]=h,h!==a[m]&&(i=d)}return u.createElement(el.Provider,{value:i,children:s})},ji=({children:s,component:t},n)=>t?u.createElement(t,{params:n}):typeof s=="function"?s(n):s,du=s=>{let t=u.useRef(tl);const n=t.current;return t.current=Object.keys(s).length!==Object.keys(n).length||Object.entries(s).some(([a,i])=>i!==n[a])?s:n},ve=({path:s,nest:t,match:n,...a})=>{const i=Ms(),[r]=fn(i),[o,l,c]=n??nl(i.parser,s,r,t),d=du({...ou(),...l});if(!o)return null;const m=c?u.createElement(cu,{base:c},ji(a,d)):ji(a,d);return u.createElement(sl.Provider,{value:d,children:m})},Ee=u.forwardRef((s,t)=>{const n=Ms(),[a,i]=fn(n),{to:r="",href:o=r,onClick:l,asChild:c,children:d,className:m,replace:h,state:p,...v}=s,x=Xr(y=>{y.ctrlKey||y.metaKey||y.altKey||y.shiftKey||y.button!==0||(l?.(y),y.defaultPrevented||(y.preventDefault(),i(o,s)))}),g=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&u.isValidElement(d)?u.cloneElement(d,{onClick:x,href:g}):u.createElement("a",{...v,onClick:x,href:g,className:m?.call?m(a===o):m,children:d,ref:t})}),al=s=>Array.isArray(s)?s.flatMap(t=>al(t&&t.type===u.Fragment?t.props.children:t)):[s],uu=({children:s,location:t})=>{const n=Ms(),[a]=fn(n);for(const i of al(s)){let r=0;if(u.isValidElement(i)&&(r=nl(n.parser,i.props.path,t||a,i.props.nest))[0])return u.cloneElement(i,{match:r})}return null},hu=1,mu=1e6;let An=0;function pu(){return An=(An+1)%Number.MAX_SAFE_INTEGER,An.toString()}const Pn=new Map,bi=s=>{if(Pn.has(s))return;const t=setTimeout(()=>{Pn.delete(s),js({type:"REMOVE_TOAST",toastId:s})},mu);Pn.set(s,t)},xu=(s,t)=>{switch(t.type){case"ADD_TOAST":return{...s,toasts:[t.toast,...s.toasts].slice(0,hu)};case"UPDATE_TOAST":return{...s,toasts:s.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?bi(n):s.toasts.forEach(a=>{bi(a.id)}),{...s,toasts:s.toasts.map(a=>a.id===n||n===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return t.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(n=>n.id!==t.toastId)}}},Js=[];let en={toasts:[]};function js(s){en=xu(en,s),Js.forEach(t=>{t(en)})}function fu({...s}){const t=pu(),n=i=>js({type:"UPDATE_TOAST",toast:{...i,id:t}}),a=()=>js({type:"DISMISS_TOAST",toastId:t});return js({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:i=>{i||a()}}}),{id:t,dismiss:a,update:n}}function gu(){const[s,t]=u.useState(en);return u.useEffect(()=>(Js.push(t),()=>{const n=Js.indexOf(t);n>-1&&Js.splice(n,1)}),[s]),{...s,toast:fu,dismiss:n=>js({type:"DISMISS_TOAST",toastId:n})}}var ba="ToastProvider",[wa,vu,yu]=rd("Toast"),[il,WC]=Yt("Toast",[yu]),[ju,gn]=il(ba),rl=s=>{const{__scopeToast:t,label:n="Notification",duration:a=5e3,swipeDirection:i="right",swipeThreshold:r=50,children:o}=s,[l,c]=u.useState(null),[d,m]=u.useState(0),h=u.useRef(!1),p=u.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${ba}\`. Expected non-empty \`string\`.`),e.jsx(wa.Provider,{scope:t,children:e.jsx(ju,{scope:t,label:n,duration:a,swipeDirection:i,swipeThreshold:r,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:u.useCallback(()=>m(v=>v+1),[]),onToastRemove:u.useCallback(()=>m(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};rl.displayName=ba;var ll="ToastViewport",bu=["F8"],Qn="toast.viewportPause",Xn="toast.viewportResume",ol=u.forwardRef((s,t)=>{const{__scopeToast:n,hotkey:a=bu,label:i="Notifications ({hotkey})",...r}=s,o=gn(ll,n),l=vu(n),c=u.useRef(null),d=u.useRef(null),m=u.useRef(null),h=u.useRef(null),p=Mt(t,h,o.onViewportChange),v=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;u.useEffect(()=>{const y=j=>{a.length!==0&&a.every(b=>j[b]||j.code===b)&&h.current?.focus()};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[a]),u.useEffect(()=>{const y=c.current,j=h.current;if(x&&y&&j){const f=()=>{if(!o.isClosePausedRef.current){const E=new CustomEvent(Qn);j.dispatchEvent(E),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const E=new CustomEvent(Xn);j.dispatchEvent(E),o.isClosePausedRef.current=!1}},w=E=>{!y.contains(E.relatedTarget)&&b()},T=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",f),y.addEventListener("focusout",w),y.addEventListener("pointermove",f),y.addEventListener("pointerleave",T),window.addEventListener("blur",f),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",f),y.removeEventListener("focusout",w),y.removeEventListener("pointermove",f),y.removeEventListener("pointerleave",T),window.removeEventListener("blur",f),window.removeEventListener("focus",b)}}},[x,o.isClosePausedRef]);const g=u.useCallback(({tabbingDirection:y})=>{const f=l().map(b=>{const w=b.ref.current,T=[w,...Mu(w)];return y==="forwards"?T:T.reverse()});return(y==="forwards"?f.reverse():f).flat()},[l]);return u.useEffect(()=>{const y=h.current;if(y){const j=f=>{const b=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!b){const T=document.activeElement,E=f.shiftKey;if(f.target===y&&E){d.current?.focus();return}const D=g({tabbingDirection:E?"backwards":"forwards"}),C=D.findIndex(S=>S===T);In(D.slice(C+1))?f.preventDefault():E?d.current?.focus():m.current?.focus()}};return y.addEventListener("keydown",j),()=>y.removeEventListener("keydown",j)}},[l,g]),e.jsxs(ld,{ref:c,role:"region","aria-label":i.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&e.jsx(Yn,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});In(y)}}),e.jsx(wa.Slot,{scope:n,children:e.jsx(Te.ol,{tabIndex:-1,...r,ref:p})}),x&&e.jsx(Yn,{ref:m,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});In(y)}})]})});ol.displayName=ll;var cl="ToastFocusProxy",Yn=u.forwardRef((s,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:a,...i}=s,r=gn(cl,n);return e.jsx(vr,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{const l=o.relatedTarget;!r.viewport?.contains(l)&&a()}})});Yn.displayName=cl;var Ls="Toast",wu="toast.swipeStart",Nu="toast.swipeMove",Su="toast.swipeCancel",Cu="toast.swipeEnd",dl=u.forwardRef((s,t)=>{const{forceMount:n,open:a,defaultOpen:i,onOpenChange:r,...o}=s,[l,c]=xn({prop:a,defaultProp:i??!0,onChange:r,caller:Ls});return e.jsx(ua,{present:n||l,children:e.jsx(_u,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Ns(s.onPause),onResume:Ns(s.onResume),onSwipeStart:De(s.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:De(s.onSwipeMove,d=>{const{x:m,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:De(s.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:De(s.onSwipeEnd,d=>{const{x:m,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});dl.displayName=Ls;var[ku,Tu]=il(Ls,{onClose(){}}),_u=u.forwardRef((s,t)=>{const{__scopeToast:n,type:a="foreground",duration:i,open:r,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:m,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:v,...x}=s,g=gn(Ls,n),[y,j]=u.useState(null),f=Mt(t,P=>j(P)),b=u.useRef(null),w=u.useRef(null),T=i||g.duration,E=u.useRef(0),z=u.useRef(T),F=u.useRef(0),{onToastAdd:D,onToastRemove:C}=g,S=Ns(()=>{y?.contains(document.activeElement)&&g.viewport?.focus(),o()}),N=u.useCallback(P=>{!P||P===1/0||(window.clearTimeout(F.current),E.current=new Date().getTime(),F.current=window.setTimeout(S,P))},[S]);u.useEffect(()=>{const P=g.viewport;if(P){const V=()=>{N(z.current),d?.()},M=()=>{const k=new Date().getTime()-E.current;z.current=z.current-k,window.clearTimeout(F.current),c?.()};return P.addEventListener(Qn,M),P.addEventListener(Xn,V),()=>{P.removeEventListener(Qn,M),P.removeEventListener(Xn,V)}}},[g.viewport,T,c,d,N]),u.useEffect(()=>{r&&!g.isClosePausedRef.current&&N(T)},[r,T,g.isClosePausedRef,N]),u.useEffect(()=>(D(),()=>C()),[D,C]);const I=u.useMemo(()=>y?gl(y):null,[y]);return g.viewport?e.jsxs(e.Fragment,{children:[I&&e.jsx(Eu,{__scopeToast:n,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:I}),e.jsx(ku,{scope:n,onClose:S,children:Br.createPortal(e.jsx(wa.ItemSlot,{scope:n,children:e.jsx(od,{asChild:!0,onEscapeKeyDown:De(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||S(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(Te.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":r?"open":"closed","data-swipe-direction":g.swipeDirection,...x,ref:f,style:{userSelect:"none",touchAction:"none",...s.style},onKeyDown:De(s.onKeyDown,P=>{P.key==="Escape"&&(l?.(P.nativeEvent),P.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,S()))}),onPointerDown:De(s.onPointerDown,P=>{P.button===0&&(b.current={x:P.clientX,y:P.clientY})}),onPointerMove:De(s.onPointerMove,P=>{if(!b.current)return;const V=P.clientX-b.current.x,M=P.clientY-b.current.y,k=!!w.current,A=["left","right"].includes(g.swipeDirection),B=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,Y=A?B(0,V):0,we=A?0:B(0,M),ne=P.pointerType==="touch"?10:2,ue={x:Y,y:we},W={originalEvent:P,delta:ue};k?(w.current=ue,Bs(Nu,h,W,{discrete:!1})):wi(ue,g.swipeDirection,ne)?(w.current=ue,Bs(wu,m,W,{discrete:!1}),P.target.setPointerCapture(P.pointerId)):(Math.abs(V)>ne||Math.abs(M)>ne)&&(b.current=null)}),onPointerUp:De(s.onPointerUp,P=>{const V=w.current,M=P.target;if(M.hasPointerCapture(P.pointerId)&&M.releasePointerCapture(P.pointerId),w.current=null,b.current=null,V){const k=P.currentTarget,A={originalEvent:P,delta:V};wi(V,g.swipeDirection,g.swipeThreshold)?Bs(Cu,v,A,{discrete:!0}):Bs(Su,p,A,{discrete:!0}),k.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),Eu=s=>{const{__scopeToast:t,children:n,...a}=s,i=gn(Ls,t),[r,o]=u.useState(!1),[l,c]=u.useState(!1);return Iu(()=>o(!0)),u.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:e.jsx(cd,{asChild:!0,children:e.jsx(vr,{...a,children:r&&e.jsxs(e.Fragment,{children:[i.label," ",n]})})})},Au="ToastTitle",ul=u.forwardRef((s,t)=>{const{__scopeToast:n,...a}=s;return e.jsx(Te.div,{...a,ref:t})});ul.displayName=Au;var Pu="ToastDescription",hl=u.forwardRef((s,t)=>{const{__scopeToast:n,...a}=s;return e.jsx(Te.div,{...a,ref:t})});hl.displayName=Pu;var ml="ToastAction",pl=u.forwardRef((s,t)=>{const{altText:n,...a}=s;return n.trim()?e.jsx(fl,{altText:n,asChild:!0,children:e.jsx(Na,{...a,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${ml}\`. Expected non-empty \`string\`.`),null)});pl.displayName=ml;var xl="ToastClose",Na=u.forwardRef((s,t)=>{const{__scopeToast:n,...a}=s,i=Tu(xl,n);return e.jsx(fl,{asChild:!0,children:e.jsx(Te.button,{type:"button",...a,ref:t,onClick:De(s.onClick,i.onClose)})})});Na.displayName=xl;var fl=u.forwardRef((s,t)=>{const{__scopeToast:n,altText:a,...i}=s;return e.jsx(Te.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...i,ref:t})});function gl(s){const t=[];return Array.from(s.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&t.push(a.textContent),Du(a)){const i=a.ariaHidden||a.hidden||a.style.display==="none",r=a.dataset.radixToastAnnounceExclude==="";if(!i)if(r){const o=a.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...gl(a))}}),t}function Bs(s,t,n,{discrete:a}){const i=n.originalEvent.currentTarget,r=new CustomEvent(s,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(s,t,{once:!0}),a?dd(i,r):i.dispatchEvent(r)}var wi=(s,t,n=0)=>{const a=Math.abs(s.x),i=Math.abs(s.y),r=a>i;return t==="left"||t==="right"?r&&a>n:!r&&i>n};function Iu(s=()=>{}){const t=Ns(s);an(()=>{let n=0,a=0;return n=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(a)}},[t])}function Du(s){return s.nodeType===s.ELEMENT_NODE}function Mu(s){const t=[],n=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const i=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||i?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function In(s){const t=document.activeElement;return s.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var Lu=rl,vl=ol,yl=dl,jl=ul,bl=hl,wl=pl,Nl=Na;const Ni=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,Si=Hr,hs=(s,t)=>n=>{var a;if(t?.variants==null)return Si(s,n?.class,n?.className);const{variants:i,defaultVariants:r}=t,o=Object.keys(i).map(d=>{const m=n?.[d],h=r?.[d];if(m===null)return null;const p=Ni(m)||Ni(h);return i[d][p]}),l=n&&Object.entries(n).reduce((d,m)=>{let[h,p]=m;return p===void 0||(d[h]=p),d},{}),c=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((d,m)=>{let{class:h,className:p,...v}=m;return Object.entries(v).every(x=>{let[g,y]=x;return Array.isArray(y)?y.includes({...r,...l}[g]):{...r,...l}[g]===y})?[...d,h,p]:d},[]);return Si(s,o,c,n?.class,n?.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Sl=(...s)=>s.filter((t,n,a)=>!!t&&a.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $u={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=u.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:i="",children:r,iconNode:o,...l},c)=>u.createElement("svg",{ref:c,...$u,width:t,height:t,stroke:s,strokeWidth:a?Number(n)*24/Number(t):n,className:Sl("lucide",i),...l},[...o.map(([d,m])=>u.createElement(d,m)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=(s,t)=>{const n=u.forwardRef(({className:a,...i},r)=>u.createElement(Fu,{ref:r,iconNode:t,className:Sl(`lucide-${Ru(s)}`,a),...i}));return n.displayName=`${s}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=Q("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=Q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=Q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=Q("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=Q("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=Q("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=Q("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=Q("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=Q("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=Q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=Q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=Q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=Q("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=Q("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=Q("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=Q("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=Q("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=Q("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=Q("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=Q("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=Q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=Q("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=Q("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=Q("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=Q("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=Q("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=Q("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=Q("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=Q("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=Q("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=Q("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=Q("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=Q("Hotel",[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=Q("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=Q("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=Q("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=Q("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=Q("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=Q("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=Q("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=Q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=Q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=Q("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=Q("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=Q("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=Q("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=Q("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=Q("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=Q("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=Q("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=Q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=Q("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=Q("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=Q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=Q("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=Q("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=Q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=Q("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=Q("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=Q("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=Q("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=Q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=Q("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=Q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=Q("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=Q("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=Q("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=Q("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=Q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=Q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=Q("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=Q("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=Q("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=Q("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=Q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=Q("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function O(...s){return Id(Hr(s))}const Ju=Lu,Il=u.forwardRef(({className:s,...t},n)=>e.jsx(vl,{ref:n,className:O("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s),...t}));Il.displayName=vl.displayName;const eh=hs("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-dark",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Dl=u.forwardRef(({className:s,variant:t,...n},a)=>e.jsx(yl,{ref:a,className:O(eh({variant:t}),s),...n}));Dl.displayName=yl.displayName;const th=u.forwardRef(({className:s,...t},n)=>e.jsx(wl,{ref:n,className:O("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",s),...t}));th.displayName=wl.displayName;const Ml=u.forwardRef(({className:s,...t},n)=>e.jsx(Nl,{ref:n,className:O("absolute right-2 top-2 rounded-md p-1 text-dark/50 opacity-0 transition-opacity hover:text-dark focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),"toast-close":"",...t,children:e.jsx(wt,{className:"h-4 w-4"})}));Ml.displayName=Nl.displayName;const Ll=u.forwardRef(({className:s,...t},n)=>e.jsx(jl,{ref:n,className:O("text-sm font-semibold",s),...t}));Ll.displayName=jl.displayName;const Rl=u.forwardRef(({className:s,...t},n)=>e.jsx(bl,{ref:n,className:O("text-sm opacity-90",s),...t}));Rl.displayName=bl.displayName;function sh(){const{toasts:s}=gu();return e.jsxs(Ju,{children:[s.map(function({id:t,title:n,description:a,action:i,...r}){return e.jsxs(Dl,{...r,children:[e.jsxs("div",{className:"grid gap-1",children:[n&&e.jsx(Ll,{children:n}),a&&e.jsx(Rl,{children:a})]}),i,e.jsx(Ml,{})]},t)}),e.jsx(Il,{})]})}function nh(s,t){if(s===t)return 1;if(s.length===0||t.length===0)return 0;const n=s.length>t.length?s:t,a=s.length>t.length?t:s;if(n.includes(a))return a.length/n.length;let i=0;for(let r=0;r<a.length;r++)n.includes(a[r])&&i++;return i/a.length}function ah(s,t=.8){const n=[],a=new Map;for(const i of s){const r=i.name.toLowerCase().replace(/\s+/g," ").trim();let o=!1;const l=Array.from(a.keys());for(const c of l)if(nh(r,c)>t){o=!0;break}o||(a.set(r,!0),n.push(i))}return n}const bn={roomNumber:/(?:room(?:\s+number)?|room|ph√≤ng)(?:\s*[:#\-]?\s*)([0-9]{1,4}[A-Za-z]?)|(?:staying in|in room|in ph√≤ng|ph√≤ng s·ªë)(?:\s+)([0-9]{1,4}[A-Za-z]?)/i,specialInstructions:/(?:special|additional|extra|note|instruction|request|preference)[:\s]*([^\.]+)/i,deliveryTime:/(?:delivery|arrival|ready|serve|bring)[:\s]*([^\.]+)/i,totalAmount:/(?:total|amount|cost|price|bill|charge)[:\s]*(\d+(?:,\d+)*(?:\.\d+)?)/i};function ih(s){const t=s.match(bn.roomNumber);return t?t[1]||t[2]:null}function rh(s){const t=s.match(bn.specialInstructions);return t?t[1].trim():null}function lh(s){const t=s.match(bn.deliveryTime);return t?t[1].trim():null}function oh(s){const t=s.match(bn.totalAmount);return t?parseFloat(t[1].replace(/,/g,"")):null}const Ie={roomNumber:/(?:room(?:\s+number)?|room|ph√≤ng)(?:\s*[:#\-]?\s*)([0-9]{1,4}[A-Za-z]?)|(?:staying in|in room|in ph√≤ng|ph√≤ng s·ªë)(?:\s+)([0-9]{1,4}[A-Za-z]?)/i,food:/food|beverage|breakfast|lunch|dinner|meal|drink|snack|restaurant/i,housekeeping:/housekeeping|cleaning|towel|cleaning\s*service|laundry/i,roomService:/room\s*service/i,spa:/spa|massage|wellness|treatment/i,transportation:/transportation|taxi|car|shuttle|airport\s*transfer/i,tours:/tour|sightseeing|excursion|attraction|visit|activity/i,technical:/wifi|internet|tv|television|remote|device|technical|connection/i,concierge:/reservation|booking|restaurant|ticket|arrangement|concierge/i,wellness:/gym|fitness|exercise|yoga|swimming|pool|sauna/i,security:/safe|security|lost|found|key|card|lock|emergency/i,specialOccasion:/birthday|anniversary|celebration|honeymoon|proposal|wedding|special occasion/i,other:/currency\s*exchange|money\s*change|exchange\s*money|foreign\s*currency|bus\s*ticket|train\s*ticket|sell|purchase|buy/i,items:/items?[:\s]*([^\.]+)/i,request:/(?:requested|asked for|ordered|booking|reservation for|inquired about)\s+([^\.;]+)/gi,bullets:/(?:^|\n)[-‚Ä¢*]\s*([^\n]+)/g,sentences:/\.(?:\s|$)/},ch={roomService:"room-service",food:"food-beverage",housekeeping:"housekeeping",transportation:"transportation",spa:"spa",tours:"tours-activities",technical:"technical-support",concierge:"concierge",wellness:"wellness-fitness",security:"security",specialOccasion:"special-occasions",wifi:"wifi-faq",checkIn:"check-in-out",checkOut:"check-in-out",information:"hotel-info",tourism:"attractions",feedback:"feedback",support:"support",other:"other"};function Ts(s){const t=s.match(Ie.roomNumber);if(t)return t[1]||t[2]||null;const n=s.match(/(?:room details|room number|ph√≤ng s·ªë)(?:\s*[:#\-]?\s*)([0-9]{1,4}[A-Za-z]?)/i);if(n&&n[1])return n[1];const a=s.match(/(?:details[\s\S]*?room(?:\s+number)?[\s\S]*?)([0-9]{1,4}[A-Za-z]?)/i);return a&&a[1]?a[1]:null}function dh(s){const t=[];Ie.food.test(s)&&t.push("food"),Ie.housekeeping.test(s)&&t.push("housekeeping"),Ie.transportation.test(s)&&t.push("transportation"),Ie.roomService.test(s)&&t.push("roomService"),Ie.spa.test(s)&&t.push("spa"),Ie.tours.test(s)&&t.push("tours"),Ie.technical.test(s)&&t.push("technical"),Ie.concierge.test(s)&&t.push("concierge"),Ie.wellness.test(s)&&t.push("wellness"),Ie.security.test(s)&&t.push("security"),Ie.specialOccasion.test(s)&&t.push("specialOccasion"),Ie.other.test(s)&&t.push("other");const n=t.map(a=>ch[a]||"other");return n.length>0?n:["other"]}function uh(s){return dh(s).join(",")}function hh(s){const t=s.match(Ie.items);let n=[];const a=s.match(Ie.bullets);if(a&&a.length>0){const r=a.map((o,l)=>{const c=o.replace(/^[-‚Ä¢*]\s*/,"").trim();return Hs(c,l)}).filter(o=>o.name.length>0);n=[...n,...r]}{const r=s.match(Ie.request);if(r&&r.length>0){const o=r.map((l,c)=>{const d=l.replace(/(?:requested|asked for|ordered|booking|reservation for|inquired about)\s+/i,"").trim();return Hs(d,c)}).filter(l=>l.name.length>0);n=[...n,...o]}}if(t){const l=t[1].split(/(?:,\s*|\s+and\s+|\s*&\s*|\s*\+\s*)/).map((c,d)=>Hs(c,d)).filter(c=>c.name.length>0);n=[...n,...l]}if(n.length===0){const r=s.split(Ie.sentences);for(let o=0;o<r.length;o++){const l=r[o].trim();(l.toLowerCase().includes("request")||l.toLowerCase().includes("book")||l.toLowerCase().includes("order")||l.toLowerCase().includes("exchange")||l.toLowerCase().includes("inquired"))&&n.push(Hs(l,n.length))}}return ah(n,.8).map((r,o)=>({...r,id:(o+1).toString()}))}function Hs(s,t){const n=s.trim().replace(/^[-‚Ä¢*]\s+/,"").replace(/^- /,""),a=n.match(/^([0-9]+)\s+(.+)$/),i=a?parseInt(a[1]):1,r=a?a[2]:n;let o="";const l=n.match(/(?:on|for)\s+((?:January|February|March|April|May|June|July|August|September|October|November|December|Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s+\d{1,2}(?:st|nd|rd|th)?(?:,?\s+\d{4})?|\d{1,2}\/\d{1,2}(?:\/\d{2,4})?)/i),c=l?`Date: ${l[1]}`:"",d=n.match(/(\d+)\s+(?:people|person|pax|guest|adult|child|passenger)/i),m=d?`Guests: ${d[1]} people`:"",h=n.match(/(?:to|in|at|for)\s+([A-Z][a-z]+(?:\s+[A-Z][a-z]+)*|[A-Z][A-Z]+|[A-Z][a-z]+)/),p=h?`Location: ${h[1]}`:"",v=n.match(/(?:at|from)\s+(\d{1,2}(?::\d{2})?\s*(?:AM|PM|am|pm))/i),x=v?`Time: ${v[1]}`:"",g=n.match(/(\d+(?:,\d+)*(?:\.\d+)?)\s*(?:USD|US dollars|\$|VND|dong)/i),y=g?`Amount: ${g[1]} ${g[0].includes("USD")||g[0].includes("US")||g[0].includes("$")?"USD":"VND"}`:"",j=[c,m,p,x,y].filter(f=>f.length>0);return j.length>0?o=j.join(`
`):o=`Details for ${r.charAt(0).toLowerCase()+r.slice(1)}`,{id:(t+1).toString(),name:r.charAt(0).toUpperCase()+r.slice(1),description:o,quantity:i,price:mh(r)}}function mh(s){const t=s.toLowerCase();return/sandwich|burger|pasta|steak|fish|chicken|breakfast|lunch|dinner/.test(t)?15:/coffee|tea|juice|water|soda|wine|beer|cocktail|drink/.test(t)?8:/towel|soap|shampoo|toothbrush|toothpaste|amenities/.test(t)?5:/cleaning|housekeeping|laundry|ironing/.test(t)?20:/taxi|car|shuttle|transfer/.test(t)?30:10}function La(s){if(!s)return{};const t=ih(s)||"",n=uh(s),a=lh(s)||"",i=rh(s)||"",r=hh(s),o=oh(s)||0;return{roomNumber:t,orderType:n,deliveryTime:a,guestName:"",guestEmail:"",guestPhone:"",specialInstructions:i,items:r,totalAmount:o}}let zt=null;const ph=async()=>{if(zt)return zt;try{console.log("üîÑ [VAPI] Loading Vapi module...");const s=await Ss(()=>import("./voice-vendor-By6w_Ckf.js").then(t=>t.v),__vite__mapDeps([0,1]));if(zt=s.default||s,typeof zt=="function")return console.log("‚úÖ [VAPI] Successfully loaded via dynamic import"),zt;throw new Error("Dynamic import failed, trying alternative...")}catch(s){console.warn("‚ö†Ô∏è [VAPI] Dynamic import failed:",s.message);try{if(typeof window<"u"&&window.Vapi)return zt=window.Vapi,console.log("‚úÖ [VAPI] Found Vapi on window object"),zt;throw new Error("No Vapi available")}catch(t){throw console.error("‚ùå [VAPI] All import methods failed:",t),new Error("Failed to load Vapi: "+t.message)}}},$l="pk_c3e56893-4a8b-45bb-b3d6-b5a2a0edd8f8";console.log("[vapiClient] Environment public key:",$l);let Fe=null;const Fl=async s=>{try{console.log("üöÄ [REAL VAPI] Initializing with key:",s?.substring(0,10)+"...");const t=await ph();if(console.log("üöÄ [REAL VAPI] Vapi class loaded:",typeof t),Fe){console.log("[vapiClient] Cleaning up existing instance");try{Fe.stop()}catch(n){console.warn("[vapiClient] Error stopping previous instance:",n)}}return console.log("üöÄ [REAL VAPI] Creating new Vapi instance..."),Fe=new t(s),console.log("‚úÖ [REAL VAPI] Instance created successfully!"),Fe.on("call-start",()=>{console.log("[vapiClient] Call started")}),Fe.on("call-end",()=>{console.log("[vapiClient] Call ended")}),Fe.on("speech-start",()=>{console.log("[vapiClient] Speech started")}),Fe.on("speech-end",()=>{console.log("[vapiClient] Speech ended")}),Fe.on("volume-level",n=>{console.log("[vapiClient] Volume level:",n)}),Fe.on("message",n=>{console.log("[vapiClient] Message received:",n)}),Fe.on("error",n=>{console.error("[vapiClient] Vapi error:",n)}),Fe}catch(t){throw console.error("[vapiClient] Failed to initialize Vapi:",t),t}},qs=()=>Fe,xh=()=>{if(console.log("[vapiClient] Resetting Vapi instance"),Fe){try{Fe.stop()}catch(s){console.warn("[vapiClient] Error stopping instance during reset:",s)}Fe=null}};console.log("[vapiClient] Auto-initializing with environment key"),Fl($l).catch(s=>{console.error("[vapiClient] Auto-initialization failed:",s)});var wn=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Nn=typeof window>"u"||"Deno"in globalThis;function tt(){}function fh(s,t){return typeof s=="function"?s(t):s}function gh(s){return typeof s=="number"&&s>=0&&s!==1/0}function vh(s,t){return Math.max(s+(t||0)-Date.now(),0)}function Ti(s,t){return typeof s=="function"?s(t):s}function yh(s,t){return typeof s=="function"?s(t):s}function _i(s,t){const{type:n="all",exact:a,fetchStatus:i,predicate:r,queryKey:o,stale:l}=s;if(o){if(a){if(t.queryHash!==Ra(o,t.options))return!1}else if(!Es(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||r&&!r(t))}function Ei(s,t){const{exact:n,status:a,predicate:i,mutationKey:r}=s;if(r){if(!t.options.mutationKey)return!1;if(n){if(_s(t.options.mutationKey)!==_s(r))return!1}else if(!Es(t.options.mutationKey,r))return!1}return!(a&&t.state.status!==a||i&&!i(t))}function Ra(s,t){return(t?.queryKeyHashFn||_s)(s)}function _s(s){return JSON.stringify(s,(t,n)=>ta(n)?Object.keys(n).sort().reduce((a,i)=>(a[i]=n[i],a),{}):n)}function Es(s,t){return s===t?!0:typeof s!=typeof t?!1:s&&t&&typeof s=="object"&&typeof t=="object"?Object.keys(t).every(n=>Es(s[n],t[n])):!1}function Ol(s,t){if(s===t)return s;const n=Ai(s)&&Ai(t);if(n||ta(s)&&ta(t)){const a=n?s:Object.keys(s),i=a.length,r=n?t:Object.keys(t),o=r.length,l=n?[]:{};let c=0;for(let d=0;d<o;d++){const m=n?d:r[d];(!n&&a.includes(m)||n)&&s[m]===void 0&&t[m]===void 0?(l[m]=void 0,c++):(l[m]=Ol(s[m],t[m]),l[m]===s[m]&&s[m]!==void 0&&c++)}return i===o&&c===i?s:l}return t}function KC(s,t){if(!t||Object.keys(s).length!==Object.keys(t).length)return!1;for(const n in s)if(s[n]!==t[n])return!1;return!0}function Ai(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function ta(s){if(!Pi(s))return!1;const t=s.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Pi(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function Pi(s){return Object.prototype.toString.call(s)==="[object Object]"}function jh(s){return new Promise(t=>{setTimeout(t,s)})}function bh(s,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(s,t):n.structuralSharing!==!1?Ol(s,t):t}function wh(s,t,n=0){const a=[...s,t];return n&&a.length>n?a.slice(1):a}function Nh(s,t,n=0){const a=[t,...s];return n&&a.length>n?a.slice(0,-1):a}var $a=Symbol();function zl(s,t){return!s.queryFn&&t?.initialPromise?()=>t.initialPromise:!s.queryFn||s.queryFn===$a?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn}function QC(s,t){return typeof s=="function"?s(...t):!!s}var Sh=class extends wn{#e;#t;#s;constructor(){super(),this.#s=s=>{if(!Nn&&window.addEventListener){const t=()=>s();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(s){this.#s=s,this.#t?.(),this.#t=s(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(s){this.#e!==s&&(this.#e=s,this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(t=>{t(s)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Bl=new Sh,Ch=class extends wn{#e=!0;#t;#s;constructor(){super(),this.#s=s=>{if(!Nn&&window.addEventListener){const t=()=>s(!0),n=()=>s(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(s){this.#s=s,this.#t?.(),this.#t=s(this.setOnline.bind(this))}setOnline(s){this.#e!==s&&(this.#e=s,this.listeners.forEach(n=>{n(s)}))}isOnline(){return this.#e}},ln=new Ch;function kh(){let s,t;const n=new Promise((i,r)=>{s=i,t=r});n.status="pending",n.catch(()=>{});function a(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{a({status:"fulfilled",value:i}),s(i)},n.reject=i=>{a({status:"rejected",reason:i}),t(i)},n}function Th(s){return Math.min(1e3*2**s,3e4)}function Hl(s){return(s??"online")==="online"?ln.isOnline():!0}var ql=class extends Error{constructor(s){super("CancelledError"),this.revert=s?.revert,this.silent=s?.silent}};function Mn(s){return s instanceof ql}function Vl(s){let t=!1,n=0,a=!1,i;const r=kh(),o=g=>{a||(p(new ql(g)),s.abort?.())},l=()=>{t=!0},c=()=>{t=!1},d=()=>Bl.isFocused()&&(s.networkMode==="always"||ln.isOnline())&&s.canRun(),m=()=>Hl(s.networkMode)&&s.canRun(),h=g=>{a||(a=!0,s.onSuccess?.(g),i?.(),r.resolve(g))},p=g=>{a||(a=!0,s.onError?.(g),i?.(),r.reject(g))},v=()=>new Promise(g=>{i=y=>{(a||d())&&g(y)},s.onPause?.()}).then(()=>{i=void 0,a||s.onContinue?.()}),x=()=>{if(a)return;let g;const y=n===0?s.initialPromise:void 0;try{g=y??s.fn()}catch(j){g=Promise.reject(j)}Promise.resolve(g).then(h).catch(j=>{if(a)return;const f=s.retry??(Nn?0:3),b=s.retryDelay??Th,w=typeof b=="function"?b(n,j):b,T=f===!0||typeof f=="number"&&n<f||typeof f=="function"&&f(n,j);if(t||!T){p(j);return}n++,s.onFail?.(n,j),jh(w).then(()=>d()?void 0:v()).then(()=>{t?p(j):x()})})};return{promise:r,cancel:o,continue:()=>(i?.(),r),cancelRetry:l,continueRetry:c,canStart:m,start:()=>(m()?x():v().then(x),r)}}var _h=s=>setTimeout(s,0);function Eh(){let s=[],t=0,n=l=>{l()},a=l=>{l()},i=_h;const r=l=>{t?s.push(l):i(()=>{n(l)})},o=()=>{const l=s;s=[],l.length&&i(()=>{a(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{r(()=>{l(...c)})},schedule:r,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{a=l},setScheduler:l=>{i=l}}}var Oe=Eh(),Gl=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),gh(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(Nn?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},Ah=class extends Gl{#e;#t;#s;#a;#n;#r;#l;constructor(s){super(),this.#l=!1,this.#r=s.defaultOptions,this.setOptions(s.options),this.observers=[],this.#a=s.client,this.#s=this.#a.getQueryCache(),this.queryKey=s.queryKey,this.queryHash=s.queryHash,this.#e=Ih(this.options),this.state=s.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(s){this.options={...this.#r,...s},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(s,t){const n=bh(this.state.data,s,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(s,t){this.#i({type:"setState",state:s,setStateOptions:t})}cancel(s){const t=this.#n?.promise;return this.#n?.cancel(s),t?t.then(tt).catch(tt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(s=>yh(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===$a||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(s=0){return this.state.isInvalidated||this.state.data===void 0||!vh(this.state.dataUpdatedAt,s)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(t=>t!==s),this.observers.length||(this.#n&&(this.#l?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}fetch(s,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(s&&this.setOptions(s),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,a=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#l=!0,n.signal)})},i=()=>{const l=zl(this.options,t),c={client:this.#a,queryKey:this.queryKey,meta:this.meta};return a(c),this.#l=!1,this.options.persister?this.options.persister(l,c,this):l(c)},r={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:i};a(r),this.options.behavior?.onFetch(r,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==r.fetchOptions?.meta)&&this.#i({type:"fetch",meta:r.fetchOptions?.meta});const o=l=>{Mn(l)&&l.silent||this.#i({type:"error",error:l}),Mn(l)||(this.#s.config.onError?.(l,this),this.#s.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#n=Vl({initialPromise:t?.initialPromise,fn:r.fetchFn,abort:n.abort.bind(n),onSuccess:l=>{if(l===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(c){o(c);return}this.#s.config.onSuccess?.(l,this),this.#s.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:o,onFail:(l,c)=>{this.#i({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:r.options.retry,retryDelay:r.options.retryDelay,networkMode:r.options.networkMode,canRun:()=>!0}),this.#n.start()}#i(s){const t=n=>{switch(s.type){case"failed":return{...n,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Ph(n.data,this.options),fetchMeta:s.meta??null};case"success":return{...n,data:s.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:s.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=s.error;return Mn(a)&&a.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...s.state}}};this.state=t(this.state),Oe.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:s})})}};function Ph(s,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Hl(t.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function Ih(s){const t=typeof s.initialData=="function"?s.initialData():s.initialData,n=t!==void 0,a=n?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Dh=class extends wn{constructor(s={}){super(),this.config=s,this.#e=new Map}#e;build(s,t,n){const a=t.queryKey,i=t.queryHash??Ra(a,t);let r=this.get(i);return r||(r=new Ah({client:s,queryKey:a,queryHash:i,options:s.defaultQueryOptions(t),state:n,defaultOptions:s.getQueryDefaults(a)}),this.add(r)),r}add(s){this.#e.has(s.queryHash)||(this.#e.set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const t=this.#e.get(s.queryHash);t&&(s.destroy(),t===s&&this.#e.delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){Oe.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return this.#e.get(s)}getAll(){return[...this.#e.values()]}find(s){const t={exact:!0,...s};return this.getAll().find(n=>_i(t,n))}findAll(s={}){const t=this.getAll();return Object.keys(s).length>0?t.filter(n=>_i(s,n)):t}notify(s){Oe.batch(()=>{this.listeners.forEach(t=>{t(s)})})}onFocus(){Oe.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){Oe.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},Mh=class extends Gl{#e;#t;#s;constructor(s){super(),this.mutationId=s.mutationId,this.#t=s.mutationCache,this.#e=[],this.state=s.state||Lh(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){this.#e.includes(s)||(this.#e.push(s),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){this.#e=this.#e.filter(t=>t!==s),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(s){const t=()=>{this.#a({type:"continue"})};this.#s=Vl({fn:()=>this.options.mutationFn?this.options.mutationFn(s):Promise.reject(new Error("No mutationFn found")),onFail:(i,r)=>{this.#a({type:"failed",failureCount:i,error:r})},onPause:()=>{this.#a({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const n=this.state.status==="pending",a=!this.#s.canStart();try{if(n)t();else{this.#a({type:"pending",variables:s,isPaused:a}),await this.#t.config.onMutate?.(s,this);const r=await this.options.onMutate?.(s);r!==this.state.context&&this.#a({type:"pending",context:r,variables:s,isPaused:a})}const i=await this.#s.start();return await this.#t.config.onSuccess?.(i,s,this.state.context,this),await this.options.onSuccess?.(i,s,this.state.context),await this.#t.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,s,this.state.context),this.#a({type:"success",data:i}),i}catch(i){try{throw await this.#t.config.onError?.(i,s,this.state.context,this),await this.options.onError?.(i,s,this.state.context),await this.#t.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,s,this.state.context),i}finally{this.#a({type:"error",error:i})}}finally{this.#t.runNext(this)}}#a(s){const t=n=>{switch(s.type){case"failed":return{...n,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...n,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:s.error,failureCount:n.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Oe.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(s)}),this.#t.notify({mutation:this,type:"updated",action:s})})}};function Lh(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Rh=class extends wn{constructor(s={}){super(),this.config=s,this.#e=new Set,this.#t=new Map,this.#s=0}#e;#t;#s;build(s,t,n){const a=new Mh({mutationCache:this,mutationId:++this.#s,options:s.defaultMutationOptions(t),state:n});return this.add(a),a}add(s){this.#e.add(s);const t=Vs(s);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(s):this.#t.set(t,[s])}this.notify({type:"added",mutation:s})}remove(s){if(this.#e.delete(s)){const t=Vs(s);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const a=n.indexOf(s);a!==-1&&n.splice(a,1)}else n[0]===s&&this.#t.delete(t)}}this.notify({type:"removed",mutation:s})}canRun(s){const t=Vs(s);if(typeof t=="string"){const a=this.#t.get(t)?.find(i=>i.state.status==="pending");return!a||a===s}else return!0}runNext(s){const t=Vs(s);return typeof t=="string"?this.#t.get(t)?.find(a=>a!==s&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Oe.batch(()=>{this.#e.forEach(s=>{this.notify({type:"removed",mutation:s})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(s){const t={exact:!0,...s};return this.getAll().find(n=>Ei(t,n))}findAll(s={}){return this.getAll().filter(t=>Ei(s,t))}notify(s){Oe.batch(()=>{this.listeners.forEach(t=>{t(s)})})}resumePausedMutations(){const s=this.getAll().filter(t=>t.state.isPaused);return Oe.batch(()=>Promise.all(s.map(t=>t.continue().catch(tt))))}};function Vs(s){return s.options.scope?.id}function Ii(s){return{onFetch:(t,n)=>{const a=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,r=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let m=!1;const h=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},p=zl(t.options,t.fetchOptions),v=async(x,g,y)=>{if(m)return Promise.reject();if(g==null&&x.pages.length)return Promise.resolve(x);const j={client:t.client,queryKey:t.queryKey,pageParam:g,direction:y?"backward":"forward",meta:t.options.meta};h(j);const f=await p(j),{maxPages:b}=t.options,w=y?Nh:wh;return{pages:w(x.pages,f,b),pageParams:w(x.pageParams,g,b)}};if(i&&r.length){const x=i==="backward",g=x?$h:Di,y={pages:r,pageParams:o},j=g(a,y);l=await v(y,j,x)}else{const x=s??r.length;do{const g=c===0?o[0]??a.initialPageParam:Di(a,l);if(c>0&&g==null)break;l=await v(l,g),c++}while(c<x)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=d}}}function Di(s,{pages:t,pageParams:n}){const a=t.length-1;return t.length>0?s.getNextPageParam(t[a],t,n[a],n):void 0}function $h(s,{pages:t,pageParams:n}){return t.length>0?s.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var Fh=class{#e;#t;#s;#a;#n;#r;#l;#i;constructor(s={}){this.#e=s.queryCache||new Dh,this.#t=s.mutationCache||new Rh,this.#s=s.defaultOptions||{},this.#a=new Map,this.#n=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#l=Bl.subscribe(async s=>{s&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=ln.subscribe(async s=>{s&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#l?.(),this.#l=void 0,this.#i?.(),this.#i=void 0)}isFetching(s){return this.#e.findAll({...s,fetchStatus:"fetching"}).length}isMutating(s){return this.#t.findAll({...s,status:"pending"}).length}getQueryData(s){const t=this.defaultQueryOptions({queryKey:s});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(s){const t=this.defaultQueryOptions(s),n=this.#e.build(this,t),a=n.state.data;return a===void 0?this.fetchQuery(s):(s.revalidateIfStale&&n.isStaleByTime(Ti(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(s){return this.#e.findAll(s).map(({queryKey:t,state:n})=>{const a=n.data;return[t,a]})}setQueryData(s,t,n){const a=this.defaultQueryOptions({queryKey:s}),r=this.#e.get(a.queryHash)?.state.data,o=fh(t,r);if(o!==void 0)return this.#e.build(this,a).setData(o,{...n,manual:!0})}setQueriesData(s,t,n){return Oe.batch(()=>this.#e.findAll(s).map(({queryKey:a})=>[a,this.setQueryData(a,t,n)]))}getQueryState(s){const t=this.defaultQueryOptions({queryKey:s});return this.#e.get(t.queryHash)?.state}removeQueries(s){const t=this.#e;Oe.batch(()=>{t.findAll(s).forEach(n=>{t.remove(n)})})}resetQueries(s,t){const n=this.#e;return Oe.batch(()=>(n.findAll(s).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...s},t)))}cancelQueries(s,t={}){const n={revert:!0,...t},a=Oe.batch(()=>this.#e.findAll(s).map(i=>i.cancel(n)));return Promise.all(a).then(tt).catch(tt)}invalidateQueries(s,t={}){return Oe.batch(()=>(this.#e.findAll(s).forEach(n=>{n.invalidate()}),s?.refetchType==="none"?Promise.resolve():this.refetchQueries({...s,type:s?.refetchType??s?.type??"active"},t)))}refetchQueries(s,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},a=Oe.batch(()=>this.#e.findAll(s).filter(i=>!i.isDisabled()).map(i=>{let r=i.fetch(void 0,n);return n.throwOnError||(r=r.catch(tt)),i.state.fetchStatus==="paused"?Promise.resolve():r}));return Promise.all(a).then(tt)}fetchQuery(s){const t=this.defaultQueryOptions(s);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(Ti(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(s){return this.fetchQuery(s).then(tt).catch(tt)}fetchInfiniteQuery(s){return s.behavior=Ii(s.pages),this.fetchQuery(s)}prefetchInfiniteQuery(s){return this.fetchInfiniteQuery(s).then(tt).catch(tt)}ensureInfiniteQueryData(s){return s.behavior=Ii(s.pages),this.ensureQueryData(s)}resumePausedMutations(){return ln.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#s}setDefaultOptions(s){this.#s=s}setQueryDefaults(s,t){this.#a.set(_s(s),{queryKey:s,defaultOptions:t})}getQueryDefaults(s){const t=[...this.#a.values()],n={};return t.forEach(a=>{Es(s,a.queryKey)&&Object.assign(n,a.defaultOptions)}),n}setMutationDefaults(s,t){this.#n.set(_s(s),{mutationKey:s,defaultOptions:t})}getMutationDefaults(s){const t=[...this.#n.values()],n={};return t.forEach(a=>{Es(s,a.mutationKey)&&Object.assign(n,a.defaultOptions)}),n}defaultQueryOptions(s){if(s._defaulted)return s;const t={...this.#s.queries,...this.getQueryDefaults(s.queryKey),...s,_defaulted:!0};return t.queryHash||(t.queryHash=Ra(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===$a&&(t.enabled=!1),t}defaultMutationOptions(s){return s?._defaulted?s:{...this.#s.mutations,...s?.mutationKey&&this.getMutationDefaults(s.mutationKey),...s,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}};async function Ul(s){if(!s.ok){const t=await s.text()||s.statusText;throw new Error(`${s.status}: ${t}`)}}async function Bt({url:s,method:t="GET",body:n=void 0}){const a=await fetch(s,{method:t,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});await Ul(a);try{return await a.json()}catch{return a}}const Oh=({on401:s})=>async({queryKey:t})=>{const n=await fetch(t[0],{credentials:"include"});return await Ul(n),await n.json()};new Fh({defaultOptions:{queries:{queryFn:Oh({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});const zh={"hotel-manager":{dashboard:["view","edit","view_client_interface"],analytics:["view","export","advanced","view_advanced"],billing:["view","edit"],staff:["view","edit","delete","invite","manage"],settings:["view","edit"],calls:["view","join","transfer","end","override"],system:["view","monitor"],assistant:["configure","manage"],notifications:["view","manage"],requests:["view","manage"],guests:["view","manage"],security:["view","manage"],integrations:["view","manage"],logs:["view","export"]},"front-desk":{dashboard:["view"],calls:["view","join","transfer","end"],analytics:["view_basic"],profile:["view","edit"],guests:["view","edit","checkin","checkout","manage"],requests:["view","manage"],notifications:["view"],system:[]},"it-manager":{dashboard:["view"],system:["view","edit","debug","restart","monitor"],integrations:["view","edit","test","manage"],logs:["view","export","debug"],calls:["view","debug"],analytics:["view","technical"],billing:[],staff:[],security:["view","manage"],notifications:["view"]}},Mi=s=>{const t=zh[s],n=[];for(const[a,i]of Object.entries(t))for(const r of i)n.push({module:a,action:r,allowed:!0});return n},Wl=u.createContext(void 0),Le=()=>{const s=u.useContext(Wl);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s},Li=s=>{switch(s){case"admin":case"manager":case"hotel-manager":return"hotel-manager";case"staff":case"front-desk":return"front-desk";case"it":case"tech":case"it-manager":return"it-manager";default:return"front-desk"}},Bh=({children:s})=>{console.log("[DEBUG] AuthProvider render");const[t,n]=u.useState(null),[a,i]=u.useState(null),[r,o]=u.useState(!0);u.useEffect(()=>{console.log("[DEBUG] AuthProvider useEffect - checking token");const h=localStorage.getItem("token");if(!h){console.log("[DEBUG] AuthProvider - no token found, setting loading false"),o(!1);return}try{console.log("[DEBUG] AuthProvider - decoding token");const p=hi(h);console.log("[DEBUG] AuthProvider - token decoded:",p);const v=Li(p.role),x={id:p.username,name:p.username,email:p.username,tenantId:p.tenantId,role:v,permissions:Mi(v)},g={id:p.tenantId,hotelName:"Mi Nhon Hotel",subdomain:"minhonmuine",subscriptionPlan:"premium",subscriptionStatus:"active"};n(x),i(g)}catch(p){console.log("[DEBUG] AuthProvider - token decode error:",p),localStorage.removeItem("token")}finally{console.log("[DEBUG] AuthProvider - setting loading false"),o(!1)}},[]);const l=u.useCallback(async(h,p)=>{o(!0);try{const v=await fetch("/api/staff/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:h,password:p})});if(!v.ok)throw new Error("Sai t√†i kho·∫£n ho·∫∑c m·∫≠t kh·∫©u");const x=await v.json();if(!x.token)throw new Error("Kh√¥ng nh·∫≠n ƒë∆∞·ª£c token t·ª´ server");localStorage.setItem("token",x.token);const g=hi(x.token),y=Li(g.role),j={id:g.username,name:g.username,email:g.username,tenantId:g.tenantId,role:y,permissions:Mi(y)},f={id:g.tenantId,hotelName:"Mi Nhon Hotel",subdomain:"minhonmuine",subscriptionPlan:"premium",subscriptionStatus:"active"};n(j),i(f)}catch(v){throw localStorage.removeItem("token"),n(null),i(null),v}finally{o(!1)}},[]),c=u.useCallback(()=>{console.log("[DEBUG] AuthProvider logout called"),n(null),i(null),localStorage.removeItem("token"),window.location.href="/login"},[]),d=u.useCallback((h,p)=>!t||!t.permissions?!1:t.permissions.some(v=>v.module===h&&v.action===p&&v.allowed),[t]),m=u.useCallback(h=>t?.role===h,[t]);return console.log("[DEBUG] AuthProvider state:",{user:t,tenant:a,isLoading:r}),e.jsx(Wl.Provider,{value:{user:t,tenant:a,isLoading:r,login:l,logout:c,isAuthenticated:!!t,refreshAuth:async()=>{},hasFeature:()=>!1,hasRole:m,hasPermission:d,isWithinLimits:()=>!0},children:s})},Kl=()=>{const[s,t]=u.useState(null);return u.useEffect(()=>{if(typeof window>"u")return;const n=window.location.hostname,a=n==="localhost"||n==="127.0.0.1",i=/^\d+\.\d+\.\d+\.\d+$/.test(n),r=n==="talk2go.online"||n==="www.talk2go.online";let o=null,l=!1,c;if(!a&&!i&&!r)if(n.includes(".talk2go.online")){const m=n.split(".");m.length>2&&(o=m[0],l=!0)}else c=n,l=!1;t({subdomain:o,isMiNhon:a||n==="minhotel.talk2go.online"||n==="talk2go.online"||n==="www.talk2go.online"||o==="minhon",isSubdomain:l,customDomain:c})},[]),s},Ri={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Gs={hotelName:"Mi Nhon Hotel Mui Ne",logoUrl:"/assets/references/images/minhon-logo.jpg",primaryColor:"#2C3E50",headerText:"Mi Nhon Hotel Mui Ne",vapiPublicKey:"",vapiAssistantId:"",branding:{logo:"/assets/references/images/minhon-logo.jpg",colors:{primary:"#2C3E50",secondary:"#34495E",accent:"#E74C3C"},fonts:{primary:"Poppins",secondary:"Inter"}},features:{callHistory:!0,multiLanguage:!0,analytics:!0,customization:!0},services:[{type:"room_service",name:"Room Service",enabled:!0},{type:"concierge",name:"Concierge",enabled:!0},{type:"housekeeping",name:"Housekeeping",enabled:!0},{type:"maintenance",name:"Maintenance",enabled:!0},{type:"restaurant",name:"Restaurant",enabled:!0}],supportedLanguages:["en","fr","zh","ru","ko","vi"]},Fs=()=>{console.log("[DEBUG] useHotelConfiguration hook called");const[s,t]=u.useState(null),[n,a]=u.useState(!0),[i,r]=u.useState(null);Kl();const o=()=>{const c=window.location.hostname;if(c==="localhost"||c==="127.0.0.1")return{type:"default",identifier:"mi-nhon-hotel"};const m=c.split(".");return m.length>=3&&m[m.length-2]==="talk2go"&&m[m.length-1]==="online"?{type:"subdomain",identifier:m[0]}:{type:"custom",identifier:c}},l=u.useCallback(async()=>{console.log("[DEBUG] loadConfiguration called");try{a(!0),r(null);const{type:c,identifier:d}=o();if(console.log("[DEBUG] extractHotelIdentifier",{type:c,identifier:d}),c==="default"){t(Gs);return}if(c==="subdomain"){const m=`/api/hotels/by-subdomain/${d}`;console.log("[DEBUG] Fetching hotel config from",m);try{const h=await fetch(m);if(console.log("[DEBUG] fetch response",h),!h.ok)throw new Error("Failed to load hotel configuration");const p=await h.json();console.log("[DEBUG] hotelData",p),t({hotelName:p.name,logoUrl:p.branding.logo,primaryColor:p.branding.primaryColor,headerText:p.name,vapiPublicKey:"",vapiAssistantId:"",branding:{...p.branding,colors:{primary:p.branding.primaryColor||"#2C3E50",secondary:p.branding.secondaryColor||"#34495E",accent:p.branding.accentColor||"#E74C3C"},fonts:{primary:p.branding.PrimaryFont||"Inter",secondary:p.branding.SecondaryFont||"Roboto"}},features:p.features,services:p.services,supportedLanguages:p.supportedLanguages});return}catch(h){console.error("[DEBUG] fetch hotel config error",h),t(Gs);return}}t(Gs)}catch(c){r(c instanceof Error?c.message:"Failed to load configuration"),t(Gs)}finally{a(!1)}},[]);return u.useEffect(()=>{l()},[l]),{config:s,isLoading:n,error:i,reload:l,isMiNhon:!1}},Us={},Ql=async s=>{if(Us[s])return Us[s];try{const t=await fetch(`/api/vapi/config/${s}`);if(!t.ok)throw new Error(`Failed to fetch Vapi config: ${t.status}`);const n=await t.json();return console.log(`üîß [fetchVapiConfig] Received config for ${s}:`,{publicKey:n.publicKey?n.publicKey.substring(0,10)+"...":"NOT SET",assistantId:n.assistantId?n.assistantId.substring(0,10)+"...":"NOT SET",fallback:n.fallback}),Us[s]=n,n}catch(t){console.error(`[fetchVapiConfig] Error fetching Vapi config for ${s}:`,t);const n={publicKey:s==="en"?"":Ri[`VITE_VAPI_PUBLIC_KEY_${s.toUpperCase()}`]||void 0||"",assistantId:s==="en"?"":Ri[`VITE_VAPI_ASSISTANT_ID_${s.toUpperCase()}`]||void 0||"",fallback:!0};return console.log(`[fetchVapiConfig] Using fallback config for ${s}:`,{publicKey:n.publicKey?n.publicKey.substring(0,10)+"...":"NOT SET",assistantId:n.assistantId?n.assistantId.substring(0,10)+"...":"NOT SET"}),Us[s]=n,n}},Hh=async(s,t)=>{if(t.hotelName==="Mi Nhon Hotel Mui Ne")try{return(await Ql(s)).publicKey||t.vapiPublicKey}catch(n){return console.error(`[getVapiPublicKeyByLanguage] Error for ${s}:`,n),t.vapiPublicKey}return t.vapiPublicKey||void 0},qh=async(s,t)=>{if(t.hotelName==="Mi Nhon Hotel Mui Ne")try{const n=await Ql(s);return console.log(`ü§ñ [getVapiAssistantIdByLanguage] Selected assistant for ${s}:`,{assistantId:n.assistantId?n.assistantId.substring(0,10)+"...":"NOT SET",fallback:n.fallback}),n.assistantId||t.vapiAssistantId}catch(n){return console.error(`[getVapiAssistantIdByLanguage] Error for ${s}:`,n),t.vapiAssistantId}return t.vapiAssistantId||void 0},Vh={orderType:"Room Service",deliveryTime:"asap",roomNumber:"",guestName:"",guestEmail:"",guestPhone:"",specialInstructions:"",items:[{id:"1",name:"Club Sandwich",description:"Served with french fries and side salad",quantity:1,price:15},{id:"2",name:"Fresh Orange Juice",description:"Large size",quantity:1,price:8}],totalAmount:23},Xl=u.createContext(void 0);function Gh({children:s}){console.log("[DEBUG] AssistantProvider render");const[t,n]=u.useState("interface1"),a=X=>{console.log("[AssistantContext] üîÑ setCurrentInterface called:",{from:t,to:X}),X==="interface1"&&(xh(),r([]),l(null),d(null),h(null),v(0),g(null),j(!1),b(null),T([]),z(null),D(!1)),n(X),console.log("[AssistantContext] ‚úÖ setCurrentInterface executed:",X)},[i,r]=u.useState([]),[o,l]=u.useState(null),[c,d]=u.useState(null),[m,h]=u.useState(null),[p,v]=u.useState(0),[x,g]=u.useState(null),[y,j]=u.useState(!1),[f,b]=u.useState(null),[w,T]=u.useState([]),[E,z]=u.useState(null),[F,D]=u.useState(!1),[C,S]=u.useState(null),[N,I]=u.useState(()=>{if(typeof window>"u")return[];try{const X=localStorage.getItem("activeOrders");return X?JSON.parse(X).map(fe=>({...fe,requestedAt:new Date(fe.requestedAt)})):[]}catch(X){return console.error("Failed to parse activeOrders from localStorage",X),[]}}),[P,V]=u.useState(0),[M,k]=u.useState([]),[A,B]=u.useState(()=>{if(typeof window<"u"){const X=localStorage.getItem("selectedLanguage");if(X&&["en","fr","zh","ru","ko","vi"].includes(X))return console.log("üåç [AssistantContext] Loading saved language:",X),X}return console.log("üåç [AssistantContext] Using default language: en"),"en"}),[Y,we]=u.useState(null),[ne,ue]=u.useState(null),[W,ie]=u.useState(null),$e=pe.useCallback(X=>{console.log("üåç [AssistantContext] setLanguage called with:",X),B(X),typeof window<"u"&&(localStorage.setItem("selectedLanguage",X),console.log("üåç [AssistantContext] Language saved to localStorage:",X))},[]),q=X=>{console.log("üîÑ AssistantContext: setCurrentInterface called with:",X),console.log("üîÑ Previous interface:",t),a(X),console.log("‚úÖ AssistantContext: setCurrentInterface completed")},se=X=>{console.log("üóëÔ∏è AssistantContext: setOrder called with:",X),console.log("üóëÔ∏è Previous order:",m),h(X),console.log("‚úÖ AssistantContext: setOrder completed")};u.useEffect(()=>{if(!(typeof window>"u"))try{localStorage.setItem("activeOrders",JSON.stringify(N))}catch{console.error("Failed to persist activeOrders to localStorage")}},[N]),u.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - currentInterface changed to:",t),console.log("[DEBUG] AssistantProvider - timestamp:",new Date().toISOString())},[t]),u.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - order changed to:",m),console.log("[DEBUG] AssistantProvider - order reference:",m?.reference),console.log("[DEBUG] AssistantProvider - timestamp:",new Date().toISOString())},[m]),u.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - activeOrders changed:",N.length),console.log("[DEBUG] AssistantProvider - activeOrders:",N)},[N]),u.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - hotelConfig changed:",Y?"loaded":"null")},[Y]),u.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - language changed to:",A)},[A]),u.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - callDetails changed:",c?"active":"null")},[c]),u.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - transcripts count:",i.length)},[i]),u.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - orderSummary changed:",o?"has summary":"null")},[o]),u.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - callSummary changed:",f?"has summary":"null")},[f]),u.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - serviceRequests count:",w.length)},[w]),u.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - modelOutput count:",M.length)},[M]),u.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - micLevel:",P)},[P]),u.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - isMuted:",y)},[y]),u.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - callDuration:",p)},[p]),u.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - emailSentForCurrentSession:",F)},[F]),u.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - requestReceivedAt:",C)},[C]),u.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - vietnameseSummary:",E?"has summary":"null")},[E]),u.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - tenantId:",ne)},[ne]),u.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - tenantConfig:",W?"loaded":"null")},[W]);const xe=X=>{I(ae=>[...ae,{...X,status:X.status||"ƒê√£ ghi nh·∫≠n"}])},Ot=pe.useCallback(X=>{const ae={...X,id:Date.now(),callId:c?.id||`call-${Date.now()}`,timestamp:new Date,tenantId:ne||"default"};r(ke=>[...ke,ae]),(async()=>{try{const ke=await fetch("/api/transcripts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({callId:ae.callId,role:ae.role,content:ae.content,tenantId:ae.tenantId})});if(!ke.ok)throw new Error(`Failed to save transcript: ${ke.status}`);const re=await ke.json();console.log("Transcript saved to database:",re)}catch(ke){console.error("Error saving transcript to server:",ke)}})()},[c?.id,ne]);u.useEffect(()=>((async()=>{try{console.log("üîß [setupVapi] Language changed to:",A),console.log("üîß [setupVapi] Hotel config available:",!!Y);const ae=Y?await Hh(A,Y):void 0;if(console.log("üîë [setupVapi] Selected publicKey for language",A,":",ae?ae.substring(0,10)+"...":"undefined"),!ae)throw new Error("Vapi public key is not configured");const fe=await Fl(ae);fe.on("volume-level",ge=>{V(ge)});const ke=ge=>{try{if(typeof window<"u"&&window.WebSocket){const Ke=window.location.origin.replace("http","ws")+"/ws",at=new WebSocket(Ke);at.onopen=()=>{at.send(JSON.stringify({type:"transcript",call_id:ge.callId,role:ge.role,content:ge.content,timestamp:ge.timestamp})),at.close()},at.onerror=_n=>{console.warn("Failed to send transcript to WebSocket:",_n)}}}catch(Ke){console.warn("Error sending transcript to WebSocket:",Ke)}},re=async ge=>{if(console.log("Raw message received:",ge),console.log("Message type:",ge.type),console.log("Message role:",ge.role),console.log("Message content structure:",{content:ge.content,text:ge.text,transcript:ge.transcript}),ge.type==="model-output"){console.log("Model output detected - Full message:",ge);const Ke=ge.content||ge.text||ge.transcript||ge.output;if(Ke){console.log("Adding model output to conversation:",Ke);const at={id:Date.now(),callId:c?.id||`call-${Date.now()}`,role:"assistant",content:Ke,timestamp:new Date,isModelOutput:!0,tenantId:ne||"default"};console.log("Adding new transcript for model output:",at),r(_n=>{const ui=[..._n,at];return console.log("Updated transcripts array:",ui),ui}),ke(at)}else console.warn("Model output message received but no content found:",ge)}if(ge.type==="transcript"){console.log("Adding transcript:",ge);const Ke={id:Date.now(),callId:c?.id||`call-${Date.now()}`,role:ge.role,content:ge.content||ge.transcript||"",timestamp:new Date,tenantId:ne||"default"};r(at=>[...at,Ke]),ke(Ke)}};fe.on("message",re)}catch(ae){console.error("Error setting up Vapi:",ae)}})(),()=>{const ae=qs();ae&&ae.stop()}),[A,Y,ne,c?.id]),u.useEffect(()=>{if(t==="interface2"){console.log("Starting call duration timer in interface2");const X=setInterval(()=>{v(ae=>{const fe=ae+1;return console.log("Call duration updated:",fe),fe})},1e3);g(X)}else x&&(console.log("Clearing call duration timer when leaving interface2"),clearInterval(x),g(null));return()=>{x&&(console.log("Cleaning up call duration timer"),clearInterval(x))}},[t,x]);const ut=()=>{const X=qs();X&&(X.setMuted(!y),j(!y))},td=pe.useCallback(async()=>{try{D(!1);const X=`call-${Date.now()}`;d({id:X,roomNumber:"",duration:"",category:"",language:A}),r([]),k([]);const ae=qs();if(!ae){console.error("Vapi instance not initialized");return}const fe=Y?await qh(A,Y):void 0;if(console.log("ü§ñ [startCall] Selected assistantId for language",A,":",fe?fe.substring(0,10)+"...":"undefined"),!fe){console.error("Assistant ID not configured");return}if(!await ae.start(fe)){console.error("Failed to start call - call object is null");return}console.log("Call started successfully"),v(0);const re=setInterval(()=>{v(ge=>ge+1)},1e3);g(re)}catch(X){console.error("Error starting call:",X)}},[A,Y,ne]),sd=u.useCallback(()=>{console.log("üõë [AssistantContext] endCall() called"),console.log("üîç [AssistantContext] Current state before endCall:",{callDuration:p,transcriptsCount:i.length,hasCallDetails:!!c,hasCallTimer:!!x,language:A,tenantId:ne});try{console.log("üîÑ [AssistantContext] Step 1: Stopping VAPI...");try{const X=qs();X?(console.log("üìû [AssistantContext] Step 1a: VAPI instance found, calling stop()..."),X.stop(),console.log("‚úÖ [AssistantContext] Step 1a: VAPI call stopped successfully")):console.log("‚ö†Ô∏è [AssistantContext] Step 1a: No VAPI instance to stop")}catch(X){console.error("‚ùå [AssistantContext] Step 1a ERROR: Error stopping VAPI:",X),console.log("üîÑ [AssistantContext] Continuing with cleanup despite VAPI error...")}console.log("üîÑ [AssistantContext] Step 2: Batch state updates...");try{console.log("üîÑ [AssistantContext] Step 2a: Formatting call duration...");const X=p?`${Math.floor(p/60)}:${(p%60).toString().padStart(2,"0")}`:"0:00";console.log("‚úÖ [AssistantContext] Step 2a: Duration formatted:",X),console.log("üîÑ [AssistantContext] Step 2b: Updating states..."),(()=>{console.log("üîÑ [AssistantContext] Step 2b-1: Stopping timer..."),x?(clearInterval(x),g(null),console.log("‚úÖ [AssistantContext] Timer stopped and cleared")):console.log("‚ö†Ô∏è [AssistantContext] No timer to stop"),console.log("üîÑ [AssistantContext] Step 2b-2: Setting initial order summary..."),l(Vh),console.log("‚úÖ [AssistantContext] Step 2b: State cleanup completed")})(),console.log("üîÑ [AssistantContext] Step 3: Processing summary generation...");try{const fe=i.map(ke=>({role:ke.role,content:ke.content}));if(console.log("üîç [AssistantContext] Transcript data prepared:",{count:fe.length,firstFew:fe.slice(0,2)}),fe.length>=2){console.log("üìù [AssistantContext] Step 3a: Sufficient transcript data, processing call summary...");const ke={id:Date.now(),callId:c?.id||`call-${Date.now()}`,content:"Generating AI summary of your conversation...",timestamp:new Date,tenantId:ne||"default"};b(ke),console.log("‚úÖ [AssistantContext] Loading summary state set"),console.log("üîÑ [AssistantContext] Step 3b: Sending transcript data to server for OpenAI processing..."),fetch("/api/store-summary",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({summary:"",transcripts:fe,timestamp:new Date().toISOString(),callId:c?.id||`call-${Date.now()}`,callDuration:X,forceBasicSummary:!1,language:A,tenantId:ne||"default"})}).then(re=>{if(console.log("üì° [AssistantContext] Store-summary API response received:",re.status),!re.ok)throw new Error(`Network response was not ok: ${re.status}`);return re.json()}).then(re=>{if(console.log("‚úÖ [AssistantContext] Store-summary API data received:",re),re.success&&re.summary&&re.summary.content){console.log("üìã [AssistantContext] Valid summary received, updating state...");const ge=re.summary.content,Ke={id:Date.now(),callId:c?.id||`call-${Date.now()}`,content:ge,timestamp:new Date(re.summary.timestamp||Date.now()),tenantId:ne||"default"};b(Ke),console.log("‚úÖ [AssistantContext] Summary state updated successfully"),re.serviceRequests&&Array.isArray(re.serviceRequests)&&re.serviceRequests.length>0?(console.log("üìù [AssistantContext] Service requests received:",re.serviceRequests.length),T(re.serviceRequests)):console.log("‚ö†Ô∏è [AssistantContext] No service requests in response")}else console.log("‚ö†Ô∏è [AssistantContext] Invalid summary data received:",re)}).catch(re=>{console.error("‚ùå [AssistantContext] Error processing summary:",re);const ge={id:Date.now(),callId:c?.id||`call-${Date.now()}`,content:"An error occurred while generating the call summary.",timestamp:new Date,tenantId:ne||"default"};b(ge),console.log("‚úÖ [AssistantContext] Error summary state set")})}else{console.log("‚ö†Ô∏è [AssistantContext] Step 3a: Not enough transcript data for summary"),console.log("üîç [AssistantContext] Transcript data count:",fe.length);const ke={id:Date.now(),callId:c?.id||`call-${Date.now()}`,content:"Call was too short to generate a summary. Please try a more detailed conversation.",timestamp:new Date,tenantId:ne||"default"};b(ke),console.log("‚úÖ [AssistantContext] No transcript summary state set")}}catch(fe){console.error("‚ùå [AssistantContext] Step 3 ERROR: Error in summary processing:",fe)}}catch(X){console.error("‚ùå [AssistantContext] Step 2 ERROR: Error during state cleanup:",X),console.log("üîÑ [AssistantContext] Attempting force cleanup of critical states...");try{x&&(clearInterval(x),g(null),console.log("‚úÖ [AssistantContext] Force timer cleanup completed"))}catch(ae){console.error("‚ùå [AssistantContext] Failed to clear timer:",ae)}}console.log("‚úÖ [AssistantContext] endCall() completed successfully")}catch(X){console.error("‚ùå [AssistantContext] CRITICAL ERROR in endCall():",X),console.error("‚ùå [AssistantContext] Error name:",X.name),console.error("‚ùå [AssistantContext] Error message:",X.message),console.error("‚ùå [AssistantContext] Error stack:",X.stack),console.log("üîÑ [AssistantContext] Attempting emergency cleanup...");try{x&&(clearInterval(x),g(null),console.log("‚úÖ [AssistantContext] Emergency timer cleanup completed"))}catch(ae){console.error("üö® [AssistantContext] Emergency cleanup failed:",ae)}throw X}},[x,p,i,c?.id,ne,A]),nd=async X=>{try{console.log("Requesting Vietnamese translation for summary...");const ae=await fetch("/api/translate-to-vietnamese",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:X})});if(!ae.ok)throw new Error(`Network response was not ok: ${ae.status}`);const fe=await ae.json();if(fe.success&&fe.translatedText)return z(fe.translatedText),fe.translatedText;throw new Error("Translation failed")}catch(ae){return console.error("Error translating to Vietnamese:",ae),"Kh√¥ng th·ªÉ d·ªãch n·ªôi dung n√†y sang ti·∫øng Vi·ªát. Vui l√≤ng th·ª≠ l·∫°i sau."}},ad=X=>{k(ae=>[...ae,X])};u.useEffect(()=>{let X=null;const ae=async()=>{try{const fe=await fetch("/api/orders");if(!fe.ok)return;const ke=await fe.json();console.log("[AssistantContext] Fetched orders from API:",ke),Array.isArray(ke)&&I(ke.map(re=>({reference:re.specialInstructions||re.reference||re.callId||"",requestedAt:re.createdAt?new Date(re.createdAt):new Date,estimatedTime:re.deliveryTime||"",status:re.status==="completed"?"Ho√†n thi·ªán":re.status==="pending"?"ƒê√£ ghi nh·∫≠n":re.status,...re})))}catch{}};return(t==="interface1"||t==="interface2")&&(ae(),X=setInterval(ae,5e3)),()=>{X&&clearInterval(X)}},[t]);const id={currentInterface:t,setCurrentInterface:q,transcripts:i,setTranscripts:r,addTranscript:Ot,orderSummary:o,setOrderSummary:l,callDetails:c,setCallDetails:d,order:m,setOrder:se,callDuration:p,setCallDuration:v,isMuted:y,toggleMute:ut,startCall:td,endCall:sd,callSummary:f,setCallSummary:b,serviceRequests:w,setServiceRequests:T,vietnameseSummary:E,setVietnameseSummary:z,translateToVietnamese:nd,emailSentForCurrentSession:F,setEmailSentForCurrentSession:D,requestReceivedAt:C,setRequestReceivedAt:S,activeOrders:N,addActiveOrder:xe,setActiveOrders:I,micLevel:P,modelOutput:M,setModelOutput:k,addModelOutput:ad,language:A,setLanguage:$e,hotelConfig:Y,setHotelConfig:we,tenantId:ne,setTenantId:ue,tenantConfig:W,setTenantConfig:ie};return e.jsx(Xl.Provider,{value:id,children:s})}function et(){const s=u.useContext(Xl);if(s===void 0)throw new Error("useAssistant must be used within an AssistantProvider");return s}const Fa=120,Oa=350,za=20,Uh={conversation:{icon:"üî¥",title:"Conversation",color:"#FF3B30",bgColor:"rgba(255, 59, 48, 0.1)"},staff:{icon:"üí¨",title:"Staff Messages",color:"#007AFF",bgColor:"rgba(0, 122, 255, 0.1)"},notification:{icon:"üì¢",title:"Hotel Notifications",color:"#FF9500",bgColor:"rgba(255, 149, 0, 0.1)"},alert:{icon:"‚ö†Ô∏è",title:"Alert",color:"#FF3B30",bgColor:"rgba(255, 59, 48, 0.1)"},order:{icon:"üõéÔ∏è",title:"Room Service",color:"#5856D6",bgColor:"rgba(88, 86, 214, 0.1)"},summary:{icon:"üìã",title:"Call Summary",color:"#34C759",bgColor:"rgba(52, 199, 89, 0.1)"}},Yl=u.createContext(null);let Wh=0;const Kh=({children:s})=>{const[t,n]=u.useState([]),[a,i]=u.useState(null),r=u.useCallback(p=>{const v=`popup-${++Wh}`,x={...p,id:v,timestamp:new Date};return n(g=>{if(p.priority==="high"){const y=g.filter(j=>j.type!==p.type);return[x,...y]}return[x,...g]}),(p.priority==="high"||p.isActive)&&i(v),v},[]),o=u.useCallback(p=>{n(v=>v.filter(x=>x.id!==p)),i(v=>v===p?null:v)},[]),l=u.useCallback(p=>{i(p),p&&n(v=>v.map(x=>({...x,isActive:x.id===p})))},[]),c=u.useCallback((p,v)=>{n(x=>x.map(g=>g.id===p?{...g,...v}:g))},[]),d=u.useCallback(()=>{n([]),i(null)},[]),m=u.useCallback(p=>t.filter(v=>v.type===p),[t]),h={popups:t,activePopup:a,addPopup:r,removePopup:o,setActivePopup:l,updatePopup:c,clearAllPopups:d,getPopupsByType:m};return e.jsx(Yl.Provider,{value:h,children:s})},Ba=()=>{const s=u.useContext(Yl);if(!s)throw new Error("usePopupContext must be used within a PopupProvider");return s},Qh="_popupCard_25pil_1",Xh="_popupCardActive_25pil_15",Yh="_popupCardTop_25pil_20",Zh="_popupCardInner_25pil_24",Jh="_popupCardHeader_25pil_38",em="_popupCardInfo_25pil_46",tm="_popupCardIcon_25pil_54",sm="_popupCardTitleWrapper_25pil_64",nm="_popupCardTitle_25pil_64",am="_popupCardBadge_25pil_79",im="_popupCardMeta_25pil_90",rm="_popupCardTimestamp_25pil_97",lm="_popupCardDismiss_25pil_103",om="_popupCardPreview_25pil_122",cm="_popupCardPreviewText_25pil_126",dm="_popupCardContent_25pil_136",Re={popupCard:Qh,popupCardActive:Xh,popupCardTop:Yh,popupCardInner:Zh,popupCardHeader:Jh,popupCardInfo:em,popupCardIcon:tm,popupCardTitleWrapper:sm,popupCardTitle:nm,popupCardBadge:am,popupCardMeta:im,popupCardTimestamp:rm,popupCardDismiss:lm,popupCardPreview:om,popupCardPreviewText:cm,popupCardContent:dm},$i=({popup:s,index:t,isActive:n,onClick:a,onDismiss:i,maxVisible:r=3})=>{const o=Uh[s.type],l=t<r,c=Math.min(t,r-1),d=1-c*.03,m=c*12,h=l?1-c*.1:0,p=1e3-t,v=g=>{const j=new Date().getTime()-g.getTime(),f=Math.floor(j/(1e3*60));if(f<1)return"now";if(f<60)return`${f}m ago`;const b=Math.floor(f/60);return b<24?`${b}h ago`:`${Math.floor(b/24)}d ago`};if(!l&&t>=r)return null;const x=[Re.popupCard,n?Re.popupCardActive:"",t===0?Re.popupCardTop:""].filter(Boolean).join(" ");return e.jsx("div",{className:x,style:{transform:`translateY(${m}px) scale(${d})`,opacity:h,zIndex:p,"--translate-y":`${m}px`,"--scale-hover":d*1.02},onClick:a,children:e.jsxs("div",{className:Re.popupCardInner,children:[e.jsxs("div",{className:Re.popupCardHeader,style:{background:o.bgColor},children:[e.jsxs("div",{className:Re.popupCardInfo,children:[e.jsx("div",{className:Re.popupCardIcon,children:o.icon}),e.jsxs("div",{className:Re.popupCardTitleWrapper,children:[e.jsx("span",{className:Re.popupCardTitle,style:{color:o.color},children:o.title}),s.badge&&s.badge>0&&e.jsx("span",{className:Re.popupCardBadge,style:{background:o.color},children:s.badge})]})]}),e.jsxs("div",{className:Re.popupCardMeta,children:[e.jsx("span",{className:Re.popupCardTimestamp,children:v(s.timestamp)}),e.jsx("button",{className:Re.popupCardDismiss,onClick:g=>{g.stopPropagation(),i()},"aria-label":"Dismiss notification",children:e.jsx(wt,{size:14})})]})]}),!n&&e.jsx("div",{className:Re.popupCardPreview,children:e.jsx("span",{className:Re.popupCardPreviewText,children:s.title})}),n&&e.jsx("div",{className:Re.popupCardContent,children:s.content})]})})},um="_popupStack_1urkl_1",hm="_popupStackContainer_1urkl_5",mm="_popupStackHeader_1urkl_10",pm="_popupStackMore_1urkl_11",xm="_popupStackActive_1urkl_56",fm="_popupStackInactive_1urkl_60",es={popupStack:um,popupStackContainer:hm,popupStackHeader:mm,popupStackMore:pm,popupStackActive:xm,popupStackInactive:fm},gm=({popups:s,activePopup:t,maxVisible:n=4,onPopupSelect:a,onPopupDismiss:i,position:r="bottom"})=>{if(s.length===0)return null;const o=[...s].sort((l,c)=>{const d={high:0,medium:1,low:2};return d[l.priority]!==d[c.priority]?d[l.priority]-d[c.priority]:c.timestamp.getTime()-l.timestamp.getTime()});return e.jsx("div",{className:es.popupStack,style:{position:"fixed",left:"50%",transform:"translateX(-50%)",width:"100%",maxWidth:"400px",zIndex:1e3,pointerEvents:"none",...r==="top"&&{top:"20px"},...r==="bottom"&&{bottom:"260px"},...r==="center"&&{top:"50%",transform:"translate(-50%, -50%)"}},children:e.jsxs("div",{className:es.popupStackContainer,style:{display:"flex",flexDirection:r==="bottom"?"column-reverse":"column",gap:"4px",padding:"0 16px",pointerEvents:"auto"},children:[o.length>1&&e.jsx("div",{className:es.popupStackHeader,style:{textAlign:"center",padding:"8px 0",color:"#8E8E93",fontSize:"14px",fontWeight:"600",order:r==="bottom"?1:-1},children:"Notification Centre"}),t&&e.jsx("div",{className:es.popupStackActive,style:{order:0},children:o.filter(l=>l.id===t).map((l,c)=>e.jsx($i,{popup:l,index:0,isActive:!0,onClick:()=>a(l.id),onDismiss:()=>i(l.id),maxVisible:n},l.id))}),e.jsx("div",{className:es.popupStackInactive,style:{order:r==="bottom"?2:1},children:o.filter(l=>l.id!==t).slice(0,n-1).map((l,c)=>e.jsx($i,{popup:l,index:c+1,isActive:!1,onClick:()=>a(l.id),onDismiss:()=>i(l.id),maxVisible:n},l.id))}),o.filter(l=>l.id!==t).length>n-1&&e.jsxs("div",{className:es.popupStackMore,style:{textAlign:"center",padding:"8px 0",color:"#8E8E93",fontSize:"12px",fontWeight:"500",order:r==="bottom"?3:2},children:["+",o.filter(l=>l.id!==t).length-(n-1)," more"]})]})})},vm="Hotel Mui Ne",ym="AI-powered Voice Assistant - Supporting All Your Needs",jm="Tap To Speak",bm="Room & Stay",wm="Room Services",Nm="Bookings & Facilities",Sm="Tourism & Exploration",Cm="Support to book external services",km="Order Ref",Tm="Requested At",_m="Estimated Completion",Em="Time Remaining",Am="Mute",Pm="Unmute",Im="Confirm",Dm="Please speak to the assistant first.",Mm="Tap to speak",Lm="Order Summary",Rm="Confirm",$m="Add Note",Fm="Room Number",Om="Enter room number",zm="Enter additional notes",Bm="Summary",Hm="Generated at",qm="Order Confirmed!",Vm="Your request has been confirmed and forwarded to our staff. They will process it right away.",Gm="Order Reference",Um="Estimated delivery time:",Wm="Return to Home",Km="Language",Qm="English",Xm="French",Ym="Send",Zm="Cancel",Jm="End Call",ep="Room",tp="Order ID",sp="Guest Name",np="Content",ap="Time",ip="Status",rp="Action",lp="Message Guest",op="Staff Request Management",cp="Login",dp="Username",up="Password",hp="Tap the call button to start your request.",mp="Review and confirm your request for accuracy.",pp="Your request will be sent to the reception for processing.",xp="Acknowledged",fp="In Progress",gp="Delivering to You",vp="Completed",yp="Special Note",jp="Check-in/Check-out",bp="Extended Stay Request",wp="Room Information",Np="Hotel Policies",Sp="Wi-Fi Services",Cp="Room Service Food",kp="Drinks & Bar Service",Tp="Room Cleaning",_p="Laundry Service",Ep="Wake-up Call",Ap="Additional Amenities",Pp="Maintenance Request",Ip="Restaurant Reservation",Dp="Spa Services",Mp="Fitness Center",Lp="Swimming Pool",Rp="Car Rental",$p="Medical Assistance",Fp="Customer Support",Op="Local Attractions",zp="Local Restaurants",Bp="Public Transportation",Hp="Local Events",qp="Shopping Areas",Vp="Area Maps",Gp="Translation Services",Up="Leave a Review",Wp="Report an Issue",Kp="Luggage Services",Qp="Generating your summary...",Xp="Speak Multiple Languages with Our AI Voice Assistant",Yp={hotel_name:vm,hotel_subtitle:ym,press_to_call:jm,room_and_stay:bm,room_services:wm,bookings_and_facilities:Nm,tourism_and_exploration:Sm,support_external_services:Cm,order_ref:km,requested_at:Tm,estimated_completion:_m,time_remaining:Em,mute:Am,unmute:Pm,confirm:Im,need_conversation:Dm,tap_to_speak:Mm,order_summary:Lm,send_to_reception:Rm,add_note:$m,room_number:Fm,enter_room_number:Om,enter_notes:zm,summary:Bm,generated_at:Hm,order_confirmed:qm,order_confirmed_message:Vm,order_reference:Gm,estimated_delivery_time:Um,return_to_home:Wm,language:Km,english:Qm,french:Xm,send:Ym,cancel:Zm,confirm_request:Jm,room:ep,order_id:tp,guest_name:sp,content:np,time:ap,status:ip,action:rp,message_guest:lp,request_management:op,login:cp,username:dp,password:up,press_to_call_desc:hp,confirm_request_desc:mp,send_to_reception_desc:pp,status_acknowledged:xp,status_in_progress:fp,status_delivering:gp,status_completed:vp,status_note:yp,icon_login:jp,icon_hourglass_empty:bp,icon_info:wp,icon_policy:Np,icon_wifi:Sp,icon_restaurant:Cp,icon_local_bar:kp,icon_cleaning_services:Tp,icon_local_laundry_service:_p,icon_alarm:Ep,icon_add_circle:Ap,icon_build:Pp,icon_event_seat:Ip,icon_spa:Dp,icon_fitness_center:Mp,icon_pool:Lp,icon_directions_car:Rp,icon_medical_services:$p,icon_support_agent:Fp,icon_location_on:Op,icon_local_dining:zp,icon_directions_bus:Bp,icon_event:Hp,icon_shopping_bag:qp,icon_map:Vp,icon_translate:Gp,icon_rate_review:Up,icon_report_problem:Wp,icon_luggage:Kp,generating_your_summary:Qp,speak_multiple_languages:Xp},Zp="Bienvenue √† Mi Nhon Hotel",Jp="Commencer",ex="Langue",tx="Anglais",sx="Fran√ßais",nx="Envoyer",ax="Annuler",ix="Confirmer la demande",rx="Chambre",lx="ID de commande",ox="Nom du client",cx="Contenu",dx="Heure",ux="Statut",hx="Action",mx="Message au client",px="Gestion des demandes du personnel",xx="Connexion",fx="Nom d'utilisateur",gx="Mot de passe",vx="Hotel Mui Ne",yx="Assistant vocal IA - √Ä votre service pour tous vos besoins",jx="Appuyez pour appeler",bx="Chambre & S√©jour",wx="Services de chambre",Nx="R√©servations & Installations",Sx="Tourisme & Exploration",Cx="Assistance pour services externes",kx="R√©f. commande",Tx="Demand√© √†",_x="Fin estim√©e",Ex="Temps restant",Ax="Muet",Px="R√©tablir le son",Ix="Confirmer",Dx="Veuillez d'abord parler avec l'assistant.",Mx="Appuyez pour parler",Lx="R√©capitulatif de la commande",Rx="Envoyer √† la r√©ception",$x="Ajouter une note",Fx="Num√©ro de chambre",Ox="Saisir le num√©ro de chambre",zx="Saisir des notes suppl√©mentaires",Bx="R√©sum√©",Hx="G√©n√©r√© √†",qx="Commande confirm√©e !",Vx="Votre demande a √©t√© confirm√©e et transmise √† notre personnel. Elle sera trait√©e imm√©diatement.",Gx="R√©f√©rence de la commande",Ux="Heure de livraison estim√©e :",Wx="Retour √† l'accueil",Kx="Appuyez sur le bouton d'appel pour d√©marrer votre demande.",Qx="V√©rifiez et confirmez votre demande pour plus de pr√©cision.",Xx="Votre demande sera envoy√©e √† la r√©ception pour traitement.",Yx="Re√ßue",Zx="En cours",Jx="En livraison",ef="Termin√©e",tf="Note sp√©ciale",sf="Arriv√©e/D√©part",nf="Prolongation de s√©jour",af="Informations sur la chambre",rf="Politiques de l'h√¥tel",lf="Services Wi-Fi",of="Service de restauration",cf="Service de bar",df="Nettoyage de chambre",uf="Service de blanchisserie",hf="Service de r√©veil",mf="Am√©nit√©s suppl√©mentaires",pf="Demande de maintenance",xf="R√©servation au restaurant",ff="Services de spa",gf="Centre de fitness",vf="Piscine",yf="Location de voiture",jf="Assistance m√©dicale",bf="Service client",wf="Attractions locales",Nf="Restaurants locaux",Sf="Transports publics",Cf="√âv√©nements locaux",kf="Zones commerciales",Tf="Cartes de la r√©gion",_f="Services de traduction",Ef="Laisser un avis",Af="Signaler un probl√®me",Pf="Services de bagagerie",If="G√©n√©ration de votre r√©sum√©...",Df="Parlez Plusieurs Langues avec Notre Assistant Vocal IA",Mf={welcome:Zp,start:Jp,language:ex,english:tx,french:sx,send:nx,cancel:ax,confirm_request:ix,room:rx,order_id:lx,guest_name:ox,content:cx,time:dx,status:ux,action:hx,message_guest:mx,request_management:px,login:xx,username:fx,password:gx,hotel_name:vx,hotel_subtitle:yx,press_to_call:jx,room_and_stay:bx,room_services:wx,bookings_and_facilities:Nx,tourism_and_exploration:Sx,support_external_services:Cx,order_ref:kx,requested_at:Tx,estimated_completion:_x,time_remaining:Ex,mute:Ax,unmute:Px,confirm:Ix,need_conversation:Dx,tap_to_speak:Mx,order_summary:Lx,send_to_reception:Rx,add_note:$x,room_number:Fx,enter_room_number:Ox,enter_notes:zx,summary:Bx,generated_at:Hx,order_confirmed:qx,order_confirmed_message:Vx,order_reference:Gx,estimated_delivery_time:Ux,return_to_home:Wx,press_to_call_desc:Kx,confirm_request_desc:Qx,send_to_reception_desc:Xx,status_acknowledged:Yx,status_in_progress:Zx,status_delivering:Jx,status_completed:ef,status_note:tf,icon_login:sf,icon_hourglass_empty:nf,icon_info:af,icon_policy:rf,icon_wifi:lf,icon_restaurant:of,icon_local_bar:cf,icon_cleaning_services:df,icon_local_laundry_service:uf,icon_alarm:hf,icon_add_circle:mf,icon_build:pf,icon_event_seat:xf,icon_spa:ff,icon_fitness_center:gf,icon_pool:vf,icon_directions_car:yf,icon_medical_services:jf,icon_support_agent:bf,icon_location_on:wf,icon_local_dining:Nf,icon_directions_bus:Sf,icon_event:Cf,icon_shopping_bag:kf,icon_map:Tf,icon_translate:_f,icon_rate_review:Ef,icon_report_problem:Af,icon_luggage:Pf,generating_your_summary:If,speak_multiple_languages:Df},Lf="Ê¨¢ËøéÊù•Âà∞ÁæéÂÜúÈÖíÂ∫ó (Mi Nhon Hotel)",Rf="ÂºÄÂßã",$f="ËØ≠Ë®Ä",Ff="Ëã±ËØ≠",Of="Ê≥ïËØ≠",zf="ÂèëÈÄÅ",Bf="ÂèñÊ∂à",Hf="Á°ÆËÆ§ËØ∑Ê±Ç",qf="ÊàøÈó¥",Vf="ËÆ¢ÂçïÁºñÂè∑",Gf="ÂÆ¢‰∫∫ÂßìÂêç",Uf="ÂÜÖÂÆπ",Wf="Êó∂Èó¥",Kf="Áä∂ÊÄÅ",Qf="Êìç‰Ωú",Xf="ÁªôÂÆ¢‰∫∫ÁöÑÊ∂àÊÅØ",Yf="ÂëòÂ∑•ËØ∑Ê±ÇÁÆ°ÁêÜ",Zf="ÁôªÂΩï",Jf="Áî®Êà∑Âêç",eg="ÂØÜÁ†Å",tg="ÈÖíÂ∫ó Mui Ne",sg="AIËØ≠Èü≥Âä©Êâã - Êª°Ë∂≥ÊÇ®ÁöÑÊâÄÊúâÈúÄÊ±Ç",ng="Êåâ‰∏ãÂëºÂè´",ag="ÊàøÈó¥‰∏é‰ΩèÂÆø",ig="ÂÆ¢ÊàøÊúçÂä°",rg="È¢ÑËÆ¢‰∏éËÆæÊñΩ",lg="ÊóÖÊ∏∏‰∏éÊé¢Á¥¢",og="ÊîØÊåÅÂ§ñÈÉ®ÊúçÂä°",cg="ËÆ¢ÂçïÂèÇËÄÉ",dg="ËØ∑Ê±ÇÊó∂Èó¥",ug="È¢ÑËÆ°ÂÆåÊàêÊó∂Èó¥",hg="Ââ©‰ΩôÊó∂Èó¥",mg="ÈùôÈü≥",pg="ÂèñÊ∂àÈùôÈü≥",xg="Á°ÆËÆ§",fg="ËØ∑ÂÖà‰∏éÂä©ÊâãÂØπËØù„ÄÇ",gg="ÁÇπÂáªËØ¥ËØù",vg="ËÆ¢ÂçïÊëòË¶Å",yg="ÂèëÈÄÅÂà∞ÂâçÂè∞",jg="Ê∑ªÂä†Â§áÊ≥®",bg="ÊàøÈó¥Âè∑",wg="ËæìÂÖ•ÊàøÈó¥Âè∑",Ng="ËæìÂÖ•ÈôÑÂä†Â§áÊ≥®",Sg="ÊëòË¶Å",Cg="ÁîüÊàêÊó∂Èó¥",kg="ËÆ¢ÂçïÂ∑≤Á°ÆËÆ§ÔºÅ",Tg="ÊÇ®ÁöÑËØ∑Ê±ÇÂ∑≤Á°ÆËÆ§Âπ∂ÂèëÈÄÅÁªôÊàë‰ª¨ÁöÑÂëòÂ∑•„ÄÇÊàë‰ª¨‰ºöÁ´ãÂç≥Â§ÑÁêÜ„ÄÇ",_g="ËÆ¢ÂçïÂèÇËÄÉ",Eg="È¢ÑËÆ°ÈÄÅËææÊó∂Èó¥Ôºö",Ag="ËøîÂõûÈ¶ñÈ°µ",Pg="ÁÇπÂáªÂëºÂè´ÊåâÈíÆÂºÄÂßãÊÇ®ÁöÑËØ∑Ê±Ç„ÄÇ",Ig="ËØ∑Ê£ÄÊü•Âπ∂Á°ÆËÆ§ÊÇ®ÁöÑËØ∑Ê±Ç‰ª•Á°Æ‰øùÂáÜÁ°Æ„ÄÇ",Dg="ÊÇ®ÁöÑËØ∑Ê±ÇÂ∞ÜË¢´ÂèëÈÄÅÂà∞ÂâçÂè∞ËøõË°åÂ§ÑÁêÜ„ÄÇ",Mg="Â∑≤Á°ÆËÆ§",Lg="Â§ÑÁêÜ‰∏≠",Rg="ÈÖçÈÄÅ‰∏≠",$g="Â∑≤ÂÆåÊàê",Fg="ÁâπÂà´ËØ¥Êòé",Og="ÂÖ•‰Ωè/ÈÄÄÊàø",zg="Âª∂Èïø‰ΩèÂÆøËØ∑Ê±Ç",Bg="ÊàøÈó¥‰ø°ÊÅØ",Hg="ÈÖíÂ∫óÊîøÁ≠ñ",qg="Êó†Á∫øÁΩëÁªúÊúçÂä°",Vg="ÂÆ¢ÊàøÈ§êÈ•ÆÊúçÂä°",Gg="È•ÆÂìÅ‰∏éÈÖíÂêßÊúçÂä°",Ug="ÊàøÈó¥Ê∏ÖÊ¥Å",Wg="Ê¥óË°£ÊúçÂä°",Kg="Âî§ÈÜíÊúçÂä°",Qg="È¢ùÂ§ñËÆæÊñΩ",Xg="Áª¥‰øÆËØ∑Ê±Ç",Yg="È§êÂéÖÈ¢ÑËÆ¢",Zg="Ê∞¥ÁñóÊúçÂä°",Jg="ÂÅ•Ë∫´‰∏≠ÂøÉ",e0="Ê∏∏Ê≥≥Ê±†",t0="ÁßüËΩ¶ÊúçÂä°",s0="ÂåªÁñóÊè¥Âä©",n0="ÂÆ¢Êà∑ÊîØÊåÅ",a0="ÂΩìÂú∞ÊôØÁÇπ",i0="ÂΩìÂú∞È§êÂéÖ",r0="ÂÖ¨ÂÖ±‰∫§ÈÄö",l0="ÂΩìÂú∞Ê¥ªÂä®",o0="Ë¥≠Áâ©Âå∫Âüü",c0="Âå∫ÂüüÂú∞Âõæ",d0="ÁøªËØëÊúçÂä°",u0="Áïô‰∏ãËØÑËÆ∫",h0="Êä•ÂëäÈóÆÈ¢ò",m0="Ë°åÊùéÊúçÂä°",p0="Ê≠£Âú®ÁîüÊàêÊÇ®ÁöÑÊëòË¶Å...",x0={welcome:Lf,start:Rf,language:$f,english:Ff,french:Of,send:zf,cancel:Bf,confirm_request:Hf,room:qf,order_id:Vf,guest_name:Gf,content:Uf,time:Wf,status:Kf,action:Qf,message_guest:Xf,request_management:Yf,login:Zf,username:Jf,password:eg,hotel_name:tg,hotel_subtitle:sg,press_to_call:ng,room_and_stay:ag,room_services:ig,bookings_and_facilities:rg,tourism_and_exploration:lg,support_external_services:og,order_ref:cg,requested_at:dg,estimated_completion:ug,time_remaining:hg,mute:mg,unmute:pg,confirm:xg,need_conversation:fg,tap_to_speak:gg,order_summary:vg,send_to_reception:yg,add_note:jg,room_number:bg,enter_room_number:wg,enter_notes:Ng,summary:Sg,generated_at:Cg,order_confirmed:kg,order_confirmed_message:Tg,order_reference:_g,estimated_delivery_time:Eg,return_to_home:Ag,press_to_call_desc:Pg,confirm_request_desc:Ig,send_to_reception_desc:Dg,status_acknowledged:Mg,status_in_progress:Lg,status_delivering:Rg,status_completed:$g,status_note:Fg,icon_login:Og,icon_hourglass_empty:zg,icon_info:Bg,icon_policy:Hg,icon_wifi:qg,icon_restaurant:Vg,icon_local_bar:Gg,icon_cleaning_services:Ug,icon_local_laundry_service:Wg,icon_alarm:Kg,icon_add_circle:Qg,icon_build:Xg,icon_event_seat:Yg,icon_spa:Zg,icon_fitness_center:Jg,icon_pool:e0,icon_directions_car:t0,icon_medical_services:s0,icon_support_agent:n0,icon_location_on:a0,icon_local_dining:i0,icon_directions_bus:r0,icon_event:l0,icon_shopping_bag:o0,icon_map:c0,icon_translate:d0,icon_rate_review:u0,icon_report_problem:h0,icon_luggage:m0,generating_your_summary:p0},f0="–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –æ—Ç–µ–ª—å Mi Nhon",g0="–ù–∞—á–∞—Ç—å",v0="–Ø–∑—ã–∫",y0="–ê–Ω–≥–ª–∏–π—Å–∫–∏–π",j0="–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π",b0="–†—É—Å—Å–∫–∏–π",w0="–û—Ç–ø—Ä–∞–≤–∏—Ç—å",N0="–û—Ç–º–µ–Ω–∞",S0="–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–ø—Ä–æ—Å",C0="–ù–æ–º–µ—Ä",k0="ID –∑–∞–∫–∞–∑–∞",T0="–ò–º—è –≥–æ—Å—Ç—è",_0="–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ",E0="–í—Ä–µ–º—è",A0="–°—Ç–∞—Ç—É—Å",P0="–î–µ–π—Å—Ç–≤–∏–µ",I0="–°–æ–æ–±—â–µ–Ω–∏–µ –≥–æ—Å—Ç—é",D0="–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞–º–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞",M0="–í—Ö–æ–¥",L0="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",R0="–ü–∞—Ä–æ–ª—å",$0="–û—Ç–µ–ª—å Mui Ne",F0="–ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –≤–∞—à–∏—Ö –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π",O0="–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –∑–≤–æ–Ω–∫–∞",z0="–ù–æ–º–µ—Ä –∏ –ø—Ä–æ–∂–∏–≤–∞–Ω–∏–µ",B0="–£—Å–ª—É–≥–∏ –Ω–æ–º–µ—Ä–∞",H0="–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É–¥–æ–±—Å—Ç–≤–∞",q0="–¢—É—Ä–∏–∑–º –∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ",V0="–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–Ω–µ—à–Ω–∏—Ö —É—Å–ª—É–≥",G0="–°—Å—ã–ª–∫–∞ –Ω–∞ –∑–∞–∫–∞–∑",U0="–ó–∞–ø—Ä–æ—à–µ–Ω–æ –≤",W0="–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ",K0="–û—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è",Q0="–ë–µ–∑ –∑–≤—É–∫–∞",X0="–í–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫",Y0="–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å",Z0="–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–Ω–∞—á–∞–ª–∞ –ø–æ–≥–æ–≤–æ—Ä–∏—Ç–µ —Å –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º.",J0="–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –≥–æ–≤–æ—Ä–∏—Ç—å",ev="–°–≤–æ–¥–∫–∞ –∑–∞–∫–∞–∑–∞",tv="–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ —Ä–µ—Å–µ–ø—à–µ–Ω",sv="–î–æ–±–∞–≤–∏—Ç—å –∑–∞–º–µ—Ç–∫—É",nv="–ù–æ–º–µ—Ä –∫–æ–º–Ω–∞—Ç—ã",av="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –∫–æ–º–Ω–∞—Ç—ã",iv="–í–≤–µ–¥–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏",rv="–°–≤–æ–¥–∫–∞",lv="–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ –≤",ov="–ó–∞–∫–∞–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω!",cv="–í–∞—à –∑–∞–ø—Ä–æ—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω –∏ –ø–µ—Ä–µ–¥–∞–Ω –Ω–∞—à–µ–º—É –ø–µ—Ä—Å–æ–Ω–∞–ª—É. –û–Ω–∏ –æ–±—Ä–∞–±–æ—Ç–∞—é—Ç –µ–≥–æ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ.",dv="–°—Å—ã–ª–∫–∞ –Ω–∞ –∑–∞–∫–∞–∑",uv="–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º–æ–µ –≤—Ä–µ–º—è –¥–æ—Å—Ç–∞–≤–∫–∏:",hv="–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é",mv="–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –≤—ã–∑–æ–≤–∞, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –≤–∞—à –∑–∞–ø—Ä–æ—Å.",pv="–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –≤–∞—à –∑–∞–ø—Ä–æ—Å –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏.",xv="–í–∞—à –∑–∞–ø—Ä–æ—Å –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ —Ä–µ—Å–µ–ø—à–µ–Ω –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏.",fv="–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ",gv="–í –ø—Ä–æ—Ü–µ—Å—Å–µ",vv="–î–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è",yv="–ó–∞–≤–µ—Ä—à–µ–Ω–æ",jv="–û—Å–æ–±–∞—è –∑–∞–º–µ—Ç–∫–∞",bv="–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/–í—ã—Å–µ–ª–µ–Ω–∏–µ",wv="–ó–∞–ø—Ä–æ—Å –Ω–∞ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ –ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è",Nv="–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ω–æ–º–µ—Ä–µ",Sv="–ü—Ä–∞–≤–∏–ª–∞ –æ—Ç–µ–ª—è",Cv="Wi-Fi —É—Å–ª—É–≥–∏",kv="–†–µ—Å—Ç–æ—Ä–∞–Ω–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –Ω–æ–º–µ—Ä–æ–≤",Tv="–ù–∞–ø–∏—Ç–∫–∏ –∏ –±–∞—Ä",_v="–£–±–æ—Ä–∫–∞ –Ω–æ–º–µ—Ä–∞",Ev="–£—Å–ª—É–≥–∏ –ø—Ä–∞—á–µ—á–Ω–æ–π",Av="–£—Å–ª—É–≥–∞ –±—É–¥–∏–ª—å–Ω–∏–∫–∞",Pv="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–¥–æ–±—Å—Ç–≤–∞",Iv="–ó–∞–ø—Ä–æ—Å –Ω–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ",Dv="–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞",Mv="–°–ü–ê —É—Å–ª—É–≥–∏",Lv="–§–∏—Ç–Ω–µ—Å-—Ü–µ–Ω—Ç—Ä",Rv="–ë–∞—Å—Å–µ–π–Ω",$v="–ê—Ä–µ–Ω–¥–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª—è",Fv="–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –ø–æ–º–æ—â—å",Ov="–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤",zv="–ú–µ—Å—Ç–Ω—ã–µ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏",Bv="–ú–µ—Å—Ç–Ω—ã–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã",Hv="–û–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç",qv="–ú–µ—Å—Ç–Ω—ã–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è",Vv="–¢–æ—Ä–≥–æ–≤—ã–µ –∑–æ–Ω—ã",Gv="–ö–∞—Ä—Ç—ã –º–µ—Å—Ç–Ω–æ—Å—Ç–∏",Uv="–£—Å–ª—É–≥–∏ –ø–µ—Ä–µ–≤–æ–¥–∞",Wv="–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤",Kv="–°–æ–æ–±—â–∏—Ç—å –æ –ø—Ä–æ–±–ª–µ–º–µ",Qv="–£—Å–ª—É–≥–∏ –±–∞–≥–∞–∂–∞",Xv="–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –≤–∞—à –∏—Ç–æ–≥...",Yv={welcome:f0,start:g0,language:v0,english:y0,french:j0,russian:b0,send:w0,cancel:N0,confirm_request:S0,room:C0,order_id:k0,guest_name:T0,content:_0,time:E0,status:A0,action:P0,message_guest:I0,request_management:D0,login:M0,username:L0,password:R0,hotel_name:$0,hotel_subtitle:F0,press_to_call:O0,room_and_stay:z0,room_services:B0,bookings_and_facilities:H0,tourism_and_exploration:q0,support_external_services:V0,order_ref:G0,requested_at:U0,estimated_completion:W0,time_remaining:K0,mute:Q0,unmute:X0,confirm:Y0,need_conversation:Z0,tap_to_speak:J0,order_summary:ev,send_to_reception:tv,add_note:sv,room_number:nv,enter_room_number:av,enter_notes:iv,summary:rv,generated_at:lv,order_confirmed:ov,order_confirmed_message:cv,order_reference:dv,estimated_delivery_time:uv,return_to_home:hv,press_to_call_desc:mv,confirm_request_desc:pv,send_to_reception_desc:xv,status_acknowledged:fv,status_in_progress:gv,status_delivering:vv,status_completed:yv,status_note:jv,icon_login:bv,icon_hourglass_empty:wv,icon_info:Nv,icon_policy:Sv,icon_wifi:Cv,icon_restaurant:kv,icon_local_bar:Tv,icon_cleaning_services:_v,icon_local_laundry_service:Ev,icon_alarm:Av,icon_add_circle:Pv,icon_build:Iv,icon_event_seat:Dv,icon_spa:Mv,icon_fitness_center:Lv,icon_pool:Rv,icon_directions_car:$v,icon_medical_services:Fv,icon_support_agent:Ov,icon_location_on:zv,icon_local_dining:Bv,icon_directions_bus:Hv,icon_event:qv,icon_shopping_bag:Vv,icon_map:Gv,icon_translate:Uv,icon_rate_review:Wv,icon_report_problem:Kv,icon_luggage:Qv,generating_your_summary:Xv},Zv="ÎØ∏ÎÖÑ Ìò∏ÌÖîÏóê Ïò§Ïã† Í≤ÉÏùÑ ÌôòÏòÅÌï©ÎãàÎã§",Jv="ÏãúÏûë",ey="Ïñ∏Ïñ¥",ty="ÏòÅÏñ¥",sy="ÌîÑÎûëÏä§Ïñ¥",ny="Îü¨ÏãúÏïÑÏñ¥",ay="ÌïúÍµ≠Ïñ¥",iy="Î≥¥ÎÇ¥Í∏∞",ry="Ï∑®ÏÜå",ly="ÏöîÏ≤≠ ÌôïÏù∏",oy="Í∞ùÏã§",cy="Ï£ºÎ¨∏ ID",dy="Ìà¨ÏàôÍ∞ù Ïù¥Î¶Ñ",uy="ÎÇ¥Ïö©",hy="ÏãúÍ∞Ñ",my="ÏÉÅÌÉú",py="ÎèôÏûë",xy="Í≤åÏä§Ìä∏ÏóêÍ≤å Î©îÏãúÏßÄ Î≥¥ÎÇ¥Í∏∞",fy="ÏßÅÏõê ÏöîÏ≤≠ Í¥ÄÎ¶¨",gy="Î°úÍ∑∏Ïù∏",vy="ÏÇ¨Ïö©Ïûê Ïù¥Î¶Ñ",yy="ÎπÑÎ∞ÄÎ≤àÌò∏",jy="Î¨¥Ïù¥ÎÑ§ Ìò∏ÌÖî",by="AI Ïñ¥ÏãúÏä§ÌÑ¥Ìä∏ - Î™®Îì† ÌïÑÏöîÎ•º ÏßÄÏõêÌï©ÎãàÎã§",wy="Ìò∏Ï∂úÌïòÎ†§Î©¥ ÎàÑÎ•¥ÏÑ∏Ïöî",Ny="Í∞ùÏã§ Î∞è ÏàôÎ∞ï",Sy="Í∞ùÏã§ ÏÑúÎπÑÏä§",Cy="ÏòàÏïΩ Î∞è ÏãúÏÑ§",ky="Í¥ÄÍ¥ë Î∞è ÌÉêÌóò",Ty="Ïô∏Î∂Ä ÏÑúÎπÑÏä§ ÏßÄÏõê",_y="Ï£ºÎ¨∏ Ï∞∏Ï°∞",Ey="ÏöîÏ≤≠ ÏãúÍ∞Ñ",Ay="ÏòàÏÉÅ ÏôÑÎ£å ÏãúÍ∞Ñ",Py="ÎÇ®ÏùÄ ÏãúÍ∞Ñ",Iy="ÏùåÏÜåÍ±∞",Dy="ÏùåÏÜåÍ±∞ Ìï¥Ï†ú",My="ÌôïÏù∏",Ly="Î®ºÏ†Ä Ïñ¥ÏãúÏä§ÌÑ¥Ìä∏ÏôÄ ÎåÄÌôîÌï¥ Ï£ºÏÑ∏Ïöî.",Ry="ÎßêÌïòÎ†§Î©¥ ÎàÑÎ•¥ÏÑ∏Ïöî",$y="Ï£ºÎ¨∏ ÏöîÏïΩ",Fy="ÌîÑÎü∞Ìä∏Î°ú Î≥¥ÎÇ¥Í∏∞",Oy="Î©îÎ™® Ï∂îÍ∞Ä",zy="Í∞ùÏã§ Î≤àÌò∏",By="Í∞ùÏã§ Î≤àÌò∏Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî",Hy="Ï∂îÍ∞Ä Î©îÎ™®Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî",qy="ÏöîÏïΩ",Vy="ÏÉùÏÑ± ÏãúÍ∞Ñ",Gy="Ï£ºÎ¨∏Ïù¥ ÌôïÏù∏ÎêòÏóàÏäµÎãàÎã§!",Uy="Í∑ÄÌïòÏùò ÏöîÏ≤≠Ïù¥ ÌôïÏù∏ÎêòÏñ¥ ÏßÅÏõêÏóêÍ≤å Ï†ÑÎã¨ÎêòÏóàÏäµÎãàÎã§. Ï¶âÏãú Ï≤òÎ¶¨ÌïòÍ≤†ÏäµÎãàÎã§.",Wy="Ï£ºÎ¨∏ Ï∞∏Ï°∞",Ky="ÏòàÏÉÅ Î∞∞Îã¨ ÏãúÍ∞Ñ:",Qy="ÌôàÏúºÎ°ú ÎèåÏïÑÍ∞ÄÍ∏∞",Xy="ÏöîÏ≤≠ÏùÑ ÏãúÏûëÌïòÎ†§Î©¥ Ìò∏Ï∂ú Î≤ÑÌäºÏùÑ ÎàÑÎ•¥ÏÑ∏Ïöî.",Yy="Ï†ïÌôïÏÑ±ÏùÑ ÏúÑÌï¥ ÏöîÏ≤≠ÏùÑ ÌôïÏù∏ÌïòÏÑ∏Ïöî.",Zy="Í∑ÄÌïòÏùò ÏöîÏ≤≠Ïù¥ ÌîÑÎü∞Ìä∏Î°ú Ï†ÑÏÜ°ÎêòÏñ¥ Ï≤òÎ¶¨Îê©ÎãàÎã§.",Jy="Ï†ëÏàòÎê®",ej="Ï≤òÎ¶¨ Ï§ë",tj="Î∞∞Îã¨ Ï§ë",sj="ÏôÑÎ£åÎê®",nj="ÌäπÎ≥Ñ ÏïàÎÇ¥",aj="Ï≤¥ÌÅ¨Ïù∏/Ï≤¥ÌÅ¨ÏïÑÏõÉ",ij="ÏàôÎ∞ï Ïó∞Ïû• ÏöîÏ≤≠",rj="Í∞ùÏã§ Ï†ïÎ≥¥",lj="Ìò∏ÌÖî Ï†ïÏ±Ö",oj="ÏôÄÏù¥ÌååÏù¥ ÏÑúÎπÑÏä§",cj="Î£∏ÏÑúÎπÑÏä§ ÏùåÏãù",dj="ÏùåÎ£å Î∞è Î∞î ÏÑúÎπÑÏä§",uj="Í∞ùÏã§ Ï≤≠ÏÜå",hj="ÏÑ∏ÌÉÅ ÏÑúÎπÑÏä§",mj="Î™®ÎãùÏΩú ÏÑúÎπÑÏä§",pj="Ï∂îÍ∞Ä Ìé∏Ïùò ÏãúÏÑ§",xj="Ïú†ÏßÄÎ≥¥Ïàò ÏöîÏ≤≠",fj="Î†àÏä§ÌÜ†Îûë ÏòàÏïΩ",gj="Ïä§Ìåå ÏÑúÎπÑÏä§",vj="ÌîºÌä∏ÎãàÏä§ ÏÑºÌÑ∞",yj="ÏàòÏòÅÏû•",jj="Î†åÌÑ∞Ïπ¥",bj="ÏùòÎ£å ÏßÄÏõê",wj="Í≥†Í∞ù ÏßÄÏõê",Nj="ÏßÄÏó≠ Î™ÖÏÜå",Sj="ÏßÄÏó≠ Î†àÏä§ÌÜ†Îûë",Cj="ÎåÄÏ§ëÍµêÌÜµ",kj="ÏßÄÏó≠ Ïù¥Î≤§Ìä∏",Tj="ÏáºÌïë ÏßÄÏó≠",_j="ÏßÄÏó≠ ÏßÄÎèÑ",Ej="Î≤àÏó≠ ÏÑúÎπÑÏä§",Aj="Î¶¨Î∑∞ ÎÇ®Í∏∞Í∏∞",Pj="Î¨∏Ï†ú Ïã†Í≥†",Ij="ÏàòÌôîÎ¨º ÏÑúÎπÑÏä§",Dj="ÏöîÏïΩÏùÑ ÏÉùÏÑ±ÌïòÎäî Ï§ë...",Mj={welcome:Zv,start:Jv,language:ey,english:ty,french:sy,russian:ny,korean:ay,send:iy,cancel:ry,confirm_request:ly,room:oy,order_id:cy,guest_name:dy,content:uy,time:hy,status:my,action:py,message_guest:xy,request_management:fy,login:gy,username:vy,password:yy,hotel_name:jy,hotel_subtitle:by,press_to_call:wy,room_and_stay:Ny,room_services:Sy,bookings_and_facilities:Cy,tourism_and_exploration:ky,support_external_services:Ty,order_ref:_y,requested_at:Ey,estimated_completion:Ay,time_remaining:Py,mute:Iy,unmute:Dy,confirm:My,need_conversation:Ly,tap_to_speak:Ry,order_summary:$y,send_to_reception:Fy,add_note:Oy,room_number:zy,enter_room_number:By,enter_notes:Hy,summary:qy,generated_at:Vy,order_confirmed:Gy,order_confirmed_message:Uy,order_reference:Wy,estimated_delivery_time:Ky,return_to_home:Qy,press_to_call_desc:Xy,confirm_request_desc:Yy,send_to_reception_desc:Zy,status_acknowledged:Jy,status_in_progress:ej,status_delivering:tj,status_completed:sj,status_note:nj,icon_login:aj,icon_hourglass_empty:ij,icon_info:rj,icon_policy:lj,icon_wifi:oj,icon_restaurant:cj,icon_local_bar:dj,icon_cleaning_services:uj,icon_local_laundry_service:hj,icon_alarm:mj,icon_add_circle:pj,icon_build:xj,icon_event_seat:fj,icon_spa:gj,icon_fitness_center:vj,icon_pool:yj,icon_directions_car:jj,icon_medical_services:bj,icon_support_agent:wj,icon_location_on:Nj,icon_local_dining:Sj,icon_directions_bus:Cj,icon_event:kj,icon_shopping_bag:Tj,icon_map:_j,icon_translate:Ej,icon_rate_review:Aj,icon_report_problem:Pj,icon_luggage:Ij,generating_your_summary:Dj},Lj="Kh√°ch s·∫°n Mui Ne",Rj="Tr·ª£ l√Ω gi·ªçng n√≥i AI - H·ªó tr·ª£ m·ªçi nhu c·∫ßu c·ªßa b·∫°n",$j="Nh·∫•n ƒë·ªÉ n√≥i",Fj="Ph√≤ng & L∆∞u tr√∫",Oj="D·ªãch v·ª• ph√≤ng",zj="ƒê·∫∑t ch·ªó & Ti·ªán √≠ch",Bj="Du l·ªãch & Kh√°m ph√°",Hj="H·ªó tr·ª£ ƒë·∫∑t d·ªãch v·ª• b√™n ngo√†i",qj="M√£ ƒë∆°n",Vj="Th·ªùi gian y√™u c·∫ßu",Gj="D·ª± ki·∫øn ho√†n th√†nh",Uj="Th·ªùi gian c√≤n l·∫°i",Wj="T·∫Øt mic",Kj="B·∫≠t mic",Qj="X√°c nh·∫≠n",Xj="Vui l√≤ng n√≥i chuy·ªán v·ªõi tr·ª£ l√Ω tr∆∞·ªõc.",Yj="Ch·∫°m ƒë·ªÉ n√≥i",Zj="T√≥m t·∫Øt ƒë∆°n h√†ng",Jj="X√°c nh·∫≠n",eb="Th√™m ghi ch√∫",tb="S·ªë ph√≤ng",sb="Nh·∫≠p s·ªë ph√≤ng",nb="Nh·∫≠p ghi ch√∫ b·ªï sung",ab="T√≥m t·∫Øt",ib="T·∫°o l√∫c",rb="ƒê√£ x√°c nh·∫≠n ƒë∆°n!",lb="Y√™u c·∫ßu c·ªßa b·∫°n ƒë√£ ƒë∆∞·ª£c x√°c nh·∫≠n v√† chuy·ªÉn ƒë·∫øn nh√¢n vi√™n. Ch√∫ng t√¥i s·∫Ω x·ª≠ l√Ω ngay l·∫≠p t·ª©c.",ob="M√£ tham chi·∫øu",cb="Th·ªùi gian giao d·ª± ki·∫øn:",db="V·ªÅ trang ch·ªß",ub="Ng√¥n ng·ªØ",hb="Ti·∫øng Anh",mb="Ti·∫øng Ph√°p",pb="G·ª≠i",xb="H·ªßy",fb="K·∫øt th√∫c cu·ªôc g·ªçi",gb="Ph√≤ng",vb="M√£ ƒë∆°n",yb="T√™n kh√°ch",jb="N·ªôi dung",bb="Th·ªùi gian",wb="Tr·∫°ng th√°i",Nb="H√†nh ƒë·ªông",Sb="Nh·∫Øn kh√°ch",Cb="Qu·∫£n l√Ω y√™u c·∫ßu nh√¢n vi√™n",kb="ƒêƒÉng nh·∫≠p",Tb="T√™n ƒëƒÉng nh·∫≠p",_b="M·∫≠t kh·∫©u",Eb="Nh·∫•n n√∫t g·ªçi ƒë·ªÉ b·∫Øt ƒë·∫ßu y√™u c·∫ßu c·ªßa b·∫°n.",Ab="Xem l·∫°i v√† x√°c nh·∫≠n y√™u c·∫ßu c·ªßa b·∫°n.",Pb="Y√™u c·∫ßu c·ªßa b·∫°n s·∫Ω ƒë∆∞·ª£c g·ª≠i ƒë·∫øn l·ªÖ t√¢n ƒë·ªÉ x·ª≠ l√Ω.",Ib="ƒê√£ ghi nh·∫≠n",Db="ƒêang x·ª≠ l√Ω",Mb="ƒêang giao cho b·∫°n",Lb="ƒê√£ ho√†n th√†nh",Rb="L∆∞u √Ω ƒë·∫∑c bi·ªát",$b="Nh·∫≠n/Tr·∫£ ph√≤ng",Fb="Y√™u c·∫ßu gia h·∫°n l∆∞u tr√∫",Ob="Th√¥ng tin ph√≤ng",zb="Ch√≠nh s√°ch kh√°ch s·∫°n",Bb="D·ªãch v·ª• Wi-Fi",Hb="ƒê·ªì ƒÉn t·∫°i ph√≤ng",qb="D·ªãch v·ª• ƒë·ªì u·ªëng & qu·∫ßy bar",Vb="D·ªçn ph√≤ng",Gb="Gi·∫∑t l√†",Ub="B√°o th·ª©c",Wb="Ti·ªán √≠ch b·ªï sung",Kb="Y√™u c·∫ßu b·∫£o tr√¨",Qb="ƒê·∫∑t ch·ªó nh√† h√†ng",Xb="D·ªãch v·ª• Spa",Yb="Trung t√¢m th·ªÉ h√¨nh",Zb="H·ªì b∆°i",Jb="Thu√™ xe",e1="H·ªó tr·ª£ y t·∫ø",t1="ChƒÉm s√≥c kh√°ch h√†ng",s1="ƒêi·ªÉm tham quan",n1="Nh√† h√†ng ƒë·ªãa ph∆∞∆°ng",a1="Ph∆∞∆°ng ti·ªán c√¥ng c·ªông",i1="S·ª± ki·ªán ƒë·ªãa ph∆∞∆°ng",r1="Khu mua s·∫Øm",l1="B·∫£n ƒë·ªì khu v·ª±c",o1="D·ªãch v·ª• phi√™n d·ªãch",c1="ƒê√°nh gi√°",d1="B√°o s·ª± c·ªë",u1="D·ªãch v·ª• h√†nh l√Ω",h1="ƒêang t·∫°o t√≥m t·∫Øt c·ªßa b·∫°n...",m1="N√≥i Nhi·ªÅu Ng√¥n Ng·ªØ v·ªõi Tr·ª£ L√Ω AI c·ªßa Ch√∫ng T√¥i",p1={hotel_name:Lj,hotel_subtitle:Rj,press_to_call:$j,room_and_stay:Fj,room_services:Oj,bookings_and_facilities:zj,tourism_and_exploration:Bj,support_external_services:Hj,order_ref:qj,requested_at:Vj,estimated_completion:Gj,time_remaining:Uj,mute:Wj,unmute:Kj,confirm:Qj,need_conversation:Xj,tap_to_speak:Yj,order_summary:Zj,send_to_reception:Jj,add_note:eb,room_number:tb,enter_room_number:sb,enter_notes:nb,summary:ab,generated_at:ib,order_confirmed:rb,order_confirmed_message:lb,order_reference:ob,estimated_delivery_time:cb,return_to_home:db,language:ub,english:hb,french:mb,send:pb,cancel:xb,confirm_request:fb,room:gb,order_id:vb,guest_name:yb,content:jb,time:bb,status:wb,action:Nb,message_guest:Sb,request_management:Cb,login:kb,username:Tb,password:_b,press_to_call_desc:Eb,confirm_request_desc:Ab,send_to_reception_desc:Pb,status_acknowledged:Ib,status_in_progress:Db,status_delivering:Mb,status_completed:Lb,status_note:Rb,icon_login:$b,icon_hourglass_empty:Fb,icon_info:Ob,icon_policy:zb,icon_wifi:Bb,icon_restaurant:Hb,icon_local_bar:qb,icon_cleaning_services:Vb,icon_local_laundry_service:Gb,icon_alarm:Ub,icon_add_circle:Wb,icon_build:Kb,icon_event_seat:Qb,icon_spa:Xb,icon_fitness_center:Yb,icon_pool:Zb,icon_directions_car:Jb,icon_medical_services:e1,icon_support_agent:t1,icon_location_on:s1,icon_local_dining:n1,icon_directions_bus:a1,icon_event:i1,icon_shopping_bag:r1,icon_map:l1,icon_translate:o1,icon_rate_review:c1,icon_report_problem:d1,icon_luggage:u1,generating_your_summary:h1,speak_multiple_languages:m1},x1={en:Yp,fr:Mf,zh:x0,ru:Yv,ko:Mj,vi:p1};function oe(s,t="en"){return x1[t][s]||s}const f1=()=>e.jsxs("div",{style:{padding:"16px",minHeight:"200px"},children:[e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx("h3",{style:{color:"#1F2937",marginBottom:"8px",fontSize:"18px"},children:"üé§ Realtime Conversation"}),e.jsx("p",{style:{color:"#6B7280",fontSize:"14px",lineHeight:"1.5"},children:"This is the new iOS-style popup system! Voice conversation content will appear here when a call is active."})]}),e.jsxs("div",{style:{background:"#F3F4F6",borderRadius:"8px",padding:"12px",marginBottom:"12px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[e.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"#3B82F6",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"12px",fontWeight:"bold"},children:"U"}),e.jsx("span",{style:{fontSize:"14px",color:"#374151"},children:"Guest"})]}),e.jsx("p",{style:{margin:0,fontSize:"14px",color:"#111827"},children:'"Hi, I need room service please"'})]}),e.jsxs("div",{style:{background:"#ECFDF5",borderRadius:"8px",padding:"12px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[e.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"#10B981",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"12px",fontWeight:"bold"},children:"A"}),e.jsx("span",{style:{fontSize:"14px",color:"#374151"},children:"Assistant"})]}),e.jsx("p",{style:{margin:0,fontSize:"14px",color:"#111827"},children:`"Of course! I'd be happy to help you with room service. What would you like to order?"`})]})]}),g1=()=>e.jsxs("div",{style:{padding:"16px"},children:[e.jsxs("div",{style:{marginBottom:"12px"},children:[e.jsx("h4",{style:{color:"#1F2937",marginBottom:"8px",fontSize:"16px"},children:"üèä‚Äç‚ôÇÔ∏è Pool Maintenance Notice"}),e.jsx("p",{style:{color:"#6B7280",fontSize:"14px",lineHeight:"1.5",margin:0},children:"The hotel pool will be temporarily closed for routine maintenance from 2:00 PM to 4:00 PM today."})]}),e.jsx("div",{style:{background:"#FEF3C7",border:"1px solid #F59E0B",borderRadius:"6px",padding:"8px 12px"},children:e.jsx("p",{style:{margin:0,fontSize:"13px",color:"#92400E",fontWeight:"500"},children:"‚ö†Ô∏è We apologize for any inconvenience caused."})})]}),v1=()=>e.jsxs("div",{style:{padding:"16px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[e.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"#EF4444",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"16px"},children:"‚ö†Ô∏è"}),e.jsxs("div",{children:[e.jsx("h4",{style:{color:"#1F2937",margin:0,fontSize:"16px"},children:"System Alert"}),e.jsx("p",{style:{color:"#6B7280",margin:0,fontSize:"13px"},children:"High Priority"})]})]}),e.jsx("p",{style:{color:"#374151",fontSize:"14px",lineHeight:"1.5",marginBottom:"12px"},children:"Connection to voice service temporarily unstable. Please try again in a few moments."}),e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[e.jsx("button",{style:{background:"#EF4444",color:"white",border:"none",borderRadius:"6px",padding:"8px 16px",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:"Retry"}),e.jsx("button",{style:{background:"#F3F4F6",color:"#374151",border:"none",borderRadius:"6px",padding:"8px 16px",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:"Dismiss"})]})]}),Ha=()=>{const{callSummary:s,serviceRequests:t,language:n,callDetails:a}=et(),r=(()=>{if(s&&s.content){const o=Ts(s.content),l=La(s.content);return{source:"Vapi.ai",roomNumber:o||"Unknown",content:s.content,items:l.items||[],timestamp:s.timestamp,hasData:!0}}return t&&t.length>0?{source:"OpenAI Enhanced",roomNumber:t[0]?.details?.roomNumber||"Unknown",content:t.map(l=>`${l.serviceType}: ${l.requestText}`).join(`
`),items:t.map(l=>({name:l.serviceType,description:l.requestText,quantity:1,price:10})),timestamp:new Date,hasData:!0}:{source:"No data",roomNumber:a?.roomNumber||"Unknown",content:"Call summary not available yet",items:[],timestamp:new Date,hasData:!1}})();return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"font-medium text-green-700",children:["üìã ",oe("summary",n)]}),e.jsx("span",{className:"text-gray-500 text-[10px]",children:r.source})]}),r.hasData?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Room:"}),e.jsx("span",{className:"ml-1 font-semibold text-blue-800",children:r.roomNumber})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Items:"}),e.jsx("span",{className:"ml-1 font-semibold text-green-700",children:r.items.length})]})]}),r.items.length>0&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-[11px] font-medium text-gray-600",children:"Requests:"}),e.jsxs("div",{className:"space-y-1 max-h-16 overflow-y-auto",children:[r.items.slice(0,3).map((o,l)=>e.jsxs("div",{className:"flex items-center gap-2 text-[10px]",children:[e.jsx("span",{className:"w-1 h-1 bg-green-500 rounded-full flex-shrink-0"}),e.jsx("span",{className:"text-gray-700 truncate",children:o.name})]},l)),r.items.length>3&&e.jsxs("div",{className:"text-[10px] text-gray-500 italic",children:["+",r.items.length-3," more items..."]})]})]}),e.jsx("div",{className:"text-[10px] text-gray-400 text-right",children:r.timestamp.toLocaleTimeString()})]}):e.jsxs("div",{className:"text-center py-2 text-gray-500",children:[e.jsx("div",{className:"text-xs",children:"‚è≥ Processing call summary..."}),e.jsx("div",{className:"text-[10px] mt-1",children:"Please wait a moment"})]})]})},Fi=Object.freeze(Object.defineProperty({__proto__:null,AlertDemoContent:v1,ConversationDemoContent:f1,NotificationDemoContent:g1,SummaryPopupContent:Ha},Symbol.toStringTag,{value:"Module"})),y1=({position:s="bottom",maxVisible:t=4,autoCloseDelay:n,isMobile:a=!1})=>{const{popups:i,activePopup:r,setActivePopup:o,removePopup:l}=Ba();u.useEffect(()=>{if(!n)return;const h=[];return i.forEach(p=>{if(p.priority==="low"){const v=setTimeout(()=>{l(p.id)},n);h.push(v)}}),()=>{h.forEach(p=>clearTimeout(p))}},[i,n,l]);const c=h=>{o(r===h?null:h)},d=h=>{if(l(h),r===h&&i.length>1){const p=i.filter(v=>v.id!==h);p.length>0&&o(p[0].id)}},m=i.filter(h=>!(!a&&h.type==="summary"));return m.length===0?null:e.jsx(gm,{popups:m,activePopup:r,maxVisible:t,onPopupSelect:c,onPopupDismiss:d,position:s})},qa=()=>{const{addPopup:s,removePopup:t,setActivePopup:n}=Ba();return{showConversation:(d,m)=>s({type:"conversation",title:m?.title||"Realtime Conversation",content:d,priority:m?.priority||"high",isActive:!0,badge:m?.badge}),showStaffMessage:(d,m)=>s({type:"staff",title:m?.title||"Staff Message",content:d,priority:m?.priority||"medium",isActive:!1,badge:m?.badge}),showNotification:(d,m)=>s({type:"notification",title:m?.title||"Hotel Notification",content:d,priority:m?.priority||"low",isActive:!1,badge:m?.badge}),showAlert:(d,m)=>s({type:"alert",title:m?.title||"System Alert",content:d,priority:m?.priority||"high",isActive:!0,badge:m?.badge}),showOrderUpdate:(d,m)=>s({type:"order",title:m?.title||"Order Update",content:d,priority:m?.priority||"medium",isActive:!1,badge:m?.badge}),showSummary:(d,m)=>s({type:"summary",title:m?.title||"Call Summary",content:d||e.jsx(Ha,{}),priority:m?.priority||"high",isActive:!1}),removePopup:t,setActivePopup:n}},Va=hs("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-[10px] text-base font-semibold ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-5 [&_svg]:shrink-0 shadow-sm px-5 py-2",{variants:{variant:{default:"bg-gradient-to-tr from-[#4e5ab7] to-[#3f51b5] text-white hover:brightness-110 hover:shadow-lg",yellow:"bg-gradient-to-b from-[#ffe066] to-[#ffd700] text-blue-900 border-2 border-[#d4af37] shadow-xl hover:brightness-105 hover:shadow-2xl text-shadow-white",outline:"border-2 border-[#4e5ab7] bg-white text-[#4e5ab7] hover:bg-[#f5f7fa]",secondary:"bg-white text-[#4e5ab7] border border-[#4e5ab7] hover:bg-[#e8eaf6]",destructive:"bg-red-500 text-white hover:bg-red-600",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-12 px-6 py-2",sm:"h-10 rounded-md px-4 py-2 text-sm",lg:"h-14 rounded-xl px-8 py-3 text-lg",icon:"h-12 w-12"}},defaultVariants:{variant:"default",size:"default"}}),L=u.forwardRef(({className:s,variant:t,size:n,asChild:a=!1,...i},r)=>{const o=a?ud:"button";return e.jsx(o,{className:O(Va({variant:t,size:n,className:s})),ref:r,...i})});L.displayName="Button";const j1=({onClose:s})=>e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm font-sans",children:e.jsxs("div",{className:"bg-gradient-to-br from-[rgba(255,255,255,0.7)] to-[rgba(255,255,255,0.5)] dark:from-[rgba(30,30,30,0.7)] dark:to-[rgba(30,30,30,0.5)] text-gray-800 dark:text-gray-200 rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto border border-white/30",style:{transformStyle:"preserve-3d"},children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 sm:gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-blue-900 dark:text-amber-400 font-poppins",children:"N·ªôi dung"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"target",children:"üéØ"})," M·ª§C ƒê√çCH:"]}),e.jsx("p",{className:"pl-6 text-gray-700 dark:text-gray-300",children:"Thay th·∫ø cho nh√¢n s·ª± l·ªÖ t√¢n b·∫±ng AI Voice Assistant ƒë∆∞·ª£c ƒë√†o t·∫°o ri√™ng v·ªõi th√¥ng tin v√† d·ªãch v·ª• c·ªßa m·ªôt kh√°ch s·∫°n c·ª• th·ªÉ."})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"money",children:"üí∞"})," GI√Å TR·ªä MANG L·∫†I:"]}),e.jsxs("ul",{className:"list-inside list-disc pl-6 space-y-1 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"Ph·ª•c v·ª• ƒëa ng√¥n ng·ªØ ‚Äì kh√¥ng c·∫ßn th√¥ng d·ªãch vi√™n"}),e.jsx("li",{children:"Ho·∫°t ƒë·ªông 24/7 ‚Äì kh√¥ng bao gi·ªù ngh·ªâ"}),e.jsx("li",{children:"X·ª≠ l√Ω ƒë·ªìng th·ªùi nhi·ªÅu kh√°ch c√πng l√∫c"}),e.jsx("li",{children:"TƒÉng doanh thu d·ªãch v·ª• th√¥ng qua g·ª£i √Ω th√¥ng minh"})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"speech bubble",children:"üó£Ô∏è"})," ƒê·∫∂C ƒêI·ªÇM N·ªîI B·∫¨T:"]}),e.jsx("p",{className:"pl-6 text-gray-700 dark:text-gray-300",children:"Voice Bot ‚Äì B·∫°n N√ìI CHUY·ªÜN v·ªõi AI, kh√¥ng c·∫ßn g√µ ph√≠m!"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"bell",children:"üîî"})," CH·ª®C NƒÇNG C·ª¶A AI VOICE BOT:"]}),e.jsxs("ul",{className:"list-inside list-disc pl-6 space-y-1 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"ƒê·∫∑t ph√≤ng & Check-in/out"}),e.jsx("li",{children:"Room Service & Housekeeping"}),e.jsx("li",{children:"Tour bookings & V√© xe bu√Ωt"}),e.jsx("li",{children:"Th√¥ng tin du l·ªãch ƒë·ªãa ph∆∞∆°ng"}),e.jsx("li",{children:"Homestay & ƒê·ªïi ti·ªÅn, gi·∫∑t ·ªßi"})]}),e.jsx("p",{className:"pl-6 text-xs italic text-gray-600 dark:text-gray-400 mt-1",children:"*T·∫•t c·∫£ d·ªãch v·ª• n√†y s·∫Ω do kh√°ch s·∫°n cung c·∫•p"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"microphone",children:"üé§"})," C√ÅCH S·ª¨ D·ª§NG:"]}),e.jsx("p",{className:"pl-6 text-gray-700 dark:text-gray-300",children:"Nh·∫•n mic ‚Üí N√ìI y√™u c·∫ßu ‚Üí Nh·∫≠n ph·∫£n h·ªìi b·∫±ng gi·ªçng n√≥i"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"light bulb",children:"üí°"})," TH·ª¨ NGAY (6 ng√¥n ng·ªØ ƒë·ªÉ tr·∫£i nghi·ªám):"]}),e.jsxs("div",{className:"pl-6 text-gray-700 dark:text-gray-300 italic",children:[e.jsx("p",{children:'"ƒê·∫∑t ph√≤ng cho 2 ng∆∞·ªùi t·ªëi nay"'}),e.jsx("p",{children:'"Order breakfast to room 101"'}),e.jsx("p",{children:'"Book tour Fairy Stream tomorrow"'})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-blue-900 dark:text-amber-400 font-poppins",children:"Content"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"target",children:"üéØ"})," PURPOSE:"]}),e.jsx("p",{className:"pl-6 text-gray-700 dark:text-gray-300",children:"Replace human receptionists with an AI Voice Assistant trained with the specific information and services of a hotel."})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"money",children:"üí∞"})," VALUE PROPOSITION:"]}),e.jsxs("ul",{className:"list-inside list-disc pl-6 space-y-1 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"Serves multiple languages ‚Äì no interpreter needed"}),e.jsx("li",{children:"Operates 24/7 ‚Äì never takes a break"}),e.jsx("li",{children:"Handles multiple guests simultaneously"}),e.jsx("li",{children:"Increases service revenue through smart suggestions"})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"speech bubble",children:"üó£Ô∏è"})," HIGHLIGHT:"]}),e.jsx("p",{className:"pl-6 text-gray-700 dark:text-gray-300",children:"Voice Bot ‚Äì You SPEAK with AI, no typing needed!"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"bell",children:"üîî"})," AI VOICE BOT FEATURES:"]}),e.jsxs("ul",{className:"list-inside list-disc pl-6 space-y-1 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"Booking & Check-in/out"}),e.jsx("li",{children:"Room Service & Housekeeping"}),e.jsx("li",{children:"Tour bookings & Bus tickets"}),e.jsx("li",{children:"Local tourism information"}),e.jsx("li",{children:"Homestay & Currency exchange, laundry"})]}),e.jsx("p",{className:"pl-6 text-xs italic text-gray-600 dark:text-gray-400 mt-1",children:"*All these services are provided by the hotel"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"microphone",children:"üé§"})," HOW TO USE:"]}),e.jsx("p",{className:"pl-6 text-gray-700 dark:text-gray-300",children:"Press mic ‚Üí SPEAK request ‚Üí Receive voice response"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"light bulb",children:"üí°"})," TRY NOW (6 languages to experience):"]}),e.jsxs("div",{className:"pl-6 text-gray-700 dark:text-gray-300 italic",children:[e.jsx("p",{children:'"Book a room for 2 people tonight"'}),e.jsx("p",{children:'"Order breakfast to room 101"'}),e.jsx("p",{children:'"Book tour Fairy Stream tomorrow"'})]})]})]})]}),e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsx(L,{onClick:s,className:"font-bold text-lg bg-yellow-400 hover:bg-yellow-500 text-blue-900 px-8 py-6 rounded-full shadow-lg transition-transform transform hover:scale-105",children:"ƒê√≥ng / Close"})})]})}),bs={SCROLL_THRESHOLD:300,THROTTLE_DELAY:100,AUTO_SCROLL_DELAY:300,COLORS:{BACKGROUND:"#2C3E50"},SCROLL_OFFSETS:{NEGATIVE_TOP_THRESHOLD:-100}},b1=({isActive:s})=>{const[t,n]=u.useState(!1),a=u.useRef(null),i=u.useRef(null),r=u.useRef(null),o=u.useRef(null),l=(m,h)=>{let p,v=0;return(...x)=>{const g=Date.now();g-v>h?(m(...x),v=g):(clearTimeout(p),p=setTimeout(()=>{m(...x),v=Date.now()},h-(g-v)))}};return u.useEffect(()=>{const h=l(()=>{const p=window.scrollY;n(p>bs.SCROLL_THRESHOLD);const v=a.current,x=i.current;if(v&&x){v.getBoundingClientRect();const g=x.getBoundingClientRect();g.top<window.innerHeight&&g.bottom>0&&(g.top<0||g.bottom>window.innerHeight)&&g.top<bs.SCROLL_OFFSETS.NEGATIVE_TOP_THRESHOLD&&x.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}},bs.THROTTLE_DELAY);return window.addEventListener("scroll",h),()=>window.removeEventListener("scroll",h)},[]),u.useEffect(()=>{s||window.scrollTo({top:0,behavior:"smooth"})},[s]),{showScrollButton:t,scrollToTop:()=>{window.scrollTo({top:0,behavior:"smooth"})},scrollToSection:m=>{const p={hero:a,services:i,conversation:r}[m];p.current&&p.current.scrollIntoView({behavior:"smooth",block:m==="hero"?"start":"center",inline:"nearest"})},heroSectionRef:a,serviceGridRef:i,conversationRef:r,rightPanelRef:o}},w1=({conversationRef:s})=>{const{startCall:t,endCall:n,callDuration:a,setCurrentInterface:i,transcripts:r,setLanguage:o}=et(),[l,c]=u.useState(!1),[d,m]=u.useState(!1),[h,p]=u.useState(!1);u.useEffect(()=>{const y=a>0;console.log("üîÑ [useConversationState] callDuration sync:",{callDuration:a,isActive:y,manualCallStarted:h,currentIsCallStarted:l}),y?(console.log("‚úÖ [useConversationState] Real call active - syncing isCallStarted = true"),c(!0),p(!1)):h?console.log("‚è≥ [useConversationState] Manual call start in progress - keeping isCallStarted = true"):(console.log("‚ùå [useConversationState] No active call and no manual start - syncing isCallStarted = false"),c(!1)),m(y||r.length>0||h)},[a,r.length,h,l]),u.useEffect(()=>{d&&s.current&&setTimeout(()=>{s.current?.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})},bs.AUTO_SCROLL_DELAY)},[d,s]);const v=u.useCallback(async y=>{console.log("üé§ [useConversationState] Starting call with language:",y),console.log("üé§ [useConversationState] Current state before call:",{isCallStarted:l,manualCallStarted:h,callDuration:a,transcriptsCount:r.length}),console.log("üîç [useConversationState] Environment check:",{isDevelopment:!1,forceVapiInDev:!1,hasVapiCredentials:!1,publicKey:"MISSING",assistantId:"MISSING",publicKey_VI:"MISSING",assistantId_VI:"MISSING"}),console.log("üîç [useConversationState] hasAnyVapiCredentials:",!1);try{return console.log("üìû [useConversationState] Calling startCall()..."),console.log("üìû [useConversationState] About to call startCall with all checks passed"),await t(),console.log("‚úÖ [useConversationState] startCall() successful, setting isCallStarted = true"),c(!0),p(!0),console.log("üéØ [useConversationState] Call start completed successfully"),{success:!0}}catch(f){return console.error("‚ùå [useConversationState] Error in startCall():",f),console.error("‚ùå [useConversationState] Error details:",{message:f instanceof Error?f.message:"Unknown error",stack:f instanceof Error?f.stack:void 0}),console.log("‚ö†Ô∏è [useConversationState] Call failed but keeping isCallStarted = true for debugging"),c(!0),p(!0),{success:!1,error:f instanceof Error?f.message:"Unknown error"}}},[t,l,h,a,r.length]),x=u.useCallback(()=>{console.log("üõë [useConversationState] Ending call"),console.log("üîç [useConversationState] Current isCallStarted state:",l),console.log("üìû [useConversationState] Calling endCall()..."),n(),console.log("‚ùå [useConversationState] Setting isCallStarted = false"),c(!1),p(!1),console.log("üìù [DEV MODE] Staying in Interface1 - No interface switching")},[n]),g=u.useCallback(()=>{console.log("‚ùå [useConversationState] Canceling call - FULL RESET");try{c(!1),m(!1),p(!1);try{n(),console.log("‚úÖ [useConversationState] endCall() executed successfully")}catch(y){console.error("‚ö†Ô∏è [useConversationState] endCall() failed but continuing with cancel:",y)}console.log("‚úÖ [useConversationState] Cancel completed - all states reset"),console.log("üìä [useConversationState] Final state: isCallStarted=false, showConversation=false")}catch(y){console.error("‚ùå [useConversationState] Error in handleCancel:",y),c(!1),m(!1),p(!1),console.log("üîÑ [useConversationState] Forced state reset after error")}},[n]);return{isCallStarted:l,showConversation:d,handleCallStart:v,handleCallEnd:x,handleCancel:g}},N1=({conversationState:s,conversationPopupId:t,setConversationPopupId:n,setShowRightPanel:a,transcripts:i})=>{const{removePopup:r}=qa();return{handleCancel:u.useCallback(()=>{console.log("‚ùå [useCancelHandler] Cancel button clicked - Returning to Interface1 initial state"),console.log("üìä [useCancelHandler] Current state:",{isCallStarted:s.isCallStarted,conversationPopupId:t,transcriptsCount:i.length});try{if(t)try{console.log("üóëÔ∏è [useCancelHandler] Removing conversation popup:",t),r(t),n(null),console.log("‚úÖ [useCancelHandler] Popup removed successfully")}catch(l){console.error("‚ö†Ô∏è [useCancelHandler] Failed to remove popup but continuing:",l),n(null)}try{s.handleCancel(),console.log("‚úÖ [useCancelHandler] conversationState.handleCancel() completed")}catch(l){console.error("‚ö†Ô∏è [useCancelHandler] conversationState.handleCancel() failed:",l)}try{a(!1),console.log("‚úÖ [useCancelHandler] Right panel closed")}catch(l){console.error("‚ö†Ô∏è [useCancelHandler] Failed to close right panel:",l)}try{window.scrollTo({top:0,behavior:"smooth"}),console.log("‚úÖ [useCancelHandler] Scrolled to top")}catch(l){console.error("‚ö†Ô∏è [useCancelHandler] Failed to scroll to top:",l)}console.log("‚úÖ [useCancelHandler] Cancel completed - Interface1 returned to initial state")}catch(l){console.error("‚ùå [useCancelHandler] Critical error in handleCancel:",l);try{t&&(r(t),n(null)),a(!1),window.scrollTo({top:0,behavior:"auto"}),console.log("üö® [useCancelHandler] Emergency cleanup completed")}catch(c){console.error("üö® [useCancelHandler] Emergency cleanup failed:",c)}console.log("üîÑ [useCancelHandler] Cancel operation completed despite errors - UI restored")}},[s,t,r,i.length,a,n])}},S1=({conversationState:s,transcripts:t,callSummary:n,serviceRequests:a})=>{const{showSummary:i}=qa(),r=u.useRef(null),o=u.useRef(!1);return{handleConfirm:u.useCallback(()=>{console.log("‚úÖ [useConfirmHandler] Confirm button clicked in SiriButtonContainer"),console.log("üìä [useConfirmHandler] Current state:",{isCallStarted:s.isCallStarted,transcriptsCount:t.length,hasCallSummary:!!n,hasServiceRequests:a?.length>0});try{console.log("üîÑ [useConfirmHandler] Step 1: Calling conversationState.handleConfirm()..."),s.handleConfirm(),console.log("‚úÖ [useConfirmHandler] Step 1 completed: conversationState.handleConfirm() successful"),console.log("üîÑ [useConfirmHandler] Step 2: Showing immediate loading popup...");try{const c=u.createElement("div",{id:"summary-loading-popup",style:{padding:"20px",textAlign:"center",maxWidth:"400px"}},[u.createElement("h3",{key:"title",style:{marginBottom:"16px",color:"#333",fontSize:"18px",fontWeight:"600"}},"üìã Call Summary"),u.createElement("div",{key:"loading",style:{marginBottom:"16px"}},[u.createElement("div",{key:"spinner",style:{display:"inline-block",width:"24px",height:"24px",border:"3px solid #f3f3f3",borderTop:"3px solid #3498db",borderRadius:"50%",animation:"spin 1s linear infinite",marginRight:"12px"}}),u.createElement("span",{key:"text",style:{fontSize:"16px",color:"#555",fontWeight:"500"}},"Generating summary...")]),u.createElement("p",{key:"message",style:{fontSize:"14px",color:"#666",lineHeight:"1.5",marginBottom:"16px"}},"Please wait while we process your conversation and generate insights."),u.createElement("div",{key:"time",style:{fontSize:"12px",color:"#999",marginTop:"12px"}},"Call ended at: "+new Date().toLocaleTimeString())]);if(!document.getElementById("spinner-animation")){const p=document.createElement("style");p.id="spinner-animation",p.textContent=`
            @keyframes spin {
              0% { transform: rotate(0deg); }
              100% { transform: rotate(360deg); }
            }
          `,document.head.appendChild(p)}console.log("‚úÖ [useConfirmHandler] Step 2a: Loading element created"),console.log("üöÄ [useConfirmHandler] Step 2b: Calling showSummary..."),i(c,{title:"Generating Summary...",priority:"high"}),console.log("‚úÖ [useConfirmHandler] Step 2c: Loading popup shown successfully"),console.log("üîÑ [useConfirmHandler] Step 3: Starting polling for summary data...");let d=0;const m=15;o.current=!0;const h=()=>{if(!o.current){console.log("üõë [useConfirmHandler] Polling cancelled - component may have unmounted");return}d++,console.log(`üîç [useConfirmHandler] Poll #${d}: Checking for summary data...`);try{const p=n,v=a;console.log("üìä [useConfirmHandler] Poll data check:",{hasCallSummary:!!p,callSummaryContent:p?.content?.substring(0,50),isGenerating:p?.content==="Generating AI summary of your conversation...",hasServiceRequests:v?.length>0,pollCount:d,maxPolls:m});const x=p&&p.content&&p.content!=="Generating AI summary of your conversation...",g=v&&v.length>0;if(x||g){console.log("üéâ [useConfirmHandler] Success! Summary data found, updating popup...");try{const y=u.createElement("div",{style:{padding:"20px",maxWidth:"500px"}},[u.createElement("h3",{key:"title",style:{marginBottom:"16px",color:"#333",fontSize:"18px",fontWeight:"600"}},"üìã Call Summary"),u.createElement("div",{key:"icon",style:{fontSize:"32px",marginBottom:"16px",textAlign:"center"}},"‚úÖ"),x&&u.createElement("div",{key:"summary-content",style:{marginBottom:"16px",padding:"12px",backgroundColor:"#f8f9fa",borderRadius:"6px",fontSize:"14px",lineHeight:"1.5"}},[u.createElement("div",{key:"summary-title",style:{fontWeight:"600",marginBottom:"8px",color:"#555"}},"AI Summary:"),u.createElement("div",{key:"summary-text",style:{color:"#666"}},p.content)]),g&&u.createElement("div",{key:"requests",style:{marginBottom:"16px",padding:"12px",backgroundColor:"#f0f9ff",borderRadius:"6px",fontSize:"14px"}},[u.createElement("div",{key:"req-title",style:{fontWeight:"600",marginBottom:"8px",color:"#1e40af"}},"Service Requests:"),u.createElement("ul",{key:"req-list",style:{listStyle:"disc",marginLeft:"20px",color:"#374151"}},v.slice(0,5).map((j,f)=>u.createElement("li",{key:f,style:{marginBottom:"4px"}},`${j.serviceType}: ${j.requestText}`)))]),u.createElement("p",{key:"completion",style:{fontSize:"14px",color:"#22c55e",fontWeight:"500",textAlign:"center",marginBottom:"16px"}},"Call completed and processed successfully!"),u.createElement("div",{key:"time",style:{fontSize:"12px",color:"#999",textAlign:"right",borderTop:"1px solid #eee",paddingTop:"12px"}},x?"Generated at: "+p.timestamp.toLocaleTimeString():"Processed at: "+new Date().toLocaleTimeString())]);i(y,{title:"Call Summary - Complete",priority:"high"}),console.log("‚úÖ [useConfirmHandler] Popup updated with summary content successfully"),o.current=!1,r.current&&(clearInterval(r.current),r.current=null);return}catch(y){console.error("‚ùå [useConfirmHandler] Error updating popup with summary:",y)}}if(d>=m){console.log("‚è∞ [useConfirmHandler] Max polling attempts reached, showing completion message");try{const y=u.createElement("div",{style:{padding:"20px",textAlign:"center",maxWidth:"400px"}},[u.createElement("h3",{key:"title",style:{marginBottom:"16px",color:"#333",fontSize:"18px",fontWeight:"600"}},"üìã Call Summary"),u.createElement("div",{key:"icon",style:{fontSize:"48px",marginBottom:"16px"}},"‚úÖ"),u.createElement("p",{key:"message",style:{marginBottom:"16px",lineHeight:"1.5",color:"#333",fontSize:"16px"}},"Call completed successfully!"),u.createElement("p",{key:"note",style:{fontSize:"14px",color:"#666",marginBottom:"16px"}},"Your conversation has been recorded. Summary processing may take a moment longer."),u.createElement("div",{key:"contact",style:{fontSize:"12px",color:"#999",borderTop:"1px solid #eee",paddingTop:"12px",marginTop:"16px"}},"For immediate assistance, please contact the front desk.")]);i(y,{title:"Call Complete",priority:"medium"}),console.log("‚úÖ [useConfirmHandler] Completion message shown after max polling")}catch(y){console.error("‚ùå [useConfirmHandler] Error showing completion message:",y)}o.current=!1,r.current&&(clearInterval(r.current),r.current=null);return}console.log(`‚è≥ [useConfirmHandler] No data yet, will check again in 2s (${d}/${m})...`)}catch(p){console.error("‚ùå [useConfirmHandler] Error during polling:",p)}};h(),r.current=setInterval(h,2e3),console.log("‚úÖ [useConfirmHandler] Polling started successfully")}catch(c){console.error("‚ùå [useConfirmHandler] Step 2 ERROR: Loading popup creation failed:",c),console.error("‚ùå [useConfirmHandler] Popup error details:",{name:c?.name,message:c?.message,stack:c?.stack}),console.log("üö® [useConfirmHandler] Showing simple alert fallback"),setTimeout(()=>{alert("Call completed successfully! Your conversation has been recorded.")},100)}}catch(c){console.error("‚ùå [useConfirmHandler] CRITICAL ERROR in handleConfirm:",c),console.error("‚ùå [useConfirmHandler] Error details:",{name:c?.name,message:c?.message,stack:c?.stack}),console.log("üö® [useConfirmHandler] Showing emergency alert fallback"),setTimeout(()=>{alert("Call completed! Please check with front desk for any service requests.")},100),console.log("üîÑ [useConfirmHandler] Error handled gracefully, continuing normal operation")}},[s,t.length,n,a,i])}},C1=({isActive:s})=>(console.log("‚úÖ [useInterface1] Using single stable implementation"),k1({isActive:s})),k1=({isActive:s})=>{const{micLevel:t,transcripts:n,callSummary:a,serviceRequests:i,language:r}=et(),{config:o,isLoading:l,error:c}=Fs(),{showNotification:d,showSummary:m}=qa(),[h,p]=u.useState(null),v=b1({isActive:s}),x=w1({conversationRef:v.conversationRef}),[g,y]=u.useState(!1);u.useRef(!0),u.useEffect(()=>{console.log("üö´ [useInterface1Legacy] Language change restart logic temporarily disabled for debugging")},[r,x.isCallStarted,h,x.handleCallEnd,x.handleCallStart]);const j=()=>{y(!g)},f=()=>{y(!1)},b=()=>{console.log("Conversation demo disabled - using ConversationSection instead")},w=()=>{Ss(()=>Promise.resolve().then(()=>Fi),void 0).then(F=>{const{NotificationDemoContent:D}=F;d(u.createElement(D),{title:"Pool Maintenance",priority:"medium",badge:1})}).catch(()=>{d(u.createElement("div",{style:{padding:"16px"}},[u.createElement("h4",{key:"title"},"Hotel Notification"),u.createElement("p",{key:"content"},"Pool maintenance from 2-4 PM today.")]),{title:"Pool Maintenance",priority:"medium",badge:1})})},T=()=>{Ss(()=>Promise.resolve().then(()=>Fi),void 0).then(F=>{const{SummaryPopupContent:D}=F;m(u.createElement(D),{title:"Call Summary",priority:"high"})}).catch(()=>{m(u.createElement("div",{style:{padding:"16px",fontSize:"12px"}},[u.createElement("div",{key:"title",style:{fontWeight:"bold",marginBottom:"8px"}},"üìã Call Summary"),u.createElement("div",{key:"room"},"Room: 101"),u.createElement("div",{key:"items"},"Items: 3 requests"),u.createElement("div",{key:"time",style:{fontSize:"10px",color:"#666",marginTop:"8px"}},"Generated at "+new Date().toLocaleTimeString())]),{title:"Call Summary",priority:"high"})})},{handleCancel:E}=N1({conversationState:x,conversationPopupId:h,setConversationPopupId:p,setShowRightPanel:y,transcripts:n}),{handleConfirm:z}=S1({conversationState:x,transcripts:n,callSummary:a,serviceRequests:i});return u.useEffect(()=>{h&&n.length>0&&console.log(`üìä [useInterface1Legacy] Transcripts updated: ${n.length} messages`)},[n.length,h]),{isLoading:l||!o,error:c,hotelConfig:o,micLevel:t,...v,isCallStarted:x.isCallStarted,showConversation:x.showConversation,handleCallStart:x.handleCallStart,handleCallEnd:x.handleCallEnd,handleCancel:E,handleConfirm:z,showRightPanel:g,handleRightPanelToggle:j,handleRightPanelClose:f,handleShowConversationPopup:b,handleShowNotificationDemo:w,handleShowSummaryDemo:T}},He={colors:{primary:"#1B4E8B",secondary:"#3B82F6",error:"#EF4444"},fonts:{primary:"'Inter', 'Poppins', 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif"},spacing:{xl:"40px"},shadows:{card:"0 4px 16px rgba(0, 0, 0, 0.15)"},transitions:{normal:"0.3s ease-in-out"}},T1=()=>e.jsx("div",{className:"absolute w-full min-h-screen h-full flex items-center justify-center z-10",style:{background:`linear-gradient(135deg, ${He.colors.primary}, ${He.colors.secondary})`,fontFamily:He.fonts.primary},children:e.jsxs("div",{className:"text-center p-8 bg-white/10 backdrop-blur-md rounded-2xl",style:{boxShadow:He.shadows.card},children:[e.jsx("div",{className:"animate-spin rounded-full border-4 border-white/20 border-t-white mx-auto mb-6",style:{width:"64px",height:"64px"}}),e.jsx("p",{className:"text-white text-lg font-medium",children:"Loading hotel configuration..."})]})}),_1=({error:s})=>e.jsx("div",{className:"absolute w-full min-h-screen h-full flex items-center justify-center z-10",style:{background:`linear-gradient(135deg, ${He.colors.primary}, ${He.colors.error})`,fontFamily:He.fonts.primary},children:e.jsxs("div",{className:"text-center p-8 bg-white/10 backdrop-blur-md rounded-2xl",style:{boxShadow:He.shadows.card},children:[e.jsx("div",{className:"text-white text-xl font-semibold mb-4",children:"Failed to load hotel configuration"}),e.jsx("p",{className:"text-white/80",children:s})]})}),Zl=({children:s,className:t=""})=>e.jsx("div",{className:`relative min-h-screen w-full scroll-smooth overflow-y-auto ${t}`,style:{fontFamily:He.fonts.primary,backgroundColor:bs.COLORS.BACKGROUND},children:e.jsx("div",{className:"container mx-auto px-4 py-8 relative z-10",children:e.jsx("div",{className:"flex flex-col items-center justify-center space-y-8 md:space-y-12",children:s})})}),Jl=()=>e.jsx("div",{className:"w-full flex justify-center items-center py-8",children:e.jsx("h1",{className:"hidden sm:block text-3xl md:text-4xl font-bold text-white text-center",style:{position:"absolute",left:"50%",transform:"translateX(-50%)",zIndex:10},children:"Speak in Multiple Languages"})});var eo={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Oi=pe.createContext&&pe.createContext(eo),E1=["attr","size","title"];function A1(s,t){if(s==null)return{};var n=P1(s,t),a,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(s,a)&&(n[a]=s[a])}return n}function P1(s,t){if(s==null)return{};var n={};for(var a in s)if(Object.prototype.hasOwnProperty.call(s,a)){if(t.indexOf(a)>=0)continue;n[a]=s[a]}return n}function on(){return on=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(s[a]=n[a])}return s},on.apply(this,arguments)}function zi(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(s,i).enumerable})),n.push.apply(n,a)}return n}function cn(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zi(Object(n),!0).forEach(function(a){I1(s,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):zi(Object(n)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(n,a))})}return s}function I1(s,t,n){return t=D1(t),t in s?Object.defineProperty(s,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[t]=n,s}function D1(s){var t=M1(s,"string");return typeof t=="symbol"?t:t+""}function M1(s,t){if(typeof s!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var a=n.call(s,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function to(s){return s&&s.map((t,n)=>pe.createElement(t.tag,cn({key:n},t.attr),to(t.child)))}function st(s){return t=>pe.createElement(L1,on({attr:cn({},s.attr)},t),to(s.child))}function L1(s){var t=n=>{var{attr:a,size:i,title:r}=s,o=A1(s,E1),l=i||n.size||"1em",c;return n.className&&(c=n.className),s.className&&(c=(c?c+" ":"")+s.className),pe.createElement("svg",on({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,o,{className:c,style:cn(cn({color:s.color||n.color},n.style),s.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),r&&pe.createElement("title",null,r),s.children)};return Oi!==void 0?pe.createElement(Oi.Consumer,null,n=>t(n)):t(eo)}function R1(s){return st({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M176 256c44.11 0 80-35.89 80-80s-35.89-80-80-80-80 35.89-80 80 35.89 80 80 80zm352-128H304c-8.84 0-16 7.16-16 16v144H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v352c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16v-48h512v48c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V240c0-61.86-50.14-112-112-112z"},child:[]}]})(s)}function $1(s){return st({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"},child:[]}]})(s)}function Bi(s){return st({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M288 130.54V112h16c8.84 0 16-7.16 16-16V80c0-8.84-7.16-16-16-16h-96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h16v18.54C115.49 146.11 32 239.18 32 352h448c0-112.82-83.49-205.89-192-221.46zM496 384H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h480c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(s)}function F1(s){return st({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.05 57.6C523.3 36.34 508.25 0 478.2 0H33.8C3.75 0-11.3 36.34 9.95 57.6L224 271.64V464h-56c-22.09 0-40 17.91-40 40 0 4.42 3.58 8 8 8h240c4.42 0 8-3.58 8-8 0-22.09-17.91-40-40-40h-56V271.64L502.05 57.6z"},child:[]}]})(s)}function O1(s){return st({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 0c-69.59 0-126 56.41-126 126 0 56.26 82.35 158.8 113.9 196.02 6.39 7.54 17.82 7.54 24.2 0C331.65 284.8 414 182.26 414 126 414 56.41 357.59 0 288 0zm0 168c-23.2 0-42-18.8-42-42s18.8-42 42-42 42 18.8 42 42-18.8 42-42 42zM20.12 215.95A32.006 32.006 0 0 0 0 245.66v250.32c0 11.32 11.43 19.06 21.94 14.86L160 448V214.92c-8.84-15.98-16.07-31.54-21.25-46.42L20.12 215.95zM288 359.67c-14.07 0-27.38-6.18-36.51-16.96-19.66-23.2-40.57-49.62-59.49-76.72v182l192 64V266c-18.92 27.09-39.82 53.52-59.49 76.72-9.13 10.77-22.44 16.95-36.51 16.95zm266.06-198.51L416 224v288l139.88-55.95A31.996 31.996 0 0 0 576 426.34V176.02c0-11.32-11.43-19.06-21.94-14.86z"},child:[]}]})(s)}function z1(s){return st({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"},child:[]}]})(s)}function B1(s){return st({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M568.25 192c-29.04.13-135.01 6.16-213.84 83-33.12 29.63-53.36 63.3-66.41 94.86-13.05-31.56-33.29-65.23-66.41-94.86-78.83-76.84-184.8-82.87-213.84-83-4.41-.02-7.79 3.4-7.75 7.82.23 27.92 7.14 126.14 88.77 199.3C172.79 480.94 256 480 288 480s115.19.95 199.23-80.88c81.64-73.17 88.54-171.38 88.77-199.3.04-4.42-3.34-7.84-7.75-7.82zM287.98 302.6c12.82-18.85 27.6-35.78 44.09-50.52 19.09-18.61 39.58-33.3 60.26-45.18-16.44-70.5-51.72-133.05-96.73-172.22-4.11-3.58-11.02-3.58-15.14 0-44.99 39.14-80.27 101.63-96.74 172.07 20.37 11.7 40.5 26.14 59.22 44.39a282.768 282.768 0 0 1 45.04 51.46z"},child:[]}]})(s)}function H1(s){return st({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 416h-16c-26.04 0-45.8-8.42-56.09-17.9-8.9-8.21-19.66-14.1-31.77-14.1h-16.3c-12.11 0-22.87 5.89-31.77 14.1C461.8 407.58 442.04 416 416 416s-45.8-8.42-56.09-17.9c-8.9-8.21-19.66-14.1-31.77-14.1h-16.3c-12.11 0-22.87 5.89-31.77 14.1C269.8 407.58 250.04 416 224 416s-45.8-8.42-56.09-17.9c-8.9-8.21-19.66-14.1-31.77-14.1h-16.3c-12.11 0-22.87 5.89-31.77 14.1C77.8 407.58 58.04 416 32 416H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h16c38.62 0 72.72-12.19 96-31.84 23.28 19.66 57.38 31.84 96 31.84s72.72-12.19 96-31.84c23.28 19.66 57.38 31.84 96 31.84s72.72-12.19 96-31.84c23.28 19.66 57.38 31.84 96 31.84h16c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zm-400-32v-96h192v96c19.12 0 30.86-6.16 34.39-9.42 9.17-8.46 19.2-14.34 29.61-18.07V128c0-17.64 14.36-32 32-32s32 14.36 32 32v16c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16v-16c0-52.94-43.06-96-96-96s-96 43.06-96 96v96H224v-96c0-17.64 14.36-32 32-32s32 14.36 32 32v16c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16v-16c0-52.94-43.06-96-96-96s-96 43.06-96 96v228.5c10.41 3.73 20.44 9.62 29.61 18.07 3.53 3.27 15.27 9.43 34.39 9.43z"},child:[]}]})(s)}function q1(s){return st({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462 241.64l-22-84.84c-9.6-35.2-41.6-60.8-76.8-60.8H352V64c0-17.67-14.33-32-32-32H192c-17.67 0-32 14.33-32 32v32h-11.2c-35.2 0-67.2 25.6-76.8 60.8l-22 84.84C21.41 248.04 0 273.47 0 304v48c0 23.63 12.95 44.04 32 55.12V448c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-32h256v32c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-40.88c19.05-11.09 32-31.5 32-55.12v-48c0-30.53-21.41-55.96-50-62.36zM96 352c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm20.55-112l17.2-66.36c2.23-8.16 9.59-13.64 15.06-13.64h214.4c5.47 0 12.83 5.48 14.85 12.86L395.45 240h-278.9zM416 352c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(s)}function V1(s){return st({attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"},child:[]}]})(s)}const Ws=[{name:"Room Service",icon:R1,description:"In-room dining and housekeeping services"},{name:"Restaurant",icon:V1,description:"Hotel restaurants and dining options"},{name:"Concierge",icon:Bi,description:"Concierge and guest services"},{name:"Pool & Gym",icon:H1,description:"Swimming pool and fitness facilities"},{name:"Spa & Wellness",icon:B1,description:"Spa treatments and wellness services"},{name:"Bar & Lounge",icon:F1,description:"Hotel bars and lounges"},{name:"Transportation",icon:q1,description:"Transportation and taxi services"},{name:"Local Guide",icon:O1,description:"Local area guide and information"},{name:"Reception",icon:z1,description:"Front desk and reception services"},{name:"Guest Services",icon:Bi,description:"Additional guest services"}],G1=()=>e.jsxs("div",{className:"w-full max-w-full",children:[e.jsx("div",{className:"block md:hidden space-y-4 px-4 py-6",children:Ws.map((s,t)=>{const n=s.icon;return e.jsxs("div",{className:"flex items-center space-x-4 p-4 rounded-xl",style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",transition:He.transitions.normal,cursor:"pointer",boxShadow:He.shadows.card},children:[e.jsx("div",{className:"text-white flex-shrink-0",children:e.jsx(n,{size:32})}),e.jsxs("div",{className:"text-white",children:[e.jsx("div",{className:"font-medium text-lg",children:s.name}),s.description&&e.jsx("div",{className:"text-sm text-gray-300 mt-1",children:s.description})]})]},t)})}),e.jsxs("div",{className:"hidden md:block w-full max-w-6xl mx-auto px-6 py-8",children:[e.jsx("div",{className:"grid grid-cols-5 gap-4 mb-4",children:Ws.slice(0,5).map((s,t)=>{const n=s.icon;return e.jsxs("div",{className:"relative group w-full h-32 flex flex-col items-center justify-center p-4 rounded-xl cursor-pointer transition-all duration-300 hover:scale-105",style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:He.shadows.card},children:[e.jsx("div",{className:"text-white mb-2",children:e.jsx(n,{size:28})}),e.jsx("div",{className:"text-white text-center text-sm font-medium",children:s.name}),s.description&&e.jsx("div",{className:"absolute inset-0 bg-black/80 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center p-3 text-white text-xs text-center rounded-xl",children:s.description})]},t)})}),Ws.length>5&&e.jsx("div",{className:"grid grid-cols-5 gap-4",children:Ws.slice(5).map((s,t)=>{const n=s.icon;return e.jsxs("div",{className:"relative group w-full h-32 flex flex-col items-center justify-center p-4 rounded-xl cursor-pointer transition-all duration-300 hover:scale-105",style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:He.shadows.card},children:[e.jsx("div",{className:"text-white mb-2",children:e.jsx(n,{size:28})}),e.jsx("div",{className:"text-white text-center text-sm font-medium",children:s.name}),s.description&&e.jsx("div",{className:"absolute inset-0 bg-black/80 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center p-3 text-white text-xs text-center rounded-xl",children:s.description})]},t+5)})})]})]}),so=u.forwardRef(({className:s=""},t)=>e.jsx("div",{ref:t,className:`w-full max-w-full hidden md:block ${s}`,children:e.jsx(G1,{})}));so.displayName="ServiceGridContainer";const Hi=({isOpen:s,onClose:t,isRight:n,layout:a="overlay"})=>{const{transcripts:i,modelOutput:r,language:o,callSummary:l,serviceRequests:c,callDuration:d}=et(),m=u.useRef(null),h=u.useRef({}),[p,v]=u.useState("conversation"),[x,g]=u.useState(!1),[y,j]=u.useState(!1),[f,b]=u.useState({}),[w,T]=u.useState([]),E=()=>{Object.values(h.current).forEach(N=>{cancelAnimationFrame(N)}),h.current={}},z=()=>{if(l&&l.content){const N=Ts(l.content),I=La(l.content);return{source:"Vapi.ai",roomNumber:N||"Unknown",content:l.content,items:I.items||[],timestamp:l.timestamp,hasData:!0}}return c&&c.length>0?{source:"OpenAI Enhanced",roomNumber:c[0]?.details?.roomNumber||"Unknown",content:c.map(I=>`${I.serviceType}: ${I.requestText}`).join(`
`),items:c.map(I=>({name:I.serviceType,description:I.requestText,quantity:1,price:10})),timestamp:new Date,hasData:!0}:i.length>=2&&y?{source:"Processing",roomNumber:"Processing...",content:"AI is analyzing your conversation to generate a summary...",items:[],timestamp:new Date,hasData:!0}:{source:"No data",roomNumber:"Unknown",content:"Call summary not available yet",items:[],timestamp:new Date,hasData:!1}};if(u.useEffect(()=>{d===0&&i.length>0?(j(!0),console.log("üìû [RealtimeConversationPopup] Call has ended - enabling summary features")):d>0&&j(!1)},[d,i.length]),u.useEffect(()=>{const N=z();console.log("üîç [RealtimeConversationPopup] Summary data check:",{hasCallSummary:!!l,hasServiceRequests:c?.length>0,summaryDataHasData:N.hasData,transcriptsCount:i.length,callHasEnded:y,callDuration:d});const I=N.hasData||i.length>=2&&y;g(I),console.log("üìã [RealtimeConversationPopup] Summary tab visibility:",I)},[l,c,i.length,y]),u.useEffect(()=>{y&&x&&w.length>0&&(console.log("üîÑ [RealtimeConversationPopup] Auto-switching to summary after call end"),setTimeout(()=>v("summary"),1500))},[y,x,w.length]),u.useEffect(()=>{const N=[...i].sort((V,M)=>V.timestamp.getTime()-M.timestamp.getTime()),I=[];let P=null;N.forEach(V=>{V.role==="user"?(P={id:V.id.toString(),role:"user",timestamp:V.timestamp,messages:[{id:V.id.toString(),content:V.content,timestamp:V.timestamp}]},I.push(P)):((!P||P.role==="user")&&(P={id:V.id.toString(),role:"assistant",timestamp:V.timestamp,messages:[]},I.push(P)),P.messages.push({id:V.id.toString(),content:V.content,timestamp:V.timestamp}))}),T(I)},[i]),u.useEffect(()=>p!=="conversation"?void 0:(w.filter(I=>I.role==="assistant").flatMap(I=>I.messages).forEach(I=>{if(f[I.id]===I.content.length)return;let P=f[I.id]||0;const V=I.content,M=()=>{P<V.length?(b(k=>({...k,[I.id]:P+1})),P++,h.current[I.id]=requestAnimationFrame(M)):delete h.current[I.id]};h.current[I.id]=requestAnimationFrame(M)}),()=>E()),[w,p]),u.useEffect(()=>{m.current&&p==="conversation"&&(m.current.scrollTop=m.current.scrollHeight)},[w,p]),!s)return null;const F=a==="grid",D=F?{width:"100%",maxWidth:"100%",height:"320px",maxHeight:"320px",background:"rgba(255,255,255,0.15)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1.5px solid rgba(255,255,255,0.3)",boxShadow:"0 8px 32px rgba(0,0,0,0.12)",borderRadius:16,marginBottom:0}:{width:"100%",maxWidth:`${Oa}px`,height:`${Fa}px`,maxHeight:`${za}vh`,background:"rgba(255,255,255,0.12)",backdropFilter:"blur(18px)",WebkitBackdropFilter:"blur(18px)",border:"1.5px solid rgba(255,255,255,0.25)",boxShadow:"0 -8px 32px rgba(0,0,0,0.18)",borderTopLeftRadius:20,borderTopRightRadius:20,borderBottomLeftRadius:0,borderBottomRightRadius:0,marginBottom:0},C=({data:N})=>e.jsx("div",{className:"space-y-3 p-3",children:N.hasData?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"font-medium text-green-700",children:["üìã ",oe("summary",o)]}),e.jsx("span",{className:"text-gray-500 text-[10px]",children:N.source})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Room:"}),e.jsx("span",{className:"ml-1 font-semibold text-blue-800",children:N.roomNumber})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Items:"}),e.jsx("span",{className:"ml-1 font-semibold text-green-700",children:N.items.length})]})]}),N.items.length>0&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-[11px] font-medium text-gray-600",children:"Requests:"}),e.jsxs("div",{className:"space-y-1 max-h-20 overflow-y-auto",children:[N.items.slice(0,3).map((I,P)=>e.jsxs("div",{className:"flex items-center gap-2 text-[10px]",children:[e.jsx("span",{className:"w-1 h-1 bg-green-500 rounded-full flex-shrink-0"}),e.jsx("span",{className:"text-gray-700 truncate",children:I.name})]},P)),N.items.length>3&&e.jsxs("div",{className:"text-[10px] text-gray-500 italic",children:["+",N.items.length-3," more items..."]})]})]}),e.jsx("div",{className:"text-[10px] text-gray-400 text-right",children:N.timestamp.toLocaleTimeString()})]}):e.jsx("div",{className:"text-center py-4 text-gray-500",children:N.source==="Processing"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-xs",children:"ü§ñ AI Processing your conversation..."}),e.jsx("div",{className:"text-[10px] mt-1",children:"Generating summary and extracting requests"}),e.jsx("div",{className:"text-[10px] mt-2 animate-pulse",children:"‚óè‚óè‚óè"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-xs",children:"‚è≥ No summary available yet"}),e.jsx("div",{className:"text-[10px] mt-1",children:"Complete a conversation to see summary"})]})})}),S=()=>e.jsxs("div",{ref:m,className:"px-3 py-2 h-[calc(100%-3rem)] overflow-y-auto",children:[w.length===0&&e.jsx("div",{className:"text-gray-400 text-base text-center select-none",style:{opacity:.7},children:oe("tap_to_speak",o)}),w.map((N,I)=>e.jsx("div",{className:"mb-2",children:e.jsx("div",{className:"flex items-start gap-2",children:e.jsxs("div",{className:"flex-1",children:[N.role==="user"?e.jsx("div",{className:"bg-gray-100 rounded-lg p-2",children:e.jsx("p",{className:"text-gray-800 text-sm",children:N.messages[0].content})}):e.jsx("div",{className:"bg-green-50 rounded-lg p-2",children:e.jsxs("p",{className:"text-sm font-medium",style:{position:"relative",background:"linear-gradient(90deg, #FF512F, #F09819, #FFD700, #56ab2f, #43cea2, #1e90ff, #6a11cb, #FF512F)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:600,letterSpacing:.2,transition:"background 0.5s"},children:[e.jsx("span",{className:"inline-flex flex-wrap",children:N.messages.map((P,V)=>{const M=P.content.slice(0,f[P.id]||0);return e.jsxs("span",{style:{whiteSpace:"pre"},children:[M,V===N.messages.length-1&&I===0&&f[P.id]<P.content.length&&e.jsx("span",{className:"animate-blink text-yellow-500",style:{marginLeft:1},children:"|"})]},P.id)})}),I===0&&N.role==="assistant"&&f[N.messages[N.messages.length-1].id]===N.messages[N.messages.length-1].content.length&&e.jsx("span",{className:"ml-2 animate-ellipsis text-yellow-500",children:"..."})]})}),e.jsx("span",{className:"text-xs text-gray-500 mt-0.5 block",children:N.timestamp.toLocaleTimeString()})]})})},N.id))]});return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`relative z-30 overflow-hidden shadow-2xl realtime-popup ${F?"grid-layout":"overlay-layout"} ${n?"popup-right":""} ${F?"":"mx-auto animate-slide-up"}`,style:D,children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-gray-200/40 bg-white/10",style:{backdropFilter:"blur(4px)"},children:[e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>v("conversation"),className:`px-2 py-1 rounded text-xs font-medium transition-all ${p==="conversation"?"bg-blue-500/80 text-white shadow-sm":"text-gray-600 hover:bg-white/20"}`,children:"üí¨ Chat"}),x&&e.jsx("button",{onClick:()=>v("summary"),className:`px-2 py-1 rounded text-xs font-medium transition-all ${p==="summary"?"bg-green-500/80 text-white shadow-sm":"text-gray-600 hover:bg-white/20"}`,children:"üìã Summary"})]}),e.jsx("button",{onClick:t,className:"p-1.5 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(wt,{className:"w-4 h-4 text-gray-500"})})]}),p==="conversation"?e.jsx(S,{}):e.jsx(C,{data:z()})]}),e.jsx("style",{children:`
        /* Animation for slide up from bottom - only for overlay */
        @keyframes slideUp {
          from {
            transform: translateY(100%);
            opacity: 0;
          }
          to {
            transform: translateY(0);
            opacity: 1;
          }
        }
        
        .animate-slide-up {
          animation: slideUp 0.3s ease-out;
        }
        
        /* Grid layout: No responsive overrides - use inline styles */
        .realtime-popup.grid-layout {
          /* Grid styling handled by inline styles above */
        }
        
                 /* Overlay layout: Responsive styles for mobile bottom popup */
         .realtime-popup.overlay-layout {
           /* Only apply responsive styles to overlay layout */
         }
         
         @media (max-width: 640px) {
           .realtime-popup.overlay-layout {
            width: 100vw !important;
            max-width: 100vw !important;
            height: 120px !important;
            max-height: 20vh !important;
            margin: 0 !important;
            border-top-left-radius: 16px !important;
            border-top-right-radius: 16px !important;
            border-bottom-left-radius: 0 !important;
            border-bottom-right-radius: 0 !important;
          }
        }
        
                  @media (min-width: 641px) and (max-width: 768px) {
           .realtime-popup.overlay-layout {
             width: 95vw !important;
             max-width: 400px !important;
             height: 270px !important;
             max-height: 38vh !important;
             margin: 0 auto !important;
           }
         }
         
         @media (min-width: 769px) {
           .realtime-popup.overlay-layout {
            width: 100% !important;
            max-width: 350px !important;
            height: 280px !important;
            max-height: 40vh !important;
            margin: 0 auto !important;
          }
        }
      `})]})},no=u.forwardRef(({showConversation:s,onClose:t,className:n="",isOverlay:a=!0},i)=>s?a?e.jsx("div",{ref:i,className:`${n}`,style:{position:"fixed",bottom:"40px",left:0,right:0,zIndex:10,pointerEvents:"none"},children:e.jsxs("div",{style:{pointerEvents:"auto"},children:[" ",e.jsx(Hi,{isOpen:s,onClose:t,isRight:!1,layout:"overlay"})]})}):e.jsx("div",{ref:i,className:`${n} relative`,children:e.jsx(Hi,{isOpen:s,onClose:t,isRight:!1,layout:"grid"})}):null);no.displayName="ConversationSection";const U1=({isOpen:s,onClose:t,showSummary:n=!1})=>s?e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl shadow-lg border border-gray-200 p-4 w-full max-w-sm",style:{minHeight:"300px",maxHeight:"500px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 pb-3 border-b border-gray-100",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:n?"Call Summary":"Right Panel"}),e.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Close right panel",children:e.jsx(wt,{size:20,className:"text-gray-500"})})]}),n?e.jsx("div",{className:"overflow-y-auto",style:{maxHeight:"400px"},children:e.jsx(Ha,{})}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-gray-500",children:[e.jsx("div",{className:"w-16 h-16 mb-4 rounded-full bg-gray-100 flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"‚öôÔ∏è"})}),e.jsx("p",{className:"text-center text-sm",children:"Panel content will be added here"}),e.jsx("p",{className:"text-center text-xs mt-2 text-gray-400",children:"Coming soon..."})]}),e.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("span",{className:"text-xs text-gray-400",children:n?"Call Summary Panel":"Right Panel Features"})})})]})}):null,ao=u.forwardRef(({showPanel:s,onClose:t,className:n=""},a)=>{const{popups:i}=Ba(),[r,o]=u.useState(!1);u.useEffect(()=>{const c=i.find(d=>d.type==="summary");o(!!c)},[i]);const l=s||r;return l?e.jsx("div",{ref:a,className:`${n} relative`,style:{position:"relative",zIndex:30,marginLeft:"40px",marginRight:"0px"},children:e.jsx(U1,{isOpen:l,onClose:t,showSummary:r})}):null});ao.displayName="RightPanelSection";const W1=({show:s,onScrollToTop:t,onScrollToServices:n})=>s?e.jsxs("div",{className:"fixed bottom-4 right-4 flex flex-col gap-2 z-50",children:[e.jsx("button",{className:"bg-white/10 backdrop-blur-md p-3 rounded-full shadow-lg transition-all duration-300 hover:bg-white/20",onClick:n,"aria-label":"Scroll to services",title:"View Services",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{d:"M19 9l-7 7-7-7"})})}),e.jsx("button",{className:"bg-white/10 backdrop-blur-md p-3 rounded-full shadow-lg transition-all duration-300 hover:bg-white/20",onClick:t,"aria-label":"Scroll to top",title:"Back to Top",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{d:"M5 10l7-7m0 0l7 7m-7-7v18"})})})]}):null;class _e{static{this.DEBUG_LEVEL=0}static setDebugLevel(t){_e.DEBUG_LEVEL=t,console.log(`[DebugManager] Debug level set to: ${t} (0: off, 1: errors only, 2: all)`)}static getDebugLevel(){return _e.DEBUG_LEVEL}log(t,...n){_e.DEBUG_LEVEL>=2&&console.log(`[SiriButton] ${t}`,...n)}debug(t,...n){_e.DEBUG_LEVEL>=2&&console.log(`[SiriButton] ${t}`,...n)}warn(t,...n){_e.DEBUG_LEVEL>=1&&console.warn(`[SiriButton] ${t}`,...n)}debugWarn(t,...n){_e.DEBUG_LEVEL>=1&&console.warn(`[SiriButton] ${t}`,...n)}error(t,...n){console.error(`[SiriButton] ${t}`,...n)}debugError(t,...n){console.error(`[SiriButton] ${t}`,...n)}silent(){_e.setDebugLevel(0)}errorsOnly(){_e.setDebugLevel(1)}verbose(){_e.setDebugLevel(2)}}typeof window<"u"&&(window.SiriDebugControls={setLevel:s=>{_e.setDebugLevel(s),console.log(`üîß Voice debug level set to: ${s}`)},getLevel:()=>_e.getDebugLevel(),silent:()=>_e.setDebugLevel(0),errorsOnly:()=>_e.setDebugLevel(1),verbose:()=>_e.setDebugLevel(2),help:()=>{console.log(`
üîß SiriDebugControls Help:
- SiriDebugControls.silent()     -> Turn off all debug logs
- SiriDebugControls.errorsOnly() -> Show errors + warnings only  
- SiriDebugControls.verbose()    -> Show all debug logs
- SiriDebugControls.setLevel(n)  -> Set level manually (0-2)
- SiriDebugControls.getLevel()   -> Check current level
      `)}},window.voiceDebugOff=()=>_e.setDebugLevel(0),window.voiceDebugOn=()=>_e.setDebugLevel(2));class K1{constructor(t){this.debug=t,this.canvas=null,this.ctx=null,this.state={emergencyStopRequested:!1,resizeInProgress:!1,lastResizeTime:0,maxResizeAttempts:5,resizeAttemptCount:0,canvasValid:!0}}setCanvasReferences(t,n){this.canvas=t,this.ctx=n,this.state.canvasValid=!0}isEmergencyStopRequested(){return this.state.emergencyStopRequested}triggerEmergencyStop(){this.debug.warn("üö® EMERGENCY STOP TRIGGERED"),this.state.emergencyStopRequested=!0,this.state.canvasValid=!1}clearEmergencyStop(){this.debug.log("‚úÖ Emergency stop cleared"),this.state.emergencyStopRequested=!1,this.validateCanvas()}validateCanvas(){return!this.canvas||!this.ctx?(this.debug.error("Canvas or context invalid"),this.state.canvasValid=!1,!1):!this.canvas.parentElement||!document.contains(this.canvas)?(this.debug.error("Canvas not in DOM"),this.state.canvasValid=!1,!1):this.canvas.width===0||this.canvas.height===0?(this.debug.warn("Canvas has zero dimensions"),this.state.canvasValid=!1,!1):(this.state.canvasValid=!0,!0)}isCanvasValid(){return this.state.canvasValid}canSafeResize(){const t=Date.now();return this.state.resizeInProgress?(this.debug.warn("Resize already in progress, skipping"),!1):t-this.state.lastResizeTime<100?(this.debug.warn("Resize attempted too recently, skipping"),!1):this.state.resizeAttemptCount>=this.state.maxResizeAttempts?(this.debug.error("Maximum resize attempts reached, stopping"),this.triggerEmergencyStop(),!1):!0}startResize(){return this.canSafeResize()?(this.state.resizeInProgress=!0,this.state.lastResizeTime=Date.now(),this.state.resizeAttemptCount++,this.debug.log(`Starting resize attempt ${this.state.resizeAttemptCount}/${this.state.maxResizeAttempts}`),!0):!1}finishResize(t){this.state.resizeInProgress=!1,t?(this.debug.log("Resize completed successfully"),this.state.resizeAttemptCount=0):(this.debug.warn("Resize failed"),this.state.resizeAttemptCount>=this.state.maxResizeAttempts&&(this.debug.error("Max resize attempts reached, triggering emergency stop"),this.triggerEmergencyStop()))}resetResizeAttempts(){this.state.resizeAttemptCount=0,this.debug.log("Resize attempt counter reset")}safeExecute(t,n,a){try{return this.state.emergencyStopRequested?(this.debug.warn(`Operation ${a} skipped due to emergency stop`),n()):t()}catch(i){this.debug.error(`Operation ${a} failed:`,i);try{return n()}catch(r){throw this.debug.error(`Fallback for ${a} also failed:`,r),this.triggerEmergencyStop(),r}}}safeCanvasOperation(t,n,a){return this.validateCanvas()?this.safeExecute(t,n,a):(this.debug.warn(`Canvas operation ${a} skipped - canvas invalid`),n())}setFallbackDimensions(){try{const t={width:300,height:300,centerX:150,centerY:150,radius:100};return this.canvas&&(this.canvas.width=t.width,this.canvas.height=t.height,this.canvas.style.width=`${t.width}px`,this.canvas.style.height=`${t.height}px`),this.debug.warn("Using fallback dimensions due to resize failure"),t}catch(t){throw this.debug.error("Failed to set fallback dimensions:",t),this.triggerEmergencyStop(),t}}getState(){return{...this.state}}shouldSkipAnimation(){return this.state.emergencyStopRequested||!this.state.canvasValid}forceReset(){this.debug.warn("üîß Force resetting emergency state"),this.state={emergencyStopRequested:!1,resizeInProgress:!1,lastResizeTime:0,maxResizeAttempts:5,resizeAttemptCount:0,canvasValid:!0}}}class Q1{constructor(t,n){this.ctx=t,this.debug=n}clear(t){try{this.ctx.clearRect(0,0,t.width,t.height)}catch(n){throw this.debug.error("Error clearing canvas:",n),n}}renderAll(t){try{this.clear(t),this.drawBaseCircle(t),this.drawWaveform(t),this.drawParticles(t),this.drawRipples(t),this.drawPulsingRing(t),this.drawTimeRing(t),this.drawTimeText(t),this.drawIdleFlash(t)}catch(n){this.debug.error("Error during complete rendering:",n),this.drawFallbackCircle(t)}}drawBaseCircle(t){const{centerX:n,centerY:a,radius:i,isActive:r,isHovered:o,colors:l}=t;this.ctx.save();const d=i*(r?1.08:o?1.04:1),m=this.ctx.createRadialGradient(n,a,0,n,a,d);m.addColorStop(0,l.primary+"95"),m.addColorStop(.7,l.secondary+"60"),m.addColorStop(1,l.glow+"20"),this.ctx.beginPath(),this.ctx.arc(n,a,d+15,0,Math.PI*2),this.ctx.fillStyle=l.glow+"30",this.ctx.filter="blur(8px)",this.ctx.fill(),this.ctx.filter="none",this.ctx.beginPath(),this.ctx.arc(n,a,d,0,Math.PI*2),this.ctx.fillStyle=m,this.ctx.fill();const h=this.ctx.createRadialGradient(n-i*.3,a-i*.3,0,n,a,i*.8);h.addColorStop(0,"rgba(255, 255, 255, 0.4)"),h.addColorStop(1,"rgba(255, 255, 255, 0)"),this.ctx.beginPath(),this.ctx.arc(n,a,d*.8,0,Math.PI*2),this.ctx.fillStyle=h,this.ctx.fill(),this.ctx.restore()}drawWaveform(t){if(!t.isListening)return;const{centerX:n,centerY:a,radius:i,waveformPhase:r,volumeLevel:o,colors:l}=t;this.ctx.save();for(let c=0;c<3;c++){const d=i*(1.15+c*.1),m=32;this.ctx.beginPath();for(let h=0;h<=m;h++){const p=h/m*Math.PI*2,v=Math.sin(r+h*.3+c*1.5)*(8+o*12),x=d+v,g=n+Math.cos(p)*x,y=a+Math.sin(p)*x;h===0?this.ctx.moveTo(g,y):this.ctx.lineTo(g,y)}this.ctx.closePath(),this.ctx.strokeStyle=l.secondary+(90-c*20).toString(16),this.ctx.lineWidth=2,this.ctx.shadowColor=l.glow,this.ctx.shadowBlur=6,this.ctx.stroke()}this.ctx.restore()}drawParticles(t){const{particles:n,colors:a}=t;for(let i=n.length-1;i>=0;i--){const r=n[i];if(r.alpha-=.008,r.size-=.05,r.x+=(Math.random()-.5)*r.speed,r.y+=(Math.random()-.5)*r.speed,r.alpha<=.05||r.size<.5){n.splice(i,1);continue}this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.x,r.y,r.size,0,Math.PI*2);const o=Math.floor(255*r.alpha).toString(16).padStart(2,"0");this.ctx.fillStyle=a.secondary+o,this.ctx.shadowColor=a.glow,this.ctx.shadowBlur=6,this.ctx.fill(),this.ctx.restore()}}drawRipples(t){const{ripples:n,centerX:a,centerY:i,colors:r}=t;for(let o=n.length-1;o>=0;o--){const l=n[o];if(l.radius+=l.speed*3,l.alpha-=.02,l.alpha<=0){n.splice(o,1);continue}this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(a,i,l.radius,0,Math.PI*2);const c=Math.floor(255*l.alpha).toString(16).padStart(2,"0");this.ctx.strokeStyle=r.primary+c,this.ctx.lineWidth=2,this.ctx.shadowColor=r.glow,this.ctx.shadowBlur=8,this.ctx.stroke(),this.ctx.restore()}}drawPulsingRing(t){const{centerX:n,centerY:a,radius:i,pulsePhase:r,isListening:o,colors:l}=t;if(!o)return;this.ctx.save();const c=.9+.2*Math.sin(r*1.5),d=i*(1.25+c*.1);this.ctx.beginPath(),this.ctx.arc(n,a,d,0,Math.PI*2),this.ctx.strokeStyle=l.glow+"60",this.ctx.lineWidth=3,this.ctx.shadowColor=l.glow,this.ctx.shadowBlur=15,this.ctx.stroke(),this.ctx.restore()}drawTimeRing(t){const{centerX:n,centerY:a,radius:i,elapsedTime:r,timeTarget:o,colors:l}=t,c=Math.min(1,r/o),d=c<.5?l.secondary:c<1?l.primary:"#e53935";this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n,a,i*1.32,-Math.PI/2,-Math.PI/2+c*2*Math.PI),this.ctx.strokeStyle=d,this.ctx.lineWidth=4,this.ctx.shadowColor=d,this.ctx.shadowBlur=c>.95?16:6,this.ctx.globalAlpha=.85,this.ctx.stroke(),this.ctx.restore()}drawTimeText(t){const{centerX:n,centerY:a,radius:i,displayedTime:r,isDarkMode:o}=t,l=Math.round(r),c=Math.floor(l/60).toString().padStart(2,"0"),d=(l%60).toString().padStart(2,"0"),m=`${c}:${d}`;this.ctx.save(),this.ctx.font="600 1.25rem Montserrat, Raleway, Arial, sans-serif",this.ctx.textAlign="center",this.ctx.textBaseline="top",this.ctx.shadowColor="rgba(85,154,154,0.22)",this.ctx.shadowBlur=8,this.ctx.fillStyle=o?"#e8e8e8":"#fff",this.ctx.globalAlpha=.95,this.ctx.fillText(m,n,a+i*1.45),this.ctx.restore()}drawIdleFlash(t){const{centerX:n,centerY:a,radius:i,lastActiveTime:r,idleFlash:o,colors:l}=t;if(Date.now()-r<=6e3)return;const d=.7+.3*Math.abs(Math.sin(o*1.2));this.ctx.save(),this.ctx.globalAlpha=.18*d,this.ctx.beginPath(),this.ctx.arc(n,a,i*1.18,0,Math.PI*2),this.ctx.fillStyle=l.secondary,this.ctx.filter="blur(2.5px)",this.ctx.fill(),this.ctx.filter="none",this.ctx.restore()}drawFallbackCircle(t){try{this.debug.warn("Drawing fallback circle");const{centerX:n,centerY:a,radius:i,pulsePhase:r,colors:o}=t;this.ctx.clearRect(0,0,t.width,t.height),this.ctx.save();const l=1+.1*Math.sin(r),c=i*l;this.ctx.beginPath(),this.ctx.arc(n,a,c+10,0,Math.PI*2),this.ctx.fillStyle=o.glow+"40",this.ctx.filter="blur(6px)",this.ctx.fill(),this.ctx.filter="none",this.ctx.beginPath(),this.ctx.arc(n,a,c,0,Math.PI*2),this.ctx.fillStyle=o.primary,this.ctx.fill(),this.ctx.restore(),this.debug.log("Fallback circle drawn successfully")}catch(n){throw this.debug.error("Even fallback drawing failed:",n),n}}}class X1{constructor(t,n,a){this.isRunning=!1,this.animate=()=>{if(this.emergency.shouldSkipAnimation()){this.debug.warn("Animation stopped due to emergency stop"),this.stop();return}if(!this.isRunning){this.debug.log("Animation stopped by external request");return}this.debug.debug("üîç [AnimationController] Animation frame start"),this.updateAnimationPhases(),this.isRunning&&!this.emergency.isEmergencyStopRequested()&&(this.state.animationFrameId=requestAnimationFrame(this.animate))},this.debug=t,this.emergency=n,this.renderer=a,this.state={pulsePhase:0,waveformPhase:0,gradientRotation:0,elapsedTime:0,displayedTime:0,timeTarget:60,idleFrame:0,idleFlash:0,lastActiveTime:Date.now(),animationFrameId:0}}start(){if(this.isRunning){this.debug.warn("Animation already running");return}this.debug.log("Starting animation loop"),this.isRunning=!0,this.emergency.clearEmergencyStop(),this.animate()}stop(){if(!this.isRunning){this.debug.warn("Animation already stopped");return}this.debug.log("Stopping animation loop"),this.isRunning=!1,this.state.animationFrameId&&(cancelAnimationFrame(this.state.animationFrameId),this.state.animationFrameId=0)}updateAnimationPhases(){this.state.pulsePhase+=.05,this.state.waveformPhase+=.08,this.state.gradientRotation+=.02,this.state.gradientRotation>Math.PI*2&&(this.state.gradientRotation-=Math.PI*2),this.state.idleFlash+=.08,this.state.idleFrame++,this.updateTimeDisplay()}updateTimeDisplay(){this.state.displayedTime+=(this.state.elapsedTime-this.state.displayedTime)*.18}render(t){if(this.emergency.shouldSkipAnimation())return;const n={...t,...this.state};this.emergency.safeCanvasOperation(()=>(this.renderer.renderAll(n),!0),()=>(this.renderer.drawFallbackCircle(n),!1),"render")}addRipple(t,n,a){Math.random()<.1&&t.push({radius:n,alpha:.4,speed:1+a*2})}addParticle(t,n,a,i){if(Math.random()<.05){const r=Math.random()*Math.PI*2,o=i+Math.random()*20;t.push({x:n+Math.cos(r)*o,y:a+Math.sin(r)*o,alpha:.8,size:2+Math.random()*3,speed:.5+Math.random()*1})}}setVolumeLevel(t){}markActivity(){this.state.lastActiveTime=Date.now(),this.debug.debug("User activity marked")}setListening(t){t&&this.markActivity(),this.debug.debug("Animation listening state:",t)}resetTime(){this.state.elapsedTime=0,this.state.displayedTime=0,this.debug.log("Animation time reset")}updateElapsedTime(t){this.state.elapsedTime=t}setTimeTarget(t){this.state.timeTarget=t,this.debug.log("Animation time target set to:",t)}getState(){return{...this.state}}isAnimating(){return this.isRunning}forceRestart(){this.debug.warn("üîß Force restarting animation"),this.stop(),setTimeout(()=>{this.start()},50)}cleanup(){this.debug.log("Cleaning up animation controller"),this.stop(),this.state={pulsePhase:0,waveformPhase:0,gradientRotation:0,elapsedTime:0,displayedTime:0,timeTarget:60,idleFrame:0,idleFlash:0,lastActiveTime:Date.now(),animationFrameId:0}}}class Y1{constructor(t,n){this.canvas=null,this.resizeTimeout=null,this.debug=t,this.emergency=n,this.debouncedResize=this.debounce(()=>{this.safeResize()},150)}setCanvas(t){this.canvas=t,this.debug.log("Canvas reference set for dimensions manager")}initialize(){const t={width:400,height:400,centerX:200,centerY:200,radius:180};return this.debug.log("Dimensions initialized:",t),t}calculateDimensions(){if(!this.canvas||!this.canvas.parentElement)return this.debug.warn("Canvas or container not available, using fallback dimensions"),this.emergency.setFallbackDimensions();try{const n=this.canvas.parentElement.getBoundingClientRect();this.debug.debug("Container dimensions:",{width:n.width,height:n.height});const a=Math.max(200,n.width||400),i=Math.max(200,n.height||400),r=a/2,o=i/2,l=Math.max(60,Math.min(a,i)*.35),c={width:a,height:i,centerX:r,centerY:o,radius:l};return this.debug.log("Calculated dimensions:",c),c}catch(t){return this.debug.error("Error calculating dimensions:",t),this.emergency.setFallbackDimensions()}}applyDimensions(t){if(!this.canvas)return this.debug.error("Cannot apply dimensions - no canvas reference"),!1;try{return this.canvas.width=t.width,this.canvas.height=t.height,this.canvas.style.width=`${t.width}px`,this.canvas.style.height=`${t.height}px`,this.debug.log("Dimensions applied successfully:",t),!0}catch(n){return this.debug.error("Error applying dimensions:",n),!1}}safeResize(){if(this.debug.log("üîç [DimensionsManager] Starting safe resize"),!this.emergency.startResize())return this.debug.warn("Resize operation blocked by emergency manager"),this.emergency.setFallbackDimensions();try{const t=this.calculateDimensions(),n=this.applyDimensions(t);return this.emergency.finishResize(n),n?(this.debug.log("Resize completed successfully"),t):(this.debug.warn("Resize failed, using fallback"),this.emergency.setFallbackDimensions())}catch(t){return this.debug.error("Resize operation failed:",t),this.emergency.finishResize(!1),this.emergency.setFallbackDimensions()}}setupResizeListener(){typeof window<"u"&&(window.addEventListener("resize",this.debouncedResize),this.debug.log("Resize listener attached"))}removeResizeListener(){typeof window<"u"&&(window.removeEventListener("resize",this.debouncedResize),this.debug.log("Resize listener removed"))}forceResize(){return this.debug.warn("üîß Force resize triggered"),this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.safeResize()}debounce(t,n){return()=>{this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(()=>{this.resizeTimeout=null,t()},n)}}validateDimensions(t){const{width:n,height:a,radius:i}=t;return n<=0||a<=0?(this.debug.error("Invalid dimensions: width or height is zero or negative"),!1):i<=0||i>Math.min(n,a)/2?(this.debug.error("Invalid radius: must be positive and fit within dimensions"),!1):!0}getOptimalRadius(t,n){return Math.max(60,Math.min(t,n)*.35)}updateDimensions(t,n){const a={...n,...t};return(t.width!==void 0||t.height!==void 0)&&(a.centerX=a.width/2,a.centerY=a.height/2),t.radius===void 0&&(t.width!==void 0||t.height!==void 0)&&(a.radius=this.getOptimalRadius(a.width,a.height)),this.validateDimensions(a)?(this.debug.log("Dimensions updated:",a),a):(this.debug.warn("Invalid dimensions provided, keeping current state"),n)}cleanup(){this.debug.log("Cleaning up dimensions manager"),this.removeResizeListener(),this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.canvas=null}}class Z1{constructor(t){this.debug=t,this.state={isListening:!1,isHovered:!1,isActive:!1,volumeLevel:0,mouseX:0,mouseY:0,isDarkMode:!1,colors:{primary:"#60a5fa",secondary:"#34d399",glow:"#10b981",name:"blue-green"},ripples:[],particles:[]},this.initializeDarkMode()}initializeDarkMode(){typeof window<"u"&&window.matchMedia&&(this.state.isDarkMode=window.matchMedia("(prefers-color-scheme: dark)").matches,window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{this.state.isDarkMode=t.matches,this.debug.log("Dark mode changed:",t.matches)}))}getState(){return{...this.state}}updateExternalState(t){let n=!1;t.isHovered!==void 0&&t.isHovered!==this.state.isHovered&&(this.state.isHovered=t.isHovered,n=!0),t.isActive!==void 0&&t.isActive!==this.state.isActive&&(this.state.isActive=t.isActive,n=!0),t.mousePosition&&(this.state.mouseX=t.mousePosition.x,this.state.mouseY=t.mousePosition.y,n=!0),n&&this.debug.debug("External state updated:",t)}setListening(t){this.state.isListening!==t&&(this.state.isListening=t,this.debug.log("Listening state changed:",t))}setVolumeLevel(t){const n=Math.max(0,Math.min(1,t));this.state.volumeLevel!==n&&(this.state.volumeLevel=n,this.debug.debug("Volume level updated:",n))}setMousePosition(t,n){this.state.mouseX=t,this.state.mouseY=n}updateColors(t){this.state.colors={...this.state.colors,...t},this.debug.log("Colors updated:",this.state.colors)}setColorScheme(t){this.state.colors={...t},this.debug.log("Color scheme set:",t)}addRipple(t,n=.4,a=1){this.state.ripples.push({radius:t,alpha:n,speed:a}),this.debug.debug("Ripple added:",{radius:t,alpha:n,speed:a})}addParticle(t,n,a=.8,i=2,r=1){this.state.particles.push({x:t,y:n,alpha:a,size:i,speed:r}),this.debug.debug("Particle added:",{x:t,y:n,alpha:a,size:i,speed:r})}clearRipples(){this.state.ripples=[],this.debug.debug("All ripples cleared")}clearParticles(){this.state.particles=[],this.debug.debug("All particles cleared")}clearAllEffects(){this.clearRipples(),this.clearParticles(),this.debug.log("All visual effects cleared")}isHovered(){return this.state.isHovered}isActive(){return this.state.isActive}isListening(){return this.state.isListening}getVolumeLevel(){return this.state.volumeLevel}getMousePosition(){return{x:this.state.mouseX,y:this.state.mouseY}}isDarkMode(){return this.state.isDarkMode}getColors(){return{...this.state.colors}}getRipples(){return this.state.ripples}getParticles(){return this.state.particles}reset(){this.debug.log("Resetting visual state");const t=this.state.colors,n=this.state.isDarkMode;this.state={isListening:!1,isHovered:!1,isActive:!1,volumeLevel:0,mouseX:0,mouseY:0,isDarkMode:n,colors:t,ripples:[],particles:[]}}getRenderState(){return{isListening:this.state.isListening,isHovered:this.state.isHovered,isActive:this.state.isActive,volumeLevel:this.state.volumeLevel,mouseX:this.state.mouseX,mouseY:this.state.mouseY,isDarkMode:this.state.isDarkMode,colors:{...this.state.colors},ripples:[...this.state.ripples],particles:[...this.state.particles]}}forceUpdateDarkMode(){if(typeof window<"u"&&window.matchMedia){const t=this.state.isDarkMode;this.state.isDarkMode=window.matchMedia("(prefers-color-scheme: dark)").matches,t!==this.state.isDarkMode&&this.debug.log("Dark mode force updated:",this.state.isDarkMode)}}}class mt{constructor(t,n){this.isInitialized=!1,this.debug=new _e,this.emergency=new K1(this.debug),this.renderer=new Q1(null,this.debug),this.animation=new X1(this.debug,this.emergency,this.renderer),this.dimensions=new Y1(this.debug,this.emergency),this.state=new Z1(this.debug),this.debug.log("üöÄ [SiriButton] Modular architecture initializing..."),this.debug.log("  üì¶ Container ID:",t),n?(this.state.setColorScheme(n),this.debug.log("  üé® Custom colors applied:",n)):this.state.setColorScheme({primary:"#5DB6B9",secondary:"#E8B554",glow:"rgba(93, 182, 185, 0.4)",name:"English"});const a={userAgent:navigator.userAgent,isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isTouch:"ontouchstart"in window,screen:{width:screen.width,height:screen.height,devicePixelRatio:window.devicePixelRatio}};this.debug.log("üîç [SiriButton] DEVICE INFO:",a),this.initializeCanvas(t),this.setupModules(),this.startSystems(),this.debug.log("‚úÖ [SiriButton] Modular initialization completed")}initializeCanvas(t){this.debug.log("üé® [SiriButton] Initializing canvas for container:",t);const n=document.getElementById(t);if(!n)throw this.debug.error("‚ùå [SiriButton] Container element not found:",t),new Error(`Container element not found: ${t}`);this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.inset="2px",this.canvas.style.borderRadius="50%",this.canvas.style.display="block",this.canvas.style.background="transparent",this.canvas.style.zIndex="1",this.canvas.style.pointerEvents="none",this.canvas.setAttribute("data-siri-canvas","true"),this.canvas.setAttribute("data-mobile-debug",/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?"mobile":"desktop"),this.canvas.id=`${t}-canvas`,n.appendChild(this.canvas);const a=this.canvas.getContext("2d");if(!a)throw this.debug.error("‚ùå [SiriButton] Could not get canvas context"),new Error("Could not get canvas context");this.ctx=a,this.debug.log("‚úÖ [SiriButton] Canvas created and context obtained"),setTimeout(()=>{this.debug.debug("üîç [SiriButton] CANVAS VERIFICATION:"),this.debug.debug("  üé® Canvas in DOM:",document.contains(this.canvas)),this.debug.debug("  üé® Canvas rect:",this.canvas.getBoundingClientRect())},200)}setupModules(){this.debug.log("üîß [SiriButton] Setting up module configuration..."),this.emergency.setCanvasReferences(this.canvas,this.ctx),this.dimensions.setCanvas(this.canvas),this.renderer.ctx=this.ctx,this.dimensions.setupResizeListener(),this.debug.log("‚úÖ [SiriButton] Module configuration completed")}startSystems(){this.debug.log("üöÄ [SiriButton] Starting systems..."),this.currentDimensions=this.dimensions.initialize(),setTimeout(()=>{this.currentDimensions=this.dimensions.safeResize(),this.debug.log("üìê Initial resize completed:",this.currentDimensions),this.animation.start(),this.renderFrame(),this.isInitialized=!0,this.debug.log("‚úÖ [SiriButton] All systems started")},100),setTimeout(()=>{this.currentDimensions=this.dimensions.safeResize(),this.renderFrame(),this.debug.log("üì± [SiriButton] Mobile compatibility resize completed")},300)}renderFrame(){if(!this.isInitialized||this.emergency.shouldSkipAnimation())return;const t=this.state.getRenderState(),n={...this.currentDimensions,...t,...this.animation.getState()};this.animation.render(n)}updateColors(t){this.state.setColorScheme(t),this.debug.log("üé® [SiriButton] Colors updated:",t)}static setDebugLevel(t){_e.setDebugLevel(t)}static getDebugLevel(){return _e.getDebugLevel()}emergencyStopPublic(){this.emergency.triggerEmergencyStop(),this.animation.stop(),this.debug.warn("[SiriButton] Emergency stop triggered via public API")}setListening(t){this.state.setListening(t),this.animation.setListening(t),this.debug.log("üé§ [SiriButton] Listening state:",t)}setVolumeLevel(t){this.state.setVolumeLevel(t),this.animation.setVolumeLevel(t)}setTime(t,n=60){this.animation.updateElapsedTime(t),this.animation.setTimeTarget(n)}getTime(){const t=this.animation.getState();return{elapsed:t.elapsedTime,target:t.timeTarget}}setInteractionMode(t){const n={isHovered:t==="hover",isActive:t==="active"};this.state.updateExternalState(n),this.animation.markActivity(),this.debug.debug("üëÜ [SiriButton] Interaction mode:",t)}setTouchPosition(t,n){this.state.setMousePosition(t,n),this.state.updateExternalState({mousePosition:{x:t,y:n}})}updateVisualState(t){this.state.updateExternalState(t),this.animation.markActivity()}cleanup(){if(this.debug.log("üßπ [SiriButton] Cleaning up modular components..."),this.animation.stop(),this.animation.cleanup(),this.dimensions.cleanup(),this.state.reset(),this.canvas&&this.canvas.parentElement&&document.contains(this.canvas))try{this.canvas.parentElement.removeChild(this.canvas),this.debug.log("‚úÖ [SiriButton] Canvas removed successfully")}catch(t){this.debug.warn("[SiriButton] Error removing canvas:",t)}this.canvas=null,this.ctx=null,this.isInitialized=!1,this.debug.log("‚úÖ [SiriButton] Cleanup completed")}}typeof window<"u"&&(window.SiriDebugControls={setLevel:s=>{mt.setDebugLevel(s),console.log(`üîß Voice debug level set to: ${s}`)},getLevel:()=>mt.getDebugLevel(),silent:()=>mt.setDebugLevel(0),errorsOnly:()=>mt.setDebugLevel(1),verbose:()=>mt.setDebugLevel(2),help:()=>{console.log(`
üîß SiriDebugControls Help:
- SiriDebugControls.silent()     -> Turn off all debug logs
- SiriDebugControls.errorsOnly() -> Show errors + warnings only  
- SiriDebugControls.verbose()    -> Show all debug logs
- SiriDebugControls.setLevel(n)  -> Set level manually (0-2)
- SiriDebugControls.getLevel()   -> Check current level

üöÄ NEW: Modular Architecture
- Each module has independent debug logging
- Better error isolation and reporting
- Enhanced mobile debugging support
      `)}},window.voiceDebugOff=()=>mt.setDebugLevel(0),window.voiceDebugOn=()=>mt.setDebugLevel(2));const J1=({isListening:s,volumeLevel:t,colors:n,size:a=280})=>{const[i,r]=u.useState(0),[o,l]=u.useState([]);u.useEffect(()=>{let h,p=0;const v=x=>{x-p>=16&&(r(y=>y+.05),l(y=>y.map(j=>({...j,scale:j.scale+.02,opacity:j.opacity-.01})).filter(j=>j.opacity>0)),p=x),h=requestAnimationFrame(v)};return h=requestAnimationFrame(v),()=>{h&&cancelAnimationFrame(h)}},[]),u.useEffect(()=>{if(s){const h=setInterval(()=>{l(p=>[...p,{id:Date.now(),scale:1,opacity:.4}])},300);return()=>clearInterval(h)}},[s]);const c=1+.1*Math.sin(i),d=s?t*.3:0,m=c+d;return e.jsxs("div",{style:{position:"relative",width:a,height:a,display:"flex",alignItems:"center",justifyContent:"center"},children:[o.map(h=>e.jsx("div",{style:{position:"absolute",width:a,height:a,borderRadius:"50%",border:`2px solid ${n.primary}`,transform:`scale(${h.scale})`,opacity:h.opacity,pointerEvents:"none"}},h.id)),e.jsx("div",{style:{position:"absolute",width:a+40,height:a+40,borderRadius:"50%",background:`radial-gradient(circle, ${n.glow} 0%, transparent 70%)`,transform:`scale(${m})`,opacity:s?.8:.4,transition:"opacity 0.3s ease",pointerEvents:"none"}}),e.jsx("div",{style:{position:"absolute",width:a,height:a,borderRadius:"50%",background:`linear-gradient(135deg, ${n.primary}, ${n.secondary})`,transform:`scale(${m})`,boxShadow:`0 0 ${s?40:20}px ${n.glow}`,transition:"box-shadow 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none"},children:e.jsx("div",{style:{color:"white",fontSize:a*.25,textShadow:"0 0 20px rgba(255,255,255,0.8)",transform:`scale(${1+t*.2})`,transition:"transform 0.1s ease"},children:"üé§"})}),s&&e.jsx("div",{style:{position:"absolute",bottom:-40,left:"50%",transform:"translateX(-50%)",color:n.primary,fontSize:14,fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"Listening..."}),e.jsx("style",{children:`
          @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
          }
        `})]})},gs=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"ontouchstart"in window||navigator.maxTouchPoints>0,ew=()=>({isMobile:gs(),hasTouch:"ontouchstart"in window,maxTouchPoints:navigator.maxTouchPoints||0,userAgent:navigator.userAgent,screenWidth:window.screen.width,screenHeight:window.screen.height,devicePixelRatio:window.devicePixelRatio||1}),tw=s=>{const t=ew();console.log(`üì± [${s}] Device Info:`,{isMobile:t.isMobile,hasTouch:t.hasTouch,maxTouchPoints:t.maxTouchPoints,screen:`${t.screenWidth}x${t.screenHeight}`,dpr:t.devicePixelRatio})},io=({isListening:s,volumeLevel:t,containerId:n,onCallStart:a,onCallEnd:i,language:r="en",colors:o})=>{const l=(C,...S)=>{},c=(C,...S)=>{},d=(C,...S)=>{console.error(`[SiriCallButton] ${C}`,...S)},m=u.useRef(null),h=u.useRef(!1),[p,v]=u.useState("idle"),[x,g]=u.useState(!1),y=u.useRef(!1),j=u.useRef(0),f=3,b=u.useRef(!1),w=u.useCallback(()=>{if(!h.current){h.current=!0;try{if(m.current){try{m.current.cleanup()}catch(S){c("Cleanup error:",S)}m.current=null}const C=document.getElementById(n);if(C)try{C.querySelectorAll("canvas").forEach(N=>{N.parentElement&&document.contains(N)&&N.parentElement.removeChild(N)})}catch(S){d("Failed to remove canvases:",S)}g(!1)}catch(C){d("Safe cleanup failed:",C)}}},[n]),T=u.useCallback(()=>{c(),b.current=!0;try{if(m.current)try{typeof m.current.emergencyStopPublic=="function"&&m.current.emergencyStopPublic()}catch(C){d("Failed to emergency stop SiriButton:",C)}w(),c("üö® EMERGENCY STOP COMPLETED")}catch(C){d("Emergency stop failed:",C)}},[w]),E=u.useCallback((C,S)=>{m.current&&(m.current.setInteractionMode("active"),S&&m.current.setTouchPosition(S.x,S.y)),l("üéØ [SiriCallButton] Interaction start:",{position:S})},[]),z=u.useCallback(async C=>{if(l(),l("  üéØ Event type:",C.type),l("  üéØ Event target:",C.target),m.current&&(m.current.setInteractionMode("idle"),l()),y.current){l();return}y.current=!0,l(),l("  üéß isListening:",s),l("  ‚úÖ onCallStart available:",!!a),l("  ‚úÖ onCallEnd available:",!!i);try{if(!s&&a){v("listening"),l("üé§ [SiriCallButton] üü¢ STARTING CALL - Calling onCallStart()...");try{await a(),l("üé§ [SiriCallButton] ‚úÖ onCallStart() completed successfully")}catch(S){d("üé§ [SiriCallButton] ‚ùå onCallStart() error:",S),v("idle")}}else s&&i?(v("processing"),l("üõë [SiriCallButton] üî¥ ENDING CALL - Calling onCallEnd()..."),i(),l("üõë [SiriCallButton] ‚úÖ onCallEnd() completed"),setTimeout(()=>v("idle"),500)):(l("üîî [SiriCallButton] ‚ö†Ô∏è NO ACTION TAKEN:"),l("  üéß isListening:",s),l("  üé§ onCallStart available:",!!a),l("  üõë onCallEnd available:",!!i))}finally{setTimeout(()=>{y.current=!1,l()},100)}l()},[s,a,i]),F=u.useCallback(C=>{m.current&&m.current.setInteractionMode(C?"hover":"idle")},[]);u.useEffect(()=>{if(gs())return l(),g(!0),()=>{};if(b.current){c();return}if(j.current++,j.current>f){d("Too many initialization attempts, triggering emergency stop"),T();return}h.current=!1;const S=document.getElementById(n);if(!S){c("Container element not found:",n);return}S.querySelectorAll("canvas").forEach(P=>{P.parentElement&&document.contains(P)&&P.parentElement.removeChild(P)});try{m.current=new mt(n,o),g(!0),setTimeout(()=>{m.current&&!h.current&&!b.current&&(l("üîß [SiriCallButton] Single resize for mobile compatibility"),window.dispatchEvent(new Event("resize")))},200)}catch(P){d("Init error:",P),j.current<f?setTimeout(()=>{if(!h.current&&!b.current)try{m.current=new mt(n,o),g(!0),l("üîß [SiriCallButton] Retry successful - no additional resize needed")}catch(V){d("Retry failed:",V),j.current>=f&&T()}},200):(d("Max init attempts reached, triggering emergency stop"),T())}const I=gs();if(tw("SiriCallButton"),console.log("üì± [SiriCallButton] Device detection - isMobile:",I),I)return()=>{w()};{const P=()=>{F(!0),console.log("üñ±Ô∏è [SiriCallButton] üü¢ DESKTOP Mouse enter")},V=()=>{F(!1),console.log("üñ±Ô∏è [SiriCallButton] üî¥ DESKTOP Mouse leave")},M=B=>{console.log("üñ±Ô∏è [SiriCallButton] üîΩ DESKTOP Mouse down - event target:",B.target),console.log("üñ±Ô∏è [SiriCallButton] üîΩ Element ID:",S.id),console.log("üñ±Ô∏è [SiriCallButton] üîΩ isHandlingClick before:",y.current);const Y=S.getBoundingClientRect();E(B,{x:B.clientX-Y.left,y:B.clientY-Y.top}),console.log("üñ±Ô∏è [SiriCallButton] üîΩ Mouse down completed")},k=B=>{console.log("üñ±Ô∏è [SiriCallButton] üîº DESKTOP Mouse up - event target:",B.target),console.log("üñ±Ô∏è [SiriCallButton] üîº onCallStart available:",!!a),console.log("üñ±Ô∏è [SiriCallButton] üîº isListening state:",s),console.log("üñ±Ô∏è [SiriCallButton] üîº isHandlingClick before:",y.current),z(B),console.log("üñ±Ô∏è [SiriCallButton] üîº Mouse up - triggering action completed")};console.log("üñ±Ô∏è [SiriCallButton] üéØ DESKTOP EVENT SETUP:"),console.log("  üì¶ Element ID:",S.id),console.log("  üì¶ Element tagName:",S.tagName),console.log("  üéõÔ∏è onCallStart available:",!!a),console.log("  üéõÔ∏è onCallEnd available:",!!i),console.log("  üé® Element computed style:",window.getComputedStyle(S).pointerEvents);const A=B=>{console.log("üéØ [SiriCallButton] üî• MANUAL TEST CLICK DETECTED!"),console.log("  üéØ Click target:",B.target),console.log("  üéØ Click coordinates:",B.clientX,B.clientY),console.log("  üéØ Element rect:",S.getBoundingClientRect()),console.log("  üéØ onCallStart available:",!!a)};return S.addEventListener("click",A),S.addEventListener("mouseenter",P),S.addEventListener("mouseleave",V),S.addEventListener("mousedown",M),S.addEventListener("mouseup",k),console.log("üñ±Ô∏è [SiriCallButton] ‚úÖ Desktop mouse events added successfully"),()=>{console.log("üñ±Ô∏è [SiriCallButton] üßπ Cleaning up desktop mouse events"),S.removeEventListener("click",A),S.removeEventListener("mouseenter",P),S.removeEventListener("mouseleave",V),S.removeEventListener("mousedown",M),S.removeEventListener("mouseup",k),w()}}},[n,o,E,z,F,w,a,s]),u.useEffect(()=>{m.current&&!h.current&&(m.current.setListening(s),console.log("üîß [SiriCallButton] Listening state updated without resize trigger"))},[s,n]),u.useEffect(()=>{m.current&&!h.current&&m.current.setVolumeLevel(t)},[t]),u.useEffect(()=>{m.current&&o&&!h.current&&m.current.updateColors(o)},[o]);const D=C=>{(C.type==="touchend"||C.type==="click")&&a&&a().then(()=>{}).catch(S=>{console.error("[SiriCallButton] Voice call failed:",S)})};return e.jsxs("div",{id:n,className:"voice-button",onTouchStart:D,onTouchEnd:D,onClick:D,style:{width:"100%",height:"100%",position:"relative",cursor:"pointer",zIndex:10,borderRadius:"50%",pointerEvents:"auto",overflow:"visible",touchAction:"manipulation",WebkitTapHighlightColor:"transparent",WebkitUserSelect:"none",userSelect:"none",WebkitTouchCallout:"none"},children:[!1,gs()&&x&&e.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none"},children:e.jsx(J1,{isListening:s,volumeLevel:t,colors:o||{primary:"#5DB6B9",secondary:"#E8B554",glow:"rgba(93, 182, 185, 0.4)",name:"English"},size:Math.min(300,Math.min(parseInt(getComputedStyle(document.getElementById(n)||document.body).width)-20,parseInt(getComputedStyle(document.getElementById(n)||document.body).height)-20))})}),!x&&!gs()&&e.jsx("div",{className:"absolute inset-0 rounded-full flex items-center justify-center",style:{background:`linear-gradient(135deg, ${o?.primary||"#5DB6B9"}, ${o?.secondary||"#E8B554"})`,color:"white",fontSize:"36px",boxShadow:`0 0 30px ${o?.glow||"rgba(93, 182, 185, 0.4)"}`,border:"2px solid rgba(255,255,255,0.1)",pointerEvents:"none"},children:"üé§"}),p!=="idle"&&p!=="listening"&&e.jsx("div",{className:`status-indicator ${p}`,style:{position:"absolute",top:"-48px",left:"50%",transform:"translateX(-50%)",color:o?.primary||"#5DB6B9",textShadow:`0 0 10px ${o?.glow||"rgba(93, 182, 185, 0.4)"}`,pointerEvents:"none"},children:p==="processing"?"Processing...":"Speaking..."})]})},sw=()=>{const[s,t]=u.useState(()=>typeof window>"u"?!1:window.innerWidth>=768);return u.useEffect(()=>{const n=()=>{const a=window.innerWidth>=768;a!==s&&(t(a),console.log("üîÑ [useSiriResponsiveSize] Platform changed:",a?"Desktop":"Mobile"))};return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[s]),s?{width:"320px",height:"320px",minWidth:"320px",minHeight:"320px",maxWidth:"320px",maxHeight:"320px"}:{width:"min(300px, 80vw)",height:"min(300px, 80vw)",minWidth:"240px",minHeight:"240px",maxWidth:"300px",maxHeight:"300px"}},qi={en:{primary:"#5DB6B9",secondary:"#E8B554",glow:"rgba(93, 182, 185, 0.4)",name:"English"},fr:{primary:"#8B5CF6",secondary:"#A78BFA",glow:"rgba(139, 92, 246, 0.4)",name:"Fran√ßais"},zh:{primary:"#EF4444",secondary:"#FCA5A5",glow:"rgba(239, 68, 68, 0.4)",name:"‰∏≠Êñá"},ru:{primary:"#10B981",secondary:"#6EE7B7",glow:"rgba(16, 185, 129, 0.4)",name:"–†—É—Å—Å–∫–∏–π"},ko:{primary:"#F59E0B",secondary:"#FDE68A",glow:"rgba(245, 158, 11, 0.4)",name:"ÌïúÍµ≠Ïñ¥"},vi:{primary:"#EC4899",secondary:"#F9A8D4",glow:"rgba(236, 72, 153, 0.4)",name:"Ti·∫øng Vi·ªát"}},Vi=({isCallStarted:s,micLevel:t,onCallStart:n,onCallEnd:a,onCancel:i,onConfirm:r})=>{const{language:o}=et(),l=sw(),c=qi[o]||qi.en;return console.log("üé® [SiriButtonContainer] Language:",o,"Colors:",c.name,"Primary:",c.primary),console.log("üìè [SiriButtonContainer] Responsive size:",l),e.jsxs("div",{className:"flex flex-col items-center justify-center w-full relative",style:{marginBottom:He.spacing.xl,zIndex:9999,pointerEvents:"auto",height:"400px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[e.jsxs("div",{className:"flex items-center justify-center gap-4 w-full max-w-sm px-4",style:{position:"absolute",top:"20px",left:"50%",transform:"translateX(-50%)",height:"40px",opacity:s?1:0,visibility:s?"visible":"hidden",transition:"opacity 0.3s ease-in-out",zIndex:1},children:[e.jsx("button",{onClick:i,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-full text-sm font-semibold transition-all duration-200 active:scale-95",style:{minWidth:"80px"},children:"Cancel"}),e.jsx("button",{onClick:()=>{console.log("üîµ [SiriButtonContainer] Confirm button clicked");try{r?(console.log("üîµ [SiriButtonContainer] Calling onConfirm..."),r(),console.log("‚úÖ [SiriButtonContainer] onConfirm completed successfully")):(console.warn("‚ö†Ô∏è [SiriButtonContainer] onConfirm is undefined"),alert("Confirm function is not available"))}catch(d){console.error("‚ùå [SiriButtonContainer] Error in Confirm button:",d),console.error("‚ùå [SiriButtonContainer] Error details:",{name:d?.name,message:d?.message,stack:d?.stack}),alert("Call completed! There was an issue with the summary. Please check with front desk.")}},className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-full text-sm font-semibold transition-all duration-200 active:scale-95",style:{minWidth:"80px"},children:"Confirm"})]}),e.jsx("div",{className:`relative transition-all duration-500 ease-in-out voice-button ${s?"listening":""}`,"data-language":o,style:{width:l.width,height:l.height,minWidth:l.minWidth,minHeight:l.minHeight,maxWidth:l.maxWidth,maxHeight:l.maxHeight,borderRadius:"50%",boxShadow:`0 20px 40px ${c.glow}, 0 0 60px ${c.glow}`,background:`linear-gradient(135deg, ${c.primary}15, ${c.secondary}10)`,backdropFilter:"blur(10px)",border:`2px solid ${c.primary}40`,cursor:"pointer",touchAction:"manipulation",position:"relative",flexShrink:0,alignSelf:"center",aspectRatio:"1",margin:"0 auto",contain:"layout style"},children:e.jsx(io,{containerId:"main-siri-button",isListening:s,volumeLevel:t,onCallStart:()=>n(o),onCallEnd:a,language:o,colors:c})}),!s&&e.jsx("div",{className:"block mt-4 text-center transition-colors duration-300",style:{color:c.primary,fontSize:"1rem",fontWeight:"600",textShadow:`0 2px 8px ${c.glow}`},children:"Tap To Speak"})]})},nw=({isOpen:s,onClose:t,layout:n="overlay"})=>{const{transcripts:a,modelOutput:i,language:r,callDuration:o}=et(),l=u.useRef(null),c=u.useRef({}),[d,m]=u.useState({}),[h,p]=u.useState([]),v=()=>{Object.values(c.current).forEach(y=>{cancelAnimationFrame(y)}),c.current={}};if(u.useEffect(()=>{const y=[...a].sort((b,w)=>b.timestamp.getTime()-w.timestamp.getTime()),j=[];let f=null;y.forEach(b=>{b.role==="user"?(f={id:b.id.toString(),role:"user",timestamp:b.timestamp,messages:[{id:b.id.toString(),content:b.content,timestamp:b.timestamp}]},j.push(f)):((!f||f.role==="user")&&(f={id:b.id.toString(),role:"assistant",timestamp:b.timestamp,messages:[]},j.push(f)),f.messages.push({id:b.id.toString(),content:b.content,timestamp:b.timestamp}))}),p(j)},[a]),u.useEffect(()=>(h.filter(j=>j.role==="assistant").flatMap(j=>j.messages).forEach(j=>{if(d[j.id]===j.content.length)return;let f=d[j.id]||0;const b=j.content,w=()=>{f<b.length?(m(T=>({...T,[j.id]:f+1})),f++,c.current[j.id]=requestAnimationFrame(w)):delete c.current[j.id]};c.current[j.id]=requestAnimationFrame(w)}),()=>v()),[h,d]),u.useEffect(()=>{l.current&&(l.current.scrollTop=l.current.scrollHeight)},[h]),!s)return null;const x=n==="grid",g=x?{width:"100%",maxWidth:"100%",height:"320px",maxHeight:"320px",background:"rgba(255,255,255,0.15)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1.5px solid rgba(255,255,255,0.3)",boxShadow:"0 8px 32px rgba(0,0,0,0.12)",borderRadius:16,marginBottom:0}:{width:"100%",maxWidth:`${Oa}px`,height:`${Fa}px`,maxHeight:`${za}vh`,background:"rgba(255,255,255,0.12)",backdropFilter:"blur(18px)",WebkitBackdropFilter:"blur(18px)",border:"1.5px solid rgba(255,255,255,0.25)",boxShadow:"0 -8px 32px rgba(0,0,0,0.18)",borderTopLeftRadius:20,borderTopRightRadius:20,borderBottomLeftRadius:0,borderBottomRightRadius:0,marginBottom:0};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`relative z-30 overflow-hidden shadow-2xl chat-popup ${x?"grid-layout":"overlay-layout"} ${x?"":"mx-auto animate-slide-up"}`,style:g,children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-gray-200/40 bg-white/10",style:{backdropFilter:"blur(4px)"},children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["üí¨ ",oe("chat",r)]})}),e.jsx("button",{onClick:t,className:"p-1.5 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(wt,{className:"w-4 h-4 text-gray-500"})})]}),e.jsxs("div",{ref:l,className:"px-3 py-2 h-[calc(100%-3rem)] overflow-y-auto",children:[h.length===0&&e.jsx("div",{className:"text-gray-400 text-base text-center select-none",style:{opacity:.7},children:oe("tap_to_speak",r)}),h.map((y,j)=>e.jsx("div",{className:"mb-2",children:e.jsx("div",{className:"flex items-start gap-2",children:e.jsxs("div",{className:"flex-1",children:[y.role==="user"?e.jsx("div",{className:"bg-gray-100 rounded-lg p-2",children:e.jsx("p",{className:"text-gray-800 text-sm",children:y.messages[0].content})}):e.jsx("div",{className:"bg-green-50 rounded-lg p-2",children:e.jsxs("p",{className:"text-sm font-medium",style:{position:"relative",background:"linear-gradient(90deg, #FF512F, #F09819, #FFD700, #56ab2f, #43cea2, #1e90ff, #6a11cb, #FF512F)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:600,letterSpacing:.2,transition:"background 0.5s"},children:[e.jsx("span",{className:"inline-flex flex-wrap",children:y.messages.map((f,b)=>{const w=f.content.slice(0,d[f.id]||0);return e.jsxs("span",{style:{whiteSpace:"pre"},children:[w,b===y.messages.length-1&&j===0&&d[f.id]<f.content.length&&e.jsx("span",{className:"animate-blink text-yellow-500",style:{marginLeft:1},children:"|"})]},f.id)})}),j===0&&y.role==="assistant"&&d[y.messages[y.messages.length-1].id]===y.messages[y.messages.length-1].content.length&&e.jsx("span",{className:"ml-2 animate-ellipsis text-yellow-500",children:"..."})]})}),e.jsx("span",{className:"text-xs text-gray-500 mt-0.5 block",children:y.timestamp.toLocaleTimeString()})]})})},y.id))]})]}),e.jsx("style",{children:`
        @keyframes slideUp {
          from {
            transform: translateY(100%);
            opacity: 0;
          }
          to {
            transform: translateY(0);
            opacity: 1;
          }
        }
        
        .animate-slide-up {
          animation: slideUp 0.3s ease-out;
        }
        
        @keyframes blink {
          0%, 50% { opacity: 1; }
          51%, 100% { opacity: 0; }
        }
        
        .animate-blink {
          animation: blink 1s infinite;
        }
        
        @keyframes ellipsis {
          0% { content: ''; }
          25% { content: '.'; }
          50% { content: '..'; }
          75% { content: '...'; }
          100% { content: ''; }
        }
        
        .animate-ellipsis::after {
          content: '';
          animation: ellipsis 1.5s infinite;
        }

        @media (max-width: 640px) {
          .chat-popup.overlay-layout {
            width: 100vw !important;
            max-width: 100vw !important;
            height: 120px !important;
            max-height: 20vh !important;
            margin: 0 !important;
            border-top-left-radius: 16px !important;
            border-top-right-radius: 16px !important;
          }
        }
      `})]})},aw=({isOpen:s,onClose:t,layout:n="overlay"})=>{const{transcripts:a,callSummary:i,serviceRequests:r,language:o,callDuration:l}=et(),[c,d]=u.useState(!1),[m,h]=u.useState(!1);u.useEffect(()=>{l===0&&a.length>0?(d(!0),console.log("üìû [SummaryPopup] Call has ended - enabling summary features")):l>0&&d(!1)},[l,a.length]),u.useEffect(()=>{const y=p();console.log("üîç [SummaryPopup] Summary data check:",{hasCallSummary:!!i,hasServiceRequests:r?.length>0,summaryDataHasData:y.hasData,transcriptsCount:a.length,callHasEnded:c,callDuration:l});const j=y.hasData||a.length>=2&&c;h(j),console.log("üìã [SummaryPopup] Summary data visibility:",j)},[i,r,a.length,c]);const p=()=>{if(i&&i.content){const y=Ts(i.content),j=La(i.content);return{source:"Vapi.ai",roomNumber:y||"Unknown",content:i.content,items:j.items||[],timestamp:i.timestamp,hasData:!0}}return r&&r.length>0?{source:"OpenAI Enhanced",roomNumber:r[0]?.details?.roomNumber||"Unknown",content:r.map(j=>`${j.serviceType}: ${j.requestText}`).join(`
`),items:r.map(j=>({name:j.serviceType,description:j.requestText,quantity:1,price:10})),timestamp:new Date,hasData:!0}:a.length>=2&&c?{source:"Processing",roomNumber:"Processing...",content:"AI is analyzing your conversation to generate a summary...",items:[],timestamp:new Date,hasData:!0}:{source:"No data",roomNumber:"Unknown",content:"Call summary not available yet",items:[],timestamp:new Date,hasData:!1}};if(!s)return null;const v=n==="grid",x=v?{width:"100%",maxWidth:"100%",height:"320px",maxHeight:"320px",background:"rgba(255,255,255,0.15)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1.5px solid rgba(255,255,255,0.3)",boxShadow:"0 8px 32px rgba(0,0,0,0.12)",borderRadius:16,marginBottom:0}:{width:"100%",maxWidth:`${Oa}px`,height:`${Fa}px`,maxHeight:`${za}vh`,background:"rgba(255,255,255,0.12)",backdropFilter:"blur(18px)",WebkitBackdropFilter:"blur(18px)",border:"1.5px solid rgba(255,255,255,0.25)",boxShadow:"0 -8px 32px rgba(0,0,0,0.18)",borderTopLeftRadius:20,borderTopRightRadius:20,borderBottomLeftRadius:0,borderBottomRightRadius:0,marginBottom:0},g=p();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`relative z-30 overflow-hidden shadow-2xl summary-popup ${v?"grid-layout":"overlay-layout"} ${v?"":"mx-auto animate-slide-up"}`,style:x,children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-gray-200/40 bg-white/10",style:{backdropFilter:"blur(4px)"},children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["üìã ",oe("summary",o)]}),m&&e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),e.jsx("button",{onClick:t,className:"p-1.5 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(wt,{className:"w-4 h-4 text-gray-500"})})]}),e.jsx("div",{className:"space-y-3 p-3",children:g.hasData?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"font-medium text-green-700",children:["üìã ",oe("summary",o)]}),e.jsx("span",{className:"text-gray-500 text-[10px]",children:g.source})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Room:"}),e.jsx("span",{className:"ml-1 font-semibold text-blue-800",children:g.roomNumber})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Items:"}),e.jsx("span",{className:"ml-1 font-semibold text-green-700",children:g.items.length})]})]}),g.items.length>0&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-[11px] font-medium text-gray-600",children:"Requests:"}),e.jsxs("div",{className:"space-y-1 max-h-20 overflow-y-auto",children:[g.items.slice(0,3).map((y,j)=>e.jsxs("div",{className:"flex items-center gap-2 text-[10px]",children:[e.jsx("span",{className:"w-1 h-1 bg-green-500 rounded-full flex-shrink-0"}),e.jsx("span",{className:"text-gray-700 truncate",children:y.name})]},j)),g.items.length>3&&e.jsxs("div",{className:"text-[10px] text-gray-500 italic",children:["+",g.items.length-3," more items..."]})]})]}),e.jsx("div",{className:"text-[10px] text-gray-400 text-right",children:g.timestamp.toLocaleTimeString()})]}):e.jsx("div",{className:"text-center py-4 text-gray-500",children:g.source==="Processing"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-xs",children:"ü§ñ AI Processing your conversation..."}),e.jsx("div",{className:"text-[10px] mt-1",children:"Generating summary and extracting requests"}),e.jsx("div",{className:"text-[10px] mt-2 animate-pulse",children:"‚óè‚óè‚óè"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-xs",children:"‚è≥ No summary available yet"}),e.jsx("div",{className:"text-[10px] mt-1",children:"Complete a conversation to see summary"})]})})})]}),e.jsx("style",{children:`
        @keyframes slideUp {
          from {
            transform: translateY(100%);
            opacity: 0;
          }
          to {
            transform: translateY(0);
            opacity: 1;
          }
        }
        
        .animate-slide-up {
          animation: slideUp 0.3s ease-out;
        }

        @media (max-width: 640px) {
          .summary-popup.overlay-layout {
            width: 100vw !important;
            max-width: 100vw !important;
            height: 120px !important;
            max-height: 20vh !important;
            margin: 0 !important;
            border-top-left-radius: 16px !important;
            border-top-right-radius: 16px !important;
          }
        }
      `})]})},iw=({isActive:s})=>{const{isLoading:t,error:n,micLevel:a,showScrollButton:i,scrollToTop:r,scrollToSection:o,heroSectionRef:l,serviceGridRef:c,conversationRef:d,rightPanelRef:m,isCallStarted:h,showConversation:p,handleCallStart:v,handleCallEnd:x,handleCancel:g,handleConfirm:y,showRightPanel:j,handleRightPanelClose:f}=C1({isActive:s});return console.log("üîç [Interface1] Popup States:",{isCallStarted:h,showConversation:p,chatPopupOpen:p&&h,summaryPopupOpen:p&&!h}),t?e.jsx(T1,{}):n?e.jsx(_1,{error:n}):e.jsxs(Zl,{children:[e.jsxs("div",{ref:l,className:"relative",children:[e.jsx(Jl,{}),e.jsxs("div",{className:"relative min-h-[400px] px-4",children:[e.jsxs("div",{className:"hidden md:block",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-8 items-center justify-items-center min-h-[400px] mb-8",children:[e.jsx("div",{className:"w-full max-w-sm",children:e.jsx(nw,{isOpen:p&&h,onClose:()=>{},layout:"grid"})}),e.jsx("div",{className:"flex flex-col items-center justify-center w-full max-w-md",children:e.jsx("div",{className:"flex items-center justify-center p-4",children:e.jsx(Vi,{isCallStarted:h,micLevel:a,onCallStart:async b=>{await v(b)},onCallEnd:x,onCancel:g,onConfirm:y})})}),e.jsx("div",{className:"w-full max-w-sm",children:e.jsx(aw,{isOpen:p&&!h,onClose:()=>{},layout:"grid"})})]}),e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("div",{className:"w-full max-w-sm"})})]}),e.jsxs("div",{className:"block md:hidden",children:[e.jsx("div",{className:"w-full flex flex-col items-center justify-center min-h-[400px] relative z-50",children:e.jsx("div",{className:"flex flex-col items-center justify-center",children:e.jsx(Vi,{isCallStarted:h,micLevel:a,onCallStart:async b=>{await v(b)},onCallEnd:x,onCancel:g,onConfirm:y})})}),e.jsx(no,{ref:d,showConversation:p,onClose:()=>{},className:"fixed bottom-0 left-0 right-0 z-40",isOverlay:!0}),e.jsx("div",{className:"absolute top-8 right-4 w-80 z-10 pointer-events-auto",children:e.jsx(ao,{ref:m,showPanel:j,onClose:f,className:"w-full max-w-sm z-20"})})]})]})]}),e.jsx("div",{className:"mt-16 relative z-10",children:e.jsx(so,{ref:c})}),e.jsx(W1,{show:i,onScrollToTop:r,onScrollToServices:()=>o("services")})]})};function Gi(s){return s!==null&&typeof s=="object"&&"constructor"in s&&s.constructor===Object}function Ga(s,t){s===void 0&&(s={}),t===void 0&&(t={});const n=["__proto__","constructor","prototype"];Object.keys(t).filter(a=>n.indexOf(a)<0).forEach(a=>{typeof s[a]>"u"?s[a]=t[a]:Gi(t[a])&&Gi(s[a])&&Object.keys(t[a]).length>0&&Ga(s[a],t[a])})}const ro={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function gt(){const s=typeof document<"u"?document:{};return Ga(s,ro),s}const rw={document:ro,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(s){return typeof setTimeout>"u"?(s(),null):setTimeout(s,0)},cancelAnimationFrame(s){typeof setTimeout>"u"||clearTimeout(s)}};function ze(){const s=typeof window<"u"?window:{};return Ga(s,rw),s}function lw(s){return s===void 0&&(s=""),s.trim().split(" ").filter(t=>!!t.trim())}function ow(s){const t=s;Object.keys(t).forEach(n=>{try{t[n]=null}catch{}try{delete t[n]}catch{}})}function sa(s,t){return t===void 0&&(t=0),setTimeout(s,t)}function dn(){return Date.now()}function cw(s){const t=ze();let n;return t.getComputedStyle&&(n=t.getComputedStyle(s,null)),!n&&s.currentStyle&&(n=s.currentStyle),n||(n=s.style),n}function dw(s,t){t===void 0&&(t="x");const n=ze();let a,i,r;const o=cw(s);return n.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(l=>l.replace(",",".")).join(", ")),r=new n.WebKitCSSMatrix(i==="none"?"":i)):(r=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),a=r.toString().split(",")),t==="x"&&(n.WebKitCSSMatrix?i=r.m41:a.length===16?i=parseFloat(a[12]):i=parseFloat(a[4])),t==="y"&&(n.WebKitCSSMatrix?i=r.m42:a.length===16?i=parseFloat(a[13]):i=parseFloat(a[5])),i||0}function Ks(s){return typeof s=="object"&&s!==null&&s.constructor&&Object.prototype.toString.call(s).slice(8,-1)==="Object"}function uw(s){return typeof window<"u"&&typeof window.HTMLElement<"u"?s instanceof HTMLElement:s&&(s.nodeType===1||s.nodeType===11)}function Ue(){const s=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const a=n<0||arguments.length<=n?void 0:arguments[n];if(a!=null&&!uw(a)){const i=Object.keys(Object(a)).filter(r=>t.indexOf(r)<0);for(let r=0,o=i.length;r<o;r+=1){const l=i[r],c=Object.getOwnPropertyDescriptor(a,l);c!==void 0&&c.enumerable&&(Ks(s[l])&&Ks(a[l])?a[l].__swiper__?s[l]=a[l]:Ue(s[l],a[l]):!Ks(s[l])&&Ks(a[l])?(s[l]={},a[l].__swiper__?s[l]=a[l]:Ue(s[l],a[l])):s[l]=a[l])}}}return s}function Qs(s,t,n){s.style.setProperty(t,n)}function lo(s){let{swiper:t,targetPosition:n,side:a}=s;const i=ze(),r=-t.translate;let o=null,l;const c=t.params.speed;t.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(t.cssModeFrameID);const d=n>r?"next":"prev",m=(p,v)=>d==="next"&&p>=v||d==="prev"&&p<=v,h=()=>{l=new Date().getTime(),o===null&&(o=l);const p=Math.max(Math.min((l-o)/c,1),0),v=.5-Math.cos(p*Math.PI)/2;let x=r+v*(n-r);if(m(x,n)&&(x=n),t.wrapperEl.scrollTo({[a]:x}),m(x,n)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[a]:x})}),i.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=i.requestAnimationFrame(h)};h()}function lt(s,t){t===void 0&&(t="");const n=ze(),a=[...s.children];return n.HTMLSlotElement&&s instanceof HTMLSlotElement&&a.push(...s.assignedElements()),t?a.filter(i=>i.matches(t)):a}function hw(s,t){const n=[t];for(;n.length>0;){const a=n.shift();if(s===a)return!0;n.push(...a.children,...a.shadowRoot?a.shadowRoot.children:[],...a.assignedElements?a.assignedElements():[])}}function mw(s,t){const n=ze();let a=t.contains(s);return!a&&n.HTMLSlotElement&&t instanceof HTMLSlotElement&&(a=[...t.assignedElements()].includes(s),a||(a=hw(s,t))),a}function un(s){try{console.warn(s);return}catch{}}function As(s,t){t===void 0&&(t=[]);const n=document.createElement(s);return n.classList.add(...Array.isArray(t)?t:lw(t)),n}function pw(s,t){const n=[];for(;s.previousElementSibling;){const a=s.previousElementSibling;t?a.matches(t)&&n.push(a):n.push(a),s=a}return n}function xw(s,t){const n=[];for(;s.nextElementSibling;){const a=s.nextElementSibling;t?a.matches(t)&&n.push(a):n.push(a),s=a}return n}function At(s,t){return ze().getComputedStyle(s,null).getPropertyValue(t)}function Ps(s){let t=s,n;if(t){for(n=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(n+=1);return n}}function oo(s,t){const n=[];let a=s.parentElement;for(;a;)t?a.matches(t)&&n.push(a):n.push(a),a=a.parentElement;return n}function na(s,t,n){const a=ze();return s[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(a.getComputedStyle(s,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(a.getComputedStyle(s,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom"))}function le(s){return(Array.isArray(s)?s:[s]).filter(t=>!!t)}let Ln;function fw(){const s=ze(),t=gt();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in s||s.DocumentTouch&&t instanceof s.DocumentTouch)}}function co(){return Ln||(Ln=fw()),Ln}let Rn;function gw(s){let{userAgent:t}=s===void 0?{}:s;const n=co(),a=ze(),i=a.navigator.platform,r=t||a.navigator.userAgent,o={ios:!1,android:!1},l=a.screen.width,c=a.screen.height,d=r.match(/(Android);?[\s\/]+([\d.]+)?/);let m=r.match(/(iPad).*OS\s([\d_]+)/);const h=r.match(/(iPod)(.*OS\s([\d_]+))?/),p=!m&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),v=i==="Win32";let x=i==="MacIntel";const g=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!m&&x&&n.touch&&g.indexOf(`${l}x${c}`)>=0&&(m=r.match(/(Version)\/([\d.]+)/),m||(m=[0,1,"13_0_0"]),x=!1),d&&!v&&(o.os="android",o.android=!0),(m||p||h)&&(o.os="ios",o.ios=!0),o}function uo(s){return s===void 0&&(s={}),Rn||(Rn=gw(s)),Rn}let $n;function vw(){const s=ze(),t=uo();let n=!1;function a(){const l=s.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(a()){const l=String(s.navigator.userAgent);if(l.includes("Version/")){const[c,d]=l.split("Version/")[1].split(" ")[0].split(".").map(m=>Number(m));n=c<16||c===16&&d<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(s.navigator.userAgent),r=a(),o=r||i&&t.ios;return{isSafari:n||r,needPerspectiveFix:n,need3dFix:o,isWebView:i}}function ho(){return $n||($n=vw()),$n}function yw(s){let{swiper:t,on:n,emit:a}=s;const i=ze();let r=null,o=null;const l=()=>{!t||t.destroyed||!t.initialized||(a("beforeResize"),a("resize"))},c=()=>{!t||t.destroyed||!t.initialized||(r=new ResizeObserver(h=>{o=i.requestAnimationFrame(()=>{const{width:p,height:v}=t;let x=p,g=v;h.forEach(y=>{let{contentBoxSize:j,contentRect:f,target:b}=y;b&&b!==t.el||(x=f?f.width:(j[0]||j).inlineSize,g=f?f.height:(j[0]||j).blockSize)}),(x!==p||g!==v)&&l()})}),r.observe(t.el))},d=()=>{o&&i.cancelAnimationFrame(o),r&&r.unobserve&&t.el&&(r.unobserve(t.el),r=null)},m=()=>{!t||t.destroyed||!t.initialized||a("orientationchange")};n("init",()=>{if(t.params.resizeObserver&&typeof i.ResizeObserver<"u"){c();return}i.addEventListener("resize",l),i.addEventListener("orientationchange",m)}),n("destroy",()=>{d(),i.removeEventListener("resize",l),i.removeEventListener("orientationchange",m)})}function jw(s){let{swiper:t,extendParams:n,on:a,emit:i}=s;const r=[],o=ze(),l=function(m,h){h===void 0&&(h={});const p=o.MutationObserver||o.WebkitMutationObserver,v=new p(x=>{if(t.__preventObserver__)return;if(x.length===1){i("observerUpdate",x[0]);return}const g=function(){i("observerUpdate",x[0])};o.requestAnimationFrame?o.requestAnimationFrame(g):o.setTimeout(g,0)});v.observe(m,{attributes:typeof h.attributes>"u"?!0:h.attributes,childList:t.isElement||(typeof h.childList>"u"?!0:h).childList,characterData:typeof h.characterData>"u"?!0:h.characterData}),r.push(v)},c=()=>{if(t.params.observer){if(t.params.observeParents){const m=oo(t.hostEl);for(let h=0;h<m.length;h+=1)l(m[h])}l(t.hostEl,{childList:t.params.observeSlideChildren}),l(t.wrapperEl,{attributes:!1})}},d=()=>{r.forEach(m=>{m.disconnect()}),r.splice(0,r.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),a("init",c),a("destroy",d)}var bw={on(s,t,n){const a=this;if(!a.eventsListeners||a.destroyed||typeof t!="function")return a;const i=n?"unshift":"push";return s.split(" ").forEach(r=>{a.eventsListeners[r]||(a.eventsListeners[r]=[]),a.eventsListeners[r][i](t)}),a},once(s,t,n){const a=this;if(!a.eventsListeners||a.destroyed||typeof t!="function")return a;function i(){a.off(s,i),i.__emitterProxy&&delete i.__emitterProxy;for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];t.apply(a,o)}return i.__emitterProxy=t,a.on(s,i,n)},onAny(s,t){const n=this;if(!n.eventsListeners||n.destroyed||typeof s!="function")return n;const a=t?"unshift":"push";return n.eventsAnyListeners.indexOf(s)<0&&n.eventsAnyListeners[a](s),n},offAny(s){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const n=t.eventsAnyListeners.indexOf(s);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off(s,t){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||s.split(" ").forEach(a=>{typeof t>"u"?n.eventsListeners[a]=[]:n.eventsListeners[a]&&n.eventsListeners[a].forEach((i,r)=>{(i===t||i.__emitterProxy&&i.__emitterProxy===t)&&n.eventsListeners[a].splice(r,1)})}),n},emit(){const s=this;if(!s.eventsListeners||s.destroyed||!s.eventsListeners)return s;let t,n,a;for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return typeof r[0]=="string"||Array.isArray(r[0])?(t=r[0],n=r.slice(1,r.length),a=s):(t=r[0].events,n=r[0].data,a=r[0].context||s),n.unshift(a),(Array.isArray(t)?t:t.split(" ")).forEach(c=>{s.eventsAnyListeners&&s.eventsAnyListeners.length&&s.eventsAnyListeners.forEach(d=>{d.apply(a,[c,...n])}),s.eventsListeners&&s.eventsListeners[c]&&s.eventsListeners[c].forEach(d=>{d.apply(a,n)})}),s}};function ww(){const s=this;let t,n;const a=s.el;typeof s.params.width<"u"&&s.params.width!==null?t=s.params.width:t=a.clientWidth,typeof s.params.height<"u"&&s.params.height!==null?n=s.params.height:n=a.clientHeight,!(t===0&&s.isHorizontal()||n===0&&s.isVertical())&&(t=t-parseInt(At(a,"padding-left")||0,10)-parseInt(At(a,"padding-right")||0,10),n=n-parseInt(At(a,"padding-top")||0,10)-parseInt(At(a,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(n)&&(n=0),Object.assign(s,{width:t,height:n,size:s.isHorizontal()?t:n}))}function Nw(){const s=this;function t(C,S){return parseFloat(C.getPropertyValue(s.getDirectionLabel(S))||0)}const n=s.params,{wrapperEl:a,slidesEl:i,size:r,rtlTranslate:o,wrongRTL:l}=s,c=s.virtual&&n.virtual.enabled,d=c?s.virtual.slides.length:s.slides.length,m=lt(i,`.${s.params.slideClass}, swiper-slide`),h=c?s.virtual.slides.length:m.length;let p=[];const v=[],x=[];let g=n.slidesOffsetBefore;typeof g=="function"&&(g=n.slidesOffsetBefore.call(s));let y=n.slidesOffsetAfter;typeof y=="function"&&(y=n.slidesOffsetAfter.call(s));const j=s.snapGrid.length,f=s.slidesGrid.length;let b=n.spaceBetween,w=-g,T=0,E=0;if(typeof r>"u")return;typeof b=="string"&&b.indexOf("%")>=0?b=parseFloat(b.replace("%",""))/100*r:typeof b=="string"&&(b=parseFloat(b)),s.virtualSize=-b,m.forEach(C=>{o?C.style.marginLeft="":C.style.marginRight="",C.style.marginBottom="",C.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Qs(a,"--swiper-centered-offset-before",""),Qs(a,"--swiper-centered-offset-after",""));const z=n.grid&&n.grid.rows>1&&s.grid;z?s.grid.initSlides(m):s.grid&&s.grid.unsetSlides();let F;const D=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(C=>typeof n.breakpoints[C].slidesPerView<"u").length>0;for(let C=0;C<h;C+=1){F=0;let S;if(m[C]&&(S=m[C]),z&&s.grid.updateSlide(C,S,m),!(m[C]&&At(S,"display")==="none")){if(n.slidesPerView==="auto"){D&&(m[C].style[s.getDirectionLabel("width")]="");const N=getComputedStyle(S),I=S.style.transform,P=S.style.webkitTransform;if(I&&(S.style.transform="none"),P&&(S.style.webkitTransform="none"),n.roundLengths)F=s.isHorizontal()?na(S,"width"):na(S,"height");else{const V=t(N,"width"),M=t(N,"padding-left"),k=t(N,"padding-right"),A=t(N,"margin-left"),B=t(N,"margin-right"),Y=N.getPropertyValue("box-sizing");if(Y&&Y==="border-box")F=V+A+B;else{const{clientWidth:we,offsetWidth:ne}=S;F=V+M+k+A+B+(ne-we)}}I&&(S.style.transform=I),P&&(S.style.webkitTransform=P),n.roundLengths&&(F=Math.floor(F))}else F=(r-(n.slidesPerView-1)*b)/n.slidesPerView,n.roundLengths&&(F=Math.floor(F)),m[C]&&(m[C].style[s.getDirectionLabel("width")]=`${F}px`);m[C]&&(m[C].swiperSlideSize=F),x.push(F),n.centeredSlides?(w=w+F/2+T/2+b,T===0&&C!==0&&(w=w-r/2-b),C===0&&(w=w-r/2-b),Math.abs(w)<1/1e3&&(w=0),n.roundLengths&&(w=Math.floor(w)),E%n.slidesPerGroup===0&&p.push(w),v.push(w)):(n.roundLengths&&(w=Math.floor(w)),(E-Math.min(s.params.slidesPerGroupSkip,E))%s.params.slidesPerGroup===0&&p.push(w),v.push(w),w=w+F+b),s.virtualSize+=F+b,T=F,E+=1}}if(s.virtualSize=Math.max(s.virtualSize,r)+y,o&&l&&(n.effect==="slide"||n.effect==="coverflow")&&(a.style.width=`${s.virtualSize+b}px`),n.setWrapperSize&&(a.style[s.getDirectionLabel("width")]=`${s.virtualSize+b}px`),z&&s.grid.updateWrapperSize(F,p),!n.centeredSlides){const C=[];for(let S=0;S<p.length;S+=1){let N=p[S];n.roundLengths&&(N=Math.floor(N)),p[S]<=s.virtualSize-r&&C.push(N)}p=C,Math.floor(s.virtualSize-r)-Math.floor(p[p.length-1])>1&&p.push(s.virtualSize-r)}if(c&&n.loop){const C=x[0]+b;if(n.slidesPerGroup>1){const S=Math.ceil((s.virtual.slidesBefore+s.virtual.slidesAfter)/n.slidesPerGroup),N=C*n.slidesPerGroup;for(let I=0;I<S;I+=1)p.push(p[p.length-1]+N)}for(let S=0;S<s.virtual.slidesBefore+s.virtual.slidesAfter;S+=1)n.slidesPerGroup===1&&p.push(p[p.length-1]+C),v.push(v[v.length-1]+C),s.virtualSize+=C}if(p.length===0&&(p=[0]),b!==0){const C=s.isHorizontal()&&o?"marginLeft":s.getDirectionLabel("marginRight");m.filter((S,N)=>!n.cssMode||n.loop?!0:N!==m.length-1).forEach(S=>{S.style[C]=`${b}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let C=0;x.forEach(N=>{C+=N+(b||0)}),C-=b;const S=C>r?C-r:0;p=p.map(N=>N<=0?-g:N>S?S+y:N)}if(n.centerInsufficientSlides){let C=0;x.forEach(N=>{C+=N+(b||0)}),C-=b;const S=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(C+S<r){const N=(r-C-S)/2;p.forEach((I,P)=>{p[P]=I-N}),v.forEach((I,P)=>{v[P]=I+N})}}if(Object.assign(s,{slides:m,snapGrid:p,slidesGrid:v,slidesSizesGrid:x}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Qs(a,"--swiper-centered-offset-before",`${-p[0]}px`),Qs(a,"--swiper-centered-offset-after",`${s.size/2-x[x.length-1]/2}px`);const C=-s.snapGrid[0],S=-s.slidesGrid[0];s.snapGrid=s.snapGrid.map(N=>N+C),s.slidesGrid=s.slidesGrid.map(N=>N+S)}if(h!==d&&s.emit("slidesLengthChange"),p.length!==j&&(s.params.watchOverflow&&s.checkOverflow(),s.emit("snapGridLengthChange")),v.length!==f&&s.emit("slidesGridLengthChange"),n.watchSlidesProgress&&s.updateSlidesOffset(),s.emit("slidesUpdated"),!c&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const C=`${n.containerModifierClass}backface-hidden`,S=s.el.classList.contains(C);h<=n.maxBackfaceHiddenSlides?S||s.el.classList.add(C):S&&s.el.classList.remove(C)}}function Sw(s){const t=this,n=[],a=t.virtual&&t.params.virtual.enabled;let i=0,r;typeof s=="number"?t.setTransition(s):s===!0&&t.setTransition(t.params.speed);const o=l=>a?t.slides[t.getSlideIndexByData(l)]:t.slides[l];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(l=>{n.push(l)});else for(r=0;r<Math.ceil(t.params.slidesPerView);r+=1){const l=t.activeIndex+r;if(l>t.slides.length&&!a)break;n.push(o(l))}else n.push(o(t.activeIndex));for(r=0;r<n.length;r+=1)if(typeof n[r]<"u"){const l=n[r].offsetHeight;i=l>i?l:i}(i||i===0)&&(t.wrapperEl.style.height=`${i}px`)}function Cw(){const s=this,t=s.slides,n=s.isElement?s.isHorizontal()?s.wrapperEl.offsetLeft:s.wrapperEl.offsetTop:0;for(let a=0;a<t.length;a+=1)t[a].swiperSlideOffset=(s.isHorizontal()?t[a].offsetLeft:t[a].offsetTop)-n-s.cssOverflowAdjustment()}const Ui=(s,t,n)=>{t&&!s.classList.contains(n)?s.classList.add(n):!t&&s.classList.contains(n)&&s.classList.remove(n)};function kw(s){s===void 0&&(s=this&&this.translate||0);const t=this,n=t.params,{slides:a,rtlTranslate:i,snapGrid:r}=t;if(a.length===0)return;typeof a[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let o=-s;i&&(o=s),t.visibleSlidesIndexes=[],t.visibleSlides=[];let l=n.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*t.size:typeof l=="string"&&(l=parseFloat(l));for(let c=0;c<a.length;c+=1){const d=a[c];let m=d.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(m-=a[0].swiperSlideOffset);const h=(o+(n.centeredSlides?t.minTranslate():0)-m)/(d.swiperSlideSize+l),p=(o-r[0]+(n.centeredSlides?t.minTranslate():0)-m)/(d.swiperSlideSize+l),v=-(o-m),x=v+t.slidesSizesGrid[c],g=v>=0&&v<=t.size-t.slidesSizesGrid[c],y=v>=0&&v<t.size-1||x>1&&x<=t.size||v<=0&&x>=t.size;y&&(t.visibleSlides.push(d),t.visibleSlidesIndexes.push(c)),Ui(d,y,n.slideVisibleClass),Ui(d,g,n.slideFullyVisibleClass),d.progress=i?-h:h,d.originalProgress=i?-p:p}}function Tw(s){const t=this;if(typeof s>"u"){const m=t.rtlTranslate?-1:1;s=t&&t.translate&&t.translate*m||0}const n=t.params,a=t.maxTranslate()-t.minTranslate();let{progress:i,isBeginning:r,isEnd:o,progressLoop:l}=t;const c=r,d=o;if(a===0)i=0,r=!0,o=!0;else{i=(s-t.minTranslate())/a;const m=Math.abs(s-t.minTranslate())<1,h=Math.abs(s-t.maxTranslate())<1;r=m||i<=0,o=h||i>=1,m&&(i=0),h&&(i=1)}if(n.loop){const m=t.getSlideIndexByData(0),h=t.getSlideIndexByData(t.slides.length-1),p=t.slidesGrid[m],v=t.slidesGrid[h],x=t.slidesGrid[t.slidesGrid.length-1],g=Math.abs(s);g>=p?l=(g-p)/x:l=(g+x-v)/x,l>1&&(l-=1)}Object.assign(t,{progress:i,progressLoop:l,isBeginning:r,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(s),r&&!c&&t.emit("reachBeginning toEdge"),o&&!d&&t.emit("reachEnd toEdge"),(c&&!r||d&&!o)&&t.emit("fromEdge"),t.emit("progress",i)}const Fn=(s,t,n)=>{t&&!s.classList.contains(n)?s.classList.add(n):!t&&s.classList.contains(n)&&s.classList.remove(n)};function _w(){const s=this,{slides:t,params:n,slidesEl:a,activeIndex:i}=s,r=s.virtual&&n.virtual.enabled,o=s.grid&&n.grid&&n.grid.rows>1,l=h=>lt(a,`.${n.slideClass}${h}, swiper-slide${h}`)[0];let c,d,m;if(r)if(n.loop){let h=i-s.virtual.slidesBefore;h<0&&(h=s.virtual.slides.length+h),h>=s.virtual.slides.length&&(h-=s.virtual.slides.length),c=l(`[data-swiper-slide-index="${h}"]`)}else c=l(`[data-swiper-slide-index="${i}"]`);else o?(c=t.find(h=>h.column===i),m=t.find(h=>h.column===i+1),d=t.find(h=>h.column===i-1)):c=t[i];c&&(o||(m=xw(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!m&&(m=t[0]),d=pw(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d===0&&(d=t[t.length-1]))),t.forEach(h=>{Fn(h,h===c,n.slideActiveClass),Fn(h,h===m,n.slideNextClass),Fn(h,h===d,n.slidePrevClass)}),s.emitSlidesClasses()}const tn=(s,t)=>{if(!s||s.destroyed||!s.params)return;const n=()=>s.isElement?"swiper-slide":`.${s.params.slideClass}`,a=t.closest(n());if(a){let i=a.querySelector(`.${s.params.lazyPreloaderClass}`);!i&&s.isElement&&(a.shadowRoot?i=a.shadowRoot.querySelector(`.${s.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{a.shadowRoot&&(i=a.shadowRoot.querySelector(`.${s.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},On=(s,t)=>{if(!s.slides[t])return;const n=s.slides[t].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},aa=s=>{if(!s||s.destroyed||!s.params)return;let t=s.params.lazyPreloadPrevNext;const n=s.slides.length;if(!n||!t||t<0)return;t=Math.min(t,n);const a=s.params.slidesPerView==="auto"?s.slidesPerViewDynamic():Math.ceil(s.params.slidesPerView),i=s.activeIndex;if(s.params.grid&&s.params.grid.rows>1){const o=i,l=[o-t];l.push(...Array.from({length:t}).map((c,d)=>o+a+d)),s.slides.forEach((c,d)=>{l.includes(c.column)&&On(s,d)});return}const r=i+a-1;if(s.params.rewind||s.params.loop)for(let o=i-t;o<=r+t;o+=1){const l=(o%n+n)%n;(l<i||l>r)&&On(s,l)}else for(let o=Math.max(i-t,0);o<=Math.min(r+t,n-1);o+=1)o!==i&&(o>r||o<i)&&On(s,o)};function Ew(s){const{slidesGrid:t,params:n}=s,a=s.rtlTranslate?s.translate:-s.translate;let i;for(let r=0;r<t.length;r+=1)typeof t[r+1]<"u"?a>=t[r]&&a<t[r+1]-(t[r+1]-t[r])/2?i=r:a>=t[r]&&a<t[r+1]&&(i=r+1):a>=t[r]&&(i=r);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function Aw(s){const t=this,n=t.rtlTranslate?t.translate:-t.translate,{snapGrid:a,params:i,activeIndex:r,realIndex:o,snapIndex:l}=t;let c=s,d;const m=v=>{let x=v-t.virtual.slidesBefore;return x<0&&(x=t.virtual.slides.length+x),x>=t.virtual.slides.length&&(x-=t.virtual.slides.length),x};if(typeof c>"u"&&(c=Ew(t)),a.indexOf(n)>=0)d=a.indexOf(n);else{const v=Math.min(i.slidesPerGroupSkip,c);d=v+Math.floor((c-v)/i.slidesPerGroup)}if(d>=a.length&&(d=a.length-1),c===r&&!t.params.loop){d!==l&&(t.snapIndex=d,t.emit("snapIndexChange"));return}if(c===r&&t.params.loop&&t.virtual&&t.params.virtual.enabled){t.realIndex=m(c);return}const h=t.grid&&i.grid&&i.grid.rows>1;let p;if(t.virtual&&i.virtual.enabled&&i.loop)p=m(c);else if(h){const v=t.slides.find(g=>g.column===c);let x=parseInt(v.getAttribute("data-swiper-slide-index"),10);Number.isNaN(x)&&(x=Math.max(t.slides.indexOf(v),0)),p=Math.floor(x/i.grid.rows)}else if(t.slides[c]){const v=t.slides[c].getAttribute("data-swiper-slide-index");v?p=parseInt(v,10):p=c}else p=c;Object.assign(t,{previousSnapIndex:l,snapIndex:d,previousRealIndex:o,realIndex:p,previousIndex:r,activeIndex:c}),t.initialized&&aa(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(o!==p&&t.emit("realIndexChange"),t.emit("slideChange"))}function Pw(s,t){const n=this,a=n.params;let i=s.closest(`.${a.slideClass}, swiper-slide`);!i&&n.isElement&&t&&t.length>1&&t.includes(s)&&[...t.slice(t.indexOf(s)+1,t.length)].forEach(l=>{!i&&l.matches&&l.matches(`.${a.slideClass}, swiper-slide`)&&(i=l)});let r=!1,o;if(i){for(let l=0;l<n.slides.length;l+=1)if(n.slides[l]===i){r=!0,o=l;break}}if(i&&r)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}a.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var Iw={updateSize:ww,updateSlides:Nw,updateAutoHeight:Sw,updateSlidesOffset:Cw,updateSlidesProgress:kw,updateProgress:Tw,updateSlidesClasses:_w,updateActiveIndex:Aw,updateClickedSlide:Pw};function Dw(s){s===void 0&&(s=this.isHorizontal()?"x":"y");const t=this,{params:n,rtlTranslate:a,translate:i,wrapperEl:r}=t;if(n.virtualTranslate)return a?-i:i;if(n.cssMode)return i;let o=dw(r,s);return o+=t.cssOverflowAdjustment(),a&&(o=-o),o||0}function Mw(s,t){const n=this,{rtlTranslate:a,params:i,wrapperEl:r,progress:o}=n;let l=0,c=0;const d=0;n.isHorizontal()?l=a?-s:s:c=s,i.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c,i.cssMode?r[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:i.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),r.style.transform=`translate3d(${l}px, ${c}px, ${d}px)`);let m;const h=n.maxTranslate()-n.minTranslate();h===0?m=0:m=(s-n.minTranslate())/h,m!==o&&n.updateProgress(s),n.emit("setTranslate",n.translate,t)}function Lw(){return-this.snapGrid[0]}function Rw(){return-this.snapGrid[this.snapGrid.length-1]}function $w(s,t,n,a,i){s===void 0&&(s=0),t===void 0&&(t=this.params.speed),n===void 0&&(n=!0),a===void 0&&(a=!0);const r=this,{params:o,wrapperEl:l}=r;if(r.animating&&o.preventInteractionOnTransition)return!1;const c=r.minTranslate(),d=r.maxTranslate();let m;if(a&&s>c?m=c:a&&s<d?m=d:m=s,r.updateProgress(m),o.cssMode){const h=r.isHorizontal();if(t===0)l[h?"scrollLeft":"scrollTop"]=-m;else{if(!r.support.smoothScroll)return lo({swiper:r,targetPosition:-m,side:h?"left":"top"}),!0;l.scrollTo({[h?"left":"top"]:-m,behavior:"smooth"})}return!0}return t===0?(r.setTransition(0),r.setTranslate(m),n&&(r.emit("beforeTransitionStart",t,i),r.emit("transitionEnd"))):(r.setTransition(t),r.setTranslate(m),n&&(r.emit("beforeTransitionStart",t,i),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(p){!r||r.destroyed||p.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,r.animating=!1,n&&r.emit("transitionEnd"))}),r.wrapperEl.addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd))),!0}var Fw={getTranslate:Dw,setTranslate:Mw,minTranslate:Lw,maxTranslate:Rw,translateTo:$w};function Ow(s,t){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${s}ms`,n.wrapperEl.style.transitionDelay=s===0?"0ms":""),n.emit("setTransition",s,t)}function mo(s){let{swiper:t,runCallbacks:n,direction:a,step:i}=s;const{activeIndex:r,previousIndex:o}=t;let l=a;if(l||(r>o?l="next":r<o?l="prev":l="reset"),t.emit(`transition${i}`),n&&r!==o){if(l==="reset"){t.emit(`slideResetTransition${i}`);return}t.emit(`slideChangeTransition${i}`),l==="next"?t.emit(`slideNextTransition${i}`):t.emit(`slidePrevTransition${i}`)}}function zw(s,t){s===void 0&&(s=!0);const n=this,{params:a}=n;a.cssMode||(a.autoHeight&&n.updateAutoHeight(),mo({swiper:n,runCallbacks:s,direction:t,step:"Start"}))}function Bw(s,t){s===void 0&&(s=!0);const n=this,{params:a}=n;n.animating=!1,!a.cssMode&&(n.setTransition(0),mo({swiper:n,runCallbacks:s,direction:t,step:"End"}))}var Hw={setTransition:Ow,transitionStart:zw,transitionEnd:Bw};function qw(s,t,n,a,i){s===void 0&&(s=0),n===void 0&&(n=!0),typeof s=="string"&&(s=parseInt(s,10));const r=this;let o=s;o<0&&(o=0);const{params:l,snapGrid:c,slidesGrid:d,previousIndex:m,activeIndex:h,rtlTranslate:p,wrapperEl:v,enabled:x}=r;if(!x&&!a&&!i||r.destroyed||r.animating&&l.preventInteractionOnTransition)return!1;typeof t>"u"&&(t=r.params.speed);const g=Math.min(r.params.slidesPerGroupSkip,o);let y=g+Math.floor((o-g)/r.params.slidesPerGroup);y>=c.length&&(y=c.length-1);const j=-c[y];if(l.normalizeSlideIndex)for(let z=0;z<d.length;z+=1){const F=-Math.floor(j*100),D=Math.floor(d[z]*100),C=Math.floor(d[z+1]*100);typeof d[z+1]<"u"?F>=D&&F<C-(C-D)/2?o=z:F>=D&&F<C&&(o=z+1):F>=D&&(o=z)}if(r.initialized&&o!==h&&(!r.allowSlideNext&&(p?j>r.translate&&j>r.minTranslate():j<r.translate&&j<r.minTranslate())||!r.allowSlidePrev&&j>r.translate&&j>r.maxTranslate()&&(h||0)!==o))return!1;o!==(m||0)&&n&&r.emit("beforeSlideChangeStart"),r.updateProgress(j);let f;o>h?f="next":o<h?f="prev":f="reset";const b=r.virtual&&r.params.virtual.enabled;if(!(b&&i)&&(p&&-j===r.translate||!p&&j===r.translate))return r.updateActiveIndex(o),l.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),l.effect!=="slide"&&r.setTranslate(j),f!=="reset"&&(r.transitionStart(n,f),r.transitionEnd(n,f)),!1;if(l.cssMode){const z=r.isHorizontal(),F=p?j:-j;if(t===0)b&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),b&&!r._cssModeVirtualInitialSet&&r.params.initialSlide>0?(r._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{v[z?"scrollLeft":"scrollTop"]=F})):v[z?"scrollLeft":"scrollTop"]=F,b&&requestAnimationFrame(()=>{r.wrapperEl.style.scrollSnapType="",r._immediateVirtual=!1});else{if(!r.support.smoothScroll)return lo({swiper:r,targetPosition:F,side:z?"left":"top"}),!0;v.scrollTo({[z?"left":"top"]:F,behavior:"smooth"})}return!0}const E=ho().isSafari;return b&&!i&&E&&r.isElement&&r.virtual.update(!1,!1,o),r.setTransition(t),r.setTranslate(j),r.updateActiveIndex(o),r.updateSlidesClasses(),r.emit("beforeTransitionStart",t,a),r.transitionStart(n,f),t===0?r.transitionEnd(n,f):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(F){!r||r.destroyed||F.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(n,f))}),r.wrapperEl.addEventListener("transitionend",r.onSlideToWrapperTransitionEnd)),!0}function Vw(s,t,n,a){s===void 0&&(s=0),n===void 0&&(n=!0),typeof s=="string"&&(s=parseInt(s,10));const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);const r=i.grid&&i.params.grid&&i.params.grid.rows>1;let o=s;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)o=o+i.virtual.slidesBefore;else{let l;if(r){const p=o*i.params.grid.rows;l=i.slides.find(v=>v.getAttribute("data-swiper-slide-index")*1===p).column}else l=i.getSlideIndexByData(o);const c=r?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:d}=i.params;let m=i.params.slidesPerView;m==="auto"?m=i.slidesPerViewDynamic():(m=Math.ceil(parseFloat(i.params.slidesPerView,10)),d&&m%2===0&&(m=m+1));let h=c-l<m;if(d&&(h=h||l<Math.ceil(m/2)),a&&d&&i.params.slidesPerView!=="auto"&&!r&&(h=!1),h){const p=d?l<i.activeIndex?"prev":"next":l-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:p,slideTo:!0,activeSlideIndex:p==="next"?l+1:l-c+1,slideRealIndex:p==="next"?i.realIndex:void 0})}if(r){const p=o*i.params.grid.rows;o=i.slides.find(v=>v.getAttribute("data-swiper-slide-index")*1===p).column}else o=i.getSlideIndexByData(o)}return requestAnimationFrame(()=>{i.slideTo(o,t,n,a)}),i}function Gw(s,t,n){t===void 0&&(t=!0);const a=this,{enabled:i,params:r,animating:o}=a;if(!i||a.destroyed)return a;typeof s>"u"&&(s=a.params.speed);let l=r.slidesPerGroup;r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(l=Math.max(a.slidesPerViewDynamic("current",!0),1));const c=a.activeIndex<r.slidesPerGroupSkip?1:l,d=a.virtual&&r.virtual.enabled;if(r.loop){if(o&&!d&&r.loopPreventsSliding)return!1;if(a.loopFix({direction:"next"}),a._clientLeft=a.wrapperEl.clientLeft,a.activeIndex===a.slides.length-1&&r.cssMode)return requestAnimationFrame(()=>{a.slideTo(a.activeIndex+c,s,t,n)}),!0}return r.rewind&&a.isEnd?a.slideTo(0,s,t,n):a.slideTo(a.activeIndex+c,s,t,n)}function Uw(s,t,n){t===void 0&&(t=!0);const a=this,{params:i,snapGrid:r,slidesGrid:o,rtlTranslate:l,enabled:c,animating:d}=a;if(!c||a.destroyed)return a;typeof s>"u"&&(s=a.params.speed);const m=a.virtual&&i.virtual.enabled;if(i.loop){if(d&&!m&&i.loopPreventsSliding)return!1;a.loopFix({direction:"prev"}),a._clientLeft=a.wrapperEl.clientLeft}const h=l?a.translate:-a.translate;function p(f){return f<0?-Math.floor(Math.abs(f)):Math.floor(f)}const v=p(h),x=r.map(f=>p(f)),g=i.freeMode&&i.freeMode.enabled;let y=r[x.indexOf(v)-1];if(typeof y>"u"&&(i.cssMode||g)){let f;r.forEach((b,w)=>{v>=b&&(f=w)}),typeof f<"u"&&(y=g?r[f]:r[f>0?f-1:f])}let j=0;if(typeof y<"u"&&(j=o.indexOf(y),j<0&&(j=a.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(j=j-a.slidesPerViewDynamic("previous",!0)+1,j=Math.max(j,0))),i.rewind&&a.isBeginning){const f=a.params.virtual&&a.params.virtual.enabled&&a.virtual?a.virtual.slides.length-1:a.slides.length-1;return a.slideTo(f,s,t,n)}else if(i.loop&&a.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{a.slideTo(j,s,t,n)}),!0;return a.slideTo(j,s,t,n)}function Ww(s,t,n){t===void 0&&(t=!0);const a=this;if(!a.destroyed)return typeof s>"u"&&(s=a.params.speed),a.slideTo(a.activeIndex,s,t,n)}function Kw(s,t,n,a){t===void 0&&(t=!0),a===void 0&&(a=.5);const i=this;if(i.destroyed)return;typeof s>"u"&&(s=i.params.speed);let r=i.activeIndex;const o=Math.min(i.params.slidesPerGroupSkip,r),l=o+Math.floor((r-o)/i.params.slidesPerGroup),c=i.rtlTranslate?i.translate:-i.translate;if(c>=i.snapGrid[l]){const d=i.snapGrid[l],m=i.snapGrid[l+1];c-d>(m-d)*a&&(r+=i.params.slidesPerGroup)}else{const d=i.snapGrid[l-1],m=i.snapGrid[l];c-d<=(m-d)*a&&(r-=i.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,i.slidesGrid.length-1),i.slideTo(r,s,t,n)}function Qw(){const s=this;if(s.destroyed)return;const{params:t,slidesEl:n}=s,a=t.slidesPerView==="auto"?s.slidesPerViewDynamic():t.slidesPerView;let i=s.clickedIndex,r;const o=s.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(s.animating)return;r=parseInt(s.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?i<s.loopedSlides-a/2||i>s.slides.length-s.loopedSlides+a/2?(s.loopFix(),i=s.getSlideIndex(lt(n,`${o}[data-swiper-slide-index="${r}"]`)[0]),sa(()=>{s.slideTo(i)})):s.slideTo(i):i>s.slides.length-a?(s.loopFix(),i=s.getSlideIndex(lt(n,`${o}[data-swiper-slide-index="${r}"]`)[0]),sa(()=>{s.slideTo(i)})):s.slideTo(i)}else s.slideTo(i)}var Xw={slideTo:qw,slideToLoop:Vw,slideNext:Gw,slidePrev:Uw,slideReset:Ww,slideToClosest:Kw,slideToClickedSlide:Qw};function Yw(s,t){const n=this,{params:a,slidesEl:i}=n;if(!a.loop||n.virtual&&n.params.virtual.enabled)return;const r=()=>{lt(i,`.${a.slideClass}, swiper-slide`).forEach((p,v)=>{p.setAttribute("data-swiper-slide-index",v)})},o=n.grid&&a.grid&&a.grid.rows>1,l=a.slidesPerGroup*(o?a.grid.rows:1),c=n.slides.length%l!==0,d=o&&n.slides.length%a.grid.rows!==0,m=h=>{for(let p=0;p<h;p+=1){const v=n.isElement?As("swiper-slide",[a.slideBlankClass]):As("div",[a.slideClass,a.slideBlankClass]);n.slidesEl.append(v)}};if(c){if(a.loopAddBlankSlides){const h=l-n.slides.length%l;m(h),n.recalcSlides(),n.updateSlides()}else un("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else if(d){if(a.loopAddBlankSlides){const h=a.grid.rows-n.slides.length%a.grid.rows;m(h),n.recalcSlides(),n.updateSlides()}else un("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else r();n.loopFix({slideRealIndex:s,direction:a.centeredSlides?void 0:"next",initial:t})}function Zw(s){let{slideRealIndex:t,slideTo:n=!0,direction:a,setTranslate:i,activeSlideIndex:r,initial:o,byController:l,byMousewheel:c}=s===void 0?{}:s;const d=this;if(!d.params.loop)return;d.emit("beforeLoopFix");const{slides:m,allowSlidePrev:h,allowSlideNext:p,slidesEl:v,params:x}=d,{centeredSlides:g,initialSlide:y}=x;if(d.allowSlidePrev=!0,d.allowSlideNext=!0,d.virtual&&x.virtual.enabled){n&&(!x.centeredSlides&&d.snapIndex===0?d.slideTo(d.virtual.slides.length,0,!1,!0):x.centeredSlides&&d.snapIndex<x.slidesPerView?d.slideTo(d.virtual.slides.length+d.snapIndex,0,!1,!0):d.snapIndex===d.snapGrid.length-1&&d.slideTo(d.virtual.slidesBefore,0,!1,!0)),d.allowSlidePrev=h,d.allowSlideNext=p,d.emit("loopFix");return}let j=x.slidesPerView;j==="auto"?j=d.slidesPerViewDynamic():(j=Math.ceil(parseFloat(x.slidesPerView,10)),g&&j%2===0&&(j=j+1));const f=x.slidesPerGroupAuto?j:x.slidesPerGroup;let b=f;b%f!==0&&(b+=f-b%f),b+=x.loopAdditionalSlides,d.loopedSlides=b;const w=d.grid&&x.grid&&x.grid.rows>1;m.length<j+b||d.params.effect==="cards"&&m.length<j+b*2?un("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):w&&x.grid.fill==="row"&&un("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const T=[],E=[],z=w?Math.ceil(m.length/x.grid.rows):m.length,F=o&&z-y<j&&!g;let D=F?y:d.activeIndex;typeof r>"u"?r=d.getSlideIndex(m.find(M=>M.classList.contains(x.slideActiveClass))):D=r;const C=a==="next"||!a,S=a==="prev"||!a;let N=0,I=0;const V=(w?m[r].column:r)+(g&&typeof i>"u"?-j/2+.5:0);if(V<b){N=Math.max(b-V,f);for(let M=0;M<b-V;M+=1){const k=M-Math.floor(M/z)*z;if(w){const A=z-k-1;for(let B=m.length-1;B>=0;B-=1)m[B].column===A&&T.push(B)}else T.push(z-k-1)}}else if(V+j>z-b){I=Math.max(V-(z-b*2),f),F&&(I=Math.max(I,j-z+y+1));for(let M=0;M<I;M+=1){const k=M-Math.floor(M/z)*z;w?m.forEach((A,B)=>{A.column===k&&E.push(B)}):E.push(k)}}if(d.__preventObserver__=!0,requestAnimationFrame(()=>{d.__preventObserver__=!1}),d.params.effect==="cards"&&m.length<j+b*2&&(E.includes(r)&&E.splice(E.indexOf(r),1),T.includes(r)&&T.splice(T.indexOf(r),1)),S&&T.forEach(M=>{m[M].swiperLoopMoveDOM=!0,v.prepend(m[M]),m[M].swiperLoopMoveDOM=!1}),C&&E.forEach(M=>{m[M].swiperLoopMoveDOM=!0,v.append(m[M]),m[M].swiperLoopMoveDOM=!1}),d.recalcSlides(),x.slidesPerView==="auto"?d.updateSlides():w&&(T.length>0&&S||E.length>0&&C)&&d.slides.forEach((M,k)=>{d.grid.updateSlide(k,M,d.slides)}),x.watchSlidesProgress&&d.updateSlidesOffset(),n){if(T.length>0&&S){if(typeof t>"u"){const M=d.slidesGrid[D],A=d.slidesGrid[D+N]-M;c?d.setTranslate(d.translate-A):(d.slideTo(D+Math.ceil(N),0,!1,!0),i&&(d.touchEventsData.startTranslate=d.touchEventsData.startTranslate-A,d.touchEventsData.currentTranslate=d.touchEventsData.currentTranslate-A))}else if(i){const M=w?T.length/x.grid.rows:T.length;d.slideTo(d.activeIndex+M,0,!1,!0),d.touchEventsData.currentTranslate=d.translate}}else if(E.length>0&&C)if(typeof t>"u"){const M=d.slidesGrid[D],A=d.slidesGrid[D-I]-M;c?d.setTranslate(d.translate-A):(d.slideTo(D-I,0,!1,!0),i&&(d.touchEventsData.startTranslate=d.touchEventsData.startTranslate-A,d.touchEventsData.currentTranslate=d.touchEventsData.currentTranslate-A))}else{const M=w?E.length/x.grid.rows:E.length;d.slideTo(d.activeIndex-M,0,!1,!0)}}if(d.allowSlidePrev=h,d.allowSlideNext=p,d.controller&&d.controller.control&&!l){const M={slideRealIndex:t,direction:a,setTranslate:i,activeSlideIndex:r,byController:!0};Array.isArray(d.controller.control)?d.controller.control.forEach(k=>{!k.destroyed&&k.params.loop&&k.loopFix({...M,slideTo:k.params.slidesPerView===x.slidesPerView?n:!1})}):d.controller.control instanceof d.constructor&&d.controller.control.params.loop&&d.controller.control.loopFix({...M,slideTo:d.controller.control.params.slidesPerView===x.slidesPerView?n:!1})}d.emit("loopFix")}function Jw(){const s=this,{params:t,slidesEl:n}=s;if(!t.loop||!n||s.virtual&&s.params.virtual.enabled)return;s.recalcSlides();const a=[];s.slides.forEach(i=>{const r=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;a[r]=i}),s.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),a.forEach(i=>{n.append(i)}),s.recalcSlides(),s.slideTo(s.realIndex,0)}var e2={loopCreate:Yw,loopFix:Zw,loopDestroy:Jw};function t2(s){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const n=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=s?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function s2(){const s=this;s.params.watchOverflow&&s.isLocked||s.params.cssMode||(s.isElement&&(s.__preventObserver__=!0),s[s.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",s.isElement&&requestAnimationFrame(()=>{s.__preventObserver__=!1}))}var n2={setGrabCursor:t2,unsetGrabCursor:s2};function a2(s,t){t===void 0&&(t=this);function n(a){if(!a||a===gt()||a===ze())return null;a.assignedSlot&&(a=a.assignedSlot);const i=a.closest(s);return!i&&!a.getRootNode?null:i||n(a.getRootNode().host)}return n(t)}function Wi(s,t,n){const a=ze(),{params:i}=s,r=i.edgeSwipeDetection,o=i.edgeSwipeThreshold;return r&&(n<=o||n>=a.innerWidth-o)?r==="prevent"?(t.preventDefault(),!0):!1:!0}function i2(s){const t=this,n=gt();let a=s;a.originalEvent&&(a=a.originalEvent);const i=t.touchEventsData;if(a.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==a.pointerId)return;i.pointerId=a.pointerId}else a.type==="touchstart"&&a.targetTouches.length===1&&(i.touchId=a.targetTouches[0].identifier);if(a.type==="touchstart"){Wi(t,a,a.targetTouches[0].pageX);return}const{params:r,touches:o,enabled:l}=t;if(!l||!r.simulateTouch&&a.pointerType==="mouse"||t.animating&&r.preventInteractionOnTransition)return;!t.animating&&r.cssMode&&r.loop&&t.loopFix();let c=a.target;if(r.touchEventsTarget==="wrapper"&&!mw(c,t.wrapperEl)||"which"in a&&a.which===3||"button"in a&&a.button>0||i.isTouched&&i.isMoved)return;const d=!!r.noSwipingClass&&r.noSwipingClass!=="",m=a.composedPath?a.composedPath():a.path;d&&a.target&&a.target.shadowRoot&&m&&(c=m[0]);const h=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,p=!!(a.target&&a.target.shadowRoot);if(r.noSwiping&&(p?a2(h,c):c.closest(h))){t.allowClick=!0;return}if(r.swipeHandler&&!c.closest(r.swipeHandler))return;o.currentX=a.pageX,o.currentY=a.pageY;const v=o.currentX,x=o.currentY;if(!Wi(t,a,v))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=v,o.startY=x,i.touchStartTime=dn(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,r.threshold>0&&(i.allowThresholdMove=!1);let g=!0;c.matches(i.focusableElements)&&(g=!1,c.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==c&&(a.pointerType==="mouse"||a.pointerType!=="mouse"&&!c.matches(i.focusableElements))&&n.activeElement.blur();const y=g&&t.allowTouchMove&&r.touchStartPreventDefault;(r.touchStartForcePreventDefault||y)&&!c.isContentEditable&&a.preventDefault(),r.freeMode&&r.freeMode.enabled&&t.freeMode&&t.animating&&!r.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",a)}function r2(s){const t=gt(),n=this,a=n.touchEventsData,{params:i,touches:r,rtlTranslate:o,enabled:l}=n;if(!l||!i.simulateTouch&&s.pointerType==="mouse")return;let c=s;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(a.touchId!==null||c.pointerId!==a.pointerId))return;let d;if(c.type==="touchmove"){if(d=[...c.changedTouches].find(T=>T.identifier===a.touchId),!d||d.identifier!==a.touchId)return}else d=c;if(!a.isTouched){a.startMoving&&a.isScrolling&&n.emit("touchMoveOpposite",c);return}const m=d.pageX,h=d.pageY;if(c.preventedByNestedSwiper){r.startX=m,r.startY=h;return}if(!n.allowTouchMove){c.target.matches(a.focusableElements)||(n.allowClick=!1),a.isTouched&&(Object.assign(r,{startX:m,startY:h,currentX:m,currentY:h}),a.touchStartTime=dn());return}if(i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(h<r.startY&&n.translate<=n.maxTranslate()||h>r.startY&&n.translate>=n.minTranslate()){a.isTouched=!1,a.isMoved=!1;return}}else{if(o&&(m>r.startX&&-n.translate<=n.maxTranslate()||m<r.startX&&-n.translate>=n.minTranslate()))return;if(!o&&(m<r.startX&&n.translate<=n.maxTranslate()||m>r.startX&&n.translate>=n.minTranslate()))return}if(t.activeElement&&t.activeElement.matches(a.focusableElements)&&t.activeElement!==c.target&&c.pointerType!=="mouse"&&t.activeElement.blur(),t.activeElement&&c.target===t.activeElement&&c.target.matches(a.focusableElements)){a.isMoved=!0,n.allowClick=!1;return}a.allowTouchCallbacks&&n.emit("touchMove",c),r.previousX=r.currentX,r.previousY=r.currentY,r.currentX=m,r.currentY=h;const p=r.currentX-r.startX,v=r.currentY-r.startY;if(n.params.threshold&&Math.sqrt(p**2+v**2)<n.params.threshold)return;if(typeof a.isScrolling>"u"){let T;n.isHorizontal()&&r.currentY===r.startY||n.isVertical()&&r.currentX===r.startX?a.isScrolling=!1:p*p+v*v>=25&&(T=Math.atan2(Math.abs(v),Math.abs(p))*180/Math.PI,a.isScrolling=n.isHorizontal()?T>i.touchAngle:90-T>i.touchAngle)}if(a.isScrolling&&n.emit("touchMoveOpposite",c),typeof a.startMoving>"u"&&(r.currentX!==r.startX||r.currentY!==r.startY)&&(a.startMoving=!0),a.isScrolling||c.type==="touchmove"&&a.preventTouchMoveFromPointerMove){a.isTouched=!1;return}if(!a.startMoving)return;n.allowClick=!1,!i.cssMode&&c.cancelable&&c.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&c.stopPropagation();let x=n.isHorizontal()?p:v,g=n.isHorizontal()?r.currentX-r.previousX:r.currentY-r.previousY;i.oneWayMovement&&(x=Math.abs(x)*(o?1:-1),g=Math.abs(g)*(o?1:-1)),r.diff=x,x*=i.touchRatio,o&&(x=-x,g=-g);const y=n.touchesDirection;n.swipeDirection=x>0?"prev":"next",n.touchesDirection=g>0?"prev":"next";const j=n.params.loop&&!i.cssMode,f=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!a.isMoved){if(j&&f&&n.loopFix({direction:n.swipeDirection}),a.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const T=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(T)}a.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}if(new Date().getTime(),i._loopSwapReset!==!1&&a.isMoved&&a.allowThresholdMove&&y!==n.touchesDirection&&j&&f&&Math.abs(x)>=1){Object.assign(r,{startX:m,startY:h,currentX:m,currentY:h,startTranslate:a.currentTranslate}),a.loopSwapReset=!0,a.startTranslate=a.currentTranslate;return}n.emit("sliderMove",c),a.isMoved=!0,a.currentTranslate=x+a.startTranslate;let b=!0,w=i.resistanceRatio;if(i.touchReleaseOnEdges&&(w=0),x>0?(j&&f&&a.allowThresholdMove&&a.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),a.currentTranslate>n.minTranslate()&&(b=!1,i.resistance&&(a.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+a.startTranslate+x)**w))):x<0&&(j&&f&&a.allowThresholdMove&&a.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),a.currentTranslate<n.maxTranslate()&&(b=!1,i.resistance&&(a.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-a.startTranslate-x)**w))),b&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&a.currentTranslate<a.startTranslate&&(a.currentTranslate=a.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&a.currentTranslate>a.startTranslate&&(a.currentTranslate=a.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(a.currentTranslate=a.startTranslate),i.threshold>0)if(Math.abs(x)>i.threshold||a.allowThresholdMove){if(!a.allowThresholdMove){a.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,a.currentTranslate=a.startTranslate,r.diff=n.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY;return}}else{a.currentTranslate=a.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(a.currentTranslate),n.setTranslate(a.currentTranslate))}function l2(s){const t=this,n=t.touchEventsData;let a=s;a.originalEvent&&(a=a.originalEvent);let i;if(a.type==="touchend"||a.type==="touchcancel"){if(i=[...a.changedTouches].find(T=>T.identifier===n.touchId),!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||a.pointerId!==n.pointerId)return;i=a}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(a.type)&&!(["pointercancel","contextmenu"].includes(a.type)&&(t.browser.isSafari||t.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:l,rtlTranslate:c,slidesGrid:d,enabled:m}=t;if(!m||!o.simulateTouch&&a.pointerType==="mouse")return;if(n.allowTouchCallbacks&&t.emit("touchEnd",a),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const h=dn(),p=h-n.touchStartTime;if(t.allowClick){const T=a.path||a.composedPath&&a.composedPath();t.updateClickedSlide(T&&T[0]||a.target,T),t.emit("tap click",a),p<300&&h-n.lastClickTime<300&&t.emit("doubleTap doubleClick",a)}if(n.lastClickTime=dn(),sa(()=>{t.destroyed||(t.allowClick=!0)}),!n.isTouched||!n.isMoved||!t.swipeDirection||l.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let v;if(o.followFinger?v=c?t.translate:-t.translate:v=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:v});return}const x=v>=-t.maxTranslate()&&!t.params.loop;let g=0,y=t.slidesSizesGrid[0];for(let T=0;T<d.length;T+=T<o.slidesPerGroupSkip?1:o.slidesPerGroup){const E=T<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof d[T+E]<"u"?(x||v>=d[T]&&v<d[T+E])&&(g=T,y=d[T+E]-d[T]):(x||v>=d[T])&&(g=T,y=d[d.length-1]-d[d.length-2])}let j=null,f=null;o.rewind&&(t.isBeginning?f=o.virtual&&o.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(j=0));const b=(v-d[g])/y,w=g<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(p>o.longSwipesMs){if(!o.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(b>=o.longSwipesRatio?t.slideTo(o.rewind&&t.isEnd?j:g+w):t.slideTo(g)),t.swipeDirection==="prev"&&(b>1-o.longSwipesRatio?t.slideTo(g+w):f!==null&&b<0&&Math.abs(b)>o.longSwipesRatio?t.slideTo(f):t.slideTo(g))}else{if(!o.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(a.target===t.navigation.nextEl||a.target===t.navigation.prevEl)?a.target===t.navigation.nextEl?t.slideTo(g+w):t.slideTo(g):(t.swipeDirection==="next"&&t.slideTo(j!==null?j:g+w),t.swipeDirection==="prev"&&t.slideTo(f!==null?f:g))}}function Ki(){const s=this,{params:t,el:n}=s;if(n&&n.offsetWidth===0)return;t.breakpoints&&s.setBreakpoint();const{allowSlideNext:a,allowSlidePrev:i,snapGrid:r}=s,o=s.virtual&&s.params.virtual.enabled;s.allowSlideNext=!0,s.allowSlidePrev=!0,s.updateSize(),s.updateSlides(),s.updateSlidesClasses();const l=o&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&s.isEnd&&!s.isBeginning&&!s.params.centeredSlides&&!l?s.slideTo(s.slides.length-1,0,!1,!0):s.params.loop&&!o?s.slideToLoop(s.realIndex,0,!1,!0):s.slideTo(s.activeIndex,0,!1,!0),s.autoplay&&s.autoplay.running&&s.autoplay.paused&&(clearTimeout(s.autoplay.resizeTimeout),s.autoplay.resizeTimeout=setTimeout(()=>{s.autoplay&&s.autoplay.running&&s.autoplay.paused&&s.autoplay.resume()},500)),s.allowSlidePrev=i,s.allowSlideNext=a,s.params.watchOverflow&&r!==s.snapGrid&&s.checkOverflow()}function o2(s){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&s.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(s.stopPropagation(),s.stopImmediatePropagation())))}function c2(){const s=this,{wrapperEl:t,rtlTranslate:n,enabled:a}=s;if(!a)return;s.previousTranslate=s.translate,s.isHorizontal()?s.translate=-t.scrollLeft:s.translate=-t.scrollTop,s.translate===0&&(s.translate=0),s.updateActiveIndex(),s.updateSlidesClasses();let i;const r=s.maxTranslate()-s.minTranslate();r===0?i=0:i=(s.translate-s.minTranslate())/r,i!==s.progress&&s.updateProgress(n?-s.translate:s.translate),s.emit("setTranslate",s.translate,!1)}function d2(s){const t=this;tn(t,s.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}function u2(){const s=this;s.documentTouchHandlerProceeded||(s.documentTouchHandlerProceeded=!0,s.params.touchReleaseOnEdges&&(s.el.style.touchAction="auto"))}const po=(s,t)=>{const n=gt(),{params:a,el:i,wrapperEl:r,device:o}=s,l=!!a.nested,c=t==="on"?"addEventListener":"removeEventListener",d=t;!i||typeof i=="string"||(n[c]("touchstart",s.onDocumentTouchStart,{passive:!1,capture:l}),i[c]("touchstart",s.onTouchStart,{passive:!1}),i[c]("pointerdown",s.onTouchStart,{passive:!1}),n[c]("touchmove",s.onTouchMove,{passive:!1,capture:l}),n[c]("pointermove",s.onTouchMove,{passive:!1,capture:l}),n[c]("touchend",s.onTouchEnd,{passive:!0}),n[c]("pointerup",s.onTouchEnd,{passive:!0}),n[c]("pointercancel",s.onTouchEnd,{passive:!0}),n[c]("touchcancel",s.onTouchEnd,{passive:!0}),n[c]("pointerout",s.onTouchEnd,{passive:!0}),n[c]("pointerleave",s.onTouchEnd,{passive:!0}),n[c]("contextmenu",s.onTouchEnd,{passive:!0}),(a.preventClicks||a.preventClicksPropagation)&&i[c]("click",s.onClick,!0),a.cssMode&&r[c]("scroll",s.onScroll),a.updateOnWindowResize?s[d](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",Ki,!0):s[d]("observerUpdate",Ki,!0),i[c]("load",s.onLoad,{capture:!0}))};function h2(){const s=this,{params:t}=s;s.onTouchStart=i2.bind(s),s.onTouchMove=r2.bind(s),s.onTouchEnd=l2.bind(s),s.onDocumentTouchStart=u2.bind(s),t.cssMode&&(s.onScroll=c2.bind(s)),s.onClick=o2.bind(s),s.onLoad=d2.bind(s),po(s,"on")}function m2(){po(this,"off")}var p2={attachEvents:h2,detachEvents:m2};const Qi=(s,t)=>s.grid&&t.grid&&t.grid.rows>1;function x2(){const s=this,{realIndex:t,initialized:n,params:a,el:i}=s,r=a.breakpoints;if(!r||r&&Object.keys(r).length===0)return;const o=gt(),l=a.breakpointsBase==="window"||!a.breakpointsBase?a.breakpointsBase:"container",c=["window","container"].includes(a.breakpointsBase)||!a.breakpointsBase?s.el:o.querySelector(a.breakpointsBase),d=s.getBreakpoint(r,l,c);if(!d||s.currentBreakpoint===d)return;const h=(d in r?r[d]:void 0)||s.originalParams,p=Qi(s,a),v=Qi(s,h),x=s.params.grabCursor,g=h.grabCursor,y=a.enabled;p&&!v?(i.classList.remove(`${a.containerModifierClass}grid`,`${a.containerModifierClass}grid-column`),s.emitContainerClasses()):!p&&v&&(i.classList.add(`${a.containerModifierClass}grid`),(h.grid.fill&&h.grid.fill==="column"||!h.grid.fill&&a.grid.fill==="column")&&i.classList.add(`${a.containerModifierClass}grid-column`),s.emitContainerClasses()),x&&!g?s.unsetGrabCursor():!x&&g&&s.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(E=>{if(typeof h[E]>"u")return;const z=a[E]&&a[E].enabled,F=h[E]&&h[E].enabled;z&&!F&&s[E].disable(),!z&&F&&s[E].enable()});const j=h.direction&&h.direction!==a.direction,f=a.loop&&(h.slidesPerView!==a.slidesPerView||j),b=a.loop;j&&n&&s.changeDirection(),Ue(s.params,h);const w=s.params.enabled,T=s.params.loop;Object.assign(s,{allowTouchMove:s.params.allowTouchMove,allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev}),y&&!w?s.disable():!y&&w&&s.enable(),s.currentBreakpoint=d,s.emit("_beforeBreakpoint",h),n&&(f?(s.loopDestroy(),s.loopCreate(t),s.updateSlides()):!b&&T?(s.loopCreate(t),s.updateSlides()):b&&!T&&s.loopDestroy()),s.emit("breakpoint",h)}function f2(s,t,n){if(t===void 0&&(t="window"),!s||t==="container"&&!n)return;let a=!1;const i=ze(),r=t==="window"?i.innerHeight:n.clientHeight,o=Object.keys(s).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const c=parseFloat(l.substr(1));return{value:r*c,point:l}}return{value:l,point:l}});o.sort((l,c)=>parseInt(l.value,10)-parseInt(c.value,10));for(let l=0;l<o.length;l+=1){const{point:c,value:d}=o[l];t==="window"?i.matchMedia(`(min-width: ${d}px)`).matches&&(a=c):d<=n.clientWidth&&(a=c)}return a||"max"}var g2={setBreakpoint:x2,getBreakpoint:f2};function v2(s,t){const n=[];return s.forEach(a=>{typeof a=="object"?Object.keys(a).forEach(i=>{a[i]&&n.push(t+i)}):typeof a=="string"&&n.push(t+a)}),n}function y2(){const s=this,{classNames:t,params:n,rtl:a,el:i,device:r}=s,o=v2(["initialized",n.direction,{"free-mode":s.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:a},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:r.android},{ios:r.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push(...o),i.classList.add(...t),s.emitContainerClasses()}function j2(){const s=this,{el:t,classNames:n}=s;!t||typeof t=="string"||(t.classList.remove(...n),s.emitContainerClasses())}var b2={addClasses:y2,removeClasses:j2};function w2(){const s=this,{isLocked:t,params:n}=s,{slidesOffsetBefore:a}=n;if(a){const i=s.slides.length-1,r=s.slidesGrid[i]+s.slidesSizesGrid[i]+a*2;s.isLocked=s.size>r}else s.isLocked=s.snapGrid.length===1;n.allowSlideNext===!0&&(s.allowSlideNext=!s.isLocked),n.allowSlidePrev===!0&&(s.allowSlidePrev=!s.isLocked),t&&t!==s.isLocked&&(s.isEnd=!1),t!==s.isLocked&&s.emit(s.isLocked?"lock":"unlock")}var N2={checkOverflow:w2},ia={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function S2(s,t){return function(a){a===void 0&&(a={});const i=Object.keys(a)[0],r=a[i];if(typeof r!="object"||r===null){Ue(t,a);return}if(s[i]===!0&&(s[i]={enabled:!0}),i==="navigation"&&s[i]&&s[i].enabled&&!s[i].prevEl&&!s[i].nextEl&&(s[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&s[i]&&s[i].enabled&&!s[i].el&&(s[i].auto=!0),!(i in s&&"enabled"in r)){Ue(t,a);return}typeof s[i]=="object"&&!("enabled"in s[i])&&(s[i].enabled=!0),s[i]||(s[i]={enabled:!1}),Ue(t,a)}}const zn={eventsEmitter:bw,update:Iw,translate:Fw,transition:Hw,slide:Xw,loop:e2,grabCursor:n2,events:p2,breakpoints:g2,checkOverflow:N2,classes:b2},Bn={};let Ua=class ht{constructor(){let t,n;for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[t,n]=i,n||(n={}),n=Ue({},n),t&&!n.el&&(n.el=t);const o=gt();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const m=[];return o.querySelectorAll(n.el).forEach(h=>{const p=Ue({},n,{el:h});m.push(new ht(p))}),m}const l=this;l.__swiper__=!0,l.support=co(),l.device=uo({userAgent:n.userAgent}),l.browser=ho(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],n.modules&&Array.isArray(n.modules)&&l.modules.push(...n.modules);const c={};l.modules.forEach(m=>{m({params:n,swiper:l,extendParams:S2(n,c),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const d=Ue({},ia,c);return l.params=Ue({},d,Bn,n),l.originalParams=Ue({},l.params),l.passedParams=Ue({},n),l.params&&l.params.on&&Object.keys(l.params.on).forEach(m=>{l.on(m,l.params.on[m])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(t){return this.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}getSlideIndex(t){const{slidesEl:n,params:a}=this,i=lt(n,`.${a.slideClass}, swiper-slide`),r=Ps(i[0]);return Ps(t)-r}getSlideIndexByData(t){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===t))}recalcSlides(){const t=this,{slidesEl:n,params:a}=t;t.slides=lt(n,`.${a.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,n){const a=this;t=Math.min(Math.max(t,0),1);const i=a.minTranslate(),o=(a.maxTranslate()-i)*t+i;a.translateTo(o,typeof n>"u"?0:n),a.updateActiveIndex(),a.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=t.el.className.split(" ").filter(a=>a.indexOf("swiper")===0||a.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",n.join(" "))}getSlideClasses(t){const n=this;return n.destroyed?"":t.className.split(" ").filter(a=>a.indexOf("swiper-slide")===0||a.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=[];t.slides.forEach(a=>{const i=t.getSlideClasses(a);n.push({slideEl:a,classNames:i}),t.emit("_slideClass",a,i)}),t.emit("_slideClasses",n)}slidesPerViewDynamic(t,n){t===void 0&&(t="current"),n===void 0&&(n=!1);const a=this,{params:i,slides:r,slidesGrid:o,slidesSizesGrid:l,size:c,activeIndex:d}=a;let m=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let h=r[d]?Math.ceil(r[d].swiperSlideSize):0,p;for(let v=d+1;v<r.length;v+=1)r[v]&&!p&&(h+=Math.ceil(r[v].swiperSlideSize),m+=1,h>c&&(p=!0));for(let v=d-1;v>=0;v-=1)r[v]&&!p&&(h+=r[v].swiperSlideSize,m+=1,h>c&&(p=!0))}else if(t==="current")for(let h=d+1;h<r.length;h+=1)(n?o[h]+l[h]-o[d]<c:o[h]-o[d]<c)&&(m+=1);else for(let h=d-1;h>=0;h-=1)o[d]-o[h]<c&&(m+=1);return m}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:n,params:a}=t;a.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&tn(t,o)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function i(){const o=t.rtlTranslate?t.translate*-1:t.translate,l=Math.min(Math.max(o,t.maxTranslate()),t.minTranslate());t.setTranslate(l),t.updateActiveIndex(),t.updateSlidesClasses()}let r;if(a.freeMode&&a.freeMode.enabled&&!a.cssMode)i(),a.autoHeight&&t.updateAutoHeight();else{if((a.slidesPerView==="auto"||a.slidesPerView>1)&&t.isEnd&&!a.centeredSlides){const o=t.virtual&&a.virtual.enabled?t.virtual.slides:t.slides;r=t.slideTo(o.length-1,0,!1,!0)}else r=t.slideTo(t.activeIndex,0,!1,!0);r||i()}a.watchOverflow&&n!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,n){n===void 0&&(n=!0);const a=this,i=a.params.direction;return t||(t=i==="horizontal"?"vertical":"horizontal"),t===i||t!=="horizontal"&&t!=="vertical"||(a.el.classList.remove(`${a.params.containerModifierClass}${i}`),a.el.classList.add(`${a.params.containerModifierClass}${t}`),a.emitContainerClasses(),a.params.direction=t,a.slides.forEach(r=>{t==="vertical"?r.style.width="":r.style.height=""}),a.emit("changeDirection"),n&&a.update()),a}changeLanguageDirection(t){const n=this;n.rtl&&t==="rtl"||!n.rtl&&t==="ltr"||(n.rtl=t==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(t){const n=this;if(n.mounted)return!0;let a=t||n.params.el;if(typeof a=="string"&&(a=document.querySelector(a)),!a)return!1;a.swiper=n,a.parentNode&&a.parentNode.host&&a.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=a&&a.shadowRoot&&a.shadowRoot.querySelector?a.shadowRoot.querySelector(i()):lt(a,i())[0];return!o&&n.params.createElements&&(o=As("div",n.params.wrapperClass),a.append(o),lt(a,`.${n.params.slideClass}`).forEach(l=>{o.append(l)})),Object.assign(n,{el:a,wrapperEl:o,slidesEl:n.isElement&&!a.parentNode.host.slideSlots?a.parentNode.host:o,hostEl:n.isElement?a.parentNode.host:a,mounted:!0,rtl:a.dir.toLowerCase()==="rtl"||At(a,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(a.dir.toLowerCase()==="rtl"||At(a,"direction")==="rtl"),wrongRTL:At(o,"display")==="-webkit-box"}),!0}init(t){const n=this;if(n.initialized||n.mount(t)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(r=>{r.complete?tn(n,r):r.addEventListener("load",o=>{tn(n,o.target)})}),aa(n),n.initialized=!0,aa(n),n.emit("init"),n.emit("afterInit"),n}destroy(t,n){t===void 0&&(t=!0),n===void 0&&(n=!0);const a=this,{params:i,el:r,wrapperEl:o,slides:l}=a;return typeof a.params>"u"||a.destroyed||(a.emit("beforeDestroy"),a.initialized=!1,a.detachEvents(),i.loop&&a.loopDestroy(),n&&(a.removeClasses(),r&&typeof r!="string"&&r.removeAttribute("style"),o&&o.removeAttribute("style"),l&&l.length&&l.forEach(c=>{c.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),a.emit("destroy"),Object.keys(a.eventsListeners).forEach(c=>{a.off(c)}),t!==!1&&(a.el&&typeof a.el!="string"&&(a.el.swiper=null),ow(a)),a.destroyed=!0),null}static extendDefaults(t){Ue(Bn,t)}static get extendedDefaults(){return Bn}static get defaults(){return ia}static installModule(t){ht.prototype.__modules__||(ht.prototype.__modules__=[]);const n=ht.prototype.__modules__;typeof t=="function"&&n.indexOf(t)<0&&n.push(t)}static use(t){return Array.isArray(t)?(t.forEach(n=>ht.installModule(n)),ht):(ht.installModule(t),ht)}};Object.keys(zn).forEach(s=>{Object.keys(zn[s]).forEach(t=>{Ua.prototype[t]=zn[s][t]})});Ua.use([yw,jw]);const xo=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Xt(s){return typeof s=="object"&&s!==null&&s.constructor&&Object.prototype.toString.call(s).slice(8,-1)==="Object"&&!s.__swiper__}function rs(s,t){const n=["__proto__","constructor","prototype"];Object.keys(t).filter(a=>n.indexOf(a)<0).forEach(a=>{typeof s[a]>"u"?s[a]=t[a]:Xt(t[a])&&Xt(s[a])&&Object.keys(t[a]).length>0?t[a].__swiper__?s[a]=t[a]:rs(s[a],t[a]):s[a]=t[a]})}function fo(s){return s===void 0&&(s={}),s.navigation&&typeof s.navigation.nextEl>"u"&&typeof s.navigation.prevEl>"u"}function go(s){return s===void 0&&(s={}),s.pagination&&typeof s.pagination.el>"u"}function vo(s){return s===void 0&&(s={}),s.scrollbar&&typeof s.scrollbar.el>"u"}function yo(s){s===void 0&&(s="");const t=s.split(" ").map(a=>a.trim()).filter(a=>!!a),n=[];return t.forEach(a=>{n.indexOf(a)<0&&n.push(a)}),n.join(" ")}function C2(s){return s===void 0&&(s=""),s?s.includes("swiper-wrapper")?s:`swiper-wrapper ${s}`:"swiper-wrapper"}function k2(s){let{swiper:t,slides:n,passedParams:a,changedParams:i,nextEl:r,prevEl:o,scrollbarEl:l,paginationEl:c}=s;const d=i.filter(D=>D!=="children"&&D!=="direction"&&D!=="wrapperClass"),{params:m,pagination:h,navigation:p,scrollbar:v,virtual:x,thumbs:g}=t;let y,j,f,b,w,T,E,z;i.includes("thumbs")&&a.thumbs&&a.thumbs.swiper&&!a.thumbs.swiper.destroyed&&m.thumbs&&(!m.thumbs.swiper||m.thumbs.swiper.destroyed)&&(y=!0),i.includes("controller")&&a.controller&&a.controller.control&&m.controller&&!m.controller.control&&(j=!0),i.includes("pagination")&&a.pagination&&(a.pagination.el||c)&&(m.pagination||m.pagination===!1)&&h&&!h.el&&(f=!0),i.includes("scrollbar")&&a.scrollbar&&(a.scrollbar.el||l)&&(m.scrollbar||m.scrollbar===!1)&&v&&!v.el&&(b=!0),i.includes("navigation")&&a.navigation&&(a.navigation.prevEl||o)&&(a.navigation.nextEl||r)&&(m.navigation||m.navigation===!1)&&p&&!p.prevEl&&!p.nextEl&&(w=!0);const F=D=>{t[D]&&(t[D].destroy(),D==="navigation"?(t.isElement&&(t[D].prevEl.remove(),t[D].nextEl.remove()),m[D].prevEl=void 0,m[D].nextEl=void 0,t[D].prevEl=void 0,t[D].nextEl=void 0):(t.isElement&&t[D].el.remove(),m[D].el=void 0,t[D].el=void 0))};i.includes("loop")&&t.isElement&&(m.loop&&!a.loop?T=!0:!m.loop&&a.loop?E=!0:z=!0),d.forEach(D=>{if(Xt(m[D])&&Xt(a[D]))Object.assign(m[D],a[D]),(D==="navigation"||D==="pagination"||D==="scrollbar")&&"enabled"in a[D]&&!a[D].enabled&&F(D);else{const C=a[D];(C===!0||C===!1)&&(D==="navigation"||D==="pagination"||D==="scrollbar")?C===!1&&F(D):m[D]=a[D]}}),d.includes("controller")&&!j&&t.controller&&t.controller.control&&m.controller&&m.controller.control&&(t.controller.control=m.controller.control),i.includes("children")&&n&&x&&m.virtual.enabled?(x.slides=n,x.update(!0)):i.includes("virtual")&&x&&m.virtual.enabled&&(n&&(x.slides=n),x.update(!0)),i.includes("children")&&n&&m.loop&&(z=!0),y&&g.init()&&g.update(!0),j&&(t.controller.control=m.controller.control),f&&(t.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-pagination"),c.part.add("pagination"),t.el.appendChild(c)),c&&(m.pagination.el=c),h.init(),h.render(),h.update()),b&&(t.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-scrollbar"),l.part.add("scrollbar"),t.el.appendChild(l)),l&&(m.scrollbar.el=l),v.init(),v.updateSize(),v.setTranslate()),w&&(t.isElement&&((!r||typeof r=="string")&&(r=document.createElement("div"),r.classList.add("swiper-button-next"),r.innerHTML=t.hostEl.constructor.nextButtonSvg,r.part.add("button-next"),t.el.appendChild(r)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=t.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),t.el.appendChild(o))),r&&(m.navigation.nextEl=r),o&&(m.navigation.prevEl=o),p.init(),p.update()),i.includes("allowSlideNext")&&(t.allowSlideNext=a.allowSlideNext),i.includes("allowSlidePrev")&&(t.allowSlidePrev=a.allowSlidePrev),i.includes("direction")&&t.changeDirection(a.direction,!1),(T||z)&&t.loopDestroy(),(E||z)&&t.loopCreate(),t.update()}function T2(s,t){s===void 0&&(s={}),t===void 0&&(t=!0);const n={on:{}},a={},i={};rs(n,ia),n._emitClasses=!0,n.init=!1;const r={},o=xo.map(c=>c.replace(/_/,"")),l=Object.assign({},s);return Object.keys(l).forEach(c=>{typeof s[c]>"u"||(o.indexOf(c)>=0?Xt(s[c])?(n[c]={},i[c]={},rs(n[c],s[c]),rs(i[c],s[c])):(n[c]=s[c],i[c]=s[c]):c.search(/on[A-Z]/)===0&&typeof s[c]=="function"?t?a[`${c[2].toLowerCase()}${c.substr(3)}`]=s[c]:n.on[`${c[2].toLowerCase()}${c.substr(3)}`]=s[c]:r[c]=s[c])}),["navigation","pagination","scrollbar"].forEach(c=>{n[c]===!0&&(n[c]={}),n[c]===!1&&delete n[c]}),{params:n,passedParams:i,rest:r,events:a}}function _2(s,t){let{el:n,nextEl:a,prevEl:i,paginationEl:r,scrollbarEl:o,swiper:l}=s;fo(t)&&a&&i&&(l.params.navigation.nextEl=a,l.originalParams.navigation.nextEl=a,l.params.navigation.prevEl=i,l.originalParams.navigation.prevEl=i),go(t)&&r&&(l.params.pagination.el=r,l.originalParams.pagination.el=r),vo(t)&&o&&(l.params.scrollbar.el=o,l.originalParams.scrollbar.el=o),l.init(n)}function E2(s,t,n,a,i){const r=[];if(!t)return r;const o=c=>{r.indexOf(c)<0&&r.push(c)};if(n&&a){const c=a.map(i),d=n.map(i);c.join("")!==d.join("")&&o("children"),a.length!==n.length&&o("children")}return xo.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in s&&c in t)if(Xt(s[c])&&Xt(t[c])){const d=Object.keys(s[c]),m=Object.keys(t[c]);d.length!==m.length?o(c):(d.forEach(h=>{s[c][h]!==t[c][h]&&o(c)}),m.forEach(h=>{s[c][h]!==t[c][h]&&o(c)}))}else s[c]!==t[c]&&o(c)}),r}const A2=s=>{!s||s.destroyed||!s.params.virtual||s.params.virtual&&!s.params.virtual.enabled||(s.updateSlides(),s.updateProgress(),s.updateSlidesClasses(),s.parallax&&s.params.parallax&&s.params.parallax.enabled&&s.parallax.setTranslate())};function hn(){return hn=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(s[a]=n[a])}return s},hn.apply(this,arguments)}function jo(s){return s.type&&s.type.displayName&&s.type.displayName.includes("SwiperSlide")}function bo(s){const t=[];return pe.Children.toArray(s).forEach(n=>{jo(n)?t.push(n):n.props&&n.props.children&&bo(n.props.children).forEach(a=>t.push(a))}),t}function P2(s){const t=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return pe.Children.toArray(s).forEach(a=>{if(jo(a))t.push(a);else if(a.props&&a.props.slot&&n[a.props.slot])n[a.props.slot].push(a);else if(a.props&&a.props.children){const i=bo(a.props.children);i.length>0?i.forEach(r=>t.push(r)):n["container-end"].push(a)}else n["container-end"].push(a)}),{slides:t,slots:n}}function I2(s,t,n){if(!n)return null;const a=m=>{let h=m;return m<0?h=t.length+m:h>=t.length&&(h=h-t.length),h},i=s.isHorizontal()?{[s.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:r,to:o}=n,l=s.params.loop?-t.length:0,c=s.params.loop?t.length*2:t.length,d=[];for(let m=l;m<c;m+=1)m>=r&&m<=o&&d.push(t[a(m)]);return d.map((m,h)=>pe.cloneElement(m,{swiper:s,style:i,key:m.props.virtualIndex||m.key||`slide-${h}`}))}function ws(s,t){return typeof window>"u"?u.useEffect(s,t):u.useLayoutEffect(s,t)}const Xi=u.createContext(null),D2=u.createContext(null),wo=u.forwardRef(function(s,t){let{className:n,tag:a="div",wrapperTag:i="div",children:r,onSwiper:o,...l}=s===void 0?{}:s,c=!1;const[d,m]=u.useState("swiper"),[h,p]=u.useState(null),[v,x]=u.useState(!1),g=u.useRef(!1),y=u.useRef(null),j=u.useRef(null),f=u.useRef(null),b=u.useRef(null),w=u.useRef(null),T=u.useRef(null),E=u.useRef(null),z=u.useRef(null),{params:F,passedParams:D,rest:C,events:S}=T2(l),{slides:N,slots:I}=P2(r),P=()=>{x(!v)};Object.assign(F.on,{_containerClasses(B,Y){m(Y)}});const V=()=>{Object.assign(F.on,S),c=!0;const B={...F};if(delete B.wrapperClass,j.current=new Ua(B),j.current.virtual&&j.current.params.virtual.enabled){j.current.virtual.slides=N;const Y={cache:!1,slides:N,renderExternal:p,renderExternalUpdate:!1};rs(j.current.params.virtual,Y),rs(j.current.originalParams.virtual,Y)}};y.current||V(),j.current&&j.current.on("_beforeBreakpoint",P);const M=()=>{c||!S||!j.current||Object.keys(S).forEach(B=>{j.current.on(B,S[B])})},k=()=>{!S||!j.current||Object.keys(S).forEach(B=>{j.current.off(B,S[B])})};u.useEffect(()=>()=>{j.current&&j.current.off("_beforeBreakpoint",P)}),u.useEffect(()=>{!g.current&&j.current&&(j.current.emitSlidesClasses(),g.current=!0)}),ws(()=>{if(t&&(t.current=y.current),!!y.current)return j.current.destroyed&&V(),_2({el:y.current,nextEl:w.current,prevEl:T.current,paginationEl:E.current,scrollbarEl:z.current,swiper:j.current},F),o&&!j.current.destroyed&&o(j.current),()=>{j.current&&!j.current.destroyed&&j.current.destroy(!0,!1)}},[]),ws(()=>{M();const B=E2(D,f.current,N,b.current,Y=>Y.key);return f.current=D,b.current=N,B.length&&j.current&&!j.current.destroyed&&k2({swiper:j.current,slides:N,passedParams:D,changedParams:B,nextEl:w.current,prevEl:T.current,scrollbarEl:z.current,paginationEl:E.current}),()=>{k()}}),ws(()=>{A2(j.current)},[h]);function A(){return F.virtual?I2(j.current,N,h):N.map((B,Y)=>pe.cloneElement(B,{swiper:j.current,swiperSlideIndex:Y}))}return pe.createElement(a,hn({ref:y,className:yo(`${d}${n?` ${n}`:""}`)},C),pe.createElement(D2.Provider,{value:j.current},I["container-start"],pe.createElement(i,{className:C2(F.wrapperClass)},I["wrapper-start"],A(),I["wrapper-end"]),fo(F)&&pe.createElement(pe.Fragment,null,pe.createElement("div",{ref:T,className:"swiper-button-prev"}),pe.createElement("div",{ref:w,className:"swiper-button-next"})),vo(F)&&pe.createElement("div",{ref:z,className:"swiper-scrollbar"}),go(F)&&pe.createElement("div",{ref:E,className:"swiper-pagination"}),I["container-end"]))});wo.displayName="Swiper";const No=u.forwardRef(function(s,t){let{tag:n="div",children:a,className:i="",swiper:r,zoom:o,lazy:l,virtualIndex:c,swiperSlideIndex:d,...m}=s===void 0?{}:s;const h=u.useRef(null),[p,v]=u.useState("swiper-slide"),[x,g]=u.useState(!1);function y(w,T,E){T===h.current&&v(E)}ws(()=>{if(typeof d<"u"&&(h.current.swiperSlideIndex=d),t&&(t.current=h.current),!(!h.current||!r)){if(r.destroyed){p!=="swiper-slide"&&v("swiper-slide");return}return r.on("_slideClass",y),()=>{r&&r.off("_slideClass",y)}}}),ws(()=>{r&&h.current&&!r.destroyed&&v(r.getSlideClasses(h.current))},[r]);const j={isActive:p.indexOf("swiper-slide-active")>=0,isVisible:p.indexOf("swiper-slide-visible")>=0,isPrev:p.indexOf("swiper-slide-prev")>=0,isNext:p.indexOf("swiper-slide-next")>=0},f=()=>typeof a=="function"?a(j):a,b=()=>{g(!0)};return pe.createElement(n,hn({ref:h,className:yo(`${p}${i?` ${i}`:""}`),"data-swiper-slide-index":c,onLoad:b},m),o&&pe.createElement(Xi.Provider,{value:j},pe.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},f(),l&&!x&&pe.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&pe.createElement(Xi.Provider,{value:j},f(),l&&!x&&pe.createElement("div",{className:"swiper-lazy-preloader"})))});No.displayName="SwiperSlide";function So(s,t,n,a){return s.params.createElements&&Object.keys(a).forEach(i=>{if(!n[i]&&n.auto===!0){let r=lt(s.el,`.${a[i]}`)[0];r||(r=As("div",a[i]),r.className=a[i],s.el.append(r)),n[i]=r,t[i]=r}}),n}function M2(s){let{swiper:t,extendParams:n,on:a,emit:i}=s;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};function r(x){let g;return x&&typeof x=="string"&&t.isElement&&(g=t.el.querySelector(x)||t.hostEl.querySelector(x),g)?g:(x&&(typeof x=="string"&&(g=[...document.querySelectorAll(x)]),t.params.uniqueNavElements&&typeof x=="string"&&g&&g.length>1&&t.el.querySelectorAll(x).length===1?g=t.el.querySelector(x):g&&g.length===1&&(g=g[0])),x&&!g?x:g)}function o(x,g){const y=t.params.navigation;x=le(x),x.forEach(j=>{j&&(j.classList[g?"add":"remove"](...y.disabledClass.split(" ")),j.tagName==="BUTTON"&&(j.disabled=g),t.params.watchOverflow&&t.enabled&&j.classList[t.isLocked?"add":"remove"](y.lockClass))})}function l(){const{nextEl:x,prevEl:g}=t.navigation;if(t.params.loop){o(g,!1),o(x,!1);return}o(g,t.isBeginning&&!t.params.rewind),o(x,t.isEnd&&!t.params.rewind)}function c(x){x.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),i("navigationPrev"))}function d(x){x.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),i("navigationNext"))}function m(){const x=t.params.navigation;if(t.params.navigation=So(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(x.nextEl||x.prevEl))return;let g=r(x.nextEl),y=r(x.prevEl);Object.assign(t.navigation,{nextEl:g,prevEl:y}),g=le(g),y=le(y);const j=(f,b)=>{f&&f.addEventListener("click",b==="next"?d:c),!t.enabled&&f&&f.classList.add(...x.lockClass.split(" "))};g.forEach(f=>j(f,"next")),y.forEach(f=>j(f,"prev"))}function h(){let{nextEl:x,prevEl:g}=t.navigation;x=le(x),g=le(g);const y=(j,f)=>{j.removeEventListener("click",f==="next"?d:c),j.classList.remove(...t.params.navigation.disabledClass.split(" "))};x.forEach(j=>y(j,"next")),g.forEach(j=>y(j,"prev"))}a("init",()=>{t.params.navigation.enabled===!1?v():(m(),l())}),a("toEdge fromEdge lock unlock",()=>{l()}),a("destroy",()=>{h()}),a("enable disable",()=>{let{nextEl:x,prevEl:g}=t.navigation;if(x=le(x),g=le(g),t.enabled){l();return}[...x,...g].filter(y=>!!y).forEach(y=>y.classList.add(t.params.navigation.lockClass))}),a("click",(x,g)=>{let{nextEl:y,prevEl:j}=t.navigation;y=le(y),j=le(j);const f=g.target;let b=j.includes(f)||y.includes(f);if(t.isElement&&!b){const w=g.path||g.composedPath&&g.composedPath();w&&(b=w.find(T=>y.includes(T)||j.includes(T)))}if(t.params.navigation.hideOnClick&&!b){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===f||t.pagination.el.contains(f)))return;let w;y.length?w=y[0].classList.contains(t.params.navigation.hiddenClass):j.length&&(w=j[0].classList.contains(t.params.navigation.hiddenClass)),i(w===!0?"navigationShow":"navigationHide"),[...y,...j].filter(T=>!!T).forEach(T=>T.classList.toggle(t.params.navigation.hiddenClass))}});const p=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),m(),l()},v=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(t.navigation,{enable:p,disable:v,update:l,init:m,destroy:h})}function Et(s){return s===void 0&&(s=""),`.${s.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function L2(s){let{swiper:t,extendParams:n,on:a,emit:i}=s;const r="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:f=>f,formatFractionTotal:f=>f,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),t.pagination={el:null,bullets:[]};let o,l=0;function c(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&t.pagination.el.length===0}function d(f,b){const{bulletActiveClass:w}=t.params.pagination;f&&(f=f[`${b==="prev"?"previous":"next"}ElementSibling`],f&&(f.classList.add(`${w}-${b}`),f=f[`${b==="prev"?"previous":"next"}ElementSibling`],f&&f.classList.add(`${w}-${b}-${b}`)))}function m(f,b,w){if(f=f%w,b=b%w,b===f+1)return"next";if(b===f-1)return"previous"}function h(f){const b=f.target.closest(Et(t.params.pagination.bulletClass));if(!b)return;f.preventDefault();const w=Ps(b)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===w)return;const T=m(t.realIndex,w,t.slides.length);T==="next"?t.slideNext():T==="previous"?t.slidePrev():t.slideToLoop(w)}else t.slideTo(w)}function p(){const f=t.rtl,b=t.params.pagination;if(c())return;let w=t.pagination.el;w=le(w);let T,E;const z=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,F=t.params.loop?Math.ceil(z/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(E=t.previousRealIndex||0,T=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):typeof t.snapIndex<"u"?(T=t.snapIndex,E=t.previousSnapIndex):(E=t.previousIndex||0,T=t.activeIndex||0),b.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const D=t.pagination.bullets;let C,S,N;if(b.dynamicBullets&&(o=na(D[0],t.isHorizontal()?"width":"height"),w.forEach(I=>{I.style[t.isHorizontal()?"width":"height"]=`${o*(b.dynamicMainBullets+4)}px`}),b.dynamicMainBullets>1&&E!==void 0&&(l+=T-(E||0),l>b.dynamicMainBullets-1?l=b.dynamicMainBullets-1:l<0&&(l=0)),C=Math.max(T-l,0),S=C+(Math.min(D.length,b.dynamicMainBullets)-1),N=(S+C)/2),D.forEach(I=>{const P=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(V=>`${b.bulletActiveClass}${V}`)].map(V=>typeof V=="string"&&V.includes(" ")?V.split(" "):V).flat();I.classList.remove(...P)}),w.length>1)D.forEach(I=>{const P=Ps(I);P===T?I.classList.add(...b.bulletActiveClass.split(" ")):t.isElement&&I.setAttribute("part","bullet"),b.dynamicBullets&&(P>=C&&P<=S&&I.classList.add(...`${b.bulletActiveClass}-main`.split(" ")),P===C&&d(I,"prev"),P===S&&d(I,"next"))});else{const I=D[T];if(I&&I.classList.add(...b.bulletActiveClass.split(" ")),t.isElement&&D.forEach((P,V)=>{P.setAttribute("part",V===T?"bullet-active":"bullet")}),b.dynamicBullets){const P=D[C],V=D[S];for(let M=C;M<=S;M+=1)D[M]&&D[M].classList.add(...`${b.bulletActiveClass}-main`.split(" "));d(P,"prev"),d(V,"next")}}if(b.dynamicBullets){const I=Math.min(D.length,b.dynamicMainBullets+4),P=(o*I-o)/2-N*o,V=f?"right":"left";D.forEach(M=>{M.style[t.isHorizontal()?V:"top"]=`${P}px`})}}w.forEach((D,C)=>{if(b.type==="fraction"&&(D.querySelectorAll(Et(b.currentClass)).forEach(S=>{S.textContent=b.formatFractionCurrent(T+1)}),D.querySelectorAll(Et(b.totalClass)).forEach(S=>{S.textContent=b.formatFractionTotal(F)})),b.type==="progressbar"){let S;b.progressbarOpposite?S=t.isHorizontal()?"vertical":"horizontal":S=t.isHorizontal()?"horizontal":"vertical";const N=(T+1)/F;let I=1,P=1;S==="horizontal"?I=N:P=N,D.querySelectorAll(Et(b.progressbarFillClass)).forEach(V=>{V.style.transform=`translate3d(0,0,0) scaleX(${I}) scaleY(${P})`,V.style.transitionDuration=`${t.params.speed}ms`})}b.type==="custom"&&b.renderCustom?(D.innerHTML=b.renderCustom(t,T+1,F),C===0&&i("paginationRender",D)):(C===0&&i("paginationRender",D),i("paginationUpdate",D)),t.params.watchOverflow&&t.enabled&&D.classList[t.isLocked?"add":"remove"](b.lockClass)})}function v(){const f=t.params.pagination;if(c())return;const b=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let w=t.pagination.el;w=le(w);let T="";if(f.type==="bullets"){let E=t.params.loop?Math.ceil(b/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&E>b&&(E=b);for(let z=0;z<E;z+=1)f.renderBullet?T+=f.renderBullet.call(t,z,f.bulletClass):T+=`<${f.bulletElement} ${t.isElement?'part="bullet"':""} class="${f.bulletClass}"></${f.bulletElement}>`}f.type==="fraction"&&(f.renderFraction?T=f.renderFraction.call(t,f.currentClass,f.totalClass):T=`<span class="${f.currentClass}"></span> / <span class="${f.totalClass}"></span>`),f.type==="progressbar"&&(f.renderProgressbar?T=f.renderProgressbar.call(t,f.progressbarFillClass):T=`<span class="${f.progressbarFillClass}"></span>`),t.pagination.bullets=[],w.forEach(E=>{f.type!=="custom"&&(E.innerHTML=T||""),f.type==="bullets"&&t.pagination.bullets.push(...E.querySelectorAll(Et(f.bulletClass)))}),f.type!=="custom"&&i("paginationRender",w[0])}function x(){t.params.pagination=So(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const f=t.params.pagination;if(!f.el)return;let b;typeof f.el=="string"&&t.isElement&&(b=t.el.querySelector(f.el)),!b&&typeof f.el=="string"&&(b=[...document.querySelectorAll(f.el)]),b||(b=f.el),!(!b||b.length===0)&&(t.params.uniqueNavElements&&typeof f.el=="string"&&Array.isArray(b)&&b.length>1&&(b=[...t.el.querySelectorAll(f.el)],b.length>1&&(b=b.find(w=>oo(w,".swiper")[0]===t.el))),Array.isArray(b)&&b.length===1&&(b=b[0]),Object.assign(t.pagination,{el:b}),b=le(b),b.forEach(w=>{f.type==="bullets"&&f.clickable&&w.classList.add(...(f.clickableClass||"").split(" ")),w.classList.add(f.modifierClass+f.type),w.classList.add(t.isHorizontal()?f.horizontalClass:f.verticalClass),f.type==="bullets"&&f.dynamicBullets&&(w.classList.add(`${f.modifierClass}${f.type}-dynamic`),l=0,f.dynamicMainBullets<1&&(f.dynamicMainBullets=1)),f.type==="progressbar"&&f.progressbarOpposite&&w.classList.add(f.progressbarOppositeClass),f.clickable&&w.addEventListener("click",h),t.enabled||w.classList.add(f.lockClass)}))}function g(){const f=t.params.pagination;if(c())return;let b=t.pagination.el;b&&(b=le(b),b.forEach(w=>{w.classList.remove(f.hiddenClass),w.classList.remove(f.modifierClass+f.type),w.classList.remove(t.isHorizontal()?f.horizontalClass:f.verticalClass),f.clickable&&(w.classList.remove(...(f.clickableClass||"").split(" ")),w.removeEventListener("click",h))})),t.pagination.bullets&&t.pagination.bullets.forEach(w=>w.classList.remove(...f.bulletActiveClass.split(" ")))}a("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const f=t.params.pagination;let{el:b}=t.pagination;b=le(b),b.forEach(w=>{w.classList.remove(f.horizontalClass,f.verticalClass),w.classList.add(t.isHorizontal()?f.horizontalClass:f.verticalClass)})}),a("init",()=>{t.params.pagination.enabled===!1?j():(x(),v(),p())}),a("activeIndexChange",()=>{typeof t.snapIndex>"u"&&p()}),a("snapIndexChange",()=>{p()}),a("snapGridLengthChange",()=>{v(),p()}),a("destroy",()=>{g()}),a("enable disable",()=>{let{el:f}=t.pagination;f&&(f=le(f),f.forEach(b=>b.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),a("lock unlock",()=>{p()}),a("click",(f,b)=>{const w=b.target,T=le(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&T&&T.length>0&&!w.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&w===t.navigation.nextEl||t.navigation.prevEl&&w===t.navigation.prevEl))return;const E=T[0].classList.contains(t.params.pagination.hiddenClass);i(E===!0?"paginationShow":"paginationHide"),T.forEach(z=>z.classList.toggle(t.params.pagination.hiddenClass))}});const y=()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:f}=t.pagination;f&&(f=le(f),f.forEach(b=>b.classList.remove(t.params.pagination.paginationDisabledClass))),x(),v(),p()},j=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:f}=t.pagination;f&&(f=le(f),f.forEach(b=>b.classList.add(t.params.pagination.paginationDisabledClass))),g()};Object.assign(t.pagination,{enable:y,disable:j,render:v,update:p,init:x,destroy:g})}function R2(s){let{swiper:t,extendParams:n,on:a}=s;n({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,containerRole:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null,scrollOnFocus:!0}}),t.a11y={clicked:!1};let i=null,r,o,l=new Date().getTime();function c(k){const A=i;A.length!==0&&(A.innerHTML="",A.innerHTML=k)}function d(k){const A=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(k).replace(/x/g,A)}function m(k){k=le(k),k.forEach(A=>{A.setAttribute("tabIndex","0")})}function h(k){k=le(k),k.forEach(A=>{A.setAttribute("tabIndex","-1")})}function p(k,A){k=le(k),k.forEach(B=>{B.setAttribute("role",A)})}function v(k,A){k=le(k),k.forEach(B=>{B.setAttribute("aria-roledescription",A)})}function x(k,A){k=le(k),k.forEach(B=>{B.setAttribute("aria-controls",A)})}function g(k,A){k=le(k),k.forEach(B=>{B.setAttribute("aria-label",A)})}function y(k,A){k=le(k),k.forEach(B=>{B.setAttribute("id",A)})}function j(k,A){k=le(k),k.forEach(B=>{B.setAttribute("aria-live",A)})}function f(k){k=le(k),k.forEach(A=>{A.setAttribute("aria-disabled",!0)})}function b(k){k=le(k),k.forEach(A=>{A.setAttribute("aria-disabled",!1)})}function w(k){if(k.keyCode!==13&&k.keyCode!==32)return;const A=t.params.a11y,B=k.target;if(!(t.pagination&&t.pagination.el&&(B===t.pagination.el||t.pagination.el.contains(k.target))&&!k.target.matches(Et(t.params.pagination.bulletClass)))){if(t.navigation&&t.navigation.prevEl&&t.navigation.nextEl){const Y=le(t.navigation.prevEl);le(t.navigation.nextEl).includes(B)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?c(A.lastSlideMessage):c(A.nextSlideMessage)),Y.includes(B)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?c(A.firstSlideMessage):c(A.prevSlideMessage))}t.pagination&&B.matches(Et(t.params.pagination.bulletClass))&&B.click()}}function T(){if(t.params.loop||t.params.rewind||!t.navigation)return;const{nextEl:k,prevEl:A}=t.navigation;A&&(t.isBeginning?(f(A),h(A)):(b(A),m(A))),k&&(t.isEnd?(f(k),h(k)):(b(k),m(k)))}function E(){return t.pagination&&t.pagination.bullets&&t.pagination.bullets.length}function z(){return E()&&t.params.pagination.clickable}function F(){const k=t.params.a11y;E()&&t.pagination.bullets.forEach(A=>{t.params.pagination.clickable&&(m(A),t.params.pagination.renderBullet||(p(A,"button"),g(A,k.paginationBulletMessage.replace(/\{\{index\}\}/,Ps(A)+1)))),A.matches(Et(t.params.pagination.bulletActiveClass))?A.setAttribute("aria-current","true"):A.removeAttribute("aria-current")})}const D=(k,A,B)=>{m(k),k.tagName!=="BUTTON"&&(p(k,"button"),k.addEventListener("keydown",w)),g(k,B),x(k,A)},C=k=>{o&&o!==k.target&&!o.contains(k.target)&&(r=!0),t.a11y.clicked=!0},S=()=>{r=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>{t.destroyed||(t.a11y.clicked=!1)})})},N=k=>{l=new Date().getTime()},I=k=>{if(t.a11y.clicked||!t.params.a11y.scrollOnFocus||new Date().getTime()-l<100)return;const A=k.target.closest(`.${t.params.slideClass}, swiper-slide`);if(!A||!t.slides.includes(A))return;o=A;const B=t.slides.indexOf(A)===t.activeIndex,Y=t.params.watchSlidesProgress&&t.visibleSlides&&t.visibleSlides.includes(A);B||Y||k.sourceCapabilities&&k.sourceCapabilities.firesTouchEvents||(t.isHorizontal()?t.el.scrollLeft=0:t.el.scrollTop=0,requestAnimationFrame(()=>{r||(t.params.loop?t.slideToLoop(parseInt(A.getAttribute("data-swiper-slide-index")),0):t.slideTo(t.slides.indexOf(A),0),r=!1)}))},P=()=>{const k=t.params.a11y;k.itemRoleDescriptionMessage&&v(t.slides,k.itemRoleDescriptionMessage),k.slideRole&&p(t.slides,k.slideRole);const A=t.slides.length;k.slideLabelMessage&&t.slides.forEach((B,Y)=>{const we=t.params.loop?parseInt(B.getAttribute("data-swiper-slide-index"),10):Y,ne=k.slideLabelMessage.replace(/\{\{index\}\}/,we+1).replace(/\{\{slidesLength\}\}/,A);g(B,ne)})},V=()=>{const k=t.params.a11y;t.el.append(i);const A=t.el;k.containerRoleDescriptionMessage&&v(A,k.containerRoleDescriptionMessage),k.containerMessage&&g(A,k.containerMessage),k.containerRole&&p(A,k.containerRole);const B=t.wrapperEl,Y=k.id||B.getAttribute("id")||`swiper-wrapper-${d(16)}`,we=t.params.autoplay&&t.params.autoplay.enabled?"off":"polite";y(B,Y),j(B,we),P();let{nextEl:ne,prevEl:ue}=t.navigation?t.navigation:{};ne=le(ne),ue=le(ue),ne&&ne.forEach(ie=>D(ie,Y,k.nextSlideMessage)),ue&&ue.forEach(ie=>D(ie,Y,k.prevSlideMessage)),z()&&le(t.pagination.el).forEach($e=>{$e.addEventListener("keydown",w)}),gt().addEventListener("visibilitychange",N),t.el.addEventListener("focus",I,!0),t.el.addEventListener("focus",I,!0),t.el.addEventListener("pointerdown",C,!0),t.el.addEventListener("pointerup",S,!0)};function M(){i&&i.remove();let{nextEl:k,prevEl:A}=t.navigation?t.navigation:{};k=le(k),A=le(A),k&&k.forEach(Y=>Y.removeEventListener("keydown",w)),A&&A.forEach(Y=>Y.removeEventListener("keydown",w)),z()&&le(t.pagination.el).forEach(we=>{we.removeEventListener("keydown",w)}),gt().removeEventListener("visibilitychange",N),t.el&&typeof t.el!="string"&&(t.el.removeEventListener("focus",I,!0),t.el.removeEventListener("pointerdown",C,!0),t.el.removeEventListener("pointerup",S,!0))}a("beforeInit",()=>{i=As("span",t.params.a11y.notificationClass),i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true")}),a("afterInit",()=>{t.params.a11y.enabled&&V()}),a("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{t.params.a11y.enabled&&P()}),a("fromEdge toEdge afterInit lock unlock",()=>{t.params.a11y.enabled&&T()}),a("paginationUpdate",()=>{t.params.a11y.enabled&&F()}),a("destroy",()=>{t.params.a11y.enabled&&M()})}function $2(s){return st({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(s)}const Yi=["Landmark","Hotel Amenities","Local Cuisine","Area Map","Activity and Experiences","Tours","Transportation","Dining"],F2=({references:s})=>{const[t,n]=u.useState({}),[a,i]=u.useState(!0),[r,o]=u.useState(Yi[0]),[l,c]=u.useState(null);u.useEffect(()=>{i(!0);let y=0;if(s.length===0){i(!1);return}s.forEach(j=>{j.type==="document"&&j.url.endsWith(".txt")&&!t[j.url]?fetch(j.url).then(f=>f.text()).then(f=>{n(b=>({...b,[j.url]:f})),y++,y===s.length&&i(!1)}).catch(()=>{y++,y===s.length&&i(!1)}):(y++,y===s.length&&i(!1))}),s.every(j=>j.type!=="document"||!j.url.endsWith(".txt"))&&i(!1)},[s]);const d=y=>/^https?:\/\//.test(y)?y:`/${y.replace(/^\//,"")}`,m=async(y,j)=>{try{const b=await(await fetch(d(y))).blob(),w=URL.createObjectURL(b),T=document.createElement("a");T.href=w,T.download=j,document.body.appendChild(T),T.click(),document.body.removeChild(T),URL.revokeObjectURL(w)}catch(f){console.error("Error downloading file:",f)}},h=y=>{window.open(d(y),"_blank")},p=()=>e.jsxs("div",{className:"animate-pulse bg-white/80 rounded-xl shadow-md h-[180px] flex flex-col p-4 gap-2",children:[e.jsx("div",{className:"bg-gray-200 rounded w-full h-2/3 mb-2"}),e.jsx("div",{className:"bg-gray-200 rounded w-2/3 h-4 mb-1"}),e.jsx("div",{className:"bg-gray-100 rounded w-1/2 h-3"})]}),v=y=>e.jsxs("div",{className:"group bg-white/90 rounded-xl shadow-md h-[180px] flex flex-col justify-between cursor-pointer transition-transform duration-200 hover:scale-[1.03] active:scale-95 border border-white/40 backdrop-blur-md",style:{minWidth:220,maxWidth:260},onClick:()=>y.type==="link"?h(y.url):void 0,children:[e.jsxs("div",{className:"flex-1 flex items-center justify-center overflow-hidden rounded-t-xl",style:{height:"60%"},children:[y.type==="image"&&e.jsx("img",{src:d(y.url),alt:y.title,className:"object-cover w-full h-full rounded-t-xl hover:opacity-80 transition cursor-zoom-in",onClick:j=>{j.stopPropagation(),c(d(y.url))},tabIndex:0,onKeyDown:j=>{(j.key==="Enter"||j.key===" ")&&c(d(y.url))}}),y.type==="document"&&y.url.endsWith(".pdf")&&e.jsx("span",{className:"material-icons text-5xl text-blue-700/80",children:"picture_as_pdf"}),y.type==="document"&&y.url.endsWith(".txt")&&e.jsx("span",{className:"material-icons text-5xl text-green-700/80",children:"description"}),y.type==="link"&&e.jsx("span",{className:"material-icons text-5xl text-yellow-700/80",children:"link"})]}),e.jsxs("div",{className:"flex flex-col gap-1 px-3 py-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-base font-medium text-gray-900 truncate",children:y.title}),y.type==="document"&&e.jsx("button",{onClick:j=>{j.stopPropagation(),m(y.url,y.title)},className:"ml-auto p-1 rounded-full hover:bg-yellow-100 text-yellow-700 transition-colors",children:e.jsx("span",{className:"material-icons text-base",children:"download"})}),y.type==="link"&&e.jsx("span",{className:"material-icons text-xs text-gray-400 ml-1",children:"open_in_new"})]}),y.description&&e.jsx("span",{className:"text-xs text-gray-500 truncate",children:y.description}),y.url.endsWith(".txt")&&t[y.url]&&e.jsxs("pre",{className:"mt-1 max-h-12 overflow-auto whitespace-pre-wrap text-xs text-gray-700 bg-gray-50 rounded p-1",children:[t[y.url].slice(0,120),"..."]})]})]}),x=()=>window.innerWidth<640?"auto":window.innerWidth<1024?2:window.innerWidth<1280?3:4,g=s.filter(y=>y.category&&y.category.trim().toLowerCase()===r.trim().toLowerCase());return e.jsxs("div",{className:"w-full sm:max-w-5xl mx-auto mt-2 mb-2 px-2 py-3 rounded-2xl",style:{background:"rgba(85,154,154,0.85)",minHeight:260},children:[l&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",onClick:()=>c(null),children:e.jsxs("div",{className:"relative max-w-3xl w-full flex flex-col items-center",children:[e.jsx("button",{className:"absolute top-2 right-2 bg-white/80 hover:bg-white text-gray-800 rounded-full p-2 shadow-lg z-10",onClick:y=>{y.stopPropagation(),c(null)},children:e.jsx("span",{className:"material-icons text-2xl",children:"close"})}),e.jsx("img",{src:l,alt:"Ph√≥ng to ·∫£nh reference",className:"rounded-xl max-h-[80vh] w-auto object-contain border-4 border-white shadow-2xl",onClick:y=>y.stopPropagation()})]})}),e.jsx("div",{className:"flex items-center mb-4 px-2",children:e.jsxs("div",{className:"flex items-center px-3 py-2 sm:py-1.5 gap-2 transition-all duration-300 mx-auto sm:mx-0",style:{background:"linear-gradient(135deg, #79DBDC 0%, #559A9A 100%)",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.15)",borderRadius:"8px",minWidth:"150px",maxWidth:"95%",width:"auto",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[e.jsx($1,{className:"text-[#F9BF3B] text-xl mr-1.5",style:{filter:"drop-shadow(0px 2px 3px rgba(0, 0, 0, 0.2))"}}),e.jsx("label",{className:"mr-2 font-semibold font-sans text-white whitespace-nowrap text-sm sm:text-base",children:"Category:"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("select",{value:r,onChange:y=>o(y.target.value),className:"appearance-none w-full pl-6 sm:pl-8 pr-6 py-1 sm:py-1.5 font-sans bg-transparent focus:outline-none transition-all duration-200",style:{fontWeight:600,color:"#fff",textShadow:"0px 1px 2px rgba(0, 0, 0, 0.2)",borderRadius:"8px"},children:Yi.map(y=>e.jsx("option",{value:y,className:"bg-blue-800 text-white",children:y},y))}),e.jsx($2,{className:"absolute right-2 top-1/2 -translate-y-1/2 text-[#F9BF3B] pointer-events-none text-lg"})]})]})}),a?e.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2",children:[...Array(3)].map((y,j)=>e.jsx(p,{},j))}):g.length===0?e.jsx("div",{className:"flex items-center justify-center h-[120px] text-white/80 text-base font-medium",children:"No references available"}):e.jsx(wo,{modules:[M2,L2,R2],spaceBetween:16,slidesPerView:x(),navigation:g.length>3,pagination:{clickable:!0,dynamicBullets:!0},className:"w-full",style:{paddingBottom:32,overflowX:window.innerWidth<640?"auto":void 0},children:g.map((y,j)=>e.jsx(No,{className:"flex justify-center",style:window.innerWidth<640?{width:"90vw",maxWidth:"98vw",minWidth:0}:{},children:v(y)},y.url+j))})]})};class O2{constructor(){this.referenceMap={}}async initialize(){try{const t=await fetch("/assets/references/reference-map.json");this.referenceMap=await t.json(),console.log("Loaded referenceMap:",this.referenceMap)}catch(t){console.error("Error loading reference map:",t)}}findReferences(t){const n=t.toLowerCase(),a=[];return Object.values(this.referenceMap).forEach(i=>{i.keywords.some(o=>n.includes(o.toLowerCase()))&&!a.find(o=>o.url===i.url)&&a.push(i)}),a}async addReference(t,n){this.referenceMap[t]=n;try{await fetch("/api/references",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...n,id:t})})}catch(a){console.error("Error saving reference:",a)}}}const Zi=new O2,z2=({isActive:s})=>{const{transcripts:t,callDetails:n,callDuration:a,startCall:i,endCall:r,isMuted:o,toggleMute:l,setCurrentInterface:c,micLevel:d,modelOutput:m,language:h,addTranscript:p}=et();u.useEffect(()=>{console.log("üéØ [Interface2] isActive changed to:",s)},[s]);const{config:v,isLoading:x,error:g}=Fs(),[y,j]=u.useState({}),f=u.useRef({}),[b,w]=u.useState([]),[T,E]=u.useState([]),[z,F]=u.useState(0),D=u.useRef(null),[C,S]=u.useState(!0);u.useEffect(()=>{console.log("üí¨ [Interface2] showRealtimeConversation:",C),console.log("üí¨ [Interface2] conversationTurns:",b),console.log("üí¨ [Interface2] transcripts:",t)},[C,b,t]);const N=u.useCallback(()=>{Object.values(f.current).forEach(M=>{cancelAnimationFrame(M)}),f.current={}},[]),I=u.useCallback(()=>{const M=a>0?a:z;console.log("Canceling call with duration:",M),r(),c("interface1")},[a,z,r,c]),P=u.useCallback(()=>{if(!t||t.length===0){alert(oe("need_conversation",h));return}const M=a>0?a:z;console.log("Ending call with duration:",M),r(),c(h==="fr"?"interface3fr":h==="vi"?"interface3vi":"interface3")},[a,z,r,c,t,h]),V=u.useCallback(M=>{const k=Math.floor(M/60).toString().padStart(2,"0"),A=(M%60).toString().padStart(2,"0");return`${k}:${A}`},[]);return u.useEffect(()=>{async function M(){await Zi.initialize();const k=Object.values(Zi.referenceMap||{});console.log("All references loaded:",k),E(k)}M()},[]),u.useEffect(()=>{console.log("[Interface2] Transcripts changed:",t),console.log("[Interface2] Transcripts count:",t.length);const M=[...t].sort((B,Y)=>B.timestamp.getTime()-Y.timestamp.getTime()),k=[];let A=null;M.forEach(B=>{console.log("[Interface2] Processing transcript:",B),B.role==="user"?(A={id:B.id.toString(),role:"user",timestamp:B.timestamp,messages:[{id:B.id.toString(),content:B.content,timestamp:B.timestamp}]},k.push(A)):((!A||A.role==="user")&&(A={id:B.id.toString(),role:"assistant",timestamp:B.timestamp,messages:[]},k.push(A)),A.messages.push({id:B.id.toString(),content:B.content,timestamp:B.timestamp}))}),console.log("[Interface2] Generated conversation turns:",k),w(k)},[t]),u.useEffect(()=>(b.filter(k=>k.role==="assistant").flatMap(k=>k.messages).forEach(k=>{if(y[k.id]===k.content.length)return;let A=y[k.id]||0;const B=k.content,Y=()=>{A<B.length?(j(we=>({...we,[k.id]:A+1})),A++,f.current[k.id]=requestAnimationFrame(Y)):delete f.current[k.id]};f.current[k.id]=requestAnimationFrame(Y)}),()=>N()),[b,N]),u.useEffect(()=>{let M=null;return s&&(console.log("Interface2 is active, starting local timer"),F(a||0),M=setInterval(()=>{F(k=>k+1)},1e3)),()=>{M&&(console.log("Cleaning up local timer in Interface2"),clearInterval(M))}},[s,a]),u.useEffect(()=>{D.current&&s&&(D.current.scrollTop=0)},[b,s]),x||!v?(console.log("[DEBUG] Interface2 render:",{hotelConfig:v,configLoading:x}),e.jsx("div",{className:"absolute w-full min-h-screen h-full flex items-center justify-center z-40 bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Loading hotel configuration..."})]})})):g?e.jsx("div",{className:"absolute w-full min-h-screen h-full flex items-center justify-center z-40 bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-500 text-lg mb-4",children:"Failed to load hotel configuration"}),e.jsx("p",{className:"text-gray-600",children:g})]})}):e.jsx("div",{className:`absolute w-full min-h-screen h-full transition-opacity duration-500 ${s?"opacity-100":"opacity-0 pointer-events-none"} z-20 overflow-y-auto`,id:"interface2",style:{display:s?"block":"none",backgroundImage:`linear-gradient(${v?.branding?.colors?.primary||"#1e40af"}CC, ${v?.branding?.colors?.secondary||"#d4af37"}99), url('/assets/courtyard.jpeg')`,backgroundSize:"cover",backgroundPosition:"center",fontFamily:v.branding.fonts.primary+", SF Pro Text, Roboto, Open Sans, Arial, sans-serif"},children:e.jsxs("div",{className:"container mx-auto flex flex-col md:flex-row p-2 h-full gap-2",children:[e.jsxs("div",{className:"w-full md:w-3/4 lg:w-2/3 flex flex-col items-center space-y-1 sm:space-y-4 mt-1 min-h-0 overflow-y-auto",children:[e.jsxs("div",{className:"relative flex flex-col items-center justify-center mb-1 sm:mb-6 w-full max-w-xs mx-auto",children:[e.jsx(io,{containerId:"siri-button",isListening:!o,volumeLevel:d,onCallStart:async()=>{console.log("üé§ [Interface2] SiriCallButton onCallStart triggered");try{await i()}catch(M){console.error("‚ùå [Interface2] Error in SiriCallButton onCallStart:",M)}},onCallEnd:()=>{console.log("üõë [Interface2] SiriCallButton onCallEnd triggered"),r()}}),e.jsxs("div",{className:"flex items-center justify-center mt-2 w-full gap-2 sm:gap-3",children:[e.jsx("button",{className:"flex items-center justify-center transition-colors",title:oe(o?"unmute":"mute",h),onClick:l,style:{fontSize:22,padding:0,background:"none",border:"none",color:"#d4af37",width:28,height:28},onMouseOver:M=>M.currentTarget.style.color="#ffd700",onMouseOut:M=>M.currentTarget.style.color="#d4af37",children:e.jsx("span",{className:"material-icons",children:o?"mic_off":"mic"})}),e.jsxs("button",{id:"cancelButton",onClick:I,className:"flex items-center justify-center px-3 py-2 bg-white/80 hover:bg-blue-100 text-blue-900 rounded-full text-xs font-semibold border-2 border-blue-200 shadow transition-colors sm:hidden active:scale-95 active:bg-blue-100",style:{fontFamily:"inherit",letterSpacing:.2,minHeight:44,minWidth:90,fontSize:14,touchAction:"manipulation",zIndex:10},children:[e.jsx("span",{className:"material-icons text-base mr-1",children:"cancel"}),oe("cancel",h)]}),e.jsx("div",{className:"flex-1 flex justify-center",children:e.jsx("div",{className:"text-white text-xs sm:text-sm bg-blue-900/80 rounded-full px-3 sm:px-4 py-1 shadow-lg border border-white/30 flex items-center justify-center",style:{backdropFilter:"blur(2px)"},children:V(z)})}),e.jsxs(L,{id:"confirmButton",onClick:P,variant:"yellow",className:"flex items-center justify-center sm:hidden text-xs font-bold",style:{minHeight:44,minWidth:120,fontSize:14,zIndex:10},children:[e.jsx("span",{className:"material-icons text-lg mr-2",children:"send"}),oe("confirm",h)]}),e.jsxs("button",{className:"flex items-center justify-center transition-colors",title:"Mic Level",style:{fontSize:22,padding:0,background:"none",border:"none",color:"#d4af37",width:28,height:28},tabIndex:-1,disabled:!0,onMouseOver:M=>M.currentTarget.style.color="#ffd700",onMouseOut:M=>M.currentTarget.style.color="#d4af37",children:[e.jsx("span",{className:"material-icons",children:"graphic_eq"}),e.jsx("span",{className:"ml-1 flex items-end h-4 w-6",children:[...Array(4)].map((M,k)=>e.jsx("span",{style:{display:"inline-block",width:2,height:`${4+Math.round(d/100*12)*(k%2+1)}px`,background:"#d4af37",marginLeft:1,borderRadius:1}},k))})]})]})]}),C&&e.jsxs("div",{id:"realTimeConversation",ref:D,className:"w-full flex flex-col-reverse gap-1 pr-2 relative max-w-full sm:max-w-2xl mx-auto min-h-[60px] max-h-[12vh] overflow-y-auto mb-1",style:{background:"rgba(255,255,255,0.88)",borderRadius:12,border:"1px solid rgba(255,255,255,0.35)",boxShadow:"0px 4px 10px rgba(0,0,0,0.15)",padding:"8px",transition:"box-shadow 0.3s, background 0.3s",fontFamily:"SF Pro Text, Roboto, Open Sans, Arial, sans-serif",fontSize:window.innerWidth<640?14:16,lineHeight:1.5,color:"#222",fontWeight:400,backdropFilter:"blur(2px)",display:"flex",flexDirection:"column",justifyContent:"flex-end"},children:[e.jsx("button",{className:"absolute top-1.5 right-1.5 w-5 h-5 flex items-center justify-center rounded-full bg-white/40 hover:bg-white/70 text-gray-400 hover:text-gray-700 shadow z-10 opacity-60 hover:opacity-90 transition-all",style:{fontSize:14,display:"block"},title:"·∫®n realtime conversation",onClick:()=>S(!1),children:e.jsx("span",{className:"material-icons",style:{fontSize:16},children:"close"})}),e.jsxs("div",{className:"w-full flex flex-col gap-1 pr-2",style:{overflowY:"auto",maxHeight:"28vh"},children:[(console.log("[Interface2] Rendering conversation - conversationTurns.length:",b.length),console.log("[Interface2] showRealtimeConversation:",C),console.log("[Interface2] isActive:",s),null),b.length===0&&e.jsx("div",{className:"text-gray-400 text-base text-center select-none",style:{opacity:.7},children:oe("tap_to_speak",h)}),[...b].reverse().map((M,k)=>(console.log("[Interface2] Rendering turn:",M,"Index:",k),e.jsx("div",{className:"mb-1",children:e.jsx("div",{className:"flex items-start",children:e.jsx("div",{className:"flex-grow",children:M.role==="user"?e.jsx("p",{className:"text-base md:text-lg font-medium text-gray-900",style:{marginBottom:2},children:M.messages[0].content}):e.jsxs("p",{className:"text-base md:text-lg font-medium",style:{marginBottom:2,position:"relative",background:"linear-gradient(90deg, #FF512F, #F09819, #FFD700, #56ab2f, #43cea2, #1e90ff, #6a11cb, #FF512F)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:600,letterSpacing:.2,transition:"background 0.5s"},children:[e.jsx("span",{className:"inline-flex flex-wrap",children:M.messages.map((A,B)=>{const Y=A.content.slice(0,y[A.id]||0);return e.jsxs("span",{style:{whiteSpace:"pre"},children:[Y,B===M.messages.length-1&&k===0&&y[A.id]<A.content.length&&e.jsx("span",{className:"animate-blink text-yellow-500",style:{marginLeft:1},children:"|"})]},A.id)})}),k===0&&M.role==="assistant"&&y[M.messages[M.messages.length-1].id]===M.messages[M.messages.length-1].content.length&&e.jsx("span",{className:"ml-2 animate-ellipsis text-yellow-500",children:"..."})]})})})},M.id)))]})]}),!C&&e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:()=>S(!0),className:"bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-full text-sm",children:"Show Conversation"})}),e.jsx("div",{className:"w-full mt-1",children:e.jsx("div",{className:"w-full flex flex-row items-center gap-x-2 mb-3 px-2",children:e.jsx(F2,{references:T})})})]}),e.jsx("div",{className:"w-1/4 lg:w-1/3 flex-col items-center lg:items-end p-2 space-y-4 overflow-auto hidden sm:flex",style:{maxHeight:"100%"},children:e.jsxs("div",{className:"flex flex-col gap-4 w-full md:w-auto",children:[e.jsxs(L,{id:"endCallButton",onClick:P,variant:"yellow",className:"w-full md:w-auto flex items-center justify-center space-x-2 text-base sm:text-lg",style:{minHeight:56,minWidth:220,zIndex:10},children:[e.jsx("span",{className:"material-icons",children:"send"}),e.jsx("span",{className:"whitespace-nowrap",children:oe("confirm_request",h)})]}),e.jsxs("button",{id:"cancelButtonDesktop",onClick:I,className:"w-full md:w-auto bg-white hover:bg-blue-100 text-blue-900 font-semibold py-3 px-8 rounded-full shadow flex items-center justify-center space-x-2 transition-all duration-200 border-2 border-blue-200 text-base sm:text-lg active:scale-95 active:bg-blue-100",style:{fontFamily:"inherit",letterSpacing:.2,minHeight:56,minWidth:120,touchAction:"manipulation",zIndex:10},children:[e.jsx("span",{className:"material-icons text-lg mr-2",children:"cancel"}),oe("cancel",h)]})]})})]})})},B2="/assets/hotel-exterior-BsmmGNZ1.jpeg",H2=({isActive:s})=>{const{orderSummary:t,setOrderSummary:n,setCurrentInterface:a,setOrder:i,callSummary:r,setCallSummary:o,serviceRequests:l,callDuration:c,callDetails:d,emailSentForCurrentSession:m,setEmailSentForCurrentSession:h,addActiveOrder:p,translateToVietnamese:v,language:x}=et(),{config:g,isLoading:y,error:j}=Fs(),[f,b]=u.useState({}),[w,T]=u.useState("");if(y||!g)return console.log("[DEBUG] Interface3 render:",{hotelConfig:g,configLoading:y}),e.jsx("div",{className:"absolute w-full min-h-screen h-full flex items-center justify-center z-10 bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Loading hotel configuration..."})]})});if(j)return e.jsx("div",{className:"absolute w-full min-h-screen h-full flex items-center justify-center z-10 bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-500 text-lg mb-4",children:"Failed to load hotel configuration"}),e.jsx("p",{className:"text-gray-600",children:j})]})});if(!t)return null;const E=(D,C)=>{t&&n({...t,[D]:C})};u.useEffect(()=>{if(l&&l.length>0){const D=l.reduce((C,S)=>{const N=S.serviceType;return C[N]||(C[N]=[]),C[N].push(S),C},{});if(b(D),t&&(!t.items||t.items.length===0)){const C=l.map((S,N)=>{let I=1;const P=S.details||{},V=S.requestText.match(/(\d+)\s+(towels|bottles|pieces|cups|glasses|plates|servings|items)/i);V?I=parseInt(V[1]):typeof P.people=="number"&&(I=P.people);let M=10;return S.serviceType==="room-service"?M=15:S.serviceType==="housekeeping"?M=8:S.serviceType==="transportation"?M=25:S.serviceType==="tours-activities"?M=35:S.serviceType==="spa"&&(M=30),{id:`item-${N}`,name:S.serviceType,description:S.requestText,quantity:I,price:M}});n({...t,items:C,totalAmount:C.reduce((S,N)=>S+N.price*N.quantity,0)})}}},[l,t,n]),u.useEffect(()=>{if(s&&r&&t){const D=r.content,C=Ts(D);if(C&&C!==t.roomNumber&&n({...t,roomNumber:C}),!l||l.length===0){const S=D.match(/List of Requests:([\s\S]*?)(?:\n\nSpecial Instructions|\n\nThe conversation)/);if(S){const N=S[1],I=/Request (\d+): ([^\n]+)/g;let P;const V=[];let M=1;for(;(P=I.exec(N))!==null;){const k=P[2].trim(),A=P.index,B=N.indexOf(`Request ${parseInt(P[1])+1}:`,A),Y=B>-1?N.substring(A,B):N.substring(A),we=/- ([^:]+): ([^\n]+)/g;let ne;const ue={};for(;(ne=we.exec(Y))!==null;){const ie=ne[1].trim(),$e=ne[2].trim();ue[ie.toLowerCase()]=$e}let W="";ue["service description"]&&(W+=`${ue["service description"]}`),ue.details&&(W+=W?`. ${ue.details}`:ue.details),ue.items&&(W+=W?`
Items: ${ue.items}`:`Items: ${ue.items}`),ue["service timing requested"]&&(W+=`
Timing: ${ue["service timing requested"]}`),ue.destinations&&(W+=`
Destinations: ${ue.destinations}`),W||(W=`Requested ${k} service`),V.push({id:M.toString(),name:k,description:W,quantity:1,price:10}),M++}if(V.length>0&&(!t.items||t.items.length===0)){const k=V.map(ne=>ne.name.toLowerCase().replace(/\s+/g,"-")).join(","),A=Ts(D)||t.roomNumber,B=D.match(/Service Timing Requested:?\s*([^\n]+)/i),Y=B?B[1]:t.deliveryTime;let we=t.deliveryTime;Y&&(/soon|immediate|urgent|right now/i.test(Y)?we="asap":/30 minute|half hour/i.test(Y)?we="30min":/hour|60 minute/i.test(Y)?we="1hour":/schedule|later|specific/i.test(Y)&&(we="specific")),n({...t,items:V,orderType:k,roomNumber:A,deliveryTime:we,totalAmount:V.reduce((ne,ue)=>ne+ue.price*ue.quantity,0)})}}}}},[s,r,t,n]);const z=async()=>{if(!t)return;const D=()=>{if(t.roomNumber&&t.roomNumber!=="unknown")return t.roomNumber;if(r&&r.content){const M=r.content.match(/Room Number:?\s*(\w+)/i);if(M&&M[1])return M[1]}return"unknown"},C=t.items&&t.items.length>0?t.items:[{id:"1",name:"General Service",description:"No details provided",quantity:1,price:0}],S=t.orderType||"Room Service",N=t.deliveryTime||"asap",I=`ORD-${Math.floor(1e4+Math.random()*9e4)}`,P=new Date,V={callId:I,roomNumber:D(),orderType:S,deliveryTime:N,specialInstructions:I,items:C,totalAmount:t.totalAmount||0,status:"pending",createdAt:P.toISOString()};try{if(!(await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(V)})).ok)throw new Error("Failed to create order");i({reference:V.specialInstructions||V.callId,estimatedTime:V.deliveryTime,summary:t,...V}),a("interface4")}catch{alert("Failed to send order to reception!")}},F=()=>{!w.trim()||!r||o({...r,content:`${r.content}

Additional Notes:
${w}`})};return e.jsx("div",{className:`w-full transition-opacity duration-500 ${s?"opacity-100":"opacity-0 pointer-events-none"} z-30`,id:"interface3",style:{backgroundImage:`linear-gradient(${g?.branding?.colors?.primary||"#1e40af"}CC, ${g?.branding?.colors?.secondary||"#d4af37"}99), url(${B2})`,backgroundSize:"cover",backgroundPosition:"center",fontFamily:g.branding.fonts.primary+", SF Pro Text, Roboto, Open Sans, Arial, sans-serif"},children:e.jsx("div",{className:"container mx-auto flex flex-col p-2 sm:p-4 md:p-8",children:e.jsxs("div",{className:"mx-auto w-full max-w-4xl bg-white/90 rounded-2xl shadow-xl p-3 sm:p-6 md:p-10 mb-4 sm:mb-6 flex-grow border border-white/40 backdrop-blur-md",style:{minHeight:420},children:[e.jsx("div",{className:"mb-3 sm:mb-4 pb-2 sm:pb-3 border-b border-gray-200",children:e.jsx("p",{className:"font-poppins font-bold text-xl sm:text-2xl text-blue-900 tracking-wide",children:oe("order_summary",x)})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 sm:gap-10 md:gap-16",children:[e.jsxs("div",{className:"md:w-3/4 w-full space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex sm:hidden flex-row w-full gap-2 mb-2",children:[e.jsxs("button",{className:"flex-1 flex items-center justify-center px-2 py-1.5 bg-white/80 hover:bg-blue-100 text-blue-900 rounded-full text-xs font-semibold border border-white/30 shadow transition-colors",onClick:()=>a("interface1"),children:[e.jsx("span",{className:"material-icons text-base mr-1",children:"cancel"}),oe("cancel",x)]}),e.jsxs(L,{onClick:z,variant:"yellow",className:"flex-1 flex items-center justify-center space-x-2 text-xs font-bold sm:hidden",style:{minHeight:44,minWidth:120,zIndex:10},children:[e.jsx("span",{className:"material-icons",children:"send"}),e.jsx("span",{className:"whitespace-nowrap",children:oe("send_to_reception",x)})]})]}),e.jsxs("div",{className:"flex flex-col gap-2 mb-2 sm:hidden",children:[e.jsxs("div",{className:"flex flex-row w-full gap-2",children:[e.jsx("button",{className:"h-10 px-3 bg-[#ffe082] hover:bg-[#ffe9b3] text-blue-900 rounded-full text-xs font-semibold shadow transition-colors flex-1",onClick:F,disabled:!w.trim(),children:oe("add_note",x)}),e.jsxs("div",{className:"flex items-center space-x-2 w-full justify-center",children:[e.jsx("label",{className:"text-xs text-gray-600 font-medium",children:oe("room_number",x)}),e.jsx("input",{type:"text",placeholder:oe("enter_room_number",x),className:"w-16 p-2 border border-white/30 rounded-xl focus:ring-2 focus:ring-[#d4af37] focus:border-[#d4af37] bg-white/70 text-gray-900 font-semibold text-xs",value:t.roomNumber,onChange:D=>E("roomNumber",D.target.value)})]}),e.jsx("button",{className:"h-10 px-3 bg-white/70 text-blue-900 rounded-full text-xs font-semibold border border-white/30 shadow flex items-center justify-center",onClick:()=>a("interface3vi"),children:e.jsx("span",{className:"material-icons text-base",children:"language"})})]}),e.jsx("textarea",{placeholder:oe("enter_notes",x),className:"w-full p-2 border border-white/30 rounded-xl text-xs bg-white/60 focus:bg-white/90 focus:ring-2 focus:ring-[#d4af37] transition italic font-light text-gray-500",value:w,onChange:D=>T(D.target.value),rows:3,style:{fontFamily:"inherit"}})]}),r&&e.jsxs("div",{id:"summary-container",className:"mb-3 sm:mb-4",children:[e.jsxs("div",{className:"p-3 sm:p-5 bg-white/80 rounded-xl shadow border border-white/30 mb-3 sm:mb-4 relative",style:{backdropFilter:"blur(2px)"},children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg mb-1 sm:mb-2 text-blue-800",children:oe("summary",x)}),e.jsx("div",{className:"text-sm sm:text-base leading-relaxed text-gray-800 whitespace-pre-line",style:{fontWeight:400},children:(r.content||"").split(`
`).filter(C=>!/^Next Step:/i.test(C)&&!/Please Press Send To Reception/i.test(C)).map((C,S)=>{if(/^Guest's Name/i.test(C)){const N=C.replace(/\s*\(used for Guest with a confirmed reservation\)/i,"");return e.jsx("div",{children:e.jsx("b",{children:N})},S)}return/^Room Number:/i.test(C)?e.jsx("div",{children:e.jsx("b",{children:C})},S):/^REQUEST \d+:/i.test(C)?e.jsx("div",{className:"mt-3 mb-1",children:e.jsx("b",{children:C})},S):/^‚Ä¢ Service Timing:/i.test(C)?e.jsx("div",{style:{marginLeft:16},children:e.jsx("b",{children:C})},S):/^‚Ä¢ Order Details:/i.test(C)?e.jsx("div",{style:{marginLeft:16},children:e.jsx("b",{children:C})},S):/^‚Ä¢ Special Requirements:/i.test(C)?e.jsx("div",{style:{marginLeft:16},children:e.jsx("b",{children:C})},S):/^‚Ä¢ [^-].+/.test(C)?e.jsx("div",{style:{marginLeft:32},children:C},S):/^\s*[-‚Ä¢]/.test(C)?e.jsx("div",{style:{marginLeft:32},children:C},S):/^\s*$/.test(C)?e.jsx("div",{style:{height:8}},S):e.jsx("div",{children:C},S)})}),e.jsx("div",{className:"mt-2 sm:mt-3 flex justify-end",children:e.jsxs("div",{className:"text-xs text-gray-500",children:[oe("generated_at",x)," ",new Date(r.timestamp).toLocaleTimeString()]})})]}),e.jsx("div",{className:"text-center mt-2 mb-1",children:e.jsxs("span",{className:"italic text-sm",style:{color:"#2563eb",background:"#e0f2fe",borderRadius:"6px",padding:"4px 12px",display:"inline-block",fontWeight:500},children:["Please Press ",e.jsx("b",{style:{fontWeight:700,color:"#1d4ed8"},children:oe("send_to_reception",x)})," To Complete Your Request"]})})]}),e.jsxs("div",{className:"hidden sm:flex flex-row items-center gap-2 h-10",children:[e.jsx("button",{className:"h-10 px-3 sm:px-4 bg-[#ffe082] hover:bg-[#ffe9b3] text-blue-900 rounded-full text-xs sm:text-sm font-semibold shadow transition-colors",onClick:F,disabled:!w.trim(),children:oe("add_note",x)}),e.jsxs("div",{className:"flex items-center space-x-2 w-full justify-center",children:[e.jsx("label",{className:"text-xs sm:text-base text-gray-600 font-medium",children:oe("room_number",x)}),e.jsx("input",{type:"text",placeholder:oe("enter_room_number",x),className:"w-16 sm:w-32 p-2 border border-white/30 rounded-xl focus:ring-2 focus:ring-[#d4af37] focus:border-[#d4af37] bg-white/70 text-gray-900 font-semibold text-xs sm:text-base",value:t.roomNumber,onChange:D=>E("roomNumber",D.target.value)})]}),e.jsx("button",{className:"h-10 px-3 sm:px-4 bg-white/70 text-blue-900 rounded-full text-xs sm:text-sm font-semibold border border-white/30 shadow flex items-center justify-center",onClick:()=>a("interface3vi"),children:e.jsx("span",{className:"material-icons text-base",children:"language"})})]}),e.jsx("textarea",{placeholder:oe("enter_notes",x),className:"hidden sm:block w-full p-2 sm:p-3 border border-white/30 rounded-xl mb-3 sm:mb-4 text-xs sm:text-sm bg-white/60 focus:bg-white/90 focus:ring-2 focus:ring-[#d4af37] transition italic font-light text-gray-500",value:w,onChange:D=>T(D.target.value),rows:3,style:{fontFamily:"inherit"}})]}),e.jsx("div",{className:"md:w-1/4 w-full hidden sm:flex md:justify-end justify-center",children:e.jsxs("div",{className:"flex flex-col items-end space-y-2 sm:space-y-3 w-full md:w-auto",children:[e.jsxs(L,{onClick:z,variant:"yellow",className:"w-full md:w-auto flex items-center justify-center space-x-2 text-xs sm:text-sm font-bold",style:{minHeight:44,minWidth:160,zIndex:10},children:[e.jsx("span",{className:"material-icons",children:"send"}),e.jsx("span",{className:"whitespace-nowrap",children:oe("send_to_reception",x)})]}),e.jsxs("button",{className:"w-full md:w-auto flex items-center justify-center px-2 sm:px-3 py-1.5 bg-white/80 hover:bg-blue-100 text-blue-900 rounded-full text-xs font-semibold border border-white/30 shadow transition-colors",onClick:()=>a("interface1"),children:[e.jsx("span",{className:"material-icons text-base mr-1",children:"cancel"}),oe("cancel",x)]})]})})]})]})})})},q2=({isActive:s})=>{const{order:t,setCurrentInterface:n,language:a,setOrder:i}=et(),{config:r,isLoading:o,error:l}=Fs();u.useEffect(()=>{s&&(console.clear(),console.log("üé¨ === Interface4 Debug Session Started ==="),console.log("üé¨ Interface4 mounted with isActive:",s),console.log("üé¨ Order:",t))},[s,t]);const c=u.useCallback(()=>{console.log("üè† Return to Home button clicked"),console.log("Current interface before:",s),console.log("Order exists:",!!t);try{console.log("üóëÔ∏è Clearing order..."),i(null),console.log("üîÑ Setting interface to interface1..."),n("interface1"),console.log('‚úÖ Order cleared and setCurrentInterface("interface1") called'),setTimeout(()=>{console.log("‚è∞ Delayed check - Current interface should be interface1"),console.log("‚è∞ Order should be null:",!t)},100)}catch(d){console.error("‚ùå Error in handleReturnHome:",d)}},[s,t,i,n]);return console.log("üîç Interface4 render:",{isActive:s,hasOrder:!!t,orderReference:t?.reference,timestamp:new Date().toISOString()}),console.log("[DEBUG] Interface4 render:",{hotelConfig:r}),o||!r?e.jsx("div",{className:"fixed inset-0 z-50 w-full h-full min-h-screen flex items-center justify-center bg-black/30 backdrop-blur-sm",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-white text-lg",children:"Loading hotel configuration..."})]})}):l?e.jsx("div",{className:"fixed inset-0 z-50 w-full h-full min-h-screen flex items-center justify-center bg-black/30 backdrop-blur-sm",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-500 text-lg mb-4",children:"Failed to load hotel configuration"}),e.jsx("p",{className:"text-white",children:l})]})}):!s||!t?(console.log("‚ùå Interface4 not rendering - isActive:",s,"hasOrder:",!!t),null):e.jsx("div",{className:"fixed inset-0 z-50 w-full h-full min-h-screen flex items-start sm:items-center justify-center bg-black/30 backdrop-blur-sm",id:"interface4",onClick:d=>{d.target===d.currentTarget&&console.log("üñ±Ô∏è Background clicked - not closing dialog")},children:e.jsx("div",{className:"container mx-auto flex flex-col items-center justify-center pt-50 sm:pt-0 p-3 sm:p-5 text-center h-auto",children:e.jsxs("div",{className:"w-full max-w-xs sm:max-w-md bg-white rounded-lg shadow-lg p-4 sm:p-8",style:{fontFamily:r.branding.fonts.primary+", SF Pro Text, Roboto, Open Sans, Arial, sans-serif"},children:[e.jsx("div",{className:"mb-4 sm:mb-6 flex justify-center",children:e.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 rounded-full flex items-center justify-center",style:{backgroundColor:r?.branding?.colors?.primary||"#1e40af"},children:e.jsx("span",{className:"material-icons text-white text-4xl sm:text-5xl",children:"check"})})}),e.jsx("h2",{className:"font-poppins font-bold text-xl sm:text-2xl text-primary mb-2 sm:mb-3",children:oe("order_confirmed",a)}),e.jsx("p",{className:"text-gray-700 mb-4 sm:mb-6 text-sm sm:text-base",children:oe("order_confirmed_message",a)}),e.jsx("div",{className:"bg-neutral p-3 sm:p-4 rounded-lg mb-4 sm:mb-6",children:e.jsxs("p",{className:"font-medium text-gray-800 text-sm sm:text-base",children:[oe("order_reference",a),": ",e.jsx("span",{className:"font-bold",children:t.reference})]})}),e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:oe("estimated_delivery_time",a)}),e.jsx("p",{className:"font-poppins font-bold text-lg sm:text-xl",children:t.estimatedTime})]}),e.jsx("button",{className:"w-full px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-poppins font-medium text-sm sm:text-base transition-colors cursor-pointer",onClick:c,onMouseDown:()=>console.log("üñ±Ô∏è Mouse down on Return to Home button"),onMouseUp:()=>console.log("üñ±Ô∏è Mouse up on Return to Home button"),style:{zIndex:9999,position:"relative",pointerEvents:"auto",backgroundColor:r.branding.colors.secondary,color:"#ffffff"},children:oe("return_to_home",a)})]})})})},V2=({error:s,onRetry:t})=>{const n=()=>{try{localStorage.removeItem("conversationState"),sessionStorage.removeItem("interface1State"),window.scrollTo({top:0,behavior:"smooth"}),t?t():window.location.reload()}catch(a){console.error("Failed to reset Interface1:",a),window.location.reload()}};return e.jsx(Zl,{children:e.jsxs("div",{className:"relative",children:[e.jsx(Jl,{}),e.jsx("div",{className:"relative min-h-[400px] px-4 flex items-center justify-center",children:e.jsxs("div",{className:"max-w-md text-center bg-white/10 backdrop-blur-md rounded-2xl p-8 border border-white/20",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ü§ñ"}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Tr·ª£ l√Ω t·∫°m th·ªùi g·∫∑p s·ª± c·ªë"}),e.jsx("p",{className:"text-white/80 mb-6",children:"ƒê·ª´ng lo l·∫Øng! Ch√∫ng t√¥i s·∫Ω kh√¥i ph·ª•c tr·ª£ l√Ω v·ªÅ tr·∫°ng th√°i ban ƒë·∫ßu."}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:n,className:"w-full px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-full font-semibold transition-all duration-200 active:scale-95",children:"üîÑ Kh√¥i ph·ª•c tr·ª£ l√Ω"}),e.jsx("button",{onClick:()=>window.location.href="/",className:"w-full px-6 py-3 bg-white/20 hover:bg-white/30 text-white rounded-full font-semibold transition-all duration-200 active:scale-95",children:"üè† V·ªÅ trang ch·ªß"})]}),s&&e.jsxs("details",{className:"mt-6 text-left",children:[e.jsx("summary",{className:"cursor-pointer text-sm text-white/60 hover:text-white/80",children:"Chi ti·∫øt k·ªπ thu·∫≠t"}),e.jsx("pre",{className:"mt-2 p-3 bg-black/20 rounded text-xs text-white/70 overflow-auto max-h-32",children:s.toString()})]})]})})]})})},xs=()=>{const s=ga(),t=Ad(),{currentInterface:n,setCurrentInterface:a,language:i,setLanguage:r}=et(),[o,l]=u.useState(i),[c,d]=u.useState({interface1:!1,interface2:!1,interface3:!1,interface3vi:!1,interface3fr:!1,interface4:!1}),[m,h]=u.useState(!1);u.useEffect(()=>{localStorage.getItem("hasVisited")||(h(!0),localStorage.setItem("hasVisited","true"))},[]),u.useEffect(()=>{d({interface1:n==="interface1",interface2:n==="interface2",interface3:n==="interface3",interface3vi:n==="interface3vi",interface3fr:n==="interface3fr",interface4:n==="interface4"})},[n]);const p=[{value:"en",label:"üá∫üá∏ English",flag:"üá∫üá∏"},{value:"vi",label:"üáªüá≥ Ti·∫øng Vi·ªát",flag:"üáªüá≥"},{value:"fr",label:"üá´üá∑ Fran√ßais",flag:"üá´üá∑"},{value:"zh",label:"üá®üá≥ ‰∏≠Êñá",flag:"üá®üá≥"},{value:"ru",label:"üá∑üá∫ –†—É—Å—Å–∫–∏–π",flag:"üá∑üá∫"},{value:"ko",label:"üá∞üá∑ ÌïúÍµ≠Ïñ¥",flag:"üá∞üá∑"}],v=f=>{const b=f;l(b),r(b)},x=()=>{localStorage.removeItem("staffToken"),s("/staff/login")},g=()=>{h(!1)},[y,j]=u.useState(window.innerWidth<768);return u.useEffect(()=>{const f=()=>{j(window.innerWidth<768)};return window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]),e.jsx(Kh,{children:e.jsxs("div",{className:"relative w-full h-full",children:[m&&e.jsx(j1,{onClose:g}),e.jsxs("div",{className:"fixed top-0 left-0 right-0 z-50 flex items-center justify-between px-4 py-2 bg-white/10 backdrop-blur-md border-b border-white/20",style:{height:"42px"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:"/public/assets/references/images/minhon-logo.jpg",alt:"Mi Nhon Hotel",className:"w-10 h-10 rounded-lg object-cover",onError:f=>{f.currentTarget.style.display="none"}}),e.jsx("span",{className:"hidden sm:inline text-white font-semibold",children:"Mi Nhon Hotel"})]}),e.jsx("div",{className:"hidden md:flex items-center text-white/80 text-sm",children:"Voice Assistant"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:o,onChange:f=>v(f.target.value),className:"appearance-none bg-white/20 text-white text-sm px-3 py-1.5 pr-8 rounded-full border border-white/30 focus:outline-none focus:ring-1 focus:ring-white/50 backdrop-blur-sm",style:{minWidth:"100px"},children:p.map(f=>e.jsx("option",{value:f.value,className:"text-black",children:f.label},f.value))}),e.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-white/70",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),e.jsx("button",{onClick:()=>a("interface1"),className:"hidden sm:flex items-center gap-1 px-3 py-1.5 text-white/80 hover:text-white hover:bg-white/10 rounded-full transition-colors text-sm",children:"üè† Steps"}),e.jsx("button",{onClick:()=>s("/call-history"),className:"hidden sm:flex items-center gap-1 px-3 py-1.5 text-white/80 hover:text-white hover:bg-white/10 rounded-full transition-colors text-sm",children:"üìû Call History"}),t.pathname.includes("/staff")&&e.jsx("button",{onClick:x,className:"flex items-center gap-1 px-3 py-1.5 text-white/80 hover:text-white hover:bg-white/10 rounded-full transition-colors text-sm",children:"üö™ Logout"})]})]}),e.jsxs("div",{className:"relative w-full h-full",id:"interfaceContainer",style:{marginTop:"42px",minHeight:"calc(100vh - 42px)"},children:[e.jsx(Ur,{fallbackComponent:e.jsx(V2,{}),onError:(f,b)=>{console.error("üö® [VoiceAssistant] Interface1 Error:",f),console.error("üö® [VoiceAssistant] Error Info:",b)},children:e.jsx(iw,{isActive:c.interface1})}),e.jsx(z2,{isActive:c.interface2}),e.jsx(H2,{isActive:c.interface3||c.interface3vi||c.interface3fr}),e.jsx(q2,{isActive:c.interface4})]}),e.jsx(y1,{position:"bottom",maxVisible:4,autoCloseDelay:1e4,isMobile:y})]})})},G2=u.createContext(void 0);class XC extends pe.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("Hotel configuration error:",t,n)}render(){return this.state.hasError?this.props.fallback||e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[e.jsx(Ce,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Configuration Error"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Failed to load hotel configuration. Please try refreshing the page."}),e.jsxs("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md",children:[e.jsx(me,{className:"w-4 h-4 inline mr-2"}),"Reload Page"]})]})}):this.props.children}}const U2=({children:s})=>{console.log("[DEBUG] HotelProvider rendered");const t=Fs(),{config:n,isLoading:a,error:i,reload:r}=t,o=j=>"",l=j=>"",c=j=>n?.features?.[j]??!1,d=()=>n?.supportedLanguages||[],m=j=>n?.services||[],h=()=>({primary:n?.branding?.colors.primary||"#2E7D32",secondary:n?.branding?.colors.secondary||"#FFC107",accent:n?.branding?.colors.accent||"#FF6B6B"}),p=()=>({primary:n?.branding?.fonts.primary||"Inter",secondary:n?.branding?.fonts.secondary||"Roboto"}),v=()=>null,x=()=>null,g=()=>"UTC",y=()=>"USD";return e.jsx(G2.Provider,{value:{config:n,loading:a,error:i,reload:r,getVapiPublicKey:o,getVapiAssistantId:l,hasFeature:c,getSupportedLanguages:d,getAvailableServices:m,getThemeColors:h,getFontFamilies:p,getContactInfo:v,getLocation:x,getTimezone:g,getCurrency:y},children:s})},W2=hs("rounded-lg border bg-card text-card-foreground transition-all duration-200",{variants:{variant:{default:"shadow-sm hover:shadow-md",elevated:"shadow-md hover:shadow-lg transform hover:-translate-y-1",ghost:"border-none shadow-none hover:bg-accent/50",outline:"bg-transparent hover:bg-accent/50"},size:{default:"p-6",sm:"p-4",lg:"p-8"}},defaultVariants:{variant:"default",size:"default"}}),R=u.forwardRef(({className:s,variant:t,size:n,...a},i)=>e.jsx("div",{ref:i,className:O(W2({variant:t,size:n,className:s})),...a}));R.displayName="Card";const G=u.forwardRef(({className:s,...t},n)=>e.jsx("div",{ref:n,className:O("flex flex-col space-y-1.5",s),...t}));G.displayName="CardHeader";const U=u.forwardRef(({className:s,...t},n)=>e.jsx("h3",{ref:n,className:O("text-2xl font-semibold leading-none tracking-tight",s),...t}));U.displayName="CardTitle";const te=u.forwardRef(({className:s,...t},n)=>e.jsx("p",{ref:n,className:O("text-sm text-muted-foreground",s),...t}));te.displayName="CardDescription";const $=u.forwardRef(({className:s,padded:t=!0,...n},a)=>e.jsx("div",{ref:a,className:O(t&&"p-6 pt-0",s),...n}));$.displayName="CardContent";const K2=u.forwardRef(({className:s,...t},n)=>e.jsx("div",{ref:n,className:O("flex items-center p-6 pt-0",s),...t}));K2.displayName="CardFooter";const Q2=u.forwardRef(({className:s,color:t="primary",...n},a)=>{const i={primary:"bg-primary/10 text-primary",secondary:"bg-secondary/10 text-secondary",success:"bg-green-100 text-green-700",warning:"bg-yellow-100 text-yellow-700",danger:"bg-red-100 text-red-700"};return e.jsx("div",{ref:a,className:O("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium",i[t],s),...n})});Q2.displayName="CardBadge";const X2=u.forwardRef(({className:s,alt:t,...n},a)=>e.jsx("img",{ref:a,className:O("w-full h-48 object-cover rounded-t-lg",s),alt:t,...n}));X2.displayName="CardImage";const Y2=u.forwardRef(({className:s,...t},n)=>e.jsx("div",{ref:n,className:O("absolute top-4 right-4 flex items-center gap-2",s),...t}));Y2.displayName="CardActions";function Z2(){return e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:e.jsx(R,{className:"w-full max-w-md mx-4",children:e.jsxs($,{className:"pt-6",children:[e.jsxs("div",{className:"flex mb-4 gap-2",children:[e.jsx(Ce,{className:"h-8 w-8 text-red-500"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function J2(){const[s,t]=u.useState(null),[n,a]=u.useState(!1),i=et(),r=u.useRef(0),o=u.useCallback(()=>{console.log("useWebSocket env VITE_API_HOST:",void 0),s!==null&&s.close();const m=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`;console.log("Attempting WebSocket connection to",m);const h=new WebSocket(m);return h.onopen=()=>{console.log("WebSocket connection established"),a(!0),r.current=0,i.callDetails&&h.send(JSON.stringify({type:"init",callId:i.callDetails.id}))},h.onmessage=p=>{try{const v=JSON.parse(p.data);console.log("[useWebSocket] Message received:",v),v.type==="transcript"&&(console.log("[useWebSocket] Transcript message:",v),i.addTranscript({callId:v.callId,role:v.role,content:v.content,tenantId:"default"})),v.type==="connected"&&console.log("[useWebSocket] Connected to server:",v.message),v.type==="order_status_update"&&(v.orderId||v.reference)&&v.status&&(console.log("[useWebSocket] Order status update:",v),i.setActiveOrders(x=>x.map(g=>v.reference&&g.reference===v.reference||v.orderId&&g.reference===v.orderId?{...g,status:v.status}:g)))}catch(v){console.error("Error parsing WebSocket message:",v)}},h.onclose=p=>{if(console.log("WebSocket connection closed",p),a(!1),r.current<5){const v=Math.pow(2,r.current)*1e3;console.log(`Reconnecting WebSocket in ${v}ms (attempt ${r.current+1})`),setTimeout(o,v),r.current++}else console.warn("Max WebSocket reconnection attempts reached")},h.onerror=p=>{console.error("WebSocket encountered error",p),h.readyState!==WebSocket.CLOSED&&h.close()},t(h),()=>{h.close()}},[i.callDetails,i.addTranscript,i.activeOrders,i.setActiveOrders]),l=u.useCallback(d=>{s&&n?s.send(JSON.stringify(d)):console.error("Cannot send message, WebSocket not connected")},[s,n]),c=u.useCallback(()=>{n||o()},[n,o]);return u.useEffect(()=>(o(),()=>{s&&s.close()}),[]),u.useEffect(()=>{s&&n&&i.callDetails?.id&&(console.log("Sending init message with callId after availability",i.callDetails.id),s.send(JSON.stringify({type:"init",callId:i.callDetails.id})))},[i.callDetails?.id,s,n]),{connected:n,sendMessage:l,reconnect:c}}const eN=({onLogin:s})=>{const[t,n]=u.useState(""),[a,i]=u.useState(""),[r,o]=u.useState(""),[l,c]=u.useState(!1),d=async m=>{if(m.preventDefault(),!t||!a){o("Please enter both username and password.");return}o("");try{const h=await fetch("/api/staff/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:a})});if(!h.ok){const v=await h.json();o(v.error||"Login failed.");return}const p=await h.json();p.token?(localStorage.setItem("token",p.token),s()):o("Login failed: No token received.")}catch{o("Login failed: Network or server error.")}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-100 to-blue-300",children:e.jsxs("form",{onSubmit:d,className:"bg-white p-8 rounded-xl shadow-lg w-full max-w-md space-y-6 border border-gray-200",children:[e.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-4 text-center",children:"Staff Login"}),r&&e.jsx("div",{className:"text-red-500 text-sm mb-2",children:r}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Username"}),e.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400",value:t,onChange:m=>n(m.target.value),autoFocus:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:l?"text":"password",className:"w-full p-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400",value:a,onChange:m=>i(m.target.value)}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>c(!l),children:l?e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):e.jsxs("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-700 hover:bg-blue-800 text-white font-semibold py-2 rounded-lg transition",children:"Login"})]})})},tN=["ƒê√£ ghi nh·∫≠n","ƒêang th·ª±c hi·ªán","ƒê√£ th·ª±c hi·ªán v√† ƒëang b√†n giao cho kh√°ch","Ho√†n thi·ªán","L∆∞u √Ω kh√°c"],sN=({request:s,onClose:t,onStatusChange:n,onOpenMessage:a})=>{const[i,r]=u.useState(s.status);return s?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 w-full max-w-lg relative",children:[e.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-blue-700",onClick:t,children:"√ó"}),e.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-4",children:"Request Details"}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{children:[e.jsx("b",{children:"Room:"})," ",s.room]}),e.jsxs("div",{children:[e.jsx("b",{children:"Order ID:"})," ",s.id]}),e.jsxs("div",{children:[e.jsx("b",{children:"Guest Name:"})," ",s.guestName]}),e.jsxs("div",{children:[e.jsx("b",{children:"Content:"})," ",s.content]}),e.jsxs("div",{children:[e.jsx("b",{children:"Time:"})," ",s.time]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("b",{children:"Status:"}),e.jsx("select",{className:"border rounded px-2 py-1 text-xs",value:i,onChange:o=>r(o.target.value),children:tN.map(o=>e.jsx("option",{value:o,children:o},o))})]}),e.jsxs("div",{children:[e.jsx("b",{children:"Notes:"})," ",s.notes||"-"]})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded font-semibold",onClick:()=>{i!==s.status&&n(i)},children:"C·∫≠p Nh·∫≠t"}),e.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded font-semibold",onClick:a,children:"Nh·∫Øn kh√°ch"}),e.jsx("button",{className:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded font-semibold",onClick:t,children:"ƒê√≥ng"})]})]})}):null},nN=({messages:s,onSend:t,onClose:n,loading:a})=>{const[i,r]=u.useState(""),o=()=>{i.trim()&&(t(i),r(""))};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-5 w-full max-w-md relative flex flex-col",children:[e.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-blue-700",onClick:n,children:"√ó"}),e.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-3",children:"Nh·∫Øn tin t·ªõi Guest"}),e.jsx("div",{className:"flex-1 overflow-y-auto mb-3 max-h-60 border rounded p-2 bg-gray-50",children:s.length===0?e.jsx("div",{className:"text-gray-400 text-sm text-center",children:"Ch∆∞a c√≥ tin nh·∫Øn"}):s.map(l=>e.jsxs("div",{className:`mb-2 ${l.sender==="staff"?"text-right":"text-left"}`,children:[e.jsxs("div",{className:`inline-block px-3 py-1 rounded-lg ${l.sender==="staff"?"bg-blue-100 text-blue-900":"bg-gray-200 text-gray-800"}`,children:[e.jsxs("span",{className:"font-semibold",children:[l.sender==="staff"?"Staff":"Guest",":"]})," ",l.content]}),e.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:l.time})]},l.id))}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("input",{type:"text",className:"flex-1 border rounded px-2 py-1",placeholder:"Nh·∫≠p tin nh·∫Øn...",value:i,onChange:l=>r(l.target.value),onKeyDown:l=>{l.key==="Enter"&&o()},disabled:a}),e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-1 rounded font-semibold",onClick:o,disabled:a||!i.trim(),children:"G·ª≠i"})]})]})})},Hn=["T·∫•t c·∫£","ƒê√£ ghi nh·∫≠n","ƒêang th·ª±c hi·ªán","ƒê√£ th·ª±c hi·ªán v√† ƒëang b√†n giao cho kh√°ch","Ho√†n thi·ªán","L∆∞u √Ω kh√°c"],Ji=s=>{switch(s){case"ƒê√£ ghi nh·∫≠n":return"bg-gray-300 text-gray-800";case"ƒêang th·ª±c hi·ªán":return"bg-yellow-200 text-yellow-800";case"ƒê√£ th·ª±c hi·ªán v√† ƒëang b√†n giao cho kh√°ch":return"bg-blue-200 text-blue-800";case"Ho√†n thi·ªán":return"bg-green-200 text-green-800";case"L∆∞u √Ω kh√°c":return"bg-red-200 text-red-800";default:return"bg-gray-100 text-gray-700"}},Co=()=>{const[s,t]=u.useState([]),[n,a]=u.useState(null),[i,r]=u.useState(!1),[o,l]=u.useState(!1),[c,d]=u.useState([]),[m,h]=u.useState(!1),[p,v]=u.useState("T·∫•t c·∫£"),[x,g]=u.useState(""),[y,j]=u.useState(""),[f,b]=u.useState(null),[w,T]=u.useState(!1),[E,z]=u.useState(!1),[F,D]=u.useState(""),[C,S]=u.useState(""),[N,I]=u.useState({}),P=ga(),V=()=>localStorage.getItem("staff_token"),M=async()=>{const q=V();if(!q){P("/staff");return}try{const se=await fetch("/api/staff/requests",{headers:{Authorization:`Bearer ${q}`},credentials:"include"});if(se.status===401){localStorage.removeItem("staff_token"),P("/staff");return}const xe=await se.json();console.log("Fetched requests data:",xe),t(xe)}catch(se){console.error("Failed to fetch requests:",se)}};u.useEffect(()=>{M();const q=setInterval(M,3e4);return()=>clearInterval(q)},[]);const k=()=>{r(!1),a(null)},A=async(q,se)=>{const xe=V();if(!xe)return P("/staff");try{await fetch(`/api/staff/requests/${se}/status`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${xe}`},credentials:"include",body:JSON.stringify({status:q})}),t(Ot=>Ot.map(ut=>ut.id===se?{...ut,status:q}:ut)),n&&n.id===se&&a({...n,status:q})}catch(Ot){console.error("Failed to update status:",Ot)}},B=async()=>{if(l(!0),!n)return;const q=V();if(!q)return P("/staff");try{const xe=await(await fetch(`/api/staff/requests/${n.id}/messages`,{headers:{Authorization:`Bearer ${q}`},credentials:"include"})).json();d(xe)}catch{d([])}},Y=()=>l(!1),we=async q=>{h(!0);const se=V();if(!se)return P("/staff");try{await fetch(`/api/staff/requests/${n.id}/message`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${se}`},credentials:"include",body:JSON.stringify({content:q})}),d(xe=>[...xe,{id:(xe.length+1).toString(),sender:"staff",content:q,time:new Date().toLocaleTimeString().slice(0,5)}])}catch{}h(!1)},ne=async()=>{z(!0),D(""),S("")},ue=async()=>{if(F!=="2208"){S("M·∫≠t kh·∫©u kh√¥ng ƒë√∫ng");return}T(!0);try{const q=V();if(!q)return z(!1),P("/staff");const xe=await(await fetch("/api/staff/requests/all",{method:"DELETE",headers:{Authorization:`Bearer ${q}`},credentials:"include"})).json();z(!1),xe.success?(alert(`${xe.message}`),t([])):alert(`L·ªói: ${xe.error||"Kh√¥ng th·ªÉ x√≥a requests"}`)}catch(q){console.error("Error deleting all requests:",q),alert("ƒê√£ x·∫£y ra l·ªói khi x√≥a requests"),z(!1)}finally{T(!1),D("")}},W=s.filter(q=>{if(p!=="T·∫•t c·∫£"&&q.status!==p)return!1;if(x||y){const se=new Date(q.created_at);if(x){const xe=new Date(x);if(xe.setHours(0,0,0,0),se<xe)return!1}if(y){const xe=new Date(y);if(xe.setHours(23,59,59,999),se>xe)return!1}}return!0}),ie=q=>{q.key==="Enter"&&ue(),C&&S("")},$e=q=>{q.stopPropagation()};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-200 p-2 sm:p-6",children:[e.jsxs("div",{className:"max-w-7xl mx-auto bg-white rounded-xl shadow-lg p-3 sm:p-6 border border-gray-200",children:[e.jsxs("div",{className:"flex flex-col items-center mb-6",children:[e.jsx("img",{src:"/assets/references/images/minhon-logo.jpg",alt:"Minhon Logo",className:"h-16 object-contain mb-2"}),e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-blue-900 text-center",children:"Staff Request Management"})]}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("button",{onClick:()=>P("/analytics"),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-semibold shadow transition",children:"View Analytics"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:ne,disabled:w||s.length===0,className:`bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-semibold shadow transition ${w||s.length===0?"opacity-50 cursor-not-allowed":""}`,children:w?"Deleting...":"Delete All Requests"}),e.jsx("button",{onClick:M,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold shadow transition",children:"Refresh"})]})]}),e.jsxs("div",{className:"mb-4 grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[e.jsx("label",{className:"font-semibold text-blue-900 w-full sm:w-auto",children:"L·ªçc theo tr·∫°ng th√°i:"}),e.jsx("select",{className:"w-full sm:w-auto border rounded px-3 py-1 text-sm",value:p,onChange:q=>v(q.target.value),children:Hn.map(q=>e.jsx("option",{value:q,children:q},q))})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[e.jsx("label",{className:"font-semibold text-blue-900 w-full sm:w-auto",children:"L·ªçc theo th·ªùi gian:"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 w-full sm:w-auto",children:[e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("label",{className:"text-sm text-gray-600 min-w-10",children:"T·ª´:"}),e.jsx("input",{type:"date",className:"border rounded px-2 py-1 text-sm w-full",value:x,onChange:q=>g(q.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("label",{className:"text-sm text-gray-600 min-w-10",children:"ƒê·∫øn:"}),e.jsx("input",{type:"date",className:"border rounded px-2 py-1 text-sm w-full",value:y,onChange:q=>j(q.target.value)})]}),(x||y)&&e.jsx("button",{onClick:()=>{g(""),j("")},className:"text-blue-600 hover:text-blue-800 text-sm mt-2 sm:mt-0",children:"X√≥a l·ªçc"})]})]})]}),e.jsx("div",{className:"block sm:hidden",children:e.jsxs("div",{className:"space-y-4",children:[(console.log("Mobile rendering - filteredRequests:",W),null),W.length>0?[...W].sort((q,se)=>new Date(se.created_at).getTime()-new Date(q.created_at).getTime()).map(q=>e.jsxs("div",{className:"border rounded-lg p-3 bg-white shadow-sm",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsxs("div",{className:"font-semibold",children:["Ph√≤ng: ",q.room_number||"N/A"]}),e.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-semibold ${Ji(q.status)}`,children:q.status||"Ch∆∞a x√°c ƒë·ªãnh"})]}),e.jsxs("div",{className:"text-sm text-gray-500 mb-2",children:["Order ID: ",q.orderId||q.id||"N/A"]}),e.jsx("div",{className:"text-xs text-gray-500 mb-3",children:q.created_at?e.jsxs(e.Fragment,{children:[new Date(q.created_at).toLocaleDateString()," ",new Date(q.created_at).toLocaleTimeString()]}):"Th·ªùi gian kh√¥ng x√°c ƒë·ªãnh"}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("button",{onClick:()=>b(f===q.id?null:q.id),className:"w-full flex justify-between items-center py-1 px-2 border rounded bg-gray-50 hover:bg-gray-100",children:[e.jsx("span",{className:"text-sm font-medium text-blue-700",children:f===q.id?"·∫®n n·ªôi dung":"Xem n·ªôi dung"}),e.jsx("svg",{className:`w-4 h-4 text-blue-700 transition-transform ${f===q.id?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),f===q.id&&e.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded-md whitespace-pre-line break-words text-sm",children:q.request_content||"Kh√¥ng c√≥ n·ªôi dung"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("select",{className:"border rounded px-2 py-2 text-sm w-full",value:N[q.id]??q.status,onChange:se=>I(xe=>({...xe,[q.id]:se.target.value})),children:Hn.filter(se=>se!=="T·∫•t c·∫£").map(se=>e.jsx("option",{value:se,children:se},se))}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-2 py-2 rounded text-sm font-semibold",onClick:async()=>{const se=N[q.id];se&&se!==q.status&&(await A(se,q.id),I(xe=>{const{[q.id]:Ot,...ut}=xe;return ut}))},children:"C·∫≠p Nh·∫≠t"}),e.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-2 py-2 rounded text-sm font-semibold",onClick:()=>{a(q),B()},children:"Nh·∫Øn kh√°ch"})]})]})]},q.id)):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("p",{children:"Kh√¥ng c√≥ y√™u c·∫ßu n√†o"}),e.jsx("p",{className:"mt-2 text-sm",children:"Nh·∫•n Refresh ƒë·ªÉ t·∫£i l·∫°i d·ªØ li·ªáu"})]})]})}),e.jsx("div",{className:"hidden sm:block overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-blue-100 text-blue-900",children:[e.jsx("th",{className:"py-2 px-3 text-left",children:"Room"}),e.jsx("th",{className:"py-2 px-3 text-left",children:"Order ID"}),e.jsx("th",{className:"py-2 px-6 text-left w-3/5",children:"Content"}),e.jsx("th",{className:"py-2 px-3 text-left",children:"Time"}),e.jsx("th",{className:"py-2 px-2 text-left w-1/12",children:"Status"}),e.jsx("th",{className:"py-2 px-3 text-left",children:"Action"})]})}),e.jsxs("tbody",{children:[(Array.isArray(W)?[...W].sort((q,se)=>new Date(se.created_at).getTime()-new Date(q.created_at).getTime()):[]).map(q=>e.jsxs("tr",{className:"border-b hover:bg-blue-50",children:[e.jsx("td",{className:"py-2 px-3 font-semibold",children:q.room_number}),e.jsx("td",{className:"py-2 px-3",children:q.orderId||q.id}),e.jsx("td",{className:"py-2 px-6 whitespace-pre-line break-words max-w-4xl",children:q.request_content}),e.jsxs("td",{className:"py-2 px-3",children:[q.created_at&&e.jsx("span",{className:"block whitespace-nowrap",children:new Date(q.created_at).toLocaleDateString()}),q.created_at&&e.jsx("span",{className:"block whitespace-nowrap text-xs text-gray-500",children:new Date(q.created_at).toLocaleTimeString()})]}),e.jsx("td",{className:"py-2 px-2",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${Ji(q.status)} break-words whitespace-normal block text-center`,children:q.status})}),e.jsxs("td",{className:"py-2 px-3 space-x-2",children:[e.jsx("select",{className:"border rounded px-2 py-1 text-xs",value:N[q.id]??q.status,onChange:se=>I(xe=>({...xe,[q.id]:se.target.value})),children:Hn.filter(se=>se!=="T·∫•t c·∫£").map(se=>e.jsx("option",{value:se,children:se},se))}),e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-xs font-semibold",onClick:async()=>{const se=N[q.id];se&&se!==q.status&&(await A(se,q.id),I(xe=>{const{[q.id]:Ot,...ut}=xe;return ut}))},children:"C·∫≠p Nh·∫≠t"}),e.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-xs font-semibold",onClick:()=>{a(q),B()},children:"Nh·∫Øn kh√°ch"})]})]},q.id)),W.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"py-8 text-center text-gray-500",children:"Kh√¥ng c√≥ y√™u c·∫ßu n√†o"})})]})]})})]}),i&&n&&e.jsx(sN,{request:n,onClose:k,onStatusChange:q=>A(q,n.id),onOpenMessage:B}),o&&n&&e.jsx(nN,{messages:c,onClose:Y,onSend:we,loading:m}),E&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md mx-4",onClick:$e,children:[e.jsx("h3",{className:"text-lg font-bold text-red-600 mb-4",children:"X√°c nh·∫≠n x√≥a to√†n b·ªô requests"}),e.jsx("p",{className:"mb-4 text-gray-700",children:"H√†nh ƒë·ªông n√†y s·∫Ω x√≥a t·∫•t c·∫£ requests v√† kh√¥ng th·ªÉ ho√†n t√°c. Vui l√≤ng nh·∫≠p m·∫≠t kh·∫©u ƒë·ªÉ x√°c nh·∫≠n:"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("input",{type:"password",value:F,onChange:q=>D(q.target.value),onKeyDown:ie,className:`w-full px-3 py-2 border rounded ${C?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-red-500`,placeholder:"Nh·∫≠p m·∫≠t kh·∫©u x√°c nh·∫≠n",autoFocus:!0}),C&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:C}),e.jsx("p",{className:"text-gray-500 text-xs mt-2 italic",children:"Bi·ªán ph√°p b·∫£o v·ªá: Ch·ª©c nƒÉng x√≥a y√™u c·∫ßu m·∫≠t kh·∫©u x√°c nh·∫≠n ƒë·ªÉ ngƒÉn ng·ª´a x√≥a d·ªØ li·ªáu do nh·∫ßm l·∫´n."})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>z(!1),className:"px-4 py-2 bg-gray-300 hover:bg-gray-400 rounded transition duration-200",children:"H·ªßy"}),e.jsx("button",{onClick:ue,disabled:w,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded transition duration-200 flex items-center disabled:opacity-70",children:w?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ƒêang x√≥a..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"X√°c nh·∫≠n x√≥a"]})})]})]})})]})},aN=()=>{const[s,t]=u.useState(!1),n=()=>t(!0);return s?e.jsx(Co,{}):e.jsx(eN,{onLogin:n})},er=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF4560"],iN=()=>{const[s,t]=u.useState(null),[n,a]=u.useState([]),[i,r]=u.useState([]),o=ga(),l=async c=>{const d=localStorage.getItem("staff_token");if(!d)return o("/staff"),null;try{const m=await fetch(c,{headers:{Authorization:`Bearer ${d}`}});return m.status===401?(o("/staff"),null):m.json()}catch(m){return console.error(`Failed to fetch from ${c}:`,m),null}};return u.useEffect(()=>{(async()=>{const d=await l("/api/analytics/overview"),m=await l("/api/analytics/service-distribution"),h=await l("/api/analytics/hourly-activity");d&&t(d),m&&a(m),h&&r(h)})()},[]),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-100 to-gray-200 p-4 sm:p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800",children:"Analytics Dashboard"}),e.jsx("button",{onClick:()=>o("/staff/dashboard"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold shadow transition",children:"Back to Staff Dashboard"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Total Calls"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:s?.totalCalls||"..."})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Avg. Call Duration"}),e.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[s?.averageCallDuration||"...","s"]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Languages"}),e.jsx(pt,{width:"100%",height:150,children:e.jsxs(Un,{children:[e.jsx(Wn,{data:s?.languageDistribution,dataKey:"count",nameKey:"language",cx:"50%",cy:"50%",outerRadius:60,fill:"#8884d8",label:!0,children:s?.languageDistribution.map((c,d)=>e.jsx(Kn,{fill:er[d%er.length]},`cell-${d}`))}),e.jsx(xt,{})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Popular Services"}),e.jsx(pt,{width:"100%",height:300,children:e.jsxs(qr,{data:n,margin:{top:5,right:20,left:10,bottom:5},children:[e.jsx(ss,{strokeDasharray:"3 3"}),e.jsx(ns,{dataKey:"serviceType"}),e.jsx(as,{}),e.jsx(xt,{}),e.jsx(mi,{}),e.jsx(Vr,{dataKey:"count",fill:"#8884d8"})]})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Hourly Activity"}),e.jsx(pt,{width:"100%",height:300,children:e.jsxs(va,{data:i,margin:{top:5,right:20,left:10,bottom:5},children:[e.jsx(ss,{strokeDasharray:"3 3"}),e.jsx(ns,{dataKey:"hour"}),e.jsx(as,{}),e.jsx(xt,{}),e.jsx(mi,{}),e.jsx(ys,{type:"monotone",dataKey:"count",stroke:"#82ca9d"})]})})]})]})]})})},rN=hs("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-dark"}},defaultVariants:{variant:"default"}});function ee({className:s,variant:t,...n}){return e.jsx("div",{className:O(rN({variant:t}),s),...n})}function lN(){return Qr.useSyncExternalStore(oN,()=>!0,()=>!1)}function oN(){return()=>{}}var Wa="Avatar",[cN,YC]=Yt(Wa),[dN,ko]=cN(Wa),To=u.forwardRef((s,t)=>{const{__scopeAvatar:n,...a}=s,[i,r]=u.useState("idle");return e.jsx(dN,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:r,children:e.jsx(Te.span,{...a,ref:t})})});To.displayName=Wa;var _o="AvatarImage",Eo=u.forwardRef((s,t)=>{const{__scopeAvatar:n,src:a,onLoadingStatusChange:i=()=>{},...r}=s,o=ko(_o,n),l=uN(a,r),c=Ns(d=>{i(d),o.onImageLoadingStatusChange(d)});return an(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?e.jsx(Te.img,{...r,ref:t,src:a}):null});Eo.displayName=_o;var Ao="AvatarFallback",Po=u.forwardRef((s,t)=>{const{__scopeAvatar:n,delayMs:a,...i}=s,r=ko(Ao,n),[o,l]=u.useState(a===void 0);return u.useEffect(()=>{if(a!==void 0){const c=window.setTimeout(()=>l(!0),a);return()=>window.clearTimeout(c)}},[a]),o&&r.imageLoadingStatus!=="loaded"?e.jsx(Te.span,{...i,ref:t}):null});Po.displayName=Ao;function tr(s,t){return s?t?(s.src!==t&&(s.src=t),s.complete&&s.naturalWidth>0?"loaded":"loading"):"error":"idle"}function uN(s,{referrerPolicy:t,crossOrigin:n}){const a=lN(),i=u.useRef(null),r=a?(i.current||(i.current=new window.Image),i.current):null,[o,l]=u.useState(()=>tr(r,s));return an(()=>{l(tr(r,s))},[r,s]),an(()=>{const c=h=>()=>{l(h)};if(!r)return;const d=c("loaded"),m=c("error");return r.addEventListener("load",d),r.addEventListener("error",m),t&&(r.referrerPolicy=t),typeof n=="string"&&(r.crossOrigin=n),()=>{r.removeEventListener("load",d),r.removeEventListener("error",m)}},[r,n,t]),o}var Io=To,Do=Eo,Mo=Po;const Ka=u.forwardRef(({className:s,...t},n)=>e.jsx(Io,{ref:n,className:O("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...t}));Ka.displayName=Io.displayName;const Qa=u.forwardRef(({className:s,...t},n)=>e.jsx(Do,{ref:n,className:O("aspect-square h-full w-full",s),...t}));Qa.displayName=Do.displayName;const Xa=u.forwardRef(({className:s,...t},n)=>e.jsx(Mo,{ref:n,className:O("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...t}));Xa.displayName=Mo.displayName;const Lo=md,Ro=pd,hN=u.forwardRef(({className:s,inset:t,children:n,...a},i)=>e.jsxs(yr,{ref:i,className:O("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",s),...a,children:[n,e.jsx(Vt,{className:"ml-auto h-4 w-4"})]}));hN.displayName=yr.displayName;const mN=u.forwardRef(({className:s,...t},n)=>e.jsx(jr,{ref:n,className:O("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...t}));mN.displayName=jr.displayName;const Ya=u.forwardRef(({className:s,sideOffset:t=4,...n},a)=>e.jsx(hd,{children:e.jsx(br,{ref:a,sideOffset:t,className:O("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})}));Ya.displayName=br.displayName;const Wt=u.forwardRef(({className:s,inset:t,...n},a)=>e.jsx(wr,{ref:a,className:O("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",s),...n}));Wt.displayName=wr.displayName;const pN=u.forwardRef(({className:s,children:t,checked:n,...a},i)=>e.jsxs(Nr,{ref:i,className:O("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:n,...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Sr,{children:e.jsx(ka,{className:"h-4 w-4"})})}),t]}));pN.displayName=Nr.displayName;const xN=u.forwardRef(({className:s,children:t,...n},a)=>e.jsxs(Cr,{ref:a,className:O("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Sr,{children:e.jsx(Bu,{className:"h-2 w-2 fill-current"})})}),t]}));xN.displayName=Cr.displayName;const Za=u.forwardRef(({className:s,inset:t,...n},a)=>e.jsx(kr,{ref:a,className:O("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",s),...n}));Za.displayName=kr.displayName;const Is=u.forwardRef(({className:s,...t},n)=>e.jsx(Tr,{ref:n,className:O("-mx-1 my-1 h-px bg-muted",s),...t}));Is.displayName=Tr.displayName;const fN=[{href:"/dashboard",icon:_a,label:"T·ªïng quan",description:"Metrics v√† th·ªëng k√™ t·ªïng quan"},{href:"/dashboard/setup",icon:Ze,label:"Thi·∫øt l·∫≠p Assistant",description:"C·∫•u h√¨nh v√† t√πy ch·ªânh AI Assistant"},{href:"/dashboard/analytics",icon:Ca,label:"Ph√¢n t√≠ch",description:"B√°o c√°o v√† th·ªëng k√™ chi ti·∫øt"},{href:"/dashboard/settings",icon:Je,label:"C√†i ƒë·∫∑t",description:"Qu·∫£n l√Ω th√¥ng tin kh√°ch s·∫°n"}],gN=[{href:"/dashboard/billing",icon:vn,label:"Thanh to√°n",description:"Qu·∫£n l√Ω subscription v√† billing",requiresPlan:"basic"},{href:"/dashboard/team",icon:We,label:"Nh√≥m",description:"Qu·∫£n l√Ω team v√† permissions",requiresPlan:"enterprise"}],vN=({href:s,icon:t,label:n,description:a,isActive:i,disabled:r=!1})=>{const o=e.jsxs(L,{variant:i?"default":"ghost",className:O("w-full justify-start gap-3 px-3 py-6 h-auto","hover:bg-gray-100 dark:hover:bg-gray-800",i&&"bg-primary text-primary-foreground hover:bg-primary/90",r&&"opacity-50 cursor-not-allowed hover:bg-transparent"),disabled:r,children:[e.jsx(t,{className:"h-5 w-5 shrink-0"}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("div",{className:"font-medium",children:n}),e.jsx("div",{className:O("text-xs text-muted-foreground",i&&"text-primary-foreground/80"),children:a})]}),r&&e.jsx(ee,{variant:"outline",className:"text-xs",children:"Premium"})]});return r?e.jsx("div",{children:o}):e.jsx(Ee,{href:s,children:o})},yN=({plan:s,status:t})=>{const n=()=>t==="expired"?"destructive":s==="trial"?"secondary":s==="enterprise"?"default":"outline",a=()=>s==="trial"?"D√πng th·ª≠":s==="basic"?"C∆° b·∫£n":s==="premium"?"Cao c·∫•p":s==="enterprise"?"Doanh nghi·ªáp":s;return e.jsx(ee,{variant:n(),className:"text-xs",children:a()})},jN=(s,t)=>{if(!t)return!0;const n={trial:0,basic:1,premium:2,enterprise:3},a=n[s]??0,i=n[t]??0;return a>=i},bN=({isOpen:s,onClose:t,tenantData:n})=>{const[a]=us(),i=[...fN,...gN.filter(r=>r.requiresPlan&&n.subscriptionPlan!=="trial")];return e.jsx("aside",{className:O("fixed inset-y-0 left-0 z-50 w-80 bg-white dark:bg-gray-800 shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0",s?"translate-x-0":"-translate-x-full"),children:e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary text-primary-foreground",children:e.jsx(Cl,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold",children:"Talk2Go"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"SaaS Dashboard"})]})]}),e.jsx(L,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:t,children:e.jsx(wt,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"px-6 py-4 border-b",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-lg",children:n.hotelName}),e.jsx("div",{className:"text-xs text-gray-500",children:n.subscriptionStatus==="active"?"Ho·∫°t ƒë·ªông":"H·∫øt h·∫°n"})]}),e.jsx(yN,{plan:n.subscriptionPlan,status:n.subscriptionStatus})]}),e.jsx(Ee,{href:"/interface1",className:"block mt-3 px-3 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 transition text-center",children:"Xem giao di·ªán kh√°ch"})]}),e.jsx("nav",{className:"flex-1 p-4 space-y-2",children:i.map(r=>{const o=jN(n.subscriptionPlan,r.requiresPlan);return e.jsx(vN,{href:r.href,icon:r.icon,label:r.label,description:r.description,isActive:a===r.href,disabled:!o},r.href)})}),e.jsx("div",{className:"p-4 border-t",children:e.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"¬© 2024 Talk2Go. All rights reserved."})})]})})},ts={id:"tenant-1",hotelName:"Mi Nhon Hotel",subscriptionPlan:"premium",subscriptionStatus:"active",remainingDays:15},wN=[{href:"/dashboard",icon:_a,label:"T·ªïng quan",description:"Metrics v√† th·ªëng k√™ t·ªïng quan"},{href:"/dashboard/setup",icon:Ze,label:"Thi·∫øt l·∫≠p Assistant",description:"C·∫•u h√¨nh v√† t√πy ch·ªânh AI Assistant"},{href:"/dashboard/analytics",icon:Ca,label:"Ph√¢n t√≠ch",description:"B√°o c√°o v√† th·ªëng k√™ chi ti·∫øt"},{href:"/dashboard/settings",icon:Je,label:"C√†i ƒë·∫∑t",description:"Qu·∫£n l√Ω th√¥ng tin kh√°ch s·∫°n"}],NN=s=>{const t=[];return s!=="trial"&&t.push({href:"/dashboard/billing",icon:vn,label:"Thanh to√°n",description:"Qu·∫£n l√Ω subscription v√† billing"}),s==="enterprise"&&t.push({href:"/dashboard/team",icon:We,label:"Nh√≥m",description:"Qu·∫£n l√Ω team v√† permissions"}),t},Ht=({children:s})=>{const[t,n]=u.useState(!1);us();const{tenant:a,logout:i}=Le();return[...wN,...NN(a?.subscriptionPlan||ts.subscriptionPlan)],e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[t&&e.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:()=>n(!1)}),e.jsx(bN,{isOpen:t,onClose:()=>n(!1),tenantData:a||ts}),e.jsxs("div",{className:"lg:ml-80",children:[e.jsx("header",{className:"sticky top-0 z-30 bg-white dark:bg-gray-800 border-b shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(L,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>n(!0),children:e.jsx(Al,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Dashboard"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Qu·∫£n l√Ω kh√°ch s·∫°n v√† AI Assistant"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(L,{variant:"ghost",size:"icon",className:"relative",children:[e.jsx(Kt,{className:"h-5 w-5"}),e.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 bg-red-500 rounded-full text-xs flex items-center justify-center text-white",children:"2"})]}),e.jsxs(Lo,{children:[e.jsx(Ro,{asChild:!0,children:e.jsx(L,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:e.jsxs(Ka,{className:"h-10 w-10",children:[e.jsx(Qa,{src:"",alt:(a||ts).hotelName}),e.jsx(Xa,{className:"bg-primary text-primary-foreground",children:(a||ts).hotelName.charAt(0).toUpperCase()})]})})}),e.jsxs(Ya,{className:"w-56",align:"end",children:[e.jsxs(Za,{className:"flex flex-col",children:[e.jsx("div",{className:"font-medium",children:(a||ts).hotelName}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["ID: ",(a||ts).id]})]}),e.jsx(Is,{}),e.jsxs(Wt,{children:[e.jsx(Je,{className:"mr-2 h-4 w-4"}),"C√†i ƒë·∫∑t t√†i kho·∫£n"]}),e.jsxs(Wt,{children:[e.jsx(kl,{className:"mr-2 h-4 w-4"}),"Tr·ª£ gi√∫p"]}),e.jsx(Is,{}),e.jsxs(Wt,{className:"text-red-600 focus:text-red-600",onClick:i,children:[e.jsx(El,{className:"mr-2 h-4 w-4"}),"ƒêƒÉng xu·∫•t"]})]})]})]})]})}),e.jsx("main",{className:"p-6",children:s})]})]})};var Ja="Progress",ei=100,[SN,ZC]=Yt(Ja),[CN,kN]=SN(Ja),$o=u.forwardRef((s,t)=>{const{__scopeProgress:n,value:a=null,max:i,getValueLabel:r=TN,...o}=s;(i||i===0)&&!sr(i)&&console.error(_N(`${i}`,"Progress"));const l=sr(i)?i:ei;a!==null&&!nr(a,l)&&console.error(EN(`${a}`,"Progress"));const c=nr(a,l)?a:null,d=mn(c)?r(c,l):void 0;return e.jsx(CN,{scope:n,value:c,max:l,children:e.jsx(Te.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":mn(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":zo(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});$o.displayName=Ja;var Fo="ProgressIndicator",Oo=u.forwardRef((s,t)=>{const{__scopeProgress:n,...a}=s,i=kN(Fo,n);return e.jsx(Te.div,{"data-state":zo(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...a,ref:t})});Oo.displayName=Fo;function TN(s,t){return`${Math.round(s/t*100)}%`}function zo(s,t){return s==null?"indeterminate":s===t?"complete":"loading"}function mn(s){return typeof s=="number"}function sr(s){return mn(s)&&!isNaN(s)&&s>0}function nr(s,t){return mn(s)&&!isNaN(s)&&s<=t&&s>=0}function _N(s,t){return`Invalid prop \`max\` of value \`${s}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${ei}\`.`}function EN(s,t){return`Invalid prop \`value\` of value \`${s}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${ei} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Bo=$o,AN=Oo;const ft=u.forwardRef(({className:s,value:t,...n},a)=>e.jsx(Bo,{ref:a,className:O("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...n,children:e.jsx(AN,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));ft.displayName=Bo.displayName;const it={totalCalls:1247,totalCallsGrowth:12.5,averageCallDuration:245,callDurationGrowth:-5.2,activeUsers:89,activeUsersGrowth:8.3,satisfactionScore:4.7,satisfactionGrowth:2.1,languageDistribution:[{language:"Ti·∫øng Vi·ªát",count:687,percentage:55.1},{language:"English",count:423,percentage:33.9},{language:"Fran√ßais",count:137,percentage:11}],recentActivity:[{time:"2 ph√∫t tr∆∞·ªõc",action:"Cu·ªôc g·ªçi t·ª´ ph√≤ng 205",type:"call"},{time:"5 ph√∫t tr∆∞·ªõc",action:"ƒê·∫∑t room service t·ª´ ph√≤ng 301",type:"service"},{time:"12 ph√∫t tr∆∞·ªõc",action:"H·ªèi th√¥ng tin v·ªÅ spa",type:"inquiry"},{time:"18 ph√∫t tr∆∞·ªõc",action:"Ph√†n n√†n v·ªÅ ti·∫øng ·ªìn",type:"complaint"}]},qt={usageLimit:5e3,currentUsage:1247,resetDate:"2024-01-01"},Xs=({title:s,value:t,change:n,icon:a,description:i,suffix:r=""})=>e.jsxs(R,{children:[e.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(U,{className:"text-sm font-medium",children:s}),e.jsx(a,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs($,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[t,r]}),e.jsxs("div",{className:"flex items-center pt-1",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:i}),n!==void 0&&e.jsxs("div",{className:`ml-auto flex items-center text-xs ${n>0?"text-green-600":"text-red-600"}`,children:[e.jsx(Be,{className:`h-3 w-3 mr-1 ${n<0?"rotate-180":""}`}),Math.abs(n),"%"]})]})]})]}),PN=({time:s,action:t,type:n})=>{const a=()=>{switch(n){case"call":return e.jsx(ct,{className:"h-4 w-4 text-blue-500"});case"service":return e.jsx(Ze,{className:"h-4 w-4 text-green-500"});case"inquiry":return e.jsx(Jt,{className:"h-4 w-4 text-purple-500"});case"complaint":return e.jsx(Ce,{className:"h-4 w-4 text-red-500"});default:return e.jsx(bt,{className:"h-4 w-4 text-gray-500"})}};return e.jsxs("div",{className:"flex items-center space-x-3 p-3 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0",children:a()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:t}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:s})]})]})},IN=()=>e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"h-5 w-5"}),"Thao t√°c nhanh"]}),e.jsx(te,{children:"C√°c t√≠nh nƒÉng th∆∞·ªùng d√πng"})]}),e.jsxs($,{className:"space-y-3",children:[e.jsx(Ee,{href:"/dashboard/setup",children:e.jsxs(L,{variant:"outline",className:"w-full justify-start",children:[e.jsx(Ze,{className:"h-4 w-4 mr-2"}),"C·∫•u h√¨nh AI Assistant"]})}),e.jsx(Ee,{href:"/dashboard/analytics",children:e.jsxs(L,{variant:"outline",className:"w-full justify-start",children:[e.jsx(Rs,{className:"h-4 w-4 mr-2"}),"Xem b√°o c√°o chi ti·∫øt"]})}),e.jsx(Ee,{href:"/dashboard/settings",children:e.jsxs(L,{variant:"outline",className:"w-full justify-start",children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),"C√†i ƒë·∫∑t kh√°ch s·∫°n"]})})]})]}),DN=()=>{const s=qt.currentUsage/qt.usageLimit*100;return e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(bt,{className:"h-5 w-5"}),"S·ª≠ d·ª•ng th√°ng n√†y"]}),e.jsx(te,{children:"Theo d√µi gi·ªõi h·∫°n subscription"})]}),e.jsxs($,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Cu·ªôc g·ªçi"}),e.jsxs("span",{children:[qt.currentUsage.toLocaleString()," / ",qt.usageLimit.toLocaleString()]})]}),e.jsx(ft,{value:s,className:"h-2"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"C√≤n l·∫°i"}),e.jsxs("span",{className:"font-medium",children:[(qt.usageLimit-qt.currentUsage).toLocaleString()," cu·ªôc g·ªçi"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(ot,{className:"h-4 w-4"}),e.jsxs("span",{children:["Reset v√†o ",qt.resetDate]})]})]})]})},MN=()=>e.jsxs(R,{children:[e.jsx(G,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(ms,{className:"h-5 w-5 text-green-500"}),"Tr·∫°ng th√°i h·ªá th·ªëng"]})}),e.jsxs($,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"AI Assistant"})]}),e.jsx(ee,{variant:"outline",className:"text-green-600",children:"Ho·∫°t ƒë·ªông"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"Voice API"})]}),e.jsx(ee,{variant:"outline",className:"text-green-600",children:"Ho·∫°t ƒë·ªông"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"Analytics"})]}),e.jsx(ee,{variant:"outline",className:"text-green-600",children:"Ho·∫°t ƒë·ªông"})]})]})]}),LN=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"T·ªïng quan"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Theo d√µi hi·ªáu su·∫•t AI Assistant v√† ho·∫°t ƒë·ªông kh√°ch s·∫°n"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(Xs,{title:"T·ªïng cu·ªôc g·ªçi",value:it.totalCalls.toLocaleString(),change:it.totalCallsGrowth,icon:ct,description:"Th√°ng n√†y"}),e.jsx(Xs,{title:"Th·ªùi gian trung b√¨nh",value:Math.floor(it.averageCallDuration/60),change:it.callDurationGrowth,icon:ot,description:"Ph√∫t/cu·ªôc g·ªçi",suffix:"m"}),e.jsx(Xs,{title:"Ng∆∞·ªùi d√πng ho·∫°t ƒë·ªông",value:it.activeUsers,change:it.activeUsersGrowth,icon:We,description:"Trong 7 ng√†y"}),e.jsx(Xs,{title:"ƒêi·ªÉm h√†i l√≤ng",value:it.satisfactionScore,change:it.satisfactionGrowth,icon:Be,description:"Tr√™n 5 ƒëi·ªÉm",suffix:"/5"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(R,{className:"lg:col-span-2",children:[e.jsxs(G,{children:[e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(ps,{className:"h-5 w-5"}),"Ph√¢n b·ªë ng√¥n ng·ªØ"]}),e.jsx(te,{children:"Ng√¥n ng·ªØ ƒë∆∞·ª£c s·ª≠ d·ª•ng trong c√°c cu·ªôc g·ªçi"})]}),e.jsx($,{children:e.jsx("div",{className:"space-y-4",children:it.languageDistribution.map(s=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium",children:s.language}),e.jsxs("span",{className:"text-muted-foreground",children:[s.count," (",s.percentage,"%)"]})]}),e.jsx(ft,{value:s.percentage,className:"h-2"})]},s.language))})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(IN,{}),e.jsx(DN,{})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(bt,{className:"h-5 w-5"}),"Ho·∫°t ƒë·ªông g·∫ßn ƒë√¢y"]}),e.jsx(te,{children:"C√°c s·ª± ki·ªán m·ªõi nh·∫•t t·ª´ AI Assistant"})]}),e.jsx($,{children:e.jsx("div",{className:"space-y-1",children:it.recentActivity.map((s,t)=>e.jsx(PN,{time:s.time,action:s.action,type:s.type},t))})})]}),e.jsx(MN,{})]})]}),K=u.forwardRef(({className:s,type:t,...n},a)=>e.jsx("input",{type:t,className:O("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm font-medium text-dark placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...n}));K.displayName="Input";var RN="Label",Ho=u.forwardRef((s,t)=>e.jsx(Te.label,{...s,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(s.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Ho.displayName=RN;var qo=Ho;const $N=hs("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),_=u.forwardRef(({className:s,...t},n)=>e.jsx(qo,{ref:n,className:O($N(),s),...t}));_.displayName=qo.displayName;const Ne=jd,Se=bd,je=u.forwardRef(({className:s,children:t,...n},a)=>e.jsxs(_r,{ref:a,className:O("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...n,children:[t,e.jsx(xd,{asChild:!0,children:e.jsx(_t,{className:"h-4 w-4 opacity-50"})})]}));je.displayName=_r.displayName;const Vo=u.forwardRef(({className:s,...t},n)=>e.jsx(Er,{ref:n,className:O("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(zu,{className:"h-4 w-4"})}));Vo.displayName=Er.displayName;const Go=u.forwardRef(({className:s,...t},n)=>e.jsx(Ar,{ref:n,className:O("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(_t,{className:"h-4 w-4"})}));Go.displayName=Ar.displayName;const be=u.forwardRef(({className:s,children:t,position:n="popper",...a},i)=>e.jsx(fd,{children:e.jsxs(Pr,{ref:i,className:O("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:n,...a,children:[e.jsx(Vo,{}),e.jsx(gd,{className:O("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),e.jsx(Go,{})]})}));be.displayName=Pr.displayName;const FN=u.forwardRef(({className:s,...t},n)=>e.jsx(Ir,{ref:n,className:O("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...t}));FN.displayName=Ir.displayName;const H=u.forwardRef(({className:s,children:t,...n},a)=>e.jsxs(Dr,{ref:a,className:O("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(vd,{children:e.jsx(ka,{className:"h-4 w-4"})})}),e.jsx(yd,{children:t})]}));H.displayName=Dr.displayName;const ON=u.forwardRef(({className:s,...t},n)=>e.jsx(Mr,{ref:n,className:O("-mx-1 my-1 h-px bg-muted",s),...t}));ON.displayName=Mr.displayName;var Sn="Checkbox",[zN,JC]=Yt(Sn),[BN,ti]=zN(Sn);function HN(s){const{__scopeCheckbox:t,checked:n,children:a,defaultChecked:i,disabled:r,form:o,name:l,onCheckedChange:c,required:d,value:m="on",internal_do_not_use_render:h}=s,[p,v]=xn({prop:n,defaultProp:i??!1,onChange:c,caller:Sn}),[x,g]=u.useState(null),[y,j]=u.useState(null),f=u.useRef(!1),b=x?!!o||!!x.closest("form"):!0,w={checked:p,disabled:r,setChecked:v,control:x,setControl:g,name:l,form:o,value:m,hasConsumerStoppedPropagationRef:f,required:d,defaultChecked:It(i)?!1:i,isFormControl:b,bubbleInput:y,setBubbleInput:j};return e.jsx(BN,{scope:t,...w,children:qN(h)?h(w):a})}var Uo="CheckboxTrigger",Wo=u.forwardRef(({__scopeCheckbox:s,onKeyDown:t,onClick:n,...a},i)=>{const{control:r,value:o,disabled:l,checked:c,required:d,setControl:m,setChecked:h,hasConsumerStoppedPropagationRef:p,isFormControl:v,bubbleInput:x}=ti(Uo,s),g=Mt(i,m),y=u.useRef(c);return u.useEffect(()=>{const j=r?.form;if(j){const f=()=>h(y.current);return j.addEventListener("reset",f),()=>j.removeEventListener("reset",f)}},[r,h]),e.jsx(Te.button,{type:"button",role:"checkbox","aria-checked":It(c)?"mixed":c,"aria-required":d,"data-state":Zo(c),"data-disabled":l?"":void 0,disabled:l,value:o,...a,ref:g,onKeyDown:De(t,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:De(n,j=>{h(f=>It(f)?!0:!f),x&&v&&(p.current=j.isPropagationStopped(),p.current||j.stopPropagation())})})});Wo.displayName=Uo;var si=u.forwardRef((s,t)=>{const{__scopeCheckbox:n,name:a,checked:i,defaultChecked:r,required:o,disabled:l,value:c,onCheckedChange:d,form:m,...h}=s;return e.jsx(HN,{__scopeCheckbox:n,checked:i,defaultChecked:r,disabled:l,required:o,onCheckedChange:d,name:a,form:m,value:c,internal_do_not_use_render:({isFormControl:p})=>e.jsxs(e.Fragment,{children:[e.jsx(Wo,{...h,ref:t,__scopeCheckbox:n}),p&&e.jsx(Yo,{__scopeCheckbox:n})]})})});si.displayName=Sn;var Ko="CheckboxIndicator",Qo=u.forwardRef((s,t)=>{const{__scopeCheckbox:n,forceMount:a,...i}=s,r=ti(Ko,n);return e.jsx(ua,{present:a||It(r.checked)||r.checked===!0,children:e.jsx(Te.span,{"data-state":Zo(r.checked),"data-disabled":r.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...s.style}})})});Qo.displayName=Ko;var Xo="CheckboxBubbleInput",Yo=u.forwardRef(({__scopeCheckbox:s,...t},n)=>{const{control:a,hasConsumerStoppedPropagationRef:i,checked:r,defaultChecked:o,required:l,disabled:c,name:d,value:m,form:h,bubbleInput:p,setBubbleInput:v}=ti(Xo,s),x=Mt(n,v),g=Lr(r),y=Rr(a);u.useEffect(()=>{const f=p;if(!f)return;const b=window.HTMLInputElement.prototype,T=Object.getOwnPropertyDescriptor(b,"checked").set,E=!i.current;if(g!==r&&T){const z=new Event("click",{bubbles:E});f.indeterminate=It(r),T.call(f,It(r)?!1:r),f.dispatchEvent(z)}},[p,g,r,i]);const j=u.useRef(It(r)?!1:r);return e.jsx(Te.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??j.current,required:l,disabled:c,name:d,value:m,form:h,...t,tabIndex:-1,ref:x,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Yo.displayName=Xo;function qN(s){return typeof s=="function"}function It(s){return s==="indeterminate"}function Zo(s){return It(s)?"indeterminate":s?"checked":"unchecked"}const Jo=u.forwardRef(({className:s,...t},n)=>e.jsx(si,{ref:n,className:O("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...t,children:e.jsx(Qo,{className:O("flex items-center justify-center text-current"),children:e.jsx(ka,{className:"h-4 w-4"})})}));Jo.displayName=si.displayName;const VN=hs("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-dark",{variants:{variant:{default:"bg-background text-dark",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Os=u.forwardRef(({className:s,variant:t,...n},a)=>e.jsx("div",{ref:a,role:"alert",className:O(VN({variant:t}),s),...n}));Os.displayName="Alert";const GN=u.forwardRef(({className:s,...t},n)=>e.jsx("h5",{ref:n,className:O("mb-1 font-medium leading-none tracking-tight",s),...t}));GN.displayName="AlertTitle";const zs=u.forwardRef(({className:s,...t},n)=>e.jsx("div",{ref:n,className:O("text-sm [&_p]:leading-relaxed",s),...t}));zs.displayName="AlertDescription";class UN{constructor(){this.baseUrl="/api/dashboard"}async researchHotel(t){try{return await Bt({url:`${this.baseUrl}/research-hotel`,method:"POST",body:t})}catch(n){throw console.error("Hotel research failed:",n),this.handleApiError(n)}}async generateAssistant(t){try{return await Bt({url:`${this.baseUrl}/generate-assistant`,method:"POST",body:t})}catch(n){throw console.error("Assistant generation failed:",n),this.handleApiError(n)}}async getHotelProfile(){try{return await Bt({url:`${this.baseUrl}/hotel-profile`,method:"GET"})}catch(t){throw console.error("Failed to fetch hotel profile:",t),this.handleApiError(t)}}async updateAssistantConfig(t){try{return await Bt({url:`${this.baseUrl}/assistant-config`,method:"PUT",body:t})}catch(n){throw console.error("Failed to update assistant config:",n),this.handleApiError(n)}}async getAnalytics(){try{return await Bt({url:`${this.baseUrl}/analytics`,method:"GET"})}catch(t){throw console.error("Failed to fetch analytics:",t),this.handleApiError(t)}}async getServiceHealth(){try{return await Bt({url:`${this.baseUrl}/service-health`,method:"GET"})}catch(t){throw console.error("Failed to fetch service health:",t),this.handleApiError(t)}}async resetAssistant(){try{return await Bt({url:`${this.baseUrl}/reset-assistant`,method:"POST"})}catch(t){throw console.error("Failed to reset assistant:",t),this.handleApiError(t)}}handleApiError(t){if(t.error)return t;const n=t.message||"An unexpected error occurred",a=n.match(/^(\d+):\s*(.+)$/);if(a){const[,i,r]=a,o=parseInt(i);try{const l=JSON.parse(r);return{error:l.error||r,details:l.details,feature:l.feature,currentPlan:l.currentPlan,upgradeRequired:l.upgradeRequired,setupRequired:l.setupRequired,assistantRequired:l.assistantRequired,requiresResearch:l.requiresResearch}}catch{return{error:r,details:{statusCode:o}}}}return{error:n,details:{originalError:t}}}}const ec=new UN,WN=s=>s&&typeof s.name=="string"&&typeof s.address=="string"&&Array.isArray(s.services)&&Array.isArray(s.amenities)&&s.policies&&Array.isArray(s.roomTypes),KN=s=>s&&["professional","friendly","luxurious","casual","enthusiastic"].includes(s.personality)&&["formal","friendly","warm","energetic","calm"].includes(s.tone)&&Array.isArray(s.languages)&&s.languages.length>0&&["office","off","hotel-lobby"].includes(s.backgroundSound),QN=[{value:"professional",label:"Chuy√™n nghi·ªáp",description:"L·ªãch s·ª±, trang tr·ªçng v√† ƒë√°ng tin c·∫≠y"},{value:"friendly",label:"Th√¢n thi·ªán",description:"·∫§m √°p, d·ªÖ g·∫ßn v√† h·ªØu √≠ch"},{value:"luxurious",label:"Sang tr·ªçng",description:"Tinh t·∫ø, ƒë·∫≥ng c·∫•p v√† chuy√™n nghi·ªáp"},{value:"casual",label:"Tho·∫£i m√°i",description:"T·ª± nhi√™n, g·∫ßn g≈©i v√† d·ªÖ ch·ªãu"},{value:"enthusiastic",label:"Nhi·ªát t√¨nh",description:"T√≠ch c·ª±c, nƒÉng ƒë·ªông v√† s√¥i n·ªïi"}],XN=[{value:"formal",label:"Trang tr·ªçng",description:"L·ªãch s·ª± v√† chuy√™n nghi·ªáp"},{value:"friendly",label:"Th√¢n thi·ªán",description:"·∫§m √°p v√† d·ªÖ g·∫ßn"},{value:"warm",label:"·∫§m √°p",description:"G·∫ßn g≈©i v√† chƒÉm s√≥c"},{value:"energetic",label:"NƒÉng ƒë·ªông",description:"T√≠ch c·ª±c v√† s√¥i n·ªïi"},{value:"calm",label:"ƒêi·ªÅm tƒ©nh",description:"B√¨nh tƒ©nh v√† th∆∞ th√°i"}],YN=[{value:"vi",label:"Ti·∫øng Vi·ªát",flag:"üáªüá≥"},{value:"en",label:"English",flag:"üá∫üá∏"},{value:"fr",label:"Fran√ßais",flag:"üá´üá∑"},{value:"ko",label:"ÌïúÍµ≠Ïñ¥",flag:"üá∞üá∑"},{value:"zh",label:"‰∏≠Êñá",flag:"üá®üá≥"},{value:"ru",label:"–†—É—Å—Å–∫–∏–π",flag:"üá∑üá∫"}],ZN=[{value:"hotel-lobby",label:"S·∫£nh kh√°ch s·∫°n",description:"Nh·∫°c n·ªÅn nh·∫π nh√†ng"},{value:"office",label:"VƒÉn ph√≤ng",description:"√Çm thanh vƒÉn ph√≤ng"},{value:"off",label:"T·∫Øt √¢m thanh",description:"Kh√¥ng c√≥ √¢m thanh n·ªÅn"}],JN=({state:s,onNext:t,onError:n,onUpdateState:a})=>{const i=(l,c)=>{a({formData:{...s.formData,[l]:c},validation:{...s.validation,[l]:null}})},r=()=>{const l={};return s.formData.hotelName.trim()?s.formData.hotelName.length<2&&(l.hotelName="T√™n kh√°ch s·∫°n ph·∫£i c√≥ √≠t nh·∫•t 2 k√Ω t·ª±"):l.hotelName="T√™n kh√°ch s·∫°n l√† b·∫Øt bu·ªôc",a({validation:{...s.validation,...l}}),Object.keys(l).length===0},o=async()=>{if(r()){a({isResearching:!0,error:null});try{const l=await ec.researchHotel({hotelName:s.formData.hotelName,location:s.formData.location||void 0,researchTier:s.formData.researchTier});l.success&&WN(l.hotelData)?t(l.hotelData):n({error:"D·ªØ li·ªáu kh√°ch s·∫°n kh√¥ng h·ª£p l·ªá"})}catch(l){n(l)}finally{a({isResearching:!1})}}};return e.jsxs(R,{className:"max-w-2xl mx-auto",children:[e.jsxs(G,{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary text-primary-foreground",children:e.jsx(Dt,{className:"h-6 w-6"})})}),e.jsx(U,{className:"text-2xl",children:"T√¨m ki·∫øm th√¥ng tin kh√°ch s·∫°n"}),e.jsx(te,{children:"Ch√∫ng t√¥i s·∫Ω t·ª± ƒë·ªông nghi√™n c·ª©u v√† thu th·∫≠p th√¥ng tin v·ªÅ kh√°ch s·∫°n c·ªßa b·∫°n"})]}),e.jsxs($,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(_,{htmlFor:"hotel-name",children:"T√™n kh√°ch s·∫°n *"}),e.jsx(K,{id:"hotel-name",placeholder:"V√≠ d·ª•: Grand Hotel Saigon",value:s.formData.hotelName,onChange:l=>i("hotelName",l.target.value),className:`mt-1 ${s.validation.hotelName?"border-red-500":""}`}),s.validation.hotelName&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:s.validation.hotelName})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"location",children:"ƒê·ªãa ƒëi·ªÉm (kh√¥ng b·∫Øt bu·ªôc)"}),e.jsx(K,{id:"location",placeholder:"V√≠ d·ª•: Ho Chi Minh City, Vietnam",value:s.formData.location,onChange:l=>i("location",l.target.value),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"research-tier",children:"M·ª©c ƒë·ªô nghi√™n c·ª©u"}),e.jsxs(Ne,{value:s.formData.researchTier,onValueChange:l=>i("researchTier",l),children:[e.jsx(je,{className:"mt-1",children:e.jsx(Se,{})}),e.jsxs(be,{children:[e.jsx(H,{value:"basic",children:"C∆° b·∫£n (Mi·ªÖn ph√≠)"}),e.jsx(H,{value:"advanced",children:"N√¢ng cao (Premium)"})]})]})]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Th√¥ng tin s·∫Ω ƒë∆∞·ª£c thu th·∫≠p:"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Th√¥ng tin c∆° b·∫£n (ƒë·ªãa ch·ªâ, s·ªë ƒëi·ªán tho·∫°i, website)"}),e.jsx("li",{children:"‚Ä¢ D·ªãch v·ª• v√† ti·ªán nghi"}),e.jsx("li",{children:"‚Ä¢ C√°c lo·∫°i ph√≤ng v√† gi√° c·∫£"}),e.jsx("li",{children:"‚Ä¢ Ch√≠nh s√°ch check-in/check-out"}),e.jsx("li",{children:"‚Ä¢ C√°c ƒëi·ªÉm tham quan g·∫ßn ƒë√≥"}),s.formData.researchTier==="advanced"&&e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"‚Ä¢ D·ªØ li·ªáu m·∫°ng x√£ h·ªôi"}),e.jsx("li",{children:"‚Ä¢ Ph√¢n t√≠ch ƒë√°nh gi√° kh√°ch h√†ng"}),e.jsx("li",{children:"‚Ä¢ Th√¥ng tin ƒë·ªëi th·ªß c·∫°nh tranh"})]})]})]}),s.error&&e.jsxs(Os,{variant:"destructive",children:[e.jsx(Ce,{className:"h-4 w-4"}),e.jsxs(zs,{children:[s.error.error,s.error.upgradeRequired&&e.jsx("div",{className:"mt-2",children:e.jsx(L,{variant:"outline",size:"sm",children:"N√¢ng c·∫•p g√≥i d·ªãch v·ª•"})})]})]}),e.jsx(L,{onClick:o,disabled:!s.formData.hotelName.trim()||s.isResearching,className:"w-full",size:"lg",children:s.isResearching?e.jsxs(e.Fragment,{children:[e.jsx(Rt,{className:"w-4 h-4 mr-2 animate-spin"}),"ƒêang t√¨m ki·∫øm..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Dt,{className:"w-4 h-4 mr-2"}),"T√¨m ki·∫øm kh√°ch s·∫°n"]})})]})]})},eS=({state:s,onNext:t,onBack:n,onError:a,onUpdateState:i})=>{const[r,o]=u.useState(!1),[l,c]=u.useState(s.hotelData),[d,m]=u.useState(new Set(["basic"])),h=x=>{const g=new Set(d);g.has(x)?g.delete(x):g.add(x),m(g)},p=()=>{o(!r),r&&l&&i({hotelData:l})},v=()=>{s.hotelData&&t()};return s.hotelData?e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-green-100 text-green-600",children:e.jsx(ms,{className:"h-6 w-6"})})}),e.jsx("h2",{className:"text-2xl font-bold",children:"X√°c nh·∫≠n th√¥ng tin kh√°ch s·∫°n"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Vui l√≤ng ki·ªÉm tra v√† x√°c nh·∫≠n th√¥ng tin ƒë√£ thu th·∫≠p"})]}),e.jsxs("div",{className:"flex justify-center gap-2 mb-6",children:[e.jsxs(L,{variant:r?"default":"outline",onClick:p,size:"sm",children:[e.jsx(Je,{className:"w-4 h-4 mr-2"}),r?"L∆∞u thay ƒë·ªïi":"Ch·ªânh s·ª≠a"]}),e.jsxs(L,{variant:"outline",onClick:n,size:"sm",children:[e.jsx(Zn,{className:"w-4 h-4 mr-2"}),"T√¨m ki·∫øm l·∫°i"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(R,{children:[e.jsx(G,{className:"cursor-pointer",onClick:()=>h("basic"),children:e.jsxs(U,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rn,{className:"h-5 w-5"}),"Th√¥ng tin c∆° b·∫£n"]}),d.has("basic")?e.jsx(_t,{className:"h-4 w-4"}):e.jsx(Vt,{className:"h-4 w-4"})]})}),d.has("basic")&&e.jsxs($,{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(_,{children:"T√™n kh√°ch s·∫°n"}),e.jsx("p",{className:"font-medium",children:s.hotelData.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(_,{children:"ƒê·ªãa ch·ªâ"}),e.jsx("p",{className:"text-sm text-gray-600",children:s.hotelData.address})]}),s.hotelData.phone&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(_,{children:"S·ªë ƒëi·ªán tho·∫°i"}),e.jsx("p",{className:"text-sm",children:s.hotelData.phone})]}),s.hotelData.website&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(_,{children:"Website"}),e.jsxs("a",{href:s.hotelData.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm flex items-center gap-1",children:[s.hotelData.website,e.jsx(qu,{className:"h-3 w-3"})]})]}),s.hotelData.rating&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(_,{children:"ƒê√°nh gi√°"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(is,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"font-medium",children:s.hotelData.rating})]})]})]})]}),e.jsxs(R,{children:[e.jsx(G,{className:"cursor-pointer",onClick:()=>h("services"),children:e.jsxs(U,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"h-5 w-5"}),"D·ªãch v·ª• (",s.hotelData.services.length,")"]}),d.has("services")?e.jsx(_t,{className:"h-4 w-4"}):e.jsx(Vt,{className:"h-4 w-4"})]})}),d.has("services")&&e.jsx($,{children:e.jsx("div",{className:"space-y-2",children:s.hotelData.services.map((x,g)=>e.jsxs("div",{className:"p-2 bg-gray-50 rounded",children:[e.jsx("div",{className:"font-medium text-sm",children:x.name}),e.jsx("div",{className:"text-xs text-gray-600",children:x.description})]},g))})})]}),e.jsxs(R,{children:[e.jsx(G,{className:"cursor-pointer",onClick:()=>h("amenities"),children:e.jsxs(U,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Da,{className:"h-5 w-5"}),"Ti·ªán nghi (",s.hotelData.amenities.length,")"]}),d.has("amenities")?e.jsx(_t,{className:"h-4 w-4"}):e.jsx(Vt,{className:"h-4 w-4"})]})}),d.has("amenities")&&e.jsx($,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:s.hotelData.amenities.map((x,g)=>e.jsx(ee,{variant:"secondary",children:x},g))})})]}),e.jsxs(R,{children:[e.jsx(G,{className:"cursor-pointer",onClick:()=>h("rooms"),children:e.jsxs(U,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(We,{className:"h-5 w-5"}),"Lo·∫°i ph√≤ng (",s.hotelData.roomTypes.length,")"]}),d.has("rooms")?e.jsx(_t,{className:"h-4 w-4"}):e.jsx(Vt,{className:"h-4 w-4"})]})}),d.has("rooms")&&e.jsx($,{children:e.jsx("div",{className:"space-y-3",children:s.hotelData.roomTypes.map((x,g)=>e.jsx("div",{className:"p-3 border rounded",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:x.name}),e.jsx("div",{className:"text-sm text-gray-600",children:x.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-green-600",children:[x.price.toLocaleString()," VND"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"/ ƒë√™m"})]})]})},g))})})]}),e.jsxs(R,{children:[e.jsx(G,{className:"cursor-pointer",onClick:()=>h("policies"),children:e.jsxs(U,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ot,{className:"h-5 w-5"}),"Ch√≠nh s√°ch"]}),d.has("policies")?e.jsx(_t,{className:"h-4 w-4"}):e.jsx(Vt,{className:"h-4 w-4"})]})}),d.has("policies")&&e.jsxs($,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Check-in:"}),e.jsx("span",{className:"font-medium",children:s.hotelData.policies.checkIn})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Check-out:"}),e.jsx("span",{className:"font-medium",children:s.hotelData.policies.checkOut})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"H·ªßy ph√≤ng:"}),e.jsx("span",{className:"font-medium",children:s.hotelData.policies.cancellation})]})]})]}),e.jsxs(R,{children:[e.jsx(G,{className:"cursor-pointer",onClick:()=>h("attractions"),children:e.jsxs(U,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Aa,{className:"h-5 w-5"}),"ƒêi·ªÉm tham quan (",s.hotelData.localAttractions.length,")"]}),d.has("attractions")?e.jsx(_t,{className:"h-4 w-4"}):e.jsx(Vt,{className:"h-4 w-4"})]})}),d.has("attractions")&&e.jsx($,{children:e.jsx("div",{className:"space-y-2",children:s.hotelData.localAttractions.map((x,g)=>e.jsxs("div",{className:"p-2 bg-gray-50 rounded",children:[e.jsx("div",{className:"font-medium text-sm",children:x.name}),e.jsx("div",{className:"text-xs text-gray-600",children:x.description}),x.distance&&e.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["C√°ch ",x.distance]})]},g))})})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(L,{variant:"outline",onClick:n,children:[e.jsx(Zn,{className:"w-4 h-4 mr-2"}),"Quay l·∫°i"]}),e.jsxs(L,{onClick:v,size:"lg",children:["Ti·∫øp t·ª•c",e.jsx(Ou,{className:"w-4 h-4 ml-2"})]})]})]}):e.jsx(R,{className:"max-w-2xl mx-auto",children:e.jsxs($,{className:"text-center py-8",children:[e.jsx(Ce,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),e.jsx("p",{children:"Kh√¥ng t√¨m th·∫•y d·ªØ li·ªáu kh√°ch s·∫°n. Vui l√≤ng th·ª≠ l·∫°i."}),e.jsx(L,{onClick:n,className:"mt-4",children:"Quay l·∫°i"})]})})},tS=({state:s,onNext:t,onBack:n,onError:a,onUpdateState:i})=>{const r=(d,m)=>{i({customization:{...s.customization,[d]:m},validation:{...s.validation,[d]:null}})},o=(d,m)=>{let h=[...s.customization.languages];m?h.push(d):h=h.filter(p=>p!==d),r("languages",h)},l=()=>{const d={};return s.customization.languages.length===0&&(d.languages="Vui l√≤ng ch·ªçn √≠t nh·∫•t m·ªôt ng√¥n ng·ªØ"),i({validation:{...s.validation,...d}}),Object.keys(d).length===0},c=async()=>{if(!(!l()||!s.hotelData)){if(!KN(s.customization)){a({error:"C·∫•u h√¨nh Assistant kh√¥ng h·ª£p l·ªá"});return}i({isGenerating:!0,error:null});try{const d=await ec.generateAssistant({hotelData:s.hotelData,customization:s.customization});d.success?t(d.assistantId):a({error:"Kh√¥ng th·ªÉ t·∫°o Assistant"})}catch(d){a(d)}finally{i({isGenerating:!1})}}};return e.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-purple-100 text-purple-600",children:e.jsx(Ze,{className:"h-6 w-6"})})}),e.jsx("h2",{className:"text-2xl font-bold",children:"T√πy ch·ªânh AI Assistant"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"C√° nh√¢n h√≥a AI Assistant theo phong c√°ch kh√°ch s·∫°n c·ªßa b·∫°n"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(Uu,{className:"h-5 w-5"}),"T√≠nh c√°ch"]}),e.jsx(te,{children:"Ch·ªçn phong c√°ch giao ti·∫øp c·ªßa AI Assistant"})]}),e.jsx($,{children:e.jsxs(Ne,{value:s.customization.personality,onValueChange:d=>r("personality",d),children:[e.jsx(je,{children:e.jsx(Se,{})}),e.jsx(be,{children:QN.map(d=>e.jsx(H,{value:d.value,children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:d.label}),e.jsx("div",{className:"text-xs text-gray-500",children:d.description})]})},d.value))})]})})]}),e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(ki,{className:"h-5 w-5"}),"Gi·ªçng ƒëi·ªáu"]}),e.jsx(te,{children:"Ch·ªçn c√°ch th·ª©c giao ti·∫øp"})]}),e.jsx($,{children:e.jsxs(Ne,{value:s.customization.tone,onValueChange:d=>r("tone",d),children:[e.jsx(je,{children:e.jsx(Se,{})}),e.jsx(be,{children:XN.map(d=>e.jsx(H,{value:d.value,children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:d.label}),e.jsx("div",{className:"text-xs text-gray-500",children:d.description})]})},d.value))})]})})]}),e.jsxs(R,{className:"md:col-span-2",children:[e.jsxs(G,{children:[e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(ps,{className:"h-5 w-5"}),"Ng√¥n ng·ªØ h·ªó tr·ª£"]}),e.jsx(te,{children:"Ch·ªçn c√°c ng√¥n ng·ªØ m√† AI Assistant c√≥ th·ªÉ giao ti·∫øp"})]}),e.jsxs($,{children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:YN.map(d=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Jo,{id:d.value,checked:s.customization.languages.includes(d.value),onCheckedChange:m=>o(d.value,m)}),e.jsxs(_,{htmlFor:d.value,className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("span",{children:d.flag}),e.jsx("span",{children:d.label})]})]},d.value))}),s.validation.languages&&e.jsx("p",{className:"text-sm text-red-500 mt-2",children:s.validation.languages})]})]}),e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(Gu,{className:"h-5 w-5"}),"C√†i ƒë·∫∑t gi·ªçng n√≥i"]}),e.jsx(te,{children:"ƒêi·ªÅu ch·ªânh th·ªùi gian v√† √¢m thanh"})]}),e.jsxs($,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Th·ªùi gian ch·ªù (gi√¢y)"}),e.jsx(K,{type:"number",min:"10",max:"120",value:s.customization.silenceTimeout||30,onChange:d=>r("silenceTimeout",parseInt(d.target.value)),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(_,{children:"Th·ªùi gian t·ªëi ƒëa (gi√¢y)"}),e.jsx(K,{type:"number",min:"300",max:"3600",value:s.customization.maxDuration||1800,onChange:d=>r("maxDuration",parseInt(d.target.value)),className:"mt-1"})]})]})]}),e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(ki,{className:"h-5 w-5"}),"√Çm thanh n·ªÅn"]}),e.jsx(te,{children:"Ch·ªçn √¢m thanh n·ªÅn cho cu·ªôc g·ªçi"})]}),e.jsx($,{children:e.jsxs(Ne,{value:s.customization.backgroundSound,onValueChange:d=>r("backgroundSound",d),children:[e.jsx(je,{children:e.jsx(Se,{})}),e.jsx(be,{children:ZN.map(d=>e.jsx(H,{value:d.value,children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:d.label}),e.jsx("div",{className:"text-xs text-gray-500",children:d.description})]})},d.value))})]})})]})]}),s.error&&e.jsxs(Os,{variant:"destructive",children:[e.jsx(Ce,{className:"h-4 w-4"}),e.jsxs(zs,{children:[s.error.error,s.error.upgradeRequired&&e.jsx("div",{className:"mt-2",children:e.jsx(L,{variant:"outline",size:"sm",children:"N√¢ng c·∫•p g√≥i d·ªãch v·ª•"})})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(L,{variant:"outline",onClick:n,children:[e.jsx(Zn,{className:"w-4 h-4 mr-2"}),"Quay l·∫°i"]}),e.jsx(L,{onClick:c,disabled:s.customization.languages.length===0||s.isGenerating,size:"lg",children:s.isGenerating?e.jsxs(e.Fragment,{children:[e.jsx(Rt,{className:"w-4 h-4 mr-2 animate-spin"}),"ƒêang t·∫°o Assistant..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ze,{className:"w-4 h-4 mr-2"}),"T·∫°o AI Assistant"]})})]})]})},sS=({state:s,onUpdateState:t})=>{const[,n]=us(),a=()=>{n("/dashboard")},i=()=>{n("/dashboard/assistant")};return e.jsxs(R,{className:"max-w-2xl mx-auto",children:[e.jsxs(G,{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-green-100 text-green-600",children:e.jsx(ms,{className:"h-8 w-8"})})}),e.jsx(U,{className:"text-2xl",children:"AI Assistant ƒë√£ s·∫µn s√†ng!"}),e.jsx(te,{className:"text-base",children:"Kh√°ch s·∫°n c·ªßa b·∫°n ƒë√£ ƒë∆∞·ª£c thi·∫øt l·∫≠p th√†nh c√¥ng. AI Assistant hi·ªán c√≥ th·ªÉ ph·ª•c v·ª• kh√°ch h√†ng 24/7."})]}),e.jsxs($,{className:"space-y-6",children:[e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Nh·ªØng g√¨ ƒë√£ ƒë∆∞·ª£c thi·∫øt l·∫≠p:"}),e.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[e.jsx("li",{children:"‚úì Th√¥ng tin kh√°ch s·∫°n ƒë√£ ƒë∆∞·ª£c l∆∞u tr·ªØ"}),e.jsx("li",{children:"‚úì Knowledge base ƒë√£ ƒë∆∞·ª£c t·∫°o"}),e.jsx("li",{children:"‚úì AI Assistant ƒë√£ ƒë∆∞·ª£c c·∫•u h√¨nh"}),e.jsx("li",{children:"‚úì Voice API ƒë√£ ƒë∆∞·ª£c k√≠ch ho·∫°t"}),e.jsx("li",{children:"‚úì Dashboard ƒë√£ s·∫µn s√†ng s·ª≠ d·ª•ng"})]})]}),s.assistantId&&e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Th√¥ng tin Assistant:"}),e.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[e.jsxs("div",{children:["ID: ",e.jsx("code",{className:"bg-blue-100 px-1 rounded",children:s.assistantId})]}),e.jsxs("div",{children:["T√≠nh c√°ch: ",e.jsx("span",{className:"capitalize",children:s.customization.personality})]}),e.jsxs("div",{children:["Ng√¥n ng·ªØ: ",s.customization.languages.join(", ")]})]})]}),e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"B·∫°n c√≥ th·ªÉ b·∫Øt ƒë·∫ßu s·ª≠ d·ª•ng AI Assistant ngay b√¢y gi·ªù ho·∫∑c t√πy ch·ªânh th√™m trong c√†i ƒë·∫∑t."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(L,{onClick:i,variant:"outline",className:"flex-1",children:[e.jsx(ct,{className:"w-4 h-4 mr-2"}),"Ki·ªÉm tra Assistant"]}),e.jsx(L,{onClick:a,size:"lg",className:"flex-1",children:"ƒêi t·ªõi Dashboard"})]})]})]})]})},nS=()=>{const[s,t]=u.useState({currentStep:1,hotelData:null,customization:{personality:"professional",tone:"friendly",languages:["vi"],backgroundSound:"hotel-lobby"},isLoading:!1,error:null,isResearching:!1,isGenerating:!1,assistantId:null,retryCount:0,formData:{hotelName:"",location:"",researchTier:"basic"},validation:{hotelName:null,languages:null}}),n=4,a=s.currentStep/n*100,i=m=>{t(h=>({...h,...m}))},r=m=>{s.currentStep===1&&m?i({hotelData:m,currentStep:2,error:null}):s.currentStep===2?i({currentStep:3,error:null}):s.currentStep===3&&m&&i({assistantId:m,currentStep:4,error:null})},o=()=>{s.currentStep>1&&i({currentStep:s.currentStep-1,error:null})},l=m=>{i({error:m})},c=()=>{i({error:null,retryCount:s.retryCount+1})},d={state:s,onNext:r,onBack:o,onError:l,onUpdateState:i};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"max-w-2xl mx-auto mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:["B∆∞·ªõc ",s.currentStep," / ",n]}),e.jsxs("span",{className:"text-sm text-gray-600",children:[Math.round(a),"%"]})]}),e.jsx(ft,{value:a,className:"h-2"})]}),s.error&&e.jsx("div",{className:"max-w-2xl mx-auto mb-6",children:e.jsxs(Os,{variant:"destructive",children:[e.jsx(Ce,{className:"h-4 w-4"}),e.jsxs(zs,{className:"flex items-center justify-between",children:[e.jsx("span",{children:s.error.error}),e.jsxs(L,{variant:"outline",size:"sm",onClick:c,children:[e.jsx(me,{className:"w-4 h-4 mr-2"}),"Th·ª≠ l·∫°i"]})]})]})}),s.currentStep===1&&e.jsx(JN,{...d}),s.currentStep===2&&e.jsx(eS,{...d}),s.currentStep===3&&e.jsx(tS,{...d}),s.currentStep===4&&e.jsx(sS,{...d})]})})},Ve=u.forwardRef(({className:s,...t},n)=>e.jsx("textarea",{className:O("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:n,...t}));Ve.displayName="Textarea";var Cn="Switch",[aS,e4]=Yt(Cn),[iS,rS]=aS(Cn),tc=u.forwardRef((s,t)=>{const{__scopeSwitch:n,name:a,checked:i,defaultChecked:r,required:o,disabled:l,value:c="on",onCheckedChange:d,form:m,...h}=s,[p,v]=u.useState(null),x=Mt(t,b=>v(b)),g=u.useRef(!1),y=p?m||!!p.closest("form"):!0,[j,f]=xn({prop:i,defaultProp:r??!1,onChange:d,caller:Cn});return e.jsxs(iS,{scope:n,checked:j,disabled:l,children:[e.jsx(Te.button,{type:"button",role:"switch","aria-checked":j,"aria-required":o,"data-state":ic(j),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:x,onClick:De(s.onClick,b=>{f(w=>!w),y&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),y&&e.jsx(ac,{control:p,bubbles:!g.current,name:a,value:c,checked:j,required:o,disabled:l,form:m,style:{transform:"translateX(-100%)"}})]})});tc.displayName=Cn;var sc="SwitchThumb",nc=u.forwardRef((s,t)=>{const{__scopeSwitch:n,...a}=s,i=rS(sc,n);return e.jsx(Te.span,{"data-state":ic(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})});nc.displayName=sc;var lS="SwitchBubbleInput",ac=u.forwardRef(({__scopeSwitch:s,control:t,checked:n,bubbles:a=!0,...i},r)=>{const o=u.useRef(null),l=Mt(o,r),c=Lr(n),d=Rr(t);return u.useEffect(()=>{const m=o.current;if(!m)return;const h=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&v){const x=new Event("click",{bubbles:a});v.call(m,n),m.dispatchEvent(x)}},[c,n,a]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ac.displayName=lS;function ic(s){return s?"checked":"unchecked"}var rc=tc,oS=nc;const he=u.forwardRef(({className:s,...t},n)=>e.jsx(rc,{className:O("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...t,ref:n,children:e.jsx(oS,{className:O("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));he.displayName=rc.displayName;var kn="Tabs",[cS,t4]=Yt(kn,[$r]),lc=$r(),[dS,ni]=cS(kn),oc=u.forwardRef((s,t)=>{const{__scopeTabs:n,value:a,onValueChange:i,defaultValue:r,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=s,m=Sd(l),[h,p]=xn({prop:a,onChange:i,defaultProp:r??"",caller:kn});return e.jsx(dS,{scope:n,baseId:Cd(),value:h,onValueChange:p,orientation:o,dir:m,activationMode:c,children:e.jsx(Te.div,{dir:m,"data-orientation":o,...d,ref:t})})});oc.displayName=kn;var cc="TabsList",dc=u.forwardRef((s,t)=>{const{__scopeTabs:n,loop:a=!0,...i}=s,r=ni(cc,n),o=lc(n);return e.jsx(wd,{asChild:!0,...o,orientation:r.orientation,dir:r.dir,loop:a,children:e.jsx(Te.div,{role:"tablist","aria-orientation":r.orientation,...i,ref:t})})});dc.displayName=cc;var uc="TabsTrigger",hc=u.forwardRef((s,t)=>{const{__scopeTabs:n,value:a,disabled:i=!1,...r}=s,o=ni(uc,n),l=lc(n),c=xc(o.baseId,a),d=fc(o.baseId,a),m=a===o.value;return e.jsx(Nd,{asChild:!0,...l,focusable:!i,active:m,children:e.jsx(Te.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":d,"data-state":m?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...r,ref:t,onMouseDown:De(s.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(a):h.preventDefault()}),onKeyDown:De(s.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(a)}),onFocus:De(s.onFocus,()=>{const h=o.activationMode!=="manual";!m&&!i&&h&&o.onValueChange(a)})})})});hc.displayName=uc;var mc="TabsContent",pc=u.forwardRef((s,t)=>{const{__scopeTabs:n,value:a,forceMount:i,children:r,...o}=s,l=ni(mc,n),c=xc(l.baseId,a),d=fc(l.baseId,a),m=a===l.value,h=u.useRef(m);return u.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),e.jsx(ua,{present:i||m,children:({present:p})=>e.jsx(Te.div,{"data-state":m?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...o,ref:t,style:{...s.style,animationDuration:h.current?"0s":void 0},children:p&&r})})});pc.displayName=mc;function xc(s,t){return`${s}-trigger-${t}`}function fc(s,t){return`${s}-content-${t}`}var uS=oc,gc=dc,vc=hc,yc=pc;const dt=uS,nt=u.forwardRef(({className:s,...t},n)=>e.jsx(gc,{ref:n,className:O("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...t}));nt.displayName=gc.displayName;const ce=u.forwardRef(({className:s,...t},n)=>e.jsx(vc,{ref:n,className:O("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-dark data-[state=active]:shadow-sm",s),...t}));ce.displayName=vc.displayName;const de=u.forwardRef(({className:s,...t},n)=>e.jsx(yc,{ref:n,className:O("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...t}));de.displayName=yc.displayName;const sn={id:"asst_abc123",name:"Mi Nhon Hotel AI Concierge",personality:"professional",tone:"friendly",languages:["vi","en","fr"],voiceId:"jennifer",silenceTimeout:30,maxDuration:600,backgroundSound:"hotel-lobby",systemPrompt:"You are the AI concierge for Mi Nhon Hotel...",status:"active",lastUpdated:"2024-01-15T10:30:00Z"},fs={totalCalls:1247,averageRating:4.7,responseTime:1.2,successRate:96.5,topIntents:[{intent:"Room Service",count:342,percentage:27.4},{intent:"Hotel Information",count:298,percentage:23.9},{intent:"Spa Booking",count:187,percentage:15},{intent:"Restaurant Reservation",count:156,percentage:12.5}]},hS=()=>{const[s,t]=u.useState(sn),[n,a]=u.useState(!1),i=async()=>{a(!0);try{await new Promise(r=>setTimeout(r,1e3)),console.log("Saving configuration:",s)}catch(r){console.error("Failed to save configuration:",r)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"h-5 w-5"}),"C·∫•u h√¨nh c∆° b·∫£n"]}),e.jsx(te,{children:"Thi·∫øt l·∫≠p th√¥ng tin v√† h√†nh vi c·ªßa AI Assistant"})]}),e.jsxs($,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(_,{htmlFor:"assistant-name",children:"T√™n Assistant"}),e.jsx(K,{id:"assistant-name",value:s.name,onChange:r=>t(o=>({...o,name:r.target.value})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"voice-id",children:"Gi·ªçng n√≥i"}),e.jsxs(Ne,{value:s.voiceId,onValueChange:r=>t(o=>({...o,voiceId:r})),children:[e.jsx(je,{className:"mt-1",children:e.jsx(Se,{})}),e.jsxs(be,{children:[e.jsx(H,{value:"jennifer",children:"Jennifer (N·ªØ, Ti·∫øng Anh)"}),e.jsx(H,{value:"david",children:"David (Nam, Ti·∫øng Anh)"}),e.jsx(H,{value:"linh",children:"Linh (N·ªØ, Ti·∫øng Vi·ªát)"}),e.jsx(H,{value:"duc",children:"ƒê·ª©c (Nam, Ti·∫øng Vi·ªát)"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(_,{htmlFor:"personality",children:"T√≠nh c√°ch"}),e.jsxs(Ne,{value:s.personality,onValueChange:r=>t(o=>({...o,personality:r})),children:[e.jsx(je,{className:"mt-1",children:e.jsx(Se,{})}),e.jsxs(be,{children:[e.jsx(H,{value:"professional",children:"Chuy√™n nghi·ªáp"}),e.jsx(H,{value:"friendly",children:"Th√¢n thi·ªán"}),e.jsx(H,{value:"luxurious",children:"Sang tr·ªçng"}),e.jsx(H,{value:"casual",children:"Tho·∫£i m√°i"})]})]})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"tone",children:"Gi·ªçng ƒëi·ªáu"}),e.jsxs(Ne,{value:s.tone,onValueChange:r=>t(o=>({...o,tone:r})),children:[e.jsx(je,{className:"mt-1",children:e.jsx(Se,{})}),e.jsxs(be,{children:[e.jsx(H,{value:"formal",children:"L·ªãch s·ª±"}),e.jsx(H,{value:"friendly",children:"Th√¢n thi·ªán"}),e.jsx(H,{value:"warm",children:"·∫§m √°p"}),e.jsx(H,{value:"energetic",children:"NƒÉng ƒë·ªông"}),e.jsx(H,{value:"calm",children:"B√¨nh tƒ©nh"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(_,{htmlFor:"silence-timeout",children:"Th·ªùi gian ch·ªù (gi√¢y)"}),e.jsx(K,{id:"silence-timeout",type:"number",value:s.silenceTimeout,onChange:r=>t(o=>({...o,silenceTimeout:parseInt(r.target.value)})),className:"mt-1",min:"10",max:"120"})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"max-duration",children:"Th·ªùi l∆∞·ª£ng t·ªëi ƒëa (gi√¢y)"}),e.jsx(K,{id:"max-duration",type:"number",value:s.maxDuration,onChange:r=>t(o=>({...o,maxDuration:parseInt(r.target.value)})),className:"mt-1",min:"300",max:"3600"})]})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"background-sound",children:"√Çm thanh n·ªÅn"}),e.jsxs(Ne,{value:s.backgroundSound,onValueChange:r=>t(o=>({...o,backgroundSound:r})),children:[e.jsx(je,{className:"mt-1",children:e.jsx(Se,{})}),e.jsxs(be,{children:[e.jsx(H,{value:"hotel-lobby",children:"S·∫£nh kh√°ch s·∫°n"}),e.jsx(H,{value:"office",children:"VƒÉn ph√≤ng"}),e.jsx(H,{value:"off",children:"T·∫Øt √¢m thanh n·ªÅn"})]})]})]})]})]}),e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(Jt,{className:"h-5 w-5"}),"System Prompt"]}),e.jsx(te,{children:"H∆∞·ªõng d·∫´n chi ti·∫øt cho AI Assistant v·ªÅ c√°ch h√†nh x·ª≠ v√† tr·∫£ l·ªùi"})]}),e.jsx($,{children:e.jsx(Ve,{value:s.systemPrompt,onChange:r=>t(o=>({...o,systemPrompt:r.target.value})),rows:8,className:"font-mono text-sm",placeholder:"Nh·∫≠p system prompt cho AI Assistant..."})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(L,{onClick:i,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(Rt,{className:"w-4 h-4 mr-2 animate-spin"}),"ƒêang l∆∞u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"w-4 h-4 mr-2"}),"L∆∞u c·∫•u h√¨nh"]})})})]})},mS=()=>{const[s,t]=u.useState(!1),[n,a]=u.useState(""),[i,r]=u.useState(""),[o,l]=u.useState(!1),c=async()=>{if(n.trim()){l(!0);try{await new Promise(d=>setTimeout(d,2e3)),r(`Xin ch√†o! T√¥i l√† AI Assistant c·ªßa Mi Nhon Hotel. T√¥i c√≥ th·ªÉ gi√∫p b·∫°n v·ªÅ ${n}. B·∫°n c√≥ c·∫ßn t√¥i h·ªó tr·ª£ g√¨ th√™m kh√¥ng?`)}catch{r("ƒê√£ x·∫£y ra l·ªói khi ki·ªÉm tra. Vui l√≤ng th·ª≠ l·∫°i.")}finally{l(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(Ci,{className:"h-5 w-5"}),"Test AI Assistant"]}),e.jsx(te,{children:"Ki·ªÉm tra ph·∫£n h·ªìi c·ªßa AI Assistant v·ªõi c√°c c√¢u h·ªèi m·∫´u"})]}),e.jsxs($,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{id:"test-mode",checked:s,onCheckedChange:t}),e.jsx(_,{htmlFor:"test-mode",children:"Ch·∫ø ƒë·ªô ki·ªÉm tra"})]}),s&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(_,{htmlFor:"test-phrase",children:"C√¢u h·ªèi th·ª≠ nghi·ªám"}),e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsx(K,{id:"test-phrase",value:n,onChange:d=>a(d.target.value),placeholder:"V√≠ d·ª•: T√¥i mu·ªën ƒë·∫∑t ph√≤ng",className:"flex-1"}),e.jsx(L,{onClick:c,disabled:!n.trim()||o,children:o?e.jsx(Rt,{className:"w-4 h-4 animate-spin"}):e.jsx(Ci,{className:"w-4 h-4"})})]})]}),i&&e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx(_,{className:"text-sm font-medium",children:"Ph·∫£n h·ªìi c·ªßa AI:"}),e.jsx("p",{className:"text-sm text-gray-700 mt-1",children:i})]})]})]})]}),e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsx(U,{children:"M·∫´u c√¢u h·ªèi th∆∞·ªùng g·∫∑p"}),e.jsx(te,{children:"C√°c c√¢u h·ªèi m√† kh√°ch h√†ng th∆∞·ªùng h·ªèi"})]}),e.jsx($,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:["T√¥i mu·ªën ƒë·∫∑t ph√≤ng","Gi·ªù check-in l√† m·∫•y gi·ªù?","Kh√°ch s·∫°n c√≥ d·ªãch v·ª• spa kh√¥ng?","T√¥i mu·ªën ƒë·∫∑t b√†n ƒÉn t·ªëi","L√†m sao ƒë·ªÉ ƒëi s√¢n bay?","C√≥ wifi mi·ªÖn ph√≠ kh√¥ng?","T√¥i mu·ªën g·ªçi room service","Kh√°ch s·∫°n c√≥ h·ªì b∆°i kh√¥ng?"].map((d,m)=>e.jsxs(L,{variant:"outline",size:"sm",className:"justify-start text-left h-auto p-2",onClick:()=>a(d),children:[e.jsx(Jt,{className:"w-3 h-3 mr-2 shrink-0"}),e.jsx("span",{className:"text-xs",children:d})]},m))})})]})]})},pS=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(R,{children:[e.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(U,{className:"text-sm font-medium",children:"T·ªïng cu·ªôc g·ªçi"}),e.jsx(ct,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs($,{children:[e.jsx("div",{className:"text-2xl font-bold",children:fs.totalCalls.toLocaleString()}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Th√°ng n√†y"})]})]}),e.jsxs(R,{children:[e.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(U,{className:"text-sm font-medium",children:"ƒê√°nh gi√° trung b√¨nh"}),e.jsx(bt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs($,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[fs.averageRating,"/5"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"ƒêi·ªÉm h√†i l√≤ng"})]})]}),e.jsxs(R,{children:[e.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(U,{className:"text-sm font-medium",children:"Th·ªùi gian ph·∫£n h·ªìi"}),e.jsx(ot,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs($,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[fs.responseTime,"s"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Trung b√¨nh"})]})]}),e.jsxs(R,{children:[e.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(U,{className:"text-sm font-medium",children:"T·ª∑ l·ªá th√†nh c√¥ng"}),e.jsx(ms,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs($,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[fs.successRate,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Cu·ªôc g·ªçi th√†nh c√¥ng"})]})]})]}),e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsx(U,{children:"√ù ƒë·ªãnh ph·ªï bi·∫øn"}),e.jsx(te,{children:"C√°c y√™u c·∫ßu m√† kh√°ch h√†ng th∆∞·ªùng h·ªèi nh·∫•t"})]}),e.jsx($,{children:e.jsx("div",{className:"space-y-4",children:fs.topIntents.map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),e.jsx("span",{className:"font-medium",children:s.intent})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx("span",{children:s.count}),e.jsxs(ee,{variant:"outline",children:[s.percentage,"%"]})]})]},t))})})]})]}),xS=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"AI Assistant"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Qu·∫£n l√Ω v√† t√πy ch·ªânh AI Assistant cho kh√°ch s·∫°n"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(ee,{variant:"outline",className:"text-green-600",children:[e.jsx(ms,{className:"w-3 h-3 mr-1"}),"Ho·∫°t ƒë·ªông"]})})]}),e.jsxs(R,{children:[e.jsx(G,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"h-5 w-5"}),"Tr·∫°ng th√°i Assistant"]})}),e.jsx($,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(_,{className:"text-sm font-medium",children:"T√™n Assistant"}),e.jsx("p",{className:"text-sm text-gray-600",children:sn.name})]}),e.jsxs("div",{children:[e.jsx(_,{className:"text-sm font-medium",children:"ID Assistant"}),e.jsx("p",{className:"text-sm text-gray-600 font-mono",children:sn.id})]}),e.jsxs("div",{children:[e.jsx(_,{className:"text-sm font-medium",children:"C·∫≠p nh·∫≠t l·∫ßn cu·ªëi"}),e.jsx("p",{className:"text-sm text-gray-600",children:new Date(sn.lastUpdated).toLocaleString("vi-VN")})]})]})})]}),e.jsxs(dt,{defaultValue:"config",className:"space-y-4",children:[e.jsxs(nt,{className:"grid w-full grid-cols-3",children:[e.jsx(ce,{value:"config",children:"C·∫•u h√¨nh"}),e.jsx(ce,{value:"test",children:"Ki·ªÉm tra"}),e.jsx(ce,{value:"performance",children:"Hi·ªáu su·∫•t"})]}),e.jsx(de,{value:"config",className:"space-y-4",children:e.jsx(hS,{})}),e.jsx(de,{value:"test",className:"space-y-4",children:e.jsx(mS,{})}),e.jsx(de,{value:"performance",className:"space-y-4",children:e.jsx(pS,{})})]})]}),Ge={overview:{totalCalls:1247,totalCallsGrowth:12.5,averageCallDuration:245,callDurationGrowth:-5.2,uniqueUsers:89,uniqueUsersGrowth:8.3,satisfactionScore:4.7,satisfactionGrowth:2.1},callsByHour:[{hour:"00",calls:12},{hour:"01",calls:8},{hour:"02",calls:5},{hour:"03",calls:3},{hour:"04",calls:2},{hour:"05",calls:4},{hour:"06",calls:15},{hour:"07",calls:28},{hour:"08",calls:45},{hour:"09",calls:67},{hour:"10",calls:89},{hour:"11",calls:78},{hour:"12",calls:95},{hour:"13",calls:87},{hour:"14",calls:92},{hour:"15",calls:85},{hour:"16",calls:78},{hour:"17",calls:65},{hour:"18",calls:82},{hour:"19",calls:75},{hour:"20",calls:58},{hour:"21",calls:45},{hour:"22",calls:32},{hour:"23",calls:22}],languageDistribution:[{language:"Ti·∫øng Vi·ªát",calls:687,percentage:55.1},{language:"English",calls:423,percentage:33.9},{language:"Fran√ßais",calls:137,percentage:11}],intentDistribution:[{intent:"Room Service",calls:342,percentage:27.4},{intent:"Hotel Information",calls:298,percentage:23.9},{intent:"Spa Booking",calls:187,percentage:15},{intent:"Restaurant Reservation",calls:156,percentage:12.5},{intent:"Housekeeping",calls:98,percentage:7.9},{intent:"Concierge",calls:87,percentage:7},{intent:"Complaints",calls:45,percentage:3.6},{intent:"Other",calls:34,percentage:2.7}],callsByDay:[{day:"Th·ª© 2",calls:145},{day:"Th·ª© 3",calls:178},{day:"Th·ª© 4",calls:189},{day:"Th·ª© 5",calls:234},{day:"Th·ª© 6",calls:267},{day:"Th·ª© 7",calls:156},{day:"Ch·ªß nh·∫≠t",calls:78}],satisfactionByIntent:[{intent:"Room Service",rating:4.8},{intent:"Hotel Information",rating:4.9},{intent:"Spa Booking",rating:4.6},{intent:"Restaurant Reservation",rating:4.7},{intent:"Housekeeping",rating:4.5},{intent:"Concierge",rating:4.8},{intent:"Complaints",rating:3.2}]},Ys=({title:s,value:t,change:n,icon:a,description:i,suffix:r=""})=>e.jsxs(R,{children:[e.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(U,{className:"text-sm font-medium",children:s}),e.jsx(a,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs($,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[t,r]}),e.jsxs("div",{className:"flex items-center pt-1",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:i}),n!==void 0&&e.jsxs("div",{className:`ml-auto flex items-center text-xs ${n>0?"text-green-600":"text-red-600"}`,children:[e.jsx(Be,{className:`h-3 w-3 mr-1 ${n<0?"rotate-180":""}`}),Math.abs(n),"%"]})]})]})]}),fS=({data:s,dataKey:t,nameKey:n,title:a})=>{const i=Math.max(...s.map(r=>r[t]));return e.jsxs(R,{children:[e.jsx(G,{children:e.jsx(U,{className:"text-base",children:a})}),e.jsx($,{children:e.jsx("div",{className:"space-y-2",children:s.map((r,o)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-20 text-sm text-gray-600 text-right",children:r[n]}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${r[t]/i*100}%`}})}),e.jsx("div",{className:"w-16 text-sm font-medium text-right",children:r[t]})]},o))})})]})},gS=()=>{const[s,t]=u.useState("30d"),[n,a]=u.useState("all");return e.jsxs(R,{children:[e.jsx(G,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(Ta,{className:"h-5 w-5"}),"B·ªô l·ªçc"]})}),e.jsx($,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Kho·∫£ng th·ªùi gian"}),e.jsxs(Ne,{value:s,onValueChange:t,children:[e.jsx(je,{className:"mt-1",children:e.jsx(Se,{})}),e.jsxs(be,{children:[e.jsx(H,{value:"7d",children:"7 ng√†y qua"}),e.jsx(H,{value:"30d",children:"30 ng√†y qua"}),e.jsx(H,{value:"90d",children:"90 ng√†y qua"}),e.jsx(H,{value:"1y",children:"1 nƒÉm qua"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Ng√¥n ng·ªØ"}),e.jsxs(Ne,{value:n,onValueChange:a,children:[e.jsx(je,{className:"mt-1",children:e.jsx(Se,{})}),e.jsxs(be,{children:[e.jsx(H,{value:"all",children:"T·∫•t c·∫£"}),e.jsx(H,{value:"vi",children:"Ti·∫øng Vi·ªát"}),e.jsx(H,{value:"en",children:"English"}),e.jsx(H,{value:"fr",children:"Fran√ßais"})]})]})]}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(me,{className:"h-4 w-4 mr-2"}),"L√†m m·ªõi"]}),e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Xu·∫•t Excel"]})]})]})})]})},vS=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Ys,{title:"T·ªïng cu·ªôc g·ªçi",value:Ge.overview.totalCalls.toLocaleString(),change:Ge.overview.totalCallsGrowth,icon:ct,description:"Th√°ng n√†y"}),e.jsx(Ys,{title:"Th·ªùi gian trung b√¨nh",value:Math.floor(Ge.overview.averageCallDuration/60),change:Ge.overview.callDurationGrowth,icon:ot,description:"Ph√∫t/cu·ªôc g·ªçi",suffix:"m"}),e.jsx(Ys,{title:"Ng∆∞·ªùi d√πng duy nh·∫•t",value:Ge.overview.uniqueUsers,change:Ge.overview.uniqueUsersGrowth,icon:We,description:"Th√°ng n√†y"}),e.jsx(Ys,{title:"ƒêi·ªÉm h√†i l√≤ng",value:Ge.overview.satisfactionScore,change:Ge.overview.satisfactionGrowth,icon:Be,description:"Tr√™n 5 ƒëi·ªÉm",suffix:"/5"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(fS,{data:Ge.callsByDay,dataKey:"calls",nameKey:"day",title:"Cu·ªôc g·ªçi theo ng√†y trong tu·∫ßn"}),e.jsxs(R,{children:[e.jsx(G,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(ps,{className:"h-5 w-5"}),"Ph√¢n b·ªë ng√¥n ng·ªØ"]})}),e.jsx($,{children:e.jsx("div",{className:"space-y-3",children:Ge.languageDistribution.map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-primary rounded-full"}),e.jsx("span",{className:"font-medium",children:s.language})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:s.calls}),e.jsxs(ee,{variant:"outline",children:[s.percentage,"%"]})]})]},t))})})]})]})]}),yS=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsx(U,{children:"Cu·ªôc g·ªçi theo gi·ªù"}),e.jsx(te,{children:"Ph√¢n b·ªë cu·ªôc g·ªçi trong 24 gi·ªù"})]}),e.jsx($,{children:e.jsx("div",{className:"space-y-2",children:Ge.callsByHour.map((s,t)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"w-8 text-xs text-gray-600",children:[s.hour,"h"]}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${s.calls/95*100}%`}})}),e.jsx("div",{className:"w-8 text-xs font-medium text-right",children:s.calls})]},t))})})]}),e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsx(U,{children:"√ù ƒë·ªãnh cu·ªôc g·ªçi"}),e.jsx(te,{children:"Ph√¢n lo·∫°i theo m·ª•c ƒë√≠ch"})]}),e.jsx($,{children:e.jsx("div",{className:"space-y-3",children:Ge.intentDistribution.map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:s.intent}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:s.calls}),e.jsxs(ee,{variant:"outline",children:[s.percentage,"%"]})]})]},t))})})]})]})}),jS=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsx(U,{children:"ƒêi·ªÉm h√†i l√≤ng theo √Ω ƒë·ªãnh"}),e.jsx(te,{children:"ƒê√°nh gi√° kh√°ch h√†ng cho t·ª´ng lo·∫°i d·ªãch v·ª•"})]}),e.jsx($,{children:e.jsx("div",{className:"space-y-4",children:Ge.satisfactionByIntent.map((s,t)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:s.intent}),e.jsxs(ee,{variant:s.rating>=4.5?"default":s.rating>=4?"secondary":"destructive",children:[s.rating,"/5"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${s.rating>=4.5?"bg-green-500":s.rating>=4?"bg-yellow-500":"bg-red-500"}`,style:{width:`${s.rating/5*100}%`}})})]},t))})})]}),e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsx(U,{children:"Xu h∆∞·ªõng ƒëi·ªÉm h√†i l√≤ng"}),e.jsx(te,{children:"Thay ƒë·ªïi theo th·ªùi gian"})]}),e.jsx($,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:"4.7/5"}),e.jsx("div",{className:"text-sm text-gray-600",children:"ƒêi·ªÉm trung b√¨nh th√°ng n√†y"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"5 sao"}),e.jsx("span",{children:"68%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"68%"}})}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"4 sao"}),e.jsx("span",{children:"22%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"22%"}})}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"3 sao"}),e.jsx("span",{children:"7%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:"7%"}})}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"2 sao"}),e.jsx("span",{children:"2%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:"2%"}})}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"1 sao"}),e.jsx("span",{children:"1%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:"1%"}})})]})]})})]})]})}),bS=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Ph√¢n t√≠ch & B√°o c√°o"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Th·ªëng k√™ chi ti·∫øt v·ªÅ hi·ªáu su·∫•t AI Assistant"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(Sa,{className:"h-4 w-4 mr-2"}),"T√πy ch·ªânh kho·∫£ng th·ªùi gian"]}),e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Xu·∫•t b√°o c√°o"]})]})]}),e.jsx(gS,{}),e.jsxs(dt,{defaultValue:"overview",className:"space-y-4",children:[e.jsxs(nt,{className:"grid w-full grid-cols-3",children:[e.jsx(ce,{value:"overview",children:"T·ªïng quan"}),e.jsx(ce,{value:"patterns",children:"M·∫´u cu·ªôc g·ªçi"}),e.jsx(ce,{value:"satisfaction",children:"H√†i l√≤ng"})]}),e.jsx(de,{value:"overview",className:"space-y-4",children:e.jsx(vS,{})}),e.jsx(de,{value:"patterns",className:"space-y-4",children:e.jsx(yS,{})}),e.jsx(de,{value:"satisfaction",className:"space-y-4",children:e.jsx(jS,{})})]})]}),Tn={basicInfo:{name:"Mi Nhon Hotel",address:"123 Nguyen Hue Street, District 1, Ho Chi Minh City",phone:"+84 28 3829 2999",email:"info@minhonhotel.com",website:"https://minhonhotel.com",description:"Kh√°ch s·∫°n 4 sao sang tr·ªçng t·∫°i trung t√¢m th√†nh ph·ªë v·ªõi view bi·ªÉn tuy·ªát ƒë·∫πp v√† d·ªãch v·ª• chuy√™n nghi·ªáp.",checkInTime:"14:00",checkOutTime:"12:00",currency:"VND",timezone:"Asia/Ho_Chi_Minh"},notifications:{emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,dailyReports:!0,weeklyReports:!0,monthlyReports:!0,alertOnErrors:!0,alertOnLowRating:!0},privacy:{recordCalls:!0,dataRetentionDays:90,shareAnalytics:!1,allowDataExport:!0,gdprCompliance:!0},api:{webhookUrl:"https://minhonhotel.com/webhook",apiKeys:{vapi:"vapi_***************",openai:"sk-***************"}}},wS=()=>{const[s,t]=u.useState(Tn.basicInfo),[n,a]=u.useState(!1),i=async()=>{a(!0);try{await new Promise(r=>setTimeout(r,1e3)),console.log("Saving hotel settings:",s)}catch(r){console.error("Failed to save settings:",r)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(rn,{className:"h-5 w-5"}),"Th√¥ng tin c∆° b·∫£n"]}),e.jsx(te,{children:"C·∫≠p nh·∫≠t th√¥ng tin chi ti·∫øt v·ªÅ kh√°ch s·∫°n"})]}),e.jsxs($,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(_,{htmlFor:"hotel-name",children:"T√™n kh√°ch s·∫°n"}),e.jsx(K,{id:"hotel-name",value:s.name,onChange:r=>t(o=>({...o,name:r.target.value})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"phone",children:"S·ªë ƒëi·ªán tho·∫°i"}),e.jsx(K,{id:"phone",value:s.phone,onChange:r=>t(o=>({...o,phone:r.target.value})),className:"mt-1"})]})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"address",children:"ƒê·ªãa ch·ªâ"}),e.jsx(K,{id:"address",value:s.address,onChange:r=>t(o=>({...o,address:r.target.value})),className:"mt-1"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(_,{htmlFor:"email",children:"Email"}),e.jsx(K,{id:"email",type:"email",value:s.email,onChange:r=>t(o=>({...o,email:r.target.value})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"website",children:"Website"}),e.jsx(K,{id:"website",value:s.website,onChange:r=>t(o=>({...o,website:r.target.value})),className:"mt-1"})]})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"description",children:"M√¥ t·∫£ kh√°ch s·∫°n"}),e.jsx(Ve,{id:"description",value:s.description,onChange:r=>t(o=>({...o,description:r.target.value})),className:"mt-1",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(_,{htmlFor:"check-in",children:"Gi·ªù check-in"}),e.jsx(K,{id:"check-in",type:"time",value:s.checkInTime,onChange:r=>t(o=>({...o,checkInTime:r.target.value})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"check-out",children:"Gi·ªù check-out"}),e.jsx(K,{id:"check-out",type:"time",value:s.checkOutTime,onChange:r=>t(o=>({...o,checkOutTime:r.target.value})),className:"mt-1"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(_,{htmlFor:"currency",children:"ƒê∆°n v·ªã ti·ªÅn t·ªá"}),e.jsx(K,{id:"currency",value:s.currency,onChange:r=>t(o=>({...o,currency:r.target.value})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"timezone",children:"M√∫i gi·ªù"}),e.jsx(K,{id:"timezone",value:s.timezone,onChange:r=>t(o=>({...o,timezone:r.target.value})),className:"mt-1"})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(L,{onClick:i,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(Rt,{className:"w-4 h-4 mr-2 animate-spin"}),"ƒêang l∆∞u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"w-4 h-4 mr-2"}),"L∆∞u thay ƒë·ªïi"]})})})]})},NS=()=>{const[s,t]=u.useState(Tn.notifications),[n,a]=u.useState(!1),i=o=>{t(l=>({...l,[o]:!l[o]}))},r=async()=>{a(!0);try{await new Promise(o=>setTimeout(o,1e3)),console.log("Saving notification settings:",s)}catch(o){console.error("Failed to save settings:",o)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(Kt,{className:"h-5 w-5"}),"C√†i ƒë·∫∑t th√¥ng b√°o"]}),e.jsx(te,{children:"T√πy ch·ªçn th√¥ng b√°o v√† b√°o c√°o"})]}),e.jsxs($,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Ph∆∞∆°ng th·ª©c th√¥ng b√°o"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Email notifications"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Nh·∫≠n th√¥ng b√°o qua email"})]}),e.jsx(he,{checked:s.emailNotifications,onCheckedChange:()=>i("emailNotifications")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"SMS notifications"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Nh·∫≠n th√¥ng b√°o qua SMS"})]}),e.jsx(he,{checked:s.smsNotifications,onCheckedChange:()=>i("smsNotifications")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Push notifications"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Th√¥ng b√°o ƒë·∫©y tr√™n tr√¨nh duy·ªát"})]}),e.jsx(he,{checked:s.pushNotifications,onCheckedChange:()=>i("pushNotifications")})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"B√°o c√°o ƒë·ªãnh k·ª≥"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"B√°o c√°o h√†ng ng√†y"}),e.jsx("div",{className:"text-sm text-gray-600",children:"T√≥m t·∫Øt ho·∫°t ƒë·ªông h√†ng ng√†y"})]}),e.jsx(he,{checked:s.dailyReports,onCheckedChange:()=>i("dailyReports")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"B√°o c√°o h√†ng tu·∫ßn"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Th·ªëng k√™ tu·∫ßn"})]}),e.jsx(he,{checked:s.weeklyReports,onCheckedChange:()=>i("weeklyReports")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"B√°o c√°o h√†ng th√°ng"}),e.jsx("div",{className:"text-sm text-gray-600",children:"T·ªïng quan th√°ng"})]}),e.jsx(he,{checked:s.monthlyReports,onCheckedChange:()=>i("monthlyReports")})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"C·∫£nh b√°o"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"C·∫£nh b√°o l·ªói"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Th√¥ng b√°o khi c√≥ l·ªói h·ªá th·ªëng"})]}),e.jsx(he,{checked:s.alertOnErrors,onCheckedChange:()=>i("alertOnErrors")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"C·∫£nh b√°o ƒëi·ªÉm th·∫•p"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Th√¥ng b√°o khi ƒëi·ªÉm h√†i l√≤ng th·∫•p"})]}),e.jsx(he,{checked:s.alertOnLowRating,onCheckedChange:()=>i("alertOnLowRating")})]})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(L,{onClick:r,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(Rt,{className:"w-4 h-4 mr-2 animate-spin"}),"ƒêang l∆∞u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"w-4 h-4 mr-2"}),"L∆∞u c√†i ƒë·∫∑t"]})})})]})},SS=()=>{const[s,t]=u.useState(Tn.privacy),[n,a]=u.useState(!1),i=o=>{t(l=>({...l,[o]:!l[o]}))},r=async()=>{a(!0);try{await new Promise(o=>setTimeout(o,1e3)),console.log("Saving privacy settings:",s)}catch(o){console.error("Failed to save settings:",o)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(Ae,{className:"h-5 w-5"}),"Quy·ªÅn ri√™ng t∆∞ & B·∫£o m·∫≠t"]}),e.jsx(te,{children:"C·∫•u h√¨nh b·∫£o m·∫≠t v√† quy·ªÅn ri√™ng t∆∞ d·ªØ li·ªáu"})]}),e.jsxs($,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Ghi √¢m cu·ªôc g·ªçi"}),e.jsx("div",{className:"text-sm text-gray-600",children:"L∆∞u tr·ªØ cu·ªôc g·ªçi ƒë·ªÉ c·∫£i thi·ªán ch·∫•t l∆∞·ª£ng"})]}),e.jsx(he,{checked:s.recordCalls,onCheckedChange:()=>i("recordCalls")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Chia s·∫ª d·ªØ li·ªáu ph√¢n t√≠ch"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Gi√∫p c·∫£i thi·ªán s·∫£n ph·∫©m (d·ªØ li·ªáu ·∫©n danh)"})]}),e.jsx(he,{checked:s.shareAnalytics,onCheckedChange:()=>i("shareAnalytics")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Cho ph√©p xu·∫•t d·ªØ li·ªáu"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Kh√°ch h√†ng c√≥ th·ªÉ y√™u c·∫ßu xu·∫•t d·ªØ li·ªáu"})]}),e.jsx(he,{checked:s.allowDataExport,onCheckedChange:()=>i("allowDataExport")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Tu√¢n th·ªß GDPR"}),e.jsx("div",{className:"text-sm text-gray-600",children:"B·∫£o v·ªá quy·ªÅn ri√™ng t∆∞ theo chu·∫©n EU"})]}),e.jsx(he,{checked:s.gdprCompliance,onCheckedChange:()=>i("gdprCompliance")})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"L∆∞u tr·ªØ d·ªØ li·ªáu"}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"retention-days",children:"Th·ªùi gian l∆∞u tr·ªØ (ng√†y)"}),e.jsx(K,{id:"retention-days",type:"number",value:s.dataRetentionDays,onChange:o=>t(l=>({...l,dataRetentionDays:parseInt(o.target.value)})),className:"mt-1 max-w-xs",min:"30",max:"365"}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["D·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c t·ª± ƒë·ªông x√≥a sau ",s.dataRetentionDays," ng√†y"]})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(L,{onClick:r,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(Rt,{className:"w-4 h-4 mr-2 animate-spin"}),"ƒêang l∆∞u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"w-4 h-4 mr-2"}),"L∆∞u c√†i ƒë·∫∑t"]})})})]})},CS=()=>{const[s,t]=u.useState(Tn.api),[n,a]=u.useState(!1),i=async()=>{a(!0);try{await new Promise(r=>setTimeout(r,1e3)),console.log("Saving API settings:",s)}catch(r){console.error("Failed to save settings:",r)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(_l,{className:"h-5 w-5"}),"C·∫•u h√¨nh API"]}),e.jsx(te,{children:"Qu·∫£n l√Ω API keys v√† webhook"})]}),e.jsxs($,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(_,{htmlFor:"webhook-url",children:"Webhook URL"}),e.jsx(K,{id:"webhook-url",value:s.webhookUrl,onChange:r=>t(o=>({...o,webhookUrl:r.target.value})),className:"mt-1",placeholder:"https://yourhotel.com/webhook"}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"URL ƒë·ªÉ nh·∫≠n th√¥ng b√°o v·ªÅ c√°c s·ª± ki·ªán"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"API Keys"}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ce,{className:"h-4 w-4 text-yellow-600"}),e.jsx("span",{className:"font-medium text-yellow-800",children:"L∆∞u √Ω b·∫£o m·∫≠t"})]}),e.jsx("p",{className:"text-sm text-yellow-700",children:"Kh√¥ng chia s·∫ª API keys v·ªõi ng∆∞·ªùi kh√°c. Thay ƒë·ªïi ngay n·∫øu b·ªã l·ªô."})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"vapi-key",children:"Vapi API Key"}),e.jsx(K,{id:"vapi-key",type:"password",value:s.apiKeys.vapi,onChange:r=>t(o=>({...o,apiKeys:{...o.apiKeys,vapi:r.target.value}})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"openai-key",children:"OpenAI API Key"}),e.jsx(K,{id:"openai-key",type:"password",value:s.apiKeys.openai,onChange:r=>t(o=>({...o,apiKeys:{...o.apiKeys,openai:r.target.value}})),className:"mt-1"})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(L,{onClick:i,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(Rt,{className:"w-4 h-4 mr-2 animate-spin"}),"ƒêang l∆∞u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"w-4 h-4 mr-2"}),"L∆∞u c√†i ƒë·∫∑t"]})})})]})},kS=()=>{const s=[{name:"Database Connection",status:"healthy",icon:Qt},{name:"Vapi API",status:"healthy",icon:ct},{name:"OpenAI API",status:"healthy",icon:Ze},{name:"Email Service",status:"healthy",icon:Ea},{name:"Webhook Endpoint",status:"warning",icon:ps},{name:"SSL Certificate",status:"healthy",icon:Ae}],t=a=>{switch(a){case"healthy":return"text-green-600";case"warning":return"text-yellow-600";case"error":return"text-red-600";default:return"text-gray-600"}},n=a=>{switch(a){case"healthy":return e.jsx(ee,{className:"bg-green-100 text-green-800",children:"Ho·∫°t ƒë·ªông"});case"warning":return e.jsx(ee,{className:"bg-yellow-100 text-yellow-800",children:"C·∫£nh b√°o"});case"error":return e.jsx(ee,{className:"bg-red-100 text-red-800",children:"L·ªói"});default:return e.jsx(ee,{variant:"outline",children:"Kh√¥ng x√°c ƒë·ªãnh"})}};return e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(ms,{className:"h-5 w-5"}),"Tr·∫°ng th√°i h·ªá th·ªëng"]}),e.jsx(te,{children:"Ki·ªÉm tra t√¨nh tr·∫°ng c√°c d·ªãch v·ª•"})]}),e.jsx($,{children:e.jsx("div",{className:"space-y-4",children:s.map((a,i)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(a.icon,{className:`h-5 w-5 ${t(a.status)}`}),e.jsx("span",{className:"font-medium",children:a.name})]}),n(a.status)]},i))})})]})},TS=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"C√†i ƒë·∫∑t"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Qu·∫£n l√Ω th√¥ng tin kh√°ch s·∫°n v√† c·∫•u h√¨nh h·ªá th·ªëng"})]}),e.jsx(kS,{}),e.jsxs(dt,{defaultValue:"hotel",className:"space-y-4",children:[e.jsxs(nt,{className:"grid w-full grid-cols-4",children:[e.jsx(ce,{value:"hotel",children:"Kh√°ch s·∫°n"}),e.jsx(ce,{value:"notifications",children:"Th√¥ng b√°o"}),e.jsx(ce,{value:"privacy",children:"Quy·ªÅn ri√™ng t∆∞"}),e.jsx(ce,{value:"api",children:"API"})]}),e.jsx(de,{value:"hotel",className:"space-y-4",children:e.jsx(wS,{})}),e.jsx(de,{value:"notifications",className:"space-y-4",children:e.jsx(NS,{})}),e.jsx(de,{value:"privacy",className:"space-y-4",children:e.jsx(SS,{})}),e.jsx(de,{value:"api",className:"space-y-4",children:e.jsx(CS,{})})]})]}),qn=({requiredPermission:s,requiredRole:t,variant:n="alert"})=>n==="minimal"?e.jsxs("div",{className:"text-gray-400 text-sm flex items-center gap-2",children:[e.jsx(cs,{className:"h-4 w-4"}),e.jsx("span",{children:"Kh√¥ng c√≥ quy·ªÅn truy c·∫≠p"})]}):n==="placeholder"?e.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-lg p-8 text-center",children:[e.jsx(Ae,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"Quy·ªÅn truy c·∫≠p b·ªã h·∫°n ch·∫ø"}),e.jsxs("p",{className:"text-gray-500",children:[s&&`C·∫ßn quy·ªÅn: ${s}`,t&&`C·∫ßn vai tr√≤: ${t}`]})]}):e.jsxs(Os,{className:"border-orange-200 bg-orange-50",children:[e.jsx(Ae,{className:"h-4 w-4 text-orange-600"}),e.jsxs(zs,{className:"text-orange-800",children:[e.jsx("strong",{children:"Kh√¥ng c√≥ quy·ªÅn truy c·∫≠p."})," ",s&&`C·∫ßn quy·ªÅn: ${s}. `,t&&`C·∫ßn vai tr√≤: ${t}. `,"Vui l√≤ng li√™n h·ªá qu·∫£n tr·ªã vi√™n ƒë·ªÉ ƒë∆∞·ª£c c·∫•p quy·ªÅn."]})]}),Qe=({children:s,requiredPermission:t,requiredRole:n,fallback:a,showFallback:i=!0})=>{const{user:r,hasPermission:o}=Le();if(!r)return i?e.jsx(qn,{requiredPermission:t,requiredRole:n,variant:"minimal"}):null;if(n&&r.role!==n)return i?a||e.jsx(qn,{requiredRole:n,variant:"alert"}):null;if(t){let l,c;if(t.includes(":")?[l,c]=t.split(":"):[l,c]=t.split("."),!o(l,c))return i?a||e.jsx(qn,{requiredPermission:t,variant:"alert"}):null}return e.jsx(e.Fragment,{children:s})},_S=()=>{const{user:s,hasPermission:t}=Le(),n=l=>{if(!s)return!1;const[c,d]=l.split(".");return t(c,d)},a=l=>s?.role===l;return{canAccess:n,hasRole:a,isManager:()=>a("hotel-manager"),isStaff:()=>a("front-desk"),isIT:()=>a("it-manager"),user:s}},ES=[{href:"/dashboard",icon:_a,label:"T·ªïng quan",description:"Th·ªëng k√™ v√† metrics t·ªïng quan",permission:"dashboard:view"},{href:"/dashboard/setup",icon:Ze,label:"Thi·∫øt l·∫≠p Assistant",description:"C·∫•u h√¨nh v√† t√πy ch·ªânh AI Assistant",permission:"assistant:configure",roleSpecific:["hotel-manager"]},{href:"/unified-dashboard/analytics",icon:Ca,label:"Ph√¢n t√≠ch n√¢ng cao",description:"B√°o c√°o v√† th·ªëng k√™ chi ti·∫øt",permission:"analytics:view_advanced",roleSpecific:["hotel-manager"]},{href:"/dashboard/billing",icon:vn,label:"Thanh to√°n",description:"Qu·∫£n l√Ω subscription v√† billing",permission:"billing:view",roleSpecific:["hotel-manager"]},{href:"/unified-dashboard/staff-management",icon:We,label:"Qu·∫£n l√Ω nh√¢n vi√™n",description:"Th√™m, s·ª≠a, x√≥a t√†i kho·∫£n nh√¢n vi√™n",permission:"staff:manage",roleSpecific:["hotel-manager"]},{href:"/dashboard/settings",icon:Je,label:"C√†i ƒë·∫∑t h·ªá th·ªëng",description:"C·∫•u h√¨nh kh√°ch s·∫°n v√† h·ªá th·ªëng",permission:"settings:manage",roleSpecific:["hotel-manager"]},{href:"/unified-dashboard/requests",icon:Jn,label:"Y√™u c·∫ßu kh√°ch h√†ng",description:"Xem v√† x·ª≠ l√Ω y√™u c·∫ßu t·ª´ kh√°ch",permission:"requests:view",roleSpecific:["front-desk"]},{href:"/dashboard/guest-management",icon:Yu,label:"Qu·∫£n l√Ω kh√°ch h√†ng",description:"Th√¥ng tin v√† l·ªãch s·ª≠ kh√°ch h√†ng",permission:"guests:manage",roleSpecific:["front-desk"]},{href:"/dashboard/basic-analytics",icon:Rs,label:"Th·ªëng k√™ c∆° b·∫£n",description:"B√°o c√°o ho·∫°t ƒë·ªông h√†ng ng√†y",permission:"analytics:view_basic",roleSpecific:["front-desk"]},{href:"/dashboard/calls",icon:Jt,label:"L·ªãch s·ª≠ cu·ªôc g·ªçi",description:"Xem l·ªãch s·ª≠ cu·ªôc g·ªçi v√† transcript",permission:"calls:view",roleSpecific:["front-desk"]},{href:"/unified-dashboard/system-monitoring",icon:jn,label:"Gi√°m s√°t h·ªá th·ªëng",description:"Theo d√µi hi·ªáu su·∫•t v√† s·ª©c kh·ªèe h·ªá th·ªëng",permission:"system:monitor",roleSpecific:["it-manager"]},{href:"/dashboard/integrations",icon:Ma,label:"T√≠ch h·ª£p",description:"Qu·∫£n l√Ω API v√† t√≠ch h·ª£p b√™n th·ª© 3",permission:"integrations:manage",roleSpecific:["it-manager"]},{href:"/dashboard/logs",icon:Qt,label:"Nh·∫≠t k√Ω h·ªá th·ªëng",description:"Xem logs v√† debug issues",permission:"logs:view",roleSpecific:["it-manager"]},{href:"/dashboard/security",icon:Ae,label:"B·∫£o m·∫≠t",description:"C·∫•u h√¨nh v√† gi√°m s√°t b·∫£o m·∫≠t",permission:"security:manage",roleSpecific:["it-manager"]}],jc=s=>{switch(s){case"hotel-manager":return{primary:"bg-blue-600 hover:bg-blue-700",accent:"border-blue-200",badge:"bg-blue-100 text-blue-800"};case"front-desk":return{primary:"bg-green-600 hover:bg-green-700",accent:"border-green-200",badge:"bg-green-100 text-green-800"};case"it-manager":return{primary:"bg-purple-600 hover:bg-purple-700",accent:"border-purple-200",badge:"bg-purple-100 text-purple-800"};default:return{primary:"bg-gray-600 hover:bg-gray-700",accent:"border-gray-200",badge:"bg-gray-100 text-gray-800"}}},ra=s=>{switch(s){case"hotel-manager":return"Qu·∫£n l√Ω kh√°ch s·∫°n";case"front-desk":return"L·ªÖ t√¢n";case"it-manager":return"Qu·∫£n l√Ω IT";default:return"Ng∆∞·ªùi d√πng"}},AS=({href:s,icon:t,label:n,description:a,isActive:i,theme:r})=>e.jsx(Ee,{href:s,children:e.jsxs(L,{variant:i?"default":"ghost",className:O("w-full justify-start gap-3 px-3 py-6 h-auto","hover:bg-gray-100 dark:hover:bg-gray-800",i&&`${r.primary} text-white hover:${r.primary.replace("bg-","bg-").replace("600","700")}`),children:[e.jsx(t,{className:"h-5 w-5 shrink-0"}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("div",{className:"font-medium",children:n}),e.jsx("div",{className:O("text-xs text-muted-foreground",i&&"text-white/80"),children:a})]})]})}),PS=({user:s,role:t,onLogout:n})=>{const a=jc(t);return e.jsxs(Lo,{children:[e.jsx(Ro,{asChild:!0,children:e.jsx(L,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:e.jsxs(Ka,{className:"h-10 w-10",children:[e.jsx(Qa,{src:s.avatar_url||"",alt:s.display_name||s.email}),e.jsx(Xa,{className:a.primary,children:(s.display_name||s.email||"").charAt(0).toUpperCase()})]})})}),e.jsxs(Ya,{className:"w-56",align:"end",children:[e.jsxs(Za,{className:"flex flex-col",children:[e.jsx("div",{className:"font-medium",children:s.display_name||s.email}),e.jsx("div",{className:"text-xs text-muted-foreground",children:ra(t)})]}),e.jsx(Is,{}),e.jsxs(Wt,{children:[e.jsx(Je,{className:"mr-2 h-4 w-4"}),"C√†i ƒë·∫∑t t√†i kho·∫£n"]}),e.jsxs(Wt,{children:[e.jsx(kl,{className:"mr-2 h-4 w-4"}),"Tr·ª£ gi√∫p"]}),e.jsx(Is,{}),e.jsxs(Wt,{className:"text-red-600 focus:text-red-600",onClick:n,children:[e.jsx(El,{className:"mr-2 h-4 w-4"}),"ƒêƒÉng xu·∫•t"]})]})]})},IS=({isOpen:s,onClose:t,user:n,role:a,theme:i})=>{const[r]=us(),l=_S().canAccess,c=ES.filter(d=>!(!l(d.permission)||d.roleSpecific&&!d.roleSpecific.includes(a)));return e.jsx("aside",{className:O("fixed inset-y-0 left-0 z-50 w-80 bg-white dark:bg-gray-800 shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0",s?"translate-x-0":"-translate-x-full"),children:e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsxs("div",{className:O("flex items-center justify-between p-6 border-b",i.accent),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:O("flex h-10 w-10 items-center justify-center rounded-lg text-white",i.primary),children:e.jsx(Cl,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold",children:"Talk2Go"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Hotel Management"})]})]}),e.jsx(L,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:t,children:e.jsx(wt,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:O("px-6 py-4 border-b",i.accent),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-lg",children:n.display_name||n.email}),e.jsx("div",{className:"text-xs text-gray-500",children:ra(a)})]}),e.jsx(ee,{variant:"outline",className:i.badge,children:ra(a)})]}),e.jsxs("div",{className:"mt-3 flex gap-2",children:[e.jsx(Qe,{requiredPermission:"dashboard:view_client_interface",children:e.jsx(Ee,{href:"/interface1",className:O("flex-1 px-3 py-2 text-white text-sm rounded hover:opacity-90 transition text-center",i.primary),children:"Giao di·ªán kh√°ch"})}),e.jsxs(L,{variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(Kt,{className:"h-4 w-4 mr-1"}),"Th√¥ng b√°o"]})]})]}),e.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:c.map(d=>{const m=r===d.href;return e.jsx(AS,{href:d.href,icon:d.icon,label:d.label,description:d.description,isActive:m,theme:i},d.href)})}),e.jsx("div",{className:"p-4 border-t",children:e.jsx("div",{className:"text-xs text-center text-muted-foreground",children:"¬© 2024 Talk2Go - Hotel AI Assistant"})})]})})},rt=({children:s})=>{const[t,n]=u.useState(!1),{user:a,logout:i}=Le(),r=a?.role||"front-desk",o=jc(r),l=()=>{switch(r){case"hotel-manager":return"Dashboard Qu·∫£n l√Ω";case"front-desk":return"Dashboard L·ªÖ t√¢n";case"it-manager":return"Dashboard IT";default:return"Dashboard"}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[t&&e.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:()=>n(!1)}),e.jsx(IS,{isOpen:t,onClose:()=>n(!1),user:a,role:r,theme:o}),e.jsxs("div",{className:"lg:ml-80",children:[e.jsx("header",{className:"sticky top-0 z-30 bg-white dark:bg-gray-800 border-b shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(L,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>n(!0),children:e.jsx(Al,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:l()}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Qu·∫£n l√Ω kh√°ch s·∫°n v·ªõi AI Assistant"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Qe,{requiredPermission:"notifications:view",children:e.jsxs(L,{variant:"ghost",size:"icon",className:"relative",children:[e.jsx(Kt,{className:"h-5 w-5"}),e.jsx(ee,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 text-xs",children:"3"})]})}),e.jsx(PS,{user:a,role:r,onLogout:i})]})]})}),e.jsx("main",{className:"p-6",children:s})]})]})},ye={calls:{total:156,today:23},requests:{pending:8,inProgress:12,completed:45,totalToday:18},satisfaction:{rating:4.7,trend:"+0.2"},system:{uptime:99.8,responseTime:150,errors:2}},Xe=({title:s,value:t,description:n,icon:a,trend:i,color:r="blue"})=>e.jsxs(R,{children:[e.jsxs(G,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(U,{className:"text-sm font-medium",children:s}),e.jsx(a,{className:`h-4 w-4 text-${r}-600`})]}),e.jsxs($,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t}),n&&e.jsx("p",{className:"text-xs text-muted-foreground",children:n}),i&&e.jsxs("div",{className:"flex items-center text-xs text-green-600 mt-1",children:[e.jsx(Be,{className:"h-3 w-3 mr-1"}),i]})]})]}),DS=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white p-6 rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Ch√†o m·ª´ng ƒë·∫øn v·ªõi Dashboard Qu·∫£n l√Ω"}),e.jsx("p",{className:"text-blue-100",children:"T·ªïng quan ho·∫°t ƒë·ªông kh√°ch s·∫°n v√† AI Assistant"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Xe,{title:"T·ªïng cu·ªôc g·ªçi",value:ye.calls.total,description:"H√¥m nay: +23",icon:ct,trend:"+15.2%",color:"blue"}),e.jsx(Xe,{title:"ƒê√°nh gi√° trung b√¨nh",value:`${ye.satisfaction.rating}/5`,description:"89 ph·∫£n h·ªìi",icon:is,trend:ye.satisfaction.trend,color:"green"}),e.jsx(Xe,{title:"Y√™u c·∫ßu ƒëang ch·ªù",value:ye.requests.pending,description:"C·∫ßn x·ª≠ l√Ω ngay",icon:Ce,color:"orange"}),e.jsx(Xe,{title:"Uptime h·ªá th·ªëng",value:`${ye.system.uptime}%`,description:"30 ng√†y qua",icon:bt,trend:"+0.1%",color:"purple"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsx(U,{children:"H√†nh ƒë·ªông nhanh"}),e.jsx(te,{children:"C√°c t√°c v·ª• th∆∞·ªùng xuy√™n"})]}),e.jsxs($,{className:"space-y-3",children:[e.jsx(Qe,{requiredPermission:"assistant:configure",children:e.jsx(Ee,{href:"/unified-dashboard/settings",children:e.jsxs(L,{className:"w-full justify-start",variant:"outline",children:[e.jsx(Ze,{className:"mr-2 h-4 w-4"}),"C·∫•u h√¨nh AI Assistant"]})})}),e.jsx(Qe,{requiredPermission:"analytics:view_advanced",children:e.jsx(Ee,{href:"/unified-dashboard/analytics",children:e.jsxs(L,{className:"w-full justify-start",variant:"outline",children:[e.jsx(Rs,{className:"mr-2 h-4 w-4"}),"Xem b√°o c√°o chi ti·∫øt"]})})}),e.jsx(Qe,{requiredPermission:"staff:manage",children:e.jsx(Ee,{href:"/unified-dashboard/staff-management",children:e.jsxs(L,{className:"w-full justify-start",variant:"outline",children:[e.jsx(We,{className:"mr-2 h-4 w-4"}),"Qu·∫£n l√Ω nh√¢n vi√™n"]})})})]})]}),e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsx(U,{children:"Ho·∫°t ƒë·ªông g·∫ßn ƒë√¢y"}),e.jsx(te,{children:"C·∫≠p nh·∫≠t h·ªá th·ªëng m·ªõi nh·∫•t"})]}),e.jsx($,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(qe,{className:"h-4 w-4 text-green-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm",children:"AI Assistant ƒë∆∞·ª£c c·∫≠p nh·∫≠t"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"2 ph√∫t tr∆∞·ªõc"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ce,{className:"h-4 w-4 text-orange-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm",children:"8 y√™u c·∫ßu m·ªõi c·∫ßn x·ª≠ l√Ω"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"15 ph√∫t tr∆∞·ªõc"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Be,{className:"h-4 w-4 text-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm",children:"Satisfaction tƒÉng 0.2 ƒëi·ªÉm"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"1 gi·ªù tr∆∞·ªõc"})]})]})]})})]})]})]}),MS=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-800 text-white p-6 rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Dashboard L·ªÖ t√¢n"}),e.jsx("p",{className:"text-green-100",children:"Qu·∫£n l√Ω y√™u c·∫ßu kh√°ch h√†ng v√† cu·ªôc g·ªçi"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Xe,{title:"Y√™u c·∫ßu h√¥m nay",value:ye.requests.totalToday,description:"M·ªõi trong ng√†y",icon:Jn,color:"green"}),e.jsx(Xe,{title:"ƒêang ch·ªù x·ª≠ l√Ω",value:ye.requests.pending,description:"C·∫ßn h√†nh ƒë·ªông",icon:ot,color:"orange"}),e.jsx(Xe,{title:"ƒê√£ ho√†n th√†nh",value:ye.requests.completed,description:"Tu·∫ßn n√†y",icon:qe,color:"blue"}),e.jsx(Xe,{title:"Cu·ªôc g·ªçi h√¥m nay",value:ye.calls.today,description:"Th·ªùi gian TB: 2.3 ph√∫t",icon:ct,color:"purple"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsx(U,{children:"C√¥ng vi·ªác c·ªßa t√¥i"}),e.jsx(te,{children:"Nhi·ªám v·ª• c·∫ßn th·ª±c hi·ªán"})]}),e.jsxs($,{className:"space-y-3",children:[e.jsx(Qe,{requiredPermission:"requests:view",children:e.jsx(Ee,{href:"/unified-dashboard/requests",children:e.jsxs(L,{className:"w-full justify-start",variant:"outline",children:[e.jsx(Jn,{className:"mr-2 h-4 w-4"}),"Xem y√™u c·∫ßu kh√°ch h√†ng (",ye.requests.pending,")"]})})}),e.jsx(Qe,{requiredPermission:"calls:view",children:e.jsx(Ee,{href:"/dashboard/calls",children:e.jsxs(L,{className:"w-full justify-start",variant:"outline",children:[e.jsx(Jt,{className:"mr-2 h-4 w-4"}),"L·ªãch s·ª≠ cu·ªôc g·ªçi"]})})}),e.jsx(Qe,{requiredPermission:"guests:manage",children:e.jsx(Ee,{href:"/unified-dashboard/guest-management",children:e.jsxs(L,{className:"w-full justify-start",variant:"outline",children:[e.jsx(We,{className:"mr-2 h-4 w-4"}),"Qu·∫£n l√Ω kh√°ch h√†ng"]})})})]})]}),e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsx(U,{children:"Tr·∫°ng th√°i y√™u c·∫ßu"}),e.jsx(te,{children:"Ph√¢n b·ªë theo tr·∫°ng th√°i"})]}),e.jsx($,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"ƒêang ch·ªù"}),e.jsx(ee,{variant:"outline",children:ye.requests.pending})]}),e.jsx(ft,{value:ye.requests.pending/(ye.requests.pending+ye.requests.inProgress+ye.requests.completed)*100,className:"h-2"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"ƒêang x·ª≠ l√Ω"}),e.jsx(ee,{variant:"outline",children:ye.requests.inProgress})]}),e.jsx(ft,{value:ye.requests.inProgress/(ye.requests.pending+ye.requests.inProgress+ye.requests.completed)*100,className:"h-2"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Ho√†n th√†nh"}),e.jsx(ee,{variant:"outline",children:ye.requests.completed})]}),e.jsx(ft,{value:ye.requests.completed/(ye.requests.pending+ye.requests.inProgress+ye.requests.completed)*100,className:"h-2"})]})})]})]})]}),LS=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-800 text-white p-6 rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Dashboard IT Manager"}),e.jsx("p",{className:"text-purple-100",children:"Gi√°m s√°t h·ªá th·ªëng v√† qu·∫£n l√Ω k·ªπ thu·∫≠t"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Xe,{title:"Uptime h·ªá th·ªëng",value:`${ye.system.uptime}%`,description:"30 ng√†y qua",icon:Pa,trend:"+0.1%",color:"purple"}),e.jsx(Xe,{title:"Response Time",value:`${ye.system.responseTime}ms`,description:"Trung b√¨nh 24h",icon:bt,color:"blue"}),e.jsx(Xe,{title:"L·ªói h·ªá th·ªëng",value:ye.system.errors,description:"H√¥m nay",icon:Ce,color:"red"}),e.jsx(Xe,{title:"API Calls",value:"12.5K",description:"H√¥m nay",icon:Qt,trend:"+8.2%",color:"green"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsx(U,{children:"C√¥ng c·ª• IT"}),e.jsx(te,{children:"Qu·∫£n l√Ω h·ªá th·ªëng v√† b·∫£o m·∫≠t"})]}),e.jsxs($,{className:"space-y-3",children:[e.jsx(Qe,{requiredPermission:"system:monitor",children:e.jsx(Ee,{href:"/unified-dashboard/system-monitoring",children:e.jsxs(L,{className:"w-full justify-start",variant:"outline",children:[e.jsx(jn,{className:"mr-2 h-4 w-4"}),"Gi√°m s√°t h·ªá th·ªëng"]})})}),e.jsx(Qe,{requiredPermission:"logs:view",children:e.jsx(Ee,{href:"/unified-dashboard/logs",children:e.jsxs(L,{className:"w-full justify-start",variant:"outline",children:[e.jsx(Qt,{className:"mr-2 h-4 w-4"}),"Xem system logs"]})})}),e.jsx(Qe,{requiredPermission:"security:manage",children:e.jsx(Ee,{href:"/unified-dashboard/security",children:e.jsxs(L,{className:"w-full justify-start",variant:"outline",children:[e.jsx(Ae,{className:"mr-2 h-4 w-4"}),"C·∫•u h√¨nh b·∫£o m·∫≠t"]})})}),e.jsx(Qe,{requiredPermission:"integrations:manage",children:e.jsx(Ee,{href:"/unified-dashboard/integrations",children:e.jsxs(L,{className:"w-full justify-start",variant:"outline",children:[e.jsx(Ma,{className:"mr-2 h-4 w-4"}),"Qu·∫£n l√Ω t√≠ch h·ª£p"]})})})]})]}),e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsx(U,{children:"C·∫£nh b√°o h·ªá th·ªëng"}),e.jsx(te,{children:"Th√¥ng b√°o k·ªπ thu·∫≠t quan tr·ªçng"})]}),e.jsx($,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(qe,{className:"h-4 w-4 text-green-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm",children:"Database backup completed"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"5 ph√∫t tr∆∞·ªõc"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ce,{className:"h-4 w-4 text-orange-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm",children:"High memory usage: 85%"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"10 ph√∫t tr∆∞·ªõc"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ae,{className:"h-4 w-4 text-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm",children:"Security scan completed"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"1 gi·ªù tr∆∞·ªõc"})]})]})]})})]})]})]}),RS=()=>{const{user:s}=Le(),t=s?.role||"front-desk",n=()=>{switch(t){case"hotel-manager":return e.jsx(DS,{});case"front-desk":return e.jsx(MS,{});case"it-manager":return e.jsx(LS,{});default:return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Ch√†o m·ª´ng ƒë·∫øn v·ªõi Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Vai tr√≤ c·ªßa b·∫°n ch∆∞a ƒë∆∞·ª£c c·∫•u h√¨nh. Vui l√≤ng li√™n h·ªá qu·∫£n tr·ªã vi√™n."})]})}};return e.jsx("div",{className:"space-y-6",children:n()})},$t=Or,$S=Fr,bc=u.forwardRef(({className:s,...t},n)=>e.jsx(ha,{ref:n,className:O("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t}));bc.displayName=ha.displayName;const Nt=u.forwardRef(({className:s,children:t,...n},a)=>e.jsxs($S,{children:[e.jsx(bc,{}),e.jsxs(ma,{ref:a,className:O("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...n,children:[t,e.jsxs(pa,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(wt,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Nt.displayName=ma.displayName;const St=({className:s,...t})=>e.jsx("div",{className:O("flex flex-col space-y-1.5 text-center sm:text-left",s),...t});St.displayName="DialogHeader";const Ct=u.forwardRef(({className:s,...t},n)=>e.jsx(xa,{ref:n,className:O("text-lg font-semibold leading-none tracking-tight",s),...t}));Ct.displayName=xa.displayName;const Ft=u.forwardRef(({className:s,...t},n)=>e.jsx(fa,{ref:n,className:O("text-sm text-muted-foreground",s),...t}));Ft.displayName=fa.displayName;var wc="AlertDialog",[FS,s4]=Yt(wc,[zr]),kt=zr(),Nc=s=>{const{__scopeAlertDialog:t,...n}=s,a=kt(t);return e.jsx(Or,{...a,...n,modal:!0})};Nc.displayName=wc;var OS="AlertDialogTrigger",Sc=u.forwardRef((s,t)=>{const{__scopeAlertDialog:n,...a}=s,i=kt(n);return e.jsx(_d,{...i,...a,ref:t})});Sc.displayName=OS;var zS="AlertDialogPortal",Cc=s=>{const{__scopeAlertDialog:t,...n}=s,a=kt(t);return e.jsx(Fr,{...a,...n})};Cc.displayName=zS;var BS="AlertDialogOverlay",kc=u.forwardRef((s,t)=>{const{__scopeAlertDialog:n,...a}=s,i=kt(n);return e.jsx(ha,{...i,...a,ref:t})});kc.displayName=BS;var ls="AlertDialogContent",[HS,qS]=FS(ls),VS=Td("AlertDialogContent"),Tc=u.forwardRef((s,t)=>{const{__scopeAlertDialog:n,children:a,...i}=s,r=kt(n),o=u.useRef(null),l=Mt(t,o),c=u.useRef(null);return e.jsx(kd,{contentName:ls,titleName:_c,docsSlug:"alert-dialog",children:e.jsx(HS,{scope:n,cancelRef:c,children:e.jsxs(ma,{role:"alertdialog",...r,...i,ref:l,onOpenAutoFocus:De(i.onOpenAutoFocus,d=>{d.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[e.jsx(VS,{children:a}),e.jsx(US,{contentRef:o})]})})})});Tc.displayName=ls;var _c="AlertDialogTitle",Ec=u.forwardRef((s,t)=>{const{__scopeAlertDialog:n,...a}=s,i=kt(n);return e.jsx(xa,{...i,...a,ref:t})});Ec.displayName=_c;var Ac="AlertDialogDescription",Pc=u.forwardRef((s,t)=>{const{__scopeAlertDialog:n,...a}=s,i=kt(n);return e.jsx(fa,{...i,...a,ref:t})});Pc.displayName=Ac;var GS="AlertDialogAction",Ic=u.forwardRef((s,t)=>{const{__scopeAlertDialog:n,...a}=s,i=kt(n);return e.jsx(pa,{...i,...a,ref:t})});Ic.displayName=GS;var Dc="AlertDialogCancel",Mc=u.forwardRef((s,t)=>{const{__scopeAlertDialog:n,...a}=s,{cancelRef:i}=qS(Dc,n),r=kt(n),o=Mt(t,i);return e.jsx(pa,{...r,...a,ref:o})});Mc.displayName=Dc;var US=({contentRef:s})=>{const t=`\`${ls}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ls}\` by passing a \`${Ac}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ls}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return u.useEffect(()=>{document.getElementById(s.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,s]),null},WS=Nc,KS=Sc,QS=Cc,Lc=kc,Rc=Tc,$c=Ic,Fc=Mc,Oc=Ec,zc=Pc;const Bc=WS,Hc=KS,XS=QS,qc=u.forwardRef(({className:s,...t},n)=>e.jsx(Lc,{className:O("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t,ref:n}));qc.displayName=Lc.displayName;const ai=u.forwardRef(({className:s,...t},n)=>e.jsxs(XS,{children:[e.jsx(qc,{}),e.jsx(Rc,{ref:n,className:O("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...t})]}));ai.displayName=Rc.displayName;const ii=({className:s,...t})=>e.jsx("div",{className:O("flex flex-col space-y-2 text-center sm:text-left",s),...t});ii.displayName="AlertDialogHeader";const ri=({className:s,...t})=>e.jsx("div",{className:O("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t});ri.displayName="AlertDialogFooter";const li=u.forwardRef(({className:s,...t},n)=>e.jsx(Oc,{ref:n,className:O("text-lg font-semibold",s),...t}));li.displayName=Oc.displayName;const oi=u.forwardRef(({className:s,...t},n)=>e.jsx(zc,{ref:n,className:O("text-sm text-muted-foreground",s),...t}));oi.displayName=zc.displayName;const ci=u.forwardRef(({className:s,...t},n)=>e.jsx($c,{ref:n,className:O(Va(),s),...t}));ci.displayName=$c.displayName;const di=u.forwardRef(({className:s,...t},n)=>e.jsx(Fc,{ref:n,className:O(Va({variant:"outline"}),"mt-2 sm:mt-0",s),...t}));di.displayName=Fc.displayName;const Vc=["T·∫•t c·∫£","ƒê√£ ghi nh·∫≠n","ƒêang th·ª±c hi·ªán","ƒê√£ th·ª±c hi·ªán v√† ƒëang b√†n giao cho kh√°ch","Ho√†n thi·ªán","L∆∞u √Ω kh√°c"],Gc=s=>{switch(s){case"ƒê√£ ghi nh·∫≠n":return"bg-gray-100 text-gray-800 border-gray-300";case"ƒêang th·ª±c hi·ªán":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"ƒê√£ th·ª±c hi·ªán v√† ƒëang b√†n giao cho kh√°ch":return"bg-blue-100 text-blue-800 border-blue-300";case"Ho√†n thi·ªán":return"bg-green-100 text-green-800 border-green-300";case"L∆∞u √Ω kh√°c":return"bg-red-100 text-red-800 border-red-300";default:return"bg-gray-100 text-gray-700 border-gray-300"}},Uc=s=>{switch(s){case"ƒê√£ ghi nh·∫≠n":return e.jsx(ot,{className:"h-3 w-3"});case"ƒêang th·ª±c hi·ªán":return e.jsx(Ce,{className:"h-3 w-3"});case"ƒê√£ th·ª±c hi·ªán v√† ƒëang b√†n giao cho kh√°ch":return e.jsx(me,{className:"h-3 w-3"});case"Ho√†n thi·ªán":return e.jsx(qe,{className:"h-3 w-3"});case"L∆∞u √Ω kh√°c":return e.jsx(Ce,{className:"h-3 w-3"});default:return e.jsx(ot,{className:"h-3 w-3"})}},YS=({request:s,isOpen:t,onClose:n,onStatusChange:a,onOpenMessage:i})=>{const[r,o]=u.useState(s.status),l=()=>{r!==s.status&&a(r)};return e.jsx($t,{open:t,onOpenChange:n,children:e.jsxs(Nt,{className:"max-w-2xl",children:[e.jsxs(St,{children:[e.jsxs(Ct,{className:"flex items-center gap-2",children:[e.jsx(Aa,{className:"h-5 w-5"}),"Ph√≤ng ",s.roomNumber," - ",s.orderId]}),e.jsx(Ft,{children:"Chi ti·∫øt y√™u c·∫ßu kh√°ch h√†ng"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Kh√°ch h√†ng"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(Ia,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:s.guestName})]})]}),e.jsxs("div",{children:[e.jsx(_,{children:"Th·ªùi gian t·∫°o"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(Sa,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:new Date(s.createdAt).toLocaleString()})]})]})]}),e.jsxs("div",{children:[e.jsx(_,{children:"N·ªôi dung y√™u c·∫ßu"}),e.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg whitespace-pre-wrap",children:s.requestContent})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Tr·∫°ng th√°i hi·ªán t·∫°i"}),e.jsxs(ee,{variant:"outline",className:O("mt-2",Gc(s.status)),children:[Uc(s.status),e.jsx("span",{className:"ml-1",children:s.status})]})]}),e.jsxs("div",{children:[e.jsx(_,{children:"C·∫≠p nh·∫≠t tr·∫°ng th√°i"}),e.jsxs(Ne,{value:r,onValueChange:o,children:[e.jsx(je,{className:"mt-2",children:e.jsx(Se,{})}),e.jsx(be,{children:Vc.filter(c=>c!=="T·∫•t c·∫£").map(c=>e.jsx(H,{value:c,children:c},c))})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsxs(L,{onClick:l,disabled:r===s.status,children:[e.jsx(Gt,{className:"h-4 w-4 mr-2"}),"C·∫≠p nh·∫≠t tr·∫°ng th√°i"]}),e.jsxs(L,{variant:"outline",onClick:i,children:[e.jsx(Jt,{className:"h-4 w-4 mr-2"}),"Nh·∫Øn tin v·ªõi kh√°ch"]})]})]})]})})},ZS=({request:s,messages:t,isOpen:n,onClose:a,onSendMessage:i,loading:r})=>{const[o,l]=u.useState(""),c=()=>{o.trim()&&(i(o.trim()),l(""))};return e.jsx($t,{open:n,onOpenChange:a,children:e.jsxs(Nt,{className:"max-w-md",children:[e.jsx(St,{children:e.jsxs(Ct,{children:["Tin nh·∫Øn v·ªõi kh√°ch - Ph√≤ng ",s.roomNumber]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-60 overflow-y-auto border rounded-lg p-3 space-y-2",children:t.length===0?e.jsx("div",{className:"text-center text-gray-500 py-8",children:"Ch∆∞a c√≥ tin nh·∫Øn n√†o"}):t.map(d=>e.jsx("div",{className:O("flex",d.sender==="staff"?"justify-end":"justify-start"),children:e.jsxs("div",{className:O("max-w-[70%] p-2 rounded-lg text-sm",d.sender==="staff"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"),children:[e.jsx("p",{children:d.content}),e.jsx("p",{className:O("text-xs mt-1",d.sender==="staff"?"text-blue-100":"text-gray-500"),children:d.time})]})},d.id))}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ve,{placeholder:"Nh·∫≠p tin nh·∫Øn...",value:o,onChange:d=>l(d.target.value),className:"min-h-[60px]"}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(L,{onClick:c,disabled:!o.trim()||r,size:"sm",children:[r?e.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(Wu,{className:"h-4 w-4 mr-2"}),"G·ª≠i"]})})]})]})]})})},JS=()=>{const{user:s}=Le(),[t,n]=u.useState([]),[a,i]=u.useState(!0),[r,o]=u.useState(null),[l,c]=u.useState(!1),[d,m]=u.useState(!1),[h,p]=u.useState([]),[v,x]=u.useState(!1),[g,y]=u.useState("T·∫•t c·∫£"),[j,f]=u.useState(""),[b,w]=u.useState(""),[T,E]=u.useState(""),[z,F]=u.useState(""),[D,C]=u.useState(""),[S,N]=u.useState(!1),I=()=>({Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}),P=async()=>{try{i(!0);const W=await fetch("/api/staff/requests",{headers:I()});if(W.status===401){console.error("Unauthorized access");return}if(!W.ok)throw new Error("Failed to fetch requests");const ie=await W.json();n(ie)}catch(W){console.error("Failed to fetch requests:",W)}finally{i(!1)}},V=async(W,ie)=>{try{await fetch(`/api/staff/requests/${W}/status`,{method:"PATCH",headers:I(),body:JSON.stringify({status:ie})}),n($e=>$e.map(q=>q.id===W?{...q,status:ie}:q)),r&&r.id===W&&o({...r,status:ie})}catch($e){console.error("Failed to update status:",$e)}},M=async W=>{try{const ie=await fetch(`/api/staff/requests/${W}/messages`,{headers:I()});if(ie.ok){const $e=await ie.json();p($e)}}catch(ie){console.error("Failed to fetch messages:",ie),p([])}},k=async W=>{if(r){x(!0);try{await fetch(`/api/staff/requests/${r.id}/message`,{method:"POST",headers:I(),body:JSON.stringify({content:W})});const ie={id:Date.now().toString(),sender:"staff",content:W,time:new Date().toLocaleTimeString().slice(0,5)};p($e=>[...$e,ie])}catch(ie){console.error("Failed to send message:",ie)}finally{x(!1)}}},A=async()=>{if(z!=="2208"){C("M·∫≠t kh·∫©u kh√¥ng ƒë√∫ng");return}N(!0);try{const ie=await(await fetch("/api/staff/requests/all",{method:"DELETE",headers:I()})).json();ie.success?(n([]),F(""),C("")):C(ie.error||"Kh√¥ng th·ªÉ x√≥a requests")}catch(W){console.error("Error deleting requests:",W),C("ƒê√£ x·∫£y ra l·ªói khi x√≥a requests")}finally{N(!1)}},B=t.filter(W=>{if(g!=="T·∫•t c·∫£"&&W.status!==g)return!1;if(j||b){const ie=new Date(W.createdAt);if(j&&ie<new Date(j)||b&&ie>new Date(b+"T23:59:59"))return!1}if(T){const ie=T.toLowerCase();return W.roomNumber.toLowerCase().includes(ie)||W.guestName.toLowerCase().includes(ie)||W.requestContent.toLowerCase().includes(ie)||W.orderId.toLowerCase().includes(ie)}return!0});u.useEffect(()=>{P();const W=setInterval(P,3e4);return()=>clearInterval(W)},[]);const Y=W=>{o(W),c(!0)},we=()=>{c(!1),o(null)},ne=async()=>{r&&(m(!0),await M(r.id))},ue=()=>{m(!1),p([])};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Y√™u c·∫ßu kh√°ch h√†ng"}),e.jsx("p",{className:"text-gray-600",children:"Qu·∫£n l√Ω v√† x·ª≠ l√Ω c√°c y√™u c·∫ßu t·ª´ kh√°ch h√†ng"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(L,{variant:"outline",onClick:P,disabled:a,children:[e.jsx(me,{className:O("h-4 w-4 mr-2",a&&"animate-spin")}),"L√†m m·ªõi"]}),e.jsxs(Bc,{children:[e.jsx(Hc,{asChild:!0,children:e.jsxs(L,{variant:"destructive",disabled:t.length===0,children:[e.jsx(Ut,{className:"h-4 w-4 mr-2"}),"X√≥a t·∫•t c·∫£"]})}),e.jsxs(ai,{children:[e.jsxs(ii,{children:[e.jsx(li,{children:"X√°c nh·∫≠n x√≥a t·∫•t c·∫£ requests"}),e.jsx(oi,{children:"H√†nh ƒë·ªông n√†y s·∫Ω x√≥a t·∫•t c·∫£ y√™u c·∫ßu v√† kh√¥ng th·ªÉ ho√†n t√°c. Vui l√≤ng nh·∫≠p m·∫≠t kh·∫©u ƒë·ªÉ x√°c nh·∫≠n:"})]}),e.jsxs("div",{className:"py-4",children:[e.jsx(K,{type:"password",placeholder:"Nh·∫≠p m·∫≠t kh·∫©u x√°c nh·∫≠n",value:z,onChange:W=>F(W.target.value),className:D?"border-red-500":""}),D&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:D})]}),e.jsxs(ri,{children:[e.jsx(di,{onClick:()=>{F(""),C("")},children:"H·ªßy"}),e.jsx(ci,{onClick:A,disabled:S,className:"bg-red-600 hover:bg-red-700",children:S?"ƒêang x√≥a...":"X√≥a t·∫•t c·∫£"})]})]})]})]})]}),e.jsxs(R,{children:[e.jsx(G,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(Ta,{className:"h-5 w-5"}),"B·ªô l·ªçc"]})}),e.jsxs($,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Tr·∫°ng th√°i"}),e.jsxs(Ne,{value:g,onValueChange:y,children:[e.jsx(je,{children:e.jsx(Se,{})}),e.jsx(be,{children:Vc.map(W=>e.jsx(H,{value:W,children:W},W))})]})]}),e.jsxs("div",{children:[e.jsx(_,{children:"T·ª´ ng√†y"}),e.jsx(K,{type:"date",value:j,onChange:W=>f(W.target.value)})]}),e.jsxs("div",{children:[e.jsx(_,{children:"ƒê·∫øn ng√†y"}),e.jsx(K,{type:"date",value:b,onChange:W=>w(W.target.value)})]}),e.jsxs("div",{children:[e.jsx(_,{children:"T√¨m ki·∫øm"}),e.jsxs("div",{className:"relative",children:[e.jsx(Dt,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(K,{placeholder:"T√¨m theo ph√≤ng, kh√°ch...",value:T,onChange:W=>E(W.target.value),className:"pl-10"})]})]})]}),(g!=="T·∫•t c·∫£"||j||b||T)&&e.jsx("div",{className:"mt-4",children:e.jsx(L,{variant:"outline",size:"sm",onClick:()=>{y("T·∫•t c·∫£"),f(""),w(""),E("")},children:"X√≥a b·ªô l·ªçc"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(R,{children:e.jsx($,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ot,{className:"h-5 w-5 text-orange-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"ƒêang ch·ªù"}),e.jsx("p",{className:"text-2xl font-bold",children:t.filter(W=>W.status==="ƒê√£ ghi nh·∫≠n").length})]})]})})}),e.jsx(R,{children:e.jsx($,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(me,{className:"h-5 w-5 text-yellow-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"ƒêang x·ª≠ l√Ω"}),e.jsx("p",{className:"text-2xl font-bold",children:t.filter(W=>W.status==="ƒêang th·ª±c hi·ªán").length})]})]})})}),e.jsx(R,{children:e.jsx($,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"h-5 w-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Ho√†n th√†nh"}),e.jsx("p",{className:"text-2xl font-bold",children:t.filter(W=>W.status==="Ho√†n thi·ªán").length})]})]})})}),e.jsx(R,{children:e.jsx($,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"h-5 w-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"T·ªïng c·ªông"}),e.jsx("p",{className:"text-2xl font-bold",children:t.length})]})]})})})]}),e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsx(U,{children:"Danh s√°ch y√™u c·∫ßu"}),e.jsxs(te,{children:["Hi·ªÉn th·ªã ",B.length," / ",t.length," y√™u c·∫ßu"]})]}),e.jsx($,{children:a?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(me,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{children:"ƒêang t·∫£i..."})]}):B.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ce,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Kh√¥ng c√≥ y√™u c·∫ßu n√†o"})]}):e.jsx("div",{className:"space-y-4",children:B.sort((W,ie)=>new Date(ie.createdAt).getTime()-new Date(W.createdAt).getTime()).map(W=>e.jsx(R,{className:"hover:shadow-md transition-shadow",children:e.jsx($,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Aa,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"font-semibold",children:["Ph√≤ng ",W.roomNumber]}),e.jsx(ee,{variant:"outline",className:"text-xs",children:W.orderId})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ia,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:W.guestName}),e.jsx(Sa,{className:"h-4 w-4 text-gray-500 ml-4"}),e.jsx("span",{className:"text-sm text-gray-600",children:new Date(W.createdAt).toLocaleString()})]}),e.jsx("p",{className:"text-sm text-gray-800 mb-3 line-clamp-2",children:W.requestContent}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(ee,{variant:"outline",className:O("text-xs",Gc(W.status)),children:[Uc(W.status),e.jsx("span",{className:"ml-1",children:W.status})]})})]}),e.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[e.jsxs(L,{variant:"outline",size:"sm",onClick:()=>Y(W),children:[e.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Chi ti·∫øt"]}),e.jsxs(L,{variant:"outline",size:"sm",onClick:()=>{o(W),ne()},children:[e.jsx(Jt,{className:"h-4 w-4 mr-2"}),"Nh·∫Øn tin"]})]})]})})},W.id))})})]}),r&&e.jsxs(e.Fragment,{children:[e.jsx(YS,{request:r,isOpen:l,onClose:we,onStatusChange:W=>V(r.id,W),onOpenMessage:ne}),e.jsx(ZS,{request:r,messages:h,isOpen:d,onClose:ue,onSendMessage:k,loading:v})]})]})},Tt=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF4560"],Zs=({title:s,value:t,change:n,changeType:a,icon:i,description:r})=>{const o=()=>{switch(a){case"positive":return"text-green-600";case"negative":return"text-red-600";default:return"text-gray-600"}},l=()=>{switch(a){case"positive":return e.jsx(Be,{className:"h-3 w-3"});case"negative":return e.jsx(Qu,{className:"h-3 w-3"});default:return e.jsx(Be,{className:"h-3 w-3"})}};return e.jsx(R,{children:e.jsx($,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:s}),e.jsx("p",{className:"text-2xl font-bold",children:t}),n&&e.jsxs("div",{className:O("flex items-center gap-1 text-sm mt-1",o()),children:[l(),e.jsx("span",{children:n})]}),r&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r})]}),e.jsx(i,{className:"h-8 w-8 text-gray-400"})]})})})},Vn=({active:s,payload:t,label:n})=>s&&t&&t.length?e.jsxs("div",{className:"bg-white p-2 border rounded shadow",children:[e.jsx("p",{className:"font-medium",children:n}),t.map((a,i)=>e.jsx("p",{style:{color:a.color},children:`${a.dataKey}: ${a.value}`},i))]}):null,eC=()=>{const{user:s}=Le(),[t,n]=u.useState(null),[a,i]=u.useState(!0),[r,o]=u.useState("30d"),[l,c]=u.useState("all"),d={overview:{totalCalls:1247,averageCallDuration:"2:34",successRate:94.2,topLanguages:["Vietnamese","English","Korean"],callsThisMonth:423,growthRate:15.3},serviceDistribution:[{service:"Room Service",calls:450,percentage:36.1},{service:"Concierge",calls:300,percentage:24.1},{service:"Housekeeping",calls:250,percentage:20.1},{service:"Front Desk",calls:150,percentage:12},{service:"Spa & Wellness",calls:97,percentage:7.8}],hourlyActivity:[{hour:"06:00",calls:5},{hour:"07:00",calls:12},{hour:"08:00",calls:25},{hour:"09:00",calls:35},{hour:"10:00",calls:45},{hour:"11:00",calls:40},{hour:"12:00",calls:55},{hour:"13:00",calls:48},{hour:"14:00",calls:52},{hour:"15:00",calls:38},{hour:"16:00",calls:42},{hour:"17:00",calls:35},{hour:"18:00",calls:45},{hour:"19:00",calls:52},{hour:"20:00",calls:38},{hour:"21:00",calls:25},{hour:"22:00",calls:15},{hour:"23:00",calls:8}],dailyTrends:[{date:"2024-01-01",calls:45,duration:154,satisfaction:4.5},{date:"2024-01-02",calls:52,duration:162,satisfaction:4.6},{date:"2024-01-03",calls:38,duration:148,satisfaction:4.4},{date:"2024-01-04",calls:41,duration:156,satisfaction:4.7},{date:"2024-01-05",calls:48,duration:159,satisfaction:4.5},{date:"2024-01-06",calls:55,duration:165,satisfaction:4.8},{date:"2024-01-07",calls:42,duration:151,satisfaction:4.6}],languageDistribution:[{language:"Vietnamese",calls:687,percentage:55.1},{language:"English",calls:423,percentage:33.9},{language:"Korean",calls:87,percentage:7},{language:"Chinese",calls:50,percentage:4}]},m=async()=>{try{i(!0),setTimeout(()=>{n(d),i(!1)},1e3)}catch(h){console.error("Failed to fetch analytics:",h),i(!1)}};return u.useEffect(()=>{m()},[r]),a?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(me,{className:"h-8 w-8 animate-spin text-blue-600"}),e.jsx("span",{className:"ml-2",children:"ƒêang t·∫£i analytics..."})]}):t?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Analytics n√¢ng cao"}),e.jsx("p",{className:"text-gray-600",children:"Ph√¢n t√≠ch chi ti·∫øt ho·∫°t ƒë·ªông AI Assistant v√† kh√°ch h√†ng"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Ne,{value:r,onValueChange:o,children:[e.jsx(je,{className:"w-32",children:e.jsx(Se,{})}),e.jsxs(be,{children:[e.jsx(H,{value:"7d",children:"7 ng√†y"}),e.jsx(H,{value:"30d",children:"30 ng√†y"}),e.jsx(H,{value:"90d",children:"90 ng√†y"}),e.jsx(H,{value:"365d",children:"1 nƒÉm"})]})]}),e.jsxs(L,{variant:"outline",onClick:m,children:[e.jsx(me,{className:"h-4 w-4 mr-2"}),"L√†m m·ªõi"]}),e.jsxs(L,{variant:"outline",children:[e.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Xu·∫•t b√°o c√°o"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Zs,{title:"T·ªïng cu·ªôc g·ªçi",value:t.overview.totalCalls.toLocaleString(),change:`+${t.overview.growthRate}%`,changeType:"positive",icon:ct,description:"30 ng√†y qua"}),e.jsx(Zs,{title:"Th·ªùi gian TB",value:t.overview.averageCallDuration,change:"+12 gi√¢y",changeType:"positive",icon:ot,description:"So v·ªõi th√°ng tr∆∞·ªõc"}),e.jsx(Zs,{title:"T·ª∑ l·ªá th√†nh c√¥ng",value:`${t.overview.successRate}%`,change:"+2.1%",changeType:"positive",icon:bt,description:"Cu·ªôc g·ªçi ho√†n th√†nh"}),e.jsx(Zs,{title:"Th√°ng n√†y",value:t.overview.callsThisMonth.toLocaleString(),change:"+23 h√¥m nay",changeType:"positive",icon:Be,description:"Cu·ªôc g·ªçi trong th√°ng"})]}),e.jsxs(dt,{defaultValue:"overview",className:"space-y-4",children:[e.jsxs(nt,{className:"grid w-full grid-cols-4",children:[e.jsx(ce,{value:"overview",children:"T·ªïng quan"}),e.jsx(ce,{value:"services",children:"D·ªãch v·ª•"}),e.jsx(ce,{value:"activity",children:"Ho·∫°t ƒë·ªông"}),e.jsx(ce,{value:"languages",children:"Ng√¥n ng·ªØ"})]}),e.jsx(de,{value:"overview",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsx(U,{children:"Xu h∆∞·ªõng cu·ªôc g·ªçi theo ng√†y"}),e.jsx(te,{children:"7 ng√†y g·∫ßn ƒë√¢y"})]}),e.jsx($,{children:e.jsx(pt,{width:"100%",height:300,children:e.jsxs(Dd,{data:t.dailyTrends,children:[e.jsx(ss,{strokeDasharray:"3 3"}),e.jsx(ns,{dataKey:"date"}),e.jsx(as,{}),e.jsx(xt,{content:e.jsx(Vn,{})}),e.jsx(Md,{type:"monotone",dataKey:"calls",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})]})})})]}),e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsx(U,{children:"M·ª©c ƒë·ªô h√†i l√≤ng"}),e.jsx(te,{children:"ƒêi·ªÉm trung b√¨nh theo ng√†y"})]}),e.jsx($,{children:e.jsx(pt,{width:"100%",height:300,children:e.jsxs(va,{data:t.dailyTrends,children:[e.jsx(ss,{strokeDasharray:"3 3"}),e.jsx(ns,{dataKey:"date"}),e.jsx(as,{domain:[4,5]}),e.jsx(xt,{content:e.jsx(Vn,{})}),e.jsx(ys,{type:"monotone",dataKey:"satisfaction",stroke:"#00C49F",strokeWidth:2})]})})})]})]})}),e.jsx(de,{value:"services",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsx(U,{children:"Ph√¢n b·ªë d·ªãch v·ª•"}),e.jsx(te,{children:"Theo s·ªë l∆∞·ª£ng cu·ªôc g·ªçi"})]}),e.jsx($,{children:e.jsx(pt,{width:"100%",height:300,children:e.jsxs(Un,{children:[e.jsx(Wn,{data:t.serviceDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({name:h,percentage:p})=>`${h} (${p}%)`,outerRadius:80,fill:"#8884d8",dataKey:"calls",children:t.serviceDistribution.map((h,p)=>e.jsx(Kn,{fill:Tt[p%Tt.length]},`cell-${p}`))}),e.jsx(xt,{})]})})})]}),e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsx(U,{children:"Top d·ªãch v·ª•"}),e.jsx(te,{children:"X·∫øp h·∫°ng theo l∆∞·ª£ng s·ª≠ d·ª•ng"})]}),e.jsx($,{children:e.jsx("div",{className:"space-y-3",children:t.serviceDistribution.map((h,p)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:Tt[p%Tt.length]}}),e.jsx("span",{className:"font-medium",children:h.service})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-semibold",children:[h.calls," cu·ªôc g·ªçi"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[h.percentage,"%"]})]})]},h.service))})})]})]})}),e.jsx(de,{value:"activity",className:"space-y-4",children:e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsx(U,{children:"Ho·∫°t ƒë·ªông theo gi·ªù"}),e.jsx(te,{children:"Ph√¢n b·ªë cu·ªôc g·ªçi trong 24h"})]}),e.jsx($,{children:e.jsx(pt,{width:"100%",height:400,children:e.jsxs(qr,{data:t.hourlyActivity,children:[e.jsx(ss,{strokeDasharray:"3 3"}),e.jsx(ns,{dataKey:"hour"}),e.jsx(as,{}),e.jsx(xt,{content:e.jsx(Vn,{})}),e.jsx(Vr,{dataKey:"calls",fill:"#8884d8"})]})})})]})}),e.jsx(de,{value:"languages",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsx(U,{children:"Ph√¢n b·ªë ng√¥n ng·ªØ"}),e.jsx(te,{children:"T·ª∑ l·ªá s·ª≠ d·ª•ng c√°c ng√¥n ng·ªØ"})]}),e.jsx($,{children:e.jsx(pt,{width:"100%",height:300,children:e.jsxs(Un,{children:[e.jsx(Wn,{data:t.languageDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({name:h,percentage:p})=>`${h} (${p}%)`,outerRadius:80,fill:"#8884d8",dataKey:"calls",children:t.languageDistribution.map((h,p)=>e.jsx(Kn,{fill:Tt[p%Tt.length]},`cell-${p}`))}),e.jsx(xt,{})]})})})]}),e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsx(U,{children:"Th·ªëng k√™ ng√¥n ng·ªØ"}),e.jsx(te,{children:"Chi ti·∫øt s·ª≠ d·ª•ng"})]}),e.jsx($,{children:e.jsx("div",{className:"space-y-4",children:t.languageDistribution.map((h,p)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:h.language}),e.jsxs("span",{className:"text-sm text-gray-500",children:[h.calls," cu·ªôc g·ªçi (",h.percentage,"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"h-2 rounded-full",style:{width:`${h.percentage}%`,backgroundColor:Tt[p%Tt.length]}})})]},h.language))})})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsxs(R,{children:[e.jsx(G,{children:e.jsx(U,{children:"Ng√¥n ng·ªØ ph·ªï bi·∫øn"})}),e.jsx($,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:t.overview.topLanguages.map((h,p)=>e.jsx(ee,{variant:"secondary",children:h},h))})})]}),e.jsxs(R,{children:[e.jsx(G,{children:e.jsx(U,{children:"Gi·ªù cao ƒëi·ªÉm"})}),e.jsx($,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"S√°ng:"}),e.jsx("span",{className:"font-medium",children:"08:00 - 12:00"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Chi·ªÅu:"}),e.jsx("span",{className:"font-medium",children:"14:00 - 18:00"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"T·ªëi:"}),e.jsx("span",{className:"font-medium",children:"19:00 - 21:00"})]})]})})]}),e.jsxs(R,{children:[e.jsx(G,{children:e.jsx(U,{children:"Xu h∆∞·ªõng"})}),e.jsx($,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm",children:"TƒÉng tr∆∞·ªüng 15.3%"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm",children:"Th·ªùi gian g·ªçi tƒÉng"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm",children:"H√†i l√≤ng c·∫£i thi·ªán"})]})]})})]})]})]}):e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:"Kh√¥ng th·ªÉ t·∫£i d·ªØ li·ªáu analytics"})})},vt=u.forwardRef(({className:s,...t},n)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:n,className:O("w-full caption-bottom text-sm",s),...t})}));vt.displayName="Table";const yt=u.forwardRef(({className:s,...t},n)=>e.jsx("thead",{ref:n,className:O("[&_tr]:border-b",s),...t}));yt.displayName="TableHeader";const jt=u.forwardRef(({className:s,...t},n)=>e.jsx("tbody",{ref:n,className:O("[&_tr:last-child]:border-0",s),...t}));jt.displayName="TableBody";const tC=u.forwardRef(({className:s,...t},n)=>e.jsx("tfoot",{ref:n,className:O("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...t}));tC.displayName="TableFooter";const Me=u.forwardRef(({className:s,...t},n)=>e.jsx("tr",{ref:n,className:O("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...t}));Me.displayName="TableRow";const Z=u.forwardRef(({className:s,...t},n)=>e.jsx("th",{ref:n,className:O("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...t}));Z.displayName="TableHead";const J=u.forwardRef(({className:s,...t},n)=>e.jsx("td",{ref:n,className:O("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...t}));J.displayName="TableCell";const sC=u.forwardRef(({className:s,...t},n)=>e.jsx("caption",{ref:n,className:O("mt-4 text-sm text-muted-foreground",s),...t}));sC.displayName="TableCaption";const pn={"hotel-manager":{label:"Qu·∫£n l√Ω kh√°ch s·∫°n",color:"bg-blue-100 text-blue-800 border-blue-300",icon:e.jsx(Ae,{className:"h-3 w-3"}),description:"Quy·ªÅn truy c·∫≠p ƒë·∫ßy ƒë·ªß"},"front-desk":{label:"L·ªÖ t√¢n",color:"bg-green-100 text-green-800 border-green-300",icon:e.jsx(We,{className:"h-3 w-3"}),description:"Qu·∫£n l√Ω y√™u c·∫ßu kh√°ch h√†ng"},"it-manager":{label:"Qu·∫£n l√Ω IT",color:"bg-purple-100 text-purple-800 border-purple-300",icon:e.jsx(Je,{className:"h-3 w-3"}),description:"Qu·∫£n l√Ω h·ªá th·ªëng k·ªπ thu·∫≠t"}},ar=({isOpen:s,onClose:t,onSubmit:n,staff:a=null,loading:i=!1})=>{const r=!!a,[o,l]=u.useState({username:a?.username||"",email:a?.email||"",displayName:a?.displayName||"",role:a?.role||"front-desk",password:"",confirmPassword:"",isActive:a?.isActive??!0}),[c,d]=u.useState({}),[m,h]=u.useState(!1);u.useEffect(()=>{s&&(l({username:a?.username||"",email:a?.email||"",displayName:a?.displayName||"",role:a?.role||"front-desk",password:"",confirmPassword:"",isActive:a?.isActive??!0}),d({}))},[s,a]);const p=()=>{const x={};return o.username.trim()?o.username.length<3&&(x.username="T√™n ƒëƒÉng nh·∫≠p ph·∫£i c√≥ √≠t nh·∫•t 3 k√Ω t·ª±"):x.username="T√™n ƒëƒÉng nh·∫≠p l√† b·∫Øt bu·ªôc",o.email.trim()?/\S+@\S+\.\S+/.test(o.email)||(x.email="Email kh√¥ng h·ª£p l·ªá"):x.email="Email l√† b·∫Øt bu·ªôc",o.displayName.trim()||(x.displayName="T√™n hi·ªÉn th·ªã l√† b·∫Øt bu·ªôc"),r||(o.password?o.password.length<6&&(x.password="M·∫≠t kh·∫©u ph·∫£i c√≥ √≠t nh·∫•t 6 k√Ω t·ª±"):x.password="M·∫≠t kh·∫©u l√† b·∫Øt bu·ªôc",o.password!==o.confirmPassword&&(x.confirmPassword="M·∫≠t kh·∫©u x√°c nh·∫≠n kh√¥ng kh·ªõp")),d(x),Object.keys(x).length===0},v=x=>{x.preventDefault(),p()&&n(o)};return e.jsx($t,{open:s,onOpenChange:t,children:e.jsxs(Nt,{className:"max-w-md",children:[e.jsxs(St,{children:[e.jsx(Ct,{children:r?"Ch·ªânh s·ª≠a nh√¢n vi√™n":"Th√™m nh√¢n vi√™n m·ªõi"}),e.jsx(Ft,{children:r?"C·∫≠p nh·∫≠t th√¥ng tin nh√¢n vi√™n":"T·∫°o t√†i kho·∫£n nh√¢n vi√™n m·ªõi"})]}),e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(_,{htmlFor:"username",children:"T√™n ƒëƒÉng nh·∫≠p"}),e.jsx(K,{id:"username",value:o.username,onChange:x=>l(g=>({...g,username:x.target.value})),className:c.username?"border-red-500":"",disabled:r}),c.username&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.username})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"email",children:"Email"}),e.jsx(K,{id:"email",type:"email",value:o.email,onChange:x=>l(g=>({...g,email:x.target.value})),className:c.email?"border-red-500":""}),c.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.email})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"displayName",children:"T√™n hi·ªÉn th·ªã"}),e.jsx(K,{id:"displayName",value:o.displayName,onChange:x=>l(g=>({...g,displayName:x.target.value})),className:c.displayName?"border-red-500":""}),c.displayName&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.displayName})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"role",children:"Vai tr√≤"}),e.jsxs(Ne,{value:o.role,onValueChange:x=>l(g=>({...g,role:x})),children:[e.jsx(je,{children:e.jsx(Se,{})}),e.jsx(be,{children:Object.entries(pn).map(([x,g])=>e.jsx(H,{value:x,children:e.jsxs("div",{className:"flex items-center gap-2",children:[g.icon,e.jsx("span",{children:g.label})]})},x))})]})]}),!r&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(_,{htmlFor:"password",children:"M·∫≠t kh·∫©u"}),e.jsxs("div",{className:"relative",children:[e.jsx(K,{id:"password",type:m?"text":"password",value:o.password,onChange:x=>l(g=>({...g,password:x.target.value})),className:c.password?"border-red-500":""}),e.jsx(L,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>h(!m),children:m?e.jsx(Tl,{className:"h-4 w-4"}):e.jsx(Lt,{className:"h-4 w-4"})})]}),c.password&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.password})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"confirmPassword",children:"X√°c nh·∫≠n m·∫≠t kh·∫©u"}),e.jsx(K,{id:"confirmPassword",type:"password",value:o.confirmPassword,onChange:x=>l(g=>({...g,confirmPassword:x.target.value})),className:c.confirmPassword?"border-red-500":""}),c.confirmPassword&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.confirmPassword})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"isActive",checked:o.isActive,onChange:x=>l(g=>({...g,isActive:x.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx(_,{htmlFor:"isActive",children:"T√†i kho·∫£n ho·∫°t ƒë·ªông"})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(L,{type:"button",variant:"outline",onClick:t,children:"H·ªßy"}),e.jsxs(L,{type:"submit",disabled:i,children:[i?e.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(ks,{className:"h-4 w-4 mr-2"}),r?"C·∫≠p nh·∫≠t":"T·∫°o t√†i kho·∫£n"]})]})]})]})})},nC=({staff:s,isOpen:t,onClose:n})=>{if(!s)return null;const a=pn[s.role];return e.jsx($t,{open:t,onOpenChange:n,children:e.jsxs(Nt,{className:"max-w-lg",children:[e.jsxs(St,{children:[e.jsxs(Ct,{className:"flex items-center gap-2",children:[e.jsx(Ae,{className:"h-5 w-5"}),"Quy·ªÅn h·∫°n c·ªßa ",s.displayName]}),e.jsx(Ft,{children:"Chi ti·∫øt quy·ªÅn truy c·∫≠p v√† vai tr√≤"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(_,{children:"Vai tr√≤"}),e.jsxs(ee,{variant:"outline",className:O("mt-1",a.color),children:[a.icon,e.jsx("span",{className:"ml-1",children:a.label})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:a.description})]}),e.jsxs("div",{children:[e.jsxs(_,{children:["Quy·ªÅn h·∫°n (",s.permissions.length,")"]}),e.jsx("div",{className:"mt-2 max-h-48 overflow-y-auto border rounded-lg p-3",children:e.jsx("div",{className:"grid grid-cols-1 gap-1",children:s.permissions.map(i=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(_l,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{className:"font-mono text-xs",children:i})]},i))})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(L,{onClick:n,children:"ƒê√≥ng"})})]})]})})},aC=()=>{const{user:s}=Le(),[t,n]=u.useState([]),[a,i]=u.useState(!0),[r,o]=u.useState(""),[l,c]=u.useState("all"),[d,m]=u.useState("all"),[h,p]=u.useState(!1),[v,x]=u.useState(!1),[g,y]=u.useState(!1),[j,f]=u.useState(null),[b,w]=u.useState(!1),T=[{id:"1",username:"manager",email:"manager@hotel.com",displayName:"Hotel Manager",role:"hotel-manager",permissions:["dashboard:view","analytics:view_advanced","staff:manage","settings:manage"],isActive:!0,lastLogin:"2024-01-15T10:30:00Z",createdAt:"2024-01-01T09:00:00Z",updatedAt:"2024-01-15T10:30:00Z"},{id:"2",username:"frontdesk",email:"frontdesk@hotel.com",displayName:"Front Desk Staff",role:"front-desk",permissions:["dashboard:view","requests:view","calls:view","guests:manage"],isActive:!0,lastLogin:"2024-01-15T09:15:00Z",createdAt:"2024-01-02T10:00:00Z",updatedAt:"2024-01-15T09:15:00Z"},{id:"3",username:"itmanager",email:"it@hotel.com",displayName:"IT Manager",role:"it-manager",permissions:["dashboard:view","system:monitor","logs:view","security:manage"],isActive:!0,lastLogin:"2024-01-14T16:45:00Z",createdAt:"2024-01-03T11:00:00Z",updatedAt:"2024-01-14T16:45:00Z"},{id:"4",username:"receptionist2",email:"receptionist2@hotel.com",displayName:"Receptionist 2",role:"front-desk",permissions:["dashboard:view","requests:view","calls:view"],isActive:!1,lastLogin:"2024-01-10T14:20:00Z",createdAt:"2024-01-05T08:30:00Z",updatedAt:"2024-01-10T14:20:00Z"}],E=async()=>{try{i(!0),setTimeout(()=>{n(T),i(!1)},1e3)}catch(S){console.error("Failed to fetch staff:",S),i(!1)}},z=async S=>{try{if(w(!0),await new Promise(N=>setTimeout(N,1e3)),j)n(N=>N.map(I=>I.id===j.id?{...I,...S,updatedAt:new Date().toISOString()}:I)),x(!1);else{const N={id:Date.now().toString(),...S,permissions:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};n(I=>[...I,N]),p(!1)}f(null)}catch(N){console.error("Failed to save staff:",N)}finally{w(!1)}},F=async S=>{try{await new Promise(N=>setTimeout(N,500)),n(N=>N.filter(I=>I.id!==S))}catch(N){console.error("Failed to delete staff:",N)}},D=async S=>{try{n(N=>N.map(I=>I.id===S?{...I,isActive:!I.isActive,updatedAt:new Date().toISOString()}:I))}catch(N){console.error("Failed to toggle staff status:",N)}},C=t.filter(S=>{const N=S.displayName.toLowerCase().includes(r.toLowerCase())||S.username.toLowerCase().includes(r.toLowerCase())||S.email.toLowerCase().includes(r.toLowerCase()),I=l==="all"||S.role===l,P=d==="all"||d==="active"&&S.isActive||d==="inactive"&&!S.isActive;return N&&I&&P});return u.useEffect(()=>{E()},[]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Qu·∫£n l√Ω nh√¢n vi√™n"}),e.jsx("p",{className:"text-gray-600",children:"Th√™m, s·ª≠a, x√≥a t√†i kho·∫£n nh√¢n vi√™n v√† qu·∫£n l√Ω quy·ªÅn h·∫°n"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(L,{variant:"outline",onClick:E,disabled:a,children:[e.jsx(me,{className:O("h-4 w-4 mr-2",a&&"animate-spin")}),"L√†m m·ªõi"]}),e.jsxs(L,{onClick:()=>p(!0),children:[e.jsx(ks,{className:"h-4 w-4 mr-2"}),"Th√™m nh√¢n vi√™n"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(R,{children:e.jsx($,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(We,{className:"h-5 w-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"T·ªïng nh√¢n vi√™n"}),e.jsx("p",{className:"text-2xl font-bold",children:t.length})]})]})})}),e.jsx(R,{children:e.jsx($,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Dn,{className:"h-5 w-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"ƒêang ho·∫°t ƒë·ªông"}),e.jsx("p",{className:"text-2xl font-bold",children:t.filter(S=>S.isActive).length})]})]})})}),e.jsx(R,{children:e.jsx($,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ae,{className:"h-5 w-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Qu·∫£n l√Ω"}),e.jsx("p",{className:"text-2xl font-bold",children:t.filter(S=>S.role==="hotel-manager").length})]})]})})}),e.jsx(R,{children:e.jsx($,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(We,{className:"h-5 w-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"L·ªÖ t√¢n"}),e.jsx("p",{className:"text-2xl font-bold",children:t.filter(S=>S.role==="front-desk").length})]})]})})})]}),e.jsxs(R,{children:[e.jsx(G,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(Ta,{className:"h-5 w-5"}),"B·ªô l·ªçc"]})}),e.jsx($,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(_,{children:"T√¨m ki·∫øm"}),e.jsxs("div",{className:"relative",children:[e.jsx(Dt,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(K,{placeholder:"T√™n, username, email...",value:r,onChange:S=>o(S.target.value),className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx(_,{children:"Vai tr√≤"}),e.jsxs(Ne,{value:l,onValueChange:c,children:[e.jsx(je,{children:e.jsx(Se,{})}),e.jsxs(be,{children:[e.jsx(H,{value:"all",children:"T·∫•t c·∫£ vai tr√≤"}),Object.entries(pn).map(([S,N])=>e.jsx(H,{value:S,children:N.label},S))]})]})]}),e.jsxs("div",{children:[e.jsx(_,{children:"Tr·∫°ng th√°i"}),e.jsxs(Ne,{value:d,onValueChange:m,children:[e.jsx(je,{children:e.jsx(Se,{})}),e.jsxs(be,{children:[e.jsx(H,{value:"all",children:"T·∫•t c·∫£"}),e.jsx(H,{value:"active",children:"Ho·∫°t ƒë·ªông"}),e.jsx(H,{value:"inactive",children:"Ng∆∞ng ho·∫°t ƒë·ªông"})]})]})]})]})})]}),e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsx(U,{children:"Danh s√°ch nh√¢n vi√™n"}),e.jsxs(te,{children:["Hi·ªÉn th·ªã ",C.length," / ",t.length," nh√¢n vi√™n"]})]}),e.jsx($,{children:a?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(me,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{children:"ƒêang t·∫£i..."})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(vt,{children:[e.jsx(yt,{children:e.jsxs(Me,{children:[e.jsx(Z,{children:"Nh√¢n vi√™n"}),e.jsx(Z,{children:"Vai tr√≤"}),e.jsx(Z,{children:"Tr·∫°ng th√°i"}),e.jsx(Z,{children:"L·∫ßn ƒëƒÉng nh·∫≠p cu·ªëi"}),e.jsx(Z,{children:"Thao t√°c"})]})}),e.jsx(jt,{children:C.map(S=>{const N=pn[S.role];return e.jsxs(Me,{children:[e.jsx(J,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx(We,{className:"h-5 w-5 text-gray-500"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:S.displayName}),e.jsxs("div",{className:"text-sm text-gray-500",children:["@",S.username," ‚Ä¢ ",S.email]})]})]})}),e.jsx(J,{children:e.jsxs(ee,{variant:"outline",className:N.color,children:[N.icon,e.jsx("span",{className:"ml-1",children:N.label})]})}),e.jsx(J,{children:e.jsx(ee,{variant:S.isActive?"default":"secondary",children:S.isActive?e.jsxs(e.Fragment,{children:[e.jsx(Dn,{className:"h-3 w-3 mr-1"}),"Ho·∫°t ƒë·ªông"]}):e.jsxs(e.Fragment,{children:[e.jsx(cs,{className:"h-3 w-3 mr-1"}),"Ng∆∞ng"]})})}),e.jsx(J,{children:e.jsx("div",{className:"text-sm",children:S.lastLogin?e.jsxs(e.Fragment,{children:[e.jsx("div",{children:new Date(S.lastLogin).toLocaleDateString()}),e.jsx("div",{className:"text-gray-500",children:new Date(S.lastLogin).toLocaleTimeString()})]}):e.jsx("span",{className:"text-gray-400",children:"Ch∆∞a ƒëƒÉng nh·∫≠p"})})}),e.jsx(J,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>{f(S),y(!0)},children:e.jsx(Ae,{className:"h-4 w-4"})}),e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>{f(S),x(!0)},children:e.jsx(Gt,{className:"h-4 w-4"})}),e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>D(S.id),children:S.isActive?e.jsx(cs,{className:"h-4 w-4"}):e.jsx(Dn,{className:"h-4 w-4"})}),e.jsxs(Bc,{children:[e.jsx(Hc,{asChild:!0,children:e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(Ut,{className:"h-4 w-4"})})}),e.jsxs(ai,{children:[e.jsxs(ii,{children:[e.jsx(li,{children:"X√°c nh·∫≠n x√≥a"}),e.jsxs(oi,{children:['B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a nh√¢n vi√™n "',S.displayName,'"? H√†nh ƒë·ªông n√†y kh√¥ng th·ªÉ ho√†n t√°c.']})]}),e.jsxs(ri,{children:[e.jsx(di,{children:"H·ªßy"}),e.jsx(ci,{onClick:()=>F(S.id),className:"bg-red-600 hover:bg-red-700",children:"X√≥a"})]})]})]})]})})]},S.id)})})]})})})]}),e.jsx(ar,{isOpen:h,onClose:()=>p(!1),onSubmit:z,loading:b}),e.jsx(ar,{isOpen:v,onClose:()=>{x(!1),f(null)},onSubmit:z,staff:j,loading:b}),e.jsx(nC,{staff:j,isOpen:g,onClose:()=>{y(!1),f(null)}})]})},ir={cpu:{usage:45.2,cores:4,temperature:62,processes:156},memory:{used:6.8,total:16,available:9.2,usage:42.5},disk:{used:85.4,total:500,available:414.6,usage:17.1},network:{downloadSpeed:125.5,uploadSpeed:25.2,latency:12,status:"connected"},database:{connections:15,queries:1250,responseTime:45,status:"healthy"},services:[{name:"Hotel API",status:"running",uptime:"15d 4h 23m",memory:256,cpu:12.5},{name:"Database",status:"running",uptime:"15d 4h 23m",memory:512,cpu:8.2},{name:"Web Server",status:"running",uptime:"15d 4h 23m",memory:128,cpu:5.1},{name:"Socket Server",status:"running",uptime:"15d 4h 23m",memory:64,cpu:3.8},{name:"Email Service",status:"error",uptime:"0d 0h 0m",memory:0,cpu:0}]},rr=[{id:"1",type:"error",title:"Email Service Down",message:"Email service has been down for 2 hours",timestamp:"2024-01-15T10:30:00Z",resolved:!1},{id:"2",type:"warning",title:"High Memory Usage",message:"System memory usage is above 80%",timestamp:"2024-01-15T09:15:00Z",resolved:!1},{id:"3",type:"info",title:"Database Backup Completed",message:"Daily database backup completed successfully",timestamp:"2024-01-15T02:00:00Z",resolved:!0}],lr=[{id:"1",timestamp:"2024-01-15T10:35:22Z",level:"ERROR",service:"EmailService",message:"Failed to connect to SMTP server",details:"Connection timeout after 30 seconds"},{id:"2",timestamp:"2024-01-15T10:30:15Z",level:"WARN",service:"HotelAPI",message:"High response time detected",details:"Average response time: 2.5s (threshold: 1s)"},{id:"3",timestamp:"2024-01-15T10:25:08Z",level:"INFO",service:"Database",message:"Query executed successfully",details:"SELECT * FROM requests - 156 rows returned"},{id:"4",timestamp:"2024-01-15T10:20:03Z",level:"DEBUG",service:"WebServer",message:"Static file served",details:"GET /assets/logo.png - 200 OK"}],iC=[{time:"00:00",cpu:35,memory:40,disk:15},{time:"04:00",cpu:28,memory:35,disk:15},{time:"08:00",cpu:45,memory:50,disk:18},{time:"12:00",cpu:65,memory:60,disk:22},{time:"16:00",cpu:55,memory:58,disk:20},{time:"20:00",cpu:42,memory:45,disk:17},{time:"24:00",cpu:35,memory:40,disk:15}],rC=({metrics:s})=>{const t=a=>a<50?"text-green-600":a<80?"text-yellow-600":"text-red-600",n=a=>{switch(a){case"running":case"connected":case"healthy":return e.jsx(qe,{className:"h-4 w-4 text-green-500"});case"error":return e.jsx($s,{className:"h-4 w-4 text-red-500"});case"stopped":return e.jsx(ds,{className:"h-4 w-4 text-yellow-500"});default:return e.jsx(Ce,{className:"h-4 w-4 text-gray-500"})}};return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(R,{children:e.jsxs($,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Hu,{className:"h-5 w-5 text-blue-500"}),e.jsx("span",{className:"font-medium",children:"CPU"})]}),e.jsxs("span",{className:O("text-lg font-bold",t(s.cpu.usage)),children:[s.cpu.usage,"%"]})]}),e.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[e.jsxs("div",{children:["Cores: ",s.cpu.cores]}),e.jsxs("div",{children:["Temperature: ",s.cpu.temperature,"¬∞C"]}),e.jsxs("div",{children:["Processes: ",s.cpu.processes]})]})]})}),e.jsx(R,{children:e.jsxs($,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(jn,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{className:"font-medium",children:"Memory"})]}),e.jsxs("span",{className:O("text-lg font-bold",t(s.memory.usage)),children:[s.memory.usage,"%"]})]}),e.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[e.jsxs("div",{children:["Used: ",s.memory.used,"GB"]}),e.jsxs("div",{children:["Total: ",s.memory.total,"GB"]}),e.jsxs("div",{children:["Available: ",s.memory.available,"GB"]})]})]})}),e.jsx(R,{children:e.jsxs($,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Cs,{className:"h-5 w-5 text-purple-500"}),e.jsx("span",{className:"font-medium",children:"Disk"})]}),e.jsxs("span",{className:O("text-lg font-bold",t(s.disk.usage)),children:[s.disk.usage,"%"]})]}),e.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[e.jsxs("div",{children:["Used: ",s.disk.used,"GB"]}),e.jsxs("div",{children:["Total: ",s.disk.total,"GB"]}),e.jsxs("div",{children:["Available: ",s.disk.available,"GB"]})]})]})}),e.jsx(R,{children:e.jsxs($,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Da,{className:"h-5 w-5 text-blue-500"}),e.jsx("span",{className:"font-medium",children:"Network"})]}),n(s.network.status)]}),e.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[e.jsxs("div",{children:["Download: ",s.network.downloadSpeed," Mbps"]}),e.jsxs("div",{children:["Upload: ",s.network.uploadSpeed," Mbps"]}),e.jsxs("div",{children:["Latency: ",s.network.latency,"ms"]})]})]})}),e.jsx(R,{children:e.jsxs($,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qt,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{className:"font-medium",children:"Database"})]}),n(s.database.status)]}),e.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[e.jsxs("div",{children:["Connections: ",s.database.connections]}),e.jsxs("div",{children:["Queries: ",s.database.queries]}),e.jsxs("div",{children:["Response: ",s.database.responseTime,"ms"]})]})]})}),e.jsx(R,{children:e.jsxs($,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pa,{className:"h-5 w-5 text-orange-500"}),e.jsx("span",{className:"font-medium",children:"Services"})]}),e.jsxs("span",{className:"text-lg font-bold text-green-600",children:[s.services.filter(a=>a.status==="running").length,"/",s.services.length]})]}),e.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[e.jsxs("div",{children:["Running: ",s.services.filter(a=>a.status==="running").length]}),e.jsxs("div",{children:["Stopped: ",s.services.filter(a=>a.status==="stopped").length]}),e.jsxs("div",{children:["Error: ",s.services.filter(a=>a.status==="error").length]})]})]})})]})},lC=({alerts:s})=>{const t=i=>{switch(i){case"error":return e.jsx($s,{className:"h-4 w-4 text-red-500"});case"warning":return e.jsx(ds,{className:"h-4 w-4 text-yellow-500"});case"info":return e.jsx(ea,{className:"h-4 w-4 text-blue-500"});default:return e.jsx(Ce,{className:"h-4 w-4 text-gray-500"})}},n=i=>{switch(i){case"error":return"border-red-200 bg-red-50";case"warning":return"border-yellow-200 bg-yellow-50";case"info":return"border-blue-200 bg-blue-50";default:return"border-gray-200 bg-gray-50"}},a=s.filter(i=>!i.resolved);return e.jsx("div",{className:"space-y-3",children:a.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(qe,{className:"h-12 w-12 mx-auto mb-4 text-green-500"}),e.jsx("p",{children:"Kh√¥ng c√≥ c·∫£nh b√°o n√†o"})]}):a.map(i=>e.jsx("div",{className:O("border rounded-lg p-4",n(i.type)),children:e.jsxs("div",{className:"flex items-start gap-3",children:[t(i.type),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h4",{className:"font-medium",children:i.title}),e.jsx("span",{className:"text-sm text-gray-500",children:new Date(i.timestamp).toLocaleTimeString()})]}),e.jsx("p",{className:"text-sm text-gray-600",children:i.message})]})]})},i.id))})},oC=({services:s})=>{const t=n=>{switch(n){case"running":return e.jsx(ee,{className:"bg-green-100 text-green-800",children:"Running"});case"stopped":return e.jsx(ee,{className:"bg-gray-100 text-gray-800",children:"Stopped"});case"error":return e.jsx(ee,{className:"bg-red-100 text-red-800",children:"Error"});default:return e.jsx(ee,{variant:"secondary",children:"Unknown"})}};return e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-3",children:"Service"}),e.jsx("th",{className:"text-left p-3",children:"Status"}),e.jsx("th",{className:"text-left p-3",children:"Uptime"}),e.jsx("th",{className:"text-left p-3",children:"Memory"}),e.jsx("th",{className:"text-left p-3",children:"CPU"}),e.jsx("th",{className:"text-left p-3",children:"Actions"})]})}),e.jsx("tbody",{children:s.map((n,a)=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-3 font-medium",children:n.name}),e.jsx("td",{className:"p-3",children:t(n.status)}),e.jsx("td",{className:"p-3 text-sm text-gray-600",children:n.uptime}),e.jsxs("td",{className:"p-3 text-sm",children:[n.memory,"MB"]}),e.jsxs("td",{className:"p-3 text-sm",children:[n.cpu,"%"]}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(Lt,{className:"h-4 w-4"})}),e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(Je,{className:"h-4 w-4"})}),e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(me,{className:"h-4 w-4"})})]})})]},a))})]})})},cC=({logs:s})=>{const[t,n]=u.useState(null),a=i=>{switch(i){case"ERROR":return"bg-red-100 text-red-800";case"WARN":return"bg-yellow-100 text-yellow-800";case"INFO":return"bg-blue-100 text-blue-800";case"DEBUG":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return e.jsx("div",{className:"space-y-2",children:s.map(i=>e.jsx("div",{className:"border rounded-lg p-3 hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ee,{variant:"outline",className:O("text-xs",a(i.level)),children:i.level}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"font-medium text-sm",children:i.service}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(i.timestamp).toLocaleString()})]}),e.jsx("p",{className:"text-sm text-gray-700",children:i.message}),i.details&&e.jsx("p",{className:"text-xs text-gray-500 mt-1 font-mono",children:i.details})]})]})},i.id))})},dC=()=>{const{user:s}=Le(),[t,n]=u.useState(ir),[a,i]=u.useState(rr),[r,o]=u.useState(lr),[l,c]=u.useState(!1),[d,m]=u.useState(!0),h=async()=>{try{c(!0),setTimeout(()=>{n(ir),i(rr),o(lr),c(!1)},1e3)}catch(p){console.error("Failed to fetch metrics:",p),c(!1)}};return u.useEffect(()=>{if(h(),d){const p=setInterval(h,3e4);return()=>clearInterval(p)}},[d]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Gi√°m s√°t h·ªá th·ªëng"}),e.jsx("p",{className:"text-gray-600",children:"Theo d√µi hi·ªáu su·∫•t, tr·∫°ng th√°i v√† logs h·ªá th·ªëng"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(L,{variant:"outline",onClick:()=>m(!d),className:d?"bg-green-50":"",children:[e.jsx(bt,{className:"h-4 w-4 mr-2"}),d?"Auto ON":"Auto OFF"]}),e.jsxs(L,{variant:"outline",onClick:h,disabled:l,children:[e.jsx(me,{className:O("h-4 w-4 mr-2",l&&"animate-spin")}),"L√†m m·ªõi"]}),e.jsxs(L,{variant:"outline",children:[e.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Xu·∫•t b√°o c√°o"]})]})]}),e.jsx(rC,{metrics:t}),e.jsxs(dt,{defaultValue:"performance",className:"space-y-4",children:[e.jsxs(nt,{className:"grid w-full grid-cols-4",children:[e.jsx(ce,{value:"performance",children:"Hi·ªáu su·∫•t"}),e.jsx(ce,{value:"alerts",children:"C·∫£nh b√°o"}),e.jsx(ce,{value:"services",children:"D·ªãch v·ª•"}),e.jsx(ce,{value:"logs",children:"Logs"})]}),e.jsx(de,{value:"performance",className:"space-y-4",children:e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsx(U,{children:"Hi·ªáu su·∫•t h·ªá th·ªëng 24h"}),e.jsx(te,{children:"CPU, Memory v√† Disk usage"})]}),e.jsx($,{children:e.jsx(pt,{width:"100%",height:300,children:e.jsxs(va,{data:iC,children:[e.jsx(ss,{strokeDasharray:"3 3"}),e.jsx(ns,{dataKey:"time"}),e.jsx(as,{}),e.jsx(xt,{}),e.jsx(ys,{type:"monotone",dataKey:"cpu",stroke:"#8884d8",strokeWidth:2}),e.jsx(ys,{type:"monotone",dataKey:"memory",stroke:"#82ca9d",strokeWidth:2}),e.jsx(ys,{type:"monotone",dataKey:"disk",stroke:"#ffc658",strokeWidth:2})]})})})]})}),e.jsx(de,{value:"alerts",className:"space-y-4",children:e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(Kt,{className:"h-5 w-5"}),"C·∫£nh b√°o h·ªá th·ªëng"]}),e.jsxs(te,{children:[a.filter(p=>!p.resolved).length," c·∫£nh b√°o ch∆∞a x·ª≠ l√Ω"]})]}),e.jsx($,{children:e.jsx(lC,{alerts:a})})]})}),e.jsx(de,{value:"services",className:"space-y-4",children:e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsx(U,{children:"D·ªãch v·ª• h·ªá th·ªëng"}),e.jsx(te,{children:"Tr·∫°ng th√°i v√† hi·ªáu su·∫•t c√°c d·ªãch v·ª•"})]}),e.jsx($,{children:e.jsx(oC,{services:t.services})})]})}),e.jsx(de,{value:"logs",className:"space-y-4",children:e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(Ku,{className:"h-5 w-5"}),"System Logs"]}),e.jsx(te,{children:"Logs h·ªá th·ªëng g·∫ßn ƒë√¢y"})]}),e.jsx($,{children:e.jsx(cC,{logs:r})})]})})]})]})};var uC="Separator",or="horizontal",hC=["horizontal","vertical"],Wc=u.forwardRef((s,t)=>{const{decorative:n,orientation:a=or,...i}=s,r=mC(a)?a:or,l=n?{role:"none"}:{"aria-orientation":r==="vertical"?r:void 0,role:"separator"};return e.jsx(Te.div,{"data-orientation":r,...l,...i,ref:t})});Wc.displayName=uC;function mC(s){return hC.includes(s)}var Kc=Wc;const vs=u.forwardRef(({className:s,orientation:t="horizontal",decorative:n=!0,...a},i)=>e.jsx(Kc,{ref:i,decorative:n,orientation:t,className:O("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",s),...a}));vs.displayName=Kc.displayName;const pC=()=>{const{user:s}=Le(),[t,n]=u.useState(!1),[a,i]=u.useState("idle"),[r,o]=u.useState({hotelName:"Minh H·ªìng Hotel",description:"Premium hotel with AI-powered guest services",address:"123 Nguyen Hue Street, District 1, Ho Chi Minh City",phone:"+84 28 3823 4567",email:"info@minhhonghotel.com",website:"https://minhhonghotel.com",timezone:"Asia/Ho_Chi_Minh",language:"vi",currency:"VND"}),[l,c]=u.useState({enabled:!0,name:"Minh H·ªìng Assistant",language:"vi",responseDelay:500,enableSmallTalk:!0,enableTranscription:!0,confidenceThreshold:.8,customInstructions:"B·∫°n l√† tr·ª£ l√Ω AI c·ªßa kh√°ch s·∫°n Minh H·ªìng. Lu√¥n l·ªãch s·ª±, nhi·ªát t√¨nh v√† chuy√™n nghi·ªáp."}),[d,m]=u.useState({emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,newRequestAlert:!0,systemAlerts:!0,dailyReports:!0}),h=async()=>{n(!0),i("saving");try{await new Promise(p=>setTimeout(p,1e3)),i("success"),setTimeout(()=>i("idle"),2e3)}catch{i("error"),setTimeout(()=>i("idle"),2e3)}finally{n(!1)}};return t?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(me,{className:"h-8 w-8 animate-spin text-blue-600"}),e.jsx("span",{className:"ml-2",children:"ƒêang t·∫£i c√†i ƒë·∫∑t..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"C√†i ƒë·∫∑t h·ªá th·ªëng"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Qu·∫£n l√Ω c·∫•u h√¨nh kh√°ch s·∫°n, AI Assistant v√† c√°c t√≠nh nƒÉng kh√°c"})]}),e.jsxs(dt,{defaultValue:"general",className:"space-y-6",children:[e.jsxs(nt,{className:"grid w-full grid-cols-4",children:[e.jsxs(ce,{value:"general",className:"flex items-center gap-2",children:[e.jsx(rn,{className:"h-4 w-4"}),"Chung"]}),e.jsxs(ce,{value:"ai",className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"h-4 w-4"}),"AI Assistant"]}),e.jsxs(ce,{value:"notifications",className:"flex items-center gap-2",children:[e.jsx(Kt,{className:"h-4 w-4"}),"Th√¥ng b√°o"]}),e.jsxs(ce,{value:"security",className:"flex items-center gap-2",children:[e.jsx(Ae,{className:"h-4 w-4"}),"B·∫£o m·∫≠t"]})]}),e.jsx(de,{value:"general",children:e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(rn,{className:"h-5 w-5"}),"C√†i ƒë·∫∑t chung"]}),e.jsx(te,{children:"Th√¥ng tin c∆° b·∫£n v·ªÅ kh√°ch s·∫°n v√† c·∫•u h√¨nh h·ªá th·ªëng"})]}),e.jsxs($,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(_,{htmlFor:"hotelName",children:"T√™n kh√°ch s·∫°n"}),e.jsx(K,{id:"hotelName",value:r.hotelName,onChange:p=>o({...r,hotelName:p.target.value}),placeholder:"T√™n kh√°ch s·∫°n"})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"phone",children:"S·ªë ƒëi·ªán tho·∫°i"}),e.jsx(K,{id:"phone",value:r.phone,onChange:p=>o({...r,phone:p.target.value}),placeholder:"+84 28 3823 4567"})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"email",children:"Email"}),e.jsx(K,{id:"email",type:"email",value:r.email,onChange:p=>o({...r,email:p.target.value}),placeholder:"info@hotel.com"})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"website",children:"Website"}),e.jsx(K,{id:"website",value:r.website,onChange:p=>o({...r,website:p.target.value}),placeholder:"https://hotel.com"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(_,{htmlFor:"description",children:"M√¥ t·∫£"}),e.jsx(Ve,{id:"description",value:r.description,onChange:p=>o({...r,description:p.target.value}),placeholder:"M√¥ t·∫£ v·ªÅ kh√°ch s·∫°n...",rows:3})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"address",children:"ƒê·ªãa ch·ªâ"}),e.jsx(Ve,{id:"address",value:r.address,onChange:p=>o({...r,address:p.target.value}),placeholder:"ƒê·ªãa ch·ªâ ƒë·∫ßy ƒë·ªß",rows:3})]})]})]}),e.jsx(vs,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[a==="success"&&e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm text-green-600",children:"ƒê√£ l∆∞u th√†nh c√¥ng"})]}),a==="error"&&e.jsxs(e.Fragment,{children:[e.jsx(Ce,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-sm text-red-600",children:"L·ªói khi l∆∞u"})]})]}),e.jsx(L,{onClick:h,disabled:t,children:t?e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}),"ƒêang l∆∞u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"h-4 w-4 mr-2"}),"L∆∞u thay ƒë·ªïi"]})})]})]})]})}),e.jsx(de,{value:"ai",children:e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"h-5 w-5"}),"C√†i ƒë·∫∑t AI Assistant"]}),e.jsx(te,{children:"C·∫•u h√¨nh tr·ª£ l√Ω AI cho d·ªãch v·ª• kh√°ch h√†ng"})]}),e.jsxs($,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium",children:"AI Assistant"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"K√≠ch ho·∫°t tr·ª£ l√Ω AI cho d·ªãch v·ª• kh√°ch h√†ng"})]}),e.jsx(he,{checked:l.enabled,onCheckedChange:p=>c({...l,enabled:p})})]}),e.jsx(vs,{}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(_,{htmlFor:"assistantName",children:"T√™n tr·ª£ l√Ω"}),e.jsx(K,{id:"assistantName",value:l.name,onChange:p=>c({...l,name:p.target.value}),placeholder:"T√™n tr·ª£ l√Ω AI"})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"responseDelay",children:"ƒê·ªô tr·ªÖ ph·∫£n h·ªìi (ms)"}),e.jsx(K,{id:"responseDelay",type:"number",value:l.responseDelay,onChange:p=>c({...l,responseDelay:parseInt(p.target.value)}),min:"0",max:"5000"})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"confidenceThreshold",children:"Ng∆∞·ª°ng tin c·∫≠y"}),e.jsx(K,{id:"confidenceThreshold",type:"number",step:"0.1",value:l.confidenceThreshold,onChange:p=>c({...l,confidenceThreshold:parseFloat(p.target.value)}),min:"0",max:"1"})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{htmlFor:"enableSmallTalk",children:"K√≠ch ho·∫°t tr√≤ chuy·ªán phi·∫øm"}),e.jsx(he,{id:"enableSmallTalk",checked:l.enableSmallTalk,onCheckedChange:p=>c({...l,enableSmallTalk:p})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{htmlFor:"enableTranscription",children:"K√≠ch ho·∫°t chuy·ªÉn ƒë·ªïi vƒÉn b·∫£n"}),e.jsx(he,{id:"enableTranscription",checked:l.enableTranscription,onCheckedChange:p=>c({...l,enableTranscription:p})})]})]})})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"customInstructions",children:"H∆∞·ªõng d·∫´n t√πy ch·ªânh"}),e.jsx(Ve,{id:"customInstructions",value:l.customInstructions,onChange:p=>c({...l,customInstructions:p.target.value}),placeholder:"H∆∞·ªõng d·∫´n chi ti·∫øt cho AI v·ªÅ c√°ch ph·ª•c v·ª• kh√°ch h√†ng...",rows:4})]}),e.jsx(vs,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[a==="success"&&e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm text-green-600",children:"ƒê√£ l∆∞u th√†nh c√¥ng"})]}),a==="error"&&e.jsxs(e.Fragment,{children:[e.jsx(Ce,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-sm text-red-600",children:"L·ªói khi l∆∞u"})]})]}),e.jsx(L,{onClick:h,disabled:t,children:t?e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}),"ƒêang l∆∞u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"h-4 w-4 mr-2"}),"L∆∞u c·∫•u h√¨nh"]})})]})]})]})}),e.jsx(de,{value:"notifications",children:e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(Kt,{className:"h-5 w-5"}),"C√†i ƒë·∫∑t th√¥ng b√°o"]}),e.jsx(te,{children:"Qu·∫£n l√Ω c√°ch th·ª©c nh·∫≠n th√¥ng b√°o v√† c·∫£nh b√°o"})]}),e.jsxs($,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"K√™nh th√¥ng b√°o"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{children:"Email notifications"}),e.jsx(he,{checked:d.emailNotifications,onCheckedChange:p=>m({...d,emailNotifications:p})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{children:"SMS notifications"}),e.jsx(he,{checked:d.smsNotifications,onCheckedChange:p=>m({...d,smsNotifications:p})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{children:"Push notifications"}),e.jsx(he,{checked:d.pushNotifications,onCheckedChange:p=>m({...d,pushNotifications:p})})]})]})]})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Lo·∫°i th√¥ng b√°o"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{children:"Y√™u c·∫ßu m·ªõi"}),e.jsx(he,{checked:d.newRequestAlert,onCheckedChange:p=>m({...d,newRequestAlert:p})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{children:"C·∫£nh b√°o h·ªá th·ªëng"}),e.jsx(he,{checked:d.systemAlerts,onCheckedChange:p=>m({...d,systemAlerts:p})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{children:"B√°o c√°o h√†ng ng√†y"}),e.jsx(he,{checked:d.dailyReports,onCheckedChange:p=>m({...d,dailyReports:p})})]})]})]})})]}),e.jsx(vs,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[a==="success"&&e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm text-green-600",children:"ƒê√£ l∆∞u th√†nh c√¥ng"})]}),a==="error"&&e.jsxs(e.Fragment,{children:[e.jsx(Ce,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-sm text-red-600",children:"L·ªói khi l∆∞u"})]})]}),e.jsx(L,{onClick:h,disabled:t,children:t?e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}),"ƒêang l∆∞u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"h-4 w-4 mr-2"}),"L∆∞u c√†i ƒë·∫∑t"]})})]})]})]})}),e.jsx(de,{value:"security",children:e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(Ae,{className:"h-5 w-5"}),"C√†i ƒë·∫∑t b·∫£o m·∫≠t"]}),e.jsx(te,{children:"Qu·∫£n l√Ω b·∫£o m·∫≠t t√†i kho·∫£n v√† h·ªá th·ªëng"})]}),e.jsx($,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ae,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"C√†i ƒë·∫∑t b·∫£o m·∫≠t"}),e.jsx("p",{className:"text-gray-600",children:"C√°c t√πy ch·ªçn b·∫£o m·∫≠t n√¢ng cao s·∫Ω s·ªõm ra m·∫Øt"})]})})]})})]})]})},cr=[{id:"1",firstName:"Nguyen",lastName:"Van A",email:"nguyenvana@email.com",phone:"+84 90 123 4567",nationality:"Vietnam",dateOfBirth:"1985-03-15",idNumber:"123456789",address:"123 Le Loi Street",city:"Ho Chi Minh City",country:"Vietnam",zipCode:"700000",preferredLanguage:"vi",membershipTier:"gold",totalStays:12,totalSpent:45e6,averageRating:4.8,notes:"VIP customer, prefers quiet rooms",createdAt:"2023-01-15T10:00:00Z",updatedAt:"2024-01-10T14:30:00Z",lastStay:"2024-01-10T14:30:00Z",status:"vip",preferences:{roomType:"Suite",floorPreference:"High floor",smokingPreference:"Non-smoking",bedPreference:"King bed",specialRequests:["Late check-out","Extra towels"]}},{id:"2",firstName:"Kim",lastName:"Min Jun",email:"kim.minjun@email.com",phone:"+82 10 9876 5432",nationality:"South Korea",dateOfBirth:"1990-07-22",idNumber:"KOR987654321",address:"456 Gangnam-gu",city:"Seoul",country:"South Korea",zipCode:"06543",preferredLanguage:"ko",membershipTier:"silver",totalStays:5,totalSpent:18e6,averageRating:4.5,notes:"Business traveler, needs early breakfast",createdAt:"2023-08-20T09:00:00Z",updatedAt:"2024-01-05T11:15:00Z",lastStay:"2024-01-05T11:15:00Z",status:"active",preferences:{roomType:"Deluxe",floorPreference:"Mid floor",smokingPreference:"Non-smoking",bedPreference:"Twin beds",specialRequests:["Early breakfast","Business center access"]}},{id:"3",firstName:"Sarah",lastName:"Johnson",email:"sarah.johnson@email.com",phone:"+1 555 123 4567",nationality:"United States",dateOfBirth:"1988-12-03",idNumber:"USA123456789",address:"789 Broadway",city:"New York",country:"United States",zipCode:"10001",preferredLanguage:"en",membershipTier:"platinum",totalStays:25,totalSpent:95e6,averageRating:4.9,notes:"Frequent traveler, allergic to shellfish",createdAt:"2022-05-10T16:00:00Z",updatedAt:"2024-01-12T09:45:00Z",lastStay:"2024-01-12T09:45:00Z",status:"vip",preferences:{roomType:"Presidential Suite",floorPreference:"Top floor",smokingPreference:"Non-smoking",bedPreference:"King bed",specialRequests:["Shellfish allergy","Concierge service","Airport transfer"]}}],xC=[{id:"1",guestId:"1",roomNumber:"2101",roomType:"Suite",checkIn:"2024-01-10T15:00:00Z",checkOut:"2024-01-13T11:00:00Z",guests:2,totalAmount:12e6,status:"checked-out",paymentStatus:"paid",specialRequests:["Late check-out","Extra towels"],rating:5,review:"Excellent service and room quality",createdAt:"2024-01-05T10:00:00Z"},{id:"2",guestId:"2",roomNumber:"1505",roomType:"Deluxe",checkIn:"2024-01-05T14:00:00Z",checkOut:"2024-01-07T12:00:00Z",guests:1,totalAmount:6e6,status:"checked-out",paymentStatus:"paid",specialRequests:["Early breakfast"],rating:4,review:"Good stay, helpful staff",createdAt:"2024-01-01T09:00:00Z"}],fC=[{id:"1",guestId:"1",note:"Guest requested room upgrade, complimentary provided",type:"general",staffMember:"Front Desk Staff",createdAt:"2024-01-10T16:00:00Z"},{id:"2",guestId:"1",note:"Prefers high floor rooms with city view",type:"preference",staffMember:"Front Desk Staff",createdAt:"2024-01-10T15:30:00Z"}],Qc=s=>{switch(s){case"platinum":return"bg-purple-100 text-purple-800";case"gold":return"bg-yellow-100 text-yellow-800";case"silver":return"bg-gray-100 text-gray-800";case"bronze":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},Xc=s=>{switch(s){case"vip":return"bg-purple-100 text-purple-800";case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},gC=s=>{switch(s){case"confirmed":return"bg-blue-100 text-blue-800";case"checked-in":return"bg-green-100 text-green-800";case"checked-out":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},la=s=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",maximumFractionDigits:0}).format(s),nn=s=>new Date(s).toLocaleDateString("vi-VN",{year:"numeric",month:"short",day:"numeric"}),vC=({guest:s,isOpen:t,onClose:n,onUpdate:a})=>{const[i,r]=u.useState(!1),[o,l]=u.useState(s),[c,d]=u.useState(!1);u.useEffect(()=>{l(s)},[s]);const m=async()=>{if(o){d(!0);try{await new Promise(h=>setTimeout(h,1e3)),a(o),r(!1)}catch(h){console.error("Failed to update guest:",h)}finally{d(!1)}}};return!s||!o?null:e.jsx($t,{open:t,onOpenChange:n,children:e.jsxs(Nt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(St,{children:[e.jsxs(Ct,{className:"flex items-center gap-2",children:[e.jsx(Ia,{className:"h-5 w-5"}),s.firstName," ",s.lastName,e.jsx(ee,{className:O("ml-2",Qc(s.membershipTier)),children:s.membershipTier.toUpperCase()}),e.jsx(ee,{className:O("ml-1",Xc(s.status)),children:s.status.toUpperCase()})]}),e.jsx(Ft,{children:"Chi ti·∫øt th√¥ng tin kh√°ch h√†ng v√† l·ªãch s·ª≠ ƒë·∫∑t ph√≤ng"})]}),e.jsxs(dt,{defaultValue:"info",className:"w-full",children:[e.jsxs(nt,{className:"grid w-full grid-cols-3",children:[e.jsx(ce,{value:"info",children:"Th√¥ng tin"}),e.jsx(ce,{value:"bookings",children:"L·ªãch s·ª≠ ƒë·∫∑t ph√≤ng"}),e.jsx(ce,{value:"notes",children:"Ghi ch√∫"})]}),e.jsxs(de,{value:"info",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Th√¥ng tin c√° nh√¢n"}),e.jsxs(L,{variant:"outline",size:"sm",onClick:()=>r(!i),children:[e.jsx(Gt,{className:"h-4 w-4 mr-2"}),i?"H·ªßy":"Ch·ªânh s·ª≠a"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(_,{htmlFor:"firstName",children:"H·ªç"}),e.jsx(K,{id:"firstName",value:o.firstName,onChange:h=>l({...o,firstName:h.target.value}),disabled:!i})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"lastName",children:"T√™n"}),e.jsx(K,{id:"lastName",value:o.lastName,onChange:h=>l({...o,lastName:h.target.value}),disabled:!i})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"email",children:"Email"}),e.jsx(K,{id:"email",type:"email",value:o.email,onChange:h=>l({...o,email:h.target.value}),disabled:!i})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"phone",children:"S·ªë ƒëi·ªán tho·∫°i"}),e.jsx(K,{id:"phone",value:o.phone,onChange:h=>l({...o,phone:h.target.value}),disabled:!i})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"nationality",children:"Qu·ªëc t·ªãch"}),e.jsx(K,{id:"nationality",value:o.nationality,onChange:h=>l({...o,nationality:h.target.value}),disabled:!i})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(_,{htmlFor:"dateOfBirth",children:"Ng√†y sinh"}),e.jsx(K,{id:"dateOfBirth",type:"date",value:o.dateOfBirth,onChange:h=>l({...o,dateOfBirth:h.target.value}),disabled:!i})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"idNumber",children:"S·ªë CMND/CCCD"}),e.jsx(K,{id:"idNumber",value:o.idNumber,onChange:h=>l({...o,idNumber:h.target.value}),disabled:!i})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"address",children:"ƒê·ªãa ch·ªâ"}),e.jsx(Ve,{id:"address",value:o.address,onChange:h=>l({...o,address:h.target.value}),disabled:!i,rows:2})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"city",children:"Th√†nh ph·ªë"}),e.jsx(K,{id:"city",value:o.city,onChange:h=>l({...o,city:h.target.value}),disabled:!i})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"country",children:"Qu·ªëc gia"}),e.jsx(K,{id:"country",value:o.country,onChange:h=>l({...o,country:h.target.value}),disabled:!i})]})]})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"notes",children:"Ghi ch√∫"}),e.jsx(Ve,{id:"notes",value:o.notes,onChange:h=>l({...o,notes:h.target.value}),disabled:!i,rows:3})]}),i&&e.jsx("div",{className:"flex justify-end gap-2",children:e.jsx(L,{onClick:m,disabled:c,children:c?e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}),"ƒêang l∆∞u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"h-4 w-4 mr-2"}),"L∆∞u thay ƒë·ªïi"]})})})]}),e.jsxs(de,{value:"bookings",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium",children:"L·ªãch s·ª≠ ƒë·∫∑t ph√≤ng"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:["T·ªïng c·ªông: ",s.totalStays," l·∫ßn l∆∞u tr√∫"]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"‚Ä¢"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Chi ti√™u: ",la(s.totalSpent)]})]})]}),e.jsx("div",{className:"space-y-4",children:xC.filter(h=>h.guestId===s.id).map(h=>e.jsx(R,{children:e.jsxs($,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-medium",children:["Ph√≤ng ",h.roomNumber]}),e.jsx(ee,{variant:"outline",children:h.roomType}),e.jsx(ee,{className:O(gC(h.status)),children:h.status})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[nn(h.checkIn)," - ",nn(h.checkOut)]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"S·ªë kh√°ch:"})," ",h.guests]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"T·ªïng ti·ªÅn:"})," ",la(h.totalAmount)]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"ƒê√°nh gi√°:"}),e.jsxs("div",{className:"flex items-center gap-1 ml-1",children:[[...Array(5)].map((p,v)=>e.jsx(is,{className:O("h-3 w-3",v<h.rating?"fill-yellow-400 text-yellow-400":"text-gray-300")},v)),e.jsxs("span",{className:"ml-1",children:["(",h.rating,"/5)"]})]})]})]}),h.review&&e.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"ƒê√°nh gi√°:"})," ",h.review]})]})},h.id))})]}),e.jsxs(de,{value:"notes",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Ghi ch√∫ d·ªãch v·ª•"}),e.jsxs(L,{size:"sm",children:[e.jsx(Pt,{className:"h-4 w-4 mr-2"}),"Th√™m ghi ch√∫"]})]}),e.jsx("div",{className:"space-y-3",children:fC.filter(h=>h.guestId===s.id).map(h=>e.jsx(R,{children:e.jsxs($,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(ee,{variant:"outline",children:h.type}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[h.staffMember," ‚Ä¢ ",nn(h.createdAt)]})]}),e.jsx("p",{className:"text-sm",children:h.note})]})},h.id))})]})]})]})})},yC=({isOpen:s,onClose:t,onAdd:n})=>{const[a,i]=u.useState({firstName:"",lastName:"",email:"",phone:"",nationality:"",dateOfBirth:"",idNumber:"",address:"",city:"",country:"",zipCode:"",preferredLanguage:"vi",membershipTier:"bronze",notes:""}),[r,o]=u.useState(!1),l=async c=>{c.preventDefault(),o(!0);try{await new Promise(m=>setTimeout(m,1e3));const d={id:Date.now().toString(),...a,totalStays:0,totalSpent:0,averageRating:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),lastStay:"",status:"active",preferences:{roomType:"",floorPreference:"",smokingPreference:"Non-smoking",bedPreference:"",specialRequests:[]}};n(d),t(),i({firstName:"",lastName:"",email:"",phone:"",nationality:"",dateOfBirth:"",idNumber:"",address:"",city:"",country:"",zipCode:"",preferredLanguage:"vi",membershipTier:"bronze",notes:""})}catch(d){console.error("Failed to add guest:",d)}finally{o(!1)}};return e.jsx($t,{open:s,onOpenChange:t,children:e.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(St,{children:[e.jsxs(Ct,{className:"flex items-center gap-2",children:[e.jsx(ks,{className:"h-5 w-5"}),"Th√™m kh√°ch h√†ng m·ªõi"]}),e.jsx(Ft,{children:"Nh·∫≠p th√¥ng tin kh√°ch h√†ng ƒë·ªÉ t·∫°o h·ªì s∆° m·ªõi"})]}),e.jsxs("form",{onSubmit:l,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(_,{htmlFor:"firstName",children:"H·ªç *"}),e.jsx(K,{id:"firstName",value:a.firstName,onChange:c=>i({...a,firstName:c.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"lastName",children:"T√™n *"}),e.jsx(K,{id:"lastName",value:a.lastName,onChange:c=>i({...a,lastName:c.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"email",children:"Email *"}),e.jsx(K,{id:"email",type:"email",value:a.email,onChange:c=>i({...a,email:c.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"phone",children:"S·ªë ƒëi·ªán tho·∫°i *"}),e.jsx(K,{id:"phone",value:a.phone,onChange:c=>i({...a,phone:c.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"nationality",children:"Qu·ªëc t·ªãch"}),e.jsx(K,{id:"nationality",value:a.nationality,onChange:c=>i({...a,nationality:c.target.value})})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"dateOfBirth",children:"Ng√†y sinh"}),e.jsx(K,{id:"dateOfBirth",type:"date",value:a.dateOfBirth,onChange:c=>i({...a,dateOfBirth:c.target.value})})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"idNumber",children:"S·ªë CMND/CCCD"}),e.jsx(K,{id:"idNumber",value:a.idNumber,onChange:c=>i({...a,idNumber:c.target.value})})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"preferredLanguage",children:"Ng√¥n ng·ªØ ∆∞a th√≠ch"}),e.jsxs(Ne,{value:a.preferredLanguage,onValueChange:c=>i({...a,preferredLanguage:c}),children:[e.jsx(je,{children:e.jsx(Se,{})}),e.jsxs(be,{children:[e.jsx(H,{value:"vi",children:"Ti·∫øng Vi·ªát"}),e.jsx(H,{value:"en",children:"English"}),e.jsx(H,{value:"ko",children:"ÌïúÍµ≠Ïñ¥"}),e.jsx(H,{value:"ja",children:"Êó•Êú¨Ë™û"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"address",children:"ƒê·ªãa ch·ªâ"}),e.jsx(Ve,{id:"address",value:a.address,onChange:c=>i({...a,address:c.target.value}),rows:2})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(_,{htmlFor:"city",children:"Th√†nh ph·ªë"}),e.jsx(K,{id:"city",value:a.city,onChange:c=>i({...a,city:c.target.value})})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"country",children:"Qu·ªëc gia"}),e.jsx(K,{id:"country",value:a.country,onChange:c=>i({...a,country:c.target.value})})]})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"notes",children:"Ghi ch√∫"}),e.jsx(Ve,{id:"notes",value:a.notes,onChange:c=>i({...a,notes:c.target.value}),placeholder:"Th√¥ng tin b·ªï sung v·ªÅ kh√°ch h√†ng...",rows:3})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(L,{type:"button",variant:"outline",onClick:t,children:"H·ªßy"}),e.jsx(L,{type:"submit",disabled:r,children:r?e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}),"ƒêang t·∫°o..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Pt,{className:"h-4 w-4 mr-2"}),"T·∫°o kh√°ch h√†ng"]})})]})]})]})})},jC=()=>{const{user:s}=Le(),[t,n]=u.useState(cr),[a,i]=u.useState(!1),[r,o]=u.useState(""),[l,c]=u.useState("all"),[d,m]=u.useState("all"),[h,p]=u.useState(null),[v,x]=u.useState(!1),[g,y]=u.useState(!1),j=t.filter(E=>{const z=!r||E.firstName.toLowerCase().includes(r.toLowerCase())||E.lastName.toLowerCase().includes(r.toLowerCase())||E.email.toLowerCase().includes(r.toLowerCase())||E.phone.includes(r),F=l==="all"||E.membershipTier===l,D=d==="all"||E.status===d;return z&&F&&D}),f=E=>{p(E),x(!0)},b=E=>{n(z=>z.map(F=>F.id===E.id?E:F)),p(E)},w=E=>{n(z=>[...z,E])},T=async()=>{i(!0);try{await new Promise(E=>setTimeout(E,1e3)),n(cr)}catch(E){console.error("Failed to fetch guests:",E)}finally{i(!1)}};return u.useEffect(()=>{T()},[]),a?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(me,{className:"h-8 w-8 animate-spin text-green-600"}),e.jsx("span",{className:"ml-2",children:"ƒêang t·∫£i danh s√°ch kh√°ch h√†ng..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Qu·∫£n l√Ω kh√°ch h√†ng"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Qu·∫£n l√Ω th√¥ng tin kh√°ch h√†ng v√† l·ªãch s·ª≠ l∆∞u tr√∫"})]}),e.jsxs(L,{onClick:()=>y(!0),children:[e.jsx(ks,{className:"h-4 w-4 mr-2"}),"Th√™m kh√°ch h√†ng"]})]}),e.jsxs(R,{children:[e.jsx(G,{children:e.jsx(U,{className:"text-lg",children:"T√¨m ki·∫øm v√† l·ªçc"})}),e.jsx($,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Dt,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(K,{placeholder:"T√¨m ki·∫øm theo t√™n, email ho·∫∑c s·ªë ƒëi·ªán tho·∫°i...",value:r,onChange:E=>o(E.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Ne,{value:l,onValueChange:c,children:[e.jsx(je,{className:"w-[180px]",children:e.jsx(Se,{placeholder:"Membership tier"})}),e.jsxs(be,{children:[e.jsx(H,{value:"all",children:"T·∫•t c·∫£ membership"}),e.jsx(H,{value:"bronze",children:"Bronze"}),e.jsx(H,{value:"silver",children:"Silver"}),e.jsx(H,{value:"gold",children:"Gold"}),e.jsx(H,{value:"platinum",children:"Platinum"})]})]}),e.jsxs(Ne,{value:d,onValueChange:m,children:[e.jsx(je,{className:"w-[150px]",children:e.jsx(Se,{placeholder:"Tr·∫°ng th√°i"})}),e.jsxs(be,{children:[e.jsx(H,{value:"all",children:"T·∫•t c·∫£ tr·∫°ng th√°i"}),e.jsx(H,{value:"active",children:"Active"}),e.jsx(H,{value:"inactive",children:"Inactive"}),e.jsx(H,{value:"vip",children:"VIP"})]})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(R,{children:e.jsx($,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"T·ªïng kh√°ch h√†ng"}),e.jsx("p",{className:"text-2xl font-bold",children:t.length})]}),e.jsx(We,{className:"h-8 w-8 text-blue-500"})]})})}),e.jsx(R,{children:e.jsx($,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Kh√°ch VIP"}),e.jsx("p",{className:"text-2xl font-bold",children:t.filter(E=>E.status==="vip").length})]}),e.jsx(is,{className:"h-8 w-8 text-purple-500"})]})})}),e.jsx(R,{children:e.jsx($,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Kh√°ch h√†ng m·ªõi"}),e.jsx("p",{className:"text-2xl font-bold",children:t.filter(E=>new Date(E.createdAt)>new Date(Date.now()-30*24*60*60*1e3)).length})]}),e.jsx(ks,{className:"h-8 w-8 text-green-500"})]})})}),e.jsx(R,{children:e.jsx($,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"ƒê√°nh gi√° TB"}),e.jsx("p",{className:"text-2xl font-bold",children:(t.reduce((E,z)=>E+z.averageRating,0)/t.length).toFixed(1)})]}),e.jsx(is,{className:"h-8 w-8 text-yellow-500"})]})})})]}),e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsx(U,{children:"Danh s√°ch kh√°ch h√†ng"}),e.jsxs(te,{children:["Hi·ªÉn th·ªã ",j.length," trong t·ªïng s·ªë ",t.length," kh√°ch h√†ng"]})]}),e.jsx($,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(vt,{children:[e.jsx(yt,{children:e.jsxs(Me,{children:[e.jsx(Z,{children:"Kh√°ch h√†ng"}),e.jsx(Z,{children:"Li√™n h·ªá"}),e.jsx(Z,{children:"Membership"}),e.jsx(Z,{children:"Tr·∫°ng th√°i"}),e.jsx(Z,{children:"L·∫ßn l∆∞u tr√∫"}),e.jsx(Z,{children:"Chi ti√™u"}),e.jsx(Z,{children:"ƒê√°nh gi√°"}),e.jsx(Z,{children:"L·∫ßn cu·ªëi"}),e.jsx(Z,{children:"H√†nh ƒë·ªông"})]})}),e.jsx(jt,{children:j.map(E=>e.jsxs(Me,{children:[e.jsx(J,{children:e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[E.firstName," ",E.lastName]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:E.nationality})]})}),e.jsx(J,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(Ea,{className:"h-3 w-3"}),E.email]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(ct,{className:"h-3 w-3"}),E.phone]})]})}),e.jsx(J,{children:e.jsx(ee,{className:Qc(E.membershipTier),children:E.membershipTier.toUpperCase()})}),e.jsx(J,{children:e.jsx(ee,{className:Xc(E.status),children:E.status.toUpperCase()})}),e.jsx(J,{children:E.totalStays}),e.jsx(J,{children:la(E.totalSpent)}),e.jsx(J,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(is,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{children:E.averageRating})]})}),e.jsx(J,{children:E.lastStay?nn(E.lastStay):"Ch∆∞a l∆∞u tr√∫"}),e.jsx(J,{children:e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>f(E),children:e.jsx(Lt,{className:"h-4 w-4"})})})]},E.id))})]})})})]}),e.jsx(vC,{guest:h,isOpen:v,onClose:()=>x(!1),onUpdate:b}),e.jsx(yC,{isOpen:g,onClose:()=>y(!1),onAdd:w})]})},dr={firewall:{enabled:!0,rules:[{id:"1",name:"Allow HTTP",source:"any",destination:"server",port:80,protocol:"tcp",action:"allow",enabled:!0,createdAt:"2024-01-01T00:00:00Z"},{id:"2",name:"Allow HTTPS",source:"any",destination:"server",port:443,protocol:"tcp",action:"allow",enabled:!0,createdAt:"2024-01-01T00:00:00Z"},{id:"3",name:"Block Suspicious IP",source:"192.168.1.100",destination:"any",port:0,protocol:"tcp",action:"deny",enabled:!0,createdAt:"2024-01-10T10:00:00Z"}],allowedPorts:[80,443,22,25,587],blockedIPs:["192.168.1.100","10.0.0.50"],ddosProtection:!0,rateLimiting:!0},ssl:{enabled:!0,certificates:[{id:"1",domain:"minhhonghotel.com",issuer:"Let's Encrypt",validFrom:"2024-01-01T00:00:00Z",validTo:"2024-04-01T00:00:00Z",status:"valid",type:"ssl"},{id:"2",domain:"*.minhhonghotel.com",issuer:"DigiCert",validFrom:"2023-12-01T00:00:00Z",validTo:"2024-12-01T00:00:00Z",status:"valid",type:"wildcard"}],forceHttps:!0,hstsEnabled:!0,cipherSuites:["TLS_AES_256_GCM_SHA384","TLS_CHACHA20_POLY1305_SHA256"]},authentication:{mfaEnabled:!0,passwordPolicy:{minLength:8,requireUppercase:!0,requireNumbers:!0,requireSymbols:!0,expirationDays:90},sessionTimeout:30,maxLoginAttempts:5,lockoutDuration:15},monitoring:{logLevel:"info",alertsEnabled:!0,alertThresholds:{failedLogins:10,diskUsage:85,memoryUsage:90,cpuUsage:95},retentionPeriod:90},backup:{enabled:!0,schedule:"0 2 * * *",retention:30,encryption:!0,location:"AWS S3",lastBackup:"2024-01-15T02:00:00Z",status:"success"},compliance:{gdprCompliant:!0,pciCompliant:!1,iso27001:!0,auditEnabled:!0,dataRetentionDays:365}},ur=[{id:"1",type:"authentication",severity:"high",message:"Multiple failed login attempts detected",timestamp:"2024-01-15T14:30:00Z",resolved:!1,details:"User attempted to login with incorrect credentials 8 times from IP 192.168.1.100"},{id:"2",type:"ssl",severity:"medium",message:"SSL certificate expiring soon",timestamp:"2024-01-15T10:00:00Z",resolved:!1,details:"Certificate for minhhonghotel.com will expire in 30 days"},{id:"3",type:"firewall",severity:"low",message:"Port scan detected",timestamp:"2024-01-15T08:15:00Z",resolved:!0,details:"Port scan from 10.0.0.50 was blocked by firewall"}],hr=[{id:"1",timestamp:"2024-01-15T15:00:00Z",source:"auth",event:"LOGIN_SUCCESS",severity:"info",details:"User logged in successfully",ip:"192.168.1.50",user:"admin"},{id:"2",timestamp:"2024-01-15T14:45:00Z",source:"firewall",event:"BLOCKED_IP",severity:"warning",details:"Blocked connection from suspicious IP",ip:"192.168.1.100"},{id:"3",timestamp:"2024-01-15T14:30:00Z",source:"auth",event:"LOGIN_FAILED",severity:"error",details:"Failed login attempt",ip:"192.168.1.100",user:"admin"}],bC=s=>{switch(s){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},Ds=s=>new Date(s).toLocaleDateString("vi-VN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),wC=({config:s,onUpdate:t})=>{const[n,a]=u.useState(!1),[i,r]=u.useState(!1),o=async()=>{a(!0);try{await new Promise(l=>setTimeout(l,1e3))}catch(l){console.error("Failed to save firewall config:",l)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(Ae,{className:"h-5 w-5"}),"C·∫•u h√¨nh Firewall"]}),e.jsx(te,{children:"Qu·∫£n l√Ω t∆∞·ªùng l·ª≠a v√† b·∫£o m·∫≠t m·∫°ng"})]}),e.jsxs($,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{className:"text-base font-medium",children:"K√≠ch ho·∫°t Firewall"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"B·∫≠t/t·∫Øt t∆∞·ªùng l·ª≠a cho h·ªá th·ªëng"})]}),e.jsx(he,{checked:s.enabled,onCheckedChange:l=>t({enabled:l})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{children:"DDoS Protection"}),e.jsx(he,{checked:s.ddosProtection,onCheckedChange:l=>t({ddosProtection:l})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{children:"Rate Limiting"}),e.jsx(he,{checked:s.rateLimiting,onCheckedChange:l=>t({rateLimiting:l})})]})]}),e.jsxs("div",{children:[e.jsx(_,{children:"Blocked IPs"}),e.jsx(Ve,{value:s.blockedIPs.join(`
`),onChange:l=>t({blockedIPs:l.target.value.split(`
`).filter(c=>c.trim())}),placeholder:`192.168.1.100
10.0.0.50`,rows:3})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(L,{onClick:o,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}),"ƒêang l∆∞u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"h-4 w-4 mr-2"}),"L∆∞u c·∫•u h√¨nh"]})})})]})]}),e.jsxs(R,{children:[e.jsx(G,{children:e.jsxs(U,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Firewall Rules"}),e.jsxs(L,{size:"sm",onClick:()=>r(!i),children:[e.jsx(Pt,{className:"h-4 w-4 mr-2"}),"Th√™m Rule"]})]})}),e.jsx($,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:e.jsxs(Me,{children:[e.jsx(Z,{children:"T√™n"}),e.jsx(Z,{children:"Source"}),e.jsx(Z,{children:"Destination"}),e.jsx(Z,{children:"Port"}),e.jsx(Z,{children:"Protocol"}),e.jsx(Z,{children:"Action"}),e.jsx(Z,{children:"Tr·∫°ng th√°i"}),e.jsx(Z,{children:"H√†nh ƒë·ªông"})]})}),e.jsx(jt,{children:s.rules.map(l=>e.jsxs(Me,{children:[e.jsx(J,{className:"font-medium",children:l.name}),e.jsx(J,{children:l.source}),e.jsx(J,{children:l.destination}),e.jsx(J,{children:l.port}),e.jsx(J,{children:l.protocol.toUpperCase()}),e.jsx(J,{children:e.jsx(ee,{variant:l.action==="allow"?"default":"destructive",children:l.action.toUpperCase()})}),e.jsx(J,{children:e.jsx(ee,{variant:l.enabled?"default":"secondary",children:l.enabled?"Enabled":"Disabled"})}),e.jsx(J,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(Gt,{className:"h-4 w-4"})}),e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(Ut,{className:"h-4 w-4"})})]})})]},l.id))})]})})]})]})},NC=({config:s,onUpdate:t})=>{const[n,a]=u.useState(!1),i=async()=>{a(!0);try{await new Promise(r=>setTimeout(r,1e3))}catch(r){console.error("Failed to save SSL config:",r)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(cs,{className:"h-5 w-5"}),"C·∫•u h√¨nh SSL/TLS"]}),e.jsx(te,{children:"Qu·∫£n l√Ω ch·ª©ng ch·ªâ SSL v√† c·∫•u h√¨nh TLS"})]}),e.jsxs($,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{children:"K√≠ch ho·∫°t SSL"}),e.jsx(he,{checked:s.enabled,onCheckedChange:r=>t({enabled:r})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{children:"Force HTTPS"}),e.jsx(he,{checked:s.forceHttps,onCheckedChange:r=>t({forceHttps:r})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{children:"HSTS Enabled"}),e.jsx(he,{checked:s.hstsEnabled,onCheckedChange:r=>t({hstsEnabled:r})})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(L,{onClick:i,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}),"ƒêang l∆∞u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"h-4 w-4 mr-2"}),"L∆∞u c·∫•u h√¨nh"]})})})]})]}),e.jsxs(R,{children:[e.jsx(G,{children:e.jsxs(U,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"SSL Certificates"}),e.jsxs(L,{size:"sm",children:[e.jsx(Pt,{className:"h-4 w-4 mr-2"}),"Th√™m Certificate"]})]})}),e.jsx($,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:e.jsxs(Me,{children:[e.jsx(Z,{children:"Domain"}),e.jsx(Z,{children:"Issuer"}),e.jsx(Z,{children:"Type"}),e.jsx(Z,{children:"Valid From"}),e.jsx(Z,{children:"Valid To"}),e.jsx(Z,{children:"Status"}),e.jsx(Z,{children:"Actions"})]})}),e.jsx(jt,{children:s.certificates.map(r=>e.jsxs(Me,{children:[e.jsx(J,{className:"font-medium",children:r.domain}),e.jsx(J,{children:r.issuer}),e.jsx(J,{children:e.jsx(ee,{variant:"outline",children:r.type.toUpperCase()})}),e.jsx(J,{children:Ds(r.validFrom)}),e.jsx(J,{children:Ds(r.validTo)}),e.jsx(J,{children:e.jsx(ee,{className:O(r.status==="valid"?"bg-green-100 text-green-800":r.status==="expired"?"bg-red-100 text-red-800":"bg-orange-100 text-orange-800"),children:r.status.toUpperCase()})}),e.jsx(J,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(Zt,{className:"h-4 w-4"})}),e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(me,{className:"h-4 w-4"})}),e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(Ut,{className:"h-4 w-4"})})]})})]},r.id))})]})})]})]})},SC=({alerts:s})=>{const[t,n]=u.useState("all"),a=s.filter(i=>t==="all"||i.severity===t);return e.jsx("div",{className:"space-y-6",children:e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(ds,{className:"h-5 w-5"}),"C·∫£nh b√°o b·∫£o m·∫≠t"]}),e.jsx(te,{children:"Theo d√µi v√† x·ª≠ l√Ω c√°c c·∫£nh b√°o b·∫£o m·∫≠t"})]}),e.jsxs($,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(L,{variant:t==="all"?"default":"outline",size:"sm",onClick:()=>n("all"),children:["T·∫•t c·∫£ (",s.length,")"]}),e.jsxs(L,{variant:t==="critical"?"default":"outline",size:"sm",onClick:()=>n("critical"),children:["Critical (",s.filter(i=>i.severity==="critical").length,")"]}),e.jsxs(L,{variant:t==="high"?"default":"outline",size:"sm",onClick:()=>n("high"),children:["High (",s.filter(i=>i.severity==="high").length,")"]})]}),e.jsxs(L,{size:"sm",children:[e.jsx(me,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),e.jsx("div",{className:"space-y-4",children:a.map(i=>e.jsx(R,{className:O("border-l-4",i.severity==="critical"?"border-l-red-500":i.severity==="high"?"border-l-orange-500":i.severity==="medium"?"border-l-yellow-500":"border-l-blue-500"),children:e.jsx($,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ee,{className:bC(i.severity),children:i.severity.toUpperCase()}),e.jsx(ee,{variant:"outline",children:i.type}),e.jsx("span",{className:"text-sm text-muted-foreground",children:Ds(i.timestamp)})]}),e.jsx("h4",{className:"font-medium",children:i.message}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:i.details})]}),e.jsxs("div",{className:"flex gap-2",children:[!i.resolved&&e.jsxs(L,{size:"sm",variant:"outline",children:[e.jsx(qe,{className:"h-4 w-4 mr-2"}),"Resolve"]}),e.jsx(L,{size:"sm",variant:"ghost",children:e.jsx(Lt,{className:"h-4 w-4"})})]})]})})},i.id))})]})]})})},CC=({logs:s})=>{const[t,n]=u.useState(""),[a,i]=u.useState("all"),r=s.filter(o=>{const l=!t||o.event.toLowerCase().includes(t.toLowerCase())||o.details.toLowerCase().includes(t.toLowerCase())||o.ip.includes(t),c=a==="all"||o.severity===a;return l&&c});return e.jsx("div",{className:"space-y-6",children:e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(yn,{className:"h-5 w-5"}),"Security Logs"]}),e.jsx(te,{children:"Nh·∫≠t k√Ω ho·∫°t ƒë·ªông b·∫£o m·∫≠t c·ªßa h·ªá th·ªëng"})]}),e.jsxs($,{children:[e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Dt,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(K,{placeholder:"T√¨m ki·∫øm logs...",value:t,onChange:o=>n(o.target.value),className:"pl-10"})]})}),e.jsxs(Ne,{value:a,onValueChange:i,children:[e.jsx(je,{className:"w-[150px]",children:e.jsx(Se,{})}),e.jsxs(be,{children:[e.jsx(H,{value:"all",children:"T·∫•t c·∫£"}),e.jsx(H,{value:"info",children:"Info"}),e.jsx(H,{value:"warning",children:"Warning"}),e.jsx(H,{value:"error",children:"Error"})]})]})]}),e.jsxs(vt,{children:[e.jsx(yt,{children:e.jsxs(Me,{children:[e.jsx(Z,{children:"Timestamp"}),e.jsx(Z,{children:"Source"}),e.jsx(Z,{children:"Event"}),e.jsx(Z,{children:"Severity"}),e.jsx(Z,{children:"IP"}),e.jsx(Z,{children:"User"}),e.jsx(Z,{children:"Details"})]})}),e.jsx(jt,{children:r.map(o=>e.jsxs(Me,{children:[e.jsx(J,{className:"font-mono text-sm",children:Ds(o.timestamp)}),e.jsx(J,{children:o.source}),e.jsx(J,{className:"font-medium",children:o.event}),e.jsx(J,{children:e.jsx(ee,{className:O(o.severity==="error"?"bg-red-100 text-red-800":o.severity==="warning"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:o.severity.toUpperCase()})}),e.jsx(J,{className:"font-mono text-sm",children:o.ip}),e.jsx(J,{children:o.user||"-"}),e.jsx(J,{className:"max-w-xs truncate",children:o.details})]},o.id))})]})]})]})})},kC=({config:s,onUpdate:t})=>{const[n,a]=u.useState(!1),i=async()=>{a(!0);try{await new Promise(r=>setTimeout(r,3e3)),t({lastBackup:new Date().toISOString(),status:"success"})}catch(r){console.error("Backup failed:",r),t({status:"failed"})}finally{a(!1)}};return e.jsx("div",{className:"space-y-6",children:e.jsxs(R,{children:[e.jsxs(G,{children:[e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx(Cs,{className:"h-5 w-5"}),"Backup & Recovery"]}),e.jsx(te,{children:"Qu·∫£n l√Ω sao l∆∞u v√† kh√¥i ph·ª•c d·ªØ li·ªáu"})]}),e.jsx($,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{children:"K√≠ch ho·∫°t backup t·ª± ƒë·ªông"}),e.jsx(he,{checked:s.enabled,onCheckedChange:r=>t({enabled:r})})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"schedule",children:"L·ªãch backup (Cron)"}),e.jsx(K,{id:"schedule",value:s.schedule,onChange:r=>t({schedule:r.target.value}),placeholder:"0 2 * * *"})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"retention",children:"Th·ªùi gian l∆∞u tr·ªØ (ng√†y)"}),e.jsx(K,{id:"retention",type:"number",value:s.retention,onChange:r=>t({retention:parseInt(r.target.value)})})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"location",children:"V·ªã tr√≠ l∆∞u tr·ªØ"}),e.jsxs(Ne,{value:s.location,onValueChange:r=>t({location:r}),children:[e.jsx(je,{children:e.jsx(Se,{})}),e.jsxs(be,{children:[e.jsx(H,{value:"AWS S3",children:"AWS S3"}),e.jsx(H,{value:"Google Cloud",children:"Google Cloud"}),e.jsx(H,{value:"Azure",children:"Azure"}),e.jsx(H,{value:"Local",children:"Local Storage"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{children:"M√£ h√≥a backup"}),e.jsx(he,{checked:s.encryption,onCheckedChange:r=>t({encryption:r})})]}),e.jsxs("div",{children:[e.jsx(_,{children:"Backup cu·ªëi c√πng"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"text-sm",children:s.lastBackup?Ds(s.lastBackup):"Ch∆∞a c√≥ backup"}),e.jsx(ee,{className:O("ml-2",s.status==="success"?"bg-green-100 text-green-800":s.status==="failed"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"),children:s.status.toUpperCase()})]})]}),e.jsxs("div",{children:[e.jsx(_,{children:"Dung l∆∞·ª£ng backup"}),e.jsxs("div",{className:"mt-1",children:[e.jsx(ft,{value:65,className:"h-2"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"2.1 GB / 5 GB"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(L,{onClick:i,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}),"ƒêang backup..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Xu,{className:"h-4 w-4 mr-2"}),"Backup ngay"]})}),e.jsxs(L,{variant:"outline",children:[e.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Kh√¥i ph·ª•c"]})]})]})]})})]})})},TC=()=>{const{user:s}=Le(),[t,n]=u.useState(dr),[a,i]=u.useState(ur),[r,o]=u.useState(hr),[l,c]=u.useState(!1),d=(h,p)=>{n(v=>({...v,[h]:{...v[h],...p}}))},m=async()=>{c(!0);try{await new Promise(h=>setTimeout(h,1e3)),n(dr),i(ur),o(hr)}catch(h){console.error("Failed to fetch security data:",h)}finally{c(!1)}};return u.useEffect(()=>{m()},[]),l?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(me,{className:"h-8 w-8 animate-spin text-purple-600"}),e.jsx("span",{className:"ml-2",children:"ƒêang t·∫£i c·∫•u h√¨nh b·∫£o m·∫≠t..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"C√†i ƒë·∫∑t b·∫£o m·∫≠t"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Qu·∫£n l√Ω t∆∞·ªùng l·ª≠a, SSL, c·∫£nh b√°o b·∫£o m·∫≠t v√† sao l∆∞u h·ªá th·ªëng"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(R,{children:e.jsx($,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Firewall"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.firewall.enabled?"ON":"OFF"})]}),e.jsx(Ae,{className:O("h-8 w-8",t.firewall.enabled?"text-green-500":"text-gray-400")})]})})}),e.jsx(R,{children:e.jsx($,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"SSL"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.ssl.enabled?"ACTIVE":"INACTIVE"})]}),e.jsx(cs,{className:O("h-8 w-8",t.ssl.enabled?"text-green-500":"text-gray-400")})]})})}),e.jsx(R,{children:e.jsx($,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"C·∫£nh b√°o"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:a.filter(h=>!h.resolved).length})]}),e.jsx(ds,{className:"h-8 w-8 text-orange-500"})]})})}),e.jsx(R,{children:e.jsx($,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Backup"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.backup.status==="success"?"OK":"FAILED"})]}),e.jsx(Cs,{className:O("h-8 w-8",t.backup.status==="success"?"text-blue-500":"text-red-500")})]})})})]}),e.jsxs(dt,{defaultValue:"firewall",className:"space-y-6",children:[e.jsxs(nt,{className:"grid w-full grid-cols-5",children:[e.jsxs(ce,{value:"firewall",className:"flex items-center gap-2",children:[e.jsx(Ae,{className:"h-4 w-4"}),"Firewall"]}),e.jsxs(ce,{value:"ssl",className:"flex items-center gap-2",children:[e.jsx(cs,{className:"h-4 w-4"}),"SSL/TLS"]}),e.jsxs(ce,{value:"alerts",className:"flex items-center gap-2",children:[e.jsx(ds,{className:"h-4 w-4"}),"C·∫£nh b√°o"]}),e.jsxs(ce,{value:"logs",className:"flex items-center gap-2",children:[e.jsx(yn,{className:"h-4 w-4"}),"Logs"]}),e.jsxs(ce,{value:"backup",className:"flex items-center gap-2",children:[e.jsx(Cs,{className:"h-4 w-4"}),"Backup"]})]}),e.jsx(de,{value:"firewall",children:e.jsx(wC,{config:t.firewall,onUpdate:h=>d("firewall",h)})}),e.jsx(de,{value:"ssl",children:e.jsx(NC,{config:t.ssl,onUpdate:h=>d("ssl",h)})}),e.jsx(de,{value:"alerts",children:e.jsx(SC,{alerts:a})}),e.jsx(de,{value:"logs",children:e.jsx(CC,{logs:r})}),e.jsx(de,{value:"backup",children:e.jsx(kC,{config:t.backup,onUpdate:h=>d("backup",h)})})]})]})},mr=[{id:"1",timestamp:"2024-01-15T15:30:25.123Z",level:"info",module:"auth",message:"User login successful",details:"User authenticated successfully with email",requestId:"req_123456",userId:"user_001",ip:"192.168.1.100",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",duration:125,statusCode:200,endpoint:"/api/auth/login"},{id:"2",timestamp:"2024-01-15T15:29:45.456Z",level:"error",module:"database",message:"Connection timeout",details:"Database connection pool exhausted, unable to acquire connection within timeout",requestId:"req_123455",ip:"192.168.1.101",duration:5e3,statusCode:500,endpoint:"/api/staff/requests"},{id:"3",timestamp:"2024-01-15T15:28:15.789Z",level:"warn",module:"api",message:"Rate limit exceeded",details:"Client has exceeded rate limit of 100 requests per minute",requestId:"req_123454",ip:"192.168.1.102",duration:1,statusCode:429,endpoint:"/api/staff/requests"},{id:"4",timestamp:"2024-01-15T15:27:30.012Z",level:"debug",module:"websocket",message:"WebSocket connection established",details:"New WebSocket connection from client",requestId:"ws_123453",ip:"192.168.1.103",userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36"},{id:"5",timestamp:"2024-01-15T15:26:45.345Z",level:"info",module:"email",message:"Email notification sent",details:"Daily report email sent to admin@hotel.com",requestId:"email_123452",duration:890,statusCode:200},{id:"6",timestamp:"2024-01-15T15:25:20.678Z",level:"error",module:"ai",message:"OpenAI API call failed",details:"OpenAI API returned 503 Service Unavailable",requestId:"req_123451",ip:"192.168.1.100",duration:2e3,statusCode:503,endpoint:"/api/ai/chat"},{id:"7",timestamp:"2024-01-15T15:24:55.901Z",level:"info",module:"backup",message:"Backup completed successfully",details:"Database backup completed, size: 2.1GB",duration:45e3,statusCode:200},{id:"8",timestamp:"2024-01-15T15:23:10.234Z",level:"warn",module:"security",message:"Failed login attempt",details:"User attempted login with incorrect credentials",requestId:"req_123450",userId:"user_002",ip:"192.168.1.104",userAgent:"curl/7.68.0",duration:100,statusCode:401,endpoint:"/api/auth/login"}],pr={total:15420,byLevel:{debug:3240,info:8950,warn:2100,error:1050,fatal:80},byModule:{auth:2340,api:4560,database:1890,websocket:890,email:1200,ai:890,backup:340,security:1450,system:1860},recentErrors:25,averageResponseTime:245,errorRate:6.8},Yc=s=>{switch(s){case"debug":return"bg-blue-100 text-blue-800";case"info":return"bg-green-100 text-green-800";case"warn":return"bg-yellow-100 text-yellow-800";case"error":return"bg-red-100 text-red-800";case"fatal":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},oa=s=>{switch(s){case"debug":return e.jsx(ea,{className:"h-4 w-4"});case"info":return e.jsx(qe,{className:"h-4 w-4"});case"warn":return e.jsx(ds,{className:"h-4 w-4"});case"error":return e.jsx($s,{className:"h-4 w-4"});case"fatal":return e.jsx(Ce,{className:"h-4 w-4"});default:return e.jsx(ea,{className:"h-4 w-4"})}},ca=s=>{switch(s){case"auth":return e.jsx(Ae,{className:"h-4 w-4"});case"api":return e.jsx(ps,{className:"h-4 w-4"});case"database":return e.jsx(Qt,{className:"h-4 w-4"});case"websocket":return e.jsx(Da,{className:"h-4 w-4"});case"email":return e.jsx(yn,{className:"h-4 w-4"});case"ai":return e.jsx(Pl,{className:"h-4 w-4"});case"backup":return e.jsx(Cs,{className:"h-4 w-4"});case"security":return e.jsx(Ae,{className:"h-4 w-4"});case"system":return e.jsx(Pa,{className:"h-4 w-4"});default:return e.jsx(jn,{className:"h-4 w-4"})}},Zc=s=>new Date(s).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3}),Jc=s=>s?s<1e3?`${s}ms`:`${(s/1e3).toFixed(2)}s`:"-",_C=({log:s,isOpen:t,onClose:n})=>s?e.jsx("div",{className:O("fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",t?"block":"hidden"),children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Log Details"}),e.jsx(L,{variant:"ghost",size:"sm",onClick:n,children:e.jsx($s,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(_,{className:"text-sm font-medium",children:"Timestamp"}),e.jsx("p",{className:"text-sm font-mono",children:Zc(s.timestamp)})]}),e.jsxs("div",{children:[e.jsx(_,{className:"text-sm font-medium",children:"Level"}),e.jsxs("div",{className:"flex items-center gap-2",children:[oa(s.level),e.jsx(ee,{className:Yc(s.level),children:s.level.toUpperCase()})]})]}),e.jsxs("div",{children:[e.jsx(_,{className:"text-sm font-medium",children:"Module"}),e.jsxs("div",{className:"flex items-center gap-2",children:[ca(s.module),e.jsx("span",{className:"text-sm",children:s.module})]})]}),e.jsxs("div",{children:[e.jsx(_,{className:"text-sm font-medium",children:"Request ID"}),e.jsx("p",{className:"text-sm font-mono",children:s.requestId||"-"})]}),e.jsxs("div",{children:[e.jsx(_,{className:"text-sm font-medium",children:"User ID"}),e.jsx("p",{className:"text-sm font-mono",children:s.userId||"-"})]}),e.jsxs("div",{children:[e.jsx(_,{className:"text-sm font-medium",children:"IP Address"}),e.jsx("p",{className:"text-sm font-mono",children:s.ip||"-"})]}),e.jsxs("div",{children:[e.jsx(_,{className:"text-sm font-medium",children:"Duration"}),e.jsx("p",{className:"text-sm",children:Jc(s.duration)})]}),e.jsxs("div",{children:[e.jsx(_,{className:"text-sm font-medium",children:"Status Code"}),e.jsx("p",{className:"text-sm",children:s.statusCode||"-"})]})]}),e.jsxs("div",{children:[e.jsx(_,{className:"text-sm font-medium",children:"Message"}),e.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded border",children:s.message})]}),s.details&&e.jsxs("div",{children:[e.jsx(_,{className:"text-sm font-medium",children:"Details"}),e.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded border whitespace-pre-wrap",children:s.details})]}),s.userAgent&&e.jsxs("div",{children:[e.jsx(_,{className:"text-sm font-medium",children:"User Agent"}),e.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded border break-all",children:s.userAgent})]}),s.endpoint&&e.jsxs("div",{children:[e.jsx(_,{className:"text-sm font-medium",children:"Endpoint"}),e.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded border font-mono",children:s.endpoint})]})]})]})}):null,EC=()=>{const{user:s}=Le(),[t,n]=u.useState(mr),[a,i]=u.useState(pr),[r,o]=u.useState(!1),[l,c]=u.useState(!1),[d,m]=u.useState(null),[h,p]=u.useState(!1),[v,x]=u.useState({level:"all",module:"all",startTime:"",endTime:"",search:"",requestId:"",userId:"",ip:""}),g=t.filter(w=>{const T=v.level==="all"||w.level===v.level,E=v.module==="all"||w.module===v.module,z=!v.search||w.message.toLowerCase().includes(v.search.toLowerCase())||w.details?.toLowerCase().includes(v.search.toLowerCase()),F=!v.requestId||w.requestId?.includes(v.requestId),D=!v.userId||w.userId?.includes(v.userId),C=!v.ip||w.ip?.includes(v.ip);let S=!0;return v.startTime&&(S=S&&new Date(w.timestamp)>=new Date(v.startTime)),v.endTime&&(S=S&&new Date(w.timestamp)<=new Date(v.endTime)),T&&E&&z&&F&&D&&C&&S}),y=w=>{m(w),p(!0)},j=async()=>{o(!0);try{await new Promise(F=>setTimeout(F,2e3));const w=g.map(F=>`${F.timestamp},${F.level},${F.module},"${F.message}",${F.requestId||""},${F.userId||""},${F.ip||""},${F.statusCode||""}`).join(`
`),T=new Blob([w],{type:"text/csv"}),E=window.URL.createObjectURL(T),z=document.createElement("a");z.href=E,z.download=`system_logs_${new Date().toISOString().split("T")[0]}.csv`,z.click(),window.URL.revokeObjectURL(E)}catch(w){console.error("Export failed:",w)}finally{o(!1)}},f=async()=>{o(!0);try{await new Promise(w=>setTimeout(w,1e3)),n(mr),i(pr)}catch(w){console.error("Failed to fetch logs:",w)}finally{o(!1)}},b=()=>{x({level:"all",module:"all",startTime:"",endTime:"",search:"",requestId:"",userId:"",ip:""})};return u.useEffect(()=>{f()},[]),u.useEffect(()=>{if(!l)return;const w=setInterval(()=>{const T={id:Date.now().toString(),timestamp:new Date().toISOString(),level:["debug","info","warn","error"][Math.floor(Math.random()*4)],module:["auth","api","database","websocket"][Math.floor(Math.random()*4)],message:`Real-time log entry ${Date.now()}`,details:"Generated for real-time demonstration",requestId:`req_${Date.now()}`,ip:`192.168.1.${Math.floor(Math.random()*255)}`};n(E=>[T,...E.slice(0,99)])},3e3);return()=>clearInterval(w)},[l]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Logs"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Theo d√µi v√† ph√¢n t√≠ch logs h·ªá th·ªëng"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{checked:l,onCheckedChange:c}),e.jsx(_,{className:"text-sm",children:"Real-time"})]}),e.jsxs(L,{onClick:f,disabled:r,children:[e.jsx(me,{className:O("h-4 w-4 mr-2",r&&"animate-spin")}),"Refresh"]}),e.jsxs(L,{onClick:j,disabled:r,children:[e.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(R,{children:e.jsx($,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Logs"}),e.jsx("p",{className:"text-2xl font-bold",children:a.total.toLocaleString()})]}),e.jsx(yn,{className:"h-8 w-8 text-blue-500"})]})})}),e.jsx(R,{children:e.jsx($,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Recent Errors"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:a.recentErrors})]}),e.jsx(Ce,{className:"h-8 w-8 text-red-500"})]})})}),e.jsx(R,{children:e.jsx($,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Response Time"}),e.jsxs("p",{className:"text-2xl font-bold",children:[a.averageResponseTime,"ms"]})]}),e.jsx(Be,{className:"h-8 w-8 text-green-500"})]})})}),e.jsx(R,{children:e.jsx($,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Error Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[a.errorRate,"%"]})]}),e.jsx(Rs,{className:"h-8 w-8 text-orange-500"})]})})})]}),e.jsxs(dt,{defaultValue:"logs",className:"space-y-6",children:[e.jsxs(nt,{children:[e.jsx(ce,{value:"logs",children:"Logs"}),e.jsx(ce,{value:"stats",children:"Statistics"})]}),e.jsxs(de,{value:"logs",className:"space-y-4",children:[e.jsxs(R,{children:[e.jsx(G,{children:e.jsx(U,{className:"text-lg",children:"Filters"})}),e.jsxs($,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(_,{htmlFor:"level",children:"Log Level"}),e.jsxs(Ne,{value:v.level,onValueChange:w=>x({...v,level:w}),children:[e.jsx(je,{children:e.jsx(Se,{})}),e.jsxs(be,{children:[e.jsx(H,{value:"all",children:"All Levels"}),e.jsx(H,{value:"debug",children:"Debug"}),e.jsx(H,{value:"info",children:"Info"}),e.jsx(H,{value:"warn",children:"Warning"}),e.jsx(H,{value:"error",children:"Error"}),e.jsx(H,{value:"fatal",children:"Fatal"})]})]})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"module",children:"Module"}),e.jsxs(Ne,{value:v.module,onValueChange:w=>x({...v,module:w}),children:[e.jsx(je,{children:e.jsx(Se,{})}),e.jsxs(be,{children:[e.jsx(H,{value:"all",children:"All Modules"}),e.jsx(H,{value:"auth",children:"Auth"}),e.jsx(H,{value:"api",children:"API"}),e.jsx(H,{value:"database",children:"Database"}),e.jsx(H,{value:"websocket",children:"WebSocket"}),e.jsx(H,{value:"email",children:"Email"}),e.jsx(H,{value:"ai",children:"AI"}),e.jsx(H,{value:"backup",children:"Backup"}),e.jsx(H,{value:"security",children:"Security"}),e.jsx(H,{value:"system",children:"System"})]})]})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"search",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(Dt,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(K,{id:"search",placeholder:"Search logs...",value:v.search,onChange:w=>x({...v,search:w.target.value}),className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"startTime",children:"Start Time"}),e.jsx(K,{id:"startTime",type:"datetime-local",value:v.startTime,onChange:w=>x({...v,startTime:w.target.value})})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"endTime",children:"End Time"}),e.jsx(K,{id:"endTime",type:"datetime-local",value:v.endTime,onChange:w=>x({...v,endTime:w.target.value})})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"requestId",children:"Request ID"}),e.jsx(K,{id:"requestId",placeholder:"Filter by request ID...",value:v.requestId,onChange:w=>x({...v,requestId:w.target.value})})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(L,{variant:"outline",onClick:b,children:"Clear Filters"})})]})]}),e.jsxs(R,{children:[e.jsx(G,{children:e.jsxs(U,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"System Logs"}),e.jsxs("div",{className:"flex items-center gap-2",children:[l&&e.jsxs(ee,{variant:"outline",className:"text-green-600",children:[e.jsx(bt,{className:"h-3 w-3 mr-1"}),"Live"]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Showing ",g.length," of ",t.length," logs"]})]})]})}),e.jsx($,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(vt,{children:[e.jsx(yt,{children:e.jsxs(Me,{children:[e.jsx(Z,{className:"w-[180px]",children:"Timestamp"}),e.jsx(Z,{children:"Level"}),e.jsx(Z,{children:"Module"}),e.jsx(Z,{children:"Message"}),e.jsx(Z,{children:"Request ID"}),e.jsx(Z,{children:"Duration"}),e.jsx(Z,{children:"Status"}),e.jsx(Z,{children:"Actions"})]})}),e.jsx(jt,{children:g.map(w=>e.jsxs(Me,{children:[e.jsx(J,{className:"font-mono text-sm",children:Zc(w.timestamp)}),e.jsx(J,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[oa(w.level),e.jsx(ee,{className:Yc(w.level),children:w.level.toUpperCase()})]})}),e.jsx(J,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[ca(w.module),w.module]})}),e.jsx(J,{className:"max-w-xs",children:e.jsx("div",{className:"truncate",title:w.message,children:w.message})}),e.jsx(J,{className:"font-mono text-sm",children:w.requestId&&e.jsx("span",{className:"text-blue-600 cursor-pointer hover:underline",children:w.requestId})}),e.jsx(J,{children:Jc(w.duration)}),e.jsx(J,{children:w.statusCode&&e.jsx(ee,{variant:w.statusCode>=400?"destructive":"default",children:w.statusCode})}),e.jsx(J,{children:e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>y(w),children:e.jsx(Lt,{className:"h-4 w-4"})})})]},w.id))})]})})})]})]}),e.jsx(de,{value:"stats",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(R,{children:[e.jsx(G,{children:e.jsx(U,{children:"Logs by Level"})}),e.jsx($,{children:e.jsx("div",{className:"space-y-3",children:Object.entries(a.byLevel).map(([w,T])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[oa(w),e.jsx("span",{className:"capitalize",children:w})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${T/a.total*100}%`}})}),e.jsx("span",{className:"text-sm font-medium",children:T})]})]},w))})})]}),e.jsxs(R,{children:[e.jsx(G,{children:e.jsx(U,{children:"Logs by Module"})}),e.jsx($,{children:e.jsx("div",{className:"space-y-3",children:Object.entries(a.byModule).map(([w,T])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[ca(w),e.jsx("span",{className:"capitalize",children:w})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${T/a.total*100}%`}})}),e.jsx("span",{className:"text-sm font-medium",children:T})]})]},w))})})]})]})})]}),e.jsx(_C,{log:d,isOpen:h,onClose:()=>p(!1)})]})},xr=[{id:"1",name:"OpenAI GPT",type:"ai",provider:"OpenAI",description:"AI-powered chatbot and content generation",status:"active",enabled:!0,config:{baseUrl:"https://api.openai.com/v1",apiKey:"sk-...",timeout:3e4,retryCount:3,rateLimitPerMinute:60},metrics:{totalRequests:15420,successRate:98.5,averageResponseTime:1250,lastRequest:"2024-01-15T15:30:00Z",uptime:99.8},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-15T10:00:00Z",lastSync:"2024-01-15T15:30:00Z"},{id:"2",name:"Stripe Payment",type:"payment",provider:"Stripe",description:"Payment processing and billing",status:"active",enabled:!0,config:{baseUrl:"https://api.stripe.com/v1",apiKey:"sk_live_...",timeout:1e4,retryCount:2,rateLimitPerMinute:100},metrics:{totalRequests:8950,successRate:99.9,averageResponseTime:450,lastRequest:"2024-01-15T15:25:00Z",uptime:99.9},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-15T12:00:00Z",lastSync:"2024-01-15T15:25:00Z"},{id:"3",name:"Twilio SMS",type:"notification",provider:"Twilio",description:"SMS notifications and alerts",status:"active",enabled:!0,config:{baseUrl:"https://api.twilio.com/2010-04-01",apiKey:"AC...",timeout:5e3,retryCount:3,rateLimitPerMinute:200},metrics:{totalRequests:2340,successRate:97.8,averageResponseTime:890,lastRequest:"2024-01-15T14:45:00Z",uptime:98.5},createdAt:"2024-01-05T00:00:00Z",updatedAt:"2024-01-15T09:00:00Z",lastSync:"2024-01-15T14:45:00Z"},{id:"4",name:"Google Places",type:"api",provider:"Google",description:"Location data and place information",status:"error",enabled:!1,config:{baseUrl:"https://maps.googleapis.com/maps/api/place",apiKey:"AIza...",timeout:8e3,retryCount:2,rateLimitPerMinute:50},metrics:{totalRequests:1250,successRate:45.2,averageResponseTime:2100,lastRequest:"2024-01-15T13:20:00Z",uptime:78.3},createdAt:"2024-01-10T00:00:00Z",updatedAt:"2024-01-15T13:20:00Z",lastSync:"2024-01-15T13:20:00Z"},{id:"5",name:"Slack Notifications",type:"webhook",provider:"Slack",description:"Team notifications and alerts",status:"active",enabled:!0,config:{webhookUrl:"https://hooks.slack.com/services/...",timeout:3e3,retryCount:2,rateLimitPerMinute:1},metrics:{totalRequests:450,successRate:100,averageResponseTime:320,lastRequest:"2024-01-15T15:00:00Z",uptime:100},createdAt:"2024-01-08T00:00:00Z",updatedAt:"2024-01-15T08:00:00Z",lastSync:"2024-01-15T15:00:00Z"}],fr=[{id:"1",name:"Payment Webhook",url:"https://api.hotel.com/webhooks/payment",method:"POST",events:["payment.completed","payment.failed","payment.refunded"],active:!0,secret:"whsec_...",headers:{"Content-Type":"application/json","X-Webhook-Source":"hotel-system"},retryPolicy:{enabled:!0,maxRetries:3,retryDelay:1e3},logs:[{id:"1",timestamp:"2024-01-15T15:30:00Z",event:"payment.completed",statusCode:200,responseTime:245,success:!0},{id:"2",timestamp:"2024-01-15T15:25:00Z",event:"payment.failed",statusCode:500,responseTime:1e3,success:!1,error:"Internal server error"}]},{id:"2",name:"Booking Webhook",url:"https://api.hotel.com/webhooks/booking",method:"POST",events:["booking.created","booking.updated","booking.cancelled"],active:!0,secret:"whsec_...",headers:{"Content-Type":"application/json"},retryPolicy:{enabled:!0,maxRetries:5,retryDelay:2e3},logs:[]}],gr=[{id:"1",name:"OpenAI Production",service:"OpenAI",type:"api_key",environment:"production",credentials:{apiKey:"sk-..."},lastUsed:"2024-01-15T15:30:00Z",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-15T10:00:00Z"},{id:"2",name:"Stripe Live",service:"Stripe",type:"api_key",environment:"production",credentials:{apiKey:"sk_live_..."},lastUsed:"2024-01-15T15:25:00Z",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-15T12:00:00Z"},{id:"3",name:"Google OAuth",service:"Google",type:"oauth",environment:"production",credentials:{clientId:"123456789-...",clientSecret:"GOCSPX-...",accessToken:"ya29.a0A...",refreshToken:"1//0G..."},expiresAt:"2024-01-16T15:30:00Z",lastUsed:"2024-01-15T13:20:00Z",createdAt:"2024-01-10T00:00:00Z",updatedAt:"2024-01-15T13:20:00Z"}],AC=s=>{switch(s){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"error":return"bg-red-100 text-red-800";case"testing":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},ed=s=>{switch(s){case"api":return e.jsx(ps,{className:"h-4 w-4"});case"webhook":return e.jsx(Zu,{className:"h-4 w-4"});case"database":return e.jsx(Qt,{className:"h-4 w-4"});case"payment":return e.jsx(vn,{className:"h-4 w-4"});case"notification":return e.jsx(Ea,{className:"h-4 w-4"});case"ai":return e.jsx(Pl,{className:"h-4 w-4"});case"analytics":return e.jsx(Rs,{className:"h-4 w-4"});case"security":return e.jsx(Ae,{className:"h-4 w-4"});default:return e.jsx(Vu,{className:"h-4 w-4"})}},Gn=s=>new Date(s).toLocaleString("vi-VN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),PC=s=>new Intl.NumberFormat("vi-VN").format(s),IC=({integration:s,isOpen:t,onClose:n,onSave:a})=>{const[i,r]=u.useState(s),[o,l]=u.useState(!1),[c,d]=u.useState(!1);u.useEffect(()=>{r(s)},[s]);const m=async()=>{if(i){l(!0);try{await new Promise(p=>setTimeout(p,1e3)),a(i),n()}catch(p){console.error("Failed to save integration:",p)}finally{l(!1)}}},h=async()=>{l(!0);try{await new Promise(p=>setTimeout(p,2e3)),alert("Integration test successful!")}catch{alert("Integration test failed!")}finally{l(!1)}};return!s||!i?null:e.jsx($t,{open:t,onOpenChange:n,children:e.jsxs(Nt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(St,{children:[e.jsxs(Ct,{className:"flex items-center gap-2",children:[ed(s.type),s.name]}),e.jsx(Ft,{children:"C·∫•u h√¨nh chi ti·∫øt cho integration"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(_,{htmlFor:"name",children:"T√™n"}),e.jsx(K,{id:"name",value:i.name,onChange:p=>r({...i,name:p.target.value})})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"provider",children:"Provider"}),e.jsx(K,{id:"provider",value:i.provider,onChange:p=>r({...i,provider:p.target.value})})]})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"description",children:"M√¥ t·∫£"}),e.jsx(Ve,{id:"description",value:i.description,onChange:p=>r({...i,description:p.target.value}),rows:2})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(_,{htmlFor:"baseUrl",children:"Base URL"}),e.jsx(K,{id:"baseUrl",value:i.config.baseUrl||"",onChange:p=>r({...i,config:{...i.config,baseUrl:p.target.value}})})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"timeout",children:"Timeout (ms)"}),e.jsx(K,{id:"timeout",type:"number",value:i.config.timeout||"",onChange:p=>r({...i,config:{...i.config,timeout:parseInt(p.target.value)}})})]})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"apiKey",children:"API Key"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(K,{id:"apiKey",type:c?"text":"password",value:i.config.apiKey||"",onChange:p=>r({...i,config:{...i.config,apiKey:p.target.value}})}),e.jsx(L,{type:"button",variant:"outline",size:"sm",onClick:()=>d(!c),children:c?e.jsx(Tl,{className:"h-4 w-4"}):e.jsx(Lt,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(_,{htmlFor:"retryCount",children:"Retry Count"}),e.jsx(K,{id:"retryCount",type:"number",value:i.config.retryCount||"",onChange:p=>r({...i,config:{...i.config,retryCount:parseInt(p.target.value)}})})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"rateLimit",children:"Rate Limit/min"}),e.jsx(K,{id:"rateLimit",type:"number",value:i.config.rateLimitPerMinute||"",onChange:p=>r({...i,config:{...i.config,rateLimitPerMinute:parseInt(p.target.value)}})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{children:"K√≠ch ho·∫°t"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"B·∫≠t/t·∫Øt integration n√†y"})]}),e.jsx(he,{checked:i.enabled,onCheckedChange:p=>r({...i,enabled:p})})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsxs(L,{variant:"outline",onClick:h,disabled:o,children:[e.jsx(qe,{className:"h-4 w-4 mr-2"}),"Test Connection"]}),e.jsx(L,{onClick:m,disabled:o,children:o?e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}),"ƒêang l∆∞u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"h-4 w-4 mr-2"}),"L∆∞u"]})})]})]})]})})},DC=({isOpen:s,onClose:t,onAdd:n})=>{const[a,i]=u.useState({name:"",type:"api",provider:"",description:"",baseUrl:"",apiKey:"",timeout:3e4,retryCount:3,rateLimitPerMinute:100}),[r,o]=u.useState(!1),l=async c=>{c.preventDefault(),o(!0);try{await new Promise(m=>setTimeout(m,1e3));const d={id:Date.now().toString(),name:a.name,type:a.type,provider:a.provider,description:a.description,status:"inactive",enabled:!1,config:{baseUrl:a.baseUrl,apiKey:a.apiKey,timeout:a.timeout,retryCount:a.retryCount,rateLimitPerMinute:a.rateLimitPerMinute},metrics:{totalRequests:0,successRate:0,averageResponseTime:0,lastRequest:"",uptime:0},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),lastSync:""};n(d),t(),i({name:"",type:"api",provider:"",description:"",baseUrl:"",apiKey:"",timeout:3e4,retryCount:3,rateLimitPerMinute:100})}catch(d){console.error("Failed to add integration:",d)}finally{o(!1)}};return e.jsx($t,{open:s,onOpenChange:t,children:e.jsxs(Nt,{className:"max-w-2xl",children:[e.jsxs(St,{children:[e.jsx(Ct,{children:"Th√™m Integration m·ªõi"}),e.jsx(Ft,{children:"T·∫°o integration m·ªõi v·ªõi third-party service"})]}),e.jsxs("form",{onSubmit:l,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(_,{htmlFor:"name",children:"T√™n *"}),e.jsx(K,{id:"name",value:a.name,onChange:c=>i({...a,name:c.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"type",children:"Lo·∫°i *"}),e.jsxs(Ne,{value:a.type,onValueChange:c=>i({...a,type:c}),children:[e.jsx(je,{children:e.jsx(Se,{})}),e.jsxs(be,{children:[e.jsx(H,{value:"api",children:"API"}),e.jsx(H,{value:"webhook",children:"Webhook"}),e.jsx(H,{value:"database",children:"Database"}),e.jsx(H,{value:"payment",children:"Payment"}),e.jsx(H,{value:"notification",children:"Notification"}),e.jsx(H,{value:"ai",children:"AI"}),e.jsx(H,{value:"analytics",children:"Analytics"}),e.jsx(H,{value:"security",children:"Security"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"provider",children:"Provider *"}),e.jsx(K,{id:"provider",value:a.provider,onChange:c=>i({...a,provider:c.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"description",children:"M√¥ t·∫£"}),e.jsx(Ve,{id:"description",value:a.description,onChange:c=>i({...a,description:c.target.value}),rows:2})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"baseUrl",children:"Base URL *"}),e.jsx(K,{id:"baseUrl",value:a.baseUrl,onChange:c=>i({...a,baseUrl:c.target.value}),placeholder:"https://api.example.com",required:!0})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"apiKey",children:"API Key *"}),e.jsx(K,{id:"apiKey",type:"password",value:a.apiKey,onChange:c=>i({...a,apiKey:c.target.value}),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(_,{htmlFor:"timeout",children:"Timeout (ms)"}),e.jsx(K,{id:"timeout",type:"number",value:a.timeout,onChange:c=>i({...a,timeout:parseInt(c.target.value)})})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"retryCount",children:"Retry Count"}),e.jsx(K,{id:"retryCount",type:"number",value:a.retryCount,onChange:c=>i({...a,retryCount:parseInt(c.target.value)})})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"rateLimit",children:"Rate Limit/min"}),e.jsx(K,{id:"rateLimit",type:"number",value:a.rateLimitPerMinute,onChange:c=>i({...a,rateLimitPerMinute:parseInt(c.target.value)})})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(L,{type:"button",variant:"outline",onClick:t,children:"H·ªßy"}),e.jsx(L,{type:"submit",disabled:r,children:r?e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}),"ƒêang t·∫°o..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Pt,{className:"h-4 w-4 mr-2"}),"T·∫°o Integration"]})})]})]})]})})},MC=()=>{const{user:s}=Le(),[t,n]=u.useState(xr),[a,i]=u.useState(fr),[r,o]=u.useState(gr),[l,c]=u.useState(!1),[d,m]=u.useState(null),[h,p]=u.useState(!1),[v,x]=u.useState(!1),[g,y]=u.useState("all"),[j,f]=u.useState("all"),[b,w]=u.useState(""),T=t.filter(N=>{const I=g==="all"||N.status===g,P=j==="all"||N.type===j,V=!b||N.name.toLowerCase().includes(b.toLowerCase())||N.provider.toLowerCase().includes(b.toLowerCase());return I&&P&&V}),E=N=>{m(N),p(!0)},z=N=>{n(I=>I.map(P=>P.id===N.id?N:P)),m(null)},F=N=>{n(I=>[...I,N])},D=N=>{confirm("B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a integration n√†y?")&&n(I=>I.filter(P=>P.id!==N))},C=N=>{n(I=>I.map(P=>P.id===N?{...P,enabled:!P.enabled,status:P.enabled?"inactive":"active"}:P))},S=async()=>{c(!0);try{await new Promise(N=>setTimeout(N,1e3)),n(xr),i(fr),o(gr)}catch(N){console.error("Failed to fetch integrations:",N)}finally{c(!1)}};return u.useEffect(()=>{S()},[]),l?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(me,{className:"h-8 w-8 animate-spin text-purple-600"}),e.jsx("span",{className:"ml-2",children:"ƒêang t·∫£i integrations..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Integrations"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Qu·∫£n l√Ω t√≠ch h·ª£p v·ªõi c√°c d·ªãch v·ª• b√™n th·ª© ba"})]}),e.jsxs(L,{onClick:()=>x(!0),children:[e.jsx(Pt,{className:"h-4 w-4 mr-2"}),"Th√™m Integration"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(R,{children:e.jsx($,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Integrations"}),e.jsx("p",{className:"text-2xl font-bold",children:t.length})]}),e.jsx(Ma,{className:"h-8 w-8 text-blue-500"})]})})}),e.jsx(R,{children:e.jsx($,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.filter(N=>N.status==="active").length})]}),e.jsx(qe,{className:"h-8 w-8 text-green-500"})]})})}),e.jsx(R,{children:e.jsx($,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Errors"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:t.filter(N=>N.status==="error").length})]}),e.jsx($s,{className:"h-8 w-8 text-red-500"})]})})}),e.jsx(R,{children:e.jsx($,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Success Rate"}),e.jsxs("p",{className:"text-2xl font-bold",children:[(t.reduce((N,I)=>N+I.metrics.successRate,0)/t.length).toFixed(1),"%"]})]}),e.jsx(Be,{className:"h-8 w-8 text-blue-500"})]})})})]}),e.jsxs(dt,{defaultValue:"integrations",className:"space-y-6",children:[e.jsxs(nt,{className:"grid w-full grid-cols-3",children:[e.jsx(ce,{value:"integrations",children:"Integrations"}),e.jsx(ce,{value:"webhooks",children:"Webhooks"}),e.jsx(ce,{value:"credentials",children:"Credentials"})]}),e.jsxs(de,{value:"integrations",className:"space-y-4",children:[e.jsxs(R,{children:[e.jsx(G,{children:e.jsx(U,{children:"Filters"})}),e.jsx($,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Dt,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(K,{placeholder:"T√¨m ki·∫øm integrations...",value:b,onChange:N=>w(N.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Ne,{value:g,onValueChange:y,children:[e.jsx(je,{className:"w-[150px]",children:e.jsx(Se,{})}),e.jsxs(be,{children:[e.jsx(H,{value:"all",children:"All Status"}),e.jsx(H,{value:"active",children:"Active"}),e.jsx(H,{value:"inactive",children:"Inactive"}),e.jsx(H,{value:"error",children:"Error"}),e.jsx(H,{value:"testing",children:"Testing"})]})]}),e.jsxs(Ne,{value:j,onValueChange:f,children:[e.jsx(je,{className:"w-[150px]",children:e.jsx(Se,{})}),e.jsxs(be,{children:[e.jsx(H,{value:"all",children:"All Types"}),e.jsx(H,{value:"api",children:"API"}),e.jsx(H,{value:"webhook",children:"Webhook"}),e.jsx(H,{value:"payment",children:"Payment"}),e.jsx(H,{value:"notification",children:"Notification"}),e.jsx(H,{value:"ai",children:"AI"})]})]})]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:T.map(N=>e.jsxs(R,{children:[e.jsxs(G,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[ed(N.type),e.jsx(U,{className:"text-lg",children:N.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:AC(N.status),children:N.status.toUpperCase()}),e.jsx(he,{checked:N.enabled,onCheckedChange:()=>C(N.id)})]})]}),e.jsx(te,{children:N.description})]}),e.jsxs($,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Provider:"}),e.jsx("span",{className:"font-medium",children:N.provider})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Success Rate:"}),e.jsxs("span",{className:"font-medium",children:[N.metrics.successRate,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Requests:"}),e.jsx("span",{className:"font-medium",children:PC(N.metrics.totalRequests)})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Avg Response:"}),e.jsxs("span",{className:"font-medium",children:[N.metrics.averageResponseTime,"ms"]})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Uptime:"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(ft,{value:N.metrics.uptime,className:"h-2"}),e.jsxs("span",{className:"font-medium",children:[N.metrics.uptime,"%"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Last sync: ",N.lastSync?Gn(N.lastSync):"Never"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>E(N),children:e.jsx(Gt,{className:"h-4 w-4"})}),e.jsx(L,{variant:"ghost",size:"sm",onClick:()=>D(N.id),children:e.jsx(Ut,{className:"h-4 w-4"})})]})]})]})]},N.id))})]}),e.jsx(de,{value:"webhooks",className:"space-y-4",children:e.jsxs(R,{children:[e.jsx(G,{children:e.jsxs(U,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Webhook Endpoints"}),e.jsxs(L,{size:"sm",children:[e.jsx(Pt,{className:"h-4 w-4 mr-2"}),"Add Webhook"]})]})}),e.jsx($,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:e.jsxs(Me,{children:[e.jsx(Z,{children:"Name"}),e.jsx(Z,{children:"URL"}),e.jsx(Z,{children:"Method"}),e.jsx(Z,{children:"Events"}),e.jsx(Z,{children:"Status"}),e.jsx(Z,{children:"Actions"})]})}),e.jsx(jt,{children:a.map(N=>e.jsxs(Me,{children:[e.jsx(J,{className:"font-medium",children:N.name}),e.jsx(J,{className:"font-mono text-sm",children:N.url}),e.jsx(J,{children:e.jsx(ee,{variant:"outline",children:N.method})}),e.jsx(J,{children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[N.events.slice(0,2).map((I,P)=>e.jsx(ee,{variant:"secondary",className:"text-xs",children:I},P)),N.events.length>2&&e.jsxs(ee,{variant:"secondary",className:"text-xs",children:["+",N.events.length-2]})]})}),e.jsx(J,{children:e.jsx(ee,{className:N.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:N.active?"Active":"Inactive"})}),e.jsx(J,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(Gt,{className:"h-4 w-4"})}),e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(Lt,{className:"h-4 w-4"})}),e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(Ut,{className:"h-4 w-4"})})]})})]},N.id))})]})})]})}),e.jsx(de,{value:"credentials",className:"space-y-4",children:e.jsxs(R,{children:[e.jsx(G,{children:e.jsxs(U,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"API Credentials"}),e.jsxs(L,{size:"sm",children:[e.jsx(Pt,{className:"h-4 w-4 mr-2"}),"Add Credential"]})]})}),e.jsx($,{children:e.jsxs(vt,{children:[e.jsx(yt,{children:e.jsxs(Me,{children:[e.jsx(Z,{children:"Name"}),e.jsx(Z,{children:"Service"}),e.jsx(Z,{children:"Type"}),e.jsx(Z,{children:"Environment"}),e.jsx(Z,{children:"Expires"}),e.jsx(Z,{children:"Last Used"}),e.jsx(Z,{children:"Actions"})]})}),e.jsx(jt,{children:r.map(N=>e.jsxs(Me,{children:[e.jsx(J,{className:"font-medium",children:N.name}),e.jsx(J,{children:N.service}),e.jsx(J,{children:e.jsx(ee,{variant:"outline",children:N.type})}),e.jsx(J,{children:e.jsx(ee,{className:O(N.environment==="production"?"bg-red-100 text-red-800":N.environment==="staging"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:N.environment})}),e.jsx(J,{children:N.expiresAt?Gn(N.expiresAt):"Never"}),e.jsx(J,{children:N.lastUsed?Gn(N.lastUsed):"Never"}),e.jsx(J,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(Gt,{className:"h-4 w-4"})}),e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(me,{className:"h-4 w-4"})}),e.jsx(L,{variant:"ghost",size:"sm",children:e.jsx(Ut,{className:"h-4 w-4"})})]})})]},N.id))})]})})]})})]}),e.jsx(IC,{integration:d,isOpen:h,onClose:()=>p(!1),onSave:z}),e.jsx(DC,{isOpen:v,onClose:()=>x(!1),onAdd:F})]})},Pe=({children:s,requireAuth:t=!0,requiredRole:n,redirectTo:a="/login"})=>{const{user:i,isAuthenticated:r,isLoading:o}=Le(),[,l]=us();return u.useEffect(()=>{if(!o&&t&&!r){l(a);return}},[r,o,i,t,n,a,l]),o?e.jsx(da,{}):t&&!r?null:e.jsx(e.Fragment,{children:s})},LC=pe.lazy(()=>Ss(()=>import("./CallHistory-L2bLS15O.js"),__vite__mapDeps([2,3,1,4,5,6]))),RC=pe.lazy(()=>Ss(()=>import("./CallDetails-Dkkz_tm4.js"),__vite__mapDeps([7,3,1,4,5,6]))),da=()=>e.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"ƒêang t·∫£i..."})]})}),$C=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"container mx-auto",children:e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Ki·ªÉm tra T√≠nh nƒÉng Email"}),e.jsx(Ee,{href:"/",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90",children:"Quay l·∫°i Trang Ch√≠nh"})]})})}),FC=()=>{const{login:s,isLoading:t}=Le(),[,n]=us(),[a,i]=u.useState(""),[r,o]=u.useState(""),[l,c]=u.useState(""),[d,m]=u.useState(!1),h=async p=>{p.preventDefault(),c("");try{await s(a,r),n("/dashboard")}catch(v){c(v.message||"ƒêƒÉng nh·∫≠p th·∫•t b·∫°i")}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"ƒêƒÉng nh·∫≠p Dashboard"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Ho·∫∑c"," ",e.jsx(Ee,{href:"/",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"quay l·∫°i trang ch√≠nh"})]})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[e.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[e.jsx("div",{children:e.jsx("input",{id:"email",name:"email",type:"text",autoComplete:"username",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"T√™n ƒëƒÉng nh·∫≠p ho·∫∑c email",value:a,onChange:p=>i(p.target.value)})}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",name:"password",type:d?"text":"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"M·∫≠t kh·∫©u",value:r,onChange:p=>o(p.target.value)}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>m(!d),children:d?e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):e.jsxs("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),l&&e.jsx("div",{className:"text-red-600 text-sm text-center",children:l}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:t,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:t?"ƒêang ƒëƒÉng nh·∫≠p...":"ƒêƒÉng nh·∫≠p"})})]})]})})},OC=()=>e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Kh√¥ng c√≥ quy·ªÅn truy c·∫≠p"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"B·∫°n kh√¥ng c√≥ quy·ªÅn truy c·∫≠p v√†o trang n√†y."}),e.jsx(Ee,{href:"/",className:"text-indigo-600 hover:text-indigo-500",children:"Quay l·∫°i trang ch√≠nh"})]})});function zC(){const s=Kl(),{isAuthenticated:t}=Le();return console.log("[DEBUG] Router render",{tenantInfo:s,isAuthenticated:t}),s?e.jsx(u.Suspense,{fallback:e.jsx(da,{}),children:e.jsxs(uu,{children:[e.jsx(ve,{path:"/",component:xs}),e.jsx(ve,{path:"/interface1",component:xs}),e.jsx(ve,{path:"/interface2",component:xs}),e.jsx(ve,{path:"/interface3",component:xs}),e.jsx(ve,{path:"/interface4",component:xs}),e.jsx(ve,{path:"/call-history",component:LC}),e.jsx(ve,{path:"/call-details/:callId",component:RC}),e.jsx(ve,{path:"/email-test",component:$C}),e.jsx(ve,{path:"/staff",component:aN}),e.jsx(ve,{path:"/staff/dashboard",component:Co}),e.jsx(ve,{path:"/analytics",component:iN}),e.jsx(ve,{path:"/login",component:FC}),e.jsx(ve,{path:"/unauthorized",component:OC}),e.jsx(ve,{path:"/unified-dashboard",children:e.jsx(Pe,{requireAuth:!0,children:e.jsx(rt,{children:e.jsx(RS,{})})})}),e.jsx(ve,{path:"/unified-dashboard/requests",children:e.jsx(Pe,{requireAuth:!0,children:e.jsx(rt,{children:e.jsx(JS,{})})})}),e.jsx(ve,{path:"/unified-dashboard/analytics",children:e.jsx(Pe,{requireAuth:!0,children:e.jsx(rt,{children:e.jsx(eC,{})})})}),e.jsx(ve,{path:"/unified-dashboard/staff-management",children:e.jsx(Pe,{requireAuth:!0,children:e.jsx(rt,{children:e.jsx(aC,{})})})}),e.jsx(ve,{path:"/unified-dashboard/system-monitoring",children:e.jsx(Pe,{requireAuth:!0,children:e.jsx(rt,{children:e.jsx(dC,{})})})}),e.jsx(ve,{path:"/unified-dashboard/settings",children:e.jsx(Pe,{requireAuth:!0,children:e.jsx(rt,{children:e.jsx(pC,{})})})}),e.jsx(ve,{path:"/unified-dashboard/guest-management",children:e.jsx(Pe,{requireAuth:!0,children:e.jsx(rt,{children:e.jsx(jC,{})})})}),e.jsx(ve,{path:"/unified-dashboard/security",children:e.jsx(Pe,{requireAuth:!0,children:e.jsx(rt,{children:e.jsx(TC,{})})})}),e.jsx(ve,{path:"/unified-dashboard/logs",children:e.jsx(Pe,{requireAuth:!0,children:e.jsx(rt,{children:e.jsx(EC,{})})})}),e.jsx(ve,{path:"/unified-dashboard/integrations",children:e.jsx(Pe,{requireAuth:!0,children:e.jsx(rt,{children:e.jsx(MC,{})})})}),e.jsx(ve,{path:"/dashboard",children:e.jsx(Pe,{requireAuth:!0,children:e.jsx(Ht,{children:e.jsx(LN,{})})})}),e.jsx(ve,{path:"/dashboard/setup",children:e.jsx(Pe,{requireAuth:!0,children:e.jsx(Ht,{children:e.jsx(nS,{})})})}),e.jsx(ve,{path:"/dashboard/assistant",children:e.jsx(Pe,{requireAuth:!0,children:e.jsx(Ht,{children:e.jsx(xS,{})})})}),e.jsx(ve,{path:"/dashboard/analytics",children:e.jsx(Pe,{requireAuth:!0,children:e.jsx(Ht,{children:e.jsx(bS,{})})})}),e.jsx(ve,{path:"/dashboard/settings",children:e.jsx(Pe,{requireAuth:!0,children:e.jsx(Ht,{children:e.jsx(TS,{})})})}),e.jsx(ve,{path:"/dashboard/billing",children:e.jsx(Pe,{requireAuth:!0,children:e.jsx(Ht,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Thanh to√°n & ƒêƒÉng k√Ω"}),e.jsx("p",{className:"text-gray-600",children:"Trang qu·∫£n l√Ω thanh to√°n ƒëang ƒë∆∞·ª£c ph√°t tri·ªÉn..."})]})})})}),e.jsx(ve,{path:"/dashboard/team",children:e.jsx(Pe,{requireAuth:!0,requiredRole:"admin",children:e.jsx(Ht,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Qu·∫£n l√Ω Nh√≥m"}),e.jsx("p",{className:"text-gray-600",children:"Trang qu·∫£n l√Ω nh√≥m ƒëang ƒë∆∞·ª£c ph√°t tri·ªÉn..."})]})})})}),e.jsx(ve,{component:Z2})]})}):e.jsx(da,{})}function BC(){return console.log("[DEBUG] AppContent render"),J2(),e.jsxs(Ur,{children:[e.jsx(zC,{}),e.jsx(sh,{})]})}function HC(){return console.log("[DEBUG] App render"),e.jsx(Pd,{children:e.jsx(Bh,{children:e.jsx(U2,{children:e.jsx(Gh,{children:e.jsx(BC,{})})})})})}Gr(document.getElementById("root")).render(e.jsx(HC,{}));export{Ee as L,wn as S,Ti as a,gh as b,Ph as c,bh as d,Oe as e,Bl as f,QC as g,Nn as i,tt as n,kh as p,yh as r,KC as s,vh as t,ou as u};
