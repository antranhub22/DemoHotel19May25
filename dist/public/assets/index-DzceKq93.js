const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CallHistory-tct5vThe.js","assets/ui-vendor-Cz5cZxHL.js","assets/react-vendor-B4XlsiuD.js","assets/useQuery-D5YjN_5t.js","assets/utility-vendor-XCGKcYu0.js","assets/voice-vendor-D4GD1w0m.js","assets/chart-vendor-DrBy8eit.js","assets/CallDetails-B-l6F9vM.js"])))=>i.map(i=>d[i]);
import{j as e,c as Gs,a as Ac,u as Es,B as Pc,P as Ce,b as an,d as Jn,e as Me,f as gt,V as Ki,R as Ic,g as Mc,h as Wt,i as Lc,S as Dc,k as Qi,l as Xi,m as $c,C as Yi,I as Zi,n as Ji,o as er,p as sr,L as tr,q as nr,r as Rc,T as Oc,s as ar,t as Fc,v as ir,w as rr,x as zc,y as lr,z as Bc,A as or,D as cr,E as qc,F as Hc,G as dr,H as Vc,J as Gc,K as hr,M as ur,N as mr,O as Uc,Q as Wc,U as Kc,W as Qc,X as ea,Y as xr,Z as sa,_ as ta,$ as na,a0 as aa,a1 as pr,a2 as fr,a3 as Xc,a4 as Yc,a5 as Zc}from"./ui-vendor-Cz5cZxHL.js";import{a as gr,r as h,c as Jc,R as xe,b as Ua,u as vr,B as ed}from"./react-vendor-B4XlsiuD.js";import{c as jr,t as sd,j as Wa}from"./utility-vendor-XCGKcYu0.js";import{_ as td}from"./voice-vendor-D4GD1w0m.js";import{R as cs,P as Dn,a as $n,C as Rn,T as ds,B as yr,b as Xs,X as Ys,Y as Zs,L as Ka,c as br,d as ia,e as mt,A as nd,f as ad}from"./chart-vendor-DrBy8eit.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();var wr,Qa=gr;wr=Qa.createRoot,Qa.hydrateRoot;const id="modulepreload",rd=function(s){return"/"+s},Xa={},Nr=function(t,n,a){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=l?.nonce||l?.getAttribute("nonce");i=Promise.allSettled(n.map(c=>{if(c=rd(c),c in Xa)return;Xa[c]=!0;const d=c.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const u=document.createElement("link");if(u.rel=d?"stylesheet":id,d||(u.as="script"),u.crossOrigin="",u.href=c,o&&u.setAttribute("nonce",o),document.head.appendChild(u),d)return new Promise((x,f)=>{u.addEventListener("load",x),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function r(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return i.then(l=>{for(const o of l||[])o.status==="rejected"&&r(o.reason);return t().catch(r)})};class ld extends h.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("Uncaught error in component tree:",t,n)}render(){return this.state.hasError?e.jsx("div",{className:"flex items-center justify-center h-screen p-4 bg-gray-50",children:e.jsxs("div",{className:"max-w-md text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-2",children:"Something went wrong."}),e.jsx("p",{className:"text-gray-700 mb-4",children:"An unexpected error occurred. Please try refreshing the page or contact support if the problem persists."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Reload Page"})]})}):this.props.children}}function od(s,t){if(s instanceof RegExp)return{keys:!1,pattern:s};var n,a,i,r,l=[],o="",c=s.split("/");for(c[0]||c.shift();i=c.shift();)n=i[0],n==="*"?(l.push(n),o+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(a=i.indexOf("?",1),r=i.indexOf(".",1),l.push(i.substring(1,~a?a:~r?r:i.length)),o+=~a&&!~r?"(?:/([^/]+?))?":"/([^/]+?)",~r&&(o+=(~a?"?":"")+"\\"+i.substring(r))):o+="/"+i;return{keys:l,pattern:new RegExp("^"+o+(t?"(?=$|/)":"/?$"),"i")}}var Sr={exports:{}},Cr={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tt=h;function cd(s,t){return s===t&&(s!==0||1/s===1/t)||s!==s&&t!==t}var dd=typeof Object.is=="function"?Object.is:cd,hd=tt.useState,ud=tt.useEffect,md=tt.useLayoutEffect,xd=tt.useDebugValue;function pd(s,t){var n=t(),a=hd({inst:{value:n,getSnapshot:t}}),i=a[0].inst,r=a[1];return md(function(){i.value=n,i.getSnapshot=t,vn(i)&&r({inst:i})},[s,n,t]),ud(function(){return vn(i)&&r({inst:i}),s(function(){vn(i)&&r({inst:i})})},[s]),xd(n),n}function vn(s){var t=s.getSnapshot;s=s.value;try{var n=t();return!dd(s,n)}catch{return!0}}function fd(s,t){return t()}var gd=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?fd:pd;Cr.useSyncExternalStore=tt.useSyncExternalStore!==void 0?tt.useSyncExternalStore:gd;Sr.exports=Cr;var _r=Sr.exports;const vd=Jc.useInsertionEffect,jd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yd=jd?h.useLayoutEffect:h.useEffect,bd=vd||yd,kr=s=>{const t=h.useRef([s,(...n)=>t[0](...n)]).current;return bd(()=>{t[0]=s}),t[1]},wd="popstate",ra="pushState",la="replaceState",Nd="hashchange",Ya=[wd,ra,la,Nd],Sd=s=>{for(const t of Ya)addEventListener(t,s);return()=>{for(const t of Ya)removeEventListener(t,s)}},Tr=(s,t)=>_r.useSyncExternalStore(Sd,s,t),Cd=()=>location.search,_d=({ssrSearch:s=""}={})=>Tr(Cd,()=>s),Za=()=>location.pathname,kd=({ssrPath:s}={})=>Tr(Za,s?()=>s:Za),Td=(s,{replace:t=!1,state:n=null}={})=>history[t?la:ra](n,"",s),Ed=(s={})=>[kd(s),Td],Ja=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Ja]>"u"){for(const s of[ra,la]){const t=history[s];history[s]=function(){const n=t.apply(this,arguments),a=new Event(s);return a.arguments=arguments,dispatchEvent(a),n}}Object.defineProperty(window,Ja,{value:!0})}const Ad=(s,t)=>t.toLowerCase().indexOf(s.toLowerCase())?"~"+t:t.slice(s.length)||"/",Er=(s="")=>s==="/"?"":s,Pd=(s,t)=>s[0]==="~"?s.slice(1):Er(t)+s,Id=(s="",t)=>Ad(ei(Er(s)),ei(t)),ei=s=>{try{return decodeURI(s)}catch{return s}},Ar={hook:Ed,searchHook:_d,parser:od,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:s=>s},Pr=h.createContext(Ar),_t=()=>h.useContext(Pr),Ir={},Mr=h.createContext(Ir),Md=()=>h.useContext(Mr),rn=s=>{const[t,n]=s.hook(s);return[Id(s.base,t),kr((a,i)=>n(Pd(a,s.base),i))]},Us=()=>rn(_t()),Lr=(s,t,n,a)=>{const{pattern:i,keys:r}=t instanceof RegExp?{keys:!1,pattern:t}:s(t||"*",a),l=i.exec(n)||[],[o,...c]=l;return o!==void 0?[!0,(()=>{const d=r!==!1?Object.fromEntries(r.map((u,x)=>[u,c[x]])):l.groups;let m={...c};return d&&Object.assign(m,d),m})(),...a?[o]:[]]:[!1,null]},Ld=({children:s,...t})=>{const n=_t(),a=t.hook?Ar:n;let i=a;const[r,l]=t.ssrPath?.split("?")??[];l&&(t.ssrSearch=l,t.ssrPath=r),t.hrefs=t.hrefs??t.hook?.hrefs;let o=h.useRef({}),c=o.current,d=c;for(let m in a){const u=m==="base"?a[m]+(t[m]||""):t[m]||a[m];c===d&&u!==d[m]&&(o.current=d={...d}),d[m]=u,u!==a[m]&&(i=d)}return h.createElement(Pr.Provider,{value:i,children:s})},si=({children:s,component:t},n)=>t?h.createElement(t,{params:n}):typeof s=="function"?s(n):s,Dd=s=>{let t=h.useRef(Ir);const n=t.current;return t.current=Object.keys(s).length!==Object.keys(n).length||Object.entries(s).some(([a,i])=>i!==n[a])?s:n},fe=({path:s,nest:t,match:n,...a})=>{const i=_t(),[r]=rn(i),[l,o,c]=n??Lr(i.parser,s,r,t),d=Dd({...Md(),...o});if(!l)return null;const m=c?h.createElement(Ld,{base:c},si(a,d)):si(a,d);return h.createElement(Mr.Provider,{value:d,children:m})},_e=h.forwardRef((s,t)=>{const n=_t(),[a,i]=rn(n),{to:r="",href:l=r,onClick:o,asChild:c,children:d,className:m,replace:u,state:x,...f}=s,p=kr(y=>{y.ctrlKey||y.metaKey||y.altKey||y.shiftKey||y.button!==0||(o?.(y),y.defaultPrevented||(y.preventDefault(),i(l,s)))}),g=n.hrefs(l[0]==="~"?l.slice(1):n.base+l,n);return c&&h.isValidElement(d)?h.cloneElement(d,{onClick:p,href:g}):h.createElement("a",{...f,onClick:p,href:g,className:m?.call?m(a===l):m,children:d,ref:t})}),Dr=s=>Array.isArray(s)?s.flatMap(t=>Dr(t&&t.type===h.Fragment?t.props.children:t)):[s],$d=({children:s,location:t})=>{const n=_t(),[a]=rn(n);for(const i of Dr(s)){let r=0;if(h.isValidElement(i)&&(r=Lr(n.parser,i.props.path,t||a,i.props.nest))[0])return h.cloneElement(i,{match:r})}return null},Rd=1,Od=1e6;let jn=0;function Fd(){return jn=(jn+1)%Number.MAX_SAFE_INTEGER,jn.toString()}const yn=new Map,ti=s=>{if(yn.has(s))return;const t=setTimeout(()=>{yn.delete(s),xt({type:"REMOVE_TOAST",toastId:s})},Od);yn.set(s,t)},zd=(s,t)=>{switch(t.type){case"ADD_TOAST":return{...s,toasts:[t.toast,...s.toasts].slice(0,Rd)};case"UPDATE_TOAST":return{...s,toasts:s.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?ti(n):s.toasts.forEach(a=>{ti(a.id)}),{...s,toasts:s.toasts.map(a=>a.id===n||n===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return t.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(n=>n.id!==t.toastId)}}},qt=[];let Ht={toasts:[]};function xt(s){Ht=zd(Ht,s),qt.forEach(t=>{t(Ht)})}function Bd({...s}){const t=Fd(),n=i=>xt({type:"UPDATE_TOAST",toast:{...i,id:t}}),a=()=>xt({type:"DISMISS_TOAST",toastId:t});return xt({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:i=>{i||a()}}}),{id:t,dismiss:a,update:n}}function qd(){const[s,t]=h.useState(Ht);return h.useEffect(()=>(qt.push(t),()=>{const n=qt.indexOf(t);n>-1&&qt.splice(n,1)}),[s]),{...s,toast:Bd,dismiss:n=>xt({type:"DISMISS_TOAST",toastId:n})}}var oa="ToastProvider",[ca,Hd,Vd]=Ac("Toast"),[$r,S4]=Gs("Toast",[Vd]),[Gd,ln]=$r(oa),Rr=s=>{const{__scopeToast:t,label:n="Notification",duration:a=5e3,swipeDirection:i="right",swipeThreshold:r=50,children:l}=s,[o,c]=h.useState(null),[d,m]=h.useState(0),u=h.useRef(!1),x=h.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${oa}\`. Expected non-empty \`string\`.`),e.jsx(ca.Provider,{scope:t,children:e.jsx(Gd,{scope:t,label:n,duration:a,swipeDirection:i,swipeThreshold:r,toastCount:d,viewport:o,onViewportChange:c,onToastAdd:h.useCallback(()=>m(f=>f+1),[]),onToastRemove:h.useCallback(()=>m(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:x,children:l})})};Rr.displayName=oa;var Or="ToastViewport",Ud=["F8"],On="toast.viewportPause",Fn="toast.viewportResume",Fr=h.forwardRef((s,t)=>{const{__scopeToast:n,hotkey:a=Ud,label:i="Notifications ({hotkey})",...r}=s,l=ln(Or,n),o=Hd(n),c=h.useRef(null),d=h.useRef(null),m=h.useRef(null),u=h.useRef(null),x=Es(t,u,l.onViewportChange),f=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=l.toastCount>0;h.useEffect(()=>{const y=j=>{a.length!==0&&a.every(b=>j[b]||j.code===b)&&u.current?.focus()};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[a]),h.useEffect(()=>{const y=c.current,j=u.current;if(p&&y&&j){const v=()=>{if(!l.isClosePausedRef.current){const T=new CustomEvent(On);j.dispatchEvent(T),l.isClosePausedRef.current=!0}},b=()=>{if(l.isClosePausedRef.current){const T=new CustomEvent(Fn);j.dispatchEvent(T),l.isClosePausedRef.current=!1}},w=T=>{!y.contains(T.relatedTarget)&&b()},C=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",v),y.addEventListener("focusout",w),y.addEventListener("pointermove",v),y.addEventListener("pointerleave",C),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",v),y.removeEventListener("focusout",w),y.removeEventListener("pointermove",v),y.removeEventListener("pointerleave",C),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[p,l.isClosePausedRef]);const g=h.useCallback(({tabbingDirection:y})=>{const v=o().map(b=>{const w=b.ref.current,C=[w,...ih(w)];return y==="forwards"?C:C.reverse()});return(y==="forwards"?v.reverse():v).flat()},[o]);return h.useEffect(()=>{const y=u.current;if(y){const j=v=>{const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const C=document.activeElement,T=v.shiftKey;if(v.target===y&&T){d.current?.focus();return}const P=g({tabbingDirection:T?"backwards":"forwards"}),E=P.findIndex(S=>S===C);bn(P.slice(E+1))?v.preventDefault():T?d.current?.focus():m.current?.focus()}};return y.addEventListener("keydown",j),()=>y.removeEventListener("keydown",j)}},[o,g]),e.jsxs(Pc,{ref:c,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&e.jsx(zn,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});bn(y)}}),e.jsx(ca.Slot,{scope:n,children:e.jsx(Ce.ol,{tabIndex:-1,...r,ref:x})}),p&&e.jsx(zn,{ref:m,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});bn(y)}})]})});Fr.displayName=Or;var zr="ToastFocusProxy",zn=h.forwardRef((s,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:a,...i}=s,r=ln(zr,n);return e.jsx(Ki,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:l=>{const o=l.relatedTarget;!r.viewport?.contains(o)&&a()}})});zn.displayName=zr;var kt="Toast",Wd="toast.swipeStart",Kd="toast.swipeMove",Qd="toast.swipeCancel",Xd="toast.swipeEnd",Br=h.forwardRef((s,t)=>{const{forceMount:n,open:a,defaultOpen:i,onOpenChange:r,...l}=s,[o,c]=an({prop:a,defaultProp:i??!0,onChange:r,caller:kt});return e.jsx(Jn,{present:n||o,children:e.jsx(Jd,{open:o,...l,ref:t,onClose:()=>c(!1),onPause:gt(s.onPause),onResume:gt(s.onResume),onSwipeStart:Me(s.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Me(s.onSwipeMove,d=>{const{x:m,y:u}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:Me(s.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Me(s.onSwipeEnd,d=>{const{x:m,y:u}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),c(!1)})})})});Br.displayName=kt;var[Yd,Zd]=$r(kt,{onClose(){}}),Jd=h.forwardRef((s,t)=>{const{__scopeToast:n,type:a="foreground",duration:i,open:r,onClose:l,onEscapeKeyDown:o,onPause:c,onResume:d,onSwipeStart:m,onSwipeMove:u,onSwipeCancel:x,onSwipeEnd:f,...p}=s,g=ln(kt,n),[y,j]=h.useState(null),v=Es(t,R=>j(R)),b=h.useRef(null),w=h.useRef(null),C=i||g.duration,T=h.useRef(0),B=h.useRef(C),z=h.useRef(0),{onToastAdd:P,onToastRemove:E}=g,S=gt(()=>{y?.contains(document.activeElement)&&g.viewport?.focus(),l()}),N=h.useCallback(R=>{!R||R===1/0||(window.clearTimeout(z.current),T.current=new Date().getTime(),z.current=window.setTimeout(S,R))},[S]);h.useEffect(()=>{const R=g.viewport;if(R){const O=()=>{N(B.current),d?.()},D=()=>{const _=new Date().getTime()-T.current;B.current=B.current-_,window.clearTimeout(z.current),c?.()};return R.addEventListener(On,D),R.addEventListener(Fn,O),()=>{R.removeEventListener(On,D),R.removeEventListener(Fn,O)}}},[g.viewport,C,c,d,N]),h.useEffect(()=>{r&&!g.isClosePausedRef.current&&N(C)},[r,C,g.isClosePausedRef,N]),h.useEffect(()=>(P(),()=>E()),[P,E]);const F=h.useMemo(()=>y?Kr(y):null,[y]);return g.viewport?e.jsxs(e.Fragment,{children:[F&&e.jsx(eh,{__scopeToast:n,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),e.jsx(Yd,{scope:n,onClose:S,children:gr.createPortal(e.jsx(ca.ItemSlot,{scope:n,children:e.jsx(Ic,{asChild:!0,onEscapeKeyDown:Me(o,()=>{g.isFocusedToastEscapeKeyDownRef.current||S(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(Ce.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":r?"open":"closed","data-swipe-direction":g.swipeDirection,...p,ref:v,style:{userSelect:"none",touchAction:"none",...s.style},onKeyDown:Me(s.onKeyDown,R=>{R.key==="Escape"&&(o?.(R.nativeEvent),R.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,S()))}),onPointerDown:Me(s.onPointerDown,R=>{R.button===0&&(b.current={x:R.clientX,y:R.clientY})}),onPointerMove:Me(s.onPointerMove,R=>{if(!b.current)return;const O=R.clientX-b.current.x,D=R.clientY-b.current.y,_=!!w.current,A=["left","right"].includes(g.swipeDirection),W=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,ee=A?W(0,O):0,Ne=A?0:W(0,D),ae=R.pointerType==="touch"?10:2,de={x:ee,y:Ne},U={originalEvent:R,delta:de};_?(w.current=de,It(Kd,u,U,{discrete:!1})):ni(de,g.swipeDirection,ae)?(w.current=de,It(Wd,m,U,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(O)>ae||Math.abs(D)>ae)&&(b.current=null)}),onPointerUp:Me(s.onPointerUp,R=>{const O=w.current,D=R.target;if(D.hasPointerCapture(R.pointerId)&&D.releasePointerCapture(R.pointerId),w.current=null,b.current=null,O){const _=R.currentTarget,A={originalEvent:R,delta:O};ni(O,g.swipeDirection,g.swipeThreshold)?It(Xd,f,A,{discrete:!0}):It(Qd,x,A,{discrete:!0}),_.addEventListener("click",W=>W.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),eh=s=>{const{__scopeToast:t,children:n,...a}=s,i=ln(kt,t),[r,l]=h.useState(!1),[o,c]=h.useState(!1);return nh(()=>l(!0)),h.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),o?null:e.jsx(Mc,{asChild:!0,children:e.jsx(Ki,{...a,children:r&&e.jsxs(e.Fragment,{children:[i.label," ",n]})})})},sh="ToastTitle",qr=h.forwardRef((s,t)=>{const{__scopeToast:n,...a}=s;return e.jsx(Ce.div,{...a,ref:t})});qr.displayName=sh;var th="ToastDescription",Hr=h.forwardRef((s,t)=>{const{__scopeToast:n,...a}=s;return e.jsx(Ce.div,{...a,ref:t})});Hr.displayName=th;var Vr="ToastAction",Gr=h.forwardRef((s,t)=>{const{altText:n,...a}=s;return n.trim()?e.jsx(Wr,{altText:n,asChild:!0,children:e.jsx(da,{...a,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Vr}\`. Expected non-empty \`string\`.`),null)});Gr.displayName=Vr;var Ur="ToastClose",da=h.forwardRef((s,t)=>{const{__scopeToast:n,...a}=s,i=Zd(Ur,n);return e.jsx(Wr,{asChild:!0,children:e.jsx(Ce.button,{type:"button",...a,ref:t,onClick:Me(s.onClick,i.onClose)})})});da.displayName=Ur;var Wr=h.forwardRef((s,t)=>{const{__scopeToast:n,altText:a,...i}=s;return e.jsx(Ce.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...i,ref:t})});function Kr(s){const t=[];return Array.from(s.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&t.push(a.textContent),ah(a)){const i=a.ariaHidden||a.hidden||a.style.display==="none",r=a.dataset.radixToastAnnounceExclude==="";if(!i)if(r){const l=a.dataset.radixToastAnnounceAlt;l&&t.push(l)}else t.push(...Kr(a))}}),t}function It(s,t,n,{discrete:a}){const i=n.originalEvent.currentTarget,r=new CustomEvent(s,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(s,t,{once:!0}),a?Lc(i,r):i.dispatchEvent(r)}var ni=(s,t,n=0)=>{const a=Math.abs(s.x),i=Math.abs(s.y),r=a>i;return t==="left"||t==="right"?r&&a>n:!r&&i>n};function nh(s=()=>{}){const t=gt(s);Wt(()=>{let n=0,a=0;return n=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(a)}},[t])}function ah(s){return s.nodeType===s.ELEMENT_NODE}function ih(s){const t=[],n=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const i=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||i?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function bn(s){const t=document.activeElement;return s.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var rh=Rr,Qr=Fr,Xr=Br,Yr=qr,Zr=Hr,Jr=Gr,el=da;const ai=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,ii=jr,it=(s,t)=>n=>{var a;if(t?.variants==null)return ii(s,n?.class,n?.className);const{variants:i,defaultVariants:r}=t,l=Object.keys(i).map(d=>{const m=n?.[d],u=r?.[d];if(m===null)return null;const x=ai(m)||ai(u);return i[d][x]}),o=n&&Object.entries(n).reduce((d,m)=>{let[u,x]=m;return x===void 0||(d[u]=x),d},{}),c=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((d,m)=>{let{class:u,className:x,...f}=m;return Object.entries(f).every(p=>{let[g,y]=p;return Array.isArray(y)?y.includes({...r,...o}[g]):{...r,...o}[g]===y})?[...d,u,x]:d},[]);return ii(s,l,c,n?.class,n?.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sl=(...s)=>s.filter((t,n,a)=>!!t&&a.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oh={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=h.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:i="",children:r,iconNode:l,...o},c)=>h.createElement("svg",{ref:c,...oh,width:t,height:t,stroke:s,strokeWidth:a?Number(n)*24/Number(t):n,className:sl("lucide",i),...o},[...l.map(([d,m])=>h.createElement(d,m)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=(s,t)=>{const n=h.forwardRef(({className:a,...i},r)=>h.createElement(ch,{ref:r,iconNode:t,className:sl(`lucide-${lh(s)}`,a),...i}));return n.displayName=`${s}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=Q("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=Q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=Q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=Q("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=Q("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=Q("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=Q("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=Q("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=Q("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=Q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=Q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=Q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=Q("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=Q("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=Q("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=Q("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=Q("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=Q("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=Q("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=Q("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=Q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=Q("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=Q("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=Q("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=Q("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=Q("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=Q("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=Q("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=Q("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=Q("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=Q("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=Q("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=Q("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=Q("Hotel",[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=Q("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=Q("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=Q("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=Q("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=Q("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=Q("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=Q("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=Q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=Q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=Q("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=Q("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=Q("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=Q("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=Q("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=Q("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=Q("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=Q("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=Q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=Q("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=Q("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=Q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=Q("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=Q("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=Q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=Q("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=Q("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=Q("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=Q("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=Q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=Q("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=Q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=Q("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=Q("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=Q("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=Q("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=Q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=Q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=Q("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=Q("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=Q("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=Q("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=Q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=Q("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function $(...s){return sd(jr(s))}const Ch=rh,cl=h.forwardRef(({className:s,...t},n)=>e.jsx(Qr,{ref:n,className:$("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s),...t}));cl.displayName=Qr.displayName;const _h=it("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-dark",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),dl=h.forwardRef(({className:s,variant:t,...n},a)=>e.jsx(Xr,{ref:a,className:$(_h({variant:t}),s),...n}));dl.displayName=Xr.displayName;const kh=h.forwardRef(({className:s,...t},n)=>e.jsx(Jr,{ref:n,className:$("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",s),...t}));kh.displayName=Jr.displayName;const hl=h.forwardRef(({className:s,...t},n)=>e.jsx(el,{ref:n,className:$("absolute right-2 top-2 rounded-md p-1 text-dark/50 opacity-0 transition-opacity hover:text-dark focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),"toast-close":"",...t,children:e.jsx(ot,{className:"h-4 w-4"})}));hl.displayName=el.displayName;const ul=h.forwardRef(({className:s,...t},n)=>e.jsx(Yr,{ref:n,className:$("text-sm font-semibold",s),...t}));ul.displayName=Yr.displayName;const ml=h.forwardRef(({className:s,...t},n)=>e.jsx(Zr,{ref:n,className:$("text-sm opacity-90",s),...t}));ml.displayName=Zr.displayName;function Th(){const{toasts:s}=qd();return e.jsxs(Ch,{children:[s.map(function({id:t,title:n,description:a,action:i,...r}){return e.jsxs(dl,{...r,children:[e.jsxs("div",{className:"grid gap-1",children:[n&&e.jsx(ul,{children:n}),a&&e.jsx(ml,{children:a})]}),i,e.jsx(hl,{})]},t)}),e.jsx(cl,{})]})}const Eh={roomNumber:/(?:room(?:\s+number)?|room|phòng)(?:\s*[:#\-]?\s*)([0-9]{1,4}[A-Za-z]?)|(?:staying in|in room|in phòng|phòng số)(?:\s+)([0-9]{1,4}[A-Za-z]?)/i};function oi(s){const t=s.match(Eh.roomNumber);if(t)return t[1]||t[2]||null;const n=s.match(/(?:room details|room number|phòng số)(?:\s*[:#\-]?\s*)([0-9]{1,4}[A-Za-z]?)/i);if(n&&n[1])return n[1];const a=s.match(/(?:details[\s\S]*?room(?:\s+number)?[\s\S]*?)([0-9]{1,4}[A-Za-z]?)/i);return a&&a[1]?a[1]:null}const Ah=!1;let Ie=null;const Ph=async s=>{try{if(console.log("[vapiClient] Initializing Vapi with public key:",s),Ie){console.log("[vapiClient] Cleaning up existing instance");try{Ie.stop()}catch(t){console.log("[vapiClient] Error stopping existing instance:",t)}Ie=null}return console.log("[vapiClient] Creating new Vapi instance"),Ie=new td(s),Ie.on("call-start",()=>{console.log("[vapiClient] Call started")}),Ie.on("call-end",()=>{console.log("[vapiClient] Call ended")}),Ie.on("speech-start",()=>{console.log("[vapiClient] Speech started")}),Ie.on("speech-end",()=>{console.log("[vapiClient] Speech ended")}),Ie.on("volume-level",t=>{console.log(`[vapiClient] Volume level: ${t}`)}),Ie.on("message",t=>{console.log("[vapiClient] Message received:",t)}),Ie.on("error",t=>{console.error("[vapiClient] Error:",t)}),console.log("[vapiClient] Vapi instance created successfully"),Ie}catch(t){throw console.error("[vapiClient] Failed to initialize Vapi:",t),Ie=null,t}},Mt=()=>Ie,Ih=()=>{if(console.log("[vapiClient] Resetting Vapi instance"),Ie){try{Ie.stop()}catch(s){console.log("[vapiClient] Error stopping instance during reset:",s)}Ie=null}};var hn=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},un=typeof window>"u"||"Deno"in globalThis;function Je(){}function Mh(s,t){return typeof s=="function"?s(t):s}function Lh(s){return typeof s=="number"&&s>=0&&s!==1/0}function Dh(s,t){return Math.max(s+(t||0)-Date.now(),0)}function ci(s,t){return typeof s=="function"?s(t):s}function $h(s,t){return typeof s=="function"?s(t):s}function di(s,t){const{type:n="all",exact:a,fetchStatus:i,predicate:r,queryKey:l,stale:o}=s;if(l){if(a){if(t.queryHash!==wa(l,t.options))return!1}else if(!bt(t.queryKey,l))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||i&&i!==t.state.fetchStatus||r&&!r(t))}function hi(s,t){const{exact:n,status:a,predicate:i,mutationKey:r}=s;if(r){if(!t.options.mutationKey)return!1;if(n){if(yt(t.options.mutationKey)!==yt(r))return!1}else if(!bt(t.options.mutationKey,r))return!1}return!(a&&t.state.status!==a||i&&!i(t))}function wa(s,t){return(t?.queryKeyHashFn||yt)(s)}function yt(s){return JSON.stringify(s,(t,n)=>Hn(n)?Object.keys(n).sort().reduce((a,i)=>(a[i]=n[i],a),{}):n)}function bt(s,t){return s===t?!0:typeof s!=typeof t?!1:s&&t&&typeof s=="object"&&typeof t=="object"?Object.keys(t).every(n=>bt(s[n],t[n])):!1}function xl(s,t){if(s===t)return s;const n=ui(s)&&ui(t);if(n||Hn(s)&&Hn(t)){const a=n?s:Object.keys(s),i=a.length,r=n?t:Object.keys(t),l=r.length,o=n?[]:{};let c=0;for(let d=0;d<l;d++){const m=n?d:r[d];(!n&&a.includes(m)||n)&&s[m]===void 0&&t[m]===void 0?(o[m]=void 0,c++):(o[m]=xl(s[m],t[m]),o[m]===s[m]&&s[m]!==void 0&&c++)}return i===l&&c===i?s:o}return t}function C4(s,t){if(!t||Object.keys(s).length!==Object.keys(t).length)return!1;for(const n in s)if(s[n]!==t[n])return!1;return!0}function ui(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function Hn(s){if(!mi(s))return!1;const t=s.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!mi(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function mi(s){return Object.prototype.toString.call(s)==="[object Object]"}function Rh(s){return new Promise(t=>{setTimeout(t,s)})}function Oh(s,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(s,t):n.structuralSharing!==!1?xl(s,t):t}function Fh(s,t,n=0){const a=[...s,t];return n&&a.length>n?a.slice(1):a}function zh(s,t,n=0){const a=[t,...s];return n&&a.length>n?a.slice(0,-1):a}var Na=Symbol();function pl(s,t){return!s.queryFn&&t?.initialPromise?()=>t.initialPromise:!s.queryFn||s.queryFn===Na?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn}function _4(s,t){return typeof s=="function"?s(...t):!!s}var Bh=class extends hn{#e;#s;#t;constructor(){super(),this.#t=s=>{if(!un&&window.addEventListener){const t=()=>s();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#s||this.setEventListener(this.#t)}onUnsubscribe(){this.hasListeners()||(this.#s?.(),this.#s=void 0)}setEventListener(s){this.#t=s,this.#s?.(),this.#s=s(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(s){this.#e!==s&&(this.#e=s,this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(t=>{t(s)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},fl=new Bh,qh=class extends hn{#e=!0;#s;#t;constructor(){super(),this.#t=s=>{if(!un&&window.addEventListener){const t=()=>s(!0),n=()=>s(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#s||this.setEventListener(this.#t)}onUnsubscribe(){this.hasListeners()||(this.#s?.(),this.#s=void 0)}setEventListener(s){this.#t=s,this.#s?.(),this.#s=s(this.setOnline.bind(this))}setOnline(s){this.#e!==s&&(this.#e=s,this.listeners.forEach(n=>{n(s)}))}isOnline(){return this.#e}},Xt=new qh;function Hh(){let s,t;const n=new Promise((i,r)=>{s=i,t=r});n.status="pending",n.catch(()=>{});function a(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{a({status:"fulfilled",value:i}),s(i)},n.reject=i=>{a({status:"rejected",reason:i}),t(i)},n}function Vh(s){return Math.min(1e3*2**s,3e4)}function gl(s){return(s??"online")==="online"?Xt.isOnline():!0}var vl=class extends Error{constructor(s){super("CancelledError"),this.revert=s?.revert,this.silent=s?.silent}};function Nn(s){return s instanceof vl}function jl(s){let t=!1,n=0,a=!1,i;const r=Hh(),l=g=>{a||(x(new vl(g)),s.abort?.())},o=()=>{t=!0},c=()=>{t=!1},d=()=>fl.isFocused()&&(s.networkMode==="always"||Xt.isOnline())&&s.canRun(),m=()=>gl(s.networkMode)&&s.canRun(),u=g=>{a||(a=!0,s.onSuccess?.(g),i?.(),r.resolve(g))},x=g=>{a||(a=!0,s.onError?.(g),i?.(),r.reject(g))},f=()=>new Promise(g=>{i=y=>{(a||d())&&g(y)},s.onPause?.()}).then(()=>{i=void 0,a||s.onContinue?.()}),p=()=>{if(a)return;let g;const y=n===0?s.initialPromise:void 0;try{g=y??s.fn()}catch(j){g=Promise.reject(j)}Promise.resolve(g).then(u).catch(j=>{if(a)return;const v=s.retry??(un?0:3),b=s.retryDelay??Vh,w=typeof b=="function"?b(n,j):b,C=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,j);if(t||!C){x(j);return}n++,s.onFail?.(n,j),Rh(w).then(()=>d()?void 0:f()).then(()=>{t?x(j):p()})})};return{promise:r,cancel:l,continue:()=>(i?.(),r),cancelRetry:o,continueRetry:c,canStart:m,start:()=>(m()?p():f().then(p),r)}}var Gh=s=>setTimeout(s,0);function Uh(){let s=[],t=0,n=o=>{o()},a=o=>{o()},i=Gh;const r=o=>{t?s.push(o):i(()=>{n(o)})},l=()=>{const o=s;s=[],o.length&&i(()=>{a(()=>{o.forEach(c=>{n(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||l()}return c},batchCalls:o=>(...c)=>{r(()=>{o(...c)})},schedule:r,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{a=o},setScheduler:o=>{i=o}}}var Re=Uh(),yl=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Lh(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(un?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},Wh=class extends yl{#e;#s;#t;#a;#n;#r;#l;constructor(s){super(),this.#l=!1,this.#r=s.defaultOptions,this.setOptions(s.options),this.observers=[],this.#a=s.client,this.#t=this.#a.getQueryCache(),this.queryKey=s.queryKey,this.queryHash=s.queryHash,this.#e=Qh(this.options),this.state=s.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(s){this.options={...this.#r,...s},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#t.remove(this)}setData(s,t){const n=Oh(this.state.data,s,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(s,t){this.#i({type:"setState",state:s,setStateOptions:t})}cancel(s){const t=this.#n?.promise;return this.#n?.cancel(s),t?t.then(Je).catch(Je):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(s=>$h(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Na||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(s=0){return this.state.isInvalidated||this.state.data===void 0||!Dh(this.state.dataUpdatedAt,s)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(t=>t!==s),this.observers.length||(this.#n&&(this.#l?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#t.notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}fetch(s,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(s&&this.setOptions(s),!this.options.queryFn){const o=this.observers.find(c=>c.options.queryFn);o&&this.setOptions(o.options)}const n=new AbortController,a=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#l=!0,n.signal)})},i=()=>{const o=pl(this.options,t),c={client:this.#a,queryKey:this.queryKey,meta:this.meta};return a(c),this.#l=!1,this.options.persister?this.options.persister(o,c,this):o(c)},r={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:i};a(r),this.options.behavior?.onFetch(r,this),this.#s=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==r.fetchOptions?.meta)&&this.#i({type:"fetch",meta:r.fetchOptions?.meta});const l=o=>{Nn(o)&&o.silent||this.#i({type:"error",error:o}),Nn(o)||(this.#t.config.onError?.(o,this),this.#t.config.onSettled?.(this.state.data,o,this)),this.scheduleGc()};return this.#n=jl({initialPromise:t?.initialPromise,fn:r.fetchFn,abort:n.abort.bind(n),onSuccess:o=>{if(o===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(o)}catch(c){l(c);return}this.#t.config.onSuccess?.(o,this),this.#t.config.onSettled?.(o,this.state.error,this),this.scheduleGc()},onError:l,onFail:(o,c)=>{this.#i({type:"failed",failureCount:o,error:c})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:r.options.retry,retryDelay:r.options.retryDelay,networkMode:r.options.networkMode,canRun:()=>!0}),this.#n.start()}#i(s){const t=n=>{switch(s.type){case"failed":return{...n,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Kh(n.data,this.options),fetchMeta:s.meta??null};case"success":return{...n,data:s.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:s.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=s.error;return Nn(a)&&a.revert&&this.#s?{...this.#s,fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...s.state}}};this.state=t(this.state),Re.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#t.notify({query:this,type:"updated",action:s})})}};function Kh(s,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:gl(t.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function Qh(s){const t=typeof s.initialData=="function"?s.initialData():s.initialData,n=t!==void 0,a=n?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Xh=class extends hn{constructor(s={}){super(),this.config=s,this.#e=new Map}#e;build(s,t,n){const a=t.queryKey,i=t.queryHash??wa(a,t);let r=this.get(i);return r||(r=new Wh({client:s,queryKey:a,queryHash:i,options:s.defaultQueryOptions(t),state:n,defaultOptions:s.getQueryDefaults(a)}),this.add(r)),r}add(s){this.#e.has(s.queryHash)||(this.#e.set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const t=this.#e.get(s.queryHash);t&&(s.destroy(),t===s&&this.#e.delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){Re.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return this.#e.get(s)}getAll(){return[...this.#e.values()]}find(s){const t={exact:!0,...s};return this.getAll().find(n=>di(t,n))}findAll(s={}){const t=this.getAll();return Object.keys(s).length>0?t.filter(n=>di(s,n)):t}notify(s){Re.batch(()=>{this.listeners.forEach(t=>{t(s)})})}onFocus(){Re.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){Re.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},Yh=class extends yl{#e;#s;#t;constructor(s){super(),this.mutationId=s.mutationId,this.#s=s.mutationCache,this.#e=[],this.state=s.state||Zh(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){this.#e.includes(s)||(this.#e.push(s),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){this.#e=this.#e.filter(t=>t!==s),this.scheduleGc(),this.#s.notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#s.remove(this))}continue(){return this.#t?.continue()??this.execute(this.state.variables)}async execute(s){const t=()=>{this.#a({type:"continue"})};this.#t=jl({fn:()=>this.options.mutationFn?this.options.mutationFn(s):Promise.reject(new Error("No mutationFn found")),onFail:(i,r)=>{this.#a({type:"failed",failureCount:i,error:r})},onPause:()=>{this.#a({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#s.canRun(this)});const n=this.state.status==="pending",a=!this.#t.canStart();try{if(n)t();else{this.#a({type:"pending",variables:s,isPaused:a}),await this.#s.config.onMutate?.(s,this);const r=await this.options.onMutate?.(s);r!==this.state.context&&this.#a({type:"pending",context:r,variables:s,isPaused:a})}const i=await this.#t.start();return await this.#s.config.onSuccess?.(i,s,this.state.context,this),await this.options.onSuccess?.(i,s,this.state.context),await this.#s.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,s,this.state.context),this.#a({type:"success",data:i}),i}catch(i){try{throw await this.#s.config.onError?.(i,s,this.state.context,this),await this.options.onError?.(i,s,this.state.context),await this.#s.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,s,this.state.context),i}finally{this.#a({type:"error",error:i})}}finally{this.#s.runNext(this)}}#a(s){const t=n=>{switch(s.type){case"failed":return{...n,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...n,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:s.error,failureCount:n.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Re.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(s)}),this.#s.notify({mutation:this,type:"updated",action:s})})}};function Zh(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Jh=class extends hn{constructor(s={}){super(),this.config=s,this.#e=new Set,this.#s=new Map,this.#t=0}#e;#s;#t;build(s,t,n){const a=new Yh({mutationCache:this,mutationId:++this.#t,options:s.defaultMutationOptions(t),state:n});return this.add(a),a}add(s){this.#e.add(s);const t=Lt(s);if(typeof t=="string"){const n=this.#s.get(t);n?n.push(s):this.#s.set(t,[s])}this.notify({type:"added",mutation:s})}remove(s){if(this.#e.delete(s)){const t=Lt(s);if(typeof t=="string"){const n=this.#s.get(t);if(n)if(n.length>1){const a=n.indexOf(s);a!==-1&&n.splice(a,1)}else n[0]===s&&this.#s.delete(t)}}this.notify({type:"removed",mutation:s})}canRun(s){const t=Lt(s);if(typeof t=="string"){const a=this.#s.get(t)?.find(i=>i.state.status==="pending");return!a||a===s}else return!0}runNext(s){const t=Lt(s);return typeof t=="string"?this.#s.get(t)?.find(a=>a!==s&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Re.batch(()=>{this.#e.forEach(s=>{this.notify({type:"removed",mutation:s})}),this.#e.clear(),this.#s.clear()})}getAll(){return Array.from(this.#e)}find(s){const t={exact:!0,...s};return this.getAll().find(n=>hi(t,n))}findAll(s={}){return this.getAll().filter(t=>hi(s,t))}notify(s){Re.batch(()=>{this.listeners.forEach(t=>{t(s)})})}resumePausedMutations(){const s=this.getAll().filter(t=>t.state.isPaused);return Re.batch(()=>Promise.all(s.map(t=>t.continue().catch(Je))))}};function Lt(s){return s.options.scope?.id}function xi(s){return{onFetch:(t,n)=>{const a=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,r=t.state.data?.pages||[],l=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},c=0;const d=async()=>{let m=!1;const u=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},x=pl(t.options,t.fetchOptions),f=async(p,g,y)=>{if(m)return Promise.reject();if(g==null&&p.pages.length)return Promise.resolve(p);const j={client:t.client,queryKey:t.queryKey,pageParam:g,direction:y?"backward":"forward",meta:t.options.meta};u(j);const v=await x(j),{maxPages:b}=t.options,w=y?zh:Fh;return{pages:w(p.pages,v,b),pageParams:w(p.pageParams,g,b)}};if(i&&r.length){const p=i==="backward",g=p?eu:pi,y={pages:r,pageParams:l},j=g(a,y);o=await f(y,j,p)}else{const p=s??r.length;do{const g=c===0?l[0]??a.initialPageParam:pi(a,o);if(c>0&&g==null)break;o=await f(o,g),c++}while(c<p)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=d}}}function pi(s,{pages:t,pageParams:n}){const a=t.length-1;return t.length>0?s.getNextPageParam(t[a],t,n[a],n):void 0}function eu(s,{pages:t,pageParams:n}){return t.length>0?s.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var su=class{#e;#s;#t;#a;#n;#r;#l;#i;constructor(s={}){this.#e=s.queryCache||new Xh,this.#s=s.mutationCache||new Jh,this.#t=s.defaultOptions||{},this.#a=new Map,this.#n=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#l=fl.subscribe(async s=>{s&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Xt.subscribe(async s=>{s&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#l?.(),this.#l=void 0,this.#i?.(),this.#i=void 0)}isFetching(s){return this.#e.findAll({...s,fetchStatus:"fetching"}).length}isMutating(s){return this.#s.findAll({...s,status:"pending"}).length}getQueryData(s){const t=this.defaultQueryOptions({queryKey:s});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(s){const t=this.defaultQueryOptions(s),n=this.#e.build(this,t),a=n.state.data;return a===void 0?this.fetchQuery(s):(s.revalidateIfStale&&n.isStaleByTime(ci(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(s){return this.#e.findAll(s).map(({queryKey:t,state:n})=>{const a=n.data;return[t,a]})}setQueryData(s,t,n){const a=this.defaultQueryOptions({queryKey:s}),r=this.#e.get(a.queryHash)?.state.data,l=Mh(t,r);if(l!==void 0)return this.#e.build(this,a).setData(l,{...n,manual:!0})}setQueriesData(s,t,n){return Re.batch(()=>this.#e.findAll(s).map(({queryKey:a})=>[a,this.setQueryData(a,t,n)]))}getQueryState(s){const t=this.defaultQueryOptions({queryKey:s});return this.#e.get(t.queryHash)?.state}removeQueries(s){const t=this.#e;Re.batch(()=>{t.findAll(s).forEach(n=>{t.remove(n)})})}resetQueries(s,t){const n=this.#e;return Re.batch(()=>(n.findAll(s).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...s},t)))}cancelQueries(s,t={}){const n={revert:!0,...t},a=Re.batch(()=>this.#e.findAll(s).map(i=>i.cancel(n)));return Promise.all(a).then(Je).catch(Je)}invalidateQueries(s,t={}){return Re.batch(()=>(this.#e.findAll(s).forEach(n=>{n.invalidate()}),s?.refetchType==="none"?Promise.resolve():this.refetchQueries({...s,type:s?.refetchType??s?.type??"active"},t)))}refetchQueries(s,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},a=Re.batch(()=>this.#e.findAll(s).filter(i=>!i.isDisabled()).map(i=>{let r=i.fetch(void 0,n);return n.throwOnError||(r=r.catch(Je)),i.state.fetchStatus==="paused"?Promise.resolve():r}));return Promise.all(a).then(Je)}fetchQuery(s){const t=this.defaultQueryOptions(s);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(ci(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(s){return this.fetchQuery(s).then(Je).catch(Je)}fetchInfiniteQuery(s){return s.behavior=xi(s.pages),this.fetchQuery(s)}prefetchInfiniteQuery(s){return this.fetchInfiniteQuery(s).then(Je).catch(Je)}ensureInfiniteQueryData(s){return s.behavior=xi(s.pages),this.ensureQueryData(s)}resumePausedMutations(){return Xt.isOnline()?this.#s.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#s}getDefaultOptions(){return this.#t}setDefaultOptions(s){this.#t=s}setQueryDefaults(s,t){this.#a.set(yt(s),{queryKey:s,defaultOptions:t})}getQueryDefaults(s){const t=[...this.#a.values()],n={};return t.forEach(a=>{bt(s,a.queryKey)&&Object.assign(n,a.defaultOptions)}),n}setMutationDefaults(s,t){this.#n.set(yt(s),{mutationKey:s,defaultOptions:t})}getMutationDefaults(s){const t=[...this.#n.values()],n={};return t.forEach(a=>{bt(s,a.mutationKey)&&Object.assign(n,a.defaultOptions)}),n}defaultQueryOptions(s){if(s._defaulted)return s;const t={...this.#t.queries,...this.getQueryDefaults(s.queryKey),...s,_defaulted:!0};return t.queryHash||(t.queryHash=wa(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Na&&(t.enabled=!1),t}defaultMutationOptions(s){return s?._defaulted?s:{...this.#t.mutations,...s?.mutationKey&&this.getMutationDefaults(s.mutationKey),...s,_defaulted:!0}}clear(){this.#e.clear(),this.#s.clear()}};async function bl(s){if(!s.ok){const t=await s.text()||s.statusText;throw new Error(`${s.status}: ${t}`)}}async function Ds({url:s,method:t="GET",body:n=void 0}){const a=await fetch(s,{method:t,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});await bl(a);try{return await a.json()}catch{return a}}const tu=({on401:s})=>async({queryKey:t})=>{const n=await fetch(t[0],{credentials:"include"});return await bl(n),await n.json()};new su({defaultOptions:{queries:{queryFn:tu({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});const nu={"hotel-manager":{dashboard:["view","edit","view_client_interface"],analytics:["view","export","advanced","view_advanced"],billing:["view","edit"],staff:["view","edit","delete","invite","manage"],settings:["view","edit"],calls:["view","join","transfer","end","override"],system:["view","monitor"],assistant:["configure","manage"],notifications:["view","manage"],requests:["view","manage"],guests:["view","manage"],security:["view","manage"],integrations:["view","manage"],logs:["view","export"]},"front-desk":{dashboard:["view"],calls:["view","join","transfer","end"],analytics:["view_basic"],profile:["view","edit"],guests:["view","edit","checkin","checkout","manage"],requests:["view","manage"],notifications:["view"],system:[]},"it-manager":{dashboard:["view"],system:["view","edit","debug","restart","monitor"],integrations:["view","edit","test","manage"],logs:["view","export","debug"],calls:["view","debug"],analytics:["view","technical"],billing:[],staff:[],security:["view","manage"],notifications:["view"]}},fi=s=>{const t=nu[s],n=[];for(const[a,i]of Object.entries(t))for(const r of i)n.push({module:a,action:r,allowed:!0});return n},wl=h.createContext(void 0),De=()=>{const s=h.useContext(wl);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s},gi=s=>{switch(s){case"admin":case"manager":case"hotel-manager":return"hotel-manager";case"staff":case"front-desk":return"front-desk";case"it":case"tech":case"it-manager":return"it-manager";default:return"front-desk"}},au=({children:s})=>{console.log("[DEBUG] AuthProvider render");const[t,n]=h.useState(null),[a,i]=h.useState(null),[r,l]=h.useState(!0);h.useEffect(()=>{console.log("[DEBUG] AuthProvider useEffect - checking token");const u=localStorage.getItem("token");if(!u){console.log("[DEBUG] AuthProvider - no token found, setting loading false"),l(!1);return}try{console.log("[DEBUG] AuthProvider - decoding token");const x=Wa(u);console.log("[DEBUG] AuthProvider - token decoded:",x);const f=gi(x.role),p={id:x.username,name:x.username,email:x.username,tenantId:x.tenantId,role:f,permissions:fi(f)},g={id:x.tenantId,hotelName:"Mi Nhon Hotel",subdomain:"minhonmuine",subscriptionPlan:"premium",subscriptionStatus:"active"};n(p),i(g)}catch(x){console.log("[DEBUG] AuthProvider - token decode error:",x),localStorage.removeItem("token")}finally{console.log("[DEBUG] AuthProvider - setting loading false"),l(!1)}},[]);const o=h.useCallback(async(u,x)=>{l(!0);try{const f=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:u,password:x})});if(!f.ok)throw new Error("Sai tài khoản hoặc mật khẩu");const p=await f.json();if(!p.token)throw new Error("Không nhận được token từ server");localStorage.setItem("token",p.token);const g=Wa(p.token),y=gi(g.role),j={id:g.username,name:g.username,email:g.username,tenantId:g.tenantId,role:y,permissions:fi(y)},v={id:g.tenantId,hotelName:"Mi Nhon Hotel",subdomain:"minhonmuine",subscriptionPlan:"premium",subscriptionStatus:"active"};n(j),i(v)}catch(f){throw localStorage.removeItem("token"),n(null),i(null),f}finally{l(!1)}},[]),c=h.useCallback(()=>{console.log("[DEBUG] AuthProvider logout called"),n(null),i(null),localStorage.removeItem("token"),window.location.href="/login"},[]),d=h.useCallback((u,x)=>!t||!t.permissions?!1:t.permissions.some(f=>f.module===u&&f.action===x&&f.allowed),[t]),m=h.useCallback(u=>t?.role===u,[t]);return console.log("[DEBUG] AuthProvider state:",{user:t,tenant:a,isLoading:r}),e.jsx(wl.Provider,{value:{user:t,tenant:a,isLoading:r,login:o,logout:c,isAuthenticated:!!t,refreshAuth:async()=>{},hasFeature:()=>!1,hasRole:m,hasPermission:d,isWithinLimits:()=>!0},children:s})},Nl=()=>{const[s,t]=h.useState(null);return h.useEffect(()=>{if(typeof window>"u")return;const n=window.location.hostname,a=n==="localhost"||n==="127.0.0.1",i=/^\d+\.\d+\.\d+\.\d+$/.test(n),r=n==="talk2go.online"||n==="www.talk2go.online";let l=null,o=!1,c;if(!a&&!i&&!r)if(n.includes(".talk2go.online")){const m=n.split(".");m.length>2&&(l=m[0],o=!0)}else c=n,o=!1;t({subdomain:l,isMiNhon:a||n==="minhotel.talk2go.online"||n==="talk2go.online"||n==="www.talk2go.online"||l==="minhon",isSubdomain:o,customDomain:c})},[]),s},Dt={hotelName:"Mi Nhon Hotel Mui Ne",logoUrl:"/assets/references/images/minhon-logo.jpg",primaryColor:"#2C3E50",headerText:"Mi Nhon Hotel Mui Ne",vapiPublicKey:"",vapiAssistantId:"",branding:{logo:"/assets/references/images/minhon-logo.jpg",colors:{primary:"#2C3E50",secondary:"#34495E",accent:"#E74C3C"},fonts:{primary:"Poppins",secondary:"Inter"}},features:{callHistory:!0,multiLanguage:!0,analytics:!0,customization:!0},services:[{type:"room_service",name:"Room Service",enabled:!0},{type:"concierge",name:"Concierge",enabled:!0},{type:"housekeeping",name:"Housekeeping",enabled:!0},{type:"maintenance",name:"Maintenance",enabled:!0},{type:"restaurant",name:"Restaurant",enabled:!0}],supportedLanguages:["en","fr","zh","ru","ko","vi"]},ct=()=>{console.log("[DEBUG] useHotelConfiguration hook called");const[s,t]=h.useState(null),[n,a]=h.useState(!0),[i,r]=h.useState(null);Nl();const l=()=>{const c=window.location.hostname;if(c==="localhost"||c==="127.0.0.1")return{type:"default",identifier:"mi-nhon-hotel"};const m=c.split(".");return m.length>=3&&m[m.length-2]==="talk2go"&&m[m.length-1]==="online"?{type:"subdomain",identifier:m[0]}:{type:"custom",identifier:c}},o=h.useCallback(async()=>{console.log("[DEBUG] loadConfiguration called");try{a(!0),r(null);const{type:c,identifier:d}=l();if(console.log("[DEBUG] extractHotelIdentifier",{type:c,identifier:d}),c==="default"){t(Dt);return}if(c==="subdomain"){const m=`/api/hotels/by-subdomain/${d}`;console.log("[DEBUG] Fetching hotel config from",m);try{const u=await fetch(m);if(console.log("[DEBUG] fetch response",u),!u.ok)throw new Error("Failed to load hotel configuration");const x=await u.json();console.log("[DEBUG] hotelData",x),t({hotelName:x.name,logoUrl:x.branding.logo,primaryColor:x.branding.primaryColor,headerText:x.name,vapiPublicKey:"",vapiAssistantId:"",branding:{...x.branding,colors:{primary:x.branding.primaryColor||"#2C3E50",secondary:x.branding.secondaryColor||"#34495E",accent:x.branding.accentColor||"#E74C3C"},fonts:{primary:x.branding.PrimaryFont||"Inter",secondary:x.branding.SecondaryFont||"Roboto"}},features:x.features,services:x.services,supportedLanguages:x.supportedLanguages});return}catch(u){console.error("[DEBUG] fetch hotel config error",u),t(Dt);return}}t(Dt)}catch(c){r(c instanceof Error?c.message:"Failed to load configuration"),t(Dt)}finally{a(!1)}},[]);return h.useEffect(()=>{o()},[o]),{config:s,isLoading:n,error:i,reload:o,isMiNhon:!1}},iu=(s,t)=>{if(t.hotelName==="Mi Nhon Hotel Mui Ne")switch(s){case"fr":return t.vapiPublicKey;case"zh":return t.vapiPublicKey;case"ru":return t.vapiPublicKey;case"ko":return t.vapiPublicKey;case"vi":return t.vapiPublicKey;case"en":default:return t.vapiPublicKey}return t.vapiPublicKey||void 0},ru=(s,t)=>{if(t.hotelName==="Mi Nhon Hotel Mui Ne")switch(s){case"fr":return t.vapiAssistantId;case"zh":return t.vapiAssistantId;case"ru":return t.vapiAssistantId;case"ko":return t.vapiAssistantId;case"vi":return t.vapiAssistantId;case"en":default:return t.vapiAssistantId}return t.vapiAssistantId||void 0},lu={orderType:"Room Service",deliveryTime:"asap",roomNumber:"",guestName:"",guestEmail:"",guestPhone:"",specialInstructions:"",items:[{id:"1",name:"Club Sandwich",description:"Served with french fries and side salad",quantity:1,price:15},{id:"2",name:"Fresh Orange Juice",description:"Large size",quantity:1,price:8}],totalAmount:23},Sl=h.createContext(void 0);function ou({children:s}){console.log("[DEBUG] AssistantProvider render");const[t,n]=h.useState("interface1"),a=ne=>{console.log("[AssistantContext] 🔄 setCurrentInterface called:",{from:t,to:ne}),ne==="interface1"&&(Ih(),r([]),o(null),d(null),u(null),f(0),g(null),j(!1),b(null),C([]),B(null),P(!1)),n(ne),console.log("[AssistantContext] ✅ setCurrentInterface executed:",ne)},[i,r]=h.useState([]),[l,o]=h.useState(null),[c,d]=h.useState(null),[m,u]=h.useState(null),[x,f]=h.useState(0),[p,g]=h.useState(null),[y,j]=h.useState(!1),[v,b]=h.useState(null),[w,C]=h.useState([]),[T,B]=h.useState(null),[z,P]=h.useState(!1),[E,S]=h.useState(null),[N,F]=h.useState(()=>{if(typeof window>"u")return[];try{const ne=localStorage.getItem("activeOrders");return ne?JSON.parse(ne).map(Se=>({...Se,requestedAt:new Date(Se.requestedAt)})):[]}catch(ne){return console.error("Failed to parse activeOrders from localStorage",ne),[]}}),[R,O]=h.useState(0),[D,_]=h.useState([]),[A,W]=h.useState("en"),[ee,Ne]=h.useState(null),[ae,de]=h.useState(null),[U,ie]=h.useState(null),$e=ne=>{console.log("🔄 AssistantContext: setCurrentInterface called with:",ne),console.log("🔄 Previous interface:",t),a(ne),console.log("✅ AssistantContext: setCurrentInterface completed")},H=ne=>{console.log("🗑️ AssistantContext: setOrder called with:",ne),console.log("🗑️ Previous order:",m),u(ne),console.log("✅ AssistantContext: setOrder completed")};h.useEffect(()=>{if(!(typeof window>"u"))try{localStorage.setItem("activeOrders",JSON.stringify(N))}catch{console.error("Failed to persist activeOrders to localStorage")}},[N]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - currentInterface changed to:",t),console.log("[DEBUG] AssistantProvider - timestamp:",new Date().toISOString())},[t]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - order changed to:",m),console.log("[DEBUG] AssistantProvider - order reference:",m?.reference),console.log("[DEBUG] AssistantProvider - timestamp:",new Date().toISOString())},[m]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - activeOrders changed:",N.length),console.log("[DEBUG] AssistantProvider - activeOrders:",N)},[N]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - hotelConfig changed:",ee?"loaded":"null")},[ee]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - language changed to:",A)},[A]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - callDetails changed:",c?"active":"null")},[c]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - transcripts count:",i.length)},[i]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - orderSummary changed:",l?"has summary":"null")},[l]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - callSummary changed:",v?"has summary":"null")},[v]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - serviceRequests count:",w.length)},[w]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - modelOutput count:",D.length)},[D]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - micLevel:",R)},[R]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - isMuted:",y)},[y]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - callDuration:",x)},[x]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - emailSentForCurrentSession:",z)},[z]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - requestReceivedAt:",E)},[E]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - vietnameseSummary:",T?"has summary":"null")},[T]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - tenantId:",ae)},[ae]),h.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - tenantConfig:",U?"loaded":"null")},[U]);const te=ne=>{F(he=>[...he,{...ne,status:ne.status||"Đã ghi nhận"}])},pe=xe.useCallback(ne=>{const he={...ne,id:Date.now(),callId:c?.id||`call-${Date.now()}`,timestamp:new Date,tenantId:ae||"default"};r(Te=>[...Te,he]),(async()=>{try{const Te=await fetch("/api/transcripts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({callId:he.callId,role:he.role,content:he.content,tenantId:he.tenantId})});if(!Te.ok)throw new Error(`Failed to save transcript: ${Te.status}`);const Ee=await Te.json();console.log("Transcript saved to database:",Ee)}catch(Te){console.error("Error saving transcript to server:",Te)}})()},[c?.id,ae]);h.useEffect(()=>((async()=>{try{const he=ee?iu(A,ee):void 0;if(!he)throw new Error("Vapi public key is not configured");const Se=await Ph(he);Se.on("volume-level",se=>{O(se)});const Te=se=>{try{if(typeof window<"u"&&window.WebSocket){const Fe=window.location.origin.replace("http","ws")+"/ws",Ue=new WebSocket(Fe);Ue.onopen=()=>{Ue.send(JSON.stringify({type:"transcript",call_id:se.callId,role:se.role,content:se.content,timestamp:se.timestamp})),Ue.close()},Ue.onerror=gn=>{console.warn("Failed to send transcript to WebSocket:",gn)}}}catch(Fe){console.warn("Error sending transcript to WebSocket:",Fe)}},Ee=async se=>{if(console.log("Raw message received:",se),console.log("Message type:",se.type),console.log("Message role:",se.role),console.log("Message content structure:",{content:se.content,text:se.text,transcript:se.transcript}),se.type==="model-output"){console.log("Model output detected - Full message:",se);const Fe=se.content||se.text||se.transcript||se.output;if(Fe){console.log("Adding model output to conversation:",Fe);const Ue={id:Date.now(),callId:c?.id||`call-${Date.now()}`,role:"assistant",content:Fe,timestamp:new Date,isModelOutput:!0,tenantId:ae||"default"};console.log("Adding new transcript for model output:",Ue),r(gn=>{const Ga=[...gn,Ue];return console.log("Updated transcripts array:",Ga),Ga}),Te(Ue)}else console.warn("Model output message received but no content found:",se)}if(se.type==="transcript"){console.log("Adding transcript:",se);const Fe={id:Date.now(),callId:c?.id||`call-${Date.now()}`,role:se.role,content:se.content||se.transcript||"",timestamp:new Date,tenantId:ae||"default"};r(Ue=>[...Ue,Fe]),Te(Fe)}};Se.on("message",Ee)}catch(he){console.error("Error setting up Vapi:",he)}})(),()=>{const he=Mt();he&&he.stop()}),[A,ee,ae,c?.id]),h.useEffect(()=>{if(t==="interface2"){console.log("Starting call duration timer in interface2");const ne=setInterval(()=>{f(he=>{const Se=he+1;return console.log("Call duration updated:",Se),Se})},1e3);g(ne)}else p&&(console.log("Clearing call duration timer when leaving interface2"),clearInterval(p),g(null));return()=>{p&&(console.log("Cleaning up call duration timer"),clearInterval(p))}},[t,p]);const Ls=()=>{const ne=Mt();ne&&(ne.setMuted(!y),j(!y))},ls=xe.useCallback(async()=>{try{P(!1);const ne=`call-${Date.now()}`;d({id:ne,roomNumber:"",duration:"",category:"",language:"en"}),r([]),_([]);const he=Mt();if(!he){console.error("Vapi instance not initialized");return}const Se=ee?ru(A,ee):void 0;if(!Se){console.error("Assistant ID not configured");return}if(!await he.start(Se)){console.error("Failed to start call - call object is null");return}console.log("Call started successfully"),f(0);const Ee=setInterval(()=>{f(se=>se+1)},1e3);g(Ee),a("interface2")}catch(ne){console.error("Error starting call:",ne)}},[A,ee,ae]),_c=h.useCallback(()=>{try{const ne=Mt();ne&&ne.stop();const he=()=>{p&&(clearInterval(p),g(null)),o(lu);const Se=x?`${Math.floor(x/60)}:${(x%60).toString().padStart(2,"0")}`:"0:00",Te=i.map(se=>({role:se.role,content:se.content}));if(Te.length<2){const se={id:Date.now(),callId:c?.id||`call-${Date.now()}`,content:"Call was too short to generate a summary. Please try a more detailed conversation.",timestamp:new Date,tenantId:ae||"default"};b(se);return}const Ee={id:Date.now(),callId:c?.id||`call-${Date.now()}`,content:"Generating AI summary of your conversation...",timestamp:new Date,tenantId:ae||"default"};b(Ee),fetch("/api/store-summary",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({summary:"",transcripts:Te,timestamp:new Date().toISOString(),callId:c?.id||`call-${Date.now()}`,callDuration:Se,forceBasicSummary:Ah,language:A,tenantId:ae||"default"})}).then(se=>{if(!se.ok)throw new Error(`Network response was not ok: ${se.status}`);return se.json()}).then(se=>{if(se.success&&se.summary&&se.summary.content){const Fe=se.summary.content;Ua.unstable_batchedUpdates(()=>{const Ue={id:Date.now(),callId:c?.id||`call-${Date.now()}`,content:Fe,timestamp:new Date(se.summary.timestamp||Date.now()),tenantId:ae||"default"};b(Ue),se.serviceRequests&&Array.isArray(se.serviceRequests)&&se.serviceRequests.length>0&&C(se.serviceRequests)})}}).catch(se=>{console.error("Error processing summary:",se);const Fe={id:Date.now(),callId:c?.id||`call-${Date.now()}`,content:"An error occurred while generating the call summary.",timestamp:new Date,tenantId:ae||"default"};b(Fe)})};Ua.unstable_batchedUpdates(he)}catch(ne){console.error("Error in endCall:",ne),a("interface1")}},[p,x,i,c,b,a,C,A,ae]),kc=async ne=>{try{console.log("Requesting Vietnamese translation for summary...");const he=await fetch("/api/translate-to-vietnamese",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:ne})});if(!he.ok)throw new Error(`Network response was not ok: ${he.status}`);const Se=await he.json();if(Se.success&&Se.translatedText)return B(Se.translatedText),Se.translatedText;throw new Error("Translation failed")}catch(he){return console.error("Error translating to Vietnamese:",he),"Không thể dịch nội dung này sang tiếng Việt. Vui lòng thử lại sau."}},Tc=ne=>{_(he=>[...he,ne])};h.useEffect(()=>{let ne=null;const he=async()=>{try{const Se=await fetch("/api/orders");if(!Se.ok)return;const Te=await Se.json();console.log("[AssistantContext] Fetched orders from API:",Te),Array.isArray(Te)&&F(Te.map(Ee=>({reference:Ee.specialInstructions||Ee.reference||Ee.callId||"",requestedAt:Ee.createdAt?new Date(Ee.createdAt):new Date,estimatedTime:Ee.deliveryTime||"",status:Ee.status==="completed"?"Hoàn thiện":Ee.status==="pending"?"Đã ghi nhận":Ee.status,...Ee})))}catch{}};return(t==="interface1"||t==="interface2")&&(he(),ne=setInterval(he,5e3)),()=>{ne&&clearInterval(ne)}},[t]);const Ec={currentInterface:t,setCurrentInterface:$e,transcripts:i,setTranscripts:r,addTranscript:pe,orderSummary:l,setOrderSummary:o,callDetails:c,setCallDetails:d,order:m,setOrder:H,callDuration:x,setCallDuration:f,isMuted:y,toggleMute:Ls,startCall:ls,endCall:_c,callSummary:v,setCallSummary:b,serviceRequests:w,setServiceRequests:C,vietnameseSummary:T,setVietnameseSummary:B,translateToVietnamese:kc,emailSentForCurrentSession:z,setEmailSentForCurrentSession:P,requestReceivedAt:E,setRequestReceivedAt:S,activeOrders:N,addActiveOrder:te,setActiveOrders:F,micLevel:R,modelOutput:D,setModelOutput:_,addModelOutput:Tc,language:A,setLanguage:W,hotelConfig:ee,setHotelConfig:Ne,tenantId:ae,setTenantId:de,tenantConfig:U,setTenantConfig:ie};return e.jsx(Sl.Provider,{value:Ec,children:s})}function us(){const s=h.useContext(Sl);if(s===void 0)throw new Error("useAssistant must be used within an AssistantProvider");return s}const pt={SCROLL_THRESHOLD:300,THROTTLE_DELAY:100,AUTO_SCROLL_DELAY:300,COLORS:{BACKGROUND:"#2C3E50"},SCROLL_OFFSETS:{NEGATIVE_TOP_THRESHOLD:-100}},cu=({isActive:s})=>{const[t,n]=h.useState(!1),a=h.useRef(null),i=h.useRef(null),r=h.useRef(null),l=(d,m)=>{let u,x=0;return(...f)=>{const p=Date.now();p-x>m?(d(...f),x=p):(clearTimeout(u),u=setTimeout(()=>{d(...f),x=Date.now()},m-(p-x)))}};return h.useEffect(()=>{const m=l(()=>{const u=window.scrollY;n(u>pt.SCROLL_THRESHOLD);const x=a.current,f=i.current;if(x&&f){x.getBoundingClientRect();const p=f.getBoundingClientRect();p.top<window.innerHeight&&p.bottom>0&&(p.top<0||p.bottom>window.innerHeight)&&p.top<pt.SCROLL_OFFSETS.NEGATIVE_TOP_THRESHOLD&&f.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}},pt.THROTTLE_DELAY);return window.addEventListener("scroll",m),()=>window.removeEventListener("scroll",m)},[]),h.useEffect(()=>{s||window.scrollTo({top:0,behavior:"smooth"})},[s]),{showScrollButton:t,scrollToTop:()=>{window.scrollTo({top:0,behavior:"smooth"})},scrollToSection:d=>{const u={hero:a,services:i,conversation:r}[d];u.current&&u.current.scrollIntoView({behavior:"smooth",block:d==="hero"?"start":"center",inline:"nearest"})},heroSectionRef:a,serviceGridRef:i,conversationRef:r}},du=({conversationRef:s})=>{const[t,n]=h.useState(!1),[a,i]=h.useState(!1);h.useEffect(()=>{a&&s.current&&setTimeout(()=>{s.current?.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})},pt.AUTO_SCROLL_DELAY)},[a,s]);const r=async c=>{try{return console.log("Starting call with language:",c),await new Promise(d=>setTimeout(d,100)),{success:!0}}catch(d){return console.error("Error in handleCall:",d),{success:!1,error:d instanceof Error?d.message:"Failed to start call"}}};return{isCallStarted:t,showConversation:a,handleCallStart:async c=>{const d=await r(c);return d.success&&(n(!0),i(!0)),d},handleCallEnd:()=>{n(!1),i(!1)}}},Ae={colors:{primary:"#1B4E8B",secondary:"#3B82F6",text:"#FFFFFF",error:"#EF4444"},fonts:{primary:"'Inter', 'Poppins', 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif"},spacing:{xl:"40px"},shadows:{subtle:"0 2px 8px rgba(0, 0, 0, 0.1)",card:"0 4px 16px rgba(0, 0, 0, 0.15)",large:"0 8px 32px rgba(0, 0, 0, 0.2)"},transitions:{normal:"0.3s ease-in-out"},zIndex:{above:1}},hu=()=>e.jsx("div",{className:"absolute w-full min-h-screen h-full flex items-center justify-center z-10",style:{background:`linear-gradient(135deg, ${Ae.colors.primary}, ${Ae.colors.secondary})`,fontFamily:Ae.fonts.primary},children:e.jsxs("div",{className:"text-center p-8 bg-white/10 backdrop-blur-md rounded-2xl",style:{boxShadow:Ae.shadows.card},children:[e.jsx("div",{className:"animate-spin rounded-full border-4 border-white/20 border-t-white mx-auto mb-6",style:{width:"64px",height:"64px"}}),e.jsx("p",{className:"text-white text-lg font-medium",children:"Loading hotel configuration..."})]})}),uu=({error:s})=>e.jsx("div",{className:"absolute w-full min-h-screen h-full flex items-center justify-center z-10",style:{background:`linear-gradient(135deg, ${Ae.colors.primary}, ${Ae.colors.error})`,fontFamily:Ae.fonts.primary},children:e.jsxs("div",{className:"text-center p-8 bg-white/10 backdrop-blur-md rounded-2xl",style:{boxShadow:Ae.shadows.card},children:[e.jsx("div",{className:"text-white text-xl font-semibold mb-4",children:"Failed to load hotel configuration"}),e.jsx("p",{className:"text-white/80",children:s})]})}),mu=({children:s,className:t=""})=>e.jsx("div",{className:`relative min-h-screen w-full scroll-smooth overflow-y-auto ${t}`,style:{fontFamily:Ae.fonts.primary,backgroundColor:pt.COLORS.BACKGROUND},children:e.jsx("div",{className:"container mx-auto px-4 py-8 relative z-10",children:e.jsx("div",{className:"flex flex-col items-center justify-center space-y-8 md:space-y-12",children:s})})}),xu=({title:s="Speak in Multiple Languages",className:t=""})=>e.jsx("div",{className:`text-center space-y-8 ${t}`,children:e.jsx("h1",{className:"hidden md:block text-4xl md:text-5xl font-bold text-center text-white mb-8",style:{textShadow:Ae.shadows.subtle,maxWidth:"800px",lineHeight:1.2},children:s})});var Cl={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},vi=xe.createContext&&xe.createContext(Cl),pu=["attr","size","title"];function fu(s,t){if(s==null)return{};var n=gu(s,t),a,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(s,a)&&(n[a]=s[a])}return n}function gu(s,t){if(s==null)return{};var n={};for(var a in s)if(Object.prototype.hasOwnProperty.call(s,a)){if(t.indexOf(a)>=0)continue;n[a]=s[a]}return n}function Yt(){return Yt=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(s[a]=n[a])}return s},Yt.apply(this,arguments)}function ji(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(s,i).enumerable})),n.push.apply(n,a)}return n}function Zt(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ji(Object(n),!0).forEach(function(a){vu(s,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):ji(Object(n)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(n,a))})}return s}function vu(s,t,n){return t=ju(t),t in s?Object.defineProperty(s,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[t]=n,s}function ju(s){var t=yu(s,"string");return typeof t=="symbol"?t:t+""}function yu(s,t){if(typeof s!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var a=n.call(s,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function _l(s){return s&&s.map((t,n)=>xe.createElement(t.tag,Zt({key:n},t.attr),_l(t.child)))}function Ze(s){return t=>xe.createElement(bu,Yt({attr:Zt({},s.attr)},t),_l(s.child))}function bu(s){var t=n=>{var{attr:a,size:i,title:r}=s,l=fu(s,pu),o=i||n.size||"1em",c;return n.className&&(c=n.className),s.className&&(c=(c?c+" ":"")+s.className),xe.createElement("svg",Yt({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,l,{className:c,style:Zt(Zt({color:s.color||n.color},n.style),s.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),r&&xe.createElement("title",null,r),s.children)};return vi!==void 0?xe.createElement(vi.Consumer,null,n=>t(n)):t(Cl)}function wu(s){return Ze({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M176 256c44.11 0 80-35.89 80-80s-35.89-80-80-80-80 35.89-80 80 35.89 80 80 80zm352-128H304c-8.84 0-16 7.16-16 16v144H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v352c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16v-48h512v48c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V240c0-61.86-50.14-112-112-112z"},child:[]}]})(s)}function Nu(s){return Ze({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"},child:[]}]})(s)}function yi(s){return Ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M288 130.54V112h16c8.84 0 16-7.16 16-16V80c0-8.84-7.16-16-16-16h-96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h16v18.54C115.49 146.11 32 239.18 32 352h448c0-112.82-83.49-205.89-192-221.46zM496 384H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h480c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(s)}function Su(s){return Ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.05 57.6C523.3 36.34 508.25 0 478.2 0H33.8C3.75 0-11.3 36.34 9.95 57.6L224 271.64V464h-56c-22.09 0-40 17.91-40 40 0 4.42 3.58 8 8 8h240c4.42 0 8-3.58 8-8 0-22.09-17.91-40-40-40h-56V271.64L502.05 57.6z"},child:[]}]})(s)}function Cu(s){return Ze({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm-11.34 240.23c-2.89 4.82-8.1 7.77-13.72 7.77h-.31c-4.24 0-8.31 1.69-11.31 4.69l-5.66 5.66c-3.12 3.12-3.12 8.19 0 11.31l5.66 5.66c3 3 4.69 7.07 4.69 11.31V304c0 8.84-7.16 16-16 16h-6.11c-6.06 0-11.6-3.42-14.31-8.85l-22.62-45.23c-2.44-4.88-8.95-5.94-12.81-2.08l-19.47 19.46c-3 3-7.07 4.69-11.31 4.69H50.81C49.12 277.55 48 266.92 48 256c0-110.28 89.72-200 200-200 21.51 0 42.2 3.51 61.63 9.82l-50.16 38.53c-5.11 3.41-4.63 11.06.86 13.81l10.83 5.41c5.42 2.71 8.84 8.25 8.84 14.31V216c0 4.42-3.58 8-8 8h-3.06c-3.03 0-5.8-1.71-7.15-4.42-1.56-3.12-5.96-3.29-7.76-.3l-17.37 28.95zM408 358.43c0 4.24-1.69 8.31-4.69 11.31l-9.57 9.57c-3 3-7.07 4.69-11.31 4.69h-15.16c-4.24 0-8.31-1.69-11.31-4.69l-13.01-13.01a26.767 26.767 0 0 0-25.42-7.04l-21.27 5.32c-1.27.32-2.57.48-3.88.48h-10.34c-4.24 0-8.31-1.69-11.31-4.69l-11.91-11.91a8.008 8.008 0 0 1-2.34-5.66v-10.2c0-3.27 1.99-6.21 5.03-7.43l39.34-15.74c1.98-.79 3.86-1.82 5.59-3.05l23.71-16.89a7.978 7.978 0 0 1 4.64-1.48h12.09c3.23 0 6.15 1.94 7.39 4.93l5.35 12.85a4 4 0 0 0 3.69 2.46h3.8c1.78 0 3.35-1.18 3.84-2.88l4.2-14.47c.5-1.71 2.06-2.88 3.84-2.88h6.06c2.21 0 4 1.79 4 4v12.93c0 2.12.84 4.16 2.34 5.66l11.91 11.91c3 3 4.69 7.07 4.69 11.31v24.6z"},child:[]}]})(s)}function _u(s){return Ze({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 0c-69.59 0-126 56.41-126 126 0 56.26 82.35 158.8 113.9 196.02 6.39 7.54 17.82 7.54 24.2 0C331.65 284.8 414 182.26 414 126 414 56.41 357.59 0 288 0zm0 168c-23.2 0-42-18.8-42-42s18.8-42 42-42 42 18.8 42 42-18.8 42-42 42zM20.12 215.95A32.006 32.006 0 0 0 0 245.66v250.32c0 11.32 11.43 19.06 21.94 14.86L160 448V214.92c-8.84-15.98-16.07-31.54-21.25-46.42L20.12 215.95zM288 359.67c-14.07 0-27.38-6.18-36.51-16.96-19.66-23.2-40.57-49.62-59.49-76.72v182l192 64V266c-18.92 27.09-39.82 53.52-59.49 76.72-9.13 10.77-22.44 16.95-36.51 16.95zm266.06-198.51L416 224v288l139.88-55.95A31.996 31.996 0 0 0 576 426.34V176.02c0-11.32-11.43-19.06-21.94-14.86z"},child:[]}]})(s)}function ku(s){return Ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"},child:[]}]})(s)}function Tu(s){return Ze({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M568.25 192c-29.04.13-135.01 6.16-213.84 83-33.12 29.63-53.36 63.3-66.41 94.86-13.05-31.56-33.29-65.23-66.41-94.86-78.83-76.84-184.8-82.87-213.84-83-4.41-.02-7.79 3.4-7.75 7.82.23 27.92 7.14 126.14 88.77 199.3C172.79 480.94 256 480 288 480s115.19.95 199.23-80.88c81.64-73.17 88.54-171.38 88.77-199.3.04-4.42-3.34-7.84-7.75-7.82zM287.98 302.6c12.82-18.85 27.6-35.78 44.09-50.52 19.09-18.61 39.58-33.3 60.26-45.18-16.44-70.5-51.72-133.05-96.73-172.22-4.11-3.58-11.02-3.58-15.14 0-44.99 39.14-80.27 101.63-96.74 172.07 20.37 11.7 40.5 26.14 59.22 44.39a282.768 282.768 0 0 1 45.04 51.46z"},child:[]}]})(s)}function Eu(s){return Ze({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 416h-16c-26.04 0-45.8-8.42-56.09-17.9-8.9-8.21-19.66-14.1-31.77-14.1h-16.3c-12.11 0-22.87 5.89-31.77 14.1C461.8 407.58 442.04 416 416 416s-45.8-8.42-56.09-17.9c-8.9-8.21-19.66-14.1-31.77-14.1h-16.3c-12.11 0-22.87 5.89-31.77 14.1C269.8 407.58 250.04 416 224 416s-45.8-8.42-56.09-17.9c-8.9-8.21-19.66-14.1-31.77-14.1h-16.3c-12.11 0-22.87 5.89-31.77 14.1C77.8 407.58 58.04 416 32 416H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h16c38.62 0 72.72-12.19 96-31.84 23.28 19.66 57.38 31.84 96 31.84s72.72-12.19 96-31.84c23.28 19.66 57.38 31.84 96 31.84s72.72-12.19 96-31.84c23.28 19.66 57.38 31.84 96 31.84h16c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zm-400-32v-96h192v96c19.12 0 30.86-6.16 34.39-9.42 9.17-8.46 19.2-14.34 29.61-18.07V128c0-17.64 14.36-32 32-32s32 14.36 32 32v16c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16v-16c0-52.94-43.06-96-96-96s-96 43.06-96 96v96H224v-96c0-17.64 14.36-32 32-32s32 14.36 32 32v16c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16v-16c0-52.94-43.06-96-96-96s-96 43.06-96 96v228.5c10.41 3.73 20.44 9.62 29.61 18.07 3.53 3.27 15.27 9.43 34.39 9.43z"},child:[]}]})(s)}function Au(s){return Ze({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462 241.64l-22-84.84c-9.6-35.2-41.6-60.8-76.8-60.8H352V64c0-17.67-14.33-32-32-32H192c-17.67 0-32 14.33-32 32v32h-11.2c-35.2 0-67.2 25.6-76.8 60.8l-22 84.84C21.41 248.04 0 273.47 0 304v48c0 23.63 12.95 44.04 32 55.12V448c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-32h256v32c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-40.88c19.05-11.09 32-31.5 32-55.12v-48c0-30.53-21.41-55.96-50-62.36zM96 352c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm20.55-112l17.2-66.36c2.23-8.16 9.59-13.64 15.06-13.64h214.4c5.47 0 12.83 5.48 14.85 12.86L395.45 240h-278.9zM416 352c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(s)}function Pu(s){return Ze({attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"},child:[]}]})(s)}const $t=[{name:"Room Service",icon:wu,description:"In-room dining and housekeeping services"},{name:"Restaurant",icon:Pu,description:"Hotel restaurants and dining options"},{name:"Concierge",icon:yi,description:"Concierge and guest services"},{name:"Pool & Gym",icon:Eu,description:"Swimming pool and fitness facilities"},{name:"Spa & Wellness",icon:Tu,description:"Spa treatments and wellness services"},{name:"Bar & Lounge",icon:Su,description:"Hotel bars and lounges"},{name:"Transportation",icon:Au,description:"Transportation and taxi services"},{name:"Local Guide",icon:_u,description:"Local area guide and information"},{name:"Reception",icon:ku,description:"Front desk and reception services"},{name:"Guest Services",icon:yi,description:"Additional guest services"}],Iu=()=>e.jsxs("div",{className:"w-full max-w-full",children:[e.jsx("div",{className:"block md:hidden space-y-4 px-4 py-6",children:$t.map((s,t)=>{const n=s.icon;return e.jsxs("div",{className:"flex items-center space-x-4 p-4 rounded-xl",style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",transition:Ae.transitions.normal,cursor:"pointer",boxShadow:Ae.shadows.card},children:[e.jsx("div",{className:"text-white flex-shrink-0",children:e.jsx(n,{size:32})}),e.jsxs("div",{className:"text-white",children:[e.jsx("div",{className:"font-medium text-lg",children:s.name}),s.description&&e.jsx("div",{className:"text-sm text-gray-300 mt-1",children:s.description})]})]},t)})}),e.jsxs("div",{className:"hidden md:block w-full max-w-6xl mx-auto px-6 py-8",children:[e.jsx("div",{className:"grid grid-cols-5 gap-4 mb-4",children:$t.slice(0,5).map((s,t)=>{const n=s.icon;return e.jsxs("div",{className:"relative group w-full h-32 flex flex-col items-center justify-center p-4 rounded-xl cursor-pointer transition-all duration-300 hover:scale-105",style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:Ae.shadows.card},children:[e.jsx("div",{className:"text-white mb-2",children:e.jsx(n,{size:28})}),e.jsx("div",{className:"text-white text-center text-sm font-medium",children:s.name}),s.description&&e.jsx("div",{className:"absolute inset-0 bg-black/80 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center p-3 text-white text-xs text-center rounded-xl",children:s.description})]},t)})}),$t.length>5&&e.jsx("div",{className:"grid grid-cols-5 gap-4",children:$t.slice(5).map((s,t)=>{const n=s.icon;return e.jsxs("div",{className:"relative group w-full h-32 flex flex-col items-center justify-center p-4 rounded-xl cursor-pointer transition-all duration-300 hover:scale-105",style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:Ae.shadows.card},children:[e.jsx("div",{className:"text-white mb-2",children:e.jsx(n,{size:28})}),e.jsx("div",{className:"text-white text-center text-sm font-medium",children:s.name}),s.description&&e.jsx("div",{className:"absolute inset-0 bg-black/80 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center p-3 text-white text-xs text-center rounded-xl",children:s.description})]},t+5)})})]})]}),kl=h.forwardRef(({className:s=""},t)=>e.jsx("div",{ref:t,className:`w-full max-w-full ${s}`,children:e.jsx(Iu,{})}));kl.displayName="ServiceGridContainer";const Mu="Hotel Mui Ne",Lu="AI-powered Voice Assistant - Supporting All Your Needs",Du="Tap To Speak",$u="Room & Stay",Ru="Room Services",Ou="Bookings & Facilities",Fu="Tourism & Exploration",zu="Support to book external services",Bu="Order Ref",qu="Requested At",Hu="Estimated Completion",Vu="Time Remaining",Gu="Mute",Uu="Unmute",Wu="Confirm",Ku="Please speak to the assistant first.",Qu="Tap to speak",Xu="Order Summary",Yu="Confirm",Zu="Add Note",Ju="Room Number",em="Enter room number",sm="Enter additional notes",tm="Summary",nm="Generated at",am="Order Confirmed!",im="Your request has been confirmed and forwarded to our staff. They will process it right away.",rm="Order Reference",lm="Estimated delivery time:",om="Return to Home",cm="Language",dm="English",hm="French",um="Send",mm="Cancel",xm="End Call",pm="Room",fm="Order ID",gm="Guest Name",vm="Content",jm="Time",ym="Status",bm="Action",wm="Message Guest",Nm="Staff Request Management",Sm="Login",Cm="Username",_m="Password",km="Tap the call button to start your request.",Tm="Review and confirm your request for accuracy.",Em="Your request will be sent to the reception for processing.",Am="Acknowledged",Pm="In Progress",Im="Delivering to You",Mm="Completed",Lm="Special Note",Dm="Check-in/Check-out",$m="Extended Stay Request",Rm="Room Information",Om="Hotel Policies",Fm="Wi-Fi Services",zm="Room Service Food",Bm="Drinks & Bar Service",qm="Room Cleaning",Hm="Laundry Service",Vm="Wake-up Call",Gm="Additional Amenities",Um="Maintenance Request",Wm="Restaurant Reservation",Km="Spa Services",Qm="Fitness Center",Xm="Swimming Pool",Ym="Car Rental",Zm="Medical Assistance",Jm="Customer Support",ex="Local Attractions",sx="Local Restaurants",tx="Public Transportation",nx="Local Events",ax="Shopping Areas",ix="Area Maps",rx="Translation Services",lx="Leave a Review",ox="Report an Issue",cx="Luggage Services",dx="Generating your summary...",hx="Speak Multiple Languages with Our AI Voice Assistant",ux={hotel_name:Mu,hotel_subtitle:Lu,press_to_call:Du,room_and_stay:$u,room_services:Ru,bookings_and_facilities:Ou,tourism_and_exploration:Fu,support_external_services:zu,order_ref:Bu,requested_at:qu,estimated_completion:Hu,time_remaining:Vu,mute:Gu,unmute:Uu,confirm:Wu,need_conversation:Ku,tap_to_speak:Qu,order_summary:Xu,send_to_reception:Yu,add_note:Zu,room_number:Ju,enter_room_number:em,enter_notes:sm,summary:tm,generated_at:nm,order_confirmed:am,order_confirmed_message:im,order_reference:rm,estimated_delivery_time:lm,return_to_home:om,language:cm,english:dm,french:hm,send:um,cancel:mm,confirm_request:xm,room:pm,order_id:fm,guest_name:gm,content:vm,time:jm,status:ym,action:bm,message_guest:wm,request_management:Nm,login:Sm,username:Cm,password:_m,press_to_call_desc:km,confirm_request_desc:Tm,send_to_reception_desc:Em,status_acknowledged:Am,status_in_progress:Pm,status_delivering:Im,status_completed:Mm,status_note:Lm,icon_login:Dm,icon_hourglass_empty:$m,icon_info:Rm,icon_policy:Om,icon_wifi:Fm,icon_restaurant:zm,icon_local_bar:Bm,icon_cleaning_services:qm,icon_local_laundry_service:Hm,icon_alarm:Vm,icon_add_circle:Gm,icon_build:Um,icon_event_seat:Wm,icon_spa:Km,icon_fitness_center:Qm,icon_pool:Xm,icon_directions_car:Ym,icon_medical_services:Zm,icon_support_agent:Jm,icon_location_on:ex,icon_local_dining:sx,icon_directions_bus:tx,icon_event:nx,icon_shopping_bag:ax,icon_map:ix,icon_translate:rx,icon_rate_review:lx,icon_report_problem:ox,icon_luggage:cx,generating_your_summary:dx,speak_multiple_languages:hx},mx="Bienvenue à Mi Nhon Hotel",xx="Commencer",px="Langue",fx="Anglais",gx="Français",vx="Envoyer",jx="Annuler",yx="Confirmer la demande",bx="Chambre",wx="ID de commande",Nx="Nom du client",Sx="Contenu",Cx="Heure",_x="Statut",kx="Action",Tx="Message au client",Ex="Gestion des demandes du personnel",Ax="Connexion",Px="Nom d'utilisateur",Ix="Mot de passe",Mx="Hotel Mui Ne",Lx="Assistant vocal IA - À votre service pour tous vos besoins",Dx="Appuyez pour appeler",$x="Chambre & Séjour",Rx="Services de chambre",Ox="Réservations & Installations",Fx="Tourisme & Exploration",zx="Assistance pour services externes",Bx="Réf. commande",qx="Demandé à",Hx="Fin estimée",Vx="Temps restant",Gx="Muet",Ux="Rétablir le son",Wx="Confirmer",Kx="Veuillez d'abord parler avec l'assistant.",Qx="Appuyez pour parler",Xx="Récapitulatif de la commande",Yx="Envoyer à la réception",Zx="Ajouter une note",Jx="Numéro de chambre",ep="Saisir le numéro de chambre",sp="Saisir des notes supplémentaires",tp="Résumé",np="Généré à",ap="Commande confirmée !",ip="Votre demande a été confirmée et transmise à notre personnel. Elle sera traitée immédiatement.",rp="Référence de la commande",lp="Heure de livraison estimée :",op="Retour à l'accueil",cp="Appuyez sur le bouton d'appel pour démarrer votre demande.",dp="Vérifiez et confirmez votre demande pour plus de précision.",hp="Votre demande sera envoyée à la réception pour traitement.",up="Reçue",mp="En cours",xp="En livraison",pp="Terminée",fp="Note spéciale",gp="Arrivée/Départ",vp="Prolongation de séjour",jp="Informations sur la chambre",yp="Politiques de l'hôtel",bp="Services Wi-Fi",wp="Service de restauration",Np="Service de bar",Sp="Nettoyage de chambre",Cp="Service de blanchisserie",_p="Service de réveil",kp="Aménités supplémentaires",Tp="Demande de maintenance",Ep="Réservation au restaurant",Ap="Services de spa",Pp="Centre de fitness",Ip="Piscine",Mp="Location de voiture",Lp="Assistance médicale",Dp="Service client",$p="Attractions locales",Rp="Restaurants locaux",Op="Transports publics",Fp="Événements locaux",zp="Zones commerciales",Bp="Cartes de la région",qp="Services de traduction",Hp="Laisser un avis",Vp="Signaler un problème",Gp="Services de bagagerie",Up="Génération de votre résumé...",Wp="Parlez Plusieurs Langues avec Notre Assistant Vocal IA",Kp={welcome:mx,start:xx,language:px,english:fx,french:gx,send:vx,cancel:jx,confirm_request:yx,room:bx,order_id:wx,guest_name:Nx,content:Sx,time:Cx,status:_x,action:kx,message_guest:Tx,request_management:Ex,login:Ax,username:Px,password:Ix,hotel_name:Mx,hotel_subtitle:Lx,press_to_call:Dx,room_and_stay:$x,room_services:Rx,bookings_and_facilities:Ox,tourism_and_exploration:Fx,support_external_services:zx,order_ref:Bx,requested_at:qx,estimated_completion:Hx,time_remaining:Vx,mute:Gx,unmute:Ux,confirm:Wx,need_conversation:Kx,tap_to_speak:Qx,order_summary:Xx,send_to_reception:Yx,add_note:Zx,room_number:Jx,enter_room_number:ep,enter_notes:sp,summary:tp,generated_at:np,order_confirmed:ap,order_confirmed_message:ip,order_reference:rp,estimated_delivery_time:lp,return_to_home:op,press_to_call_desc:cp,confirm_request_desc:dp,send_to_reception_desc:hp,status_acknowledged:up,status_in_progress:mp,status_delivering:xp,status_completed:pp,status_note:fp,icon_login:gp,icon_hourglass_empty:vp,icon_info:jp,icon_policy:yp,icon_wifi:bp,icon_restaurant:wp,icon_local_bar:Np,icon_cleaning_services:Sp,icon_local_laundry_service:Cp,icon_alarm:_p,icon_add_circle:kp,icon_build:Tp,icon_event_seat:Ep,icon_spa:Ap,icon_fitness_center:Pp,icon_pool:Ip,icon_directions_car:Mp,icon_medical_services:Lp,icon_support_agent:Dp,icon_location_on:$p,icon_local_dining:Rp,icon_directions_bus:Op,icon_event:Fp,icon_shopping_bag:zp,icon_map:Bp,icon_translate:qp,icon_rate_review:Hp,icon_report_problem:Vp,icon_luggage:Gp,generating_your_summary:Up,speak_multiple_languages:Wp},Qp="欢迎来到美农酒店 (Mi Nhon Hotel)",Xp="开始",Yp="语言",Zp="英语",Jp="法语",ef="发送",sf="取消",tf="确认请求",nf="房间",af="订单编号",rf="客人姓名",lf="内容",of="时间",cf="状态",df="操作",hf="给客人的消息",uf="员工请求管理",mf="登录",xf="用户名",pf="密码",ff="酒店 Mui Ne",gf="AI语音助手 - 满足您的所有需求",vf="按下呼叫",jf="房间与住宿",yf="客房服务",bf="预订与设施",wf="旅游与探索",Nf="支持外部服务",Sf="订单参考",Cf="请求时间",_f="预计完成时间",kf="剩余时间",Tf="静音",Ef="取消静音",Af="确认",Pf="请先与助手对话。",If="点击说话",Mf="订单摘要",Lf="发送到前台",Df="添加备注",$f="房间号",Rf="输入房间号",Of="输入附加备注",Ff="摘要",zf="生成时间",Bf="订单已确认！",qf="您的请求已确认并发送给我们的员工。我们会立即处理。",Hf="订单参考",Vf="预计送达时间：",Gf="返回首页",Uf="点击呼叫按钮开始您的请求。",Wf="请检查并确认您的请求以确保准确。",Kf="您的请求将被发送到前台进行处理。",Qf="已确认",Xf="处理中",Yf="配送中",Zf="已完成",Jf="特别说明",eg="入住/退房",sg="延长住宿请求",tg="房间信息",ng="酒店政策",ag="无线网络服务",ig="客房餐饮服务",rg="饮品与酒吧服务",lg="房间清洁",og="洗衣服务",cg="唤醒服务",dg="额外设施",hg="维修请求",ug="餐厅预订",mg="水疗服务",xg="健身中心",pg="游泳池",fg="租车服务",gg="医疗援助",vg="客户支持",jg="当地景点",yg="当地餐厅",bg="公共交通",wg="当地活动",Ng="购物区域",Sg="区域地图",Cg="翻译服务",_g="留下评论",kg="报告问题",Tg="行李服务",Eg="正在生成您的摘要...",Ag={welcome:Qp,start:Xp,language:Yp,english:Zp,french:Jp,send:ef,cancel:sf,confirm_request:tf,room:nf,order_id:af,guest_name:rf,content:lf,time:of,status:cf,action:df,message_guest:hf,request_management:uf,login:mf,username:xf,password:pf,hotel_name:ff,hotel_subtitle:gf,press_to_call:vf,room_and_stay:jf,room_services:yf,bookings_and_facilities:bf,tourism_and_exploration:wf,support_external_services:Nf,order_ref:Sf,requested_at:Cf,estimated_completion:_f,time_remaining:kf,mute:Tf,unmute:Ef,confirm:Af,need_conversation:Pf,tap_to_speak:If,order_summary:Mf,send_to_reception:Lf,add_note:Df,room_number:$f,enter_room_number:Rf,enter_notes:Of,summary:Ff,generated_at:zf,order_confirmed:Bf,order_confirmed_message:qf,order_reference:Hf,estimated_delivery_time:Vf,return_to_home:Gf,press_to_call_desc:Uf,confirm_request_desc:Wf,send_to_reception_desc:Kf,status_acknowledged:Qf,status_in_progress:Xf,status_delivering:Yf,status_completed:Zf,status_note:Jf,icon_login:eg,icon_hourglass_empty:sg,icon_info:tg,icon_policy:ng,icon_wifi:ag,icon_restaurant:ig,icon_local_bar:rg,icon_cleaning_services:lg,icon_local_laundry_service:og,icon_alarm:cg,icon_add_circle:dg,icon_build:hg,icon_event_seat:ug,icon_spa:mg,icon_fitness_center:xg,icon_pool:pg,icon_directions_car:fg,icon_medical_services:gg,icon_support_agent:vg,icon_location_on:jg,icon_local_dining:yg,icon_directions_bus:bg,icon_event:wg,icon_shopping_bag:Ng,icon_map:Sg,icon_translate:Cg,icon_rate_review:_g,icon_report_problem:kg,icon_luggage:Tg,generating_your_summary:Eg},Pg="Добро пожаловать в отель Mi Nhon",Ig="Начать",Mg="Язык",Lg="Английский",Dg="Французский",$g="Русский",Rg="Отправить",Og="Отмена",Fg="Подтвердить запрос",zg="Номер",Bg="ID заказа",qg="Имя гостя",Hg="Содержание",Vg="Время",Gg="Статус",Ug="Действие",Wg="Сообщение гостю",Kg="Управление запросами персонала",Qg="Вход",Xg="Имя пользователя",Yg="Пароль",Zg="Отель Mui Ne",Jg="ИИ-ассистент - Поддержка всех ваших потребностей",e0="Нажмите для звонка",s0="Номер и проживание",t0="Услуги номера",n0="Бронирование и удобства",a0="Туризм и исследование",i0="Поддержка внешних услуг",r0="Ссылка на заказ",l0="Запрошено в",o0="Предполагаемое завершение",c0="Оставшееся время",d0="Без звука",h0="Включить звук",u0="Подтвердить",m0="Пожалуйста, сначала поговорите с ассистентом.",x0="Нажмите, чтобы говорить",p0="Сводка заказа",f0="Отправить на ресепшен",g0="Добавить заметку",v0="Номер комнаты",j0="Введите номер комнаты",y0="Введите дополнительные заметки",b0="Сводка",w0="Сгенерировано в",N0="Заказ подтвержден!",S0="Ваш запрос подтвержден и передан нашему персоналу. Они обработают его немедленно.",C0="Ссылка на заказ",_0="Предполагаемое время доставки:",k0="Вернуться на главную",T0="Нажмите кнопку вызова, чтобы начать ваш запрос.",E0="Проверьте и подтвердите ваш запрос для точности.",A0="Ваш запрос будет отправлен на ресепшен для обработки.",P0="Подтверждено",I0="В процессе",M0="Доставляется",L0="Завершено",D0="Особая заметка",$0="Регистрация/Выселение",R0="Запрос на продление проживания",O0="Информация о номере",F0="Правила отеля",z0="Wi-Fi услуги",B0="Ресторанное обслуживание номеров",q0="Напитки и бар",H0="Уборка номера",V0="Услуги прачечной",G0="Услуга будильника",U0="Дополнительные удобства",W0="Запрос на техническое обслуживание",K0="Бронирование ресторана",Q0="СПА услуги",X0="Фитнес-центр",Y0="Бассейн",Z0="Аренда автомобиля",J0="Медицинская помощь",ev="Поддержка клиентов",sv="Местные достопримечательности",tv="Местные рестораны",nv="Общественный транспорт",av="Местные мероприятия",iv="Торговые зоны",rv="Карты местности",lv="Услуги перевода",ov="Оставить отзыв",cv="Сообщить о проблеме",dv="Услуги багажа",hv="Генерируется ваш итог...",uv={welcome:Pg,start:Ig,language:Mg,english:Lg,french:Dg,russian:$g,send:Rg,cancel:Og,confirm_request:Fg,room:zg,order_id:Bg,guest_name:qg,content:Hg,time:Vg,status:Gg,action:Ug,message_guest:Wg,request_management:Kg,login:Qg,username:Xg,password:Yg,hotel_name:Zg,hotel_subtitle:Jg,press_to_call:e0,room_and_stay:s0,room_services:t0,bookings_and_facilities:n0,tourism_and_exploration:a0,support_external_services:i0,order_ref:r0,requested_at:l0,estimated_completion:o0,time_remaining:c0,mute:d0,unmute:h0,confirm:u0,need_conversation:m0,tap_to_speak:x0,order_summary:p0,send_to_reception:f0,add_note:g0,room_number:v0,enter_room_number:j0,enter_notes:y0,summary:b0,generated_at:w0,order_confirmed:N0,order_confirmed_message:S0,order_reference:C0,estimated_delivery_time:_0,return_to_home:k0,press_to_call_desc:T0,confirm_request_desc:E0,send_to_reception_desc:A0,status_acknowledged:P0,status_in_progress:I0,status_delivering:M0,status_completed:L0,status_note:D0,icon_login:$0,icon_hourglass_empty:R0,icon_info:O0,icon_policy:F0,icon_wifi:z0,icon_restaurant:B0,icon_local_bar:q0,icon_cleaning_services:H0,icon_local_laundry_service:V0,icon_alarm:G0,icon_add_circle:U0,icon_build:W0,icon_event_seat:K0,icon_spa:Q0,icon_fitness_center:X0,icon_pool:Y0,icon_directions_car:Z0,icon_medical_services:J0,icon_support_agent:ev,icon_location_on:sv,icon_local_dining:tv,icon_directions_bus:nv,icon_event:av,icon_shopping_bag:iv,icon_map:rv,icon_translate:lv,icon_rate_review:ov,icon_report_problem:cv,icon_luggage:dv,generating_your_summary:hv},mv="미년 호텔에 오신 것을 환영합니다",xv="시작",pv="언어",fv="영어",gv="프랑스어",vv="러시아어",jv="한국어",yv="보내기",bv="취소",wv="요청 확인",Nv="객실",Sv="주문 ID",Cv="투숙객 이름",_v="내용",kv="시간",Tv="상태",Ev="동작",Av="게스트에게 메시지 보내기",Pv="직원 요청 관리",Iv="로그인",Mv="사용자 이름",Lv="비밀번호",Dv="무이네 호텔",$v="AI 어시스턴트 - 모든 필요를 지원합니다",Rv="호출하려면 누르세요",Ov="객실 및 숙박",Fv="객실 서비스",zv="예약 및 시설",Bv="관광 및 탐험",qv="외부 서비스 지원",Hv="주문 참조",Vv="요청 시간",Gv="예상 완료 시간",Uv="남은 시간",Wv="음소거",Kv="음소거 해제",Qv="확인",Xv="먼저 어시스턴트와 대화해 주세요.",Yv="말하려면 누르세요",Zv="주문 요약",Jv="프런트로 보내기",ej="메모 추가",sj="객실 번호",tj="객실 번호를 입력하세요",nj="추가 메모를 입력하세요",aj="요약",ij="생성 시간",rj="주문이 확인되었습니다!",lj="귀하의 요청이 확인되어 직원에게 전달되었습니다. 즉시 처리하겠습니다.",oj="주문 참조",cj="예상 배달 시간:",dj="홈으로 돌아가기",hj="요청을 시작하려면 호출 버튼을 누르세요.",uj="정확성을 위해 요청을 확인하세요.",mj="귀하의 요청이 프런트로 전송되어 처리됩니다.",xj="접수됨",pj="처리 중",fj="배달 중",gj="완료됨",vj="특별 안내",jj="체크인/체크아웃",yj="숙박 연장 요청",bj="객실 정보",wj="호텔 정책",Nj="와이파이 서비스",Sj="룸서비스 음식",Cj="음료 및 바 서비스",_j="객실 청소",kj="세탁 서비스",Tj="모닝콜 서비스",Ej="추가 편의 시설",Aj="유지보수 요청",Pj="레스토랑 예약",Ij="스파 서비스",Mj="피트니스 센터",Lj="수영장",Dj="렌터카",$j="의료 지원",Rj="고객 지원",Oj="지역 명소",Fj="지역 레스토랑",zj="대중교통",Bj="지역 이벤트",qj="쇼핑 지역",Hj="지역 지도",Vj="번역 서비스",Gj="리뷰 남기기",Uj="문제 신고",Wj="수화물 서비스",Kj="요약을 생성하는 중...",Qj={welcome:mv,start:xv,language:pv,english:fv,french:gv,russian:vv,korean:jv,send:yv,cancel:bv,confirm_request:wv,room:Nv,order_id:Sv,guest_name:Cv,content:_v,time:kv,status:Tv,action:Ev,message_guest:Av,request_management:Pv,login:Iv,username:Mv,password:Lv,hotel_name:Dv,hotel_subtitle:$v,press_to_call:Rv,room_and_stay:Ov,room_services:Fv,bookings_and_facilities:zv,tourism_and_exploration:Bv,support_external_services:qv,order_ref:Hv,requested_at:Vv,estimated_completion:Gv,time_remaining:Uv,mute:Wv,unmute:Kv,confirm:Qv,need_conversation:Xv,tap_to_speak:Yv,order_summary:Zv,send_to_reception:Jv,add_note:ej,room_number:sj,enter_room_number:tj,enter_notes:nj,summary:aj,generated_at:ij,order_confirmed:rj,order_confirmed_message:lj,order_reference:oj,estimated_delivery_time:cj,return_to_home:dj,press_to_call_desc:hj,confirm_request_desc:uj,send_to_reception_desc:mj,status_acknowledged:xj,status_in_progress:pj,status_delivering:fj,status_completed:gj,status_note:vj,icon_login:jj,icon_hourglass_empty:yj,icon_info:bj,icon_policy:wj,icon_wifi:Nj,icon_restaurant:Sj,icon_local_bar:Cj,icon_cleaning_services:_j,icon_local_laundry_service:kj,icon_alarm:Tj,icon_add_circle:Ej,icon_build:Aj,icon_event_seat:Pj,icon_spa:Ij,icon_fitness_center:Mj,icon_pool:Lj,icon_directions_car:Dj,icon_medical_services:$j,icon_support_agent:Rj,icon_location_on:Oj,icon_local_dining:Fj,icon_directions_bus:zj,icon_event:Bj,icon_shopping_bag:qj,icon_map:Hj,icon_translate:Vj,icon_rate_review:Gj,icon_report_problem:Uj,icon_luggage:Wj,generating_your_summary:Kj},Xj="Khách sạn Mui Ne",Yj="Trợ lý giọng nói AI - Hỗ trợ mọi nhu cầu của bạn",Zj="Nhấn để nói",Jj="Phòng & Lưu trú",ey="Dịch vụ phòng",sy="Đặt chỗ & Tiện ích",ty="Du lịch & Khám phá",ny="Hỗ trợ đặt dịch vụ bên ngoài",ay="Mã đơn",iy="Thời gian yêu cầu",ry="Dự kiến hoàn thành",ly="Thời gian còn lại",oy="Tắt mic",cy="Bật mic",dy="Xác nhận",hy="Vui lòng nói chuyện với trợ lý trước.",uy="Chạm để nói",my="Tóm tắt đơn hàng",xy="Xác nhận",py="Thêm ghi chú",fy="Số phòng",gy="Nhập số phòng",vy="Nhập ghi chú bổ sung",jy="Tóm tắt",yy="Tạo lúc",by="Đã xác nhận đơn!",wy="Yêu cầu của bạn đã được xác nhận và chuyển đến nhân viên. Chúng tôi sẽ xử lý ngay lập tức.",Ny="Mã tham chiếu",Sy="Thời gian giao dự kiến:",Cy="Về trang chủ",_y="Ngôn ngữ",ky="Tiếng Anh",Ty="Tiếng Pháp",Ey="Gửi",Ay="Hủy",Py="Kết thúc cuộc gọi",Iy="Phòng",My="Mã đơn",Ly="Tên khách",Dy="Nội dung",$y="Thời gian",Ry="Trạng thái",Oy="Hành động",Fy="Nhắn khách",zy="Quản lý yêu cầu nhân viên",By="Đăng nhập",qy="Tên đăng nhập",Hy="Mật khẩu",Vy="Nhấn nút gọi để bắt đầu yêu cầu của bạn.",Gy="Xem lại và xác nhận yêu cầu của bạn.",Uy="Yêu cầu của bạn sẽ được gửi đến lễ tân để xử lý.",Wy="Đã ghi nhận",Ky="Đang xử lý",Qy="Đang giao cho bạn",Xy="Đã hoàn thành",Yy="Lưu ý đặc biệt",Zy="Nhận/Trả phòng",Jy="Yêu cầu gia hạn lưu trú",eb="Thông tin phòng",sb="Chính sách khách sạn",tb="Dịch vụ Wi-Fi",nb="Đồ ăn tại phòng",ab="Dịch vụ đồ uống & quầy bar",ib="Dọn phòng",rb="Giặt là",lb="Báo thức",ob="Tiện ích bổ sung",cb="Yêu cầu bảo trì",db="Đặt chỗ nhà hàng",hb="Dịch vụ Spa",ub="Trung tâm thể hình",mb="Hồ bơi",xb="Thuê xe",pb="Hỗ trợ y tế",fb="Chăm sóc khách hàng",gb="Điểm tham quan",vb="Nhà hàng địa phương",jb="Phương tiện công cộng",yb="Sự kiện địa phương",bb="Khu mua sắm",wb="Bản đồ khu vực",Nb="Dịch vụ phiên dịch",Sb="Đánh giá",Cb="Báo sự cố",_b="Dịch vụ hành lý",kb="Đang tạo tóm tắt của bạn...",Tb="Nói Nhiều Ngôn Ngữ với Trợ Lý AI của Chúng Tôi",Eb={hotel_name:Xj,hotel_subtitle:Yj,press_to_call:Zj,room_and_stay:Jj,room_services:ey,bookings_and_facilities:sy,tourism_and_exploration:ty,support_external_services:ny,order_ref:ay,requested_at:iy,estimated_completion:ry,time_remaining:ly,mute:oy,unmute:cy,confirm:dy,need_conversation:hy,tap_to_speak:uy,order_summary:my,send_to_reception:xy,add_note:py,room_number:fy,enter_room_number:gy,enter_notes:vy,summary:jy,generated_at:yy,order_confirmed:by,order_confirmed_message:wy,order_reference:Ny,estimated_delivery_time:Sy,return_to_home:Cy,language:_y,english:ky,french:Ty,send:Ey,cancel:Ay,confirm_request:Py,room:Iy,order_id:My,guest_name:Ly,content:Dy,time:$y,status:Ry,action:Oy,message_guest:Fy,request_management:zy,login:By,username:qy,password:Hy,press_to_call_desc:Vy,confirm_request_desc:Gy,send_to_reception_desc:Uy,status_acknowledged:Wy,status_in_progress:Ky,status_delivering:Qy,status_completed:Xy,status_note:Yy,icon_login:Zy,icon_hourglass_empty:Jy,icon_info:eb,icon_policy:sb,icon_wifi:tb,icon_restaurant:nb,icon_local_bar:ab,icon_cleaning_services:ib,icon_local_laundry_service:rb,icon_alarm:lb,icon_add_circle:ob,icon_build:cb,icon_event_seat:db,icon_spa:hb,icon_fitness_center:ub,icon_pool:mb,icon_directions_car:xb,icon_medical_services:pb,icon_support_agent:fb,icon_location_on:gb,icon_local_dining:vb,icon_directions_bus:jb,icon_event:yb,icon_shopping_bag:bb,icon_map:wb,icon_translate:Nb,icon_rate_review:Sb,icon_report_problem:Cb,icon_luggage:_b,generating_your_summary:kb,speak_multiple_languages:Tb},Ab={en:ux,fr:Kp,zh:Ag,ru:uv,ko:Qj,vi:Eb};function le(s,t="en"){return Ab[t][s]||s}const Pb=({isOpen:s,onClose:t,isRight:n})=>{const{transcripts:a,modelOutput:i,language:r}=us(),l=h.useRef(null),o=h.useRef({}),[c,d]=h.useState({}),[m,u]=h.useState([]),x=()=>{Object.values(o.current).forEach(f=>{cancelAnimationFrame(f)}),o.current={}};return h.useEffect(()=>{const f=[...a].sort((y,j)=>y.timestamp.getTime()-j.timestamp.getTime()),p=[];let g=null;f.forEach(y=>{y.role==="user"?(g={id:y.id.toString(),role:"user",timestamp:y.timestamp,messages:[{id:y.id.toString(),content:y.content,timestamp:y.timestamp}]},p.push(g)):((!g||g.role==="user")&&(g={id:y.id.toString(),role:"assistant",timestamp:y.timestamp,messages:[]},p.push(g)),g.messages.push({id:y.id.toString(),content:y.content,timestamp:y.timestamp}))}),u(p)},[a]),h.useEffect(()=>(m.filter(p=>p.role==="assistant").flatMap(p=>p.messages).forEach(p=>{if(c[p.id]===p.content.length)return;let g=c[p.id]||0;const y=p.content,j=()=>{g<y.length?(d(v=>({...v,[p.id]:g+1})),g++,o.current[p.id]=requestAnimationFrame(j)):delete o.current[p.id]};o.current[p.id]=requestAnimationFrame(j)}),()=>x()),[m]),h.useEffect(()=>{l.current&&(l.current.scrollTop=l.current.scrollHeight)},[m]),s?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`relative z-30 overflow-hidden rounded-2xl shadow-2xl realtime-popup ${n?"popup-right":""}`,style:{width:"90vw",maxWidth:360,height:"70vh",maxHeight:440,background:"rgba(255,255,255,0.12)",backdropFilter:"blur(18px)",WebkitBackdropFilter:"blur(18px)",border:"1.5px solid rgba(255,255,255,0.25)",boxShadow:n?"0 8px 32px rgba(0,0,0,0.18), 8px 0 24px rgba(0,0,0,0.10)":"0 8px 32px rgba(0,0,0,0.18)",borderTopLeftRadius:24,borderBottomLeftRadius:24,borderTopRightRadius:24,borderBottomRightRadius:24},children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200/40 bg-white/10",style:{backdropFilter:"blur(4px)"},children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Conversation"}),e.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(ot,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{ref:l,className:"p-4 h-[calc(100%-4rem)] overflow-y-auto",children:[m.length===0&&e.jsx("div",{className:"text-gray-400 text-base text-center select-none",style:{opacity:.7},children:le("tap_to_speak",r)}),m.map((f,p)=>e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0",style:{background:f.role==="user"?"#3B82F6":"#10B981"},children:e.jsx("span",{className:"text-white text-sm",children:f.role==="user"?"U":"A"})}),e.jsxs("div",{className:"flex-1",children:[f.role==="user"?e.jsx("div",{className:"bg-gray-100 rounded-lg p-3",children:e.jsx("p",{className:"text-gray-800",children:f.messages[0].content})}):e.jsx("div",{className:"bg-green-50 rounded-lg p-3",children:e.jsxs("p",{className:"text-base md:text-lg font-medium",style:{position:"relative",background:"linear-gradient(90deg, #FF512F, #F09819, #FFD700, #56ab2f, #43cea2, #1e90ff, #6a11cb, #FF512F)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:600,letterSpacing:.2,transition:"background 0.5s"},children:[e.jsx("span",{className:"inline-flex flex-wrap",children:f.messages.map((g,y)=>{const j=g.content.slice(0,c[g.id]||0);return e.jsxs("span",{style:{whiteSpace:"pre"},children:[j,y===f.messages.length-1&&p===0&&c[g.id]<g.content.length&&e.jsx("span",{className:"animate-blink text-yellow-500",style:{marginLeft:1},children:"|"})]},g.id)})}),p===0&&f.role==="assistant"&&c[f.messages[f.messages.length-1].id]===f.messages[f.messages.length-1].content.length&&e.jsx("span",{className:"ml-2 animate-ellipsis text-yellow-500",children:"..."})]})}),e.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:f.timestamp.toLocaleTimeString()})]})]})},f.id))]})]}),e.jsx("style",{children:`
        @media (min-width: 640px) {
          .realtime-popup {
            width: 340px !important;
            height: 420px !important;
            max-width: 340px !important;
            max-height: 420px !important;
          }
          .popup-right {
            /* Có thể thêm hiệu ứng đối xứng nếu muốn */
          }
        }
      `})]}):null},Tl=h.forwardRef(({showConversation:s,onClose:t,className:n=""},a)=>s?e.jsx("div",{ref:a,className:`w-full ${n}`,children:e.jsx(Pb,{isOpen:s,onClose:t,isRight:!0})}):null);Tl.displayName="ConversationSection";const Ib=({show:s,onScrollToTop:t,onScrollToServices:n})=>s?e.jsxs("div",{className:"fixed bottom-4 right-4 flex flex-col gap-2 z-50",children:[e.jsx("button",{className:"bg-white/10 backdrop-blur-md p-3 rounded-full shadow-lg transition-all duration-300 hover:bg-white/20",onClick:n,"aria-label":"Scroll to services",title:"View Services",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{d:"M19 9l-7 7-7-7"})})}),e.jsx("button",{className:"bg-white/10 backdrop-blur-md p-3 rounded-full shadow-lg transition-all duration-300 hover:bg-white/20",onClick:t,"aria-label":"Scroll to top",title:"Back to Top",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{d:"M5 10l7-7m0 0l7 7m-7-7v18"})})})]}):null;class Mb{constructor(t){this.gradientRotation=0,this.isHovered=!1,this.isActive=!1,this.waveformPhase=0,this.particles=[],this.mouseX=0,this.mouseY=0,this.isDarkMode=!1,this.elapsedTime=0,this.displayedTime=0,this.timeTarget=60,this.idleFrame=0,this.lastActiveTime=Date.now(),this.idleFlash=0,this.canvas=document.createElement("canvas");const n=document.getElementById(t);if(!n)throw new Error("Container element not found");n.appendChild(this.canvas);const a=this.canvas.getContext("2d");if(!a)throw new Error("Could not get canvas context");this.ctx=a,this.width=500,this.height=500,this.centerX=this.width/2,this.centerY=this.height/2,this.radius=100,this.ripples=[],this.isListening=!1,this.pulsePhase=0,this.volumeLevel=0,this.animationFrameId=0,this.resize(),this.animate(),window.addEventListener("resize",this.resize.bind(this)),n&&(n.addEventListener("mouseenter",()=>{this.isHovered=!0,this.lastActiveTime=Date.now()}),n.addEventListener("mouseleave",()=>{this.isHovered=!1,this.isActive=!1}),n.addEventListener("mousedown",()=>{this.isActive=!0,this.lastActiveTime=Date.now()}),n.addEventListener("mouseup",()=>{this.isActive=!1}),n.addEventListener("mousemove",i=>{const r=n.getBoundingClientRect();this.mouseX=i.clientX-r.left,this.mouseY=i.clientY-r.top,this.lastActiveTime=Date.now()})),this.isDarkMode=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",i=>{this.isDarkMode=i.matches})}resize(){const t=this.canvas.parentElement;if(!t)return;const n=window.devicePixelRatio||1,a=Math.min(t.clientWidth,t.clientHeight);this.width=this.height=a,this.canvas.width=this.canvas.height=a*n,this.canvas.style.width=this.canvas.style.height=`${a}px`,this.canvas.style.borderRadius="50%",this.canvas.style.overflow="hidden",this.ctx.setTransform(1,0,0,1,0,0),this.ctx.scale(n,n),this.centerX=this.width/2,this.centerY=this.height/2}drawTexturePattern(){const t="rgba(232,181,84,0.18)";for(let a=-this.radius;a<this.radius;a+=14)for(let i=-this.radius;i<this.radius;i+=14)a*a+i*i<this.radius*this.radius*.85&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.centerX+a,this.centerY+i,1.2,0,Math.PI*2),this.ctx.fillStyle=t,this.ctx.fill(),this.ctx.restore())}drawLightBeam(){if(!(this.isHovered||this.isActive))return;this.ctx.save();const t=this.ctx.createLinearGradient(this.centerX,this.centerY-this.radius*1.3,this.centerX,this.centerY+this.radius*.5);t.addColorStop(0,"rgba(255,255,255,0.22)"),t.addColorStop(.5,"rgba(255,255,255,0.08)"),t.addColorStop(1,"rgba(255,255,255,0)"),this.ctx.beginPath(),this.ctx.ellipse(this.centerX,this.centerY-this.radius*.7,this.radius*.7,this.radius*.22,0,0,2*Math.PI),this.ctx.fillStyle=t,this.ctx.filter="blur(2.5px)",this.ctx.fill(),this.ctx.filter="none",this.ctx.restore()}drawBaseCircle(){let t=0,n=0;this.isHovered&&(t=(this.mouseX-this.centerX)*.07,n=(this.mouseY-this.centerY)*.07),this.gradientRotation+=.0025;const a=this.gradientRotation%(2*Math.PI),i=this.centerX+Math.cos(a)*this.radius*1.2,r=this.centerY+Math.sin(a)*this.radius*1.2,l=this.ctx.createLinearGradient(this.centerX-this.radius*1.2+t,this.centerY-this.radius*1.2+n,i+t,r+n);l.addColorStop(0,this.isDarkMode?"#559A9A":"#5DB6B9"),l.addColorStop(1,this.isDarkMode?"#559A9A":"#5DB6B9"),this.ctx.save(),this.ctx.globalAlpha=.85,this.ctx.beginPath(),this.ctx.arc(this.centerX+t,this.centerY+n,this.radius*1.25,0,Math.PI*2),this.ctx.strokeStyle=l,this.ctx.lineWidth=12,this.ctx.shadowColor=(this.isHovered,"#559A9A"),this.ctx.shadowBlur=this.isHovered?32:16,this.ctx.stroke(),this.ctx.restore(),this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.centerX+t,this.centerY+n,this.radius*1.13,0,Math.PI*2),this.ctx.fillStyle=this.isDarkMode?"rgba(40,50,80,0.18)":"rgba(255,255,255,0.10)",this.ctx.filter="blur(2.5px)",this.ctx.fill(),this.ctx.filter="none",this.ctx.restore(),this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.centerX+t,this.centerY+n,this.radius*.98,0,Math.PI*2),this.ctx.fillStyle=this.isDarkMode?"#bfa133":"#E8B554",this.ctx.shadowColor=this.isDarkMode?"rgba(85,154,154,0.18)":"rgba(85,154,154,0.25)",this.ctx.shadowBlur=10,this.ctx.fill(),this.ctx.restore(),this.drawTexturePattern(),this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.centerX+t,this.centerY+n,this.radius*.98,0,Math.PI*2),this.ctx.shadowColor=this.isDarkMode?"rgba(85,154,154,0.10)":"rgba(85,154,154,0.18)",this.ctx.shadowBlur=24,this.ctx.globalAlpha=.7,this.ctx.strokeStyle="rgba(0,0,0,0)",this.ctx.lineWidth=8,this.ctx.stroke(),this.ctx.restore(),this.drawLightBeam(),this.drawMicIcon(t,n)}drawMicIcon(t=0,n=0){let a=.85+.15*Math.sin(this.pulsePhase*1.5);this.isHovered&&(a*=1.08),this.isActive&&(a*=.95),this.ctx.save(),this.ctx.translate(this.centerX+t,this.centerY+n),this.ctx.scale(a*2.5,a*2.5),this.ctx.shadowColor=this.isHovered?"rgba(255,255,255,0.95)":"rgba(255,255,255,0.7)",this.ctx.shadowBlur=40+20*a+(this.isHovered?20:0),this.ctx.beginPath(),this.ctx.moveTo(0,18),this.ctx.arc(0,0,18,Math.PI*.15,Math.PI*1.85,!1),this.ctx.lineTo(0,18),this.ctx.closePath(),this.ctx.fillStyle="rgba(255,255,255,0.92)",this.ctx.fill(),this.ctx.beginPath(),this.ctx.moveTo(-4,18),this.ctx.lineTo(-4,28),this.ctx.lineTo(4,28),this.ctx.lineTo(4,18),this.ctx.closePath(),this.ctx.fillStyle="rgba(255,255,255,0.92)",this.ctx.fill(),this.ctx.beginPath(),this.ctx.arc(0,28,6,0,Math.PI,!0),this.ctx.fillStyle="rgba(255,255,255,0.7)",this.ctx.fill(),this.ctx.restore()}drawRipples(){for(let t=this.ripples.length-1;t>=0;t--){const n=this.ripples[t];if(n.radius+=n.speed,n.alpha-=.01,n.alpha<=0){this.ripples.splice(t,1);continue}this.ctx.beginPath(),this.ctx.arc(this.centerX,this.centerY,n.radius,0,Math.PI*2),this.ctx.strokeStyle=`rgba(85,154,154, ${n.alpha})`,this.ctx.lineWidth=2,this.ctx.stroke()}}drawPulsingRing(){if(this.isListening){const t=this.radius+10+Math.sin(this.pulsePhase)*5,n=this.volumeLevel*20;this.ctx.beginPath(),this.ctx.arc(this.centerX,this.centerY,t+n,0,Math.PI*2),this.ctx.strokeStyle="rgba(33, 150, 243, 0.5)",this.ctx.lineWidth=3,this.ctx.stroke(),this.pulsePhase+=.1}}drawWaveform(){if(!this.isListening)return;const t=4;this.waveformPhase+=.08+this.volumeLevel*.12;for(let n=1;n<=t;n++){const a=this.radius*.98+n*10+Math.sin(this.waveformPhase+n)*3*(1+this.volumeLevel);this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.centerX,this.centerY,a,0,Math.PI*2),this.ctx.strokeStyle=`rgba(232,181,84,${.18+.08*(t-n)})`,this.ctx.lineWidth=2+this.volumeLevel*2,this.ctx.shadowColor="rgba(85,154,154,0.22)",this.ctx.shadowBlur=8,this.ctx.stroke(),this.ctx.restore()}}drawParticles(){if(this.isListening&&Math.random()<.18){const t=Math.random()*2*Math.PI,n=this.radius*1.18+Math.random()*16;this.particles.push({x:this.centerX+Math.cos(t)*n,y:this.centerY+Math.sin(t)*n,alpha:.7+Math.random()*.3,size:2+Math.random()*2,speed:.5+Math.random()*.7})}for(let t=this.particles.length-1;t>=0;t--){const n=this.particles[t];if(n.alpha-=.012,n.size*=.98,n.y-=n.speed*.5,n.x+=Math.sin(n.y*.1)*.2,n.alpha<=.05||n.size<.5){this.particles.splice(t,1);continue}this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.x,n.y,n.size,0,Math.PI*2),this.ctx.fillStyle=`rgba(232,181,84,${n.alpha})`,this.ctx.shadowColor="rgba(85,154,154,0.22)",this.ctx.shadowBlur=6,this.ctx.fill(),this.ctx.restore()}}drawTimeRing(){const t=Math.min(1,this.elapsedTime/this.timeTarget),n=t<.5?"#E8B554":t<1?"#d4af37":"#e53935";this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.centerX,this.centerY,this.radius*1.32,-Math.PI/2,-Math.PI/2+t*2*Math.PI),this.ctx.strokeStyle=n,this.ctx.lineWidth=4,this.ctx.shadowColor=n,this.ctx.shadowBlur=t>.95?16:6,this.ctx.globalAlpha=.85,this.ctx.stroke(),this.ctx.restore()}drawTimeText(){this.displayedTime+=(this.elapsedTime-this.displayedTime)*.18;const t=Math.round(this.displayedTime),n=Math.floor(t/60).toString().padStart(2,"0"),a=(t%60).toString().padStart(2,"0"),i=`${n}:${a}`;this.ctx.save(),this.ctx.font="600 1.25rem Montserrat, Raleway, Arial, sans-serif",this.ctx.textAlign="center",this.ctx.textBaseline="top",this.ctx.shadowColor="rgba(85,154,154,0.22)",this.ctx.shadowBlur=8,this.ctx.fillStyle="#fff",this.isDarkMode&&(this.ctx.fillStyle="#e8e8e8"),this.ctx.globalAlpha=.95,this.ctx.fillText(i,this.centerX,this.centerY+this.radius*1.45),this.ctx.restore()}drawIdleFlash(){if(Date.now()-this.lastActiveTime>6e3){this.idleFlash+=.08;const n=.7+.3*Math.abs(Math.sin(this.idleFlash*1.2));this.ctx.save(),this.ctx.globalAlpha=.18*n,this.ctx.beginPath(),this.ctx.arc(this.centerX,this.centerY,this.radius*1.18,0,Math.PI*2),this.ctx.fillStyle="#E8B554",this.ctx.filter="blur(2.5px)",this.ctx.fill(),this.ctx.filter="none",this.ctx.restore()}else this.idleFlash=0}drawVolumeVisualization(){if(!this.isListening)return;const t=16,n=this.radius*1.08;for(let a=0;a<t;a++){const i=2*Math.PI*a/t,r=8+Math.sin(this.waveformPhase+a)*4+this.volumeLevel*18,l=this.centerX+Math.cos(i)*n,o=this.centerY+Math.sin(i)*n,c=this.centerX+Math.cos(i)*(n+r),d=this.centerY+Math.sin(i)*(n+r);this.ctx.save(),this.ctx.strokeStyle=`rgba(232,181,84,${.18+.18*this.volumeLevel})`,this.ctx.lineWidth=2.2,this.ctx.beginPath(),this.ctx.moveTo(l,o),this.ctx.lineTo(c,d),this.ctx.shadowColor="rgba(85,154,154,0.22)",this.ctx.shadowBlur=6,this.ctx.stroke(),this.ctx.restore()}}animate(){const t=Math.min(this.width,this.height)<850;this.radius=t?Math.max(80,Math.min(this.width,this.height)/2.8):Math.max(90,Math.min(this.width,this.height)/5.2),this.ctx.clearRect(0,0,this.width,this.height),this.drawBaseCircle(),this.drawWaveform(),this.drawParticles(),this.drawRipples(),this.drawPulsingRing(),this.drawTimeRing(),this.drawTimeText(),this.drawIdleFlash(),this.drawVolumeVisualization(),this.isListening&&Math.random()<(t?.05:.1)&&this.ripples.push({radius:this.radius,alpha:.4,speed:1+this.volumeLevel*2}),this.animationFrameId=requestAnimationFrame(this.animate.bind(this))}setListening(t){this.isListening=t,t&&(this.ripples=[])}setVolumeLevel(t){this.volumeLevel=Math.max(0,Math.min(1,t))}setTime(t,n=60){this.elapsedTime=t,this.timeTarget=n}getTime(){return this.elapsedTime}cleanup(){window.removeEventListener("resize",this.resize),this.animationFrameId&&cancelAnimationFrame(this.animationFrameId),this.canvas.remove()}}const El=({isListening:s,volumeLevel:t,containerId:n,onCallStart:a,onCallEnd:i})=>{const r=h.useRef(null),l=h.useRef(null),[o,c]=h.useState("idle"),[d]=h.useState(()=>Array(12).fill(0));h.useEffect(()=>{c(s?"listening":"idle")},[s]),h.useEffect(()=>{console.log("[SiriCallButton] Initializing with containerId:",n),r.current=new Mb(n);const u=async f=>{if(console.log("[SiriCallButton] Click detected! isListening:",s),f.preventDefault(),f.stopPropagation(),!s&&a){console.log("[SiriCallButton] Calling onCallStart"),c("listening");try{await a()}catch(p){console.error("[SiriCallButton] Error in onCallStart:",p),c("idle")}}else s&&i&&(console.log("[SiriCallButton] Calling onCallEnd"),c("processing"),i(),setTimeout(()=>c("idle"),500))};l.current=u;const x=document.getElementById(n);if(x){console.log("[SiriCallButton] Adding click listener to element:",x),x.addEventListener("click",u);const f=x.querySelector("canvas");f&&(console.log("[SiriCallButton] Adding click listener to canvas"),f.addEventListener("click",u))}else console.error("[SiriCallButton] Container element not found:",n);return()=>{console.log("[SiriCallButton] Cleaning up"),r.current&&(r.current.cleanup(),r.current=null);const f=document.getElementById(n);if(f&&l.current){f.removeEventListener("click",l.current);const p=f.querySelector("canvas");p&&p.removeEventListener("click",l.current)}l.current=null}},[n]),h.useEffect(()=>{console.log("[SiriCallButton] Callbacks updated - isListening:",s)},[s,a,i]),h.useEffect(()=>{r.current&&r.current.setListening(s)},[s]),h.useEffect(()=>{r.current&&r.current.setVolumeLevel(t)},[t]);const m={idle:"",listening:"Listening...",processing:"Processing...",speaking:"Speaking..."};return e.jsxs("div",{className:"relative flex items-center justify-center",children:[o!=="idle"&&e.jsx("div",{className:`status-indicator ${o} absolute -top-12 left-1/2 transform -translate-x-1/2`,children:m[o]}),e.jsx("div",{id:n,className:`voice-button ${s?"listening":""} relative rounded-full overflow-visible flex items-center justify-center`,style:{cursor:"pointer",width:"240px",height:"240px"},onClick:u=>{console.log("[SiriCallButton] Div click detected!"),!s&&a?(console.log("[SiriCallButton] Fallback - calling onCallStart"),c("listening"),a()):s&&i&&(console.log("[SiriCallButton] Fallback - calling onCallEnd"),c("processing"),i(),setTimeout(()=>c("idle"),500))},children:e.jsx("div",{className:"gradient-ring absolute inset-0"})}),s&&e.jsx("div",{className:"waveform-container absolute inset-0 flex items-center justify-center",children:d.map((u,x)=>e.jsx("div",{className:"waveform-bar",style:{animation:`waveform ${.5+Math.random()*.5}s ease-in-out infinite`,animationDelay:`${x*.1}s`}},x))})]})},Lb=({isCallStarted:s,micLevel:t,onCallStart:n,onCallEnd:a})=>e.jsxs("div",{className:"flex flex-col items-center justify-center w-full",style:{marginBottom:Ae.spacing.xl,zIndex:Ae.zIndex.above},children:[e.jsx("div",{className:"relative flex items-center justify-center",style:{width:"300px",height:"300px",borderRadius:"50%",boxShadow:Ae.shadows.large,background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:e.jsx(El,{containerId:"main-siri-button",isListening:s,volumeLevel:t,onCallStart:()=>n("en"),onCallEnd:a})}),e.jsx("div",{className:"block md:hidden mt-4 text-center",style:{color:Ae.colors.text,fontSize:"1rem",fontWeight:"500",textShadow:"0 2px 4px rgba(0, 0, 0, 0.2)"},children:"Tap To Speak"})]}),Db=({isActive:s})=>{const{micLevel:t}=us(),{config:n,isLoading:a,error:i}=ct(),{showScrollButton:r,scrollToTop:l,scrollToSection:o,heroSectionRef:c,serviceGridRef:d,conversationRef:m}=cu({isActive:s}),{isCallStarted:u,showConversation:x,handleCallStart:f,handleCallEnd:p}=du({conversationRef:m});return a||!n?e.jsx(hu,{}):i?e.jsx(uu,{error:i}):e.jsxs(mu,{children:[e.jsxs("div",{ref:c,children:[e.jsx(xu,{}),e.jsx(Lb,{isCallStarted:u,micLevel:t,onCallStart:async g=>{await f(g)},onCallEnd:p})]}),e.jsx(kl,{ref:d}),e.jsx(Tl,{ref:m,showConversation:x,onClose:p}),e.jsx(Ib,{show:r,onScrollToTop:l,onScrollToServices:()=>o("services")})]})};function bi(s){return s!==null&&typeof s=="object"&&"constructor"in s&&s.constructor===Object}function Sa(s,t){s===void 0&&(s={}),t===void 0&&(t={});const n=["__proto__","constructor","prototype"];Object.keys(t).filter(a=>n.indexOf(a)<0).forEach(a=>{typeof s[a]>"u"?s[a]=t[a]:bi(t[a])&&bi(s[a])&&Object.keys(t[a]).length>0&&Sa(s[a],t[a])})}const Al={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ms(){const s=typeof document<"u"?document:{};return Sa(s,Al),s}const $b={document:Al,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(s){return typeof setTimeout>"u"?(s(),null):setTimeout(s,0)},cancelAnimationFrame(s){typeof setTimeout>"u"||clearTimeout(s)}};function Oe(){const s=typeof window<"u"?window:{};return Sa(s,$b),s}function Rb(s){return s===void 0&&(s=""),s.trim().split(" ").filter(t=>!!t.trim())}function Ob(s){const t=s;Object.keys(t).forEach(n=>{try{t[n]=null}catch{}try{delete t[n]}catch{}})}function Vn(s,t){return t===void 0&&(t=0),setTimeout(s,t)}function Jt(){return Date.now()}function Fb(s){const t=Oe();let n;return t.getComputedStyle&&(n=t.getComputedStyle(s,null)),!n&&s.currentStyle&&(n=s.currentStyle),n||(n=s.style),n}function zb(s,t){t===void 0&&(t="x");const n=Oe();let a,i,r;const l=Fb(s);return n.WebKitCSSMatrix?(i=l.transform||l.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(o=>o.replace(",",".")).join(", ")),r=new n.WebKitCSSMatrix(i==="none"?"":i)):(r=l.MozTransform||l.OTransform||l.MsTransform||l.msTransform||l.transform||l.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),a=r.toString().split(",")),t==="x"&&(n.WebKitCSSMatrix?i=r.m41:a.length===16?i=parseFloat(a[12]):i=parseFloat(a[4])),t==="y"&&(n.WebKitCSSMatrix?i=r.m42:a.length===16?i=parseFloat(a[13]):i=parseFloat(a[5])),i||0}function Rt(s){return typeof s=="object"&&s!==null&&s.constructor&&Object.prototype.toString.call(s).slice(8,-1)==="Object"}function Bb(s){return typeof window<"u"&&typeof window.HTMLElement<"u"?s instanceof HTMLElement:s&&(s.nodeType===1||s.nodeType===11)}function Ve(){const s=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const a=n<0||arguments.length<=n?void 0:arguments[n];if(a!=null&&!Bb(a)){const i=Object.keys(Object(a)).filter(r=>t.indexOf(r)<0);for(let r=0,l=i.length;r<l;r+=1){const o=i[r],c=Object.getOwnPropertyDescriptor(a,o);c!==void 0&&c.enumerable&&(Rt(s[o])&&Rt(a[o])?a[o].__swiper__?s[o]=a[o]:Ve(s[o],a[o]):!Rt(s[o])&&Rt(a[o])?(s[o]={},a[o].__swiper__?s[o]=a[o]:Ve(s[o],a[o])):s[o]=a[o])}}}return s}function Ot(s,t,n){s.style.setProperty(t,n)}function Pl(s){let{swiper:t,targetPosition:n,side:a}=s;const i=Oe(),r=-t.translate;let l=null,o;const c=t.params.speed;t.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(t.cssModeFrameID);const d=n>r?"next":"prev",m=(x,f)=>d==="next"&&x>=f||d==="prev"&&x<=f,u=()=>{o=new Date().getTime(),l===null&&(l=o);const x=Math.max(Math.min((o-l)/c,1),0),f=.5-Math.cos(x*Math.PI)/2;let p=r+f*(n-r);if(m(p,n)&&(p=n),t.wrapperEl.scrollTo({[a]:p}),m(p,n)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[a]:p})}),i.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=i.requestAnimationFrame(u)};u()}function ns(s,t){t===void 0&&(t="");const n=Oe(),a=[...s.children];return n.HTMLSlotElement&&s instanceof HTMLSlotElement&&a.push(...s.assignedElements()),t?a.filter(i=>i.matches(t)):a}function qb(s,t){const n=[t];for(;n.length>0;){const a=n.shift();if(s===a)return!0;n.push(...a.children,...a.shadowRoot?a.shadowRoot.children:[],...a.assignedElements?a.assignedElements():[])}}function Hb(s,t){const n=Oe();let a=t.contains(s);return!a&&n.HTMLSlotElement&&t instanceof HTMLSlotElement&&(a=[...t.assignedElements()].includes(s),a||(a=qb(s,t))),a}function en(s){try{console.warn(s);return}catch{}}function wt(s,t){t===void 0&&(t=[]);const n=document.createElement(s);return n.classList.add(...Array.isArray(t)?t:Rb(t)),n}function Vb(s,t){const n=[];for(;s.previousElementSibling;){const a=s.previousElementSibling;t?a.matches(t)&&n.push(a):n.push(a),s=a}return n}function Gb(s,t){const n=[];for(;s.nextElementSibling;){const a=s.nextElementSibling;t?a.matches(t)&&n.push(a):n.push(a),s=a}return n}function Cs(s,t){return Oe().getComputedStyle(s,null).getPropertyValue(t)}function Nt(s){let t=s,n;if(t){for(n=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(n+=1);return n}}function Il(s,t){const n=[];let a=s.parentElement;for(;a;)t?a.matches(t)&&n.push(a):n.push(a),a=a.parentElement;return n}function Gn(s,t,n){const a=Oe();return s[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(a.getComputedStyle(s,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(a.getComputedStyle(s,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom"))}function re(s){return(Array.isArray(s)?s:[s]).filter(t=>!!t)}let Sn;function Ub(){const s=Oe(),t=ms();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in s||s.DocumentTouch&&t instanceof s.DocumentTouch)}}function Ml(){return Sn||(Sn=Ub()),Sn}let Cn;function Wb(s){let{userAgent:t}=s===void 0?{}:s;const n=Ml(),a=Oe(),i=a.navigator.platform,r=t||a.navigator.userAgent,l={ios:!1,android:!1},o=a.screen.width,c=a.screen.height,d=r.match(/(Android);?[\s\/]+([\d.]+)?/);let m=r.match(/(iPad).*OS\s([\d_]+)/);const u=r.match(/(iPod)(.*OS\s([\d_]+))?/),x=!m&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f=i==="Win32";let p=i==="MacIntel";const g=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!m&&p&&n.touch&&g.indexOf(`${o}x${c}`)>=0&&(m=r.match(/(Version)\/([\d.]+)/),m||(m=[0,1,"13_0_0"]),p=!1),d&&!f&&(l.os="android",l.android=!0),(m||x||u)&&(l.os="ios",l.ios=!0),l}function Ll(s){return s===void 0&&(s={}),Cn||(Cn=Wb(s)),Cn}let _n;function Kb(){const s=Oe(),t=Ll();let n=!1;function a(){const o=s.navigator.userAgent.toLowerCase();return o.indexOf("safari")>=0&&o.indexOf("chrome")<0&&o.indexOf("android")<0}if(a()){const o=String(s.navigator.userAgent);if(o.includes("Version/")){const[c,d]=o.split("Version/")[1].split(" ")[0].split(".").map(m=>Number(m));n=c<16||c===16&&d<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(s.navigator.userAgent),r=a(),l=r||i&&t.ios;return{isSafari:n||r,needPerspectiveFix:n,need3dFix:l,isWebView:i}}function Dl(){return _n||(_n=Kb()),_n}function Qb(s){let{swiper:t,on:n,emit:a}=s;const i=Oe();let r=null,l=null;const o=()=>{!t||t.destroyed||!t.initialized||(a("beforeResize"),a("resize"))},c=()=>{!t||t.destroyed||!t.initialized||(r=new ResizeObserver(u=>{l=i.requestAnimationFrame(()=>{const{width:x,height:f}=t;let p=x,g=f;u.forEach(y=>{let{contentBoxSize:j,contentRect:v,target:b}=y;b&&b!==t.el||(p=v?v.width:(j[0]||j).inlineSize,g=v?v.height:(j[0]||j).blockSize)}),(p!==x||g!==f)&&o()})}),r.observe(t.el))},d=()=>{l&&i.cancelAnimationFrame(l),r&&r.unobserve&&t.el&&(r.unobserve(t.el),r=null)},m=()=>{!t||t.destroyed||!t.initialized||a("orientationchange")};n("init",()=>{if(t.params.resizeObserver&&typeof i.ResizeObserver<"u"){c();return}i.addEventListener("resize",o),i.addEventListener("orientationchange",m)}),n("destroy",()=>{d(),i.removeEventListener("resize",o),i.removeEventListener("orientationchange",m)})}function Xb(s){let{swiper:t,extendParams:n,on:a,emit:i}=s;const r=[],l=Oe(),o=function(m,u){u===void 0&&(u={});const x=l.MutationObserver||l.WebkitMutationObserver,f=new x(p=>{if(t.__preventObserver__)return;if(p.length===1){i("observerUpdate",p[0]);return}const g=function(){i("observerUpdate",p[0])};l.requestAnimationFrame?l.requestAnimationFrame(g):l.setTimeout(g,0)});f.observe(m,{attributes:typeof u.attributes>"u"?!0:u.attributes,childList:t.isElement||(typeof u.childList>"u"?!0:u).childList,characterData:typeof u.characterData>"u"?!0:u.characterData}),r.push(f)},c=()=>{if(t.params.observer){if(t.params.observeParents){const m=Il(t.hostEl);for(let u=0;u<m.length;u+=1)o(m[u])}o(t.hostEl,{childList:t.params.observeSlideChildren}),o(t.wrapperEl,{attributes:!1})}},d=()=>{r.forEach(m=>{m.disconnect()}),r.splice(0,r.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),a("init",c),a("destroy",d)}var Yb={on(s,t,n){const a=this;if(!a.eventsListeners||a.destroyed||typeof t!="function")return a;const i=n?"unshift":"push";return s.split(" ").forEach(r=>{a.eventsListeners[r]||(a.eventsListeners[r]=[]),a.eventsListeners[r][i](t)}),a},once(s,t,n){const a=this;if(!a.eventsListeners||a.destroyed||typeof t!="function")return a;function i(){a.off(s,i),i.__emitterProxy&&delete i.__emitterProxy;for(var r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];t.apply(a,l)}return i.__emitterProxy=t,a.on(s,i,n)},onAny(s,t){const n=this;if(!n.eventsListeners||n.destroyed||typeof s!="function")return n;const a=t?"unshift":"push";return n.eventsAnyListeners.indexOf(s)<0&&n.eventsAnyListeners[a](s),n},offAny(s){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const n=t.eventsAnyListeners.indexOf(s);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off(s,t){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||s.split(" ").forEach(a=>{typeof t>"u"?n.eventsListeners[a]=[]:n.eventsListeners[a]&&n.eventsListeners[a].forEach((i,r)=>{(i===t||i.__emitterProxy&&i.__emitterProxy===t)&&n.eventsListeners[a].splice(r,1)})}),n},emit(){const s=this;if(!s.eventsListeners||s.destroyed||!s.eventsListeners)return s;let t,n,a;for(var i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return typeof r[0]=="string"||Array.isArray(r[0])?(t=r[0],n=r.slice(1,r.length),a=s):(t=r[0].events,n=r[0].data,a=r[0].context||s),n.unshift(a),(Array.isArray(t)?t:t.split(" ")).forEach(c=>{s.eventsAnyListeners&&s.eventsAnyListeners.length&&s.eventsAnyListeners.forEach(d=>{d.apply(a,[c,...n])}),s.eventsListeners&&s.eventsListeners[c]&&s.eventsListeners[c].forEach(d=>{d.apply(a,n)})}),s}};function Zb(){const s=this;let t,n;const a=s.el;typeof s.params.width<"u"&&s.params.width!==null?t=s.params.width:t=a.clientWidth,typeof s.params.height<"u"&&s.params.height!==null?n=s.params.height:n=a.clientHeight,!(t===0&&s.isHorizontal()||n===0&&s.isVertical())&&(t=t-parseInt(Cs(a,"padding-left")||0,10)-parseInt(Cs(a,"padding-right")||0,10),n=n-parseInt(Cs(a,"padding-top")||0,10)-parseInt(Cs(a,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(n)&&(n=0),Object.assign(s,{width:t,height:n,size:s.isHorizontal()?t:n}))}function Jb(){const s=this;function t(E,S){return parseFloat(E.getPropertyValue(s.getDirectionLabel(S))||0)}const n=s.params,{wrapperEl:a,slidesEl:i,size:r,rtlTranslate:l,wrongRTL:o}=s,c=s.virtual&&n.virtual.enabled,d=c?s.virtual.slides.length:s.slides.length,m=ns(i,`.${s.params.slideClass}, swiper-slide`),u=c?s.virtual.slides.length:m.length;let x=[];const f=[],p=[];let g=n.slidesOffsetBefore;typeof g=="function"&&(g=n.slidesOffsetBefore.call(s));let y=n.slidesOffsetAfter;typeof y=="function"&&(y=n.slidesOffsetAfter.call(s));const j=s.snapGrid.length,v=s.slidesGrid.length;let b=n.spaceBetween,w=-g,C=0,T=0;if(typeof r>"u")return;typeof b=="string"&&b.indexOf("%")>=0?b=parseFloat(b.replace("%",""))/100*r:typeof b=="string"&&(b=parseFloat(b)),s.virtualSize=-b,m.forEach(E=>{l?E.style.marginLeft="":E.style.marginRight="",E.style.marginBottom="",E.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Ot(a,"--swiper-centered-offset-before",""),Ot(a,"--swiper-centered-offset-after",""));const B=n.grid&&n.grid.rows>1&&s.grid;B?s.grid.initSlides(m):s.grid&&s.grid.unsetSlides();let z;const P=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(E=>typeof n.breakpoints[E].slidesPerView<"u").length>0;for(let E=0;E<u;E+=1){z=0;let S;if(m[E]&&(S=m[E]),B&&s.grid.updateSlide(E,S,m),!(m[E]&&Cs(S,"display")==="none")){if(n.slidesPerView==="auto"){P&&(m[E].style[s.getDirectionLabel("width")]="");const N=getComputedStyle(S),F=S.style.transform,R=S.style.webkitTransform;if(F&&(S.style.transform="none"),R&&(S.style.webkitTransform="none"),n.roundLengths)z=s.isHorizontal()?Gn(S,"width"):Gn(S,"height");else{const O=t(N,"width"),D=t(N,"padding-left"),_=t(N,"padding-right"),A=t(N,"margin-left"),W=t(N,"margin-right"),ee=N.getPropertyValue("box-sizing");if(ee&&ee==="border-box")z=O+A+W;else{const{clientWidth:Ne,offsetWidth:ae}=S;z=O+D+_+A+W+(ae-Ne)}}F&&(S.style.transform=F),R&&(S.style.webkitTransform=R),n.roundLengths&&(z=Math.floor(z))}else z=(r-(n.slidesPerView-1)*b)/n.slidesPerView,n.roundLengths&&(z=Math.floor(z)),m[E]&&(m[E].style[s.getDirectionLabel("width")]=`${z}px`);m[E]&&(m[E].swiperSlideSize=z),p.push(z),n.centeredSlides?(w=w+z/2+C/2+b,C===0&&E!==0&&(w=w-r/2-b),E===0&&(w=w-r/2-b),Math.abs(w)<1/1e3&&(w=0),n.roundLengths&&(w=Math.floor(w)),T%n.slidesPerGroup===0&&x.push(w),f.push(w)):(n.roundLengths&&(w=Math.floor(w)),(T-Math.min(s.params.slidesPerGroupSkip,T))%s.params.slidesPerGroup===0&&x.push(w),f.push(w),w=w+z+b),s.virtualSize+=z+b,C=z,T+=1}}if(s.virtualSize=Math.max(s.virtualSize,r)+y,l&&o&&(n.effect==="slide"||n.effect==="coverflow")&&(a.style.width=`${s.virtualSize+b}px`),n.setWrapperSize&&(a.style[s.getDirectionLabel("width")]=`${s.virtualSize+b}px`),B&&s.grid.updateWrapperSize(z,x),!n.centeredSlides){const E=[];for(let S=0;S<x.length;S+=1){let N=x[S];n.roundLengths&&(N=Math.floor(N)),x[S]<=s.virtualSize-r&&E.push(N)}x=E,Math.floor(s.virtualSize-r)-Math.floor(x[x.length-1])>1&&x.push(s.virtualSize-r)}if(c&&n.loop){const E=p[0]+b;if(n.slidesPerGroup>1){const S=Math.ceil((s.virtual.slidesBefore+s.virtual.slidesAfter)/n.slidesPerGroup),N=E*n.slidesPerGroup;for(let F=0;F<S;F+=1)x.push(x[x.length-1]+N)}for(let S=0;S<s.virtual.slidesBefore+s.virtual.slidesAfter;S+=1)n.slidesPerGroup===1&&x.push(x[x.length-1]+E),f.push(f[f.length-1]+E),s.virtualSize+=E}if(x.length===0&&(x=[0]),b!==0){const E=s.isHorizontal()&&l?"marginLeft":s.getDirectionLabel("marginRight");m.filter((S,N)=>!n.cssMode||n.loop?!0:N!==m.length-1).forEach(S=>{S.style[E]=`${b}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let E=0;p.forEach(N=>{E+=N+(b||0)}),E-=b;const S=E>r?E-r:0;x=x.map(N=>N<=0?-g:N>S?S+y:N)}if(n.centerInsufficientSlides){let E=0;p.forEach(N=>{E+=N+(b||0)}),E-=b;const S=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(E+S<r){const N=(r-E-S)/2;x.forEach((F,R)=>{x[R]=F-N}),f.forEach((F,R)=>{f[R]=F+N})}}if(Object.assign(s,{slides:m,snapGrid:x,slidesGrid:f,slidesSizesGrid:p}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Ot(a,"--swiper-centered-offset-before",`${-x[0]}px`),Ot(a,"--swiper-centered-offset-after",`${s.size/2-p[p.length-1]/2}px`);const E=-s.snapGrid[0],S=-s.slidesGrid[0];s.snapGrid=s.snapGrid.map(N=>N+E),s.slidesGrid=s.slidesGrid.map(N=>N+S)}if(u!==d&&s.emit("slidesLengthChange"),x.length!==j&&(s.params.watchOverflow&&s.checkOverflow(),s.emit("snapGridLengthChange")),f.length!==v&&s.emit("slidesGridLengthChange"),n.watchSlidesProgress&&s.updateSlidesOffset(),s.emit("slidesUpdated"),!c&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const E=`${n.containerModifierClass}backface-hidden`,S=s.el.classList.contains(E);u<=n.maxBackfaceHiddenSlides?S||s.el.classList.add(E):S&&s.el.classList.remove(E)}}function e1(s){const t=this,n=[],a=t.virtual&&t.params.virtual.enabled;let i=0,r;typeof s=="number"?t.setTransition(s):s===!0&&t.setTransition(t.params.speed);const l=o=>a?t.slides[t.getSlideIndexByData(o)]:t.slides[o];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(o=>{n.push(o)});else for(r=0;r<Math.ceil(t.params.slidesPerView);r+=1){const o=t.activeIndex+r;if(o>t.slides.length&&!a)break;n.push(l(o))}else n.push(l(t.activeIndex));for(r=0;r<n.length;r+=1)if(typeof n[r]<"u"){const o=n[r].offsetHeight;i=o>i?o:i}(i||i===0)&&(t.wrapperEl.style.height=`${i}px`)}function s1(){const s=this,t=s.slides,n=s.isElement?s.isHorizontal()?s.wrapperEl.offsetLeft:s.wrapperEl.offsetTop:0;for(let a=0;a<t.length;a+=1)t[a].swiperSlideOffset=(s.isHorizontal()?t[a].offsetLeft:t[a].offsetTop)-n-s.cssOverflowAdjustment()}const wi=(s,t,n)=>{t&&!s.classList.contains(n)?s.classList.add(n):!t&&s.classList.contains(n)&&s.classList.remove(n)};function t1(s){s===void 0&&(s=this&&this.translate||0);const t=this,n=t.params,{slides:a,rtlTranslate:i,snapGrid:r}=t;if(a.length===0)return;typeof a[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let l=-s;i&&(l=s),t.visibleSlidesIndexes=[],t.visibleSlides=[];let o=n.spaceBetween;typeof o=="string"&&o.indexOf("%")>=0?o=parseFloat(o.replace("%",""))/100*t.size:typeof o=="string"&&(o=parseFloat(o));for(let c=0;c<a.length;c+=1){const d=a[c];let m=d.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(m-=a[0].swiperSlideOffset);const u=(l+(n.centeredSlides?t.minTranslate():0)-m)/(d.swiperSlideSize+o),x=(l-r[0]+(n.centeredSlides?t.minTranslate():0)-m)/(d.swiperSlideSize+o),f=-(l-m),p=f+t.slidesSizesGrid[c],g=f>=0&&f<=t.size-t.slidesSizesGrid[c],y=f>=0&&f<t.size-1||p>1&&p<=t.size||f<=0&&p>=t.size;y&&(t.visibleSlides.push(d),t.visibleSlidesIndexes.push(c)),wi(d,y,n.slideVisibleClass),wi(d,g,n.slideFullyVisibleClass),d.progress=i?-u:u,d.originalProgress=i?-x:x}}function n1(s){const t=this;if(typeof s>"u"){const m=t.rtlTranslate?-1:1;s=t&&t.translate&&t.translate*m||0}const n=t.params,a=t.maxTranslate()-t.minTranslate();let{progress:i,isBeginning:r,isEnd:l,progressLoop:o}=t;const c=r,d=l;if(a===0)i=0,r=!0,l=!0;else{i=(s-t.minTranslate())/a;const m=Math.abs(s-t.minTranslate())<1,u=Math.abs(s-t.maxTranslate())<1;r=m||i<=0,l=u||i>=1,m&&(i=0),u&&(i=1)}if(n.loop){const m=t.getSlideIndexByData(0),u=t.getSlideIndexByData(t.slides.length-1),x=t.slidesGrid[m],f=t.slidesGrid[u],p=t.slidesGrid[t.slidesGrid.length-1],g=Math.abs(s);g>=x?o=(g-x)/p:o=(g+p-f)/p,o>1&&(o-=1)}Object.assign(t,{progress:i,progressLoop:o,isBeginning:r,isEnd:l}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(s),r&&!c&&t.emit("reachBeginning toEdge"),l&&!d&&t.emit("reachEnd toEdge"),(c&&!r||d&&!l)&&t.emit("fromEdge"),t.emit("progress",i)}const kn=(s,t,n)=>{t&&!s.classList.contains(n)?s.classList.add(n):!t&&s.classList.contains(n)&&s.classList.remove(n)};function a1(){const s=this,{slides:t,params:n,slidesEl:a,activeIndex:i}=s,r=s.virtual&&n.virtual.enabled,l=s.grid&&n.grid&&n.grid.rows>1,o=u=>ns(a,`.${n.slideClass}${u}, swiper-slide${u}`)[0];let c,d,m;if(r)if(n.loop){let u=i-s.virtual.slidesBefore;u<0&&(u=s.virtual.slides.length+u),u>=s.virtual.slides.length&&(u-=s.virtual.slides.length),c=o(`[data-swiper-slide-index="${u}"]`)}else c=o(`[data-swiper-slide-index="${i}"]`);else l?(c=t.find(u=>u.column===i),m=t.find(u=>u.column===i+1),d=t.find(u=>u.column===i-1)):c=t[i];c&&(l||(m=Gb(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!m&&(m=t[0]),d=Vb(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d===0&&(d=t[t.length-1]))),t.forEach(u=>{kn(u,u===c,n.slideActiveClass),kn(u,u===m,n.slideNextClass),kn(u,u===d,n.slidePrevClass)}),s.emitSlidesClasses()}const Vt=(s,t)=>{if(!s||s.destroyed||!s.params)return;const n=()=>s.isElement?"swiper-slide":`.${s.params.slideClass}`,a=t.closest(n());if(a){let i=a.querySelector(`.${s.params.lazyPreloaderClass}`);!i&&s.isElement&&(a.shadowRoot?i=a.shadowRoot.querySelector(`.${s.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{a.shadowRoot&&(i=a.shadowRoot.querySelector(`.${s.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},Tn=(s,t)=>{if(!s.slides[t])return;const n=s.slides[t].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Un=s=>{if(!s||s.destroyed||!s.params)return;let t=s.params.lazyPreloadPrevNext;const n=s.slides.length;if(!n||!t||t<0)return;t=Math.min(t,n);const a=s.params.slidesPerView==="auto"?s.slidesPerViewDynamic():Math.ceil(s.params.slidesPerView),i=s.activeIndex;if(s.params.grid&&s.params.grid.rows>1){const l=i,o=[l-t];o.push(...Array.from({length:t}).map((c,d)=>l+a+d)),s.slides.forEach((c,d)=>{o.includes(c.column)&&Tn(s,d)});return}const r=i+a-1;if(s.params.rewind||s.params.loop)for(let l=i-t;l<=r+t;l+=1){const o=(l%n+n)%n;(o<i||o>r)&&Tn(s,o)}else for(let l=Math.max(i-t,0);l<=Math.min(r+t,n-1);l+=1)l!==i&&(l>r||l<i)&&Tn(s,l)};function i1(s){const{slidesGrid:t,params:n}=s,a=s.rtlTranslate?s.translate:-s.translate;let i;for(let r=0;r<t.length;r+=1)typeof t[r+1]<"u"?a>=t[r]&&a<t[r+1]-(t[r+1]-t[r])/2?i=r:a>=t[r]&&a<t[r+1]&&(i=r+1):a>=t[r]&&(i=r);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function r1(s){const t=this,n=t.rtlTranslate?t.translate:-t.translate,{snapGrid:a,params:i,activeIndex:r,realIndex:l,snapIndex:o}=t;let c=s,d;const m=f=>{let p=f-t.virtual.slidesBefore;return p<0&&(p=t.virtual.slides.length+p),p>=t.virtual.slides.length&&(p-=t.virtual.slides.length),p};if(typeof c>"u"&&(c=i1(t)),a.indexOf(n)>=0)d=a.indexOf(n);else{const f=Math.min(i.slidesPerGroupSkip,c);d=f+Math.floor((c-f)/i.slidesPerGroup)}if(d>=a.length&&(d=a.length-1),c===r&&!t.params.loop){d!==o&&(t.snapIndex=d,t.emit("snapIndexChange"));return}if(c===r&&t.params.loop&&t.virtual&&t.params.virtual.enabled){t.realIndex=m(c);return}const u=t.grid&&i.grid&&i.grid.rows>1;let x;if(t.virtual&&i.virtual.enabled&&i.loop)x=m(c);else if(u){const f=t.slides.find(g=>g.column===c);let p=parseInt(f.getAttribute("data-swiper-slide-index"),10);Number.isNaN(p)&&(p=Math.max(t.slides.indexOf(f),0)),x=Math.floor(p/i.grid.rows)}else if(t.slides[c]){const f=t.slides[c].getAttribute("data-swiper-slide-index");f?x=parseInt(f,10):x=c}else x=c;Object.assign(t,{previousSnapIndex:o,snapIndex:d,previousRealIndex:l,realIndex:x,previousIndex:r,activeIndex:c}),t.initialized&&Un(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(l!==x&&t.emit("realIndexChange"),t.emit("slideChange"))}function l1(s,t){const n=this,a=n.params;let i=s.closest(`.${a.slideClass}, swiper-slide`);!i&&n.isElement&&t&&t.length>1&&t.includes(s)&&[...t.slice(t.indexOf(s)+1,t.length)].forEach(o=>{!i&&o.matches&&o.matches(`.${a.slideClass}, swiper-slide`)&&(i=o)});let r=!1,l;if(i){for(let o=0;o<n.slides.length;o+=1)if(n.slides[o]===i){r=!0,l=o;break}}if(i&&r)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=l;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}a.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var o1={updateSize:Zb,updateSlides:Jb,updateAutoHeight:e1,updateSlidesOffset:s1,updateSlidesProgress:t1,updateProgress:n1,updateSlidesClasses:a1,updateActiveIndex:r1,updateClickedSlide:l1};function c1(s){s===void 0&&(s=this.isHorizontal()?"x":"y");const t=this,{params:n,rtlTranslate:a,translate:i,wrapperEl:r}=t;if(n.virtualTranslate)return a?-i:i;if(n.cssMode)return i;let l=zb(r,s);return l+=t.cssOverflowAdjustment(),a&&(l=-l),l||0}function d1(s,t){const n=this,{rtlTranslate:a,params:i,wrapperEl:r,progress:l}=n;let o=0,c=0;const d=0;n.isHorizontal()?o=a?-s:s:c=s,i.roundLengths&&(o=Math.floor(o),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?o:c,i.cssMode?r[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-o:-c:i.virtualTranslate||(n.isHorizontal()?o-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),r.style.transform=`translate3d(${o}px, ${c}px, ${d}px)`);let m;const u=n.maxTranslate()-n.minTranslate();u===0?m=0:m=(s-n.minTranslate())/u,m!==l&&n.updateProgress(s),n.emit("setTranslate",n.translate,t)}function h1(){return-this.snapGrid[0]}function u1(){return-this.snapGrid[this.snapGrid.length-1]}function m1(s,t,n,a,i){s===void 0&&(s=0),t===void 0&&(t=this.params.speed),n===void 0&&(n=!0),a===void 0&&(a=!0);const r=this,{params:l,wrapperEl:o}=r;if(r.animating&&l.preventInteractionOnTransition)return!1;const c=r.minTranslate(),d=r.maxTranslate();let m;if(a&&s>c?m=c:a&&s<d?m=d:m=s,r.updateProgress(m),l.cssMode){const u=r.isHorizontal();if(t===0)o[u?"scrollLeft":"scrollTop"]=-m;else{if(!r.support.smoothScroll)return Pl({swiper:r,targetPosition:-m,side:u?"left":"top"}),!0;o.scrollTo({[u?"left":"top"]:-m,behavior:"smooth"})}return!0}return t===0?(r.setTransition(0),r.setTranslate(m),n&&(r.emit("beforeTransitionStart",t,i),r.emit("transitionEnd"))):(r.setTransition(t),r.setTranslate(m),n&&(r.emit("beforeTransitionStart",t,i),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(x){!r||r.destroyed||x.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,r.animating=!1,n&&r.emit("transitionEnd"))}),r.wrapperEl.addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd))),!0}var x1={getTranslate:c1,setTranslate:d1,minTranslate:h1,maxTranslate:u1,translateTo:m1};function p1(s,t){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${s}ms`,n.wrapperEl.style.transitionDelay=s===0?"0ms":""),n.emit("setTransition",s,t)}function $l(s){let{swiper:t,runCallbacks:n,direction:a,step:i}=s;const{activeIndex:r,previousIndex:l}=t;let o=a;if(o||(r>l?o="next":r<l?o="prev":o="reset"),t.emit(`transition${i}`),n&&r!==l){if(o==="reset"){t.emit(`slideResetTransition${i}`);return}t.emit(`slideChangeTransition${i}`),o==="next"?t.emit(`slideNextTransition${i}`):t.emit(`slidePrevTransition${i}`)}}function f1(s,t){s===void 0&&(s=!0);const n=this,{params:a}=n;a.cssMode||(a.autoHeight&&n.updateAutoHeight(),$l({swiper:n,runCallbacks:s,direction:t,step:"Start"}))}function g1(s,t){s===void 0&&(s=!0);const n=this,{params:a}=n;n.animating=!1,!a.cssMode&&(n.setTransition(0),$l({swiper:n,runCallbacks:s,direction:t,step:"End"}))}var v1={setTransition:p1,transitionStart:f1,transitionEnd:g1};function j1(s,t,n,a,i){s===void 0&&(s=0),n===void 0&&(n=!0),typeof s=="string"&&(s=parseInt(s,10));const r=this;let l=s;l<0&&(l=0);const{params:o,snapGrid:c,slidesGrid:d,previousIndex:m,activeIndex:u,rtlTranslate:x,wrapperEl:f,enabled:p}=r;if(!p&&!a&&!i||r.destroyed||r.animating&&o.preventInteractionOnTransition)return!1;typeof t>"u"&&(t=r.params.speed);const g=Math.min(r.params.slidesPerGroupSkip,l);let y=g+Math.floor((l-g)/r.params.slidesPerGroup);y>=c.length&&(y=c.length-1);const j=-c[y];if(o.normalizeSlideIndex)for(let B=0;B<d.length;B+=1){const z=-Math.floor(j*100),P=Math.floor(d[B]*100),E=Math.floor(d[B+1]*100);typeof d[B+1]<"u"?z>=P&&z<E-(E-P)/2?l=B:z>=P&&z<E&&(l=B+1):z>=P&&(l=B)}if(r.initialized&&l!==u&&(!r.allowSlideNext&&(x?j>r.translate&&j>r.minTranslate():j<r.translate&&j<r.minTranslate())||!r.allowSlidePrev&&j>r.translate&&j>r.maxTranslate()&&(u||0)!==l))return!1;l!==(m||0)&&n&&r.emit("beforeSlideChangeStart"),r.updateProgress(j);let v;l>u?v="next":l<u?v="prev":v="reset";const b=r.virtual&&r.params.virtual.enabled;if(!(b&&i)&&(x&&-j===r.translate||!x&&j===r.translate))return r.updateActiveIndex(l),o.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),o.effect!=="slide"&&r.setTranslate(j),v!=="reset"&&(r.transitionStart(n,v),r.transitionEnd(n,v)),!1;if(o.cssMode){const B=r.isHorizontal(),z=x?j:-j;if(t===0)b&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),b&&!r._cssModeVirtualInitialSet&&r.params.initialSlide>0?(r._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{f[B?"scrollLeft":"scrollTop"]=z})):f[B?"scrollLeft":"scrollTop"]=z,b&&requestAnimationFrame(()=>{r.wrapperEl.style.scrollSnapType="",r._immediateVirtual=!1});else{if(!r.support.smoothScroll)return Pl({swiper:r,targetPosition:z,side:B?"left":"top"}),!0;f.scrollTo({[B?"left":"top"]:z,behavior:"smooth"})}return!0}const T=Dl().isSafari;return b&&!i&&T&&r.isElement&&r.virtual.update(!1,!1,l),r.setTransition(t),r.setTranslate(j),r.updateActiveIndex(l),r.updateSlidesClasses(),r.emit("beforeTransitionStart",t,a),r.transitionStart(n,v),t===0?r.transitionEnd(n,v):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(z){!r||r.destroyed||z.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(n,v))}),r.wrapperEl.addEventListener("transitionend",r.onSlideToWrapperTransitionEnd)),!0}function y1(s,t,n,a){s===void 0&&(s=0),n===void 0&&(n=!0),typeof s=="string"&&(s=parseInt(s,10));const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);const r=i.grid&&i.params.grid&&i.params.grid.rows>1;let l=s;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)l=l+i.virtual.slidesBefore;else{let o;if(r){const x=l*i.params.grid.rows;o=i.slides.find(f=>f.getAttribute("data-swiper-slide-index")*1===x).column}else o=i.getSlideIndexByData(l);const c=r?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:d}=i.params;let m=i.params.slidesPerView;m==="auto"?m=i.slidesPerViewDynamic():(m=Math.ceil(parseFloat(i.params.slidesPerView,10)),d&&m%2===0&&(m=m+1));let u=c-o<m;if(d&&(u=u||o<Math.ceil(m/2)),a&&d&&i.params.slidesPerView!=="auto"&&!r&&(u=!1),u){const x=d?o<i.activeIndex?"prev":"next":o-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:x,slideTo:!0,activeSlideIndex:x==="next"?o+1:o-c+1,slideRealIndex:x==="next"?i.realIndex:void 0})}if(r){const x=l*i.params.grid.rows;l=i.slides.find(f=>f.getAttribute("data-swiper-slide-index")*1===x).column}else l=i.getSlideIndexByData(l)}return requestAnimationFrame(()=>{i.slideTo(l,t,n,a)}),i}function b1(s,t,n){t===void 0&&(t=!0);const a=this,{enabled:i,params:r,animating:l}=a;if(!i||a.destroyed)return a;typeof s>"u"&&(s=a.params.speed);let o=r.slidesPerGroup;r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(o=Math.max(a.slidesPerViewDynamic("current",!0),1));const c=a.activeIndex<r.slidesPerGroupSkip?1:o,d=a.virtual&&r.virtual.enabled;if(r.loop){if(l&&!d&&r.loopPreventsSliding)return!1;if(a.loopFix({direction:"next"}),a._clientLeft=a.wrapperEl.clientLeft,a.activeIndex===a.slides.length-1&&r.cssMode)return requestAnimationFrame(()=>{a.slideTo(a.activeIndex+c,s,t,n)}),!0}return r.rewind&&a.isEnd?a.slideTo(0,s,t,n):a.slideTo(a.activeIndex+c,s,t,n)}function w1(s,t,n){t===void 0&&(t=!0);const a=this,{params:i,snapGrid:r,slidesGrid:l,rtlTranslate:o,enabled:c,animating:d}=a;if(!c||a.destroyed)return a;typeof s>"u"&&(s=a.params.speed);const m=a.virtual&&i.virtual.enabled;if(i.loop){if(d&&!m&&i.loopPreventsSliding)return!1;a.loopFix({direction:"prev"}),a._clientLeft=a.wrapperEl.clientLeft}const u=o?a.translate:-a.translate;function x(v){return v<0?-Math.floor(Math.abs(v)):Math.floor(v)}const f=x(u),p=r.map(v=>x(v)),g=i.freeMode&&i.freeMode.enabled;let y=r[p.indexOf(f)-1];if(typeof y>"u"&&(i.cssMode||g)){let v;r.forEach((b,w)=>{f>=b&&(v=w)}),typeof v<"u"&&(y=g?r[v]:r[v>0?v-1:v])}let j=0;if(typeof y<"u"&&(j=l.indexOf(y),j<0&&(j=a.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(j=j-a.slidesPerViewDynamic("previous",!0)+1,j=Math.max(j,0))),i.rewind&&a.isBeginning){const v=a.params.virtual&&a.params.virtual.enabled&&a.virtual?a.virtual.slides.length-1:a.slides.length-1;return a.slideTo(v,s,t,n)}else if(i.loop&&a.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{a.slideTo(j,s,t,n)}),!0;return a.slideTo(j,s,t,n)}function N1(s,t,n){t===void 0&&(t=!0);const a=this;if(!a.destroyed)return typeof s>"u"&&(s=a.params.speed),a.slideTo(a.activeIndex,s,t,n)}function S1(s,t,n,a){t===void 0&&(t=!0),a===void 0&&(a=.5);const i=this;if(i.destroyed)return;typeof s>"u"&&(s=i.params.speed);let r=i.activeIndex;const l=Math.min(i.params.slidesPerGroupSkip,r),o=l+Math.floor((r-l)/i.params.slidesPerGroup),c=i.rtlTranslate?i.translate:-i.translate;if(c>=i.snapGrid[o]){const d=i.snapGrid[o],m=i.snapGrid[o+1];c-d>(m-d)*a&&(r+=i.params.slidesPerGroup)}else{const d=i.snapGrid[o-1],m=i.snapGrid[o];c-d<=(m-d)*a&&(r-=i.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,i.slidesGrid.length-1),i.slideTo(r,s,t,n)}function C1(){const s=this;if(s.destroyed)return;const{params:t,slidesEl:n}=s,a=t.slidesPerView==="auto"?s.slidesPerViewDynamic():t.slidesPerView;let i=s.clickedIndex,r;const l=s.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(s.animating)return;r=parseInt(s.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?i<s.loopedSlides-a/2||i>s.slides.length-s.loopedSlides+a/2?(s.loopFix(),i=s.getSlideIndex(ns(n,`${l}[data-swiper-slide-index="${r}"]`)[0]),Vn(()=>{s.slideTo(i)})):s.slideTo(i):i>s.slides.length-a?(s.loopFix(),i=s.getSlideIndex(ns(n,`${l}[data-swiper-slide-index="${r}"]`)[0]),Vn(()=>{s.slideTo(i)})):s.slideTo(i)}else s.slideTo(i)}var _1={slideTo:j1,slideToLoop:y1,slideNext:b1,slidePrev:w1,slideReset:N1,slideToClosest:S1,slideToClickedSlide:C1};function k1(s,t){const n=this,{params:a,slidesEl:i}=n;if(!a.loop||n.virtual&&n.params.virtual.enabled)return;const r=()=>{ns(i,`.${a.slideClass}, swiper-slide`).forEach((x,f)=>{x.setAttribute("data-swiper-slide-index",f)})},l=n.grid&&a.grid&&a.grid.rows>1,o=a.slidesPerGroup*(l?a.grid.rows:1),c=n.slides.length%o!==0,d=l&&n.slides.length%a.grid.rows!==0,m=u=>{for(let x=0;x<u;x+=1){const f=n.isElement?wt("swiper-slide",[a.slideBlankClass]):wt("div",[a.slideClass,a.slideBlankClass]);n.slidesEl.append(f)}};if(c){if(a.loopAddBlankSlides){const u=o-n.slides.length%o;m(u),n.recalcSlides(),n.updateSlides()}else en("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else if(d){if(a.loopAddBlankSlides){const u=a.grid.rows-n.slides.length%a.grid.rows;m(u),n.recalcSlides(),n.updateSlides()}else en("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else r();n.loopFix({slideRealIndex:s,direction:a.centeredSlides?void 0:"next",initial:t})}function T1(s){let{slideRealIndex:t,slideTo:n=!0,direction:a,setTranslate:i,activeSlideIndex:r,initial:l,byController:o,byMousewheel:c}=s===void 0?{}:s;const d=this;if(!d.params.loop)return;d.emit("beforeLoopFix");const{slides:m,allowSlidePrev:u,allowSlideNext:x,slidesEl:f,params:p}=d,{centeredSlides:g,initialSlide:y}=p;if(d.allowSlidePrev=!0,d.allowSlideNext=!0,d.virtual&&p.virtual.enabled){n&&(!p.centeredSlides&&d.snapIndex===0?d.slideTo(d.virtual.slides.length,0,!1,!0):p.centeredSlides&&d.snapIndex<p.slidesPerView?d.slideTo(d.virtual.slides.length+d.snapIndex,0,!1,!0):d.snapIndex===d.snapGrid.length-1&&d.slideTo(d.virtual.slidesBefore,0,!1,!0)),d.allowSlidePrev=u,d.allowSlideNext=x,d.emit("loopFix");return}let j=p.slidesPerView;j==="auto"?j=d.slidesPerViewDynamic():(j=Math.ceil(parseFloat(p.slidesPerView,10)),g&&j%2===0&&(j=j+1));const v=p.slidesPerGroupAuto?j:p.slidesPerGroup;let b=v;b%v!==0&&(b+=v-b%v),b+=p.loopAdditionalSlides,d.loopedSlides=b;const w=d.grid&&p.grid&&p.grid.rows>1;m.length<j+b||d.params.effect==="cards"&&m.length<j+b*2?en("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):w&&p.grid.fill==="row"&&en("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const C=[],T=[],B=w?Math.ceil(m.length/p.grid.rows):m.length,z=l&&B-y<j&&!g;let P=z?y:d.activeIndex;typeof r>"u"?r=d.getSlideIndex(m.find(D=>D.classList.contains(p.slideActiveClass))):P=r;const E=a==="next"||!a,S=a==="prev"||!a;let N=0,F=0;const O=(w?m[r].column:r)+(g&&typeof i>"u"?-j/2+.5:0);if(O<b){N=Math.max(b-O,v);for(let D=0;D<b-O;D+=1){const _=D-Math.floor(D/B)*B;if(w){const A=B-_-1;for(let W=m.length-1;W>=0;W-=1)m[W].column===A&&C.push(W)}else C.push(B-_-1)}}else if(O+j>B-b){F=Math.max(O-(B-b*2),v),z&&(F=Math.max(F,j-B+y+1));for(let D=0;D<F;D+=1){const _=D-Math.floor(D/B)*B;w?m.forEach((A,W)=>{A.column===_&&T.push(W)}):T.push(_)}}if(d.__preventObserver__=!0,requestAnimationFrame(()=>{d.__preventObserver__=!1}),d.params.effect==="cards"&&m.length<j+b*2&&(T.includes(r)&&T.splice(T.indexOf(r),1),C.includes(r)&&C.splice(C.indexOf(r),1)),S&&C.forEach(D=>{m[D].swiperLoopMoveDOM=!0,f.prepend(m[D]),m[D].swiperLoopMoveDOM=!1}),E&&T.forEach(D=>{m[D].swiperLoopMoveDOM=!0,f.append(m[D]),m[D].swiperLoopMoveDOM=!1}),d.recalcSlides(),p.slidesPerView==="auto"?d.updateSlides():w&&(C.length>0&&S||T.length>0&&E)&&d.slides.forEach((D,_)=>{d.grid.updateSlide(_,D,d.slides)}),p.watchSlidesProgress&&d.updateSlidesOffset(),n){if(C.length>0&&S){if(typeof t>"u"){const D=d.slidesGrid[P],A=d.slidesGrid[P+N]-D;c?d.setTranslate(d.translate-A):(d.slideTo(P+Math.ceil(N),0,!1,!0),i&&(d.touchEventsData.startTranslate=d.touchEventsData.startTranslate-A,d.touchEventsData.currentTranslate=d.touchEventsData.currentTranslate-A))}else if(i){const D=w?C.length/p.grid.rows:C.length;d.slideTo(d.activeIndex+D,0,!1,!0),d.touchEventsData.currentTranslate=d.translate}}else if(T.length>0&&E)if(typeof t>"u"){const D=d.slidesGrid[P],A=d.slidesGrid[P-F]-D;c?d.setTranslate(d.translate-A):(d.slideTo(P-F,0,!1,!0),i&&(d.touchEventsData.startTranslate=d.touchEventsData.startTranslate-A,d.touchEventsData.currentTranslate=d.touchEventsData.currentTranslate-A))}else{const D=w?T.length/p.grid.rows:T.length;d.slideTo(d.activeIndex-D,0,!1,!0)}}if(d.allowSlidePrev=u,d.allowSlideNext=x,d.controller&&d.controller.control&&!o){const D={slideRealIndex:t,direction:a,setTranslate:i,activeSlideIndex:r,byController:!0};Array.isArray(d.controller.control)?d.controller.control.forEach(_=>{!_.destroyed&&_.params.loop&&_.loopFix({...D,slideTo:_.params.slidesPerView===p.slidesPerView?n:!1})}):d.controller.control instanceof d.constructor&&d.controller.control.params.loop&&d.controller.control.loopFix({...D,slideTo:d.controller.control.params.slidesPerView===p.slidesPerView?n:!1})}d.emit("loopFix")}function E1(){const s=this,{params:t,slidesEl:n}=s;if(!t.loop||!n||s.virtual&&s.params.virtual.enabled)return;s.recalcSlides();const a=[];s.slides.forEach(i=>{const r=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;a[r]=i}),s.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),a.forEach(i=>{n.append(i)}),s.recalcSlides(),s.slideTo(s.realIndex,0)}var A1={loopCreate:k1,loopFix:T1,loopDestroy:E1};function P1(s){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const n=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=s?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function I1(){const s=this;s.params.watchOverflow&&s.isLocked||s.params.cssMode||(s.isElement&&(s.__preventObserver__=!0),s[s.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",s.isElement&&requestAnimationFrame(()=>{s.__preventObserver__=!1}))}var M1={setGrabCursor:P1,unsetGrabCursor:I1};function L1(s,t){t===void 0&&(t=this);function n(a){if(!a||a===ms()||a===Oe())return null;a.assignedSlot&&(a=a.assignedSlot);const i=a.closest(s);return!i&&!a.getRootNode?null:i||n(a.getRootNode().host)}return n(t)}function Ni(s,t,n){const a=Oe(),{params:i}=s,r=i.edgeSwipeDetection,l=i.edgeSwipeThreshold;return r&&(n<=l||n>=a.innerWidth-l)?r==="prevent"?(t.preventDefault(),!0):!1:!0}function D1(s){const t=this,n=ms();let a=s;a.originalEvent&&(a=a.originalEvent);const i=t.touchEventsData;if(a.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==a.pointerId)return;i.pointerId=a.pointerId}else a.type==="touchstart"&&a.targetTouches.length===1&&(i.touchId=a.targetTouches[0].identifier);if(a.type==="touchstart"){Ni(t,a,a.targetTouches[0].pageX);return}const{params:r,touches:l,enabled:o}=t;if(!o||!r.simulateTouch&&a.pointerType==="mouse"||t.animating&&r.preventInteractionOnTransition)return;!t.animating&&r.cssMode&&r.loop&&t.loopFix();let c=a.target;if(r.touchEventsTarget==="wrapper"&&!Hb(c,t.wrapperEl)||"which"in a&&a.which===3||"button"in a&&a.button>0||i.isTouched&&i.isMoved)return;const d=!!r.noSwipingClass&&r.noSwipingClass!=="",m=a.composedPath?a.composedPath():a.path;d&&a.target&&a.target.shadowRoot&&m&&(c=m[0]);const u=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,x=!!(a.target&&a.target.shadowRoot);if(r.noSwiping&&(x?L1(u,c):c.closest(u))){t.allowClick=!0;return}if(r.swipeHandler&&!c.closest(r.swipeHandler))return;l.currentX=a.pageX,l.currentY=a.pageY;const f=l.currentX,p=l.currentY;if(!Ni(t,a,f))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),l.startX=f,l.startY=p,i.touchStartTime=Jt(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,r.threshold>0&&(i.allowThresholdMove=!1);let g=!0;c.matches(i.focusableElements)&&(g=!1,c.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==c&&(a.pointerType==="mouse"||a.pointerType!=="mouse"&&!c.matches(i.focusableElements))&&n.activeElement.blur();const y=g&&t.allowTouchMove&&r.touchStartPreventDefault;(r.touchStartForcePreventDefault||y)&&!c.isContentEditable&&a.preventDefault(),r.freeMode&&r.freeMode.enabled&&t.freeMode&&t.animating&&!r.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",a)}function $1(s){const t=ms(),n=this,a=n.touchEventsData,{params:i,touches:r,rtlTranslate:l,enabled:o}=n;if(!o||!i.simulateTouch&&s.pointerType==="mouse")return;let c=s;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(a.touchId!==null||c.pointerId!==a.pointerId))return;let d;if(c.type==="touchmove"){if(d=[...c.changedTouches].find(C=>C.identifier===a.touchId),!d||d.identifier!==a.touchId)return}else d=c;if(!a.isTouched){a.startMoving&&a.isScrolling&&n.emit("touchMoveOpposite",c);return}const m=d.pageX,u=d.pageY;if(c.preventedByNestedSwiper){r.startX=m,r.startY=u;return}if(!n.allowTouchMove){c.target.matches(a.focusableElements)||(n.allowClick=!1),a.isTouched&&(Object.assign(r,{startX:m,startY:u,currentX:m,currentY:u}),a.touchStartTime=Jt());return}if(i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(u<r.startY&&n.translate<=n.maxTranslate()||u>r.startY&&n.translate>=n.minTranslate()){a.isTouched=!1,a.isMoved=!1;return}}else{if(l&&(m>r.startX&&-n.translate<=n.maxTranslate()||m<r.startX&&-n.translate>=n.minTranslate()))return;if(!l&&(m<r.startX&&n.translate<=n.maxTranslate()||m>r.startX&&n.translate>=n.minTranslate()))return}if(t.activeElement&&t.activeElement.matches(a.focusableElements)&&t.activeElement!==c.target&&c.pointerType!=="mouse"&&t.activeElement.blur(),t.activeElement&&c.target===t.activeElement&&c.target.matches(a.focusableElements)){a.isMoved=!0,n.allowClick=!1;return}a.allowTouchCallbacks&&n.emit("touchMove",c),r.previousX=r.currentX,r.previousY=r.currentY,r.currentX=m,r.currentY=u;const x=r.currentX-r.startX,f=r.currentY-r.startY;if(n.params.threshold&&Math.sqrt(x**2+f**2)<n.params.threshold)return;if(typeof a.isScrolling>"u"){let C;n.isHorizontal()&&r.currentY===r.startY||n.isVertical()&&r.currentX===r.startX?a.isScrolling=!1:x*x+f*f>=25&&(C=Math.atan2(Math.abs(f),Math.abs(x))*180/Math.PI,a.isScrolling=n.isHorizontal()?C>i.touchAngle:90-C>i.touchAngle)}if(a.isScrolling&&n.emit("touchMoveOpposite",c),typeof a.startMoving>"u"&&(r.currentX!==r.startX||r.currentY!==r.startY)&&(a.startMoving=!0),a.isScrolling||c.type==="touchmove"&&a.preventTouchMoveFromPointerMove){a.isTouched=!1;return}if(!a.startMoving)return;n.allowClick=!1,!i.cssMode&&c.cancelable&&c.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&c.stopPropagation();let p=n.isHorizontal()?x:f,g=n.isHorizontal()?r.currentX-r.previousX:r.currentY-r.previousY;i.oneWayMovement&&(p=Math.abs(p)*(l?1:-1),g=Math.abs(g)*(l?1:-1)),r.diff=p,p*=i.touchRatio,l&&(p=-p,g=-g);const y=n.touchesDirection;n.swipeDirection=p>0?"prev":"next",n.touchesDirection=g>0?"prev":"next";const j=n.params.loop&&!i.cssMode,v=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!a.isMoved){if(j&&v&&n.loopFix({direction:n.swipeDirection}),a.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const C=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(C)}a.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}if(new Date().getTime(),i._loopSwapReset!==!1&&a.isMoved&&a.allowThresholdMove&&y!==n.touchesDirection&&j&&v&&Math.abs(p)>=1){Object.assign(r,{startX:m,startY:u,currentX:m,currentY:u,startTranslate:a.currentTranslate}),a.loopSwapReset=!0,a.startTranslate=a.currentTranslate;return}n.emit("sliderMove",c),a.isMoved=!0,a.currentTranslate=p+a.startTranslate;let b=!0,w=i.resistanceRatio;if(i.touchReleaseOnEdges&&(w=0),p>0?(j&&v&&a.allowThresholdMove&&a.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),a.currentTranslate>n.minTranslate()&&(b=!1,i.resistance&&(a.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+a.startTranslate+p)**w))):p<0&&(j&&v&&a.allowThresholdMove&&a.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),a.currentTranslate<n.maxTranslate()&&(b=!1,i.resistance&&(a.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-a.startTranslate-p)**w))),b&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&a.currentTranslate<a.startTranslate&&(a.currentTranslate=a.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&a.currentTranslate>a.startTranslate&&(a.currentTranslate=a.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(a.currentTranslate=a.startTranslate),i.threshold>0)if(Math.abs(p)>i.threshold||a.allowThresholdMove){if(!a.allowThresholdMove){a.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,a.currentTranslate=a.startTranslate,r.diff=n.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY;return}}else{a.currentTranslate=a.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(a.currentTranslate),n.setTranslate(a.currentTranslate))}function R1(s){const t=this,n=t.touchEventsData;let a=s;a.originalEvent&&(a=a.originalEvent);let i;if(a.type==="touchend"||a.type==="touchcancel"){if(i=[...a.changedTouches].find(C=>C.identifier===n.touchId),!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||a.pointerId!==n.pointerId)return;i=a}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(a.type)&&!(["pointercancel","contextmenu"].includes(a.type)&&(t.browser.isSafari||t.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:l,touches:o,rtlTranslate:c,slidesGrid:d,enabled:m}=t;if(!m||!l.simulateTouch&&a.pointerType==="mouse")return;if(n.allowTouchCallbacks&&t.emit("touchEnd",a),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&l.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}l.grabCursor&&n.isMoved&&n.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const u=Jt(),x=u-n.touchStartTime;if(t.allowClick){const C=a.path||a.composedPath&&a.composedPath();t.updateClickedSlide(C&&C[0]||a.target,C),t.emit("tap click",a),x<300&&u-n.lastClickTime<300&&t.emit("doubleTap doubleClick",a)}if(n.lastClickTime=Jt(),Vn(()=>{t.destroyed||(t.allowClick=!0)}),!n.isTouched||!n.isMoved||!t.swipeDirection||o.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let f;if(l.followFinger?f=c?t.translate:-t.translate:f=-n.currentTranslate,l.cssMode)return;if(l.freeMode&&l.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:f});return}const p=f>=-t.maxTranslate()&&!t.params.loop;let g=0,y=t.slidesSizesGrid[0];for(let C=0;C<d.length;C+=C<l.slidesPerGroupSkip?1:l.slidesPerGroup){const T=C<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;typeof d[C+T]<"u"?(p||f>=d[C]&&f<d[C+T])&&(g=C,y=d[C+T]-d[C]):(p||f>=d[C])&&(g=C,y=d[d.length-1]-d[d.length-2])}let j=null,v=null;l.rewind&&(t.isBeginning?v=l.virtual&&l.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(j=0));const b=(f-d[g])/y,w=g<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;if(x>l.longSwipesMs){if(!l.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(b>=l.longSwipesRatio?t.slideTo(l.rewind&&t.isEnd?j:g+w):t.slideTo(g)),t.swipeDirection==="prev"&&(b>1-l.longSwipesRatio?t.slideTo(g+w):v!==null&&b<0&&Math.abs(b)>l.longSwipesRatio?t.slideTo(v):t.slideTo(g))}else{if(!l.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(a.target===t.navigation.nextEl||a.target===t.navigation.prevEl)?a.target===t.navigation.nextEl?t.slideTo(g+w):t.slideTo(g):(t.swipeDirection==="next"&&t.slideTo(j!==null?j:g+w),t.swipeDirection==="prev"&&t.slideTo(v!==null?v:g))}}function Si(){const s=this,{params:t,el:n}=s;if(n&&n.offsetWidth===0)return;t.breakpoints&&s.setBreakpoint();const{allowSlideNext:a,allowSlidePrev:i,snapGrid:r}=s,l=s.virtual&&s.params.virtual.enabled;s.allowSlideNext=!0,s.allowSlidePrev=!0,s.updateSize(),s.updateSlides(),s.updateSlidesClasses();const o=l&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&s.isEnd&&!s.isBeginning&&!s.params.centeredSlides&&!o?s.slideTo(s.slides.length-1,0,!1,!0):s.params.loop&&!l?s.slideToLoop(s.realIndex,0,!1,!0):s.slideTo(s.activeIndex,0,!1,!0),s.autoplay&&s.autoplay.running&&s.autoplay.paused&&(clearTimeout(s.autoplay.resizeTimeout),s.autoplay.resizeTimeout=setTimeout(()=>{s.autoplay&&s.autoplay.running&&s.autoplay.paused&&s.autoplay.resume()},500)),s.allowSlidePrev=i,s.allowSlideNext=a,s.params.watchOverflow&&r!==s.snapGrid&&s.checkOverflow()}function O1(s){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&s.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(s.stopPropagation(),s.stopImmediatePropagation())))}function F1(){const s=this,{wrapperEl:t,rtlTranslate:n,enabled:a}=s;if(!a)return;s.previousTranslate=s.translate,s.isHorizontal()?s.translate=-t.scrollLeft:s.translate=-t.scrollTop,s.translate===0&&(s.translate=0),s.updateActiveIndex(),s.updateSlidesClasses();let i;const r=s.maxTranslate()-s.minTranslate();r===0?i=0:i=(s.translate-s.minTranslate())/r,i!==s.progress&&s.updateProgress(n?-s.translate:s.translate),s.emit("setTranslate",s.translate,!1)}function z1(s){const t=this;Vt(t,s.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}function B1(){const s=this;s.documentTouchHandlerProceeded||(s.documentTouchHandlerProceeded=!0,s.params.touchReleaseOnEdges&&(s.el.style.touchAction="auto"))}const Rl=(s,t)=>{const n=ms(),{params:a,el:i,wrapperEl:r,device:l}=s,o=!!a.nested,c=t==="on"?"addEventListener":"removeEventListener",d=t;!i||typeof i=="string"||(n[c]("touchstart",s.onDocumentTouchStart,{passive:!1,capture:o}),i[c]("touchstart",s.onTouchStart,{passive:!1}),i[c]("pointerdown",s.onTouchStart,{passive:!1}),n[c]("touchmove",s.onTouchMove,{passive:!1,capture:o}),n[c]("pointermove",s.onTouchMove,{passive:!1,capture:o}),n[c]("touchend",s.onTouchEnd,{passive:!0}),n[c]("pointerup",s.onTouchEnd,{passive:!0}),n[c]("pointercancel",s.onTouchEnd,{passive:!0}),n[c]("touchcancel",s.onTouchEnd,{passive:!0}),n[c]("pointerout",s.onTouchEnd,{passive:!0}),n[c]("pointerleave",s.onTouchEnd,{passive:!0}),n[c]("contextmenu",s.onTouchEnd,{passive:!0}),(a.preventClicks||a.preventClicksPropagation)&&i[c]("click",s.onClick,!0),a.cssMode&&r[c]("scroll",s.onScroll),a.updateOnWindowResize?s[d](l.ios||l.android?"resize orientationchange observerUpdate":"resize observerUpdate",Si,!0):s[d]("observerUpdate",Si,!0),i[c]("load",s.onLoad,{capture:!0}))};function q1(){const s=this,{params:t}=s;s.onTouchStart=D1.bind(s),s.onTouchMove=$1.bind(s),s.onTouchEnd=R1.bind(s),s.onDocumentTouchStart=B1.bind(s),t.cssMode&&(s.onScroll=F1.bind(s)),s.onClick=O1.bind(s),s.onLoad=z1.bind(s),Rl(s,"on")}function H1(){Rl(this,"off")}var V1={attachEvents:q1,detachEvents:H1};const Ci=(s,t)=>s.grid&&t.grid&&t.grid.rows>1;function G1(){const s=this,{realIndex:t,initialized:n,params:a,el:i}=s,r=a.breakpoints;if(!r||r&&Object.keys(r).length===0)return;const l=ms(),o=a.breakpointsBase==="window"||!a.breakpointsBase?a.breakpointsBase:"container",c=["window","container"].includes(a.breakpointsBase)||!a.breakpointsBase?s.el:l.querySelector(a.breakpointsBase),d=s.getBreakpoint(r,o,c);if(!d||s.currentBreakpoint===d)return;const u=(d in r?r[d]:void 0)||s.originalParams,x=Ci(s,a),f=Ci(s,u),p=s.params.grabCursor,g=u.grabCursor,y=a.enabled;x&&!f?(i.classList.remove(`${a.containerModifierClass}grid`,`${a.containerModifierClass}grid-column`),s.emitContainerClasses()):!x&&f&&(i.classList.add(`${a.containerModifierClass}grid`),(u.grid.fill&&u.grid.fill==="column"||!u.grid.fill&&a.grid.fill==="column")&&i.classList.add(`${a.containerModifierClass}grid-column`),s.emitContainerClasses()),p&&!g?s.unsetGrabCursor():!p&&g&&s.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(T=>{if(typeof u[T]>"u")return;const B=a[T]&&a[T].enabled,z=u[T]&&u[T].enabled;B&&!z&&s[T].disable(),!B&&z&&s[T].enable()});const j=u.direction&&u.direction!==a.direction,v=a.loop&&(u.slidesPerView!==a.slidesPerView||j),b=a.loop;j&&n&&s.changeDirection(),Ve(s.params,u);const w=s.params.enabled,C=s.params.loop;Object.assign(s,{allowTouchMove:s.params.allowTouchMove,allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev}),y&&!w?s.disable():!y&&w&&s.enable(),s.currentBreakpoint=d,s.emit("_beforeBreakpoint",u),n&&(v?(s.loopDestroy(),s.loopCreate(t),s.updateSlides()):!b&&C?(s.loopCreate(t),s.updateSlides()):b&&!C&&s.loopDestroy()),s.emit("breakpoint",u)}function U1(s,t,n){if(t===void 0&&(t="window"),!s||t==="container"&&!n)return;let a=!1;const i=Oe(),r=t==="window"?i.innerHeight:n.clientHeight,l=Object.keys(s).map(o=>{if(typeof o=="string"&&o.indexOf("@")===0){const c=parseFloat(o.substr(1));return{value:r*c,point:o}}return{value:o,point:o}});l.sort((o,c)=>parseInt(o.value,10)-parseInt(c.value,10));for(let o=0;o<l.length;o+=1){const{point:c,value:d}=l[o];t==="window"?i.matchMedia(`(min-width: ${d}px)`).matches&&(a=c):d<=n.clientWidth&&(a=c)}return a||"max"}var W1={setBreakpoint:G1,getBreakpoint:U1};function K1(s,t){const n=[];return s.forEach(a=>{typeof a=="object"?Object.keys(a).forEach(i=>{a[i]&&n.push(t+i)}):typeof a=="string"&&n.push(t+a)}),n}function Q1(){const s=this,{classNames:t,params:n,rtl:a,el:i,device:r}=s,l=K1(["initialized",n.direction,{"free-mode":s.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:a},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:r.android},{ios:r.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push(...l),i.classList.add(...t),s.emitContainerClasses()}function X1(){const s=this,{el:t,classNames:n}=s;!t||typeof t=="string"||(t.classList.remove(...n),s.emitContainerClasses())}var Y1={addClasses:Q1,removeClasses:X1};function Z1(){const s=this,{isLocked:t,params:n}=s,{slidesOffsetBefore:a}=n;if(a){const i=s.slides.length-1,r=s.slidesGrid[i]+s.slidesSizesGrid[i]+a*2;s.isLocked=s.size>r}else s.isLocked=s.snapGrid.length===1;n.allowSlideNext===!0&&(s.allowSlideNext=!s.isLocked),n.allowSlidePrev===!0&&(s.allowSlidePrev=!s.isLocked),t&&t!==s.isLocked&&(s.isEnd=!1),t!==s.isLocked&&s.emit(s.isLocked?"lock":"unlock")}var J1={checkOverflow:Z1},Wn={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function ew(s,t){return function(a){a===void 0&&(a={});const i=Object.keys(a)[0],r=a[i];if(typeof r!="object"||r===null){Ve(t,a);return}if(s[i]===!0&&(s[i]={enabled:!0}),i==="navigation"&&s[i]&&s[i].enabled&&!s[i].prevEl&&!s[i].nextEl&&(s[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&s[i]&&s[i].enabled&&!s[i].el&&(s[i].auto=!0),!(i in s&&"enabled"in r)){Ve(t,a);return}typeof s[i]=="object"&&!("enabled"in s[i])&&(s[i].enabled=!0),s[i]||(s[i]={enabled:!1}),Ve(t,a)}}const En={eventsEmitter:Yb,update:o1,translate:x1,transition:v1,slide:_1,loop:A1,grabCursor:M1,events:V1,breakpoints:W1,checkOverflow:J1,classes:Y1},An={};let Ca=class os{constructor(){let t,n;for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[t,n]=i,n||(n={}),n=Ve({},n),t&&!n.el&&(n.el=t);const l=ms();if(n.el&&typeof n.el=="string"&&l.querySelectorAll(n.el).length>1){const m=[];return l.querySelectorAll(n.el).forEach(u=>{const x=Ve({},n,{el:u});m.push(new os(x))}),m}const o=this;o.__swiper__=!0,o.support=Ml(),o.device=Ll({userAgent:n.userAgent}),o.browser=Dl(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],n.modules&&Array.isArray(n.modules)&&o.modules.push(...n.modules);const c={};o.modules.forEach(m=>{m({params:n,swiper:o,extendParams:ew(n,c),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})});const d=Ve({},Wn,c);return o.params=Ve({},d,An,n),o.originalParams=Ve({},o.params),o.passedParams=Ve({},n),o.params&&o.params.on&&Object.keys(o.params.on).forEach(m=>{o.on(m,o.params.on[m])}),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return o.params.direction==="horizontal"},isVertical(){return o.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getDirectionLabel(t){return this.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}getSlideIndex(t){const{slidesEl:n,params:a}=this,i=ns(n,`.${a.slideClass}, swiper-slide`),r=Nt(i[0]);return Nt(t)-r}getSlideIndexByData(t){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===t))}recalcSlides(){const t=this,{slidesEl:n,params:a}=t;t.slides=ns(n,`.${a.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,n){const a=this;t=Math.min(Math.max(t,0),1);const i=a.minTranslate(),l=(a.maxTranslate()-i)*t+i;a.translateTo(l,typeof n>"u"?0:n),a.updateActiveIndex(),a.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=t.el.className.split(" ").filter(a=>a.indexOf("swiper")===0||a.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",n.join(" "))}getSlideClasses(t){const n=this;return n.destroyed?"":t.className.split(" ").filter(a=>a.indexOf("swiper-slide")===0||a.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=[];t.slides.forEach(a=>{const i=t.getSlideClasses(a);n.push({slideEl:a,classNames:i}),t.emit("_slideClass",a,i)}),t.emit("_slideClasses",n)}slidesPerViewDynamic(t,n){t===void 0&&(t="current"),n===void 0&&(n=!1);const a=this,{params:i,slides:r,slidesGrid:l,slidesSizesGrid:o,size:c,activeIndex:d}=a;let m=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let u=r[d]?Math.ceil(r[d].swiperSlideSize):0,x;for(let f=d+1;f<r.length;f+=1)r[f]&&!x&&(u+=Math.ceil(r[f].swiperSlideSize),m+=1,u>c&&(x=!0));for(let f=d-1;f>=0;f-=1)r[f]&&!x&&(u+=r[f].swiperSlideSize,m+=1,u>c&&(x=!0))}else if(t==="current")for(let u=d+1;u<r.length;u+=1)(n?l[u]+o[u]-l[d]<c:l[u]-l[d]<c)&&(m+=1);else for(let u=d-1;u>=0;u-=1)l[d]-l[u]<c&&(m+=1);return m}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:n,params:a}=t;a.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(l=>{l.complete&&Vt(t,l)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function i(){const l=t.rtlTranslate?t.translate*-1:t.translate,o=Math.min(Math.max(l,t.maxTranslate()),t.minTranslate());t.setTranslate(o),t.updateActiveIndex(),t.updateSlidesClasses()}let r;if(a.freeMode&&a.freeMode.enabled&&!a.cssMode)i(),a.autoHeight&&t.updateAutoHeight();else{if((a.slidesPerView==="auto"||a.slidesPerView>1)&&t.isEnd&&!a.centeredSlides){const l=t.virtual&&a.virtual.enabled?t.virtual.slides:t.slides;r=t.slideTo(l.length-1,0,!1,!0)}else r=t.slideTo(t.activeIndex,0,!1,!0);r||i()}a.watchOverflow&&n!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,n){n===void 0&&(n=!0);const a=this,i=a.params.direction;return t||(t=i==="horizontal"?"vertical":"horizontal"),t===i||t!=="horizontal"&&t!=="vertical"||(a.el.classList.remove(`${a.params.containerModifierClass}${i}`),a.el.classList.add(`${a.params.containerModifierClass}${t}`),a.emitContainerClasses(),a.params.direction=t,a.slides.forEach(r=>{t==="vertical"?r.style.width="":r.style.height=""}),a.emit("changeDirection"),n&&a.update()),a}changeLanguageDirection(t){const n=this;n.rtl&&t==="rtl"||!n.rtl&&t==="ltr"||(n.rtl=t==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(t){const n=this;if(n.mounted)return!0;let a=t||n.params.el;if(typeof a=="string"&&(a=document.querySelector(a)),!a)return!1;a.swiper=n,a.parentNode&&a.parentNode.host&&a.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let l=a&&a.shadowRoot&&a.shadowRoot.querySelector?a.shadowRoot.querySelector(i()):ns(a,i())[0];return!l&&n.params.createElements&&(l=wt("div",n.params.wrapperClass),a.append(l),ns(a,`.${n.params.slideClass}`).forEach(o=>{l.append(o)})),Object.assign(n,{el:a,wrapperEl:l,slidesEl:n.isElement&&!a.parentNode.host.slideSlots?a.parentNode.host:l,hostEl:n.isElement?a.parentNode.host:a,mounted:!0,rtl:a.dir.toLowerCase()==="rtl"||Cs(a,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(a.dir.toLowerCase()==="rtl"||Cs(a,"direction")==="rtl"),wrongRTL:Cs(l,"display")==="-webkit-box"}),!0}init(t){const n=this;if(n.initialized||n.mount(t)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(r=>{r.complete?Vt(n,r):r.addEventListener("load",l=>{Vt(n,l.target)})}),Un(n),n.initialized=!0,Un(n),n.emit("init"),n.emit("afterInit"),n}destroy(t,n){t===void 0&&(t=!0),n===void 0&&(n=!0);const a=this,{params:i,el:r,wrapperEl:l,slides:o}=a;return typeof a.params>"u"||a.destroyed||(a.emit("beforeDestroy"),a.initialized=!1,a.detachEvents(),i.loop&&a.loopDestroy(),n&&(a.removeClasses(),r&&typeof r!="string"&&r.removeAttribute("style"),l&&l.removeAttribute("style"),o&&o.length&&o.forEach(c=>{c.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),a.emit("destroy"),Object.keys(a.eventsListeners).forEach(c=>{a.off(c)}),t!==!1&&(a.el&&typeof a.el!="string"&&(a.el.swiper=null),Ob(a)),a.destroyed=!0),null}static extendDefaults(t){Ve(An,t)}static get extendedDefaults(){return An}static get defaults(){return Wn}static installModule(t){os.prototype.__modules__||(os.prototype.__modules__=[]);const n=os.prototype.__modules__;typeof t=="function"&&n.indexOf(t)<0&&n.push(t)}static use(t){return Array.isArray(t)?(t.forEach(n=>os.installModule(n)),os):(os.installModule(t),os)}};Object.keys(En).forEach(s=>{Object.keys(En[s]).forEach(t=>{Ca.prototype[t]=En[s][t]})});Ca.use([Qb,Xb]);const Ol=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Vs(s){return typeof s=="object"&&s!==null&&s.constructor&&Object.prototype.toString.call(s).slice(8,-1)==="Object"&&!s.__swiper__}function et(s,t){const n=["__proto__","constructor","prototype"];Object.keys(t).filter(a=>n.indexOf(a)<0).forEach(a=>{typeof s[a]>"u"?s[a]=t[a]:Vs(t[a])&&Vs(s[a])&&Object.keys(t[a]).length>0?t[a].__swiper__?s[a]=t[a]:et(s[a],t[a]):s[a]=t[a]})}function Fl(s){return s===void 0&&(s={}),s.navigation&&typeof s.navigation.nextEl>"u"&&typeof s.navigation.prevEl>"u"}function zl(s){return s===void 0&&(s={}),s.pagination&&typeof s.pagination.el>"u"}function Bl(s){return s===void 0&&(s={}),s.scrollbar&&typeof s.scrollbar.el>"u"}function ql(s){s===void 0&&(s="");const t=s.split(" ").map(a=>a.trim()).filter(a=>!!a),n=[];return t.forEach(a=>{n.indexOf(a)<0&&n.push(a)}),n.join(" ")}function sw(s){return s===void 0&&(s=""),s?s.includes("swiper-wrapper")?s:`swiper-wrapper ${s}`:"swiper-wrapper"}function tw(s){let{swiper:t,slides:n,passedParams:a,changedParams:i,nextEl:r,prevEl:l,scrollbarEl:o,paginationEl:c}=s;const d=i.filter(P=>P!=="children"&&P!=="direction"&&P!=="wrapperClass"),{params:m,pagination:u,navigation:x,scrollbar:f,virtual:p,thumbs:g}=t;let y,j,v,b,w,C,T,B;i.includes("thumbs")&&a.thumbs&&a.thumbs.swiper&&!a.thumbs.swiper.destroyed&&m.thumbs&&(!m.thumbs.swiper||m.thumbs.swiper.destroyed)&&(y=!0),i.includes("controller")&&a.controller&&a.controller.control&&m.controller&&!m.controller.control&&(j=!0),i.includes("pagination")&&a.pagination&&(a.pagination.el||c)&&(m.pagination||m.pagination===!1)&&u&&!u.el&&(v=!0),i.includes("scrollbar")&&a.scrollbar&&(a.scrollbar.el||o)&&(m.scrollbar||m.scrollbar===!1)&&f&&!f.el&&(b=!0),i.includes("navigation")&&a.navigation&&(a.navigation.prevEl||l)&&(a.navigation.nextEl||r)&&(m.navigation||m.navigation===!1)&&x&&!x.prevEl&&!x.nextEl&&(w=!0);const z=P=>{t[P]&&(t[P].destroy(),P==="navigation"?(t.isElement&&(t[P].prevEl.remove(),t[P].nextEl.remove()),m[P].prevEl=void 0,m[P].nextEl=void 0,t[P].prevEl=void 0,t[P].nextEl=void 0):(t.isElement&&t[P].el.remove(),m[P].el=void 0,t[P].el=void 0))};i.includes("loop")&&t.isElement&&(m.loop&&!a.loop?C=!0:!m.loop&&a.loop?T=!0:B=!0),d.forEach(P=>{if(Vs(m[P])&&Vs(a[P]))Object.assign(m[P],a[P]),(P==="navigation"||P==="pagination"||P==="scrollbar")&&"enabled"in a[P]&&!a[P].enabled&&z(P);else{const E=a[P];(E===!0||E===!1)&&(P==="navigation"||P==="pagination"||P==="scrollbar")?E===!1&&z(P):m[P]=a[P]}}),d.includes("controller")&&!j&&t.controller&&t.controller.control&&m.controller&&m.controller.control&&(t.controller.control=m.controller.control),i.includes("children")&&n&&p&&m.virtual.enabled?(p.slides=n,p.update(!0)):i.includes("virtual")&&p&&m.virtual.enabled&&(n&&(p.slides=n),p.update(!0)),i.includes("children")&&n&&m.loop&&(B=!0),y&&g.init()&&g.update(!0),j&&(t.controller.control=m.controller.control),v&&(t.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-pagination"),c.part.add("pagination"),t.el.appendChild(c)),c&&(m.pagination.el=c),u.init(),u.render(),u.update()),b&&(t.isElement&&(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-scrollbar"),o.part.add("scrollbar"),t.el.appendChild(o)),o&&(m.scrollbar.el=o),f.init(),f.updateSize(),f.setTranslate()),w&&(t.isElement&&((!r||typeof r=="string")&&(r=document.createElement("div"),r.classList.add("swiper-button-next"),r.innerHTML=t.hostEl.constructor.nextButtonSvg,r.part.add("button-next"),t.el.appendChild(r)),(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-button-prev"),l.innerHTML=t.hostEl.constructor.prevButtonSvg,l.part.add("button-prev"),t.el.appendChild(l))),r&&(m.navigation.nextEl=r),l&&(m.navigation.prevEl=l),x.init(),x.update()),i.includes("allowSlideNext")&&(t.allowSlideNext=a.allowSlideNext),i.includes("allowSlidePrev")&&(t.allowSlidePrev=a.allowSlidePrev),i.includes("direction")&&t.changeDirection(a.direction,!1),(C||B)&&t.loopDestroy(),(T||B)&&t.loopCreate(),t.update()}function nw(s,t){s===void 0&&(s={}),t===void 0&&(t=!0);const n={on:{}},a={},i={};et(n,Wn),n._emitClasses=!0,n.init=!1;const r={},l=Ol.map(c=>c.replace(/_/,"")),o=Object.assign({},s);return Object.keys(o).forEach(c=>{typeof s[c]>"u"||(l.indexOf(c)>=0?Vs(s[c])?(n[c]={},i[c]={},et(n[c],s[c]),et(i[c],s[c])):(n[c]=s[c],i[c]=s[c]):c.search(/on[A-Z]/)===0&&typeof s[c]=="function"?t?a[`${c[2].toLowerCase()}${c.substr(3)}`]=s[c]:n.on[`${c[2].toLowerCase()}${c.substr(3)}`]=s[c]:r[c]=s[c])}),["navigation","pagination","scrollbar"].forEach(c=>{n[c]===!0&&(n[c]={}),n[c]===!1&&delete n[c]}),{params:n,passedParams:i,rest:r,events:a}}function aw(s,t){let{el:n,nextEl:a,prevEl:i,paginationEl:r,scrollbarEl:l,swiper:o}=s;Fl(t)&&a&&i&&(o.params.navigation.nextEl=a,o.originalParams.navigation.nextEl=a,o.params.navigation.prevEl=i,o.originalParams.navigation.prevEl=i),zl(t)&&r&&(o.params.pagination.el=r,o.originalParams.pagination.el=r),Bl(t)&&l&&(o.params.scrollbar.el=l,o.originalParams.scrollbar.el=l),o.init(n)}function iw(s,t,n,a,i){const r=[];if(!t)return r;const l=c=>{r.indexOf(c)<0&&r.push(c)};if(n&&a){const c=a.map(i),d=n.map(i);c.join("")!==d.join("")&&l("children"),a.length!==n.length&&l("children")}return Ol.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in s&&c in t)if(Vs(s[c])&&Vs(t[c])){const d=Object.keys(s[c]),m=Object.keys(t[c]);d.length!==m.length?l(c):(d.forEach(u=>{s[c][u]!==t[c][u]&&l(c)}),m.forEach(u=>{s[c][u]!==t[c][u]&&l(c)}))}else s[c]!==t[c]&&l(c)}),r}const rw=s=>{!s||s.destroyed||!s.params.virtual||s.params.virtual&&!s.params.virtual.enabled||(s.updateSlides(),s.updateProgress(),s.updateSlidesClasses(),s.parallax&&s.params.parallax&&s.params.parallax.enabled&&s.parallax.setTranslate())};function sn(){return sn=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(s[a]=n[a])}return s},sn.apply(this,arguments)}function Hl(s){return s.type&&s.type.displayName&&s.type.displayName.includes("SwiperSlide")}function Vl(s){const t=[];return xe.Children.toArray(s).forEach(n=>{Hl(n)?t.push(n):n.props&&n.props.children&&Vl(n.props.children).forEach(a=>t.push(a))}),t}function lw(s){const t=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return xe.Children.toArray(s).forEach(a=>{if(Hl(a))t.push(a);else if(a.props&&a.props.slot&&n[a.props.slot])n[a.props.slot].push(a);else if(a.props&&a.props.children){const i=Vl(a.props.children);i.length>0?i.forEach(r=>t.push(r)):n["container-end"].push(a)}else n["container-end"].push(a)}),{slides:t,slots:n}}function ow(s,t,n){if(!n)return null;const a=m=>{let u=m;return m<0?u=t.length+m:u>=t.length&&(u=u-t.length),u},i=s.isHorizontal()?{[s.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:r,to:l}=n,o=s.params.loop?-t.length:0,c=s.params.loop?t.length*2:t.length,d=[];for(let m=o;m<c;m+=1)m>=r&&m<=l&&d.push(t[a(m)]);return d.map((m,u)=>xe.cloneElement(m,{swiper:s,style:i,key:m.props.virtualIndex||m.key||`slide-${u}`}))}function ft(s,t){return typeof window>"u"?h.useEffect(s,t):h.useLayoutEffect(s,t)}const _i=h.createContext(null),cw=h.createContext(null),Gl=h.forwardRef(function(s,t){let{className:n,tag:a="div",wrapperTag:i="div",children:r,onSwiper:l,...o}=s===void 0?{}:s,c=!1;const[d,m]=h.useState("swiper"),[u,x]=h.useState(null),[f,p]=h.useState(!1),g=h.useRef(!1),y=h.useRef(null),j=h.useRef(null),v=h.useRef(null),b=h.useRef(null),w=h.useRef(null),C=h.useRef(null),T=h.useRef(null),B=h.useRef(null),{params:z,passedParams:P,rest:E,events:S}=nw(o),{slides:N,slots:F}=lw(r),R=()=>{p(!f)};Object.assign(z.on,{_containerClasses(W,ee){m(ee)}});const O=()=>{Object.assign(z.on,S),c=!0;const W={...z};if(delete W.wrapperClass,j.current=new Ca(W),j.current.virtual&&j.current.params.virtual.enabled){j.current.virtual.slides=N;const ee={cache:!1,slides:N,renderExternal:x,renderExternalUpdate:!1};et(j.current.params.virtual,ee),et(j.current.originalParams.virtual,ee)}};y.current||O(),j.current&&j.current.on("_beforeBreakpoint",R);const D=()=>{c||!S||!j.current||Object.keys(S).forEach(W=>{j.current.on(W,S[W])})},_=()=>{!S||!j.current||Object.keys(S).forEach(W=>{j.current.off(W,S[W])})};h.useEffect(()=>()=>{j.current&&j.current.off("_beforeBreakpoint",R)}),h.useEffect(()=>{!g.current&&j.current&&(j.current.emitSlidesClasses(),g.current=!0)}),ft(()=>{if(t&&(t.current=y.current),!!y.current)return j.current.destroyed&&O(),aw({el:y.current,nextEl:w.current,prevEl:C.current,paginationEl:T.current,scrollbarEl:B.current,swiper:j.current},z),l&&!j.current.destroyed&&l(j.current),()=>{j.current&&!j.current.destroyed&&j.current.destroy(!0,!1)}},[]),ft(()=>{D();const W=iw(P,v.current,N,b.current,ee=>ee.key);return v.current=P,b.current=N,W.length&&j.current&&!j.current.destroyed&&tw({swiper:j.current,slides:N,passedParams:P,changedParams:W,nextEl:w.current,prevEl:C.current,scrollbarEl:B.current,paginationEl:T.current}),()=>{_()}}),ft(()=>{rw(j.current)},[u]);function A(){return z.virtual?ow(j.current,N,u):N.map((W,ee)=>xe.cloneElement(W,{swiper:j.current,swiperSlideIndex:ee}))}return xe.createElement(a,sn({ref:y,className:ql(`${d}${n?` ${n}`:""}`)},E),xe.createElement(cw.Provider,{value:j.current},F["container-start"],xe.createElement(i,{className:sw(z.wrapperClass)},F["wrapper-start"],A(),F["wrapper-end"]),Fl(z)&&xe.createElement(xe.Fragment,null,xe.createElement("div",{ref:C,className:"swiper-button-prev"}),xe.createElement("div",{ref:w,className:"swiper-button-next"})),Bl(z)&&xe.createElement("div",{ref:B,className:"swiper-scrollbar"}),zl(z)&&xe.createElement("div",{ref:T,className:"swiper-pagination"}),F["container-end"]))});Gl.displayName="Swiper";const Ul=h.forwardRef(function(s,t){let{tag:n="div",children:a,className:i="",swiper:r,zoom:l,lazy:o,virtualIndex:c,swiperSlideIndex:d,...m}=s===void 0?{}:s;const u=h.useRef(null),[x,f]=h.useState("swiper-slide"),[p,g]=h.useState(!1);function y(w,C,T){C===u.current&&f(T)}ft(()=>{if(typeof d<"u"&&(u.current.swiperSlideIndex=d),t&&(t.current=u.current),!(!u.current||!r)){if(r.destroyed){x!=="swiper-slide"&&f("swiper-slide");return}return r.on("_slideClass",y),()=>{r&&r.off("_slideClass",y)}}}),ft(()=>{r&&u.current&&!r.destroyed&&f(r.getSlideClasses(u.current))},[r]);const j={isActive:x.indexOf("swiper-slide-active")>=0,isVisible:x.indexOf("swiper-slide-visible")>=0,isPrev:x.indexOf("swiper-slide-prev")>=0,isNext:x.indexOf("swiper-slide-next")>=0},v=()=>typeof a=="function"?a(j):a,b=()=>{g(!0)};return xe.createElement(n,sn({ref:u,className:ql(`${x}${i?` ${i}`:""}`),"data-swiper-slide-index":c,onLoad:b},m),l&&xe.createElement(_i.Provider,{value:j},xe.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof l=="number"?l:void 0},v(),o&&!p&&xe.createElement("div",{className:"swiper-lazy-preloader"}))),!l&&xe.createElement(_i.Provider,{value:j},v(),o&&!p&&xe.createElement("div",{className:"swiper-lazy-preloader"})))});Ul.displayName="SwiperSlide";function Wl(s,t,n,a){return s.params.createElements&&Object.keys(a).forEach(i=>{if(!n[i]&&n.auto===!0){let r=ns(s.el,`.${a[i]}`)[0];r||(r=wt("div",a[i]),r.className=a[i],s.el.append(r)),n[i]=r,t[i]=r}}),n}function dw(s){let{swiper:t,extendParams:n,on:a,emit:i}=s;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};function r(p){let g;return p&&typeof p=="string"&&t.isElement&&(g=t.el.querySelector(p)||t.hostEl.querySelector(p),g)?g:(p&&(typeof p=="string"&&(g=[...document.querySelectorAll(p)]),t.params.uniqueNavElements&&typeof p=="string"&&g&&g.length>1&&t.el.querySelectorAll(p).length===1?g=t.el.querySelector(p):g&&g.length===1&&(g=g[0])),p&&!g?p:g)}function l(p,g){const y=t.params.navigation;p=re(p),p.forEach(j=>{j&&(j.classList[g?"add":"remove"](...y.disabledClass.split(" ")),j.tagName==="BUTTON"&&(j.disabled=g),t.params.watchOverflow&&t.enabled&&j.classList[t.isLocked?"add":"remove"](y.lockClass))})}function o(){const{nextEl:p,prevEl:g}=t.navigation;if(t.params.loop){l(g,!1),l(p,!1);return}l(g,t.isBeginning&&!t.params.rewind),l(p,t.isEnd&&!t.params.rewind)}function c(p){p.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),i("navigationPrev"))}function d(p){p.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),i("navigationNext"))}function m(){const p=t.params.navigation;if(t.params.navigation=Wl(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(p.nextEl||p.prevEl))return;let g=r(p.nextEl),y=r(p.prevEl);Object.assign(t.navigation,{nextEl:g,prevEl:y}),g=re(g),y=re(y);const j=(v,b)=>{v&&v.addEventListener("click",b==="next"?d:c),!t.enabled&&v&&v.classList.add(...p.lockClass.split(" "))};g.forEach(v=>j(v,"next")),y.forEach(v=>j(v,"prev"))}function u(){let{nextEl:p,prevEl:g}=t.navigation;p=re(p),g=re(g);const y=(j,v)=>{j.removeEventListener("click",v==="next"?d:c),j.classList.remove(...t.params.navigation.disabledClass.split(" "))};p.forEach(j=>y(j,"next")),g.forEach(j=>y(j,"prev"))}a("init",()=>{t.params.navigation.enabled===!1?f():(m(),o())}),a("toEdge fromEdge lock unlock",()=>{o()}),a("destroy",()=>{u()}),a("enable disable",()=>{let{nextEl:p,prevEl:g}=t.navigation;if(p=re(p),g=re(g),t.enabled){o();return}[...p,...g].filter(y=>!!y).forEach(y=>y.classList.add(t.params.navigation.lockClass))}),a("click",(p,g)=>{let{nextEl:y,prevEl:j}=t.navigation;y=re(y),j=re(j);const v=g.target;let b=j.includes(v)||y.includes(v);if(t.isElement&&!b){const w=g.path||g.composedPath&&g.composedPath();w&&(b=w.find(C=>y.includes(C)||j.includes(C)))}if(t.params.navigation.hideOnClick&&!b){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===v||t.pagination.el.contains(v)))return;let w;y.length?w=y[0].classList.contains(t.params.navigation.hiddenClass):j.length&&(w=j[0].classList.contains(t.params.navigation.hiddenClass)),i(w===!0?"navigationShow":"navigationHide"),[...y,...j].filter(C=>!!C).forEach(C=>C.classList.toggle(t.params.navigation.hiddenClass))}});const x=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),m(),o()},f=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),u()};Object.assign(t.navigation,{enable:x,disable:f,update:o,init:m,destroy:u})}function Ss(s){return s===void 0&&(s=""),`.${s.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function hw(s){let{swiper:t,extendParams:n,on:a,emit:i}=s;const r="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:v=>v,formatFractionTotal:v=>v,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),t.pagination={el:null,bullets:[]};let l,o=0;function c(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&t.pagination.el.length===0}function d(v,b){const{bulletActiveClass:w}=t.params.pagination;v&&(v=v[`${b==="prev"?"previous":"next"}ElementSibling`],v&&(v.classList.add(`${w}-${b}`),v=v[`${b==="prev"?"previous":"next"}ElementSibling`],v&&v.classList.add(`${w}-${b}-${b}`)))}function m(v,b,w){if(v=v%w,b=b%w,b===v+1)return"next";if(b===v-1)return"previous"}function u(v){const b=v.target.closest(Ss(t.params.pagination.bulletClass));if(!b)return;v.preventDefault();const w=Nt(b)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===w)return;const C=m(t.realIndex,w,t.slides.length);C==="next"?t.slideNext():C==="previous"?t.slidePrev():t.slideToLoop(w)}else t.slideTo(w)}function x(){const v=t.rtl,b=t.params.pagination;if(c())return;let w=t.pagination.el;w=re(w);let C,T;const B=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,z=t.params.loop?Math.ceil(B/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(T=t.previousRealIndex||0,C=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):typeof t.snapIndex<"u"?(C=t.snapIndex,T=t.previousSnapIndex):(T=t.previousIndex||0,C=t.activeIndex||0),b.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const P=t.pagination.bullets;let E,S,N;if(b.dynamicBullets&&(l=Gn(P[0],t.isHorizontal()?"width":"height"),w.forEach(F=>{F.style[t.isHorizontal()?"width":"height"]=`${l*(b.dynamicMainBullets+4)}px`}),b.dynamicMainBullets>1&&T!==void 0&&(o+=C-(T||0),o>b.dynamicMainBullets-1?o=b.dynamicMainBullets-1:o<0&&(o=0)),E=Math.max(C-o,0),S=E+(Math.min(P.length,b.dynamicMainBullets)-1),N=(S+E)/2),P.forEach(F=>{const R=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(O=>`${b.bulletActiveClass}${O}`)].map(O=>typeof O=="string"&&O.includes(" ")?O.split(" "):O).flat();F.classList.remove(...R)}),w.length>1)P.forEach(F=>{const R=Nt(F);R===C?F.classList.add(...b.bulletActiveClass.split(" ")):t.isElement&&F.setAttribute("part","bullet"),b.dynamicBullets&&(R>=E&&R<=S&&F.classList.add(...`${b.bulletActiveClass}-main`.split(" ")),R===E&&d(F,"prev"),R===S&&d(F,"next"))});else{const F=P[C];if(F&&F.classList.add(...b.bulletActiveClass.split(" ")),t.isElement&&P.forEach((R,O)=>{R.setAttribute("part",O===C?"bullet-active":"bullet")}),b.dynamicBullets){const R=P[E],O=P[S];for(let D=E;D<=S;D+=1)P[D]&&P[D].classList.add(...`${b.bulletActiveClass}-main`.split(" "));d(R,"prev"),d(O,"next")}}if(b.dynamicBullets){const F=Math.min(P.length,b.dynamicMainBullets+4),R=(l*F-l)/2-N*l,O=v?"right":"left";P.forEach(D=>{D.style[t.isHorizontal()?O:"top"]=`${R}px`})}}w.forEach((P,E)=>{if(b.type==="fraction"&&(P.querySelectorAll(Ss(b.currentClass)).forEach(S=>{S.textContent=b.formatFractionCurrent(C+1)}),P.querySelectorAll(Ss(b.totalClass)).forEach(S=>{S.textContent=b.formatFractionTotal(z)})),b.type==="progressbar"){let S;b.progressbarOpposite?S=t.isHorizontal()?"vertical":"horizontal":S=t.isHorizontal()?"horizontal":"vertical";const N=(C+1)/z;let F=1,R=1;S==="horizontal"?F=N:R=N,P.querySelectorAll(Ss(b.progressbarFillClass)).forEach(O=>{O.style.transform=`translate3d(0,0,0) scaleX(${F}) scaleY(${R})`,O.style.transitionDuration=`${t.params.speed}ms`})}b.type==="custom"&&b.renderCustom?(P.innerHTML=b.renderCustom(t,C+1,z),E===0&&i("paginationRender",P)):(E===0&&i("paginationRender",P),i("paginationUpdate",P)),t.params.watchOverflow&&t.enabled&&P.classList[t.isLocked?"add":"remove"](b.lockClass)})}function f(){const v=t.params.pagination;if(c())return;const b=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let w=t.pagination.el;w=re(w);let C="";if(v.type==="bullets"){let T=t.params.loop?Math.ceil(b/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&T>b&&(T=b);for(let B=0;B<T;B+=1)v.renderBullet?C+=v.renderBullet.call(t,B,v.bulletClass):C+=`<${v.bulletElement} ${t.isElement?'part="bullet"':""} class="${v.bulletClass}"></${v.bulletElement}>`}v.type==="fraction"&&(v.renderFraction?C=v.renderFraction.call(t,v.currentClass,v.totalClass):C=`<span class="${v.currentClass}"></span> / <span class="${v.totalClass}"></span>`),v.type==="progressbar"&&(v.renderProgressbar?C=v.renderProgressbar.call(t,v.progressbarFillClass):C=`<span class="${v.progressbarFillClass}"></span>`),t.pagination.bullets=[],w.forEach(T=>{v.type!=="custom"&&(T.innerHTML=C||""),v.type==="bullets"&&t.pagination.bullets.push(...T.querySelectorAll(Ss(v.bulletClass)))}),v.type!=="custom"&&i("paginationRender",w[0])}function p(){t.params.pagination=Wl(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const v=t.params.pagination;if(!v.el)return;let b;typeof v.el=="string"&&t.isElement&&(b=t.el.querySelector(v.el)),!b&&typeof v.el=="string"&&(b=[...document.querySelectorAll(v.el)]),b||(b=v.el),!(!b||b.length===0)&&(t.params.uniqueNavElements&&typeof v.el=="string"&&Array.isArray(b)&&b.length>1&&(b=[...t.el.querySelectorAll(v.el)],b.length>1&&(b=b.find(w=>Il(w,".swiper")[0]===t.el))),Array.isArray(b)&&b.length===1&&(b=b[0]),Object.assign(t.pagination,{el:b}),b=re(b),b.forEach(w=>{v.type==="bullets"&&v.clickable&&w.classList.add(...(v.clickableClass||"").split(" ")),w.classList.add(v.modifierClass+v.type),w.classList.add(t.isHorizontal()?v.horizontalClass:v.verticalClass),v.type==="bullets"&&v.dynamicBullets&&(w.classList.add(`${v.modifierClass}${v.type}-dynamic`),o=0,v.dynamicMainBullets<1&&(v.dynamicMainBullets=1)),v.type==="progressbar"&&v.progressbarOpposite&&w.classList.add(v.progressbarOppositeClass),v.clickable&&w.addEventListener("click",u),t.enabled||w.classList.add(v.lockClass)}))}function g(){const v=t.params.pagination;if(c())return;let b=t.pagination.el;b&&(b=re(b),b.forEach(w=>{w.classList.remove(v.hiddenClass),w.classList.remove(v.modifierClass+v.type),w.classList.remove(t.isHorizontal()?v.horizontalClass:v.verticalClass),v.clickable&&(w.classList.remove(...(v.clickableClass||"").split(" ")),w.removeEventListener("click",u))})),t.pagination.bullets&&t.pagination.bullets.forEach(w=>w.classList.remove(...v.bulletActiveClass.split(" ")))}a("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const v=t.params.pagination;let{el:b}=t.pagination;b=re(b),b.forEach(w=>{w.classList.remove(v.horizontalClass,v.verticalClass),w.classList.add(t.isHorizontal()?v.horizontalClass:v.verticalClass)})}),a("init",()=>{t.params.pagination.enabled===!1?j():(p(),f(),x())}),a("activeIndexChange",()=>{typeof t.snapIndex>"u"&&x()}),a("snapIndexChange",()=>{x()}),a("snapGridLengthChange",()=>{f(),x()}),a("destroy",()=>{g()}),a("enable disable",()=>{let{el:v}=t.pagination;v&&(v=re(v),v.forEach(b=>b.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),a("lock unlock",()=>{x()}),a("click",(v,b)=>{const w=b.target,C=re(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&C&&C.length>0&&!w.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&w===t.navigation.nextEl||t.navigation.prevEl&&w===t.navigation.prevEl))return;const T=C[0].classList.contains(t.params.pagination.hiddenClass);i(T===!0?"paginationShow":"paginationHide"),C.forEach(B=>B.classList.toggle(t.params.pagination.hiddenClass))}});const y=()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:v}=t.pagination;v&&(v=re(v),v.forEach(b=>b.classList.remove(t.params.pagination.paginationDisabledClass))),p(),f(),x()},j=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:v}=t.pagination;v&&(v=re(v),v.forEach(b=>b.classList.add(t.params.pagination.paginationDisabledClass))),g()};Object.assign(t.pagination,{enable:y,disable:j,render:f,update:x,init:p,destroy:g})}function uw(s){let{swiper:t,extendParams:n,on:a}=s;n({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,containerRole:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null,scrollOnFocus:!0}}),t.a11y={clicked:!1};let i=null,r,l,o=new Date().getTime();function c(_){const A=i;A.length!==0&&(A.innerHTML="",A.innerHTML=_)}function d(_){const A=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(_).replace(/x/g,A)}function m(_){_=re(_),_.forEach(A=>{A.setAttribute("tabIndex","0")})}function u(_){_=re(_),_.forEach(A=>{A.setAttribute("tabIndex","-1")})}function x(_,A){_=re(_),_.forEach(W=>{W.setAttribute("role",A)})}function f(_,A){_=re(_),_.forEach(W=>{W.setAttribute("aria-roledescription",A)})}function p(_,A){_=re(_),_.forEach(W=>{W.setAttribute("aria-controls",A)})}function g(_,A){_=re(_),_.forEach(W=>{W.setAttribute("aria-label",A)})}function y(_,A){_=re(_),_.forEach(W=>{W.setAttribute("id",A)})}function j(_,A){_=re(_),_.forEach(W=>{W.setAttribute("aria-live",A)})}function v(_){_=re(_),_.forEach(A=>{A.setAttribute("aria-disabled",!0)})}function b(_){_=re(_),_.forEach(A=>{A.setAttribute("aria-disabled",!1)})}function w(_){if(_.keyCode!==13&&_.keyCode!==32)return;const A=t.params.a11y,W=_.target;if(!(t.pagination&&t.pagination.el&&(W===t.pagination.el||t.pagination.el.contains(_.target))&&!_.target.matches(Ss(t.params.pagination.bulletClass)))){if(t.navigation&&t.navigation.prevEl&&t.navigation.nextEl){const ee=re(t.navigation.prevEl);re(t.navigation.nextEl).includes(W)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?c(A.lastSlideMessage):c(A.nextSlideMessage)),ee.includes(W)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?c(A.firstSlideMessage):c(A.prevSlideMessage))}t.pagination&&W.matches(Ss(t.params.pagination.bulletClass))&&W.click()}}function C(){if(t.params.loop||t.params.rewind||!t.navigation)return;const{nextEl:_,prevEl:A}=t.navigation;A&&(t.isBeginning?(v(A),u(A)):(b(A),m(A))),_&&(t.isEnd?(v(_),u(_)):(b(_),m(_)))}function T(){return t.pagination&&t.pagination.bullets&&t.pagination.bullets.length}function B(){return T()&&t.params.pagination.clickable}function z(){const _=t.params.a11y;T()&&t.pagination.bullets.forEach(A=>{t.params.pagination.clickable&&(m(A),t.params.pagination.renderBullet||(x(A,"button"),g(A,_.paginationBulletMessage.replace(/\{\{index\}\}/,Nt(A)+1)))),A.matches(Ss(t.params.pagination.bulletActiveClass))?A.setAttribute("aria-current","true"):A.removeAttribute("aria-current")})}const P=(_,A,W)=>{m(_),_.tagName!=="BUTTON"&&(x(_,"button"),_.addEventListener("keydown",w)),g(_,W),p(_,A)},E=_=>{l&&l!==_.target&&!l.contains(_.target)&&(r=!0),t.a11y.clicked=!0},S=()=>{r=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>{t.destroyed||(t.a11y.clicked=!1)})})},N=_=>{o=new Date().getTime()},F=_=>{if(t.a11y.clicked||!t.params.a11y.scrollOnFocus||new Date().getTime()-o<100)return;const A=_.target.closest(`.${t.params.slideClass}, swiper-slide`);if(!A||!t.slides.includes(A))return;l=A;const W=t.slides.indexOf(A)===t.activeIndex,ee=t.params.watchSlidesProgress&&t.visibleSlides&&t.visibleSlides.includes(A);W||ee||_.sourceCapabilities&&_.sourceCapabilities.firesTouchEvents||(t.isHorizontal()?t.el.scrollLeft=0:t.el.scrollTop=0,requestAnimationFrame(()=>{r||(t.params.loop?t.slideToLoop(parseInt(A.getAttribute("data-swiper-slide-index")),0):t.slideTo(t.slides.indexOf(A),0),r=!1)}))},R=()=>{const _=t.params.a11y;_.itemRoleDescriptionMessage&&f(t.slides,_.itemRoleDescriptionMessage),_.slideRole&&x(t.slides,_.slideRole);const A=t.slides.length;_.slideLabelMessage&&t.slides.forEach((W,ee)=>{const Ne=t.params.loop?parseInt(W.getAttribute("data-swiper-slide-index"),10):ee,ae=_.slideLabelMessage.replace(/\{\{index\}\}/,Ne+1).replace(/\{\{slidesLength\}\}/,A);g(W,ae)})},O=()=>{const _=t.params.a11y;t.el.append(i);const A=t.el;_.containerRoleDescriptionMessage&&f(A,_.containerRoleDescriptionMessage),_.containerMessage&&g(A,_.containerMessage),_.containerRole&&x(A,_.containerRole);const W=t.wrapperEl,ee=_.id||W.getAttribute("id")||`swiper-wrapper-${d(16)}`,Ne=t.params.autoplay&&t.params.autoplay.enabled?"off":"polite";y(W,ee),j(W,Ne),R();let{nextEl:ae,prevEl:de}=t.navigation?t.navigation:{};ae=re(ae),de=re(de),ae&&ae.forEach(ie=>P(ie,ee,_.nextSlideMessage)),de&&de.forEach(ie=>P(ie,ee,_.prevSlideMessage)),B()&&re(t.pagination.el).forEach($e=>{$e.addEventListener("keydown",w)}),ms().addEventListener("visibilitychange",N),t.el.addEventListener("focus",F,!0),t.el.addEventListener("focus",F,!0),t.el.addEventListener("pointerdown",E,!0),t.el.addEventListener("pointerup",S,!0)};function D(){i&&i.remove();let{nextEl:_,prevEl:A}=t.navigation?t.navigation:{};_=re(_),A=re(A),_&&_.forEach(ee=>ee.removeEventListener("keydown",w)),A&&A.forEach(ee=>ee.removeEventListener("keydown",w)),B()&&re(t.pagination.el).forEach(Ne=>{Ne.removeEventListener("keydown",w)}),ms().removeEventListener("visibilitychange",N),t.el&&typeof t.el!="string"&&(t.el.removeEventListener("focus",F,!0),t.el.removeEventListener("pointerdown",E,!0),t.el.removeEventListener("pointerup",S,!0))}a("beforeInit",()=>{i=wt("span",t.params.a11y.notificationClass),i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true")}),a("afterInit",()=>{t.params.a11y.enabled&&O()}),a("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{t.params.a11y.enabled&&R()}),a("fromEdge toEdge afterInit lock unlock",()=>{t.params.a11y.enabled&&C()}),a("paginationUpdate",()=>{t.params.a11y.enabled&&z()}),a("destroy",()=>{t.params.a11y.enabled&&D()})}function Kl(s){return Ze({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(s)}const ki=["Landmark","Hotel Amenities","Local Cuisine","Area Map","Activity and Experiences","Tours","Transportation","Dining"],mw=({references:s})=>{const[t,n]=h.useState({}),[a,i]=h.useState(!0),[r,l]=h.useState(ki[0]),[o,c]=h.useState(null);h.useEffect(()=>{i(!0);let y=0;if(s.length===0){i(!1);return}s.forEach(j=>{j.type==="document"&&j.url.endsWith(".txt")&&!t[j.url]?fetch(j.url).then(v=>v.text()).then(v=>{n(b=>({...b,[j.url]:v})),y++,y===s.length&&i(!1)}).catch(()=>{y++,y===s.length&&i(!1)}):(y++,y===s.length&&i(!1))}),s.every(j=>j.type!=="document"||!j.url.endsWith(".txt"))&&i(!1)},[s]);const d=y=>/^https?:\/\//.test(y)?y:`/${y.replace(/^\//,"")}`,m=async(y,j)=>{try{const b=await(await fetch(d(y))).blob(),w=URL.createObjectURL(b),C=document.createElement("a");C.href=w,C.download=j,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(w)}catch(v){console.error("Error downloading file:",v)}},u=y=>{window.open(d(y),"_blank")},x=()=>e.jsxs("div",{className:"animate-pulse bg-white/80 rounded-xl shadow-md h-[180px] flex flex-col p-4 gap-2",children:[e.jsx("div",{className:"bg-gray-200 rounded w-full h-2/3 mb-2"}),e.jsx("div",{className:"bg-gray-200 rounded w-2/3 h-4 mb-1"}),e.jsx("div",{className:"bg-gray-100 rounded w-1/2 h-3"})]}),f=y=>e.jsxs("div",{className:"group bg-white/90 rounded-xl shadow-md h-[180px] flex flex-col justify-between cursor-pointer transition-transform duration-200 hover:scale-[1.03] active:scale-95 border border-white/40 backdrop-blur-md",style:{minWidth:220,maxWidth:260},onClick:()=>y.type==="link"?u(y.url):void 0,children:[e.jsxs("div",{className:"flex-1 flex items-center justify-center overflow-hidden rounded-t-xl",style:{height:"60%"},children:[y.type==="image"&&e.jsx("img",{src:d(y.url),alt:y.title,className:"object-cover w-full h-full rounded-t-xl hover:opacity-80 transition cursor-zoom-in",onClick:j=>{j.stopPropagation(),c(d(y.url))},tabIndex:0,onKeyDown:j=>{(j.key==="Enter"||j.key===" ")&&c(d(y.url))}}),y.type==="document"&&y.url.endsWith(".pdf")&&e.jsx("span",{className:"material-icons text-5xl text-blue-700/80",children:"picture_as_pdf"}),y.type==="document"&&y.url.endsWith(".txt")&&e.jsx("span",{className:"material-icons text-5xl text-green-700/80",children:"description"}),y.type==="link"&&e.jsx("span",{className:"material-icons text-5xl text-yellow-700/80",children:"link"})]}),e.jsxs("div",{className:"flex flex-col gap-1 px-3 py-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-base font-medium text-gray-900 truncate",children:y.title}),y.type==="document"&&e.jsx("button",{onClick:j=>{j.stopPropagation(),m(y.url,y.title)},className:"ml-auto p-1 rounded-full hover:bg-yellow-100 text-yellow-700 transition-colors",children:e.jsx("span",{className:"material-icons text-base",children:"download"})}),y.type==="link"&&e.jsx("span",{className:"material-icons text-xs text-gray-400 ml-1",children:"open_in_new"})]}),y.description&&e.jsx("span",{className:"text-xs text-gray-500 truncate",children:y.description}),y.url.endsWith(".txt")&&t[y.url]&&e.jsxs("pre",{className:"mt-1 max-h-12 overflow-auto whitespace-pre-wrap text-xs text-gray-700 bg-gray-50 rounded p-1",children:[t[y.url].slice(0,120),"..."]})]})]}),p=()=>window.innerWidth<640?"auto":window.innerWidth<1024?2:window.innerWidth<1280?3:4,g=s.filter(y=>y.category&&y.category.trim().toLowerCase()===r.trim().toLowerCase());return e.jsxs("div",{className:"w-full sm:max-w-5xl mx-auto mt-2 mb-2 px-2 py-3 rounded-2xl",style:{background:"rgba(85,154,154,0.85)",minHeight:260},children:[o&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",onClick:()=>c(null),children:e.jsxs("div",{className:"relative max-w-3xl w-full flex flex-col items-center",children:[e.jsx("button",{className:"absolute top-2 right-2 bg-white/80 hover:bg-white text-gray-800 rounded-full p-2 shadow-lg z-10",onClick:y=>{y.stopPropagation(),c(null)},children:e.jsx("span",{className:"material-icons text-2xl",children:"close"})}),e.jsx("img",{src:o,alt:"Phóng to ảnh reference",className:"rounded-xl max-h-[80vh] w-auto object-contain border-4 border-white shadow-2xl",onClick:y=>y.stopPropagation()})]})}),e.jsx("div",{className:"flex items-center mb-4 px-2",children:e.jsxs("div",{className:"flex items-center px-3 py-2 sm:py-1.5 gap-2 transition-all duration-300 mx-auto sm:mx-0",style:{background:"linear-gradient(135deg, #79DBDC 0%, #559A9A 100%)",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.15)",borderRadius:"8px",minWidth:"150px",maxWidth:"95%",width:"auto",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[e.jsx(Nu,{className:"text-[#F9BF3B] text-xl mr-1.5",style:{filter:"drop-shadow(0px 2px 3px rgba(0, 0, 0, 0.2))"}}),e.jsx("label",{className:"mr-2 font-semibold font-sans text-white whitespace-nowrap text-sm sm:text-base",children:"Category:"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("select",{value:r,onChange:y=>l(y.target.value),className:"appearance-none w-full pl-6 sm:pl-8 pr-6 py-1 sm:py-1.5 font-sans bg-transparent focus:outline-none transition-all duration-200",style:{fontWeight:600,color:"#fff",textShadow:"0px 1px 2px rgba(0, 0, 0, 0.2)",borderRadius:"8px"},children:ki.map(y=>e.jsx("option",{value:y,className:"bg-blue-800 text-white",children:y},y))}),e.jsx(Kl,{className:"absolute right-2 top-1/2 -translate-y-1/2 text-[#F9BF3B] pointer-events-none text-lg"})]})]})}),a?e.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2",children:[...Array(3)].map((y,j)=>e.jsx(x,{},j))}):g.length===0?e.jsx("div",{className:"flex items-center justify-center h-[120px] text-white/80 text-base font-medium",children:"No references available"}):e.jsx(Gl,{modules:[dw,hw,uw],spaceBetween:16,slidesPerView:p(),navigation:g.length>3,pagination:{clickable:!0,dynamicBullets:!0},className:"w-full",style:{paddingBottom:32,overflowX:window.innerWidth<640?"auto":void 0},children:g.map((y,j)=>e.jsx(Ul,{className:"flex justify-center",style:window.innerWidth<640?{width:"90vw",maxWidth:"98vw",minWidth:0}:{},children:f(y)},y.url+j))})]})};class xw{constructor(){this.referenceMap={}}async initialize(){try{const t=await fetch("/assets/references/reference-map.json");this.referenceMap=await t.json(),console.log("Loaded referenceMap:",this.referenceMap)}catch(t){console.error("Error loading reference map:",t)}}findReferences(t){const n=t.toLowerCase(),a=[];return Object.values(this.referenceMap).forEach(i=>{i.keywords.some(l=>n.includes(l.toLowerCase()))&&!a.find(l=>l.url===i.url)&&a.push(i)}),a}async addReference(t,n){this.referenceMap[t]=n;try{await fetch("/api/references",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...n,id:t})})}catch(a){console.error("Error saving reference:",a)}}}const Ti=new xw,_a=it("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-[10px] text-base font-semibold ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-5 [&_svg]:shrink-0 shadow-sm px-5 py-2",{variants:{variant:{default:"bg-gradient-to-tr from-[#4e5ab7] to-[#3f51b5] text-white hover:brightness-110 hover:shadow-lg",yellow:"bg-gradient-to-b from-[#ffe066] to-[#ffd700] text-blue-900 border-2 border-[#d4af37] shadow-xl hover:brightness-105 hover:shadow-2xl text-shadow-white",outline:"border-2 border-[#4e5ab7] bg-white text-[#4e5ab7] hover:bg-[#f5f7fa]",secondary:"bg-white text-[#4e5ab7] border border-[#4e5ab7] hover:bg-[#e8eaf6]",destructive:"bg-red-500 text-white hover:bg-red-600",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-12 px-6 py-2",sm:"h-10 rounded-md px-4 py-2 text-sm",lg:"h-14 rounded-xl px-8 py-3 text-lg",icon:"h-12 w-12"}},defaultVariants:{variant:"default",size:"default"}}),I=h.forwardRef(({className:s,variant:t,size:n,asChild:a=!1,...i},r)=>{const l=a?Dc:"button";return e.jsx(l,{className:$(_a({variant:t,size:n,className:s})),ref:r,...i})});I.displayName="Button";const pw=({isActive:s})=>{const{transcripts:t,callDetails:n,callDuration:a,endCall:i,isMuted:r,toggleMute:l,setCurrentInterface:o,micLevel:c,modelOutput:d,language:m,addTranscript:u}=us();h.useEffect(()=>{console.log("🎯 [Interface2] isActive changed to:",s)},[s]);const{config:x,isLoading:f,error:p}=ct(),[g,y]=h.useState({}),j=h.useRef({}),[v,b]=h.useState([]),[w,C]=h.useState([]),[T,B]=h.useState(0),z=h.useRef(null),[P,E]=h.useState(!0);h.useEffect(()=>{console.log("💬 [Interface2] showRealtimeConversation:",P),console.log("💬 [Interface2] conversationTurns:",v),console.log("💬 [Interface2] transcripts:",t)},[P,v,t]);const S=h.useCallback(()=>{Object.values(j.current).forEach(O=>{cancelAnimationFrame(O)}),j.current={}},[]),N=h.useCallback(()=>{const O=a>0?a:T;console.log("Canceling call with duration:",O),i(),o("interface1")},[a,T,i,o]),F=h.useCallback(()=>{if(!t||t.length===0){alert(le("need_conversation",m));return}const O=a>0?a:T;console.log("Ending call with duration:",O),i(),o(m==="fr"?"interface3fr":m==="vi"?"interface3vi":"interface3")},[a,T,i,o,t,m]),R=h.useCallback(O=>{const D=Math.floor(O/60).toString().padStart(2,"0"),_=(O%60).toString().padStart(2,"0");return`${D}:${_}`},[]);return h.useEffect(()=>{async function O(){await Ti.initialize();const D=Object.values(Ti.referenceMap||{});console.log("All references loaded:",D),C(D)}O()},[]),h.useEffect(()=>{console.log("[Interface2] Transcripts changed:",t),console.log("[Interface2] Transcripts count:",t.length);const O=[...t].sort((A,W)=>A.timestamp.getTime()-W.timestamp.getTime()),D=[];let _=null;O.forEach(A=>{console.log("[Interface2] Processing transcript:",A),A.role==="user"?(_={id:A.id.toString(),role:"user",timestamp:A.timestamp,messages:[{id:A.id.toString(),content:A.content,timestamp:A.timestamp}]},D.push(_)):((!_||_.role==="user")&&(_={id:A.id.toString(),role:"assistant",timestamp:A.timestamp,messages:[]},D.push(_)),_.messages.push({id:A.id.toString(),content:A.content,timestamp:A.timestamp}))}),console.log("[Interface2] Generated conversation turns:",D),b(D)},[t]),h.useEffect(()=>(v.filter(D=>D.role==="assistant").flatMap(D=>D.messages).forEach(D=>{if(g[D.id]===D.content.length)return;let _=g[D.id]||0;const A=D.content,W=()=>{_<A.length?(y(ee=>({...ee,[D.id]:_+1})),_++,j.current[D.id]=requestAnimationFrame(W)):delete j.current[D.id]};j.current[D.id]=requestAnimationFrame(W)}),()=>S()),[v,S]),h.useEffect(()=>{let O=null;return s&&(console.log("Interface2 is active, starting local timer"),B(a||0),O=setInterval(()=>{B(D=>D+1)},1e3)),()=>{O&&(console.log("Cleaning up local timer in Interface2"),clearInterval(O))}},[s,a]),h.useEffect(()=>{z.current&&s&&(z.current.scrollTop=0)},[v,s]),f||!x?(console.log("[DEBUG] Interface2 render:",{hotelConfig:x,configLoading:f}),e.jsx("div",{className:"absolute w-full min-h-screen h-full flex items-center justify-center z-40 bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Loading hotel configuration..."})]})})):p?e.jsx("div",{className:"absolute w-full min-h-screen h-full flex items-center justify-center z-40 bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-500 text-lg mb-4",children:"Failed to load hotel configuration"}),e.jsx("p",{className:"text-gray-600",children:p})]})}):e.jsx("div",{className:`absolute w-full min-h-screen h-full transition-opacity duration-500 ${s?"opacity-100":"opacity-0 pointer-events-none"} z-20 overflow-y-auto`,id:"interface2",style:{display:s?"block":"none",backgroundImage:`linear-gradient(${x?.branding?.colors?.primary||"#1e40af"}CC, ${x?.branding?.colors?.secondary||"#d4af37"}99), url('/assets/courtyard.jpeg')`,backgroundSize:"cover",backgroundPosition:"center",fontFamily:x.branding.fonts.primary+", SF Pro Text, Roboto, Open Sans, Arial, sans-serif"},children:e.jsxs("div",{className:"container mx-auto flex flex-col md:flex-row p-2 h-full gap-2",children:[e.jsxs("div",{className:"w-full md:w-3/4 lg:w-2/3 flex flex-col items-center space-y-1 sm:space-y-4 mt-1 min-h-0 overflow-y-auto",children:[e.jsxs("div",{className:"relative flex flex-col items-center justify-center mb-1 sm:mb-6 w-full max-w-xs mx-auto",children:[e.jsx(El,{containerId:"siri-button",isListening:!r,volumeLevel:c}),e.jsxs("div",{className:"flex items-center justify-center mt-2 w-full gap-2 sm:gap-3",children:[e.jsx("button",{className:"flex items-center justify-center transition-colors",title:le(r?"unmute":"mute",m),onClick:l,style:{fontSize:22,padding:0,background:"none",border:"none",color:"#d4af37",width:28,height:28},onMouseOver:O=>O.currentTarget.style.color="#ffd700",onMouseOut:O=>O.currentTarget.style.color="#d4af37",children:e.jsx("span",{className:"material-icons",children:r?"mic_off":"mic"})}),e.jsxs("button",{id:"cancelButton",onClick:N,className:"flex items-center justify-center px-3 py-2 bg-white/80 hover:bg-blue-100 text-blue-900 rounded-full text-xs font-semibold border-2 border-blue-200 shadow transition-colors sm:hidden active:scale-95 active:bg-blue-100",style:{fontFamily:"inherit",letterSpacing:.2,minHeight:44,minWidth:90,fontSize:14,touchAction:"manipulation",zIndex:10},children:[e.jsx("span",{className:"material-icons text-base mr-1",children:"cancel"}),le("cancel",m)]}),e.jsx("div",{className:"flex-1 flex justify-center",children:e.jsx("div",{className:"text-white text-xs sm:text-sm bg-blue-900/80 rounded-full px-3 sm:px-4 py-1 shadow-lg border border-white/30 flex items-center justify-center",style:{backdropFilter:"blur(2px)"},children:R(T)})}),e.jsxs(I,{id:"confirmButton",onClick:F,variant:"yellow",className:"flex items-center justify-center sm:hidden text-xs font-bold",style:{minHeight:44,minWidth:120,fontSize:14,zIndex:10},children:[e.jsx("span",{className:"material-icons text-lg mr-2",children:"send"}),le("confirm",m)]}),e.jsxs("button",{className:"flex items-center justify-center transition-colors",title:"Mic Level",style:{fontSize:22,padding:0,background:"none",border:"none",color:"#d4af37",width:28,height:28},tabIndex:-1,disabled:!0,onMouseOver:O=>O.currentTarget.style.color="#ffd700",onMouseOut:O=>O.currentTarget.style.color="#d4af37",children:[e.jsx("span",{className:"material-icons",children:"graphic_eq"}),e.jsx("span",{className:"ml-1 flex items-end h-4 w-6",children:[...Array(4)].map((O,D)=>e.jsx("span",{style:{display:"inline-block",width:2,height:`${4+Math.round(c/100*12)*(D%2+1)}px`,background:"#d4af37",marginLeft:1,borderRadius:1}},D))})]})]})]}),P&&e.jsxs("div",{id:"realTimeConversation",ref:z,className:"w-full flex flex-col-reverse gap-1 pr-2 relative max-w-full sm:max-w-2xl mx-auto min-h-[60px] max-h-[12vh] overflow-y-auto mb-1",style:{background:"rgba(255,255,255,0.88)",borderRadius:12,border:"1px solid rgba(255,255,255,0.35)",boxShadow:"0px 4px 10px rgba(0,0,0,0.15)",padding:"8px",transition:"box-shadow 0.3s, background 0.3s",fontFamily:"SF Pro Text, Roboto, Open Sans, Arial, sans-serif",fontSize:window.innerWidth<640?14:16,lineHeight:1.5,color:"#222",fontWeight:400,backdropFilter:"blur(2px)",display:"flex",flexDirection:"column",justifyContent:"flex-end"},children:[e.jsx("button",{className:"absolute top-1.5 right-1.5 w-5 h-5 flex items-center justify-center rounded-full bg-white/40 hover:bg-white/70 text-gray-400 hover:text-gray-700 shadow z-10 opacity-60 hover:opacity-90 transition-all",style:{fontSize:14,display:"block"},title:"Ẩn realtime conversation",onClick:()=>E(!1),children:e.jsx("span",{className:"material-icons",style:{fontSize:16},children:"close"})}),e.jsxs("div",{className:"w-full flex flex-col gap-1 pr-2",style:{overflowY:"auto",maxHeight:"28vh"},children:[(console.log("[Interface2] Rendering conversation - conversationTurns.length:",v.length),console.log("[Interface2] showRealtimeConversation:",P),console.log("[Interface2] isActive:",s),null),v.length===0&&e.jsx("div",{className:"text-gray-400 text-base text-center select-none",style:{opacity:.7},children:le("tap_to_speak",m)}),[...v].reverse().map((O,D)=>(console.log("[Interface2] Rendering turn:",O,"Index:",D),e.jsx("div",{className:"mb-1",children:e.jsx("div",{className:"flex items-start",children:e.jsx("div",{className:"flex-grow",children:O.role==="user"?e.jsx("p",{className:"text-base md:text-lg font-medium text-gray-900",style:{marginBottom:2},children:O.messages[0].content}):e.jsxs("p",{className:"text-base md:text-lg font-medium",style:{marginBottom:2,position:"relative",background:"linear-gradient(90deg, #FF512F, #F09819, #FFD700, #56ab2f, #43cea2, #1e90ff, #6a11cb, #FF512F)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:600,letterSpacing:.2,transition:"background 0.5s"},children:[e.jsx("span",{className:"inline-flex flex-wrap",children:O.messages.map((_,A)=>{const W=_.content.slice(0,g[_.id]||0);return e.jsxs("span",{style:{whiteSpace:"pre"},children:[W,A===O.messages.length-1&&D===0&&g[_.id]<_.content.length&&e.jsx("span",{className:"animate-blink text-yellow-500",style:{marginLeft:1},children:"|"})]},_.id)})}),D===0&&O.role==="assistant"&&g[O.messages[O.messages.length-1].id]===O.messages[O.messages.length-1].content.length&&e.jsx("span",{className:"ml-2 animate-ellipsis text-yellow-500",children:"..."})]})})})},O.id)))]})]}),!P&&e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:()=>E(!0),className:"bg-white/20 hover:bg-white/30 text-white px-4 py-2 rounded-full text-sm",children:"Show Conversation"})}),e.jsx("div",{className:"w-full mt-1",children:e.jsx("div",{className:"w-full flex flex-row items-center gap-x-2 mb-3 px-2",children:e.jsx(mw,{references:w})})})]}),e.jsx("div",{className:"w-1/4 lg:w-1/3 flex-col items-center lg:items-end p-2 space-y-4 overflow-auto hidden sm:flex",style:{maxHeight:"100%"},children:e.jsxs("div",{className:"flex flex-col gap-4 w-full md:w-auto",children:[e.jsxs(I,{id:"endCallButton",onClick:F,variant:"yellow",className:"w-full md:w-auto flex items-center justify-center space-x-2 text-base sm:text-lg",style:{minHeight:56,minWidth:220,zIndex:10},children:[e.jsx("span",{className:"material-icons",children:"send"}),e.jsx("span",{className:"whitespace-nowrap",children:le("confirm_request",m)})]}),e.jsxs("button",{id:"cancelButtonDesktop",onClick:N,className:"w-full md:w-auto bg-white hover:bg-blue-100 text-blue-900 font-semibold py-3 px-8 rounded-full shadow flex items-center justify-center space-x-2 transition-all duration-200 border-2 border-blue-200 text-base sm:text-lg active:scale-95 active:bg-blue-100",style:{fontFamily:"inherit",letterSpacing:.2,minHeight:56,minWidth:120,touchAction:"manipulation",zIndex:10},children:[e.jsx("span",{className:"material-icons text-lg mr-2",children:"cancel"}),le("cancel",m)]})]})})]})})},fw="/assets/hotel-exterior-BsmmGNZ1.jpeg",gw=({isActive:s})=>{const{orderSummary:t,setOrderSummary:n,setCurrentInterface:a,setOrder:i,callSummary:r,setCallSummary:l,serviceRequests:o,callDuration:c,callDetails:d,emailSentForCurrentSession:m,setEmailSentForCurrentSession:u,addActiveOrder:x,translateToVietnamese:f,language:p}=us(),{config:g,isLoading:y,error:j}=ct(),[v,b]=h.useState({}),[w,C]=h.useState("");if(y||!g)return console.log("[DEBUG] Interface3 render:",{hotelConfig:g,configLoading:y}),e.jsx("div",{className:"absolute w-full min-h-screen h-full flex items-center justify-center z-10 bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Loading hotel configuration..."})]})});if(j)return e.jsx("div",{className:"absolute w-full min-h-screen h-full flex items-center justify-center z-10 bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-500 text-lg mb-4",children:"Failed to load hotel configuration"}),e.jsx("p",{className:"text-gray-600",children:j})]})});if(!t)return null;const T=(P,E)=>{t&&n({...t,[P]:E})};h.useEffect(()=>{if(o&&o.length>0){const P=o.reduce((E,S)=>{const N=S.serviceType;return E[N]||(E[N]=[]),E[N].push(S),E},{});if(b(P),t&&(!t.items||t.items.length===0)){const E=o.map((S,N)=>{let F=1;const R=S.details||{},O=S.requestText.match(/(\d+)\s+(towels|bottles|pieces|cups|glasses|plates|servings|items)/i);O?F=parseInt(O[1]):typeof R.people=="number"&&(F=R.people);let D=10;return S.serviceType==="room-service"?D=15:S.serviceType==="housekeeping"?D=8:S.serviceType==="transportation"?D=25:S.serviceType==="tours-activities"?D=35:S.serviceType==="spa"&&(D=30),{id:`item-${N}`,name:S.serviceType,description:S.requestText,quantity:F,price:D}});n({...t,items:E,totalAmount:E.reduce((S,N)=>S+N.price*N.quantity,0)})}}},[o,t,n]),h.useEffect(()=>{if(s&&r&&t){const P=r.content,E=oi(P);if(E&&E!==t.roomNumber&&n({...t,roomNumber:E}),!o||o.length===0){const S=P.match(/List of Requests:([\s\S]*?)(?:\n\nSpecial Instructions|\n\nThe conversation)/);if(S){const N=S[1],F=/Request (\d+): ([^\n]+)/g;let R;const O=[];let D=1;for(;(R=F.exec(N))!==null;){const _=R[2].trim(),A=R.index,W=N.indexOf(`Request ${parseInt(R[1])+1}:`,A),ee=W>-1?N.substring(A,W):N.substring(A),Ne=/- ([^:]+): ([^\n]+)/g;let ae;const de={};for(;(ae=Ne.exec(ee))!==null;){const ie=ae[1].trim(),$e=ae[2].trim();de[ie.toLowerCase()]=$e}let U="";de["service description"]&&(U+=`${de["service description"]}`),de.details&&(U+=U?`. ${de.details}`:de.details),de.items&&(U+=U?`
Items: ${de.items}`:`Items: ${de.items}`),de["service timing requested"]&&(U+=`
Timing: ${de["service timing requested"]}`),de.destinations&&(U+=`
Destinations: ${de.destinations}`),U||(U=`Requested ${_} service`),O.push({id:D.toString(),name:_,description:U,quantity:1,price:10}),D++}if(O.length>0&&(!t.items||t.items.length===0)){const _=O.map(ae=>ae.name.toLowerCase().replace(/\s+/g,"-")).join(","),A=oi(P)||t.roomNumber,W=P.match(/Service Timing Requested:?\s*([^\n]+)/i),ee=W?W[1]:t.deliveryTime;let Ne=t.deliveryTime;ee&&(/soon|immediate|urgent|right now/i.test(ee)?Ne="asap":/30 minute|half hour/i.test(ee)?Ne="30min":/hour|60 minute/i.test(ee)?Ne="1hour":/schedule|later|specific/i.test(ee)&&(Ne="specific")),n({...t,items:O,orderType:_,roomNumber:A,deliveryTime:Ne,totalAmount:O.reduce((ae,de)=>ae+de.price*de.quantity,0)})}}}}},[s,r,t,n]);const B=async()=>{if(!t)return;const P=()=>{if(t.roomNumber&&t.roomNumber!=="unknown")return t.roomNumber;if(r&&r.content){const D=r.content.match(/Room Number:?\s*(\w+)/i);if(D&&D[1])return D[1]}return"unknown"},E=t.items&&t.items.length>0?t.items:[{id:"1",name:"General Service",description:"No details provided",quantity:1,price:0}],S=t.orderType||"Room Service",N=t.deliveryTime||"asap",F=`ORD-${Math.floor(1e4+Math.random()*9e4)}`,R=new Date,O={callId:F,roomNumber:P(),orderType:S,deliveryTime:N,specialInstructions:F,items:E,totalAmount:t.totalAmount||0,status:"pending",createdAt:R.toISOString()};try{if(!(await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(O)})).ok)throw new Error("Failed to create order");i({reference:O.specialInstructions||O.callId,estimatedTime:O.deliveryTime,summary:t,...O}),a("interface4")}catch{alert("Failed to send order to reception!")}},z=()=>{!w.trim()||!r||l({...r,content:`${r.content}

Additional Notes:
${w}`})};return e.jsx("div",{className:`w-full transition-opacity duration-500 ${s?"opacity-100":"opacity-0 pointer-events-none"} z-30`,id:"interface3",style:{backgroundImage:`linear-gradient(${g?.branding?.colors?.primary||"#1e40af"}CC, ${g?.branding?.colors?.secondary||"#d4af37"}99), url(${fw})`,backgroundSize:"cover",backgroundPosition:"center",fontFamily:g.branding.fonts.primary+", SF Pro Text, Roboto, Open Sans, Arial, sans-serif"},children:e.jsx("div",{className:"container mx-auto flex flex-col p-2 sm:p-4 md:p-8",children:e.jsxs("div",{className:"mx-auto w-full max-w-4xl bg-white/90 rounded-2xl shadow-xl p-3 sm:p-6 md:p-10 mb-4 sm:mb-6 flex-grow border border-white/40 backdrop-blur-md",style:{minHeight:420},children:[e.jsx("div",{className:"mb-3 sm:mb-4 pb-2 sm:pb-3 border-b border-gray-200",children:e.jsx("p",{className:"font-poppins font-bold text-xl sm:text-2xl text-blue-900 tracking-wide",children:le("order_summary",p)})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 sm:gap-10 md:gap-16",children:[e.jsxs("div",{className:"md:w-3/4 w-full space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex sm:hidden flex-row w-full gap-2 mb-2",children:[e.jsxs("button",{className:"flex-1 flex items-center justify-center px-2 py-1.5 bg-white/80 hover:bg-blue-100 text-blue-900 rounded-full text-xs font-semibold border border-white/30 shadow transition-colors",onClick:()=>a("interface1"),children:[e.jsx("span",{className:"material-icons text-base mr-1",children:"cancel"}),le("cancel",p)]}),e.jsxs(I,{onClick:B,variant:"yellow",className:"flex-1 flex items-center justify-center space-x-2 text-xs font-bold sm:hidden",style:{minHeight:44,minWidth:120,zIndex:10},children:[e.jsx("span",{className:"material-icons",children:"send"}),e.jsx("span",{className:"whitespace-nowrap",children:le("send_to_reception",p)})]})]}),e.jsxs("div",{className:"flex flex-col gap-2 mb-2 sm:hidden",children:[e.jsxs("div",{className:"flex flex-row w-full gap-2",children:[e.jsx("button",{className:"h-10 px-3 bg-[#ffe082] hover:bg-[#ffe9b3] text-blue-900 rounded-full text-xs font-semibold shadow transition-colors flex-1",onClick:z,disabled:!w.trim(),children:le("add_note",p)}),e.jsxs("div",{className:"flex items-center space-x-2 w-full justify-center",children:[e.jsx("label",{className:"text-xs text-gray-600 font-medium",children:le("room_number",p)}),e.jsx("input",{type:"text",placeholder:le("enter_room_number",p),className:"w-16 p-2 border border-white/30 rounded-xl focus:ring-2 focus:ring-[#d4af37] focus:border-[#d4af37] bg-white/70 text-gray-900 font-semibold text-xs",value:t.roomNumber,onChange:P=>T("roomNumber",P.target.value)})]}),e.jsx("button",{className:"h-10 px-3 bg-white/70 text-blue-900 rounded-full text-xs font-semibold border border-white/30 shadow flex items-center justify-center",onClick:()=>a("interface3vi"),children:e.jsx("span",{className:"material-icons text-base",children:"language"})})]}),e.jsx("textarea",{placeholder:le("enter_notes",p),className:"w-full p-2 border border-white/30 rounded-xl text-xs bg-white/60 focus:bg-white/90 focus:ring-2 focus:ring-[#d4af37] transition italic font-light text-gray-500",value:w,onChange:P=>C(P.target.value),rows:3,style:{fontFamily:"inherit"}})]}),r&&e.jsxs("div",{id:"summary-container",className:"mb-3 sm:mb-4",children:[e.jsxs("div",{className:"p-3 sm:p-5 bg-white/80 rounded-xl shadow border border-white/30 mb-3 sm:mb-4 relative",style:{backdropFilter:"blur(2px)"},children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg mb-1 sm:mb-2 text-blue-800",children:le("summary",p)}),e.jsx("div",{className:"text-sm sm:text-base leading-relaxed text-gray-800 whitespace-pre-line",style:{fontWeight:400},children:(r.content||"").split(`
`).filter(E=>!/^Next Step:/i.test(E)&&!/Please Press Send To Reception/i.test(E)).map((E,S)=>{if(/^Guest's Name/i.test(E)){const N=E.replace(/\s*\(used for Guest with a confirmed reservation\)/i,"");return e.jsx("div",{children:e.jsx("b",{children:N})},S)}return/^Room Number:/i.test(E)?e.jsx("div",{children:e.jsx("b",{children:E})},S):/^REQUEST \d+:/i.test(E)?e.jsx("div",{className:"mt-3 mb-1",children:e.jsx("b",{children:E})},S):/^• Service Timing:/i.test(E)?e.jsx("div",{style:{marginLeft:16},children:e.jsx("b",{children:E})},S):/^• Order Details:/i.test(E)?e.jsx("div",{style:{marginLeft:16},children:e.jsx("b",{children:E})},S):/^• Special Requirements:/i.test(E)?e.jsx("div",{style:{marginLeft:16},children:e.jsx("b",{children:E})},S):/^• [^-].+/.test(E)?e.jsx("div",{style:{marginLeft:32},children:E},S):/^\s*[-•]/.test(E)?e.jsx("div",{style:{marginLeft:32},children:E},S):/^\s*$/.test(E)?e.jsx("div",{style:{height:8}},S):e.jsx("div",{children:E},S)})}),e.jsx("div",{className:"mt-2 sm:mt-3 flex justify-end",children:e.jsxs("div",{className:"text-xs text-gray-500",children:[le("generated_at",p)," ",new Date(r.timestamp).toLocaleTimeString()]})})]}),e.jsx("div",{className:"text-center mt-2 mb-1",children:e.jsxs("span",{className:"italic text-sm",style:{color:"#2563eb",background:"#e0f2fe",borderRadius:"6px",padding:"4px 12px",display:"inline-block",fontWeight:500},children:["Please Press ",e.jsx("b",{style:{fontWeight:700,color:"#1d4ed8"},children:le("send_to_reception",p)})," To Complete Your Request"]})})]}),e.jsxs("div",{className:"hidden sm:flex flex-row items-center gap-2 h-10",children:[e.jsx("button",{className:"h-10 px-3 sm:px-4 bg-[#ffe082] hover:bg-[#ffe9b3] text-blue-900 rounded-full text-xs sm:text-sm font-semibold shadow transition-colors",onClick:z,disabled:!w.trim(),children:le("add_note",p)}),e.jsxs("div",{className:"flex items-center space-x-2 w-full justify-center",children:[e.jsx("label",{className:"text-xs sm:text-base text-gray-600 font-medium",children:le("room_number",p)}),e.jsx("input",{type:"text",placeholder:le("enter_room_number",p),className:"w-16 sm:w-32 p-2 border border-white/30 rounded-xl focus:ring-2 focus:ring-[#d4af37] focus:border-[#d4af37] bg-white/70 text-gray-900 font-semibold text-xs sm:text-base",value:t.roomNumber,onChange:P=>T("roomNumber",P.target.value)})]}),e.jsx("button",{className:"h-10 px-3 sm:px-4 bg-white/70 text-blue-900 rounded-full text-xs sm:text-sm font-semibold border border-white/30 shadow flex items-center justify-center",onClick:()=>a("interface3vi"),children:e.jsx("span",{className:"material-icons text-base",children:"language"})})]}),e.jsx("textarea",{placeholder:le("enter_notes",p),className:"hidden sm:block w-full p-2 sm:p-3 border border-white/30 rounded-xl mb-3 sm:mb-4 text-xs sm:text-sm bg-white/60 focus:bg-white/90 focus:ring-2 focus:ring-[#d4af37] transition italic font-light text-gray-500",value:w,onChange:P=>C(P.target.value),rows:3,style:{fontFamily:"inherit"}})]}),e.jsx("div",{className:"md:w-1/4 w-full hidden sm:flex md:justify-end justify-center",children:e.jsxs("div",{className:"flex flex-col items-end space-y-2 sm:space-y-3 w-full md:w-auto",children:[e.jsxs(I,{onClick:B,variant:"yellow",className:"w-full md:w-auto flex items-center justify-center space-x-2 text-xs sm:text-sm font-bold",style:{minHeight:44,minWidth:160,zIndex:10},children:[e.jsx("span",{className:"material-icons",children:"send"}),e.jsx("span",{className:"whitespace-nowrap",children:le("send_to_reception",p)})]}),e.jsxs("button",{className:"w-full md:w-auto flex items-center justify-center px-2 sm:px-3 py-1.5 bg-white/80 hover:bg-blue-100 text-blue-900 rounded-full text-xs font-semibold border border-white/30 shadow transition-colors",onClick:()=>a("interface1"),children:[e.jsx("span",{className:"material-icons text-base mr-1",children:"cancel"}),le("cancel",p)]})]})})]})]})})})},vw=({isActive:s})=>{const{order:t,setCurrentInterface:n,language:a,setOrder:i}=us(),{config:r,isLoading:l,error:o}=ct();h.useEffect(()=>{s&&(console.clear(),console.log("🎬 === Interface4 Debug Session Started ==="),console.log("🎬 Interface4 mounted with isActive:",s),console.log("🎬 Order:",t))},[s,t]);const c=h.useCallback(()=>{console.log("🏠 Return to Home button clicked"),console.log("Current interface before:",s),console.log("Order exists:",!!t);try{console.log("🗑️ Clearing order..."),i(null),console.log("🔄 Setting interface to interface1..."),n("interface1"),console.log('✅ Order cleared and setCurrentInterface("interface1") called'),setTimeout(()=>{console.log("⏰ Delayed check - Current interface should be interface1"),console.log("⏰ Order should be null:",!t)},100)}catch(d){console.error("❌ Error in handleReturnHome:",d)}},[s,t,i,n]);return console.log("🔍 Interface4 render:",{isActive:s,hasOrder:!!t,orderReference:t?.reference,timestamp:new Date().toISOString()}),console.log("[DEBUG] Interface4 render:",{hotelConfig:r}),l||!r?e.jsx("div",{className:"fixed inset-0 z-50 w-full h-full min-h-screen flex items-center justify-center bg-black/30 backdrop-blur-sm",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-white text-lg",children:"Loading hotel configuration..."})]})}):o?e.jsx("div",{className:"fixed inset-0 z-50 w-full h-full min-h-screen flex items-center justify-center bg-black/30 backdrop-blur-sm",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-500 text-lg mb-4",children:"Failed to load hotel configuration"}),e.jsx("p",{className:"text-white",children:o})]})}):!s||!t?(console.log("❌ Interface4 not rendering - isActive:",s,"hasOrder:",!!t),null):e.jsx("div",{className:"fixed inset-0 z-50 w-full h-full min-h-screen flex items-start sm:items-center justify-center bg-black/30 backdrop-blur-sm",id:"interface4",onClick:d=>{d.target===d.currentTarget&&console.log("🖱️ Background clicked - not closing dialog")},children:e.jsx("div",{className:"container mx-auto flex flex-col items-center justify-center pt-50 sm:pt-0 p-3 sm:p-5 text-center h-auto",children:e.jsxs("div",{className:"w-full max-w-xs sm:max-w-md bg-white rounded-lg shadow-lg p-4 sm:p-8",style:{fontFamily:r.branding.fonts.primary+", SF Pro Text, Roboto, Open Sans, Arial, sans-serif"},children:[e.jsx("div",{className:"mb-4 sm:mb-6 flex justify-center",children:e.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 rounded-full flex items-center justify-center",style:{backgroundColor:r?.branding?.colors?.primary||"#1e40af"},children:e.jsx("span",{className:"material-icons text-white text-4xl sm:text-5xl",children:"check"})})}),e.jsx("h2",{className:"font-poppins font-bold text-xl sm:text-2xl text-primary mb-2 sm:mb-3",children:le("order_confirmed",a)}),e.jsx("p",{className:"text-gray-700 mb-4 sm:mb-6 text-sm sm:text-base",children:le("order_confirmed_message",a)}),e.jsx("div",{className:"bg-neutral p-3 sm:p-4 rounded-lg mb-4 sm:mb-6",children:e.jsxs("p",{className:"font-medium text-gray-800 text-sm sm:text-base",children:[le("order_reference",a),": ",e.jsx("span",{className:"font-bold",children:t.reference})]})}),e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:le("estimated_delivery_time",a)}),e.jsx("p",{className:"font-poppins font-bold text-lg sm:text-xl",children:t.estimatedTime})]}),e.jsx("button",{className:"w-full px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-poppins font-medium text-sm sm:text-base transition-colors cursor-pointer",onClick:c,onMouseDown:()=>console.log("🖱️ Mouse down on Return to Home button"),onMouseUp:()=>console.log("🖱️ Mouse up on Return to Home button"),style:{zIndex:9999,position:"relative",pointerEvents:"auto",backgroundColor:r.branding.colors.secondary,color:"#ffffff"},children:le("return_to_home",a)})]})})})};function jw({currentStep:s=1,compact:t=!1,horizontal:n=!1,language:a}){const{language:i}=us?us():{language:"en"},r=a||i||"en",l=[{icon:"call",title:le("press_to_call",r),desc:le("press_to_call_desc",r)},{icon:"check_circle",title:le("confirm_request",r),desc:le("confirm_request_desc",r)},{icon:"mail",title:le("send_to_reception",r),desc:le("send_to_reception_desc",r)}];return n?e.jsx("div",{className:"flex flex-row items-center justify-center w-full gap-2 md:gap-6 py-1",children:l.map((o,c)=>e.jsxs(xe.Fragment,{children:[e.jsxs("div",{className:`flex flex-col items-center transition-all duration-300 ${c+1===s?"opacity-100 scale-105":c+1<s?"opacity-60":"opacity-40"}`,children:[e.jsx("div",{className:`flex items-center justify-center rounded-full shadow-lg mb-0.5 transition-all duration-300 ${c+1===s?"bg-[#d4af37] text-blue-900 border-2 border-[#d4af37]":c+1===2||c+1===3?"bg-white/30 text-[#d4af37] border-2 border-[#d4af37]":"bg-white/30 text-white border border-gray-200"}`,style:{width:22,height:22,fontSize:13,boxShadow:c+1===2||c+1===3?"0 0 0 2px #d4af37":void 0},children:e.jsx("span",{className:"material-icons",children:o.icon})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`font-semibold font-poppins mb-0 text-[10px] ${c+1===s?"text-[#d4af37]":"text-[#d4af37]/70"} ${c+1===2||c+1===3?"font-extrabold text-base":""}`,children:o.title}),e.jsx("div",{className:`font-light text-[8px] ${c+1===2||c+1===3?"text-base text-[#b48a19]":"text-[#d4af37]/80"} hidden md:block`,children:o.desc})]})]}),c<l.length-1&&e.jsx("div",{className:"h-0.5 w-3 md:w-8 bg-gradient-to-r from-[#d4af37]/80 to-transparent mx-1 rounded-full"})]},o.title))}):e.jsx("div",{className:`w-full ${t?"max-w-[160px] py-2 gap-3":"max-w-xs py-6 gap-6"} mx-auto flex flex-col items-center`,children:l.map((o,c)=>e.jsxs("div",{className:`flex flex-col items-center w-full transition-all duration-300 ${c+1===s?"opacity-100 scale-105":c+1<s?"opacity-60":"opacity-40"}`,children:[e.jsx("div",{className:`flex items-center justify-center rounded-full shadow-lg mb-2 transition-all duration-300 ${c+1===s?"bg-[#d4af37] text-blue-900 border-2 border-[#d4af37]":c+1===2||c+1===3?"bg-white/30 text-[#d4af37] border-2 border-[#d4af37]":"bg-white/30 text-white border border-gray-200"}`,style:{width:t?32:48,height:t?32:48,fontSize:t?18:28,boxShadow:c+1===2||c+1===3?"0 0 0 2px #d4af37":void 0},children:e.jsx("span",{className:"material-icons",children:o.icon})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`font-semibold font-poppins mb-1 ${t?"text-xs":c+1===2||c+1===3?"text-lg":"text-base"} ${c+1===s?"text-[#d4af37]":"text-[#d4af37]/70"} ${c+1===2||c+1===3?"font-extrabold":""}`,style:c+1===2||c+1===3?{letterSpacing:.5}:{},children:o.title}),e.jsx("div",{className:`font-light ${t?"text-[10px]":c+1===2||c+1===3?"text-base":"text-sm"} ${c+1===2||c+1===3?"text-[#b48a19]":"text-[#d4af37]/80"}`,children:o.desc})]}),c<l.length-1&&e.jsx("div",{className:`mx-auto my-1 rounded-full ${t?"w-0.5 h-4":"w-1 h-8"} bg-gradient-to-b from-[#d4af37]/80 to-transparent`})]},o.title))})}const yw=({onClose:s})=>e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm font-sans",children:e.jsxs("div",{className:"bg-gradient-to-br from-[rgba(255,255,255,0.7)] to-[rgba(255,255,255,0.5)] dark:from-[rgba(30,30,30,0.7)] dark:to-[rgba(30,30,30,0.5)] text-gray-800 dark:text-gray-200 rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto border border-white/30",style:{transformStyle:"preserve-3d"},children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 sm:gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-blue-900 dark:text-amber-400 font-poppins",children:"Nội dung"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"target",children:"🎯"})," MỤC ĐÍCH:"]}),e.jsx("p",{className:"pl-6 text-gray-700 dark:text-gray-300",children:"Thay thế cho nhân sự lễ tân bằng AI Voice Assistant được đào tạo riêng với thông tin và dịch vụ của một khách sạn cụ thể."})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"money",children:"💰"})," GIÁ TRỊ MANG LẠI:"]}),e.jsxs("ul",{className:"list-inside list-disc pl-6 space-y-1 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"Phục vụ đa ngôn ngữ – không cần thông dịch viên"}),e.jsx("li",{children:"Hoạt động 24/7 – không bao giờ nghỉ"}),e.jsx("li",{children:"Xử lý đồng thời nhiều khách cùng lúc"}),e.jsx("li",{children:"Tăng doanh thu dịch vụ thông qua gợi ý thông minh"})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"speech bubble",children:"🗣️"})," ĐẶC ĐIỂM NỔI BẬT:"]}),e.jsx("p",{className:"pl-6 text-gray-700 dark:text-gray-300",children:"Voice Bot – Bạn NÓI CHUYỆN với AI, không cần gõ phím!"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"bell",children:"🔔"})," CHỨC NĂNG CỦA AI VOICE BOT:"]}),e.jsxs("ul",{className:"list-inside list-disc pl-6 space-y-1 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"Đặt phòng & Check-in/out"}),e.jsx("li",{children:"Room Service & Housekeeping"}),e.jsx("li",{children:"Tour bookings & Vé xe buýt"}),e.jsx("li",{children:"Thông tin du lịch địa phương"}),e.jsx("li",{children:"Homestay & Đổi tiền, giặt ủi"})]}),e.jsx("p",{className:"pl-6 text-xs italic text-gray-600 dark:text-gray-400 mt-1",children:"*Tất cả dịch vụ này sẽ do khách sạn cung cấp"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"microphone",children:"🎤"})," CÁCH SỬ DỤNG:"]}),e.jsx("p",{className:"pl-6 text-gray-700 dark:text-gray-300",children:"Nhấn mic → NÓI yêu cầu → Nhận phản hồi bằng giọng nói"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"light bulb",children:"💡"})," THỬ NGAY (6 ngôn ngữ để trải nghiệm):"]}),e.jsxs("div",{className:"pl-6 text-gray-700 dark:text-gray-300 italic",children:[e.jsx("p",{children:'"Đặt phòng cho 2 người tối nay"'}),e.jsx("p",{children:'"Order breakfast to room 101"'}),e.jsx("p",{children:'"Book tour Fairy Stream tomorrow"'})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-blue-900 dark:text-amber-400 font-poppins",children:"Content"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"target",children:"🎯"})," PURPOSE:"]}),e.jsx("p",{className:"pl-6 text-gray-700 dark:text-gray-300",children:"Replace human receptionists with an AI Voice Assistant trained with the specific information and services of a hotel."})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"money",children:"💰"})," VALUE PROPOSITION:"]}),e.jsxs("ul",{className:"list-inside list-disc pl-6 space-y-1 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"Serves multiple languages – no interpreter needed"}),e.jsx("li",{children:"Operates 24/7 – never takes a break"}),e.jsx("li",{children:"Handles multiple guests simultaneously"}),e.jsx("li",{children:"Increases service revenue through smart suggestions"})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"speech bubble",children:"🗣️"})," HIGHLIGHT:"]}),e.jsx("p",{className:"pl-6 text-gray-700 dark:text-gray-300",children:"Voice Bot – You SPEAK with AI, no typing needed!"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"bell",children:"🔔"})," AI VOICE BOT FEATURES:"]}),e.jsxs("ul",{className:"list-inside list-disc pl-6 space-y-1 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"Booking & Check-in/out"}),e.jsx("li",{children:"Room Service & Housekeeping"}),e.jsx("li",{children:"Tour bookings & Bus tickets"}),e.jsx("li",{children:"Local tourism information"}),e.jsx("li",{children:"Homestay & Currency exchange, laundry"})]}),e.jsx("p",{className:"pl-6 text-xs italic text-gray-600 dark:text-gray-400 mt-1",children:"*All these services are provided by the hotel"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"microphone",children:"🎤"})," HOW TO USE:"]}),e.jsx("p",{className:"pl-6 text-gray-700 dark:text-gray-300",children:"Press mic → SPEAK request → Receive voice response"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"light bulb",children:"💡"})," TRY NOW (6 languages to experience):"]}),e.jsxs("div",{className:"pl-6 text-gray-700 dark:text-gray-300 italic",children:[e.jsx("p",{children:'"Book a room for 2 people tonight"'}),e.jsx("p",{children:'"Order breakfast to room 101"'}),e.jsx("p",{children:'"Book tour Fairy Stream tomorrow"'})]})]})]})]}),e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsx(I,{onClick:s,className:"font-bold text-lg bg-yellow-400 hover:bg-yellow-500 text-blue-900 px-8 py-6 rounded-full shadow-lg transition-transform transform hover:scale-105",children:"Đóng / Close"})})]})}),dt=()=>{const{currentInterface:s,language:t,setLanguage:n,hotelConfig:a,setHotelConfig:i,setCurrentInterface:r}=us(),{config:l,isLoading:o,error:c}=ct();Us();const[d,m]=h.useState(!1),[u,x]=h.useState(!1),f=h.useMemo(()=>({interface1:s==="interface1",interface2:s==="interface2",interface3:s==="interface3",interface3vi:s==="interface3vi",interface3fr:s==="interface3fr",interface4:s==="interface4"}),[s]);h.useEffect(()=>{console.log("🔄 [VoiceAssistant] Current interface changed to:",s),console.log("🔄 [VoiceAssistant] Interface states:",f)},[s,f]),h.useEffect(()=>{l&&l!==a&&(console.log("🏨 Hotel configuration loaded:",l),i(l))},[l,a,i]),h.useEffect(()=>{localStorage.getItem("hasSeenWelcomePopup")||(x(!0),localStorage.setItem("hasSeenWelcomePopup","true"))},[]);const p=j=>{n(j)},y=(l?.supportedLanguages||["en"]).filter(j=>["en","fr","zh","ru","ko","vi"].includes(j));return console.log("[DEBUG] VoiceAssistant render:",{isLoading:o,config:l,hotelConfig:a}),o||!l?e.jsx("div",{className:"relative h-screen overflow-hidden font-sans text-gray-800 bg-neutral-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Loading hotel configuration..."})]})}):c&&!l?e.jsx("div",{className:"relative h-screen overflow-hidden font-sans text-gray-800 bg-neutral-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(we,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-600 text-lg font-semibold mb-2",children:"Configuration Error"}),e.jsx("p",{className:"text-gray-600 mb-4",children:c}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors",children:"Reload Page"})]})}):e.jsxs("div",{className:"relative h-screen overflow-hidden font-sans text-gray-800 bg-neutral-50",id:"app",children:[u&&e.jsx(yw,{onClose:()=>x(!1)}),c&&e.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(we,{className:"h-5 w-5 text-yellow-400"})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-yellow-700",children:c})})]})}),e.jsx("header",{className:"w-full text-white shadow-md fixed top-0 left-0 right-0 z-50",style:{backgroundColor:"#1B4E8B",height:"64px"},children:e.jsxs("div",{className:"container mx-auto flex items-center justify-between px-2 h-full",children:[e.jsxs("div",{className:"flex items-center justify-start ml-1 sm:ml-4 mr-2 sm:mr-6 gap-3 min-w-fit",children:[e.jsx("img",{src:l.branding.logo,alt:`${l.hotelName} Logo`,className:"h-8 sm:h-12 w-auto rounded-lg shadow-md bg-white/80 p-1",onError:j=>{j.currentTarget.src="/assets/references/images/minhon-logo.jpg"}}),e.jsx("span",{className:"font-poppins font-bold text-xl sm:text-2xl lg:text-3xl whitespace-nowrap",style:{color:l.branding.colors.secondary,textShadow:"0px 1px 2px rgba(0,0,0,0.18)"},children:l.headerText})]}),e.jsx("div",{className:"flex-1"}),e.jsxs("div",{className:"flex items-center gap-2",children:[l.features.multiLanguage&&e.jsxs("div",{className:"flex items-center px-2 py-1 rounded bg-primary-dark text-white text-xs sm:text-sm",children:[e.jsx(Cu,{className:"text-[#F9BF3B] text-sm sm:text-base mr-1.5"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:t,onChange:j=>p(j.target.value),className:"appearance-none bg-transparent focus:outline-none transition-all duration-200 pr-6",style:{fontWeight:600,color:"#fff",textShadow:"0px 1px 2px rgba(0, 0, 0, 0.2)"},children:y.map(j=>{const v={en:"🇬🇧 EN",fr:"🇫🇷 FR",zh:"🇨🇳 ZH",ru:"🇷🇺 RU",ko:"🇰🇷 KO",vi:"🇻🇳 VI"};return e.jsx("option",{value:j,children:v[j]},j)})}),e.jsx(Kl,{className:"absolute right-0 top-1/2 -translate-y-1/2 text-[#F9BF3B] pointer-events-none text-sm"})]})]}),e.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-1 px-2 py-1 rounded bg-primary-dark text-white text-xs sm:text-sm hover:bg-primary-darker transition-colors",title:"View Steps",children:[e.jsx(Qt,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Steps"})]}),l.features.callHistory&&e.jsxs(_e,{href:"/call-history",className:"flex items-center gap-1 px-2 py-1 rounded bg-primary-dark text-white text-xs sm:text-sm hover:bg-primary-darker transition-colors",children:[e.jsx(ph,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Call History"})]})]})]})}),d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 relative",children:[e.jsx("button",{onClick:()=>m(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:e.jsx(ot,{className:"w-6 h-6"})}),e.jsx("div",{className:"mt-4",children:e.jsx(jw,{horizontal:!1,compact:!1,currentStep:s==="interface3"?3:s==="interface2"?2:1,language:t})})]})}),e.jsxs("div",{className:"relative w-full h-full",id:"interfaceContainer",style:{marginTop:"64px",minHeight:"calc(100vh - 64px)"},children:[e.jsx(Db,{isActive:f.interface1}),e.jsx(pw,{isActive:f.interface2}),e.jsx(gw,{isActive:f.interface3||f.interface3vi||f.interface3fr}),e.jsx(vw,{isActive:f.interface4})]})]})},bw=h.createContext(void 0);class k4 extends xe.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("Hotel configuration error:",t,n)}render(){return this.state.hasError?this.props.fallback||e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[e.jsx(we,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Configuration Error"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Failed to load hotel configuration. Please try refreshing the page."}),e.jsxs("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md",children:[e.jsx(me,{className:"w-4 h-4 inline mr-2"}),"Reload Page"]})]})}):this.props.children}}const ww=({children:s})=>{console.log("[DEBUG] HotelProvider rendered");const t=ct(),{config:n,isLoading:a,error:i,reload:r}=t,l=j=>"",o=j=>"",c=j=>n?.features?.[j]??!1,d=()=>n?.supportedLanguages||[],m=j=>n?.services||[],u=()=>({primary:n?.branding?.colors.primary||"#2E7D32",secondary:n?.branding?.colors.secondary||"#FFC107",accent:n?.branding?.colors.accent||"#FF6B6B"}),x=()=>({primary:n?.branding?.fonts.primary||"Inter",secondary:n?.branding?.fonts.secondary||"Roboto"}),f=()=>null,p=()=>null,g=()=>"UTC",y=()=>"USD";return e.jsx(bw.Provider,{value:{config:n,loading:a,error:i,reload:r,getVapiPublicKey:l,getVapiAssistantId:o,hasFeature:c,getSupportedLanguages:d,getAvailableServices:m,getThemeColors:u,getFontFamilies:x,getContactInfo:f,getLocation:p,getTimezone:g,getCurrency:y},children:s})},Nw=it("rounded-lg border bg-card text-card-foreground transition-all duration-200",{variants:{variant:{default:"shadow-sm hover:shadow-md",elevated:"shadow-md hover:shadow-lg transform hover:-translate-y-1",ghost:"border-none shadow-none hover:bg-accent/50",outline:"bg-transparent hover:bg-accent/50"},size:{default:"p-6",sm:"p-4",lg:"p-8"}},defaultVariants:{variant:"default",size:"default"}}),M=h.forwardRef(({className:s,variant:t,size:n,...a},i)=>e.jsx("div",{ref:i,className:$(Nw({variant:t,size:n,className:s})),...a}));M.displayName="Card";const V=h.forwardRef(({className:s,...t},n)=>e.jsx("div",{ref:n,className:$("flex flex-col space-y-1.5",s),...t}));V.displayName="CardHeader";const G=h.forwardRef(({className:s,...t},n)=>e.jsx("h3",{ref:n,className:$("text-2xl font-semibold leading-none tracking-tight",s),...t}));G.displayName="CardTitle";const J=h.forwardRef(({className:s,...t},n)=>e.jsx("p",{ref:n,className:$("text-sm text-muted-foreground",s),...t}));J.displayName="CardDescription";const L=h.forwardRef(({className:s,padded:t=!0,...n},a)=>e.jsx("div",{ref:a,className:$(t&&"p-6 pt-0",s),...n}));L.displayName="CardContent";const Sw=h.forwardRef(({className:s,...t},n)=>e.jsx("div",{ref:n,className:$("flex items-center p-6 pt-0",s),...t}));Sw.displayName="CardFooter";const Cw=h.forwardRef(({className:s,color:t="primary",...n},a)=>{const i={primary:"bg-primary/10 text-primary",secondary:"bg-secondary/10 text-secondary",success:"bg-green-100 text-green-700",warning:"bg-yellow-100 text-yellow-700",danger:"bg-red-100 text-red-700"};return e.jsx("div",{ref:a,className:$("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium",i[t],s),...n})});Cw.displayName="CardBadge";const _w=h.forwardRef(({className:s,alt:t,...n},a)=>e.jsx("img",{ref:a,className:$("w-full h-48 object-cover rounded-t-lg",s),alt:t,...n}));_w.displayName="CardImage";const kw=h.forwardRef(({className:s,...t},n)=>e.jsx("div",{ref:n,className:$("absolute top-4 right-4 flex items-center gap-2",s),...t}));kw.displayName="CardActions";function Tw(){return e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:e.jsx(M,{className:"w-full max-w-md mx-4",children:e.jsxs(L,{className:"pt-6",children:[e.jsxs("div",{className:"flex mb-4 gap-2",children:[e.jsx(we,{className:"h-8 w-8 text-red-500"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function Ew(){const[s,t]=h.useState(null),[n,a]=h.useState(!1),i=us(),r=h.useRef(0),l=h.useCallback(()=>{console.log("useWebSocket env VITE_API_HOST:",void 0),s!==null&&s.close();const m=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`;console.log("Attempting WebSocket connection to",m);const u=new WebSocket(m);return u.onopen=()=>{console.log("WebSocket connection established"),a(!0),r.current=0,i.callDetails&&u.send(JSON.stringify({type:"init",callId:i.callDetails.id}))},u.onmessage=x=>{try{const f=JSON.parse(x.data);console.log("[useWebSocket] Message received:",f),f.type==="transcript"&&(console.log("[useWebSocket] Transcript message:",f),i.addTranscript({callId:f.callId,role:f.role,content:f.content,tenantId:"default"})),f.type==="connected"&&console.log("[useWebSocket] Connected to server:",f.message),f.type==="order_status_update"&&(f.orderId||f.reference)&&f.status&&(console.log("[useWebSocket] Order status update:",f),i.setActiveOrders(p=>p.map(g=>f.reference&&g.reference===f.reference||f.orderId&&g.reference===f.orderId?{...g,status:f.status}:g)))}catch(f){console.error("Error parsing WebSocket message:",f)}},u.onclose=x=>{if(console.log("WebSocket connection closed",x),a(!1),r.current<5){const f=Math.pow(2,r.current)*1e3;console.log(`Reconnecting WebSocket in ${f}ms (attempt ${r.current+1})`),setTimeout(l,f),r.current++}else console.warn("Max WebSocket reconnection attempts reached")},u.onerror=x=>{console.error("WebSocket encountered error",x),u.readyState!==WebSocket.CLOSED&&u.close()},t(u),()=>{u.close()}},[i.callDetails,i.addTranscript,i.activeOrders,i.setActiveOrders]),o=h.useCallback(d=>{s&&n?s.send(JSON.stringify(d)):console.error("Cannot send message, WebSocket not connected")},[s,n]),c=h.useCallback(()=>{n||l()},[n,l]);return h.useEffect(()=>(l(),()=>{s&&s.close()}),[]),h.useEffect(()=>{s&&n&&i.callDetails?.id&&(console.log("Sending init message with callId after availability",i.callDetails.id),s.send(JSON.stringify({type:"init",callId:i.callDetails.id})))},[i.callDetails?.id,s,n]),{connected:n,sendMessage:o,reconnect:c}}const Aw=({onLogin:s})=>{const[t,n]=h.useState(""),[a,i]=h.useState(""),[r,l]=h.useState(""),[o,c]=h.useState(!1),d=async m=>{if(m.preventDefault(),!t||!a){l("Please enter both username and password.");return}l("");try{const u=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:a})});if(!u.ok){const f=await u.json();l(f.error||"Login failed.");return}const x=await u.json();x.token?(localStorage.setItem("token",x.token),s()):l("Login failed: No token received.")}catch{l("Login failed: Network or server error.")}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-100 to-blue-300",children:e.jsxs("form",{onSubmit:d,className:"bg-white p-8 rounded-xl shadow-lg w-full max-w-md space-y-6 border border-gray-200",children:[e.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-4 text-center",children:"Staff Login"}),r&&e.jsx("div",{className:"text-red-500 text-sm mb-2",children:r}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Username"}),e.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400",value:t,onChange:m=>n(m.target.value),autoFocus:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:o?"text":"password",className:"w-full p-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400",value:a,onChange:m=>i(m.target.value)}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>c(!o),children:o?e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):e.jsxs("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-700 hover:bg-blue-800 text-white font-semibold py-2 rounded-lg transition",children:"Login"})]})})},Pw=["Đã ghi nhận","Đang thực hiện","Đã thực hiện và đang bàn giao cho khách","Hoàn thiện","Lưu ý khác"],Iw=({request:s,onClose:t,onStatusChange:n,onOpenMessage:a})=>{const[i,r]=h.useState(s.status);return s?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 w-full max-w-lg relative",children:[e.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-blue-700",onClick:t,children:"×"}),e.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-4",children:"Request Details"}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{children:[e.jsx("b",{children:"Room:"})," ",s.room]}),e.jsxs("div",{children:[e.jsx("b",{children:"Order ID:"})," ",s.id]}),e.jsxs("div",{children:[e.jsx("b",{children:"Guest Name:"})," ",s.guestName]}),e.jsxs("div",{children:[e.jsx("b",{children:"Content:"})," ",s.content]}),e.jsxs("div",{children:[e.jsx("b",{children:"Time:"})," ",s.time]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("b",{children:"Status:"}),e.jsx("select",{className:"border rounded px-2 py-1 text-xs",value:i,onChange:l=>r(l.target.value),children:Pw.map(l=>e.jsx("option",{value:l,children:l},l))})]}),e.jsxs("div",{children:[e.jsx("b",{children:"Notes:"})," ",s.notes||"-"]})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded font-semibold",onClick:()=>{i!==s.status&&n(i)},children:"Cập Nhật"}),e.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded font-semibold",onClick:a,children:"Nhắn khách"}),e.jsx("button",{className:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded font-semibold",onClick:t,children:"Đóng"})]})]})}):null},Mw=({messages:s,onSend:t,onClose:n,loading:a})=>{const[i,r]=h.useState(""),l=()=>{i.trim()&&(t(i),r(""))};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-5 w-full max-w-md relative flex flex-col",children:[e.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-blue-700",onClick:n,children:"×"}),e.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-3",children:"Nhắn tin tới Guest"}),e.jsx("div",{className:"flex-1 overflow-y-auto mb-3 max-h-60 border rounded p-2 bg-gray-50",children:s.length===0?e.jsx("div",{className:"text-gray-400 text-sm text-center",children:"Chưa có tin nhắn"}):s.map(o=>e.jsxs("div",{className:`mb-2 ${o.sender==="staff"?"text-right":"text-left"}`,children:[e.jsxs("div",{className:`inline-block px-3 py-1 rounded-lg ${o.sender==="staff"?"bg-blue-100 text-blue-900":"bg-gray-200 text-gray-800"}`,children:[e.jsxs("span",{className:"font-semibold",children:[o.sender==="staff"?"Staff":"Guest",":"]})," ",o.content]}),e.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:o.time})]},o.id))}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("input",{type:"text",className:"flex-1 border rounded px-2 py-1",placeholder:"Nhập tin nhắn...",value:i,onChange:o=>r(o.target.value),onKeyDown:o=>{o.key==="Enter"&&l()},disabled:a}),e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-1 rounded font-semibold",onClick:l,disabled:a||!i.trim(),children:"Gửi"})]})]})})},Pn=["Tất cả","Đã ghi nhận","Đang thực hiện","Đã thực hiện và đang bàn giao cho khách","Hoàn thiện","Lưu ý khác"],Ei=s=>{switch(s){case"Đã ghi nhận":return"bg-gray-300 text-gray-800";case"Đang thực hiện":return"bg-yellow-200 text-yellow-800";case"Đã thực hiện và đang bàn giao cho khách":return"bg-blue-200 text-blue-800";case"Hoàn thiện":return"bg-green-200 text-green-800";case"Lưu ý khác":return"bg-red-200 text-red-800";default:return"bg-gray-100 text-gray-700"}},Ql=()=>{const[s,t]=h.useState([]),[n,a]=h.useState(null),[i,r]=h.useState(!1),[l,o]=h.useState(!1),[c,d]=h.useState([]),[m,u]=h.useState(!1),[x,f]=h.useState("Tất cả"),[p,g]=h.useState(""),[y,j]=h.useState(""),[v,b]=h.useState(null),[w,C]=h.useState(!1),[T,B]=h.useState(!1),[z,P]=h.useState(""),[E,S]=h.useState(""),[N,F]=h.useState({}),R=vr(),O=()=>localStorage.getItem("staff_token"),D=async()=>{const H=O();if(!H){R("/staff");return}try{const te=await fetch("/api/staff/requests",{headers:{Authorization:`Bearer ${H}`},credentials:"include"});if(te.status===401){localStorage.removeItem("staff_token"),R("/staff");return}const pe=await te.json();console.log("Fetched requests data:",pe),t(pe)}catch(te){console.error("Failed to fetch requests:",te)}};h.useEffect(()=>{D();const H=setInterval(D,3e4);return()=>clearInterval(H)},[]);const _=()=>{r(!1),a(null)},A=async(H,te)=>{const pe=O();if(!pe)return R("/staff");try{await fetch(`/api/staff/requests/${te}/status`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${pe}`},credentials:"include",body:JSON.stringify({status:H})}),t(Ls=>Ls.map(ls=>ls.id===te?{...ls,status:H}:ls)),n&&n.id===te&&a({...n,status:H})}catch(Ls){console.error("Failed to update status:",Ls)}},W=async()=>{if(o(!0),!n)return;const H=O();if(!H)return R("/staff");try{const pe=await(await fetch(`/api/staff/requests/${n.id}/messages`,{headers:{Authorization:`Bearer ${H}`},credentials:"include"})).json();d(pe)}catch{d([])}},ee=()=>o(!1),Ne=async H=>{u(!0);const te=O();if(!te)return R("/staff");try{await fetch(`/api/staff/requests/${n.id}/message`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${te}`},credentials:"include",body:JSON.stringify({content:H})}),d(pe=>[...pe,{id:(pe.length+1).toString(),sender:"staff",content:H,time:new Date().toLocaleTimeString().slice(0,5)}])}catch{}u(!1)},ae=async()=>{B(!0),P(""),S("")},de=async()=>{if(z!=="2208"){S("Mật khẩu không đúng");return}C(!0);try{const H=O();if(!H)return B(!1),R("/staff");const pe=await(await fetch("/api/staff/requests/all",{method:"DELETE",headers:{Authorization:`Bearer ${H}`},credentials:"include"})).json();B(!1),pe.success?(alert(`${pe.message}`),t([])):alert(`Lỗi: ${pe.error||"Không thể xóa requests"}`)}catch(H){console.error("Error deleting all requests:",H),alert("Đã xảy ra lỗi khi xóa requests"),B(!1)}finally{C(!1),P("")}},U=s.filter(H=>{if(x!=="Tất cả"&&H.status!==x)return!1;if(p||y){const te=new Date(H.created_at);if(p){const pe=new Date(p);if(pe.setHours(0,0,0,0),te<pe)return!1}if(y){const pe=new Date(y);if(pe.setHours(23,59,59,999),te>pe)return!1}}return!0}),ie=H=>{H.key==="Enter"&&de(),E&&S("")},$e=H=>{H.stopPropagation()};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-200 p-2 sm:p-6",children:[e.jsxs("div",{className:"max-w-7xl mx-auto bg-white rounded-xl shadow-lg p-3 sm:p-6 border border-gray-200",children:[e.jsxs("div",{className:"flex flex-col items-center mb-6",children:[e.jsx("img",{src:"/assets/references/images/minhon-logo.jpg",alt:"Minhon Logo",className:"h-16 object-contain mb-2"}),e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-blue-900 text-center",children:"Staff Request Management"})]}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("button",{onClick:()=>R("/analytics"),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-semibold shadow transition",children:"View Analytics"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:ae,disabled:w||s.length===0,className:`bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-semibold shadow transition ${w||s.length===0?"opacity-50 cursor-not-allowed":""}`,children:w?"Deleting...":"Delete All Requests"}),e.jsx("button",{onClick:D,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold shadow transition",children:"Refresh"})]})]}),e.jsxs("div",{className:"mb-4 grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[e.jsx("label",{className:"font-semibold text-blue-900 w-full sm:w-auto",children:"Lọc theo trạng thái:"}),e.jsx("select",{className:"w-full sm:w-auto border rounded px-3 py-1 text-sm",value:x,onChange:H=>f(H.target.value),children:Pn.map(H=>e.jsx("option",{value:H,children:H},H))})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[e.jsx("label",{className:"font-semibold text-blue-900 w-full sm:w-auto",children:"Lọc theo thời gian:"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 w-full sm:w-auto",children:[e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("label",{className:"text-sm text-gray-600 min-w-10",children:"Từ:"}),e.jsx("input",{type:"date",className:"border rounded px-2 py-1 text-sm w-full",value:p,onChange:H=>g(H.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("label",{className:"text-sm text-gray-600 min-w-10",children:"Đến:"}),e.jsx("input",{type:"date",className:"border rounded px-2 py-1 text-sm w-full",value:y,onChange:H=>j(H.target.value)})]}),(p||y)&&e.jsx("button",{onClick:()=>{g(""),j("")},className:"text-blue-600 hover:text-blue-800 text-sm mt-2 sm:mt-0",children:"Xóa lọc"})]})]})]}),e.jsx("div",{className:"block sm:hidden",children:e.jsxs("div",{className:"space-y-4",children:[(console.log("Mobile rendering - filteredRequests:",U),null),U.length>0?[...U].sort((H,te)=>new Date(te.created_at).getTime()-new Date(H.created_at).getTime()).map(H=>e.jsxs("div",{className:"border rounded-lg p-3 bg-white shadow-sm",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsxs("div",{className:"font-semibold",children:["Phòng: ",H.room_number||"N/A"]}),e.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-semibold ${Ei(H.status)}`,children:H.status||"Chưa xác định"})]}),e.jsxs("div",{className:"text-sm text-gray-500 mb-2",children:["Order ID: ",H.orderId||H.id||"N/A"]}),e.jsx("div",{className:"text-xs text-gray-500 mb-3",children:H.created_at?e.jsxs(e.Fragment,{children:[new Date(H.created_at).toLocaleDateString()," ",new Date(H.created_at).toLocaleTimeString()]}):"Thời gian không xác định"}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("button",{onClick:()=>b(v===H.id?null:H.id),className:"w-full flex justify-between items-center py-1 px-2 border rounded bg-gray-50 hover:bg-gray-100",children:[e.jsx("span",{className:"text-sm font-medium text-blue-700",children:v===H.id?"Ẩn nội dung":"Xem nội dung"}),e.jsx("svg",{className:`w-4 h-4 text-blue-700 transition-transform ${v===H.id?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),v===H.id&&e.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded-md whitespace-pre-line break-words text-sm",children:H.request_content||"Không có nội dung"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("select",{className:"border rounded px-2 py-2 text-sm w-full",value:N[H.id]??H.status,onChange:te=>F(pe=>({...pe,[H.id]:te.target.value})),children:Pn.filter(te=>te!=="Tất cả").map(te=>e.jsx("option",{value:te,children:te},te))}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-2 py-2 rounded text-sm font-semibold",onClick:async()=>{const te=N[H.id];te&&te!==H.status&&(await A(te,H.id),F(pe=>{const{[H.id]:Ls,...ls}=pe;return ls}))},children:"Cập Nhật"}),e.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-2 py-2 rounded text-sm font-semibold",onClick:()=>{a(H),W()},children:"Nhắn khách"})]})]})]},H.id)):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("p",{children:"Không có yêu cầu nào"}),e.jsx("p",{className:"mt-2 text-sm",children:"Nhấn Refresh để tải lại dữ liệu"})]})]})}),e.jsx("div",{className:"hidden sm:block overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-blue-100 text-blue-900",children:[e.jsx("th",{className:"py-2 px-3 text-left",children:"Room"}),e.jsx("th",{className:"py-2 px-3 text-left",children:"Order ID"}),e.jsx("th",{className:"py-2 px-6 text-left w-3/5",children:"Content"}),e.jsx("th",{className:"py-2 px-3 text-left",children:"Time"}),e.jsx("th",{className:"py-2 px-2 text-left w-1/12",children:"Status"}),e.jsx("th",{className:"py-2 px-3 text-left",children:"Action"})]})}),e.jsxs("tbody",{children:[(Array.isArray(U)?[...U].sort((H,te)=>new Date(te.created_at).getTime()-new Date(H.created_at).getTime()):[]).map(H=>e.jsxs("tr",{className:"border-b hover:bg-blue-50",children:[e.jsx("td",{className:"py-2 px-3 font-semibold",children:H.room_number}),e.jsx("td",{className:"py-2 px-3",children:H.orderId||H.id}),e.jsx("td",{className:"py-2 px-6 whitespace-pre-line break-words max-w-4xl",children:H.request_content}),e.jsxs("td",{className:"py-2 px-3",children:[H.created_at&&e.jsx("span",{className:"block whitespace-nowrap",children:new Date(H.created_at).toLocaleDateString()}),H.created_at&&e.jsx("span",{className:"block whitespace-nowrap text-xs text-gray-500",children:new Date(H.created_at).toLocaleTimeString()})]}),e.jsx("td",{className:"py-2 px-2",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${Ei(H.status)} break-words whitespace-normal block text-center`,children:H.status})}),e.jsxs("td",{className:"py-2 px-3 space-x-2",children:[e.jsx("select",{className:"border rounded px-2 py-1 text-xs",value:N[H.id]??H.status,onChange:te=>F(pe=>({...pe,[H.id]:te.target.value})),children:Pn.filter(te=>te!=="Tất cả").map(te=>e.jsx("option",{value:te,children:te},te))}),e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-xs font-semibold",onClick:async()=>{const te=N[H.id];te&&te!==H.status&&(await A(te,H.id),F(pe=>{const{[H.id]:Ls,...ls}=pe;return ls}))},children:"Cập Nhật"}),e.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-xs font-semibold",onClick:()=>{a(H),W()},children:"Nhắn khách"})]})]},H.id)),U.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"py-8 text-center text-gray-500",children:"Không có yêu cầu nào"})})]})]})})]}),i&&n&&e.jsx(Iw,{request:n,onClose:_,onStatusChange:H=>A(H,n.id),onOpenMessage:W}),l&&n&&e.jsx(Mw,{messages:c,onClose:ee,onSend:Ne,loading:m}),T&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md mx-4",onClick:$e,children:[e.jsx("h3",{className:"text-lg font-bold text-red-600 mb-4",children:"Xác nhận xóa toàn bộ requests"}),e.jsx("p",{className:"mb-4 text-gray-700",children:"Hành động này sẽ xóa tất cả requests và không thể hoàn tác. Vui lòng nhập mật khẩu để xác nhận:"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("input",{type:"password",value:z,onChange:H=>P(H.target.value),onKeyDown:ie,className:`w-full px-3 py-2 border rounded ${E?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-red-500`,placeholder:"Nhập mật khẩu xác nhận",autoFocus:!0}),E&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:E}),e.jsx("p",{className:"text-gray-500 text-xs mt-2 italic",children:"Biện pháp bảo vệ: Chức năng xóa yêu cầu mật khẩu xác nhận để ngăn ngừa xóa dữ liệu do nhầm lẫn."})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>B(!1),className:"px-4 py-2 bg-gray-300 hover:bg-gray-400 rounded transition duration-200",children:"Hủy"}),e.jsx("button",{onClick:de,disabled:w,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded transition duration-200 flex items-center disabled:opacity-70",children:w?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Đang xóa..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Xác nhận xóa"]})})]})]})})]})},Lw=()=>{const[s,t]=h.useState(!1),n=()=>t(!0);return s?e.jsx(Ql,{}):e.jsx(Aw,{onLogin:n})},Ai=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF4560"],Dw=()=>{const[s,t]=h.useState(null),[n,a]=h.useState([]),[i,r]=h.useState([]),l=vr(),o=async c=>{const d=localStorage.getItem("staff_token");if(!d)return l("/staff"),null;try{const m=await fetch(c,{headers:{Authorization:`Bearer ${d}`}});return m.status===401?(l("/staff"),null):m.json()}catch(m){return console.error(`Failed to fetch from ${c}:`,m),null}};return h.useEffect(()=>{(async()=>{const d=await o("/api/analytics/overview"),m=await o("/api/analytics/service-distribution"),u=await o("/api/analytics/hourly-activity");d&&t(d),m&&a(m),u&&r(u)})()},[]),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-100 to-gray-200 p-4 sm:p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800",children:"Analytics Dashboard"}),e.jsx("button",{onClick:()=>l("/staff/dashboard"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold shadow transition",children:"Back to Staff Dashboard"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Total Calls"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:s?.totalCalls||"..."})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Avg. Call Duration"}),e.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[s?.averageCallDuration||"...","s"]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Languages"}),e.jsx(cs,{width:"100%",height:150,children:e.jsxs(Dn,{children:[e.jsx($n,{data:s?.languageDistribution,dataKey:"count",nameKey:"language",cx:"50%",cy:"50%",outerRadius:60,fill:"#8884d8",label:!0,children:s?.languageDistribution.map((c,d)=>e.jsx(Rn,{fill:Ai[d%Ai.length]},`cell-${d}`))}),e.jsx(ds,{})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Popular Services"}),e.jsx(cs,{width:"100%",height:300,children:e.jsxs(yr,{data:n,margin:{top:5,right:20,left:10,bottom:5},children:[e.jsx(Xs,{strokeDasharray:"3 3"}),e.jsx(Ys,{dataKey:"serviceType"}),e.jsx(Zs,{}),e.jsx(ds,{}),e.jsx(Ka,{}),e.jsx(br,{dataKey:"count",fill:"#8884d8"})]})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Hourly Activity"}),e.jsx(cs,{width:"100%",height:300,children:e.jsxs(ia,{data:i,margin:{top:5,right:20,left:10,bottom:5},children:[e.jsx(Xs,{strokeDasharray:"3 3"}),e.jsx(Ys,{dataKey:"hour"}),e.jsx(Zs,{}),e.jsx(ds,{}),e.jsx(Ka,{}),e.jsx(mt,{type:"monotone",dataKey:"count",stroke:"#82ca9d"})]})})]})]})]})})},$w=it("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-dark"}},defaultVariants:{variant:"default"}});function Z({className:s,variant:t,...n}){return e.jsx("div",{className:$($w({variant:t}),s),...n})}function Rw(){return _r.useSyncExternalStore(Ow,()=>!0,()=>!1)}function Ow(){return()=>{}}var ka="Avatar",[Fw,T4]=Gs(ka),[zw,Xl]=Fw(ka),Yl=h.forwardRef((s,t)=>{const{__scopeAvatar:n,...a}=s,[i,r]=h.useState("idle");return e.jsx(zw,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:r,children:e.jsx(Ce.span,{...a,ref:t})})});Yl.displayName=ka;var Zl="AvatarImage",Jl=h.forwardRef((s,t)=>{const{__scopeAvatar:n,src:a,onLoadingStatusChange:i=()=>{},...r}=s,l=Xl(Zl,n),o=Bw(a,r),c=gt(d=>{i(d),l.onImageLoadingStatusChange(d)});return Wt(()=>{o!=="idle"&&c(o)},[o,c]),o==="loaded"?e.jsx(Ce.img,{...r,ref:t,src:a}):null});Jl.displayName=Zl;var eo="AvatarFallback",so=h.forwardRef((s,t)=>{const{__scopeAvatar:n,delayMs:a,...i}=s,r=Xl(eo,n),[l,o]=h.useState(a===void 0);return h.useEffect(()=>{if(a!==void 0){const c=window.setTimeout(()=>o(!0),a);return()=>window.clearTimeout(c)}},[a]),l&&r.imageLoadingStatus!=="loaded"?e.jsx(Ce.span,{...i,ref:t}):null});so.displayName=eo;function Pi(s,t){return s?t?(s.src!==t&&(s.src=t),s.complete&&s.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Bw(s,{referrerPolicy:t,crossOrigin:n}){const a=Rw(),i=h.useRef(null),r=a?(i.current||(i.current=new window.Image),i.current):null,[l,o]=h.useState(()=>Pi(r,s));return Wt(()=>{o(Pi(r,s))},[r,s]),Wt(()=>{const c=u=>()=>{o(u)};if(!r)return;const d=c("loaded"),m=c("error");return r.addEventListener("load",d),r.addEventListener("error",m),t&&(r.referrerPolicy=t),typeof n=="string"&&(r.crossOrigin=n),()=>{r.removeEventListener("load",d),r.removeEventListener("error",m)}},[r,n,t]),l}var to=Yl,no=Jl,ao=so;const Ta=h.forwardRef(({className:s,...t},n)=>e.jsx(to,{ref:n,className:$("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...t}));Ta.displayName=to.displayName;const Ea=h.forwardRef(({className:s,...t},n)=>e.jsx(no,{ref:n,className:$("aspect-square h-full w-full",s),...t}));Ea.displayName=no.displayName;const Aa=h.forwardRef(({className:s,...t},n)=>e.jsx(ao,{ref:n,className:$("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...t}));Aa.displayName=ao.displayName;const io=Rc,ro=Oc,qw=h.forwardRef(({className:s,inset:t,children:n,...a},i)=>e.jsxs(Qi,{ref:i,className:$("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",s),...a,children:[n,e.jsx(Os,{className:"ml-auto h-4 w-4"})]}));qw.displayName=Qi.displayName;const Hw=h.forwardRef(({className:s,...t},n)=>e.jsx(Xi,{ref:n,className:$("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...t}));Hw.displayName=Xi.displayName;const Pa=h.forwardRef(({className:s,sideOffset:t=4,...n},a)=>e.jsx($c,{children:e.jsx(Yi,{ref:a,sideOffset:t,className:$("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})}));Pa.displayName=Yi.displayName;const Bs=h.forwardRef(({className:s,inset:t,...n},a)=>e.jsx(Zi,{ref:a,className:$("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",s),...n}));Bs.displayName=Zi.displayName;const Vw=h.forwardRef(({className:s,children:t,checked:n,...a},i)=>e.jsxs(Ji,{ref:i,className:$("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:n,...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(er,{children:e.jsx(ma,{className:"h-4 w-4"})})}),t]}));Vw.displayName=Ji.displayName;const Gw=h.forwardRef(({className:s,children:t,...n},a)=>e.jsxs(sr,{ref:a,className:$("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(er,{children:e.jsx(uh,{className:"h-2 w-2 fill-current"})})}),t]}));Gw.displayName=sr.displayName;const Ia=h.forwardRef(({className:s,inset:t,...n},a)=>e.jsx(tr,{ref:a,className:$("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",s),...n}));Ia.displayName=tr.displayName;const St=h.forwardRef(({className:s,...t},n)=>e.jsx(nr,{ref:n,className:$("-mx-1 my-1 h-px bg-muted",s),...t}));St.displayName=nr.displayName;const Uw=[{href:"/dashboard",icon:pa,label:"Tổng quan",description:"Metrics và thống kê tổng quan"},{href:"/dashboard/setup",icon:Xe,label:"Thiết lập Assistant",description:"Cấu hình và tùy chỉnh AI Assistant"},{href:"/dashboard/analytics",icon:ua,label:"Phân tích",description:"Báo cáo và thống kê chi tiết"},{href:"/dashboard/settings",icon:Ye,label:"Cài đặt",description:"Quản lý thông tin khách sạn"}],Ww=[{href:"/dashboard/billing",icon:on,label:"Thanh toán",description:"Quản lý subscription và billing",requiresPlan:"basic"},{href:"/dashboard/team",icon:Ge,label:"Nhóm",description:"Quản lý team và permissions",requiresPlan:"enterprise"}],Kw=({href:s,icon:t,label:n,description:a,isActive:i,disabled:r=!1})=>{const l=e.jsxs(I,{variant:i?"default":"ghost",className:$("w-full justify-start gap-3 px-3 py-6 h-auto","hover:bg-gray-100 dark:hover:bg-gray-800",i&&"bg-primary text-primary-foreground hover:bg-primary/90",r&&"opacity-50 cursor-not-allowed hover:bg-transparent"),disabled:r,children:[e.jsx(t,{className:"h-5 w-5 shrink-0"}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("div",{className:"font-medium",children:n}),e.jsx("div",{className:$("text-xs text-muted-foreground",i&&"text-primary-foreground/80"),children:a})]}),r&&e.jsx(Z,{variant:"outline",className:"text-xs",children:"Premium"})]});return r?e.jsx("div",{children:l}):e.jsx(_e,{href:s,children:l})},Qw=({plan:s,status:t})=>{const n=()=>t==="expired"?"destructive":s==="trial"?"secondary":s==="enterprise"?"default":"outline",a=()=>s==="trial"?"Dùng thử":s==="basic"?"Cơ bản":s==="premium"?"Cao cấp":s==="enterprise"?"Doanh nghiệp":s;return e.jsx(Z,{variant:n(),className:"text-xs",children:a()})},Xw=(s,t)=>{if(!t)return!0;const n={trial:0,basic:1,premium:2,enterprise:3},a=n[s]??0,i=n[t]??0;return a>=i},Yw=({isOpen:s,onClose:t,tenantData:n})=>{const[a]=Us(),i=[...Uw,...Ww.filter(r=>r.requiresPlan&&n.subscriptionPlan!=="trial")];return e.jsx("aside",{className:$("fixed inset-y-0 left-0 z-50 w-80 bg-white dark:bg-gray-800 shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0",s?"translate-x-0":"-translate-x-full"),children:e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary text-primary-foreground",children:e.jsx(tl,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold",children:"Talk2Go"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"SaaS Dashboard"})]})]}),e.jsx(I,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:t,children:e.jsx(ot,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"px-6 py-4 border-b",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-lg",children:n.hotelName}),e.jsx("div",{className:"text-xs text-gray-500",children:n.subscriptionStatus==="active"?"Hoạt động":"Hết hạn"})]}),e.jsx(Qw,{plan:n.subscriptionPlan,status:n.subscriptionStatus})]}),e.jsx(_e,{href:"/interface1",className:"block mt-3 px-3 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 transition text-center",children:"Xem giao diện khách"})]}),e.jsx("nav",{className:"flex-1 p-4 space-y-2",children:i.map(r=>{const l=Xw(n.subscriptionPlan,r.requiresPlan);return e.jsx(Kw,{href:r.href,icon:r.icon,label:r.label,description:r.description,isActive:a===r.href,disabled:!l},r.href)})}),e.jsx("div",{className:"p-4 border-t",children:e.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"© 2024 Talk2Go. All rights reserved."})})]})})},Qs={id:"tenant-1",hotelName:"Mi Nhon Hotel",subscriptionPlan:"premium",subscriptionStatus:"active",remainingDays:15},Zw=[{href:"/dashboard",icon:pa,label:"Tổng quan",description:"Metrics và thống kê tổng quan"},{href:"/dashboard/setup",icon:Xe,label:"Thiết lập Assistant",description:"Cấu hình và tùy chỉnh AI Assistant"},{href:"/dashboard/analytics",icon:ua,label:"Phân tích",description:"Báo cáo và thống kê chi tiết"},{href:"/dashboard/settings",icon:Ye,label:"Cài đặt",description:"Quản lý thông tin khách sạn"}],Jw=s=>{const t=[];return s!=="trial"&&t.push({href:"/dashboard/billing",icon:on,label:"Thanh toán",description:"Quản lý subscription và billing"}),s==="enterprise"&&t.push({href:"/dashboard/team",icon:Ge,label:"Nhóm",description:"Quản lý team và permissions"}),t},$s=({children:s})=>{const[t,n]=h.useState(!1);Us();const{tenant:a,logout:i}=De();return[...Zw,...Jw(a?.subscriptionPlan||Qs.subscriptionPlan)],e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[t&&e.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:()=>n(!1)}),e.jsx(Yw,{isOpen:t,onClose:()=>n(!1),tenantData:a||Qs}),e.jsxs("div",{className:"lg:ml-80",children:[e.jsx("header",{className:"sticky top-0 z-30 bg-white dark:bg-gray-800 border-b shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(I,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>n(!0),children:e.jsx(ll,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Dashboard"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Quản lý khách sạn và AI Assistant"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(I,{variant:"ghost",size:"icon",className:"relative",children:[e.jsx(qs,{className:"h-5 w-5"}),e.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 bg-red-500 rounded-full text-xs flex items-center justify-center text-white",children:"2"})]}),e.jsxs(io,{children:[e.jsx(ro,{asChild:!0,children:e.jsx(I,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:e.jsxs(Ta,{className:"h-10 w-10",children:[e.jsx(Ea,{src:"",alt:(a||Qs).hotelName}),e.jsx(Aa,{className:"bg-primary text-primary-foreground",children:(a||Qs).hotelName.charAt(0).toUpperCase()})]})})}),e.jsxs(Pa,{className:"w-56",align:"end",children:[e.jsxs(Ia,{className:"flex flex-col",children:[e.jsx("div",{className:"font-medium",children:(a||Qs).hotelName}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["ID: ",(a||Qs).id]})]}),e.jsx(St,{}),e.jsxs(Bs,{children:[e.jsx(Ye,{className:"mr-2 h-4 w-4"}),"Cài đặt tài khoản"]}),e.jsxs(Bs,{children:[e.jsx(nl,{className:"mr-2 h-4 w-4"}),"Trợ giúp"]}),e.jsx(St,{}),e.jsxs(Bs,{className:"text-red-600 focus:text-red-600",onClick:i,children:[e.jsx(rl,{className:"mr-2 h-4 w-4"}),"Đăng xuất"]})]})]})]})]})}),e.jsx("main",{className:"p-6",children:s})]})]})};var Ma="Progress",La=100,[e2,E4]=Gs(Ma),[s2,t2]=e2(Ma),lo=h.forwardRef((s,t)=>{const{__scopeProgress:n,value:a=null,max:i,getValueLabel:r=n2,...l}=s;(i||i===0)&&!Ii(i)&&console.error(a2(`${i}`,"Progress"));const o=Ii(i)?i:La;a!==null&&!Mi(a,o)&&console.error(i2(`${a}`,"Progress"));const c=Mi(a,o)?a:null,d=tn(c)?r(c,o):void 0;return e.jsx(s2,{scope:n,value:c,max:o,children:e.jsx(Ce.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":tn(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":ho(c,o),"data-value":c??void 0,"data-max":o,...l,ref:t})})});lo.displayName=Ma;var oo="ProgressIndicator",co=h.forwardRef((s,t)=>{const{__scopeProgress:n,...a}=s,i=t2(oo,n);return e.jsx(Ce.div,{"data-state":ho(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...a,ref:t})});co.displayName=oo;function n2(s,t){return`${Math.round(s/t*100)}%`}function ho(s,t){return s==null?"indeterminate":s===t?"complete":"loading"}function tn(s){return typeof s=="number"}function Ii(s){return tn(s)&&!isNaN(s)&&s>0}function Mi(s,t){return tn(s)&&!isNaN(s)&&s<=t&&s>=0}function a2(s,t){return`Invalid prop \`max\` of value \`${s}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${La}\`.`}function i2(s,t){return`Invalid prop \`value\` of value \`${s}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${La} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var uo=lo,r2=co;const hs=h.forwardRef(({className:s,value:t,...n},a)=>e.jsx(uo,{ref:a,className:$("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...n,children:e.jsx(r2,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));hs.displayName=uo.displayName;const ss={totalCalls:1247,totalCallsGrowth:12.5,averageCallDuration:245,callDurationGrowth:-5.2,activeUsers:89,activeUsersGrowth:8.3,satisfactionScore:4.7,satisfactionGrowth:2.1,languageDistribution:[{language:"Tiếng Việt",count:687,percentage:55.1},{language:"English",count:423,percentage:33.9},{language:"Français",count:137,percentage:11}],recentActivity:[{time:"2 phút trước",action:"Cuộc gọi từ phòng 205",type:"call"},{time:"5 phút trước",action:"Đặt room service từ phòng 301",type:"service"},{time:"12 phút trước",action:"Hỏi thông tin về spa",type:"inquiry"},{time:"18 phút trước",action:"Phàn nàn về tiếng ồn",type:"complaint"}]},Rs={usageLimit:5e3,currentUsage:1247,resetDate:"2024-01-01"},Ft=({title:s,value:t,change:n,icon:a,description:i,suffix:r=""})=>e.jsxs(M,{children:[e.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(G,{className:"text-sm font-medium",children:s}),e.jsx(a,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(L,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[t,r]}),e.jsxs("div",{className:"flex items-center pt-1",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:i}),n!==void 0&&e.jsxs("div",{className:`ml-auto flex items-center text-xs ${n>0?"text-green-600":"text-red-600"}`,children:[e.jsx(ze,{className:`h-3 w-3 mr-1 ${n<0?"rotate-180":""}`}),Math.abs(n),"%"]})]})]})]}),l2=({time:s,action:t,type:n})=>{const a=()=>{switch(n){case"call":return e.jsx(is,{className:"h-4 w-4 text-blue-500"});case"service":return e.jsx(Xe,{className:"h-4 w-4 text-green-500"});case"inquiry":return e.jsx(Ks,{className:"h-4 w-4 text-purple-500"});case"complaint":return e.jsx(we,{className:"h-4 w-4 text-red-500"});default:return e.jsx(gs,{className:"h-4 w-4 text-gray-500"})}};return e.jsxs("div",{className:"flex items-center space-x-3 p-3 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0",children:a()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:t}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:s})]})]})},o2=()=>e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(Ye,{className:"h-5 w-5"}),"Thao tác nhanh"]}),e.jsx(J,{children:"Các tính năng thường dùng"})]}),e.jsxs(L,{className:"space-y-3",children:[e.jsx(_e,{href:"/dashboard/setup",children:e.jsxs(I,{variant:"outline",className:"w-full justify-start",children:[e.jsx(Xe,{className:"h-4 w-4 mr-2"}),"Cấu hình AI Assistant"]})}),e.jsx(_e,{href:"/dashboard/analytics",children:e.jsxs(I,{variant:"outline",className:"w-full justify-start",children:[e.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Xem báo cáo chi tiết"]})}),e.jsx(_e,{href:"/dashboard/settings",children:e.jsxs(I,{variant:"outline",className:"w-full justify-start",children:[e.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Cài đặt khách sạn"]})})]})]}),c2=()=>{const s=Rs.currentUsage/Rs.usageLimit*100;return e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(gs,{className:"h-5 w-5"}),"Sử dụng tháng này"]}),e.jsx(J,{children:"Theo dõi giới hạn subscription"})]}),e.jsxs(L,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Cuộc gọi"}),e.jsxs("span",{children:[Rs.currentUsage.toLocaleString()," / ",Rs.usageLimit.toLocaleString()]})]}),e.jsx(hs,{value:s,className:"h-2"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Còn lại"}),e.jsxs("span",{className:"font-medium",children:[(Rs.usageLimit-Rs.currentUsage).toLocaleString()," cuộc gọi"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(as,{className:"h-4 w-4"}),e.jsxs("span",{children:["Reset vào ",Rs.resetDate]})]})]})]})},d2=()=>e.jsxs(M,{children:[e.jsx(V,{children:e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"h-5 w-5 text-green-500"}),"Trạng thái hệ thống"]})}),e.jsxs(L,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"AI Assistant"})]}),e.jsx(Z,{variant:"outline",className:"text-green-600",children:"Hoạt động"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"Voice API"})]}),e.jsx(Z,{variant:"outline",className:"text-green-600",children:"Hoạt động"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"Analytics"})]}),e.jsx(Z,{variant:"outline",className:"text-green-600",children:"Hoạt động"})]})]})]}),h2=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Tổng quan"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Theo dõi hiệu suất AI Assistant và hoạt động khách sạn"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(Ft,{title:"Tổng cuộc gọi",value:ss.totalCalls.toLocaleString(),change:ss.totalCallsGrowth,icon:is,description:"Tháng này"}),e.jsx(Ft,{title:"Thời gian trung bình",value:Math.floor(ss.averageCallDuration/60),change:ss.callDurationGrowth,icon:as,description:"Phút/cuộc gọi",suffix:"m"}),e.jsx(Ft,{title:"Người dùng hoạt động",value:ss.activeUsers,change:ss.activeUsersGrowth,icon:Ge,description:"Trong 7 ngày"}),e.jsx(Ft,{title:"Điểm hài lòng",value:ss.satisfactionScore,change:ss.satisfactionGrowth,icon:ze,description:"Trên 5 điểm",suffix:"/5"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(M,{className:"lg:col-span-2",children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(lt,{className:"h-5 w-5"}),"Phân bố ngôn ngữ"]}),e.jsx(J,{children:"Ngôn ngữ được sử dụng trong các cuộc gọi"})]}),e.jsx(L,{children:e.jsx("div",{className:"space-y-4",children:ss.languageDistribution.map(s=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium",children:s.language}),e.jsxs("span",{className:"text-muted-foreground",children:[s.count," (",s.percentage,"%)"]})]}),e.jsx(hs,{value:s.percentage,className:"h-2"})]},s.language))})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(o2,{}),e.jsx(c2,{})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(gs,{className:"h-5 w-5"}),"Hoạt động gần đây"]}),e.jsx(J,{children:"Các sự kiện mới nhất từ AI Assistant"})]}),e.jsx(L,{children:e.jsx("div",{className:"space-y-1",children:ss.recentActivity.map((s,t)=>e.jsx(l2,{time:s.time,action:s.action,type:s.type},t))})})]}),e.jsx(d2,{})]})]}),K=h.forwardRef(({className:s,type:t,...n},a)=>e.jsx("input",{type:t,className:$("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm font-medium text-dark placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...n}));K.displayName="Input";var u2="Label",mo=h.forwardRef((s,t)=>e.jsx(Ce.label,{...s,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(s.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));mo.displayName=u2;var xo=mo;const m2=it("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),k=h.forwardRef(({className:s,...t},n)=>e.jsx(xo,{ref:n,className:$(m2(),s),...t}));k.displayName=xo.displayName;const ye=Vc,be=Gc,ve=h.forwardRef(({className:s,children:t,...n},a)=>e.jsxs(ar,{ref:a,className:$("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...n,children:[t,e.jsx(Fc,{asChild:!0,children:e.jsx(Ns,{className:"h-4 w-4 opacity-50"})})]}));ve.displayName=ar.displayName;const po=h.forwardRef(({className:s,...t},n)=>e.jsx(ir,{ref:n,className:$("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(hh,{className:"h-4 w-4"})}));po.displayName=ir.displayName;const fo=h.forwardRef(({className:s,...t},n)=>e.jsx(rr,{ref:n,className:$("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(Ns,{className:"h-4 w-4"})}));fo.displayName=rr.displayName;const je=h.forwardRef(({className:s,children:t,position:n="popper",...a},i)=>e.jsx(zc,{children:e.jsxs(lr,{ref:i,className:$("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:n,...a,children:[e.jsx(po,{}),e.jsx(Bc,{className:$("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),e.jsx(fo,{})]})}));je.displayName=lr.displayName;const x2=h.forwardRef(({className:s,...t},n)=>e.jsx(or,{ref:n,className:$("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...t}));x2.displayName=or.displayName;const q=h.forwardRef(({className:s,children:t,...n},a)=>e.jsxs(cr,{ref:a,className:$("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(qc,{children:e.jsx(ma,{className:"h-4 w-4"})})}),e.jsx(Hc,{children:t})]}));q.displayName=cr.displayName;const p2=h.forwardRef(({className:s,...t},n)=>e.jsx(dr,{ref:n,className:$("-mx-1 my-1 h-px bg-muted",s),...t}));p2.displayName=dr.displayName;var mn="Checkbox",[f2,A4]=Gs(mn),[g2,Da]=f2(mn);function v2(s){const{__scopeCheckbox:t,checked:n,children:a,defaultChecked:i,disabled:r,form:l,name:o,onCheckedChange:c,required:d,value:m="on",internal_do_not_use_render:u}=s,[x,f]=an({prop:n,defaultProp:i??!1,onChange:c,caller:mn}),[p,g]=h.useState(null),[y,j]=h.useState(null),v=h.useRef(!1),b=p?!!l||!!p.closest("form"):!0,w={checked:x,disabled:r,setChecked:f,control:p,setControl:g,name:o,form:l,value:m,hasConsumerStoppedPropagationRef:v,required:d,defaultChecked:ks(i)?!1:i,isFormControl:b,bubbleInput:y,setBubbleInput:j};return e.jsx(g2,{scope:t,...w,children:j2(u)?u(w):a})}var go="CheckboxTrigger",vo=h.forwardRef(({__scopeCheckbox:s,onKeyDown:t,onClick:n,...a},i)=>{const{control:r,value:l,disabled:o,checked:c,required:d,setControl:m,setChecked:u,hasConsumerStoppedPropagationRef:x,isFormControl:f,bubbleInput:p}=Da(go,s),g=Es(i,m),y=h.useRef(c);return h.useEffect(()=>{const j=r?.form;if(j){const v=()=>u(y.current);return j.addEventListener("reset",v),()=>j.removeEventListener("reset",v)}},[r,u]),e.jsx(Ce.button,{type:"button",role:"checkbox","aria-checked":ks(c)?"mixed":c,"aria-required":d,"data-state":No(c),"data-disabled":o?"":void 0,disabled:o,value:l,...a,ref:g,onKeyDown:Me(t,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:Me(n,j=>{u(v=>ks(v)?!0:!v),p&&f&&(x.current=j.isPropagationStopped(),x.current||j.stopPropagation())})})});vo.displayName=go;var $a=h.forwardRef((s,t)=>{const{__scopeCheckbox:n,name:a,checked:i,defaultChecked:r,required:l,disabled:o,value:c,onCheckedChange:d,form:m,...u}=s;return e.jsx(v2,{__scopeCheckbox:n,checked:i,defaultChecked:r,disabled:o,required:l,onCheckedChange:d,name:a,form:m,value:c,internal_do_not_use_render:({isFormControl:x})=>e.jsxs(e.Fragment,{children:[e.jsx(vo,{...u,ref:t,__scopeCheckbox:n}),x&&e.jsx(wo,{__scopeCheckbox:n})]})})});$a.displayName=mn;var jo="CheckboxIndicator",yo=h.forwardRef((s,t)=>{const{__scopeCheckbox:n,forceMount:a,...i}=s,r=Da(jo,n);return e.jsx(Jn,{present:a||ks(r.checked)||r.checked===!0,children:e.jsx(Ce.span,{"data-state":No(r.checked),"data-disabled":r.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...s.style}})})});yo.displayName=jo;var bo="CheckboxBubbleInput",wo=h.forwardRef(({__scopeCheckbox:s,...t},n)=>{const{control:a,hasConsumerStoppedPropagationRef:i,checked:r,defaultChecked:l,required:o,disabled:c,name:d,value:m,form:u,bubbleInput:x,setBubbleInput:f}=Da(bo,s),p=Es(n,f),g=hr(r),y=ur(a);h.useEffect(()=>{const v=x;if(!v)return;const b=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(b,"checked").set,T=!i.current;if(g!==r&&C){const B=new Event("click",{bubbles:T});v.indeterminate=ks(r),C.call(v,ks(r)?!1:r),v.dispatchEvent(B)}},[x,g,r,i]);const j=h.useRef(ks(r)?!1:r);return e.jsx(Ce.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??j.current,required:o,disabled:c,name:d,value:m,form:u,...t,tabIndex:-1,ref:p,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});wo.displayName=bo;function j2(s){return typeof s=="function"}function ks(s){return s==="indeterminate"}function No(s){return ks(s)?"indeterminate":s?"checked":"unchecked"}const So=h.forwardRef(({className:s,...t},n)=>e.jsx($a,{ref:n,className:$("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...t,children:e.jsx(yo,{className:$("flex items-center justify-center text-current"),children:e.jsx(ma,{className:"h-4 w-4"})})}));So.displayName=$a.displayName;const y2=it("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-dark",{variants:{variant:{default:"bg-background text-dark",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),At=h.forwardRef(({className:s,variant:t,...n},a)=>e.jsx("div",{ref:a,role:"alert",className:$(y2({variant:t}),s),...n}));At.displayName="Alert";const b2=h.forwardRef(({className:s,...t},n)=>e.jsx("h5",{ref:n,className:$("mb-1 font-medium leading-none tracking-tight",s),...t}));b2.displayName="AlertTitle";const Pt=h.forwardRef(({className:s,...t},n)=>e.jsx("div",{ref:n,className:$("text-sm [&_p]:leading-relaxed",s),...t}));Pt.displayName="AlertDescription";class w2{constructor(){this.baseUrl="/api/dashboard"}async researchHotel(t){try{return await Ds({url:`${this.baseUrl}/research-hotel`,method:"POST",body:t})}catch(n){throw console.error("Hotel research failed:",n),this.handleApiError(n)}}async generateAssistant(t){try{return await Ds({url:`${this.baseUrl}/generate-assistant`,method:"POST",body:t})}catch(n){throw console.error("Assistant generation failed:",n),this.handleApiError(n)}}async getHotelProfile(){try{return await Ds({url:`${this.baseUrl}/hotel-profile`,method:"GET"})}catch(t){throw console.error("Failed to fetch hotel profile:",t),this.handleApiError(t)}}async updateAssistantConfig(t){try{return await Ds({url:`${this.baseUrl}/assistant-config`,method:"PUT",body:t})}catch(n){throw console.error("Failed to update assistant config:",n),this.handleApiError(n)}}async getAnalytics(){try{return await Ds({url:`${this.baseUrl}/analytics`,method:"GET"})}catch(t){throw console.error("Failed to fetch analytics:",t),this.handleApiError(t)}}async getServiceHealth(){try{return await Ds({url:`${this.baseUrl}/service-health`,method:"GET"})}catch(t){throw console.error("Failed to fetch service health:",t),this.handleApiError(t)}}async resetAssistant(){try{return await Ds({url:`${this.baseUrl}/reset-assistant`,method:"POST"})}catch(t){throw console.error("Failed to reset assistant:",t),this.handleApiError(t)}}handleApiError(t){if(t.error)return t;const n=t.message||"An unexpected error occurred",a=n.match(/^(\d+):\s*(.+)$/);if(a){const[,i,r]=a,l=parseInt(i);try{const o=JSON.parse(r);return{error:o.error||r,details:o.details,feature:o.feature,currentPlan:o.currentPlan,upgradeRequired:o.upgradeRequired,setupRequired:o.setupRequired,assistantRequired:o.assistantRequired,requiresResearch:o.requiresResearch}}catch{return{error:r,details:{statusCode:l}}}}return{error:n,details:{originalError:t}}}}const Co=new w2,N2=s=>s&&typeof s.name=="string"&&typeof s.address=="string"&&Array.isArray(s.services)&&Array.isArray(s.amenities)&&s.policies&&Array.isArray(s.roomTypes),S2=s=>s&&["professional","friendly","luxurious","casual","enthusiastic"].includes(s.personality)&&["formal","friendly","warm","energetic","calm"].includes(s.tone)&&Array.isArray(s.languages)&&s.languages.length>0&&["office","off","hotel-lobby"].includes(s.backgroundSound),C2=[{value:"professional",label:"Chuyên nghiệp",description:"Lịch sự, trang trọng và đáng tin cậy"},{value:"friendly",label:"Thân thiện",description:"Ấm áp, dễ gần và hữu ích"},{value:"luxurious",label:"Sang trọng",description:"Tinh tế, đẳng cấp và chuyên nghiệp"},{value:"casual",label:"Thoải mái",description:"Tự nhiên, gần gũi và dễ chịu"},{value:"enthusiastic",label:"Nhiệt tình",description:"Tích cực, năng động và sôi nổi"}],_2=[{value:"formal",label:"Trang trọng",description:"Lịch sự và chuyên nghiệp"},{value:"friendly",label:"Thân thiện",description:"Ấm áp và dễ gần"},{value:"warm",label:"Ấm áp",description:"Gần gũi và chăm sóc"},{value:"energetic",label:"Năng động",description:"Tích cực và sôi nổi"},{value:"calm",label:"Điềm tĩnh",description:"Bình tĩnh và thư thái"}],k2=[{value:"vi",label:"Tiếng Việt",flag:"🇻🇳"},{value:"en",label:"English",flag:"🇺🇸"},{value:"fr",label:"Français",flag:"🇫🇷"},{value:"ko",label:"한국어",flag:"🇰🇷"},{value:"zh",label:"中文",flag:"🇨🇳"},{value:"ru",label:"Русский",flag:"🇷🇺"}],T2=[{value:"hotel-lobby",label:"Sảnh khách sạn",description:"Nhạc nền nhẹ nhàng"},{value:"office",label:"Văn phòng",description:"Âm thanh văn phòng"},{value:"off",label:"Tắt âm thanh",description:"Không có âm thanh nền"}],E2=({state:s,onNext:t,onError:n,onUpdateState:a})=>{const i=(o,c)=>{a({formData:{...s.formData,[o]:c},validation:{...s.validation,[o]:null}})},r=()=>{const o={};return s.formData.hotelName.trim()?s.formData.hotelName.length<2&&(o.hotelName="Tên khách sạn phải có ít nhất 2 ký tự"):o.hotelName="Tên khách sạn là bắt buộc",a({validation:{...s.validation,...o}}),Object.keys(o).length===0},l=async()=>{if(r()){a({isResearching:!0,error:null});try{const o=await Co.researchHotel({hotelName:s.formData.hotelName,location:s.formData.location||void 0,researchTier:s.formData.researchTier});o.success&&N2(o.hotelData)?t(o.hotelData):n({error:"Dữ liệu khách sạn không hợp lệ"})}catch(o){n(o)}finally{a({isResearching:!1})}}};return e.jsxs(M,{className:"max-w-2xl mx-auto",children:[e.jsxs(V,{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary text-primary-foreground",children:e.jsx(Ts,{className:"h-6 w-6"})})}),e.jsx(G,{className:"text-2xl",children:"Tìm kiếm thông tin khách sạn"}),e.jsx(J,{children:"Chúng tôi sẽ tự động nghiên cứu và thu thập thông tin về khách sạn của bạn"})]}),e.jsxs(L,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"hotel-name",children:"Tên khách sạn *"}),e.jsx(K,{id:"hotel-name",placeholder:"Ví dụ: Grand Hotel Saigon",value:s.formData.hotelName,onChange:o=>i("hotelName",o.target.value),className:`mt-1 ${s.validation.hotelName?"border-red-500":""}`}),s.validation.hotelName&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:s.validation.hotelName})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"location",children:"Địa điểm (không bắt buộc)"}),e.jsx(K,{id:"location",placeholder:"Ví dụ: Ho Chi Minh City, Vietnam",value:s.formData.location,onChange:o=>i("location",o.target.value),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"research-tier",children:"Mức độ nghiên cứu"}),e.jsxs(ye,{value:s.formData.researchTier,onValueChange:o=>i("researchTier",o),children:[e.jsx(ve,{className:"mt-1",children:e.jsx(be,{})}),e.jsxs(je,{children:[e.jsx(q,{value:"basic",children:"Cơ bản (Miễn phí)"}),e.jsx(q,{value:"advanced",children:"Nâng cao (Premium)"})]})]})]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Thông tin sẽ được thu thập:"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Thông tin cơ bản (địa chỉ, số điện thoại, website)"}),e.jsx("li",{children:"• Dịch vụ và tiện nghi"}),e.jsx("li",{children:"• Các loại phòng và giá cả"}),e.jsx("li",{children:"• Chính sách check-in/check-out"}),e.jsx("li",{children:"• Các điểm tham quan gần đó"}),s.formData.researchTier==="advanced"&&e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"• Dữ liệu mạng xã hội"}),e.jsx("li",{children:"• Phân tích đánh giá khách hàng"}),e.jsx("li",{children:"• Thông tin đối thủ cạnh tranh"})]})]})]}),s.error&&e.jsxs(At,{variant:"destructive",children:[e.jsx(we,{className:"h-4 w-4"}),e.jsxs(Pt,{children:[s.error.error,s.error.upgradeRequired&&e.jsx("div",{className:"mt-2",children:e.jsx(I,{variant:"outline",size:"sm",children:"Nâng cấp gói dịch vụ"})})]})]}),e.jsx(I,{onClick:l,disabled:!s.formData.hotelName.trim()||s.isResearching,className:"w-full",size:"lg",children:s.isResearching?e.jsxs(e.Fragment,{children:[e.jsx(Ps,{className:"w-4 h-4 mr-2 animate-spin"}),"Đang tìm kiếm..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Tìm kiếm khách sạn"]})})]})]})},A2=({state:s,onNext:t,onBack:n,onError:a,onUpdateState:i})=>{const[r,l]=h.useState(!1),[o,c]=h.useState(s.hotelData),[d,m]=h.useState(new Set(["basic"])),u=p=>{const g=new Set(d);g.has(p)?g.delete(p):g.add(p),m(g)},x=()=>{l(!r),r&&o&&i({hotelData:o})},f=()=>{s.hotelData&&t()};return s.hotelData?e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-green-100 text-green-600",children:e.jsx(rt,{className:"h-6 w-6"})})}),e.jsx("h2",{className:"text-2xl font-bold",children:"Xác nhận thông tin khách sạn"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Vui lòng kiểm tra và xác nhận thông tin đã thu thập"})]}),e.jsxs("div",{className:"flex justify-center gap-2 mb-6",children:[e.jsxs(I,{variant:r?"default":"outline",onClick:x,size:"sm",children:[e.jsx(Ye,{className:"w-4 h-4 mr-2"}),r?"Lưu thay đổi":"Chỉnh sửa"]}),e.jsxs(I,{variant:"outline",onClick:n,size:"sm",children:[e.jsx(Bn,{className:"w-4 h-4 mr-2"}),"Tìm kiếm lại"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(M,{children:[e.jsx(V,{className:"cursor-pointer",onClick:()=>u("basic"),children:e.jsxs(G,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Kt,{className:"h-5 w-5"}),"Thông tin cơ bản"]}),d.has("basic")?e.jsx(Ns,{className:"h-4 w-4"}):e.jsx(Os,{className:"h-4 w-4"})]})}),d.has("basic")&&e.jsxs(L,{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{children:"Tên khách sạn"}),e.jsx("p",{className:"font-medium",children:s.hotelData.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{children:"Địa chỉ"}),e.jsx("p",{className:"text-sm text-gray-600",children:s.hotelData.address})]}),s.hotelData.phone&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{children:"Số điện thoại"}),e.jsx("p",{className:"text-sm",children:s.hotelData.phone})]}),s.hotelData.website&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{children:"Website"}),e.jsxs("a",{href:s.hotelData.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm flex items-center gap-1",children:[s.hotelData.website,e.jsx(xh,{className:"h-3 w-3"})]})]}),s.hotelData.rating&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{children:"Đánh giá"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Js,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"font-medium",children:s.hotelData.rating})]})]})]})]}),e.jsxs(M,{children:[e.jsx(V,{className:"cursor-pointer",onClick:()=>u("services"),children:e.jsxs(G,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ye,{className:"h-5 w-5"}),"Dịch vụ (",s.hotelData.services.length,")"]}),d.has("services")?e.jsx(Ns,{className:"h-4 w-4"}):e.jsx(Os,{className:"h-4 w-4"})]})}),d.has("services")&&e.jsx(L,{children:e.jsx("div",{className:"space-y-2",children:s.hotelData.services.map((p,g)=>e.jsxs("div",{className:"p-2 bg-gray-50 rounded",children:[e.jsx("div",{className:"font-medium text-sm",children:p.name}),e.jsx("div",{className:"text-xs text-gray-600",children:p.description})]},g))})})]}),e.jsxs(M,{children:[e.jsx(V,{className:"cursor-pointer",onClick:()=>u("amenities"),children:e.jsxs(G,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ya,{className:"h-5 w-5"}),"Tiện nghi (",s.hotelData.amenities.length,")"]}),d.has("amenities")?e.jsx(Ns,{className:"h-4 w-4"}):e.jsx(Os,{className:"h-4 w-4"})]})}),d.has("amenities")&&e.jsx(L,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:s.hotelData.amenities.map((p,g)=>e.jsx(Z,{variant:"secondary",children:p},g))})})]}),e.jsxs(M,{children:[e.jsx(V,{className:"cursor-pointer",onClick:()=>u("rooms"),children:e.jsxs(G,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-5 w-5"}),"Loại phòng (",s.hotelData.roomTypes.length,")"]}),d.has("rooms")?e.jsx(Ns,{className:"h-4 w-4"}):e.jsx(Os,{className:"h-4 w-4"})]})}),d.has("rooms")&&e.jsx(L,{children:e.jsx("div",{className:"space-y-3",children:s.hotelData.roomTypes.map((p,g)=>e.jsx("div",{className:"p-3 border rounded",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:p.name}),e.jsx("div",{className:"text-sm text-gray-600",children:p.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-green-600",children:[p.price.toLocaleString()," VND"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"/ đêm"})]})]})},g))})})]}),e.jsxs(M,{children:[e.jsx(V,{className:"cursor-pointer",onClick:()=>u("policies"),children:e.jsxs(G,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(as,{className:"h-5 w-5"}),"Chính sách"]}),d.has("policies")?e.jsx(Ns,{className:"h-4 w-4"}):e.jsx(Os,{className:"h-4 w-4"})]})}),d.has("policies")&&e.jsxs(L,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Check-in:"}),e.jsx("span",{className:"font-medium",children:s.hotelData.policies.checkIn})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Check-out:"}),e.jsx("span",{className:"font-medium",children:s.hotelData.policies.checkOut})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Hủy phòng:"}),e.jsx("span",{className:"font-medium",children:s.hotelData.policies.cancellation})]})]})]}),e.jsxs(M,{children:[e.jsx(V,{className:"cursor-pointer",onClick:()=>u("attractions"),children:e.jsxs(G,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ga,{className:"h-5 w-5"}),"Điểm tham quan (",s.hotelData.localAttractions.length,")"]}),d.has("attractions")?e.jsx(Ns,{className:"h-4 w-4"}):e.jsx(Os,{className:"h-4 w-4"})]})}),d.has("attractions")&&e.jsx(L,{children:e.jsx("div",{className:"space-y-2",children:s.hotelData.localAttractions.map((p,g)=>e.jsxs("div",{className:"p-2 bg-gray-50 rounded",children:[e.jsx("div",{className:"font-medium text-sm",children:p.name}),e.jsx("div",{className:"text-xs text-gray-600",children:p.description}),p.distance&&e.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Cách ",p.distance]})]},g))})})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(I,{variant:"outline",onClick:n,children:[e.jsx(Bn,{className:"w-4 h-4 mr-2"}),"Quay lại"]}),e.jsxs(I,{onClick:f,size:"lg",children:["Tiếp tục",e.jsx(dh,{className:"w-4 h-4 ml-2"})]})]})]}):e.jsx(M,{className:"max-w-2xl mx-auto",children:e.jsxs(L,{className:"text-center py-8",children:[e.jsx(we,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),e.jsx("p",{children:"Không tìm thấy dữ liệu khách sạn. Vui lòng thử lại."}),e.jsx(I,{onClick:n,className:"mt-4",children:"Quay lại"})]})})},P2=({state:s,onNext:t,onBack:n,onError:a,onUpdateState:i})=>{const r=(d,m)=>{i({customization:{...s.customization,[d]:m},validation:{...s.validation,[d]:null}})},l=(d,m)=>{let u=[...s.customization.languages];m?u.push(d):u=u.filter(x=>x!==d),r("languages",u)},o=()=>{const d={};return s.customization.languages.length===0&&(d.languages="Vui lòng chọn ít nhất một ngôn ngữ"),i({validation:{...s.validation,...d}}),Object.keys(d).length===0},c=async()=>{if(!(!o()||!s.hotelData)){if(!S2(s.customization)){a({error:"Cấu hình Assistant không hợp lệ"});return}i({isGenerating:!0,error:null});try{const d=await Co.generateAssistant({hotelData:s.hotelData,customization:s.customization});d.success?t(d.assistantId):a({error:"Không thể tạo Assistant"})}catch(d){a(d)}finally{i({isGenerating:!1})}}};return e.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-purple-100 text-purple-600",children:e.jsx(Xe,{className:"h-6 w-6"})})}),e.jsx("h2",{className:"text-2xl font-bold",children:"Tùy chỉnh AI Assistant"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Cá nhân hóa AI Assistant theo phong cách khách sạn của bạn"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(vh,{className:"h-5 w-5"}),"Tính cách"]}),e.jsx(J,{children:"Chọn phong cách giao tiếp của AI Assistant"})]}),e.jsx(L,{children:e.jsxs(ye,{value:s.customization.personality,onValueChange:d=>r("personality",d),children:[e.jsx(ve,{children:e.jsx(be,{})}),e.jsx(je,{children:C2.map(d=>e.jsx(q,{value:d.value,children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:d.label}),e.jsx("div",{className:"text-xs text-gray-500",children:d.description})]})},d.value))})]})})]}),e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(li,{className:"h-5 w-5"}),"Giọng điệu"]}),e.jsx(J,{children:"Chọn cách thức giao tiếp"})]}),e.jsx(L,{children:e.jsxs(ye,{value:s.customization.tone,onValueChange:d=>r("tone",d),children:[e.jsx(ve,{children:e.jsx(be,{})}),e.jsx(je,{children:_2.map(d=>e.jsx(q,{value:d.value,children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:d.label}),e.jsx("div",{className:"text-xs text-gray-500",children:d.description})]})},d.value))})]})})]}),e.jsxs(M,{className:"md:col-span-2",children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(lt,{className:"h-5 w-5"}),"Ngôn ngữ hỗ trợ"]}),e.jsx(J,{children:"Chọn các ngôn ngữ mà AI Assistant có thể giao tiếp"})]}),e.jsxs(L,{children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:k2.map(d=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(So,{id:d.value,checked:s.customization.languages.includes(d.value),onCheckedChange:m=>l(d.value,m)}),e.jsxs(k,{htmlFor:d.value,className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("span",{children:d.flag}),e.jsx("span",{children:d.label})]})]},d.value))}),s.validation.languages&&e.jsx("p",{className:"text-sm text-red-500 mt-2",children:s.validation.languages})]})]}),e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(gh,{className:"h-5 w-5"}),"Cài đặt giọng nói"]}),e.jsx(J,{children:"Điều chỉnh thời gian và âm thanh"})]}),e.jsxs(L,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(k,{children:"Thời gian chờ (giây)"}),e.jsx(K,{type:"number",min:"10",max:"120",value:s.customization.silenceTimeout||30,onChange:d=>r("silenceTimeout",parseInt(d.target.value)),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(k,{children:"Thời gian tối đa (giây)"}),e.jsx(K,{type:"number",min:"300",max:"3600",value:s.customization.maxDuration||1800,onChange:d=>r("maxDuration",parseInt(d.target.value)),className:"mt-1"})]})]})]}),e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(li,{className:"h-5 w-5"}),"Âm thanh nền"]}),e.jsx(J,{children:"Chọn âm thanh nền cho cuộc gọi"})]}),e.jsx(L,{children:e.jsxs(ye,{value:s.customization.backgroundSound,onValueChange:d=>r("backgroundSound",d),children:[e.jsx(ve,{children:e.jsx(be,{})}),e.jsx(je,{children:T2.map(d=>e.jsx(q,{value:d.value,children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:d.label}),e.jsx("div",{className:"text-xs text-gray-500",children:d.description})]})},d.value))})]})})]})]}),s.error&&e.jsxs(At,{variant:"destructive",children:[e.jsx(we,{className:"h-4 w-4"}),e.jsxs(Pt,{children:[s.error.error,s.error.upgradeRequired&&e.jsx("div",{className:"mt-2",children:e.jsx(I,{variant:"outline",size:"sm",children:"Nâng cấp gói dịch vụ"})})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(I,{variant:"outline",onClick:n,children:[e.jsx(Bn,{className:"w-4 h-4 mr-2"}),"Quay lại"]}),e.jsx(I,{onClick:c,disabled:s.customization.languages.length===0||s.isGenerating,size:"lg",children:s.isGenerating?e.jsxs(e.Fragment,{children:[e.jsx(Ps,{className:"w-4 h-4 mr-2 animate-spin"}),"Đang tạo Assistant..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Xe,{className:"w-4 h-4 mr-2"}),"Tạo AI Assistant"]})})]})]})},I2=({state:s,onUpdateState:t})=>{const[,n]=Us(),a=()=>{n("/dashboard")},i=()=>{n("/dashboard/assistant")};return e.jsxs(M,{className:"max-w-2xl mx-auto",children:[e.jsxs(V,{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-green-100 text-green-600",children:e.jsx(rt,{className:"h-8 w-8"})})}),e.jsx(G,{className:"text-2xl",children:"AI Assistant đã sẵn sàng!"}),e.jsx(J,{className:"text-base",children:"Khách sạn của bạn đã được thiết lập thành công. AI Assistant hiện có thể phục vụ khách hàng 24/7."})]}),e.jsxs(L,{className:"space-y-6",children:[e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Những gì đã được thiết lập:"}),e.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[e.jsx("li",{children:"✓ Thông tin khách sạn đã được lưu trữ"}),e.jsx("li",{children:"✓ Knowledge base đã được tạo"}),e.jsx("li",{children:"✓ AI Assistant đã được cấu hình"}),e.jsx("li",{children:"✓ Voice API đã được kích hoạt"}),e.jsx("li",{children:"✓ Dashboard đã sẵn sàng sử dụng"})]})]}),s.assistantId&&e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Thông tin Assistant:"}),e.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[e.jsxs("div",{children:["ID: ",e.jsx("code",{className:"bg-blue-100 px-1 rounded",children:s.assistantId})]}),e.jsxs("div",{children:["Tính cách: ",e.jsx("span",{className:"capitalize",children:s.customization.personality})]}),e.jsxs("div",{children:["Ngôn ngữ: ",s.customization.languages.join(", ")]})]})]}),e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Bạn có thể bắt đầu sử dụng AI Assistant ngay bây giờ hoặc tùy chỉnh thêm trong cài đặt."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(I,{onClick:i,variant:"outline",className:"flex-1",children:[e.jsx(is,{className:"w-4 h-4 mr-2"}),"Kiểm tra Assistant"]}),e.jsx(I,{onClick:a,size:"lg",className:"flex-1",children:"Đi tới Dashboard"})]})]})]})]})},M2=()=>{const[s,t]=h.useState({currentStep:1,hotelData:null,customization:{personality:"professional",tone:"friendly",languages:["vi"],backgroundSound:"hotel-lobby"},isLoading:!1,error:null,isResearching:!1,isGenerating:!1,assistantId:null,retryCount:0,formData:{hotelName:"",location:"",researchTier:"basic"},validation:{hotelName:null,languages:null}}),n=4,a=s.currentStep/n*100,i=m=>{t(u=>({...u,...m}))},r=m=>{s.currentStep===1&&m?i({hotelData:m,currentStep:2,error:null}):s.currentStep===2?i({currentStep:3,error:null}):s.currentStep===3&&m&&i({assistantId:m,currentStep:4,error:null})},l=()=>{s.currentStep>1&&i({currentStep:s.currentStep-1,error:null})},o=m=>{i({error:m})},c=()=>{i({error:null,retryCount:s.retryCount+1})},d={state:s,onNext:r,onBack:l,onError:o,onUpdateState:i};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"max-w-2xl mx-auto mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:["Bước ",s.currentStep," / ",n]}),e.jsxs("span",{className:"text-sm text-gray-600",children:[Math.round(a),"%"]})]}),e.jsx(hs,{value:a,className:"h-2"})]}),s.error&&e.jsx("div",{className:"max-w-2xl mx-auto mb-6",children:e.jsxs(At,{variant:"destructive",children:[e.jsx(we,{className:"h-4 w-4"}),e.jsxs(Pt,{className:"flex items-center justify-between",children:[e.jsx("span",{children:s.error.error}),e.jsxs(I,{variant:"outline",size:"sm",onClick:c,children:[e.jsx(me,{className:"w-4 h-4 mr-2"}),"Thử lại"]})]})]})}),s.currentStep===1&&e.jsx(E2,{...d}),s.currentStep===2&&e.jsx(A2,{...d}),s.currentStep===3&&e.jsx(P2,{...d}),s.currentStep===4&&e.jsx(I2,{...d})]})})},qe=h.forwardRef(({className:s,...t},n)=>e.jsx("textarea",{className:$("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:n,...t}));qe.displayName="Textarea";var xn="Switch",[L2,P4]=Gs(xn),[D2,$2]=L2(xn),_o=h.forwardRef((s,t)=>{const{__scopeSwitch:n,name:a,checked:i,defaultChecked:r,required:l,disabled:o,value:c="on",onCheckedChange:d,form:m,...u}=s,[x,f]=h.useState(null),p=Es(t,b=>f(b)),g=h.useRef(!1),y=x?m||!!x.closest("form"):!0,[j,v]=an({prop:i,defaultProp:r??!1,onChange:d,caller:xn});return e.jsxs(D2,{scope:n,checked:j,disabled:o,children:[e.jsx(Ce.button,{type:"button",role:"switch","aria-checked":j,"aria-required":l,"data-state":Ao(j),"data-disabled":o?"":void 0,disabled:o,value:c,...u,ref:p,onClick:Me(s.onClick,b=>{v(w=>!w),y&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),y&&e.jsx(Eo,{control:x,bubbles:!g.current,name:a,value:c,checked:j,required:l,disabled:o,form:m,style:{transform:"translateX(-100%)"}})]})});_o.displayName=xn;var ko="SwitchThumb",To=h.forwardRef((s,t)=>{const{__scopeSwitch:n,...a}=s,i=$2(ko,n);return e.jsx(Ce.span,{"data-state":Ao(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})});To.displayName=ko;var R2="SwitchBubbleInput",Eo=h.forwardRef(({__scopeSwitch:s,control:t,checked:n,bubbles:a=!0,...i},r)=>{const l=h.useRef(null),o=Es(l,r),c=hr(n),d=ur(t);return h.useEffect(()=>{const m=l.current;if(!m)return;const u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(c!==n&&f){const p=new Event("click",{bubbles:a});f.call(m,n),m.dispatchEvent(p)}},[c,n,a]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Eo.displayName=R2;function Ao(s){return s?"checked":"unchecked"}var Po=_o,O2=To;const ue=h.forwardRef(({className:s,...t},n)=>e.jsx(Po,{className:$("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...t,ref:n,children:e.jsx(O2,{className:$("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ue.displayName=Po.displayName;var pn="Tabs",[F2,I4]=Gs(pn,[mr]),Io=mr(),[z2,Ra]=F2(pn),Mo=h.forwardRef((s,t)=>{const{__scopeTabs:n,value:a,onValueChange:i,defaultValue:r,orientation:l="horizontal",dir:o,activationMode:c="automatic",...d}=s,m=Kc(o),[u,x]=an({prop:a,onChange:i,defaultProp:r??"",caller:pn});return e.jsx(z2,{scope:n,baseId:Qc(),value:u,onValueChange:x,orientation:l,dir:m,activationMode:c,children:e.jsx(Ce.div,{dir:m,"data-orientation":l,...d,ref:t})})});Mo.displayName=pn;var Lo="TabsList",Do=h.forwardRef((s,t)=>{const{__scopeTabs:n,loop:a=!0,...i}=s,r=Ra(Lo,n),l=Io(n);return e.jsx(Uc,{asChild:!0,...l,orientation:r.orientation,dir:r.dir,loop:a,children:e.jsx(Ce.div,{role:"tablist","aria-orientation":r.orientation,...i,ref:t})})});Do.displayName=Lo;var $o="TabsTrigger",Ro=h.forwardRef((s,t)=>{const{__scopeTabs:n,value:a,disabled:i=!1,...r}=s,l=Ra($o,n),o=Io(n),c=zo(l.baseId,a),d=Bo(l.baseId,a),m=a===l.value;return e.jsx(Wc,{asChild:!0,...o,focusable:!i,active:m,children:e.jsx(Ce.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":d,"data-state":m?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...r,ref:t,onMouseDown:Me(s.onMouseDown,u=>{!i&&u.button===0&&u.ctrlKey===!1?l.onValueChange(a):u.preventDefault()}),onKeyDown:Me(s.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&l.onValueChange(a)}),onFocus:Me(s.onFocus,()=>{const u=l.activationMode!=="manual";!m&&!i&&u&&l.onValueChange(a)})})})});Ro.displayName=$o;var Oo="TabsContent",Fo=h.forwardRef((s,t)=>{const{__scopeTabs:n,value:a,forceMount:i,children:r,...l}=s,o=Ra(Oo,n),c=zo(o.baseId,a),d=Bo(o.baseId,a),m=a===o.value,u=h.useRef(m);return h.useEffect(()=>{const x=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(x)},[]),e.jsx(Jn,{present:i||m,children:({present:x})=>e.jsx(Ce.div,{"data-state":m?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!x,id:d,tabIndex:0,...l,ref:t,style:{...s.style,animationDuration:u.current?"0s":void 0},children:x&&r})})});Fo.displayName=Oo;function zo(s,t){return`${s}-trigger-${t}`}function Bo(s,t){return`${s}-content-${t}`}var B2=Mo,qo=Do,Ho=Ro,Vo=Fo;const rs=B2,es=h.forwardRef(({className:s,...t},n)=>e.jsx(qo,{ref:n,className:$("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...t}));es.displayName=qo.displayName;const oe=h.forwardRef(({className:s,...t},n)=>e.jsx(Ho,{ref:n,className:$("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-dark data-[state=active]:shadow-sm",s),...t}));oe.displayName=Ho.displayName;const ce=h.forwardRef(({className:s,...t},n)=>e.jsx(Vo,{ref:n,className:$("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...t}));ce.displayName=Vo.displayName;const Gt={id:"asst_abc123",name:"Mi Nhon Hotel AI Concierge",personality:"professional",tone:"friendly",languages:["vi","en","fr"],voiceId:"jennifer",silenceTimeout:30,maxDuration:600,backgroundSound:"hotel-lobby",systemPrompt:"You are the AI concierge for Mi Nhon Hotel...",status:"active",lastUpdated:"2024-01-15T10:30:00Z"},ht={totalCalls:1247,averageRating:4.7,responseTime:1.2,successRate:96.5,topIntents:[{intent:"Room Service",count:342,percentage:27.4},{intent:"Hotel Information",count:298,percentage:23.9},{intent:"Spa Booking",count:187,percentage:15},{intent:"Restaurant Reservation",count:156,percentage:12.5}]},q2=()=>{const[s,t]=h.useState(Gt),[n,a]=h.useState(!1),i=async()=>{a(!0);try{await new Promise(r=>setTimeout(r,1e3)),console.log("Saving configuration:",s)}catch(r){console.error("Failed to save configuration:",r)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(Ye,{className:"h-5 w-5"}),"Cấu hình cơ bản"]}),e.jsx(J,{children:"Thiết lập thông tin và hành vi của AI Assistant"})]}),e.jsxs(L,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"assistant-name",children:"Tên Assistant"}),e.jsx(K,{id:"assistant-name",value:s.name,onChange:r=>t(l=>({...l,name:r.target.value})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"voice-id",children:"Giọng nói"}),e.jsxs(ye,{value:s.voiceId,onValueChange:r=>t(l=>({...l,voiceId:r})),children:[e.jsx(ve,{className:"mt-1",children:e.jsx(be,{})}),e.jsxs(je,{children:[e.jsx(q,{value:"jennifer",children:"Jennifer (Nữ, Tiếng Anh)"}),e.jsx(q,{value:"david",children:"David (Nam, Tiếng Anh)"}),e.jsx(q,{value:"linh",children:"Linh (Nữ, Tiếng Việt)"}),e.jsx(q,{value:"duc",children:"Đức (Nam, Tiếng Việt)"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"personality",children:"Tính cách"}),e.jsxs(ye,{value:s.personality,onValueChange:r=>t(l=>({...l,personality:r})),children:[e.jsx(ve,{className:"mt-1",children:e.jsx(be,{})}),e.jsxs(je,{children:[e.jsx(q,{value:"professional",children:"Chuyên nghiệp"}),e.jsx(q,{value:"friendly",children:"Thân thiện"}),e.jsx(q,{value:"luxurious",children:"Sang trọng"}),e.jsx(q,{value:"casual",children:"Thoải mái"})]})]})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"tone",children:"Giọng điệu"}),e.jsxs(ye,{value:s.tone,onValueChange:r=>t(l=>({...l,tone:r})),children:[e.jsx(ve,{className:"mt-1",children:e.jsx(be,{})}),e.jsxs(je,{children:[e.jsx(q,{value:"formal",children:"Lịch sự"}),e.jsx(q,{value:"friendly",children:"Thân thiện"}),e.jsx(q,{value:"warm",children:"Ấm áp"}),e.jsx(q,{value:"energetic",children:"Năng động"}),e.jsx(q,{value:"calm",children:"Bình tĩnh"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"silence-timeout",children:"Thời gian chờ (giây)"}),e.jsx(K,{id:"silence-timeout",type:"number",value:s.silenceTimeout,onChange:r=>t(l=>({...l,silenceTimeout:parseInt(r.target.value)})),className:"mt-1",min:"10",max:"120"})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"max-duration",children:"Thời lượng tối đa (giây)"}),e.jsx(K,{id:"max-duration",type:"number",value:s.maxDuration,onChange:r=>t(l=>({...l,maxDuration:parseInt(r.target.value)})),className:"mt-1",min:"300",max:"3600"})]})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"background-sound",children:"Âm thanh nền"}),e.jsxs(ye,{value:s.backgroundSound,onValueChange:r=>t(l=>({...l,backgroundSound:r})),children:[e.jsx(ve,{className:"mt-1",children:e.jsx(be,{})}),e.jsxs(je,{children:[e.jsx(q,{value:"hotel-lobby",children:"Sảnh khách sạn"}),e.jsx(q,{value:"office",children:"Văn phòng"}),e.jsx(q,{value:"off",children:"Tắt âm thanh nền"})]})]})]})]})]}),e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(Ks,{className:"h-5 w-5"}),"System Prompt"]}),e.jsx(J,{children:"Hướng dẫn chi tiết cho AI Assistant về cách hành xử và trả lời"})]}),e.jsx(L,{children:e.jsx(qe,{value:s.systemPrompt,onChange:r=>t(l=>({...l,systemPrompt:r.target.value})),rows:8,className:"font-mono text-sm",placeholder:"Nhập system prompt cho AI Assistant..."})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(I,{onClick:i,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(Ps,{className:"w-4 h-4 mr-2 animate-spin"}),"Đang lưu..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{className:"w-4 h-4 mr-2"}),"Lưu cấu hình"]})})})]})},H2=()=>{const[s,t]=h.useState(!1),[n,a]=h.useState(""),[i,r]=h.useState(""),[l,o]=h.useState(!1),c=async()=>{if(n.trim()){o(!0);try{await new Promise(d=>setTimeout(d,2e3)),r(`Xin chào! Tôi là AI Assistant của Mi Nhon Hotel. Tôi có thể giúp bạn về ${n}. Bạn có cần tôi hỗ trợ gì thêm không?`)}catch{r("Đã xảy ra lỗi khi kiểm tra. Vui lòng thử lại.")}finally{o(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(ri,{className:"h-5 w-5"}),"Test AI Assistant"]}),e.jsx(J,{children:"Kiểm tra phản hồi của AI Assistant với các câu hỏi mẫu"})]}),e.jsxs(L,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ue,{id:"test-mode",checked:s,onCheckedChange:t}),e.jsx(k,{htmlFor:"test-mode",children:"Chế độ kiểm tra"})]}),s&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"test-phrase",children:"Câu hỏi thử nghiệm"}),e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsx(K,{id:"test-phrase",value:n,onChange:d=>a(d.target.value),placeholder:"Ví dụ: Tôi muốn đặt phòng",className:"flex-1"}),e.jsx(I,{onClick:c,disabled:!n.trim()||l,children:l?e.jsx(Ps,{className:"w-4 h-4 animate-spin"}):e.jsx(ri,{className:"w-4 h-4"})})]})]}),i&&e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx(k,{className:"text-sm font-medium",children:"Phản hồi của AI:"}),e.jsx("p",{className:"text-sm text-gray-700 mt-1",children:i})]})]})]})]}),e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Mẫu câu hỏi thường gặp"}),e.jsx(J,{children:"Các câu hỏi mà khách hàng thường hỏi"})]}),e.jsx(L,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:["Tôi muốn đặt phòng","Giờ check-in là mấy giờ?","Khách sạn có dịch vụ spa không?","Tôi muốn đặt bàn ăn tối","Làm sao để đi sân bay?","Có wifi miễn phí không?","Tôi muốn gọi room service","Khách sạn có hồ bơi không?"].map((d,m)=>e.jsxs(I,{variant:"outline",size:"sm",className:"justify-start text-left h-auto p-2",onClick:()=>a(d),children:[e.jsx(Ks,{className:"w-3 h-3 mr-2 shrink-0"}),e.jsx("span",{className:"text-xs",children:d})]},m))})})]})]})},V2=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(M,{children:[e.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(G,{className:"text-sm font-medium",children:"Tổng cuộc gọi"}),e.jsx(is,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(L,{children:[e.jsx("div",{className:"text-2xl font-bold",children:ht.totalCalls.toLocaleString()}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Tháng này"})]})]}),e.jsxs(M,{children:[e.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(G,{className:"text-sm font-medium",children:"Đánh giá trung bình"}),e.jsx(gs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(L,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[ht.averageRating,"/5"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Điểm hài lòng"})]})]}),e.jsxs(M,{children:[e.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(G,{className:"text-sm font-medium",children:"Thời gian phản hồi"}),e.jsx(as,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(L,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[ht.responseTime,"s"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Trung bình"})]})]}),e.jsxs(M,{children:[e.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(G,{className:"text-sm font-medium",children:"Tỷ lệ thành công"}),e.jsx(rt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(L,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[ht.successRate,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Cuộc gọi thành công"})]})]})]}),e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Ý định phổ biến"}),e.jsx(J,{children:"Các yêu cầu mà khách hàng thường hỏi nhất"})]}),e.jsx(L,{children:e.jsx("div",{className:"space-y-4",children:ht.topIntents.map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),e.jsx("span",{className:"font-medium",children:s.intent})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx("span",{children:s.count}),e.jsxs(Z,{variant:"outline",children:[s.percentage,"%"]})]})]},t))})})]})]}),G2=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"AI Assistant"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Quản lý và tùy chỉnh AI Assistant cho khách sạn"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(Z,{variant:"outline",className:"text-green-600",children:[e.jsx(rt,{className:"w-3 h-3 mr-1"}),"Hoạt động"]})})]}),e.jsxs(M,{children:[e.jsx(V,{children:e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"h-5 w-5"}),"Trạng thái Assistant"]})}),e.jsx(L,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(k,{className:"text-sm font-medium",children:"Tên Assistant"}),e.jsx("p",{className:"text-sm text-gray-600",children:Gt.name})]}),e.jsxs("div",{children:[e.jsx(k,{className:"text-sm font-medium",children:"ID Assistant"}),e.jsx("p",{className:"text-sm text-gray-600 font-mono",children:Gt.id})]}),e.jsxs("div",{children:[e.jsx(k,{className:"text-sm font-medium",children:"Cập nhật lần cuối"}),e.jsx("p",{className:"text-sm text-gray-600",children:new Date(Gt.lastUpdated).toLocaleString("vi-VN")})]})]})})]}),e.jsxs(rs,{defaultValue:"config",className:"space-y-4",children:[e.jsxs(es,{className:"grid w-full grid-cols-3",children:[e.jsx(oe,{value:"config",children:"Cấu hình"}),e.jsx(oe,{value:"test",children:"Kiểm tra"}),e.jsx(oe,{value:"performance",children:"Hiệu suất"})]}),e.jsx(ce,{value:"config",className:"space-y-4",children:e.jsx(q2,{})}),e.jsx(ce,{value:"test",className:"space-y-4",children:e.jsx(H2,{})}),e.jsx(ce,{value:"performance",className:"space-y-4",children:e.jsx(V2,{})})]})]}),He={overview:{totalCalls:1247,totalCallsGrowth:12.5,averageCallDuration:245,callDurationGrowth:-5.2,uniqueUsers:89,uniqueUsersGrowth:8.3,satisfactionScore:4.7,satisfactionGrowth:2.1},callsByHour:[{hour:"00",calls:12},{hour:"01",calls:8},{hour:"02",calls:5},{hour:"03",calls:3},{hour:"04",calls:2},{hour:"05",calls:4},{hour:"06",calls:15},{hour:"07",calls:28},{hour:"08",calls:45},{hour:"09",calls:67},{hour:"10",calls:89},{hour:"11",calls:78},{hour:"12",calls:95},{hour:"13",calls:87},{hour:"14",calls:92},{hour:"15",calls:85},{hour:"16",calls:78},{hour:"17",calls:65},{hour:"18",calls:82},{hour:"19",calls:75},{hour:"20",calls:58},{hour:"21",calls:45},{hour:"22",calls:32},{hour:"23",calls:22}],languageDistribution:[{language:"Tiếng Việt",calls:687,percentage:55.1},{language:"English",calls:423,percentage:33.9},{language:"Français",calls:137,percentage:11}],intentDistribution:[{intent:"Room Service",calls:342,percentage:27.4},{intent:"Hotel Information",calls:298,percentage:23.9},{intent:"Spa Booking",calls:187,percentage:15},{intent:"Restaurant Reservation",calls:156,percentage:12.5},{intent:"Housekeeping",calls:98,percentage:7.9},{intent:"Concierge",calls:87,percentage:7},{intent:"Complaints",calls:45,percentage:3.6},{intent:"Other",calls:34,percentage:2.7}],callsByDay:[{day:"Thứ 2",calls:145},{day:"Thứ 3",calls:178},{day:"Thứ 4",calls:189},{day:"Thứ 5",calls:234},{day:"Thứ 6",calls:267},{day:"Thứ 7",calls:156},{day:"Chủ nhật",calls:78}],satisfactionByIntent:[{intent:"Room Service",rating:4.8},{intent:"Hotel Information",rating:4.9},{intent:"Spa Booking",rating:4.6},{intent:"Restaurant Reservation",rating:4.7},{intent:"Housekeeping",rating:4.5},{intent:"Concierge",rating:4.8},{intent:"Complaints",rating:3.2}]},zt=({title:s,value:t,change:n,icon:a,description:i,suffix:r=""})=>e.jsxs(M,{children:[e.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(G,{className:"text-sm font-medium",children:s}),e.jsx(a,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(L,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[t,r]}),e.jsxs("div",{className:"flex items-center pt-1",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:i}),n!==void 0&&e.jsxs("div",{className:`ml-auto flex items-center text-xs ${n>0?"text-green-600":"text-red-600"}`,children:[e.jsx(ze,{className:`h-3 w-3 mr-1 ${n<0?"rotate-180":""}`}),Math.abs(n),"%"]})]})]})]}),U2=({data:s,dataKey:t,nameKey:n,title:a})=>{const i=Math.max(...s.map(r=>r[t]));return e.jsxs(M,{children:[e.jsx(V,{children:e.jsx(G,{className:"text-base",children:a})}),e.jsx(L,{children:e.jsx("div",{className:"space-y-2",children:s.map((r,l)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-20 text-sm text-gray-600 text-right",children:r[n]}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${r[t]/i*100}%`}})}),e.jsx("div",{className:"w-16 text-sm font-medium text-right",children:r[t]})]},l))})})]})},W2=()=>{const[s,t]=h.useState("30d"),[n,a]=h.useState("all");return e.jsxs(M,{children:[e.jsx(V,{children:e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(xa,{className:"h-5 w-5"}),"Bộ lọc"]})}),e.jsx(L,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Khoảng thời gian"}),e.jsxs(ye,{value:s,onValueChange:t,children:[e.jsx(ve,{className:"mt-1",children:e.jsx(be,{})}),e.jsxs(je,{children:[e.jsx(q,{value:"7d",children:"7 ngày qua"}),e.jsx(q,{value:"30d",children:"30 ngày qua"}),e.jsx(q,{value:"90d",children:"90 ngày qua"}),e.jsx(q,{value:"1y",children:"1 năm qua"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Ngôn ngữ"}),e.jsxs(ye,{value:n,onValueChange:a,children:[e.jsx(ve,{className:"mt-1",children:e.jsx(be,{})}),e.jsxs(je,{children:[e.jsx(q,{value:"all",children:"Tất cả"}),e.jsx(q,{value:"vi",children:"Tiếng Việt"}),e.jsx(q,{value:"en",children:"English"}),e.jsx(q,{value:"fr",children:"Français"})]})]})]}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsxs(I,{variant:"outline",size:"sm",children:[e.jsx(me,{className:"h-4 w-4 mr-2"}),"Làm mới"]}),e.jsxs(I,{variant:"outline",size:"sm",children:[e.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Xuất Excel"]})]})]})})]})},K2=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(zt,{title:"Tổng cuộc gọi",value:He.overview.totalCalls.toLocaleString(),change:He.overview.totalCallsGrowth,icon:is,description:"Tháng này"}),e.jsx(zt,{title:"Thời gian trung bình",value:Math.floor(He.overview.averageCallDuration/60),change:He.overview.callDurationGrowth,icon:as,description:"Phút/cuộc gọi",suffix:"m"}),e.jsx(zt,{title:"Người dùng duy nhất",value:He.overview.uniqueUsers,change:He.overview.uniqueUsersGrowth,icon:Ge,description:"Tháng này"}),e.jsx(zt,{title:"Điểm hài lòng",value:He.overview.satisfactionScore,change:He.overview.satisfactionGrowth,icon:ze,description:"Trên 5 điểm",suffix:"/5"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(U2,{data:He.callsByDay,dataKey:"calls",nameKey:"day",title:"Cuộc gọi theo ngày trong tuần"}),e.jsxs(M,{children:[e.jsx(V,{children:e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(lt,{className:"h-5 w-5"}),"Phân bố ngôn ngữ"]})}),e.jsx(L,{children:e.jsx("div",{className:"space-y-3",children:He.languageDistribution.map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-primary rounded-full"}),e.jsx("span",{className:"font-medium",children:s.language})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:s.calls}),e.jsxs(Z,{variant:"outline",children:[s.percentage,"%"]})]})]},t))})})]})]})]}),Q2=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Cuộc gọi theo giờ"}),e.jsx(J,{children:"Phân bố cuộc gọi trong 24 giờ"})]}),e.jsx(L,{children:e.jsx("div",{className:"space-y-2",children:He.callsByHour.map((s,t)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"w-8 text-xs text-gray-600",children:[s.hour,"h"]}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${s.calls/95*100}%`}})}),e.jsx("div",{className:"w-8 text-xs font-medium text-right",children:s.calls})]},t))})})]}),e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Ý định cuộc gọi"}),e.jsx(J,{children:"Phân loại theo mục đích"})]}),e.jsx(L,{children:e.jsx("div",{className:"space-y-3",children:He.intentDistribution.map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:s.intent}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:s.calls}),e.jsxs(Z,{variant:"outline",children:[s.percentage,"%"]})]})]},t))})})]})]})}),X2=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Điểm hài lòng theo ý định"}),e.jsx(J,{children:"Đánh giá khách hàng cho từng loại dịch vụ"})]}),e.jsx(L,{children:e.jsx("div",{className:"space-y-4",children:He.satisfactionByIntent.map((s,t)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:s.intent}),e.jsxs(Z,{variant:s.rating>=4.5?"default":s.rating>=4?"secondary":"destructive",children:[s.rating,"/5"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${s.rating>=4.5?"bg-green-500":s.rating>=4?"bg-yellow-500":"bg-red-500"}`,style:{width:`${s.rating/5*100}%`}})})]},t))})})]}),e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Xu hướng điểm hài lòng"}),e.jsx(J,{children:"Thay đổi theo thời gian"})]}),e.jsx(L,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:"4.7/5"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Điểm trung bình tháng này"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"5 sao"}),e.jsx("span",{children:"68%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"68%"}})}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"4 sao"}),e.jsx("span",{children:"22%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"22%"}})}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"3 sao"}),e.jsx("span",{children:"7%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:"7%"}})}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"2 sao"}),e.jsx("span",{children:"2%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:"2%"}})}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"1 sao"}),e.jsx("span",{children:"1%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:"1%"}})})]})]})})]})]})}),Y2=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Phân tích & Báo cáo"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Thống kê chi tiết về hiệu suất AI Assistant"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(I,{variant:"outline",size:"sm",children:[e.jsx(ha,{className:"h-4 w-4 mr-2"}),"Tùy chỉnh khoảng thời gian"]}),e.jsxs(I,{variant:"outline",size:"sm",children:[e.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Xuất báo cáo"]})]})]}),e.jsx(W2,{}),e.jsxs(rs,{defaultValue:"overview",className:"space-y-4",children:[e.jsxs(es,{className:"grid w-full grid-cols-3",children:[e.jsx(oe,{value:"overview",children:"Tổng quan"}),e.jsx(oe,{value:"patterns",children:"Mẫu cuộc gọi"}),e.jsx(oe,{value:"satisfaction",children:"Hài lòng"})]}),e.jsx(ce,{value:"overview",className:"space-y-4",children:e.jsx(K2,{})}),e.jsx(ce,{value:"patterns",className:"space-y-4",children:e.jsx(Q2,{})}),e.jsx(ce,{value:"satisfaction",className:"space-y-4",children:e.jsx(X2,{})})]})]}),fn={basicInfo:{name:"Mi Nhon Hotel",address:"123 Nguyen Hue Street, District 1, Ho Chi Minh City",phone:"+84 28 3829 2999",email:"info@minhonhotel.com",website:"https://minhonhotel.com",description:"Khách sạn 4 sao sang trọng tại trung tâm thành phố với view biển tuyệt đẹp và dịch vụ chuyên nghiệp.",checkInTime:"14:00",checkOutTime:"12:00",currency:"VND",timezone:"Asia/Ho_Chi_Minh"},notifications:{emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,dailyReports:!0,weeklyReports:!0,monthlyReports:!0,alertOnErrors:!0,alertOnLowRating:!0},privacy:{recordCalls:!0,dataRetentionDays:90,shareAnalytics:!1,allowDataExport:!0,gdprCompliance:!0},api:{webhookUrl:"https://minhonhotel.com/webhook",apiKeys:{vapi:"vapi_***************",openai:"sk-***************"}}},Z2=()=>{const[s,t]=h.useState(fn.basicInfo),[n,a]=h.useState(!1),i=async()=>{a(!0);try{await new Promise(r=>setTimeout(r,1e3)),console.log("Saving hotel settings:",s)}catch(r){console.error("Failed to save settings:",r)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(Kt,{className:"h-5 w-5"}),"Thông tin cơ bản"]}),e.jsx(J,{children:"Cập nhật thông tin chi tiết về khách sạn"})]}),e.jsxs(L,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"hotel-name",children:"Tên khách sạn"}),e.jsx(K,{id:"hotel-name",value:s.name,onChange:r=>t(l=>({...l,name:r.target.value})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"phone",children:"Số điện thoại"}),e.jsx(K,{id:"phone",value:s.phone,onChange:r=>t(l=>({...l,phone:r.target.value})),className:"mt-1"})]})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"address",children:"Địa chỉ"}),e.jsx(K,{id:"address",value:s.address,onChange:r=>t(l=>({...l,address:r.target.value})),className:"mt-1"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"email",children:"Email"}),e.jsx(K,{id:"email",type:"email",value:s.email,onChange:r=>t(l=>({...l,email:r.target.value})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"website",children:"Website"}),e.jsx(K,{id:"website",value:s.website,onChange:r=>t(l=>({...l,website:r.target.value})),className:"mt-1"})]})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"description",children:"Mô tả khách sạn"}),e.jsx(qe,{id:"description",value:s.description,onChange:r=>t(l=>({...l,description:r.target.value})),className:"mt-1",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"check-in",children:"Giờ check-in"}),e.jsx(K,{id:"check-in",type:"time",value:s.checkInTime,onChange:r=>t(l=>({...l,checkInTime:r.target.value})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"check-out",children:"Giờ check-out"}),e.jsx(K,{id:"check-out",type:"time",value:s.checkOutTime,onChange:r=>t(l=>({...l,checkOutTime:r.target.value})),className:"mt-1"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"currency",children:"Đơn vị tiền tệ"}),e.jsx(K,{id:"currency",value:s.currency,onChange:r=>t(l=>({...l,currency:r.target.value})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"timezone",children:"Múi giờ"}),e.jsx(K,{id:"timezone",value:s.timezone,onChange:r=>t(l=>({...l,timezone:r.target.value})),className:"mt-1"})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(I,{onClick:i,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(Ps,{className:"w-4 h-4 mr-2 animate-spin"}),"Đang lưu..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{className:"w-4 h-4 mr-2"}),"Lưu thay đổi"]})})})]})},J2=()=>{const[s,t]=h.useState(fn.notifications),[n,a]=h.useState(!1),i=l=>{t(o=>({...o,[l]:!o[l]}))},r=async()=>{a(!0);try{await new Promise(l=>setTimeout(l,1e3)),console.log("Saving notification settings:",s)}catch(l){console.error("Failed to save settings:",l)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(qs,{className:"h-5 w-5"}),"Cài đặt thông báo"]}),e.jsx(J,{children:"Tùy chọn thông báo và báo cáo"})]}),e.jsxs(L,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Phương thức thông báo"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Email notifications"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Nhận thông báo qua email"})]}),e.jsx(ue,{checked:s.emailNotifications,onCheckedChange:()=>i("emailNotifications")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"SMS notifications"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Nhận thông báo qua SMS"})]}),e.jsx(ue,{checked:s.smsNotifications,onCheckedChange:()=>i("smsNotifications")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Push notifications"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Thông báo đẩy trên trình duyệt"})]}),e.jsx(ue,{checked:s.pushNotifications,onCheckedChange:()=>i("pushNotifications")})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Báo cáo định kỳ"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Báo cáo hàng ngày"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Tóm tắt hoạt động hàng ngày"})]}),e.jsx(ue,{checked:s.dailyReports,onCheckedChange:()=>i("dailyReports")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Báo cáo hàng tuần"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Thống kê tuần"})]}),e.jsx(ue,{checked:s.weeklyReports,onCheckedChange:()=>i("weeklyReports")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Báo cáo hàng tháng"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Tổng quan tháng"})]}),e.jsx(ue,{checked:s.monthlyReports,onCheckedChange:()=>i("monthlyReports")})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Cảnh báo"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Cảnh báo lỗi"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Thông báo khi có lỗi hệ thống"})]}),e.jsx(ue,{checked:s.alertOnErrors,onCheckedChange:()=>i("alertOnErrors")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Cảnh báo điểm thấp"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Thông báo khi điểm hài lòng thấp"})]}),e.jsx(ue,{checked:s.alertOnLowRating,onCheckedChange:()=>i("alertOnLowRating")})]})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(I,{onClick:r,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(Ps,{className:"w-4 h-4 mr-2 animate-spin"}),"Đang lưu..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{className:"w-4 h-4 mr-2"}),"Lưu cài đặt"]})})})]})},eN=()=>{const[s,t]=h.useState(fn.privacy),[n,a]=h.useState(!1),i=l=>{t(o=>({...o,[l]:!o[l]}))},r=async()=>{a(!0);try{await new Promise(l=>setTimeout(l,1e3)),console.log("Saving privacy settings:",s)}catch(l){console.error("Failed to save settings:",l)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-5 w-5"}),"Quyền riêng tư & Bảo mật"]}),e.jsx(J,{children:"Cấu hình bảo mật và quyền riêng tư dữ liệu"})]}),e.jsxs(L,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Ghi âm cuộc gọi"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Lưu trữ cuộc gọi để cải thiện chất lượng"})]}),e.jsx(ue,{checked:s.recordCalls,onCheckedChange:()=>i("recordCalls")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Chia sẻ dữ liệu phân tích"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Giúp cải thiện sản phẩm (dữ liệu ẩn danh)"})]}),e.jsx(ue,{checked:s.shareAnalytics,onCheckedChange:()=>i("shareAnalytics")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Cho phép xuất dữ liệu"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Khách hàng có thể yêu cầu xuất dữ liệu"})]}),e.jsx(ue,{checked:s.allowDataExport,onCheckedChange:()=>i("allowDataExport")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Tuân thủ GDPR"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Bảo vệ quyền riêng tư theo chuẩn EU"})]}),e.jsx(ue,{checked:s.gdprCompliance,onCheckedChange:()=>i("gdprCompliance")})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Lưu trữ dữ liệu"}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"retention-days",children:"Thời gian lưu trữ (ngày)"}),e.jsx(K,{id:"retention-days",type:"number",value:s.dataRetentionDays,onChange:l=>t(o=>({...o,dataRetentionDays:parseInt(l.target.value)})),className:"mt-1 max-w-xs",min:"30",max:"365"}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["Dữ liệu sẽ được tự động xóa sau ",s.dataRetentionDays," ngày"]})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(I,{onClick:r,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(Ps,{className:"w-4 h-4 mr-2 animate-spin"}),"Đang lưu..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{className:"w-4 h-4 mr-2"}),"Lưu cài đặt"]})})})]})},sN=()=>{const[s,t]=h.useState(fn.api),[n,a]=h.useState(!1),i=async()=>{a(!0);try{await new Promise(r=>setTimeout(r,1e3)),console.log("Saving API settings:",s)}catch(r){console.error("Failed to save settings:",r)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(il,{className:"h-5 w-5"}),"Cấu hình API"]}),e.jsx(J,{children:"Quản lý API keys và webhook"})]}),e.jsxs(L,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"webhook-url",children:"Webhook URL"}),e.jsx(K,{id:"webhook-url",value:s.webhookUrl,onChange:r=>t(l=>({...l,webhookUrl:r.target.value})),className:"mt-1",placeholder:"https://yourhotel.com/webhook"}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"URL để nhận thông báo về các sự kiện"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"API Keys"}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(we,{className:"h-4 w-4 text-yellow-600"}),e.jsx("span",{className:"font-medium text-yellow-800",children:"Lưu ý bảo mật"})]}),e.jsx("p",{className:"text-sm text-yellow-700",children:"Không chia sẻ API keys với người khác. Thay đổi ngay nếu bị lộ."})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"vapi-key",children:"Vapi API Key"}),e.jsx(K,{id:"vapi-key",type:"password",value:s.apiKeys.vapi,onChange:r=>t(l=>({...l,apiKeys:{...l.apiKeys,vapi:r.target.value}})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"openai-key",children:"OpenAI API Key"}),e.jsx(K,{id:"openai-key",type:"password",value:s.apiKeys.openai,onChange:r=>t(l=>({...l,apiKeys:{...l.apiKeys,openai:r.target.value}})),className:"mt-1"})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(I,{onClick:i,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(Ps,{className:"w-4 h-4 mr-2 animate-spin"}),"Đang lưu..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{className:"w-4 h-4 mr-2"}),"Lưu cài đặt"]})})})]})},tN=()=>{const s=[{name:"Database Connection",status:"healthy",icon:Hs},{name:"Vapi API",status:"healthy",icon:is},{name:"OpenAI API",status:"healthy",icon:Xe},{name:"Email Service",status:"healthy",icon:fa},{name:"Webhook Endpoint",status:"warning",icon:lt},{name:"SSL Certificate",status:"healthy",icon:ke}],t=a=>{switch(a){case"healthy":return"text-green-600";case"warning":return"text-yellow-600";case"error":return"text-red-600";default:return"text-gray-600"}},n=a=>{switch(a){case"healthy":return e.jsx(Z,{className:"bg-green-100 text-green-800",children:"Hoạt động"});case"warning":return e.jsx(Z,{className:"bg-yellow-100 text-yellow-800",children:"Cảnh báo"});case"error":return e.jsx(Z,{className:"bg-red-100 text-red-800",children:"Lỗi"});default:return e.jsx(Z,{variant:"outline",children:"Không xác định"})}};return e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"h-5 w-5"}),"Trạng thái hệ thống"]}),e.jsx(J,{children:"Kiểm tra tình trạng các dịch vụ"})]}),e.jsx(L,{children:e.jsx("div",{className:"space-y-4",children:s.map((a,i)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(a.icon,{className:`h-5 w-5 ${t(a.status)}`}),e.jsx("span",{className:"font-medium",children:a.name})]}),n(a.status)]},i))})})]})},nN=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Cài đặt"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Quản lý thông tin khách sạn và cấu hình hệ thống"})]}),e.jsx(tN,{}),e.jsxs(rs,{defaultValue:"hotel",className:"space-y-4",children:[e.jsxs(es,{className:"grid w-full grid-cols-4",children:[e.jsx(oe,{value:"hotel",children:"Khách sạn"}),e.jsx(oe,{value:"notifications",children:"Thông báo"}),e.jsx(oe,{value:"privacy",children:"Quyền riêng tư"}),e.jsx(oe,{value:"api",children:"API"})]}),e.jsx(ce,{value:"hotel",className:"space-y-4",children:e.jsx(Z2,{})}),e.jsx(ce,{value:"notifications",className:"space-y-4",children:e.jsx(J2,{})}),e.jsx(ce,{value:"privacy",className:"space-y-4",children:e.jsx(eN,{})}),e.jsx(ce,{value:"api",className:"space-y-4",children:e.jsx(sN,{})})]})]}),In=({requiredPermission:s,requiredRole:t,variant:n="alert"})=>n==="minimal"?e.jsxs("div",{className:"text-gray-400 text-sm flex items-center gap-2",children:[e.jsx(nt,{className:"h-4 w-4"}),e.jsx("span",{children:"Không có quyền truy cập"})]}):n==="placeholder"?e.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-lg p-8 text-center",children:[e.jsx(ke,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"Quyền truy cập bị hạn chế"}),e.jsxs("p",{className:"text-gray-500",children:[s&&`Cần quyền: ${s}`,t&&`Cần vai trò: ${t}`]})]}):e.jsxs(At,{className:"border-orange-200 bg-orange-50",children:[e.jsx(ke,{className:"h-4 w-4 text-orange-600"}),e.jsxs(Pt,{className:"text-orange-800",children:[e.jsx("strong",{children:"Không có quyền truy cập."})," ",s&&`Cần quyền: ${s}. `,t&&`Cần vai trò: ${t}. `,"Vui lòng liên hệ quản trị viên để được cấp quyền."]})]}),We=({children:s,requiredPermission:t,requiredRole:n,fallback:a,showFallback:i=!0})=>{const{user:r,hasPermission:l}=De();if(!r)return i?e.jsx(In,{requiredPermission:t,requiredRole:n,variant:"minimal"}):null;if(n&&r.role!==n)return i?a||e.jsx(In,{requiredRole:n,variant:"alert"}):null;if(t){let o,c;if(t.includes(":")?[o,c]=t.split(":"):[o,c]=t.split("."),!l(o,c))return i?a||e.jsx(In,{requiredPermission:t,variant:"alert"}):null}return e.jsx(e.Fragment,{children:s})},aN=()=>{const{user:s,hasPermission:t}=De(),n=o=>{if(!s)return!1;const[c,d]=o.split(".");return t(c,d)},a=o=>s?.role===o;return{canAccess:n,hasRole:a,isManager:()=>a("hotel-manager"),isStaff:()=>a("front-desk"),isIT:()=>a("it-manager"),user:s}},iN=[{href:"/dashboard",icon:pa,label:"Tổng quan",description:"Thống kê và metrics tổng quan",permission:"dashboard:view"},{href:"/dashboard/setup",icon:Xe,label:"Thiết lập Assistant",description:"Cấu hình và tùy chỉnh AI Assistant",permission:"assistant:configure",roleSpecific:["hotel-manager"]},{href:"/unified-dashboard/analytics",icon:ua,label:"Phân tích nâng cao",description:"Báo cáo và thống kê chi tiết",permission:"analytics:view_advanced",roleSpecific:["hotel-manager"]},{href:"/dashboard/billing",icon:on,label:"Thanh toán",description:"Quản lý subscription và billing",permission:"billing:view",roleSpecific:["hotel-manager"]},{href:"/unified-dashboard/staff-management",icon:Ge,label:"Quản lý nhân viên",description:"Thêm, sửa, xóa tài khoản nhân viên",permission:"staff:manage",roleSpecific:["hotel-manager"]},{href:"/dashboard/settings",icon:Ye,label:"Cài đặt hệ thống",description:"Cấu hình khách sạn và hệ thống",permission:"settings:manage",roleSpecific:["hotel-manager"]},{href:"/unified-dashboard/requests",icon:qn,label:"Yêu cầu khách hàng",description:"Xem và xử lý yêu cầu từ khách",permission:"requests:view",roleSpecific:["front-desk"]},{href:"/dashboard/guest-management",icon:Nh,label:"Quản lý khách hàng",description:"Thông tin và lịch sử khách hàng",permission:"guests:manage",roleSpecific:["front-desk"]},{href:"/dashboard/basic-analytics",icon:Tt,label:"Thống kê cơ bản",description:"Báo cáo hoạt động hàng ngày",permission:"analytics:view_basic",roleSpecific:["front-desk"]},{href:"/dashboard/calls",icon:Ks,label:"Lịch sử cuộc gọi",description:"Xem lịch sử cuộc gọi và transcript",permission:"calls:view",roleSpecific:["front-desk"]},{href:"/unified-dashboard/system-monitoring",icon:dn,label:"Giám sát hệ thống",description:"Theo dõi hiệu suất và sức khỏe hệ thống",permission:"system:monitor",roleSpecific:["it-manager"]},{href:"/dashboard/integrations",icon:ba,label:"Tích hợp",description:"Quản lý API và tích hợp bên thứ 3",permission:"integrations:manage",roleSpecific:["it-manager"]},{href:"/dashboard/logs",icon:Hs,label:"Nhật ký hệ thống",description:"Xem logs và debug issues",permission:"logs:view",roleSpecific:["it-manager"]},{href:"/dashboard/security",icon:ke,label:"Bảo mật",description:"Cấu hình và giám sát bảo mật",permission:"security:manage",roleSpecific:["it-manager"]}],Go=s=>{switch(s){case"hotel-manager":return{primary:"bg-blue-600 hover:bg-blue-700",accent:"border-blue-200",badge:"bg-blue-100 text-blue-800"};case"front-desk":return{primary:"bg-green-600 hover:bg-green-700",accent:"border-green-200",badge:"bg-green-100 text-green-800"};case"it-manager":return{primary:"bg-purple-600 hover:bg-purple-700",accent:"border-purple-200",badge:"bg-purple-100 text-purple-800"};default:return{primary:"bg-gray-600 hover:bg-gray-700",accent:"border-gray-200",badge:"bg-gray-100 text-gray-800"}}},Kn=s=>{switch(s){case"hotel-manager":return"Quản lý khách sạn";case"front-desk":return"Lễ tân";case"it-manager":return"Quản lý IT";default:return"Người dùng"}},rN=({href:s,icon:t,label:n,description:a,isActive:i,theme:r})=>e.jsx(_e,{href:s,children:e.jsxs(I,{variant:i?"default":"ghost",className:$("w-full justify-start gap-3 px-3 py-6 h-auto","hover:bg-gray-100 dark:hover:bg-gray-800",i&&`${r.primary} text-white hover:${r.primary.replace("bg-","bg-").replace("600","700")}`),children:[e.jsx(t,{className:"h-5 w-5 shrink-0"}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("div",{className:"font-medium",children:n}),e.jsx("div",{className:$("text-xs text-muted-foreground",i&&"text-white/80"),children:a})]})]})}),lN=({user:s,role:t,onLogout:n})=>{const a=Go(t);return e.jsxs(io,{children:[e.jsx(ro,{asChild:!0,children:e.jsx(I,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:e.jsxs(Ta,{className:"h-10 w-10",children:[e.jsx(Ea,{src:s.avatar_url||"",alt:s.display_name||s.email}),e.jsx(Aa,{className:a.primary,children:(s.display_name||s.email||"").charAt(0).toUpperCase()})]})})}),e.jsxs(Pa,{className:"w-56",align:"end",children:[e.jsxs(Ia,{className:"flex flex-col",children:[e.jsx("div",{className:"font-medium",children:s.display_name||s.email}),e.jsx("div",{className:"text-xs text-muted-foreground",children:Kn(t)})]}),e.jsx(St,{}),e.jsxs(Bs,{children:[e.jsx(Ye,{className:"mr-2 h-4 w-4"}),"Cài đặt tài khoản"]}),e.jsxs(Bs,{children:[e.jsx(nl,{className:"mr-2 h-4 w-4"}),"Trợ giúp"]}),e.jsx(St,{}),e.jsxs(Bs,{className:"text-red-600 focus:text-red-600",onClick:n,children:[e.jsx(rl,{className:"mr-2 h-4 w-4"}),"Đăng xuất"]})]})]})},oN=({isOpen:s,onClose:t,user:n,role:a,theme:i})=>{const[r]=Us(),o=aN().canAccess,c=iN.filter(d=>!(!o(d.permission)||d.roleSpecific&&!d.roleSpecific.includes(a)));return e.jsx("aside",{className:$("fixed inset-y-0 left-0 z-50 w-80 bg-white dark:bg-gray-800 shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0",s?"translate-x-0":"-translate-x-full"),children:e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsxs("div",{className:$("flex items-center justify-between p-6 border-b",i.accent),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:$("flex h-10 w-10 items-center justify-center rounded-lg text-white",i.primary),children:e.jsx(tl,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold",children:"Talk2Go"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Hotel Management"})]})]}),e.jsx(I,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:t,children:e.jsx(ot,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:$("px-6 py-4 border-b",i.accent),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-lg",children:n.display_name||n.email}),e.jsx("div",{className:"text-xs text-gray-500",children:Kn(a)})]}),e.jsx(Z,{variant:"outline",className:i.badge,children:Kn(a)})]}),e.jsxs("div",{className:"mt-3 flex gap-2",children:[e.jsx(We,{requiredPermission:"dashboard:view_client_interface",children:e.jsx(_e,{href:"/interface1",className:$("flex-1 px-3 py-2 text-white text-sm rounded hover:opacity-90 transition text-center",i.primary),children:"Giao diện khách"})}),e.jsxs(I,{variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(qs,{className:"h-4 w-4 mr-1"}),"Thông báo"]})]})]}),e.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:c.map(d=>{const m=r===d.href;return e.jsx(rN,{href:d.href,icon:d.icon,label:d.label,description:d.description,isActive:m,theme:i},d.href)})}),e.jsx("div",{className:"p-4 border-t",children:e.jsx("div",{className:"text-xs text-center text-muted-foreground",children:"© 2024 Talk2Go - Hotel AI Assistant"})})]})})},ts=({children:s})=>{const[t,n]=h.useState(!1),{user:a,logout:i}=De(),r=a?.role||"front-desk",l=Go(r),o=()=>{switch(r){case"hotel-manager":return"Dashboard Quản lý";case"front-desk":return"Dashboard Lễ tân";case"it-manager":return"Dashboard IT";default:return"Dashboard"}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[t&&e.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:()=>n(!1)}),e.jsx(oN,{isOpen:t,onClose:()=>n(!1),user:a,role:r,theme:l}),e.jsxs("div",{className:"lg:ml-80",children:[e.jsx("header",{className:"sticky top-0 z-30 bg-white dark:bg-gray-800 border-b shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(I,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>n(!0),children:e.jsx(ll,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:o()}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Quản lý khách sạn với AI Assistant"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(We,{requiredPermission:"notifications:view",children:e.jsxs(I,{variant:"ghost",size:"icon",className:"relative",children:[e.jsx(qs,{className:"h-5 w-5"}),e.jsx(Z,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 text-xs",children:"3"})]})}),e.jsx(lN,{user:a,role:r,onLogout:i})]})]})}),e.jsx("main",{className:"p-6",children:s})]})]})},ge={calls:{total:156,today:23},requests:{pending:8,inProgress:12,completed:45,totalToday:18},satisfaction:{rating:4.7,trend:"+0.2"},system:{uptime:99.8,responseTime:150,errors:2}},Ke=({title:s,value:t,description:n,icon:a,trend:i,color:r="blue"})=>e.jsxs(M,{children:[e.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(G,{className:"text-sm font-medium",children:s}),e.jsx(a,{className:`h-4 w-4 text-${r}-600`})]}),e.jsxs(L,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t}),n&&e.jsx("p",{className:"text-xs text-muted-foreground",children:n}),i&&e.jsxs("div",{className:"flex items-center text-xs text-green-600 mt-1",children:[e.jsx(ze,{className:"h-3 w-3 mr-1"}),i]})]})]}),cN=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white p-6 rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Chào mừng đến với Dashboard Quản lý"}),e.jsx("p",{className:"text-blue-100",children:"Tổng quan hoạt động khách sạn và AI Assistant"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Ke,{title:"Tổng cuộc gọi",value:ge.calls.total,description:"Hôm nay: +23",icon:is,trend:"+15.2%",color:"blue"}),e.jsx(Ke,{title:"Đánh giá trung bình",value:`${ge.satisfaction.rating}/5`,description:"89 phản hồi",icon:Js,trend:ge.satisfaction.trend,color:"green"}),e.jsx(Ke,{title:"Yêu cầu đang chờ",value:ge.requests.pending,description:"Cần xử lý ngay",icon:we,color:"orange"}),e.jsx(Ke,{title:"Uptime hệ thống",value:`${ge.system.uptime}%`,description:"30 ngày qua",icon:gs,trend:"+0.1%",color:"purple"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Hành động nhanh"}),e.jsx(J,{children:"Các tác vụ thường xuyên"})]}),e.jsxs(L,{className:"space-y-3",children:[e.jsx(We,{requiredPermission:"assistant:configure",children:e.jsx(_e,{href:"/unified-dashboard/settings",children:e.jsxs(I,{className:"w-full justify-start",variant:"outline",children:[e.jsx(Xe,{className:"mr-2 h-4 w-4"}),"Cấu hình AI Assistant"]})})}),e.jsx(We,{requiredPermission:"analytics:view_advanced",children:e.jsx(_e,{href:"/unified-dashboard/analytics",children:e.jsxs(I,{className:"w-full justify-start",variant:"outline",children:[e.jsx(Tt,{className:"mr-2 h-4 w-4"}),"Xem báo cáo chi tiết"]})})}),e.jsx(We,{requiredPermission:"staff:manage",children:e.jsx(_e,{href:"/unified-dashboard/staff-management",children:e.jsxs(I,{className:"w-full justify-start",variant:"outline",children:[e.jsx(Ge,{className:"mr-2 h-4 w-4"}),"Quản lý nhân viên"]})})})]})]}),e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Hoạt động gần đây"}),e.jsx(J,{children:"Cập nhật hệ thống mới nhất"})]}),e.jsx(L,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Be,{className:"h-4 w-4 text-green-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm",children:"AI Assistant được cập nhật"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"2 phút trước"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(we,{className:"h-4 w-4 text-orange-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm",children:"8 yêu cầu mới cần xử lý"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"15 phút trước"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ze,{className:"h-4 w-4 text-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm",children:"Satisfaction tăng 0.2 điểm"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"1 giờ trước"})]})]})]})})]})]})]}),dN=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-800 text-white p-6 rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Dashboard Lễ tân"}),e.jsx("p",{className:"text-green-100",children:"Quản lý yêu cầu khách hàng và cuộc gọi"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Ke,{title:"Yêu cầu hôm nay",value:ge.requests.totalToday,description:"Mới trong ngày",icon:qn,color:"green"}),e.jsx(Ke,{title:"Đang chờ xử lý",value:ge.requests.pending,description:"Cần hành động",icon:as,color:"orange"}),e.jsx(Ke,{title:"Đã hoàn thành",value:ge.requests.completed,description:"Tuần này",icon:Be,color:"blue"}),e.jsx(Ke,{title:"Cuộc gọi hôm nay",value:ge.calls.today,description:"Thời gian TB: 2.3 phút",icon:is,color:"purple"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Công việc của tôi"}),e.jsx(J,{children:"Nhiệm vụ cần thực hiện"})]}),e.jsxs(L,{className:"space-y-3",children:[e.jsx(We,{requiredPermission:"requests:view",children:e.jsx(_e,{href:"/unified-dashboard/requests",children:e.jsxs(I,{className:"w-full justify-start",variant:"outline",children:[e.jsx(qn,{className:"mr-2 h-4 w-4"}),"Xem yêu cầu khách hàng (",ge.requests.pending,")"]})})}),e.jsx(We,{requiredPermission:"calls:view",children:e.jsx(_e,{href:"/dashboard/calls",children:e.jsxs(I,{className:"w-full justify-start",variant:"outline",children:[e.jsx(Ks,{className:"mr-2 h-4 w-4"}),"Lịch sử cuộc gọi"]})})}),e.jsx(We,{requiredPermission:"guests:manage",children:e.jsx(_e,{href:"/unified-dashboard/guest-management",children:e.jsxs(I,{className:"w-full justify-start",variant:"outline",children:[e.jsx(Ge,{className:"mr-2 h-4 w-4"}),"Quản lý khách hàng"]})})})]})]}),e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Trạng thái yêu cầu"}),e.jsx(J,{children:"Phân bố theo trạng thái"})]}),e.jsx(L,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Đang chờ"}),e.jsx(Z,{variant:"outline",children:ge.requests.pending})]}),e.jsx(hs,{value:ge.requests.pending/(ge.requests.pending+ge.requests.inProgress+ge.requests.completed)*100,className:"h-2"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Đang xử lý"}),e.jsx(Z,{variant:"outline",children:ge.requests.inProgress})]}),e.jsx(hs,{value:ge.requests.inProgress/(ge.requests.pending+ge.requests.inProgress+ge.requests.completed)*100,className:"h-2"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Hoàn thành"}),e.jsx(Z,{variant:"outline",children:ge.requests.completed})]}),e.jsx(hs,{value:ge.requests.completed/(ge.requests.pending+ge.requests.inProgress+ge.requests.completed)*100,className:"h-2"})]})})]})]})]}),hN=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-800 text-white p-6 rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Dashboard IT Manager"}),e.jsx("p",{className:"text-purple-100",children:"Giám sát hệ thống và quản lý kỹ thuật"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Ke,{title:"Uptime hệ thống",value:`${ge.system.uptime}%`,description:"30 ngày qua",icon:va,trend:"+0.1%",color:"purple"}),e.jsx(Ke,{title:"Response Time",value:`${ge.system.responseTime}ms`,description:"Trung bình 24h",icon:gs,color:"blue"}),e.jsx(Ke,{title:"Lỗi hệ thống",value:ge.system.errors,description:"Hôm nay",icon:we,color:"red"}),e.jsx(Ke,{title:"API Calls",value:"12.5K",description:"Hôm nay",icon:Hs,trend:"+8.2%",color:"green"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Công cụ IT"}),e.jsx(J,{children:"Quản lý hệ thống và bảo mật"})]}),e.jsxs(L,{className:"space-y-3",children:[e.jsx(We,{requiredPermission:"system:monitor",children:e.jsx(_e,{href:"/unified-dashboard/system-monitoring",children:e.jsxs(I,{className:"w-full justify-start",variant:"outline",children:[e.jsx(dn,{className:"mr-2 h-4 w-4"}),"Giám sát hệ thống"]})})}),e.jsx(We,{requiredPermission:"logs:view",children:e.jsx(_e,{href:"/unified-dashboard/logs",children:e.jsxs(I,{className:"w-full justify-start",variant:"outline",children:[e.jsx(Hs,{className:"mr-2 h-4 w-4"}),"Xem system logs"]})})}),e.jsx(We,{requiredPermission:"security:manage",children:e.jsx(_e,{href:"/unified-dashboard/security",children:e.jsxs(I,{className:"w-full justify-start",variant:"outline",children:[e.jsx(ke,{className:"mr-2 h-4 w-4"}),"Cấu hình bảo mật"]})})}),e.jsx(We,{requiredPermission:"integrations:manage",children:e.jsx(_e,{href:"/unified-dashboard/integrations",children:e.jsxs(I,{className:"w-full justify-start",variant:"outline",children:[e.jsx(ba,{className:"mr-2 h-4 w-4"}),"Quản lý tích hợp"]})})})]})]}),e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Cảnh báo hệ thống"}),e.jsx(J,{children:"Thông báo kỹ thuật quan trọng"})]}),e.jsx(L,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Be,{className:"h-4 w-4 text-green-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm",children:"Database backup completed"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"5 phút trước"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(we,{className:"h-4 w-4 text-orange-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm",children:"High memory usage: 85%"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"10 phút trước"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ke,{className:"h-4 w-4 text-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm",children:"Security scan completed"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"1 giờ trước"})]})]})]})})]})]})]}),uN=()=>{const{user:s}=De(),t=s?.role||"front-desk",n=()=>{switch(t){case"hotel-manager":return e.jsx(cN,{});case"front-desk":return e.jsx(dN,{});case"it-manager":return e.jsx(hN,{});default:return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Chào mừng đến với Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Vai trò của bạn chưa được cấu hình. Vui lòng liên hệ quản trị viên."})]})}};return e.jsx("div",{className:"space-y-6",children:n()})},Is=pr,mN=xr,Uo=h.forwardRef(({className:s,...t},n)=>e.jsx(ea,{ref:n,className:$("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t}));Uo.displayName=ea.displayName;const vs=h.forwardRef(({className:s,children:t,...n},a)=>e.jsxs(mN,{children:[e.jsx(Uo,{}),e.jsxs(sa,{ref:a,className:$("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...n,children:[t,e.jsxs(ta,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(ot,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));vs.displayName=sa.displayName;const js=({className:s,...t})=>e.jsx("div",{className:$("flex flex-col space-y-1.5 text-center sm:text-left",s),...t});js.displayName="DialogHeader";const ys=h.forwardRef(({className:s,...t},n)=>e.jsx(na,{ref:n,className:$("text-lg font-semibold leading-none tracking-tight",s),...t}));ys.displayName=na.displayName;const Ms=h.forwardRef(({className:s,...t},n)=>e.jsx(aa,{ref:n,className:$("text-sm text-muted-foreground",s),...t}));Ms.displayName=aa.displayName;var Wo="AlertDialog",[xN,M4]=Gs(Wo,[fr]),bs=fr(),Ko=s=>{const{__scopeAlertDialog:t,...n}=s,a=bs(t);return e.jsx(pr,{...a,...n,modal:!0})};Ko.displayName=Wo;var pN="AlertDialogTrigger",Qo=h.forwardRef((s,t)=>{const{__scopeAlertDialog:n,...a}=s,i=bs(n);return e.jsx(Zc,{...i,...a,ref:t})});Qo.displayName=pN;var fN="AlertDialogPortal",Xo=s=>{const{__scopeAlertDialog:t,...n}=s,a=bs(t);return e.jsx(xr,{...a,...n})};Xo.displayName=fN;var gN="AlertDialogOverlay",Yo=h.forwardRef((s,t)=>{const{__scopeAlertDialog:n,...a}=s,i=bs(n);return e.jsx(ea,{...i,...a,ref:t})});Yo.displayName=gN;var st="AlertDialogContent",[vN,jN]=xN(st),yN=Yc("AlertDialogContent"),Zo=h.forwardRef((s,t)=>{const{__scopeAlertDialog:n,children:a,...i}=s,r=bs(n),l=h.useRef(null),o=Es(t,l),c=h.useRef(null);return e.jsx(Xc,{contentName:st,titleName:Jo,docsSlug:"alert-dialog",children:e.jsx(vN,{scope:n,cancelRef:c,children:e.jsxs(sa,{role:"alertdialog",...r,...i,ref:o,onOpenAutoFocus:Me(i.onOpenAutoFocus,d=>{d.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[e.jsx(yN,{children:a}),e.jsx(wN,{contentRef:l})]})})})});Zo.displayName=st;var Jo="AlertDialogTitle",ec=h.forwardRef((s,t)=>{const{__scopeAlertDialog:n,...a}=s,i=bs(n);return e.jsx(na,{...i,...a,ref:t})});ec.displayName=Jo;var sc="AlertDialogDescription",tc=h.forwardRef((s,t)=>{const{__scopeAlertDialog:n,...a}=s,i=bs(n);return e.jsx(aa,{...i,...a,ref:t})});tc.displayName=sc;var bN="AlertDialogAction",nc=h.forwardRef((s,t)=>{const{__scopeAlertDialog:n,...a}=s,i=bs(n);return e.jsx(ta,{...i,...a,ref:t})});nc.displayName=bN;var ac="AlertDialogCancel",ic=h.forwardRef((s,t)=>{const{__scopeAlertDialog:n,...a}=s,{cancelRef:i}=jN(ac,n),r=bs(n),l=Es(t,i);return e.jsx(ta,{...r,...a,ref:l})});ic.displayName=ac;var wN=({contentRef:s})=>{const t=`\`${st}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${st}\` by passing a \`${sc}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${st}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{document.getElementById(s.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,s]),null},NN=Ko,SN=Qo,CN=Xo,rc=Yo,lc=Zo,oc=nc,cc=ic,dc=ec,hc=tc;const uc=NN,mc=SN,_N=CN,xc=h.forwardRef(({className:s,...t},n)=>e.jsx(rc,{className:$("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t,ref:n}));xc.displayName=rc.displayName;const Oa=h.forwardRef(({className:s,...t},n)=>e.jsxs(_N,{children:[e.jsx(xc,{}),e.jsx(lc,{ref:n,className:$("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...t})]}));Oa.displayName=lc.displayName;const Fa=({className:s,...t})=>e.jsx("div",{className:$("flex flex-col space-y-2 text-center sm:text-left",s),...t});Fa.displayName="AlertDialogHeader";const za=({className:s,...t})=>e.jsx("div",{className:$("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t});za.displayName="AlertDialogFooter";const Ba=h.forwardRef(({className:s,...t},n)=>e.jsx(dc,{ref:n,className:$("text-lg font-semibold",s),...t}));Ba.displayName=dc.displayName;const qa=h.forwardRef(({className:s,...t},n)=>e.jsx(hc,{ref:n,className:$("text-sm text-muted-foreground",s),...t}));qa.displayName=hc.displayName;const Ha=h.forwardRef(({className:s,...t},n)=>e.jsx(oc,{ref:n,className:$(_a(),s),...t}));Ha.displayName=oc.displayName;const Va=h.forwardRef(({className:s,...t},n)=>e.jsx(cc,{ref:n,className:$(_a({variant:"outline"}),"mt-2 sm:mt-0",s),...t}));Va.displayName=cc.displayName;const pc=["Tất cả","Đã ghi nhận","Đang thực hiện","Đã thực hiện và đang bàn giao cho khách","Hoàn thiện","Lưu ý khác"],fc=s=>{switch(s){case"Đã ghi nhận":return"bg-gray-100 text-gray-800 border-gray-300";case"Đang thực hiện":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"Đã thực hiện và đang bàn giao cho khách":return"bg-blue-100 text-blue-800 border-blue-300";case"Hoàn thiện":return"bg-green-100 text-green-800 border-green-300";case"Lưu ý khác":return"bg-red-100 text-red-800 border-red-300";default:return"bg-gray-100 text-gray-700 border-gray-300"}},gc=s=>{switch(s){case"Đã ghi nhận":return e.jsx(as,{className:"h-3 w-3"});case"Đang thực hiện":return e.jsx(we,{className:"h-3 w-3"});case"Đã thực hiện và đang bàn giao cho khách":return e.jsx(me,{className:"h-3 w-3"});case"Hoàn thiện":return e.jsx(Be,{className:"h-3 w-3"});case"Lưu ý khác":return e.jsx(we,{className:"h-3 w-3"});default:return e.jsx(as,{className:"h-3 w-3"})}},kN=({request:s,isOpen:t,onClose:n,onStatusChange:a,onOpenMessage:i})=>{const[r,l]=h.useState(s.status),o=()=>{r!==s.status&&a(r)};return e.jsx(Is,{open:t,onOpenChange:n,children:e.jsxs(vs,{className:"max-w-2xl",children:[e.jsxs(js,{children:[e.jsxs(ys,{className:"flex items-center gap-2",children:[e.jsx(ga,{className:"h-5 w-5"}),"Phòng ",s.roomNumber," - ",s.orderId]}),e.jsx(Ms,{children:"Chi tiết yêu cầu khách hàng"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(k,{children:"Khách hàng"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(ja,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:s.guestName})]})]}),e.jsxs("div",{children:[e.jsx(k,{children:"Thời gian tạo"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(ha,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:new Date(s.createdAt).toLocaleString()})]})]})]}),e.jsxs("div",{children:[e.jsx(k,{children:"Nội dung yêu cầu"}),e.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg whitespace-pre-wrap",children:s.requestContent})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(k,{children:"Trạng thái hiện tại"}),e.jsxs(Z,{variant:"outline",className:$("mt-2",fc(s.status)),children:[gc(s.status),e.jsx("span",{className:"ml-1",children:s.status})]})]}),e.jsxs("div",{children:[e.jsx(k,{children:"Cập nhật trạng thái"}),e.jsxs(ye,{value:r,onValueChange:l,children:[e.jsx(ve,{className:"mt-2",children:e.jsx(be,{})}),e.jsx(je,{children:pc.filter(c=>c!=="Tất cả").map(c=>e.jsx(q,{value:c,children:c},c))})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsxs(I,{onClick:o,disabled:r===s.status,children:[e.jsx(Fs,{className:"h-4 w-4 mr-2"}),"Cập nhật trạng thái"]}),e.jsxs(I,{variant:"outline",onClick:i,children:[e.jsx(Ks,{className:"h-4 w-4 mr-2"}),"Nhắn tin với khách"]})]})]})]})})},TN=({request:s,messages:t,isOpen:n,onClose:a,onSendMessage:i,loading:r})=>{const[l,o]=h.useState(""),c=()=>{l.trim()&&(i(l.trim()),o(""))};return e.jsx(Is,{open:n,onOpenChange:a,children:e.jsxs(vs,{className:"max-w-md",children:[e.jsx(js,{children:e.jsxs(ys,{children:["Tin nhắn với khách - Phòng ",s.roomNumber]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-60 overflow-y-auto border rounded-lg p-3 space-y-2",children:t.length===0?e.jsx("div",{className:"text-center text-gray-500 py-8",children:"Chưa có tin nhắn nào"}):t.map(d=>e.jsx("div",{className:$("flex",d.sender==="staff"?"justify-end":"justify-start"),children:e.jsxs("div",{className:$("max-w-[70%] p-2 rounded-lg text-sm",d.sender==="staff"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"),children:[e.jsx("p",{children:d.content}),e.jsx("p",{className:$("text-xs mt-1",d.sender==="staff"?"text-blue-100":"text-gray-500"),children:d.time})]})},d.id))}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(qe,{placeholder:"Nhập tin nhắn...",value:l,onChange:d=>o(d.target.value),className:"min-h-[60px]"}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(I,{onClick:c,disabled:!l.trim()||r,size:"sm",children:[r?e.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(jh,{className:"h-4 w-4 mr-2"}),"Gửi"]})})]})]})]})})},EN=()=>{const{user:s}=De(),[t,n]=h.useState([]),[a,i]=h.useState(!0),[r,l]=h.useState(null),[o,c]=h.useState(!1),[d,m]=h.useState(!1),[u,x]=h.useState([]),[f,p]=h.useState(!1),[g,y]=h.useState("Tất cả"),[j,v]=h.useState(""),[b,w]=h.useState(""),[C,T]=h.useState(""),[B,z]=h.useState(""),[P,E]=h.useState(""),[S,N]=h.useState(!1),F=()=>({Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}),R=async()=>{try{i(!0);const U=await fetch("/api/staff/requests",{headers:F()});if(U.status===401){console.error("Unauthorized access");return}if(!U.ok)throw new Error("Failed to fetch requests");const ie=await U.json();n(ie)}catch(U){console.error("Failed to fetch requests:",U)}finally{i(!1)}},O=async(U,ie)=>{try{await fetch(`/api/staff/requests/${U}/status`,{method:"PATCH",headers:F(),body:JSON.stringify({status:ie})}),n($e=>$e.map(H=>H.id===U?{...H,status:ie}:H)),r&&r.id===U&&l({...r,status:ie})}catch($e){console.error("Failed to update status:",$e)}},D=async U=>{try{const ie=await fetch(`/api/staff/requests/${U}/messages`,{headers:F()});if(ie.ok){const $e=await ie.json();x($e)}}catch(ie){console.error("Failed to fetch messages:",ie),x([])}},_=async U=>{if(r){p(!0);try{await fetch(`/api/staff/requests/${r.id}/message`,{method:"POST",headers:F(),body:JSON.stringify({content:U})});const ie={id:Date.now().toString(),sender:"staff",content:U,time:new Date().toLocaleTimeString().slice(0,5)};x($e=>[...$e,ie])}catch(ie){console.error("Failed to send message:",ie)}finally{p(!1)}}},A=async()=>{if(B!=="2208"){E("Mật khẩu không đúng");return}N(!0);try{const ie=await(await fetch("/api/staff/requests/all",{method:"DELETE",headers:F()})).json();ie.success?(n([]),z(""),E("")):E(ie.error||"Không thể xóa requests")}catch(U){console.error("Error deleting requests:",U),E("Đã xảy ra lỗi khi xóa requests")}finally{N(!1)}},W=t.filter(U=>{if(g!=="Tất cả"&&U.status!==g)return!1;if(j||b){const ie=new Date(U.createdAt);if(j&&ie<new Date(j)||b&&ie>new Date(b+"T23:59:59"))return!1}if(C){const ie=C.toLowerCase();return U.roomNumber.toLowerCase().includes(ie)||U.guestName.toLowerCase().includes(ie)||U.requestContent.toLowerCase().includes(ie)||U.orderId.toLowerCase().includes(ie)}return!0});h.useEffect(()=>{R();const U=setInterval(R,3e4);return()=>clearInterval(U)},[]);const ee=U=>{l(U),c(!0)},Ne=()=>{c(!1),l(null)},ae=async()=>{r&&(m(!0),await D(r.id))},de=()=>{m(!1),x([])};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Yêu cầu khách hàng"}),e.jsx("p",{className:"text-gray-600",children:"Quản lý và xử lý các yêu cầu từ khách hàng"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(I,{variant:"outline",onClick:R,disabled:a,children:[e.jsx(me,{className:$("h-4 w-4 mr-2",a&&"animate-spin")}),"Làm mới"]}),e.jsxs(uc,{children:[e.jsx(mc,{asChild:!0,children:e.jsxs(I,{variant:"destructive",disabled:t.length===0,children:[e.jsx(zs,{className:"h-4 w-4 mr-2"}),"Xóa tất cả"]})}),e.jsxs(Oa,{children:[e.jsxs(Fa,{children:[e.jsx(Ba,{children:"Xác nhận xóa tất cả requests"}),e.jsx(qa,{children:"Hành động này sẽ xóa tất cả yêu cầu và không thể hoàn tác. Vui lòng nhập mật khẩu để xác nhận:"})]}),e.jsxs("div",{className:"py-4",children:[e.jsx(K,{type:"password",placeholder:"Nhập mật khẩu xác nhận",value:B,onChange:U=>z(U.target.value),className:P?"border-red-500":""}),P&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:P})]}),e.jsxs(za,{children:[e.jsx(Va,{onClick:()=>{z(""),E("")},children:"Hủy"}),e.jsx(Ha,{onClick:A,disabled:S,className:"bg-red-600 hover:bg-red-700",children:S?"Đang xóa...":"Xóa tất cả"})]})]})]})]})]}),e.jsxs(M,{children:[e.jsx(V,{children:e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(xa,{className:"h-5 w-5"}),"Bộ lọc"]})}),e.jsxs(L,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx(k,{children:"Trạng thái"}),e.jsxs(ye,{value:g,onValueChange:y,children:[e.jsx(ve,{children:e.jsx(be,{})}),e.jsx(je,{children:pc.map(U=>e.jsx(q,{value:U,children:U},U))})]})]}),e.jsxs("div",{children:[e.jsx(k,{children:"Từ ngày"}),e.jsx(K,{type:"date",value:j,onChange:U=>v(U.target.value)})]}),e.jsxs("div",{children:[e.jsx(k,{children:"Đến ngày"}),e.jsx(K,{type:"date",value:b,onChange:U=>w(U.target.value)})]}),e.jsxs("div",{children:[e.jsx(k,{children:"Tìm kiếm"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ts,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(K,{placeholder:"Tìm theo phòng, khách...",value:C,onChange:U=>T(U.target.value),className:"pl-10"})]})]})]}),(g!=="Tất cả"||j||b||C)&&e.jsx("div",{className:"mt-4",children:e.jsx(I,{variant:"outline",size:"sm",onClick:()=>{y("Tất cả"),v(""),w(""),T("")},children:"Xóa bộ lọc"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(as,{className:"h-5 w-5 text-orange-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Đang chờ"}),e.jsx("p",{className:"text-2xl font-bold",children:t.filter(U=>U.status==="Đã ghi nhận").length})]})]})})}),e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(me,{className:"h-5 w-5 text-yellow-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Đang xử lý"}),e.jsx("p",{className:"text-2xl font-bold",children:t.filter(U=>U.status==="Đang thực hiện").length})]})]})})}),e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"h-5 w-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Hoàn thành"}),e.jsx("p",{className:"text-2xl font-bold",children:t.filter(U=>U.status==="Hoàn thiện").length})]})]})})}),e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(we,{className:"h-5 w-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Tổng cộng"}),e.jsx("p",{className:"text-2xl font-bold",children:t.length})]})]})})})]}),e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Danh sách yêu cầu"}),e.jsxs(J,{children:["Hiển thị ",W.length," / ",t.length," yêu cầu"]})]}),e.jsx(L,{children:a?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(me,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{children:"Đang tải..."})]}):W.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(we,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Không có yêu cầu nào"})]}):e.jsx("div",{className:"space-y-4",children:W.sort((U,ie)=>new Date(ie.createdAt).getTime()-new Date(U.createdAt).getTime()).map(U=>e.jsx(M,{className:"hover:shadow-md transition-shadow",children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ga,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"font-semibold",children:["Phòng ",U.roomNumber]}),e.jsx(Z,{variant:"outline",className:"text-xs",children:U.orderId})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ja,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:U.guestName}),e.jsx(ha,{className:"h-4 w-4 text-gray-500 ml-4"}),e.jsx("span",{className:"text-sm text-gray-600",children:new Date(U.createdAt).toLocaleString()})]}),e.jsx("p",{className:"text-sm text-gray-800 mb-3 line-clamp-2",children:U.requestContent}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(Z,{variant:"outline",className:$("text-xs",fc(U.status)),children:[gc(U.status),e.jsx("span",{className:"ml-1",children:U.status})]})})]}),e.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[e.jsxs(I,{variant:"outline",size:"sm",onClick:()=>ee(U),children:[e.jsx(As,{className:"h-4 w-4 mr-2"}),"Chi tiết"]}),e.jsxs(I,{variant:"outline",size:"sm",onClick:()=>{l(U),ae()},children:[e.jsx(Ks,{className:"h-4 w-4 mr-2"}),"Nhắn tin"]})]})]})})},U.id))})})]}),r&&e.jsxs(e.Fragment,{children:[e.jsx(kN,{request:r,isOpen:o,onClose:Ne,onStatusChange:U=>O(r.id,U),onOpenMessage:ae}),e.jsx(TN,{request:r,messages:u,isOpen:d,onClose:de,onSendMessage:_,loading:f})]})]})},ws=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF4560"],Bt=({title:s,value:t,change:n,changeType:a,icon:i,description:r})=>{const l=()=>{switch(a){case"positive":return"text-green-600";case"negative":return"text-red-600";default:return"text-gray-600"}},o=()=>{switch(a){case"positive":return e.jsx(ze,{className:"h-3 w-3"});case"negative":return e.jsx(bh,{className:"h-3 w-3"});default:return e.jsx(ze,{className:"h-3 w-3"})}};return e.jsx(M,{children:e.jsx(L,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:s}),e.jsx("p",{className:"text-2xl font-bold",children:t}),n&&e.jsxs("div",{className:$("flex items-center gap-1 text-sm mt-1",l()),children:[o(),e.jsx("span",{children:n})]}),r&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r})]}),e.jsx(i,{className:"h-8 w-8 text-gray-400"})]})})})},Mn=({active:s,payload:t,label:n})=>s&&t&&t.length?e.jsxs("div",{className:"bg-white p-2 border rounded shadow",children:[e.jsx("p",{className:"font-medium",children:n}),t.map((a,i)=>e.jsx("p",{style:{color:a.color},children:`${a.dataKey}: ${a.value}`},i))]}):null,AN=()=>{const{user:s}=De(),[t,n]=h.useState(null),[a,i]=h.useState(!0),[r,l]=h.useState("30d"),[o,c]=h.useState("all"),d={overview:{totalCalls:1247,averageCallDuration:"2:34",successRate:94.2,topLanguages:["Vietnamese","English","Korean"],callsThisMonth:423,growthRate:15.3},serviceDistribution:[{service:"Room Service",calls:450,percentage:36.1},{service:"Concierge",calls:300,percentage:24.1},{service:"Housekeeping",calls:250,percentage:20.1},{service:"Front Desk",calls:150,percentage:12},{service:"Spa & Wellness",calls:97,percentage:7.8}],hourlyActivity:[{hour:"06:00",calls:5},{hour:"07:00",calls:12},{hour:"08:00",calls:25},{hour:"09:00",calls:35},{hour:"10:00",calls:45},{hour:"11:00",calls:40},{hour:"12:00",calls:55},{hour:"13:00",calls:48},{hour:"14:00",calls:52},{hour:"15:00",calls:38},{hour:"16:00",calls:42},{hour:"17:00",calls:35},{hour:"18:00",calls:45},{hour:"19:00",calls:52},{hour:"20:00",calls:38},{hour:"21:00",calls:25},{hour:"22:00",calls:15},{hour:"23:00",calls:8}],dailyTrends:[{date:"2024-01-01",calls:45,duration:154,satisfaction:4.5},{date:"2024-01-02",calls:52,duration:162,satisfaction:4.6},{date:"2024-01-03",calls:38,duration:148,satisfaction:4.4},{date:"2024-01-04",calls:41,duration:156,satisfaction:4.7},{date:"2024-01-05",calls:48,duration:159,satisfaction:4.5},{date:"2024-01-06",calls:55,duration:165,satisfaction:4.8},{date:"2024-01-07",calls:42,duration:151,satisfaction:4.6}],languageDistribution:[{language:"Vietnamese",calls:687,percentage:55.1},{language:"English",calls:423,percentage:33.9},{language:"Korean",calls:87,percentage:7},{language:"Chinese",calls:50,percentage:4}]},m=async()=>{try{i(!0),setTimeout(()=>{n(d),i(!1)},1e3)}catch(u){console.error("Failed to fetch analytics:",u),i(!1)}};return h.useEffect(()=>{m()},[r]),a?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(me,{className:"h-8 w-8 animate-spin text-blue-600"}),e.jsx("span",{className:"ml-2",children:"Đang tải analytics..."})]}):t?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Analytics nâng cao"}),e.jsx("p",{className:"text-gray-600",children:"Phân tích chi tiết hoạt động AI Assistant và khách hàng"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ye,{value:r,onValueChange:l,children:[e.jsx(ve,{className:"w-32",children:e.jsx(be,{})}),e.jsxs(je,{children:[e.jsx(q,{value:"7d",children:"7 ngày"}),e.jsx(q,{value:"30d",children:"30 ngày"}),e.jsx(q,{value:"90d",children:"90 ngày"}),e.jsx(q,{value:"365d",children:"1 năm"})]})]}),e.jsxs(I,{variant:"outline",onClick:m,children:[e.jsx(me,{className:"h-4 w-4 mr-2"}),"Làm mới"]}),e.jsxs(I,{variant:"outline",children:[e.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Xuất báo cáo"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Bt,{title:"Tổng cuộc gọi",value:t.overview.totalCalls.toLocaleString(),change:`+${t.overview.growthRate}%`,changeType:"positive",icon:is,description:"30 ngày qua"}),e.jsx(Bt,{title:"Thời gian TB",value:t.overview.averageCallDuration,change:"+12 giây",changeType:"positive",icon:as,description:"So với tháng trước"}),e.jsx(Bt,{title:"Tỷ lệ thành công",value:`${t.overview.successRate}%`,change:"+2.1%",changeType:"positive",icon:gs,description:"Cuộc gọi hoàn thành"}),e.jsx(Bt,{title:"Tháng này",value:t.overview.callsThisMonth.toLocaleString(),change:"+23 hôm nay",changeType:"positive",icon:ze,description:"Cuộc gọi trong tháng"})]}),e.jsxs(rs,{defaultValue:"overview",className:"space-y-4",children:[e.jsxs(es,{className:"grid w-full grid-cols-4",children:[e.jsx(oe,{value:"overview",children:"Tổng quan"}),e.jsx(oe,{value:"services",children:"Dịch vụ"}),e.jsx(oe,{value:"activity",children:"Hoạt động"}),e.jsx(oe,{value:"languages",children:"Ngôn ngữ"})]}),e.jsx(ce,{value:"overview",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Xu hướng cuộc gọi theo ngày"}),e.jsx(J,{children:"7 ngày gần đây"})]}),e.jsx(L,{children:e.jsx(cs,{width:"100%",height:300,children:e.jsxs(nd,{data:t.dailyTrends,children:[e.jsx(Xs,{strokeDasharray:"3 3"}),e.jsx(Ys,{dataKey:"date"}),e.jsx(Zs,{}),e.jsx(ds,{content:e.jsx(Mn,{})}),e.jsx(ad,{type:"monotone",dataKey:"calls",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})]})})})]}),e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Mức độ hài lòng"}),e.jsx(J,{children:"Điểm trung bình theo ngày"})]}),e.jsx(L,{children:e.jsx(cs,{width:"100%",height:300,children:e.jsxs(ia,{data:t.dailyTrends,children:[e.jsx(Xs,{strokeDasharray:"3 3"}),e.jsx(Ys,{dataKey:"date"}),e.jsx(Zs,{domain:[4,5]}),e.jsx(ds,{content:e.jsx(Mn,{})}),e.jsx(mt,{type:"monotone",dataKey:"satisfaction",stroke:"#00C49F",strokeWidth:2})]})})})]})]})}),e.jsx(ce,{value:"services",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Phân bố dịch vụ"}),e.jsx(J,{children:"Theo số lượng cuộc gọi"})]}),e.jsx(L,{children:e.jsx(cs,{width:"100%",height:300,children:e.jsxs(Dn,{children:[e.jsx($n,{data:t.serviceDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({name:u,percentage:x})=>`${u} (${x}%)`,outerRadius:80,fill:"#8884d8",dataKey:"calls",children:t.serviceDistribution.map((u,x)=>e.jsx(Rn,{fill:ws[x%ws.length]},`cell-${x}`))}),e.jsx(ds,{})]})})})]}),e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Top dịch vụ"}),e.jsx(J,{children:"Xếp hạng theo lượng sử dụng"})]}),e.jsx(L,{children:e.jsx("div",{className:"space-y-3",children:t.serviceDistribution.map((u,x)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:ws[x%ws.length]}}),e.jsx("span",{className:"font-medium",children:u.service})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-semibold",children:[u.calls," cuộc gọi"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[u.percentage,"%"]})]})]},u.service))})})]})]})}),e.jsx(ce,{value:"activity",className:"space-y-4",children:e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Hoạt động theo giờ"}),e.jsx(J,{children:"Phân bố cuộc gọi trong 24h"})]}),e.jsx(L,{children:e.jsx(cs,{width:"100%",height:400,children:e.jsxs(yr,{data:t.hourlyActivity,children:[e.jsx(Xs,{strokeDasharray:"3 3"}),e.jsx(Ys,{dataKey:"hour"}),e.jsx(Zs,{}),e.jsx(ds,{content:e.jsx(Mn,{})}),e.jsx(br,{dataKey:"calls",fill:"#8884d8"})]})})})]})}),e.jsx(ce,{value:"languages",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Phân bố ngôn ngữ"}),e.jsx(J,{children:"Tỷ lệ sử dụng các ngôn ngữ"})]}),e.jsx(L,{children:e.jsx(cs,{width:"100%",height:300,children:e.jsxs(Dn,{children:[e.jsx($n,{data:t.languageDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({name:u,percentage:x})=>`${u} (${x}%)`,outerRadius:80,fill:"#8884d8",dataKey:"calls",children:t.languageDistribution.map((u,x)=>e.jsx(Rn,{fill:ws[x%ws.length]},`cell-${x}`))}),e.jsx(ds,{})]})})})]}),e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Thống kê ngôn ngữ"}),e.jsx(J,{children:"Chi tiết sử dụng"})]}),e.jsx(L,{children:e.jsx("div",{className:"space-y-4",children:t.languageDistribution.map((u,x)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:u.language}),e.jsxs("span",{className:"text-sm text-gray-500",children:[u.calls," cuộc gọi (",u.percentage,"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"h-2 rounded-full",style:{width:`${u.percentage}%`,backgroundColor:ws[x%ws.length]}})})]},u.language))})})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsxs(M,{children:[e.jsx(V,{children:e.jsx(G,{children:"Ngôn ngữ phổ biến"})}),e.jsx(L,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:t.overview.topLanguages.map((u,x)=>e.jsx(Z,{variant:"secondary",children:u},u))})})]}),e.jsxs(M,{children:[e.jsx(V,{children:e.jsx(G,{children:"Giờ cao điểm"})}),e.jsx(L,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Sáng:"}),e.jsx("span",{className:"font-medium",children:"08:00 - 12:00"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Chiều:"}),e.jsx("span",{className:"font-medium",children:"14:00 - 18:00"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tối:"}),e.jsx("span",{className:"font-medium",children:"19:00 - 21:00"})]})]})})]}),e.jsxs(M,{children:[e.jsx(V,{children:e.jsx(G,{children:"Xu hướng"})}),e.jsx(L,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm",children:"Tăng trưởng 15.3%"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm",children:"Thời gian gọi tăng"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm",children:"Hài lòng cải thiện"})]})]})})]})]})]}):e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:"Không thể tải dữ liệu analytics"})})},xs=h.forwardRef(({className:s,...t},n)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:n,className:$("w-full caption-bottom text-sm",s),...t})}));xs.displayName="Table";const ps=h.forwardRef(({className:s,...t},n)=>e.jsx("thead",{ref:n,className:$("[&_tr]:border-b",s),...t}));ps.displayName="TableHeader";const fs=h.forwardRef(({className:s,...t},n)=>e.jsx("tbody",{ref:n,className:$("[&_tr:last-child]:border-0",s),...t}));fs.displayName="TableBody";const PN=h.forwardRef(({className:s,...t},n)=>e.jsx("tfoot",{ref:n,className:$("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...t}));PN.displayName="TableFooter";const Le=h.forwardRef(({className:s,...t},n)=>e.jsx("tr",{ref:n,className:$("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...t}));Le.displayName="TableRow";const X=h.forwardRef(({className:s,...t},n)=>e.jsx("th",{ref:n,className:$("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...t}));X.displayName="TableHead";const Y=h.forwardRef(({className:s,...t},n)=>e.jsx("td",{ref:n,className:$("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...t}));Y.displayName="TableCell";const IN=h.forwardRef(({className:s,...t},n)=>e.jsx("caption",{ref:n,className:$("mt-4 text-sm text-muted-foreground",s),...t}));IN.displayName="TableCaption";const nn={"hotel-manager":{label:"Quản lý khách sạn",color:"bg-blue-100 text-blue-800 border-blue-300",icon:e.jsx(ke,{className:"h-3 w-3"}),description:"Quyền truy cập đầy đủ"},"front-desk":{label:"Lễ tân",color:"bg-green-100 text-green-800 border-green-300",icon:e.jsx(Ge,{className:"h-3 w-3"}),description:"Quản lý yêu cầu khách hàng"},"it-manager":{label:"Quản lý IT",color:"bg-purple-100 text-purple-800 border-purple-300",icon:e.jsx(Ye,{className:"h-3 w-3"}),description:"Quản lý hệ thống kỹ thuật"}},Li=({isOpen:s,onClose:t,onSubmit:n,staff:a=null,loading:i=!1})=>{const r=!!a,[l,o]=h.useState({username:a?.username||"",email:a?.email||"",displayName:a?.displayName||"",role:a?.role||"front-desk",password:"",confirmPassword:"",isActive:a?.isActive??!0}),[c,d]=h.useState({}),[m,u]=h.useState(!1);h.useEffect(()=>{s&&(o({username:a?.username||"",email:a?.email||"",displayName:a?.displayName||"",role:a?.role||"front-desk",password:"",confirmPassword:"",isActive:a?.isActive??!0}),d({}))},[s,a]);const x=()=>{const p={};return l.username.trim()?l.username.length<3&&(p.username="Tên đăng nhập phải có ít nhất 3 ký tự"):p.username="Tên đăng nhập là bắt buộc",l.email.trim()?/\S+@\S+\.\S+/.test(l.email)||(p.email="Email không hợp lệ"):p.email="Email là bắt buộc",l.displayName.trim()||(p.displayName="Tên hiển thị là bắt buộc"),r||(l.password?l.password.length<6&&(p.password="Mật khẩu phải có ít nhất 6 ký tự"):p.password="Mật khẩu là bắt buộc",l.password!==l.confirmPassword&&(p.confirmPassword="Mật khẩu xác nhận không khớp")),d(p),Object.keys(p).length===0},f=p=>{p.preventDefault(),x()&&n(l)};return e.jsx(Is,{open:s,onOpenChange:t,children:e.jsxs(vs,{className:"max-w-md",children:[e.jsxs(js,{children:[e.jsx(ys,{children:r?"Chỉnh sửa nhân viên":"Thêm nhân viên mới"}),e.jsx(Ms,{children:r?"Cập nhật thông tin nhân viên":"Tạo tài khoản nhân viên mới"})]}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"username",children:"Tên đăng nhập"}),e.jsx(K,{id:"username",value:l.username,onChange:p=>o(g=>({...g,username:p.target.value})),className:c.username?"border-red-500":"",disabled:r}),c.username&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.username})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"email",children:"Email"}),e.jsx(K,{id:"email",type:"email",value:l.email,onChange:p=>o(g=>({...g,email:p.target.value})),className:c.email?"border-red-500":""}),c.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.email})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"displayName",children:"Tên hiển thị"}),e.jsx(K,{id:"displayName",value:l.displayName,onChange:p=>o(g=>({...g,displayName:p.target.value})),className:c.displayName?"border-red-500":""}),c.displayName&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.displayName})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"role",children:"Vai trò"}),e.jsxs(ye,{value:l.role,onValueChange:p=>o(g=>({...g,role:p})),children:[e.jsx(ve,{children:e.jsx(be,{})}),e.jsx(je,{children:Object.entries(nn).map(([p,g])=>e.jsx(q,{value:p,children:e.jsxs("div",{className:"flex items-center gap-2",children:[g.icon,e.jsx("span",{children:g.label})]})},p))})]})]}),!r&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"password",children:"Mật khẩu"}),e.jsxs("div",{className:"relative",children:[e.jsx(K,{id:"password",type:m?"text":"password",value:l.password,onChange:p=>o(g=>({...g,password:p.target.value})),className:c.password?"border-red-500":""}),e.jsx(I,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>u(!m),children:m?e.jsx(al,{className:"h-4 w-4"}):e.jsx(As,{className:"h-4 w-4"})})]}),c.password&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.password})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"confirmPassword",children:"Xác nhận mật khẩu"}),e.jsx(K,{id:"confirmPassword",type:"password",value:l.confirmPassword,onChange:p=>o(g=>({...g,confirmPassword:p.target.value})),className:c.confirmPassword?"border-red-500":""}),c.confirmPassword&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.confirmPassword})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"isActive",checked:l.isActive,onChange:p=>o(g=>({...g,isActive:p.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx(k,{htmlFor:"isActive",children:"Tài khoản hoạt động"})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(I,{type:"button",variant:"outline",onClick:t,children:"Hủy"}),e.jsxs(I,{type:"submit",disabled:i,children:[i?e.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(jt,{className:"h-4 w-4 mr-2"}),r?"Cập nhật":"Tạo tài khoản"]})]})]})]})})},MN=({staff:s,isOpen:t,onClose:n})=>{if(!s)return null;const a=nn[s.role];return e.jsx(Is,{open:t,onOpenChange:n,children:e.jsxs(vs,{className:"max-w-lg",children:[e.jsxs(js,{children:[e.jsxs(ys,{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-5 w-5"}),"Quyền hạn của ",s.displayName]}),e.jsx(Ms,{children:"Chi tiết quyền truy cập và vai trò"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(k,{children:"Vai trò"}),e.jsxs(Z,{variant:"outline",className:$("mt-1",a.color),children:[a.icon,e.jsx("span",{className:"ml-1",children:a.label})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:a.description})]}),e.jsxs("div",{children:[e.jsxs(k,{children:["Quyền hạn (",s.permissions.length,")"]}),e.jsx("div",{className:"mt-2 max-h-48 overflow-y-auto border rounded-lg p-3",children:e.jsx("div",{className:"grid grid-cols-1 gap-1",children:s.permissions.map(i=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(il,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{className:"font-mono text-xs",children:i})]},i))})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(I,{onClick:n,children:"Đóng"})})]})]})})},LN=()=>{const{user:s}=De(),[t,n]=h.useState([]),[a,i]=h.useState(!0),[r,l]=h.useState(""),[o,c]=h.useState("all"),[d,m]=h.useState("all"),[u,x]=h.useState(!1),[f,p]=h.useState(!1),[g,y]=h.useState(!1),[j,v]=h.useState(null),[b,w]=h.useState(!1),C=[{id:"1",username:"manager",email:"manager@hotel.com",displayName:"Hotel Manager",role:"hotel-manager",permissions:["dashboard:view","analytics:view_advanced","staff:manage","settings:manage"],isActive:!0,lastLogin:"2024-01-15T10:30:00Z",createdAt:"2024-01-01T09:00:00Z",updatedAt:"2024-01-15T10:30:00Z"},{id:"2",username:"frontdesk",email:"frontdesk@hotel.com",displayName:"Front Desk Staff",role:"front-desk",permissions:["dashboard:view","requests:view","calls:view","guests:manage"],isActive:!0,lastLogin:"2024-01-15T09:15:00Z",createdAt:"2024-01-02T10:00:00Z",updatedAt:"2024-01-15T09:15:00Z"},{id:"3",username:"itmanager",email:"it@hotel.com",displayName:"IT Manager",role:"it-manager",permissions:["dashboard:view","system:monitor","logs:view","security:manage"],isActive:!0,lastLogin:"2024-01-14T16:45:00Z",createdAt:"2024-01-03T11:00:00Z",updatedAt:"2024-01-14T16:45:00Z"},{id:"4",username:"receptionist2",email:"receptionist2@hotel.com",displayName:"Receptionist 2",role:"front-desk",permissions:["dashboard:view","requests:view","calls:view"],isActive:!1,lastLogin:"2024-01-10T14:20:00Z",createdAt:"2024-01-05T08:30:00Z",updatedAt:"2024-01-10T14:20:00Z"}],T=async()=>{try{i(!0),setTimeout(()=>{n(C),i(!1)},1e3)}catch(S){console.error("Failed to fetch staff:",S),i(!1)}},B=async S=>{try{if(w(!0),await new Promise(N=>setTimeout(N,1e3)),j)n(N=>N.map(F=>F.id===j.id?{...F,...S,updatedAt:new Date().toISOString()}:F)),p(!1);else{const N={id:Date.now().toString(),...S,permissions:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};n(F=>[...F,N]),x(!1)}v(null)}catch(N){console.error("Failed to save staff:",N)}finally{w(!1)}},z=async S=>{try{await new Promise(N=>setTimeout(N,500)),n(N=>N.filter(F=>F.id!==S))}catch(N){console.error("Failed to delete staff:",N)}},P=async S=>{try{n(N=>N.map(F=>F.id===S?{...F,isActive:!F.isActive,updatedAt:new Date().toISOString()}:F))}catch(N){console.error("Failed to toggle staff status:",N)}},E=t.filter(S=>{const N=S.displayName.toLowerCase().includes(r.toLowerCase())||S.username.toLowerCase().includes(r.toLowerCase())||S.email.toLowerCase().includes(r.toLowerCase()),F=o==="all"||S.role===o,R=d==="all"||d==="active"&&S.isActive||d==="inactive"&&!S.isActive;return N&&F&&R});return h.useEffect(()=>{T()},[]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Quản lý nhân viên"}),e.jsx("p",{className:"text-gray-600",children:"Thêm, sửa, xóa tài khoản nhân viên và quản lý quyền hạn"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(I,{variant:"outline",onClick:T,disabled:a,children:[e.jsx(me,{className:$("h-4 w-4 mr-2",a&&"animate-spin")}),"Làm mới"]}),e.jsxs(I,{onClick:()=>x(!0),children:[e.jsx(jt,{className:"h-4 w-4 mr-2"}),"Thêm nhân viên"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-5 w-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Tổng nhân viên"}),e.jsx("p",{className:"text-2xl font-bold",children:t.length})]})]})})}),e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(wn,{className:"h-5 w-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Đang hoạt động"}),e.jsx("p",{className:"text-2xl font-bold",children:t.filter(S=>S.isActive).length})]})]})})}),e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-5 w-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Quản lý"}),e.jsx("p",{className:"text-2xl font-bold",children:t.filter(S=>S.role==="hotel-manager").length})]})]})})}),e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-5 w-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Lễ tân"}),e.jsx("p",{className:"text-2xl font-bold",children:t.filter(S=>S.role==="front-desk").length})]})]})})})]}),e.jsxs(M,{children:[e.jsx(V,{children:e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(xa,{className:"h-5 w-5"}),"Bộ lọc"]})}),e.jsx(L,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(k,{children:"Tìm kiếm"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ts,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(K,{placeholder:"Tên, username, email...",value:r,onChange:S=>l(S.target.value),className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx(k,{children:"Vai trò"}),e.jsxs(ye,{value:o,onValueChange:c,children:[e.jsx(ve,{children:e.jsx(be,{})}),e.jsxs(je,{children:[e.jsx(q,{value:"all",children:"Tất cả vai trò"}),Object.entries(nn).map(([S,N])=>e.jsx(q,{value:S,children:N.label},S))]})]})]}),e.jsxs("div",{children:[e.jsx(k,{children:"Trạng thái"}),e.jsxs(ye,{value:d,onValueChange:m,children:[e.jsx(ve,{children:e.jsx(be,{})}),e.jsxs(je,{children:[e.jsx(q,{value:"all",children:"Tất cả"}),e.jsx(q,{value:"active",children:"Hoạt động"}),e.jsx(q,{value:"inactive",children:"Ngưng hoạt động"})]})]})]})]})})]}),e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Danh sách nhân viên"}),e.jsxs(J,{children:["Hiển thị ",E.length," / ",t.length," nhân viên"]})]}),e.jsx(L,{children:a?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(me,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{children:"Đang tải..."})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(xs,{children:[e.jsx(ps,{children:e.jsxs(Le,{children:[e.jsx(X,{children:"Nhân viên"}),e.jsx(X,{children:"Vai trò"}),e.jsx(X,{children:"Trạng thái"}),e.jsx(X,{children:"Lần đăng nhập cuối"}),e.jsx(X,{children:"Thao tác"})]})}),e.jsx(fs,{children:E.map(S=>{const N=nn[S.role];return e.jsxs(Le,{children:[e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx(Ge,{className:"h-5 w-5 text-gray-500"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:S.displayName}),e.jsxs("div",{className:"text-sm text-gray-500",children:["@",S.username," • ",S.email]})]})]})}),e.jsx(Y,{children:e.jsxs(Z,{variant:"outline",className:N.color,children:[N.icon,e.jsx("span",{className:"ml-1",children:N.label})]})}),e.jsx(Y,{children:e.jsx(Z,{variant:S.isActive?"default":"secondary",children:S.isActive?e.jsxs(e.Fragment,{children:[e.jsx(wn,{className:"h-3 w-3 mr-1"}),"Hoạt động"]}):e.jsxs(e.Fragment,{children:[e.jsx(nt,{className:"h-3 w-3 mr-1"}),"Ngưng"]})})}),e.jsx(Y,{children:e.jsx("div",{className:"text-sm",children:S.lastLogin?e.jsxs(e.Fragment,{children:[e.jsx("div",{children:new Date(S.lastLogin).toLocaleDateString()}),e.jsx("div",{className:"text-gray-500",children:new Date(S.lastLogin).toLocaleTimeString()})]}):e.jsx("span",{className:"text-gray-400",children:"Chưa đăng nhập"})})}),e.jsx(Y,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>{v(S),y(!0)},children:e.jsx(ke,{className:"h-4 w-4"})}),e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>{v(S),p(!0)},children:e.jsx(Fs,{className:"h-4 w-4"})}),e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>P(S.id),children:S.isActive?e.jsx(nt,{className:"h-4 w-4"}):e.jsx(wn,{className:"h-4 w-4"})}),e.jsxs(uc,{children:[e.jsx(mc,{asChild:!0,children:e.jsx(I,{variant:"ghost",size:"sm",children:e.jsx(zs,{className:"h-4 w-4"})})}),e.jsxs(Oa,{children:[e.jsxs(Fa,{children:[e.jsx(Ba,{children:"Xác nhận xóa"}),e.jsxs(qa,{children:['Bạn có chắc muốn xóa nhân viên "',S.displayName,'"? Hành động này không thể hoàn tác.']})]}),e.jsxs(za,{children:[e.jsx(Va,{children:"Hủy"}),e.jsx(Ha,{onClick:()=>z(S.id),className:"bg-red-600 hover:bg-red-700",children:"Xóa"})]})]})]})]})})]},S.id)})})]})})})]}),e.jsx(Li,{isOpen:u,onClose:()=>x(!1),onSubmit:B,loading:b}),e.jsx(Li,{isOpen:f,onClose:()=>{p(!1),v(null)},onSubmit:B,staff:j,loading:b}),e.jsx(MN,{staff:j,isOpen:g,onClose:()=>{y(!1),v(null)}})]})},Di={cpu:{usage:45.2,cores:4,temperature:62,processes:156},memory:{used:6.8,total:16,available:9.2,usage:42.5},disk:{used:85.4,total:500,available:414.6,usage:17.1},network:{downloadSpeed:125.5,uploadSpeed:25.2,latency:12,status:"connected"},database:{connections:15,queries:1250,responseTime:45,status:"healthy"},services:[{name:"Hotel API",status:"running",uptime:"15d 4h 23m",memory:256,cpu:12.5},{name:"Database",status:"running",uptime:"15d 4h 23m",memory:512,cpu:8.2},{name:"Web Server",status:"running",uptime:"15d 4h 23m",memory:128,cpu:5.1},{name:"Socket Server",status:"running",uptime:"15d 4h 23m",memory:64,cpu:3.8},{name:"Email Service",status:"error",uptime:"0d 0h 0m",memory:0,cpu:0}]},$i=[{id:"1",type:"error",title:"Email Service Down",message:"Email service has been down for 2 hours",timestamp:"2024-01-15T10:30:00Z",resolved:!1},{id:"2",type:"warning",title:"High Memory Usage",message:"System memory usage is above 80%",timestamp:"2024-01-15T09:15:00Z",resolved:!1},{id:"3",type:"info",title:"Database Backup Completed",message:"Daily database backup completed successfully",timestamp:"2024-01-15T02:00:00Z",resolved:!0}],Ri=[{id:"1",timestamp:"2024-01-15T10:35:22Z",level:"ERROR",service:"EmailService",message:"Failed to connect to SMTP server",details:"Connection timeout after 30 seconds"},{id:"2",timestamp:"2024-01-15T10:30:15Z",level:"WARN",service:"HotelAPI",message:"High response time detected",details:"Average response time: 2.5s (threshold: 1s)"},{id:"3",timestamp:"2024-01-15T10:25:08Z",level:"INFO",service:"Database",message:"Query executed successfully",details:"SELECT * FROM requests - 156 rows returned"},{id:"4",timestamp:"2024-01-15T10:20:03Z",level:"DEBUG",service:"WebServer",message:"Static file served",details:"GET /assets/logo.png - 200 OK"}],DN=[{time:"00:00",cpu:35,memory:40,disk:15},{time:"04:00",cpu:28,memory:35,disk:15},{time:"08:00",cpu:45,memory:50,disk:18},{time:"12:00",cpu:65,memory:60,disk:22},{time:"16:00",cpu:55,memory:58,disk:20},{time:"20:00",cpu:42,memory:45,disk:17},{time:"24:00",cpu:35,memory:40,disk:15}],$N=({metrics:s})=>{const t=a=>a<50?"text-green-600":a<80?"text-yellow-600":"text-red-600",n=a=>{switch(a){case"running":case"connected":case"healthy":return e.jsx(Be,{className:"h-4 w-4 text-green-500"});case"error":return e.jsx(Et,{className:"h-4 w-4 text-red-500"});case"stopped":return e.jsx(at,{className:"h-4 w-4 text-yellow-500"});default:return e.jsx(we,{className:"h-4 w-4 text-gray-500"})}};return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(M,{children:e.jsxs(L,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(mh,{className:"h-5 w-5 text-blue-500"}),e.jsx("span",{className:"font-medium",children:"CPU"})]}),e.jsxs("span",{className:$("text-lg font-bold",t(s.cpu.usage)),children:[s.cpu.usage,"%"]})]}),e.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[e.jsxs("div",{children:["Cores: ",s.cpu.cores]}),e.jsxs("div",{children:["Temperature: ",s.cpu.temperature,"°C"]}),e.jsxs("div",{children:["Processes: ",s.cpu.processes]})]})]})}),e.jsx(M,{children:e.jsxs(L,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(dn,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{className:"font-medium",children:"Memory"})]}),e.jsxs("span",{className:$("text-lg font-bold",t(s.memory.usage)),children:[s.memory.usage,"%"]})]}),e.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[e.jsxs("div",{children:["Used: ",s.memory.used,"GB"]}),e.jsxs("div",{children:["Total: ",s.memory.total,"GB"]}),e.jsxs("div",{children:["Available: ",s.memory.available,"GB"]})]})]})}),e.jsx(M,{children:e.jsxs(L,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"h-5 w-5 text-purple-500"}),e.jsx("span",{className:"font-medium",children:"Disk"})]}),e.jsxs("span",{className:$("text-lg font-bold",t(s.disk.usage)),children:[s.disk.usage,"%"]})]}),e.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[e.jsxs("div",{children:["Used: ",s.disk.used,"GB"]}),e.jsxs("div",{children:["Total: ",s.disk.total,"GB"]}),e.jsxs("div",{children:["Available: ",s.disk.available,"GB"]})]})]})}),e.jsx(M,{children:e.jsxs(L,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ya,{className:"h-5 w-5 text-blue-500"}),e.jsx("span",{className:"font-medium",children:"Network"})]}),n(s.network.status)]}),e.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[e.jsxs("div",{children:["Download: ",s.network.downloadSpeed," Mbps"]}),e.jsxs("div",{children:["Upload: ",s.network.uploadSpeed," Mbps"]}),e.jsxs("div",{children:["Latency: ",s.network.latency,"ms"]})]})]})}),e.jsx(M,{children:e.jsxs(L,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Hs,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{className:"font-medium",children:"Database"})]}),n(s.database.status)]}),e.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[e.jsxs("div",{children:["Connections: ",s.database.connections]}),e.jsxs("div",{children:["Queries: ",s.database.queries]}),e.jsxs("div",{children:["Response: ",s.database.responseTime,"ms"]})]})]})}),e.jsx(M,{children:e.jsxs(L,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(va,{className:"h-5 w-5 text-orange-500"}),e.jsx("span",{className:"font-medium",children:"Services"})]}),e.jsxs("span",{className:"text-lg font-bold text-green-600",children:[s.services.filter(a=>a.status==="running").length,"/",s.services.length]})]}),e.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[e.jsxs("div",{children:["Running: ",s.services.filter(a=>a.status==="running").length]}),e.jsxs("div",{children:["Stopped: ",s.services.filter(a=>a.status==="stopped").length]}),e.jsxs("div",{children:["Error: ",s.services.filter(a=>a.status==="error").length]})]})]})})]})},RN=({alerts:s})=>{const t=i=>{switch(i){case"error":return e.jsx(Et,{className:"h-4 w-4 text-red-500"});case"warning":return e.jsx(at,{className:"h-4 w-4 text-yellow-500"});case"info":return e.jsx(Qt,{className:"h-4 w-4 text-blue-500"});default:return e.jsx(we,{className:"h-4 w-4 text-gray-500"})}},n=i=>{switch(i){case"error":return"border-red-200 bg-red-50";case"warning":return"border-yellow-200 bg-yellow-50";case"info":return"border-blue-200 bg-blue-50";default:return"border-gray-200 bg-gray-50"}},a=s.filter(i=>!i.resolved);return e.jsx("div",{className:"space-y-3",children:a.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Be,{className:"h-12 w-12 mx-auto mb-4 text-green-500"}),e.jsx("p",{children:"Không có cảnh báo nào"})]}):a.map(i=>e.jsx("div",{className:$("border rounded-lg p-4",n(i.type)),children:e.jsxs("div",{className:"flex items-start gap-3",children:[t(i.type),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h4",{className:"font-medium",children:i.title}),e.jsx("span",{className:"text-sm text-gray-500",children:new Date(i.timestamp).toLocaleTimeString()})]}),e.jsx("p",{className:"text-sm text-gray-600",children:i.message})]})]})},i.id))})},ON=({services:s})=>{const t=n=>{switch(n){case"running":return e.jsx(Z,{className:"bg-green-100 text-green-800",children:"Running"});case"stopped":return e.jsx(Z,{className:"bg-gray-100 text-gray-800",children:"Stopped"});case"error":return e.jsx(Z,{className:"bg-red-100 text-red-800",children:"Error"});default:return e.jsx(Z,{variant:"secondary",children:"Unknown"})}};return e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-3",children:"Service"}),e.jsx("th",{className:"text-left p-3",children:"Status"}),e.jsx("th",{className:"text-left p-3",children:"Uptime"}),e.jsx("th",{className:"text-left p-3",children:"Memory"}),e.jsx("th",{className:"text-left p-3",children:"CPU"}),e.jsx("th",{className:"text-left p-3",children:"Actions"})]})}),e.jsx("tbody",{children:s.map((n,a)=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-3 font-medium",children:n.name}),e.jsx("td",{className:"p-3",children:t(n.status)}),e.jsx("td",{className:"p-3 text-sm text-gray-600",children:n.uptime}),e.jsxs("td",{className:"p-3 text-sm",children:[n.memory,"MB"]}),e.jsxs("td",{className:"p-3 text-sm",children:[n.cpu,"%"]}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{variant:"ghost",size:"sm",children:e.jsx(As,{className:"h-4 w-4"})}),e.jsx(I,{variant:"ghost",size:"sm",children:e.jsx(Ye,{className:"h-4 w-4"})}),e.jsx(I,{variant:"ghost",size:"sm",children:e.jsx(me,{className:"h-4 w-4"})})]})})]},a))})]})})},FN=({logs:s})=>{const[t,n]=h.useState(null),a=i=>{switch(i){case"ERROR":return"bg-red-100 text-red-800";case"WARN":return"bg-yellow-100 text-yellow-800";case"INFO":return"bg-blue-100 text-blue-800";case"DEBUG":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return e.jsx("div",{className:"space-y-2",children:s.map(i=>e.jsx("div",{className:"border rounded-lg p-3 hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Z,{variant:"outline",className:$("text-xs",a(i.level)),children:i.level}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"font-medium text-sm",children:i.service}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(i.timestamp).toLocaleString()})]}),e.jsx("p",{className:"text-sm text-gray-700",children:i.message}),i.details&&e.jsx("p",{className:"text-xs text-gray-500 mt-1 font-mono",children:i.details})]})]})},i.id))})},zN=()=>{const{user:s}=De(),[t,n]=h.useState(Di),[a,i]=h.useState($i),[r,l]=h.useState(Ri),[o,c]=h.useState(!1),[d,m]=h.useState(!0),u=async()=>{try{c(!0),setTimeout(()=>{n(Di),i($i),l(Ri),c(!1)},1e3)}catch(x){console.error("Failed to fetch metrics:",x),c(!1)}};return h.useEffect(()=>{if(u(),d){const x=setInterval(u,3e4);return()=>clearInterval(x)}},[d]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Giám sát hệ thống"}),e.jsx("p",{className:"text-gray-600",children:"Theo dõi hiệu suất, trạng thái và logs hệ thống"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(I,{variant:"outline",onClick:()=>m(!d),className:d?"bg-green-50":"",children:[e.jsx(gs,{className:"h-4 w-4 mr-2"}),d?"Auto ON":"Auto OFF"]}),e.jsxs(I,{variant:"outline",onClick:u,disabled:o,children:[e.jsx(me,{className:$("h-4 w-4 mr-2",o&&"animate-spin")}),"Làm mới"]}),e.jsxs(I,{variant:"outline",children:[e.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Xuất báo cáo"]})]})]}),e.jsx($N,{metrics:t}),e.jsxs(rs,{defaultValue:"performance",className:"space-y-4",children:[e.jsxs(es,{className:"grid w-full grid-cols-4",children:[e.jsx(oe,{value:"performance",children:"Hiệu suất"}),e.jsx(oe,{value:"alerts",children:"Cảnh báo"}),e.jsx(oe,{value:"services",children:"Dịch vụ"}),e.jsx(oe,{value:"logs",children:"Logs"})]}),e.jsx(ce,{value:"performance",className:"space-y-4",children:e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Hiệu suất hệ thống 24h"}),e.jsx(J,{children:"CPU, Memory và Disk usage"})]}),e.jsx(L,{children:e.jsx(cs,{width:"100%",height:300,children:e.jsxs(ia,{data:DN,children:[e.jsx(Xs,{strokeDasharray:"3 3"}),e.jsx(Ys,{dataKey:"time"}),e.jsx(Zs,{}),e.jsx(ds,{}),e.jsx(mt,{type:"monotone",dataKey:"cpu",stroke:"#8884d8",strokeWidth:2}),e.jsx(mt,{type:"monotone",dataKey:"memory",stroke:"#82ca9d",strokeWidth:2}),e.jsx(mt,{type:"monotone",dataKey:"disk",stroke:"#ffc658",strokeWidth:2})]})})})]})}),e.jsx(ce,{value:"alerts",className:"space-y-4",children:e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(qs,{className:"h-5 w-5"}),"Cảnh báo hệ thống"]}),e.jsxs(J,{children:[a.filter(x=>!x.resolved).length," cảnh báo chưa xử lý"]})]}),e.jsx(L,{children:e.jsx(RN,{alerts:a})})]})}),e.jsx(ce,{value:"services",className:"space-y-4",children:e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Dịch vụ hệ thống"}),e.jsx(J,{children:"Trạng thái và hiệu suất các dịch vụ"})]}),e.jsx(L,{children:e.jsx(ON,{services:t.services})})]})}),e.jsx(ce,{value:"logs",className:"space-y-4",children:e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(yh,{className:"h-5 w-5"}),"System Logs"]}),e.jsx(J,{children:"Logs hệ thống gần đây"})]}),e.jsx(L,{children:e.jsx(FN,{logs:r})})]})})]})]})};var BN="Separator",Oi="horizontal",qN=["horizontal","vertical"],vc=h.forwardRef((s,t)=>{const{decorative:n,orientation:a=Oi,...i}=s,r=HN(a)?a:Oi,o=n?{role:"none"}:{"aria-orientation":r==="vertical"?r:void 0,role:"separator"};return e.jsx(Ce.div,{"data-orientation":r,...o,...i,ref:t})});vc.displayName=BN;function HN(s){return qN.includes(s)}var jc=vc;const ut=h.forwardRef(({className:s,orientation:t="horizontal",decorative:n=!0,...a},i)=>e.jsx(jc,{ref:i,decorative:n,orientation:t,className:$("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",s),...a}));ut.displayName=jc.displayName;const VN=()=>{const{user:s}=De(),[t,n]=h.useState(!1),[a,i]=h.useState("idle"),[r,l]=h.useState({hotelName:"Minh Hồng Hotel",description:"Premium hotel with AI-powered guest services",address:"123 Nguyen Hue Street, District 1, Ho Chi Minh City",phone:"+84 28 3823 4567",email:"info@minhhonghotel.com",website:"https://minhhonghotel.com",timezone:"Asia/Ho_Chi_Minh",language:"vi",currency:"VND"}),[o,c]=h.useState({enabled:!0,name:"Minh Hồng Assistant",language:"vi",responseDelay:500,enableSmallTalk:!0,enableTranscription:!0,confidenceThreshold:.8,customInstructions:"Bạn là trợ lý AI của khách sạn Minh Hồng. Luôn lịch sự, nhiệt tình và chuyên nghiệp."}),[d,m]=h.useState({emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,newRequestAlert:!0,systemAlerts:!0,dailyReports:!0}),u=async()=>{n(!0),i("saving");try{await new Promise(x=>setTimeout(x,1e3)),i("success"),setTimeout(()=>i("idle"),2e3)}catch{i("error"),setTimeout(()=>i("idle"),2e3)}finally{n(!1)}};return t?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(me,{className:"h-8 w-8 animate-spin text-blue-600"}),e.jsx("span",{className:"ml-2",children:"Đang tải cài đặt..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Cài đặt hệ thống"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Quản lý cấu hình khách sạn, AI Assistant và các tính năng khác"})]}),e.jsxs(rs,{defaultValue:"general",className:"space-y-6",children:[e.jsxs(es,{className:"grid w-full grid-cols-4",children:[e.jsxs(oe,{value:"general",className:"flex items-center gap-2",children:[e.jsx(Kt,{className:"h-4 w-4"}),"Chung"]}),e.jsxs(oe,{value:"ai",className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"h-4 w-4"}),"AI Assistant"]}),e.jsxs(oe,{value:"notifications",className:"flex items-center gap-2",children:[e.jsx(qs,{className:"h-4 w-4"}),"Thông báo"]}),e.jsxs(oe,{value:"security",className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-4 w-4"}),"Bảo mật"]})]}),e.jsx(ce,{value:"general",children:e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(Kt,{className:"h-5 w-5"}),"Cài đặt chung"]}),e.jsx(J,{children:"Thông tin cơ bản về khách sạn và cấu hình hệ thống"})]}),e.jsxs(L,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"hotelName",children:"Tên khách sạn"}),e.jsx(K,{id:"hotelName",value:r.hotelName,onChange:x=>l({...r,hotelName:x.target.value}),placeholder:"Tên khách sạn"})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"phone",children:"Số điện thoại"}),e.jsx(K,{id:"phone",value:r.phone,onChange:x=>l({...r,phone:x.target.value}),placeholder:"+84 28 3823 4567"})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"email",children:"Email"}),e.jsx(K,{id:"email",type:"email",value:r.email,onChange:x=>l({...r,email:x.target.value}),placeholder:"info@hotel.com"})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"website",children:"Website"}),e.jsx(K,{id:"website",value:r.website,onChange:x=>l({...r,website:x.target.value}),placeholder:"https://hotel.com"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"description",children:"Mô tả"}),e.jsx(qe,{id:"description",value:r.description,onChange:x=>l({...r,description:x.target.value}),placeholder:"Mô tả về khách sạn...",rows:3})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"address",children:"Địa chỉ"}),e.jsx(qe,{id:"address",value:r.address,onChange:x=>l({...r,address:x.target.value}),placeholder:"Địa chỉ đầy đủ",rows:3})]})]})]}),e.jsx(ut,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[a==="success"&&e.jsxs(e.Fragment,{children:[e.jsx(Be,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm text-green-600",children:"Đã lưu thành công"})]}),a==="error"&&e.jsxs(e.Fragment,{children:[e.jsx(we,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-sm text-red-600",children:"Lỗi khi lưu"})]})]}),e.jsx(I,{onClick:u,disabled:t,children:t?e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}),"Đang lưu..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Lưu thay đổi"]})})]})]})]})}),e.jsx(ce,{value:"ai",children:e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"h-5 w-5"}),"Cài đặt AI Assistant"]}),e.jsx(J,{children:"Cấu hình trợ lý AI cho dịch vụ khách hàng"})]}),e.jsxs(L,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium",children:"AI Assistant"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Kích hoạt trợ lý AI cho dịch vụ khách hàng"})]}),e.jsx(ue,{checked:o.enabled,onCheckedChange:x=>c({...o,enabled:x})})]}),e.jsx(ut,{}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"assistantName",children:"Tên trợ lý"}),e.jsx(K,{id:"assistantName",value:o.name,onChange:x=>c({...o,name:x.target.value}),placeholder:"Tên trợ lý AI"})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"responseDelay",children:"Độ trễ phản hồi (ms)"}),e.jsx(K,{id:"responseDelay",type:"number",value:o.responseDelay,onChange:x=>c({...o,responseDelay:parseInt(x.target.value)}),min:"0",max:"5000"})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"confidenceThreshold",children:"Ngưỡng tin cậy"}),e.jsx(K,{id:"confidenceThreshold",type:"number",step:"0.1",value:o.confidenceThreshold,onChange:x=>c({...o,confidenceThreshold:parseFloat(x.target.value)}),min:"0",max:"1"})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(k,{htmlFor:"enableSmallTalk",children:"Kích hoạt trò chuyện phiếm"}),e.jsx(ue,{id:"enableSmallTalk",checked:o.enableSmallTalk,onCheckedChange:x=>c({...o,enableSmallTalk:x})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(k,{htmlFor:"enableTranscription",children:"Kích hoạt chuyển đổi văn bản"}),e.jsx(ue,{id:"enableTranscription",checked:o.enableTranscription,onCheckedChange:x=>c({...o,enableTranscription:x})})]})]})})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"customInstructions",children:"Hướng dẫn tùy chỉnh"}),e.jsx(qe,{id:"customInstructions",value:o.customInstructions,onChange:x=>c({...o,customInstructions:x.target.value}),placeholder:"Hướng dẫn chi tiết cho AI về cách phục vụ khách hàng...",rows:4})]}),e.jsx(ut,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[a==="success"&&e.jsxs(e.Fragment,{children:[e.jsx(Be,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm text-green-600",children:"Đã lưu thành công"})]}),a==="error"&&e.jsxs(e.Fragment,{children:[e.jsx(we,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-sm text-red-600",children:"Lỗi khi lưu"})]})]}),e.jsx(I,{onClick:u,disabled:t,children:t?e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}),"Đang lưu..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Lưu cấu hình"]})})]})]})]})}),e.jsx(ce,{value:"notifications",children:e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(qs,{className:"h-5 w-5"}),"Cài đặt thông báo"]}),e.jsx(J,{children:"Quản lý cách thức nhận thông báo và cảnh báo"})]}),e.jsxs(L,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Kênh thông báo"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(k,{children:"Email notifications"}),e.jsx(ue,{checked:d.emailNotifications,onCheckedChange:x=>m({...d,emailNotifications:x})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(k,{children:"SMS notifications"}),e.jsx(ue,{checked:d.smsNotifications,onCheckedChange:x=>m({...d,smsNotifications:x})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(k,{children:"Push notifications"}),e.jsx(ue,{checked:d.pushNotifications,onCheckedChange:x=>m({...d,pushNotifications:x})})]})]})]})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Loại thông báo"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(k,{children:"Yêu cầu mới"}),e.jsx(ue,{checked:d.newRequestAlert,onCheckedChange:x=>m({...d,newRequestAlert:x})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(k,{children:"Cảnh báo hệ thống"}),e.jsx(ue,{checked:d.systemAlerts,onCheckedChange:x=>m({...d,systemAlerts:x})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(k,{children:"Báo cáo hàng ngày"}),e.jsx(ue,{checked:d.dailyReports,onCheckedChange:x=>m({...d,dailyReports:x})})]})]})]})})]}),e.jsx(ut,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[a==="success"&&e.jsxs(e.Fragment,{children:[e.jsx(Be,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm text-green-600",children:"Đã lưu thành công"})]}),a==="error"&&e.jsxs(e.Fragment,{children:[e.jsx(we,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-sm text-red-600",children:"Lỗi khi lưu"})]})]}),e.jsx(I,{onClick:u,disabled:t,children:t?e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}),"Đang lưu..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Lưu cài đặt"]})})]})]})]})}),e.jsx(ce,{value:"security",children:e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-5 w-5"}),"Cài đặt bảo mật"]}),e.jsx(J,{children:"Quản lý bảo mật tài khoản và hệ thống"})]}),e.jsx(L,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ke,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Cài đặt bảo mật"}),e.jsx("p",{className:"text-gray-600",children:"Các tùy chọn bảo mật nâng cao sẽ sớm ra mắt"})]})})]})})]})]})},Fi=[{id:"1",firstName:"Nguyen",lastName:"Van A",email:"nguyenvana@email.com",phone:"+84 90 123 4567",nationality:"Vietnam",dateOfBirth:"1985-03-15",idNumber:"123456789",address:"123 Le Loi Street",city:"Ho Chi Minh City",country:"Vietnam",zipCode:"700000",preferredLanguage:"vi",membershipTier:"gold",totalStays:12,totalSpent:45e6,averageRating:4.8,notes:"VIP customer, prefers quiet rooms",createdAt:"2023-01-15T10:00:00Z",updatedAt:"2024-01-10T14:30:00Z",lastStay:"2024-01-10T14:30:00Z",status:"vip",preferences:{roomType:"Suite",floorPreference:"High floor",smokingPreference:"Non-smoking",bedPreference:"King bed",specialRequests:["Late check-out","Extra towels"]}},{id:"2",firstName:"Kim",lastName:"Min Jun",email:"kim.minjun@email.com",phone:"+82 10 9876 5432",nationality:"South Korea",dateOfBirth:"1990-07-22",idNumber:"KOR987654321",address:"456 Gangnam-gu",city:"Seoul",country:"South Korea",zipCode:"06543",preferredLanguage:"ko",membershipTier:"silver",totalStays:5,totalSpent:18e6,averageRating:4.5,notes:"Business traveler, needs early breakfast",createdAt:"2023-08-20T09:00:00Z",updatedAt:"2024-01-05T11:15:00Z",lastStay:"2024-01-05T11:15:00Z",status:"active",preferences:{roomType:"Deluxe",floorPreference:"Mid floor",smokingPreference:"Non-smoking",bedPreference:"Twin beds",specialRequests:["Early breakfast","Business center access"]}},{id:"3",firstName:"Sarah",lastName:"Johnson",email:"sarah.johnson@email.com",phone:"+1 555 123 4567",nationality:"United States",dateOfBirth:"1988-12-03",idNumber:"USA123456789",address:"789 Broadway",city:"New York",country:"United States",zipCode:"10001",preferredLanguage:"en",membershipTier:"platinum",totalStays:25,totalSpent:95e6,averageRating:4.9,notes:"Frequent traveler, allergic to shellfish",createdAt:"2022-05-10T16:00:00Z",updatedAt:"2024-01-12T09:45:00Z",lastStay:"2024-01-12T09:45:00Z",status:"vip",preferences:{roomType:"Presidential Suite",floorPreference:"Top floor",smokingPreference:"Non-smoking",bedPreference:"King bed",specialRequests:["Shellfish allergy","Concierge service","Airport transfer"]}}],GN=[{id:"1",guestId:"1",roomNumber:"2101",roomType:"Suite",checkIn:"2024-01-10T15:00:00Z",checkOut:"2024-01-13T11:00:00Z",guests:2,totalAmount:12e6,status:"checked-out",paymentStatus:"paid",specialRequests:["Late check-out","Extra towels"],rating:5,review:"Excellent service and room quality",createdAt:"2024-01-05T10:00:00Z"},{id:"2",guestId:"2",roomNumber:"1505",roomType:"Deluxe",checkIn:"2024-01-05T14:00:00Z",checkOut:"2024-01-07T12:00:00Z",guests:1,totalAmount:6e6,status:"checked-out",paymentStatus:"paid",specialRequests:["Early breakfast"],rating:4,review:"Good stay, helpful staff",createdAt:"2024-01-01T09:00:00Z"}],UN=[{id:"1",guestId:"1",note:"Guest requested room upgrade, complimentary provided",type:"general",staffMember:"Front Desk Staff",createdAt:"2024-01-10T16:00:00Z"},{id:"2",guestId:"1",note:"Prefers high floor rooms with city view",type:"preference",staffMember:"Front Desk Staff",createdAt:"2024-01-10T15:30:00Z"}],yc=s=>{switch(s){case"platinum":return"bg-purple-100 text-purple-800";case"gold":return"bg-yellow-100 text-yellow-800";case"silver":return"bg-gray-100 text-gray-800";case"bronze":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},bc=s=>{switch(s){case"vip":return"bg-purple-100 text-purple-800";case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},WN=s=>{switch(s){case"confirmed":return"bg-blue-100 text-blue-800";case"checked-in":return"bg-green-100 text-green-800";case"checked-out":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Qn=s=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",maximumFractionDigits:0}).format(s),Ut=s=>new Date(s).toLocaleDateString("vi-VN",{year:"numeric",month:"short",day:"numeric"}),KN=({guest:s,isOpen:t,onClose:n,onUpdate:a})=>{const[i,r]=h.useState(!1),[l,o]=h.useState(s),[c,d]=h.useState(!1);h.useEffect(()=>{o(s)},[s]);const m=async()=>{if(l){d(!0);try{await new Promise(u=>setTimeout(u,1e3)),a(l),r(!1)}catch(u){console.error("Failed to update guest:",u)}finally{d(!1)}}};return!s||!l?null:e.jsx(Is,{open:t,onOpenChange:n,children:e.jsxs(vs,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(js,{children:[e.jsxs(ys,{className:"flex items-center gap-2",children:[e.jsx(ja,{className:"h-5 w-5"}),s.firstName," ",s.lastName,e.jsx(Z,{className:$("ml-2",yc(s.membershipTier)),children:s.membershipTier.toUpperCase()}),e.jsx(Z,{className:$("ml-1",bc(s.status)),children:s.status.toUpperCase()})]}),e.jsx(Ms,{children:"Chi tiết thông tin khách hàng và lịch sử đặt phòng"})]}),e.jsxs(rs,{defaultValue:"info",className:"w-full",children:[e.jsxs(es,{className:"grid w-full grid-cols-3",children:[e.jsx(oe,{value:"info",children:"Thông tin"}),e.jsx(oe,{value:"bookings",children:"Lịch sử đặt phòng"}),e.jsx(oe,{value:"notes",children:"Ghi chú"})]}),e.jsxs(ce,{value:"info",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Thông tin cá nhân"}),e.jsxs(I,{variant:"outline",size:"sm",onClick:()=>r(!i),children:[e.jsx(Fs,{className:"h-4 w-4 mr-2"}),i?"Hủy":"Chỉnh sửa"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"firstName",children:"Họ"}),e.jsx(K,{id:"firstName",value:l.firstName,onChange:u=>o({...l,firstName:u.target.value}),disabled:!i})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"lastName",children:"Tên"}),e.jsx(K,{id:"lastName",value:l.lastName,onChange:u=>o({...l,lastName:u.target.value}),disabled:!i})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"email",children:"Email"}),e.jsx(K,{id:"email",type:"email",value:l.email,onChange:u=>o({...l,email:u.target.value}),disabled:!i})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"phone",children:"Số điện thoại"}),e.jsx(K,{id:"phone",value:l.phone,onChange:u=>o({...l,phone:u.target.value}),disabled:!i})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"nationality",children:"Quốc tịch"}),e.jsx(K,{id:"nationality",value:l.nationality,onChange:u=>o({...l,nationality:u.target.value}),disabled:!i})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"dateOfBirth",children:"Ngày sinh"}),e.jsx(K,{id:"dateOfBirth",type:"date",value:l.dateOfBirth,onChange:u=>o({...l,dateOfBirth:u.target.value}),disabled:!i})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"idNumber",children:"Số CMND/CCCD"}),e.jsx(K,{id:"idNumber",value:l.idNumber,onChange:u=>o({...l,idNumber:u.target.value}),disabled:!i})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"address",children:"Địa chỉ"}),e.jsx(qe,{id:"address",value:l.address,onChange:u=>o({...l,address:u.target.value}),disabled:!i,rows:2})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"city",children:"Thành phố"}),e.jsx(K,{id:"city",value:l.city,onChange:u=>o({...l,city:u.target.value}),disabled:!i})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"country",children:"Quốc gia"}),e.jsx(K,{id:"country",value:l.country,onChange:u=>o({...l,country:u.target.value}),disabled:!i})]})]})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"notes",children:"Ghi chú"}),e.jsx(qe,{id:"notes",value:l.notes,onChange:u=>o({...l,notes:u.target.value}),disabled:!i,rows:3})]}),i&&e.jsx("div",{className:"flex justify-end gap-2",children:e.jsx(I,{onClick:m,disabled:c,children:c?e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}),"Đang lưu..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Lưu thay đổi"]})})})]}),e.jsxs(ce,{value:"bookings",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Lịch sử đặt phòng"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Tổng cộng: ",s.totalStays," lần lưu trú"]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"•"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Chi tiêu: ",Qn(s.totalSpent)]})]})]}),e.jsx("div",{className:"space-y-4",children:GN.filter(u=>u.guestId===s.id).map(u=>e.jsx(M,{children:e.jsxs(L,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-medium",children:["Phòng ",u.roomNumber]}),e.jsx(Z,{variant:"outline",children:u.roomType}),e.jsx(Z,{className:$(WN(u.status)),children:u.status})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[Ut(u.checkIn)," - ",Ut(u.checkOut)]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Số khách:"})," ",u.guests]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Tổng tiền:"})," ",Qn(u.totalAmount)]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Đánh giá:"}),e.jsxs("div",{className:"flex items-center gap-1 ml-1",children:[[...Array(5)].map((x,f)=>e.jsx(Js,{className:$("h-3 w-3",f<u.rating?"fill-yellow-400 text-yellow-400":"text-gray-300")},f)),e.jsxs("span",{className:"ml-1",children:["(",u.rating,"/5)"]})]})]})]}),u.review&&e.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Đánh giá:"})," ",u.review]})]})},u.id))})]}),e.jsxs(ce,{value:"notes",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Ghi chú dịch vụ"}),e.jsxs(I,{size:"sm",children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"Thêm ghi chú"]})]}),e.jsx("div",{className:"space-y-3",children:UN.filter(u=>u.guestId===s.id).map(u=>e.jsx(M,{children:e.jsxs(L,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(Z,{variant:"outline",children:u.type}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[u.staffMember," • ",Ut(u.createdAt)]})]}),e.jsx("p",{className:"text-sm",children:u.note})]})},u.id))})]})]})]})})},QN=({isOpen:s,onClose:t,onAdd:n})=>{const[a,i]=h.useState({firstName:"",lastName:"",email:"",phone:"",nationality:"",dateOfBirth:"",idNumber:"",address:"",city:"",country:"",zipCode:"",preferredLanguage:"vi",membershipTier:"bronze",notes:""}),[r,l]=h.useState(!1),o=async c=>{c.preventDefault(),l(!0);try{await new Promise(m=>setTimeout(m,1e3));const d={id:Date.now().toString(),...a,totalStays:0,totalSpent:0,averageRating:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),lastStay:"",status:"active",preferences:{roomType:"",floorPreference:"",smokingPreference:"Non-smoking",bedPreference:"",specialRequests:[]}};n(d),t(),i({firstName:"",lastName:"",email:"",phone:"",nationality:"",dateOfBirth:"",idNumber:"",address:"",city:"",country:"",zipCode:"",preferredLanguage:"vi",membershipTier:"bronze",notes:""})}catch(d){console.error("Failed to add guest:",d)}finally{l(!1)}};return e.jsx(Is,{open:s,onOpenChange:t,children:e.jsxs(vs,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(js,{children:[e.jsxs(ys,{className:"flex items-center gap-2",children:[e.jsx(jt,{className:"h-5 w-5"}),"Thêm khách hàng mới"]}),e.jsx(Ms,{children:"Nhập thông tin khách hàng để tạo hồ sơ mới"})]}),e.jsxs("form",{onSubmit:o,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"firstName",children:"Họ *"}),e.jsx(K,{id:"firstName",value:a.firstName,onChange:c=>i({...a,firstName:c.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"lastName",children:"Tên *"}),e.jsx(K,{id:"lastName",value:a.lastName,onChange:c=>i({...a,lastName:c.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"email",children:"Email *"}),e.jsx(K,{id:"email",type:"email",value:a.email,onChange:c=>i({...a,email:c.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"phone",children:"Số điện thoại *"}),e.jsx(K,{id:"phone",value:a.phone,onChange:c=>i({...a,phone:c.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"nationality",children:"Quốc tịch"}),e.jsx(K,{id:"nationality",value:a.nationality,onChange:c=>i({...a,nationality:c.target.value})})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"dateOfBirth",children:"Ngày sinh"}),e.jsx(K,{id:"dateOfBirth",type:"date",value:a.dateOfBirth,onChange:c=>i({...a,dateOfBirth:c.target.value})})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"idNumber",children:"Số CMND/CCCD"}),e.jsx(K,{id:"idNumber",value:a.idNumber,onChange:c=>i({...a,idNumber:c.target.value})})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"preferredLanguage",children:"Ngôn ngữ ưa thích"}),e.jsxs(ye,{value:a.preferredLanguage,onValueChange:c=>i({...a,preferredLanguage:c}),children:[e.jsx(ve,{children:e.jsx(be,{})}),e.jsxs(je,{children:[e.jsx(q,{value:"vi",children:"Tiếng Việt"}),e.jsx(q,{value:"en",children:"English"}),e.jsx(q,{value:"ko",children:"한국어"}),e.jsx(q,{value:"ja",children:"日本語"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"address",children:"Địa chỉ"}),e.jsx(qe,{id:"address",value:a.address,onChange:c=>i({...a,address:c.target.value}),rows:2})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"city",children:"Thành phố"}),e.jsx(K,{id:"city",value:a.city,onChange:c=>i({...a,city:c.target.value})})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"country",children:"Quốc gia"}),e.jsx(K,{id:"country",value:a.country,onChange:c=>i({...a,country:c.target.value})})]})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"notes",children:"Ghi chú"}),e.jsx(qe,{id:"notes",value:a.notes,onChange:c=>i({...a,notes:c.target.value}),placeholder:"Thông tin bổ sung về khách hàng...",rows:3})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(I,{type:"button",variant:"outline",onClick:t,children:"Hủy"}),e.jsx(I,{type:"submit",disabled:r,children:r?e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}),"Đang tạo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"Tạo khách hàng"]})})]})]})]})})},XN=()=>{const{user:s}=De(),[t,n]=h.useState(Fi),[a,i]=h.useState(!1),[r,l]=h.useState(""),[o,c]=h.useState("all"),[d,m]=h.useState("all"),[u,x]=h.useState(null),[f,p]=h.useState(!1),[g,y]=h.useState(!1),j=t.filter(T=>{const B=!r||T.firstName.toLowerCase().includes(r.toLowerCase())||T.lastName.toLowerCase().includes(r.toLowerCase())||T.email.toLowerCase().includes(r.toLowerCase())||T.phone.includes(r),z=o==="all"||T.membershipTier===o,P=d==="all"||T.status===d;return B&&z&&P}),v=T=>{x(T),p(!0)},b=T=>{n(B=>B.map(z=>z.id===T.id?T:z)),x(T)},w=T=>{n(B=>[...B,T])},C=async()=>{i(!0);try{await new Promise(T=>setTimeout(T,1e3)),n(Fi)}catch(T){console.error("Failed to fetch guests:",T)}finally{i(!1)}};return h.useEffect(()=>{C()},[]),a?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(me,{className:"h-8 w-8 animate-spin text-green-600"}),e.jsx("span",{className:"ml-2",children:"Đang tải danh sách khách hàng..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Quản lý khách hàng"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Quản lý thông tin khách hàng và lịch sử lưu trú"})]}),e.jsxs(I,{onClick:()=>y(!0),children:[e.jsx(jt,{className:"h-4 w-4 mr-2"}),"Thêm khách hàng"]})]}),e.jsxs(M,{children:[e.jsx(V,{children:e.jsx(G,{className:"text-lg",children:"Tìm kiếm và lọc"})}),e.jsx(L,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ts,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(K,{placeholder:"Tìm kiếm theo tên, email hoặc số điện thoại...",value:r,onChange:T=>l(T.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ye,{value:o,onValueChange:c,children:[e.jsx(ve,{className:"w-[180px]",children:e.jsx(be,{placeholder:"Membership tier"})}),e.jsxs(je,{children:[e.jsx(q,{value:"all",children:"Tất cả membership"}),e.jsx(q,{value:"bronze",children:"Bronze"}),e.jsx(q,{value:"silver",children:"Silver"}),e.jsx(q,{value:"gold",children:"Gold"}),e.jsx(q,{value:"platinum",children:"Platinum"})]})]}),e.jsxs(ye,{value:d,onValueChange:m,children:[e.jsx(ve,{className:"w-[150px]",children:e.jsx(be,{placeholder:"Trạng thái"})}),e.jsxs(je,{children:[e.jsx(q,{value:"all",children:"Tất cả trạng thái"}),e.jsx(q,{value:"active",children:"Active"}),e.jsx(q,{value:"inactive",children:"Inactive"}),e.jsx(q,{value:"vip",children:"VIP"})]})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Tổng khách hàng"}),e.jsx("p",{className:"text-2xl font-bold",children:t.length})]}),e.jsx(Ge,{className:"h-8 w-8 text-blue-500"})]})})}),e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Khách VIP"}),e.jsx("p",{className:"text-2xl font-bold",children:t.filter(T=>T.status==="vip").length})]}),e.jsx(Js,{className:"h-8 w-8 text-purple-500"})]})})}),e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Khách hàng mới"}),e.jsx("p",{className:"text-2xl font-bold",children:t.filter(T=>new Date(T.createdAt)>new Date(Date.now()-30*24*60*60*1e3)).length})]}),e.jsx(jt,{className:"h-8 w-8 text-green-500"})]})})}),e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Đánh giá TB"}),e.jsx("p",{className:"text-2xl font-bold",children:(t.reduce((T,B)=>T+B.averageRating,0)/t.length).toFixed(1)})]}),e.jsx(Js,{className:"h-8 w-8 text-yellow-500"})]})})})]}),e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsx(G,{children:"Danh sách khách hàng"}),e.jsxs(J,{children:["Hiển thị ",j.length," trong tổng số ",t.length," khách hàng"]})]}),e.jsx(L,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(xs,{children:[e.jsx(ps,{children:e.jsxs(Le,{children:[e.jsx(X,{children:"Khách hàng"}),e.jsx(X,{children:"Liên hệ"}),e.jsx(X,{children:"Membership"}),e.jsx(X,{children:"Trạng thái"}),e.jsx(X,{children:"Lần lưu trú"}),e.jsx(X,{children:"Chi tiêu"}),e.jsx(X,{children:"Đánh giá"}),e.jsx(X,{children:"Lần cuối"}),e.jsx(X,{children:"Hành động"})]})}),e.jsx(fs,{children:j.map(T=>e.jsxs(Le,{children:[e.jsx(Y,{children:e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[T.firstName," ",T.lastName]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:T.nationality})]})}),e.jsx(Y,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(fa,{className:"h-3 w-3"}),T.email]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(is,{className:"h-3 w-3"}),T.phone]})]})}),e.jsx(Y,{children:e.jsx(Z,{className:yc(T.membershipTier),children:T.membershipTier.toUpperCase()})}),e.jsx(Y,{children:e.jsx(Z,{className:bc(T.status),children:T.status.toUpperCase()})}),e.jsx(Y,{children:T.totalStays}),e.jsx(Y,{children:Qn(T.totalSpent)}),e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Js,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{children:T.averageRating})]})}),e.jsx(Y,{children:T.lastStay?Ut(T.lastStay):"Chưa lưu trú"}),e.jsx(Y,{children:e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>v(T),children:e.jsx(As,{className:"h-4 w-4"})})})]},T.id))})]})})})]}),e.jsx(KN,{guest:u,isOpen:f,onClose:()=>p(!1),onUpdate:b}),e.jsx(QN,{isOpen:g,onClose:()=>y(!1),onAdd:w})]})},zi={firewall:{enabled:!0,rules:[{id:"1",name:"Allow HTTP",source:"any",destination:"server",port:80,protocol:"tcp",action:"allow",enabled:!0,createdAt:"2024-01-01T00:00:00Z"},{id:"2",name:"Allow HTTPS",source:"any",destination:"server",port:443,protocol:"tcp",action:"allow",enabled:!0,createdAt:"2024-01-01T00:00:00Z"},{id:"3",name:"Block Suspicious IP",source:"192.168.1.100",destination:"any",port:0,protocol:"tcp",action:"deny",enabled:!0,createdAt:"2024-01-10T10:00:00Z"}],allowedPorts:[80,443,22,25,587],blockedIPs:["192.168.1.100","10.0.0.50"],ddosProtection:!0,rateLimiting:!0},ssl:{enabled:!0,certificates:[{id:"1",domain:"minhhonghotel.com",issuer:"Let's Encrypt",validFrom:"2024-01-01T00:00:00Z",validTo:"2024-04-01T00:00:00Z",status:"valid",type:"ssl"},{id:"2",domain:"*.minhhonghotel.com",issuer:"DigiCert",validFrom:"2023-12-01T00:00:00Z",validTo:"2024-12-01T00:00:00Z",status:"valid",type:"wildcard"}],forceHttps:!0,hstsEnabled:!0,cipherSuites:["TLS_AES_256_GCM_SHA384","TLS_CHACHA20_POLY1305_SHA256"]},authentication:{mfaEnabled:!0,passwordPolicy:{minLength:8,requireUppercase:!0,requireNumbers:!0,requireSymbols:!0,expirationDays:90},sessionTimeout:30,maxLoginAttempts:5,lockoutDuration:15},monitoring:{logLevel:"info",alertsEnabled:!0,alertThresholds:{failedLogins:10,diskUsage:85,memoryUsage:90,cpuUsage:95},retentionPeriod:90},backup:{enabled:!0,schedule:"0 2 * * *",retention:30,encryption:!0,location:"AWS S3",lastBackup:"2024-01-15T02:00:00Z",status:"success"},compliance:{gdprCompliant:!0,pciCompliant:!1,iso27001:!0,auditEnabled:!0,dataRetentionDays:365}},Bi=[{id:"1",type:"authentication",severity:"high",message:"Multiple failed login attempts detected",timestamp:"2024-01-15T14:30:00Z",resolved:!1,details:"User attempted to login with incorrect credentials 8 times from IP 192.168.1.100"},{id:"2",type:"ssl",severity:"medium",message:"SSL certificate expiring soon",timestamp:"2024-01-15T10:00:00Z",resolved:!1,details:"Certificate for minhhonghotel.com will expire in 30 days"},{id:"3",type:"firewall",severity:"low",message:"Port scan detected",timestamp:"2024-01-15T08:15:00Z",resolved:!0,details:"Port scan from 10.0.0.50 was blocked by firewall"}],qi=[{id:"1",timestamp:"2024-01-15T15:00:00Z",source:"auth",event:"LOGIN_SUCCESS",severity:"info",details:"User logged in successfully",ip:"192.168.1.50",user:"admin"},{id:"2",timestamp:"2024-01-15T14:45:00Z",source:"firewall",event:"BLOCKED_IP",severity:"warning",details:"Blocked connection from suspicious IP",ip:"192.168.1.100"},{id:"3",timestamp:"2024-01-15T14:30:00Z",source:"auth",event:"LOGIN_FAILED",severity:"error",details:"Failed login attempt",ip:"192.168.1.100",user:"admin"}],YN=s=>{switch(s){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},Ct=s=>new Date(s).toLocaleDateString("vi-VN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),ZN=({config:s,onUpdate:t})=>{const[n,a]=h.useState(!1),[i,r]=h.useState(!1),l=async()=>{a(!0);try{await new Promise(o=>setTimeout(o,1e3))}catch(o){console.error("Failed to save firewall config:",o)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-5 w-5"}),"Cấu hình Firewall"]}),e.jsx(J,{children:"Quản lý tường lửa và bảo mật mạng"})]}),e.jsxs(L,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(k,{className:"text-base font-medium",children:"Kích hoạt Firewall"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Bật/tắt tường lửa cho hệ thống"})]}),e.jsx(ue,{checked:s.enabled,onCheckedChange:o=>t({enabled:o})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(k,{children:"DDoS Protection"}),e.jsx(ue,{checked:s.ddosProtection,onCheckedChange:o=>t({ddosProtection:o})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(k,{children:"Rate Limiting"}),e.jsx(ue,{checked:s.rateLimiting,onCheckedChange:o=>t({rateLimiting:o})})]})]}),e.jsxs("div",{children:[e.jsx(k,{children:"Blocked IPs"}),e.jsx(qe,{value:s.blockedIPs.join(`
`),onChange:o=>t({blockedIPs:o.target.value.split(`
`).filter(c=>c.trim())}),placeholder:`192.168.1.100
10.0.0.50`,rows:3})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(I,{onClick:l,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}),"Đang lưu..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Lưu cấu hình"]})})})]})]}),e.jsxs(M,{children:[e.jsx(V,{children:e.jsxs(G,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Firewall Rules"}),e.jsxs(I,{size:"sm",onClick:()=>r(!i),children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"Thêm Rule"]})]})}),e.jsx(L,{children:e.jsxs(xs,{children:[e.jsx(ps,{children:e.jsxs(Le,{children:[e.jsx(X,{children:"Tên"}),e.jsx(X,{children:"Source"}),e.jsx(X,{children:"Destination"}),e.jsx(X,{children:"Port"}),e.jsx(X,{children:"Protocol"}),e.jsx(X,{children:"Action"}),e.jsx(X,{children:"Trạng thái"}),e.jsx(X,{children:"Hành động"})]})}),e.jsx(fs,{children:s.rules.map(o=>e.jsxs(Le,{children:[e.jsx(Y,{className:"font-medium",children:o.name}),e.jsx(Y,{children:o.source}),e.jsx(Y,{children:o.destination}),e.jsx(Y,{children:o.port}),e.jsx(Y,{children:o.protocol.toUpperCase()}),e.jsx(Y,{children:e.jsx(Z,{variant:o.action==="allow"?"default":"destructive",children:o.action.toUpperCase()})}),e.jsx(Y,{children:e.jsx(Z,{variant:o.enabled?"default":"secondary",children:o.enabled?"Enabled":"Disabled"})}),e.jsx(Y,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{variant:"ghost",size:"sm",children:e.jsx(Fs,{className:"h-4 w-4"})}),e.jsx(I,{variant:"ghost",size:"sm",children:e.jsx(zs,{className:"h-4 w-4"})})]})})]},o.id))})]})})]})]})},JN=({config:s,onUpdate:t})=>{const[n,a]=h.useState(!1),i=async()=>{a(!0);try{await new Promise(r=>setTimeout(r,1e3))}catch(r){console.error("Failed to save SSL config:",r)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(nt,{className:"h-5 w-5"}),"Cấu hình SSL/TLS"]}),e.jsx(J,{children:"Quản lý chứng chỉ SSL và cấu hình TLS"})]}),e.jsxs(L,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(k,{children:"Kích hoạt SSL"}),e.jsx(ue,{checked:s.enabled,onCheckedChange:r=>t({enabled:r})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(k,{children:"Force HTTPS"}),e.jsx(ue,{checked:s.forceHttps,onCheckedChange:r=>t({forceHttps:r})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(k,{children:"HSTS Enabled"}),e.jsx(ue,{checked:s.hstsEnabled,onCheckedChange:r=>t({hstsEnabled:r})})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(I,{onClick:i,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}),"Đang lưu..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Lưu cấu hình"]})})})]})]}),e.jsxs(M,{children:[e.jsx(V,{children:e.jsxs(G,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"SSL Certificates"}),e.jsxs(I,{size:"sm",children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"Thêm Certificate"]})]})}),e.jsx(L,{children:e.jsxs(xs,{children:[e.jsx(ps,{children:e.jsxs(Le,{children:[e.jsx(X,{children:"Domain"}),e.jsx(X,{children:"Issuer"}),e.jsx(X,{children:"Type"}),e.jsx(X,{children:"Valid From"}),e.jsx(X,{children:"Valid To"}),e.jsx(X,{children:"Status"}),e.jsx(X,{children:"Actions"})]})}),e.jsx(fs,{children:s.certificates.map(r=>e.jsxs(Le,{children:[e.jsx(Y,{className:"font-medium",children:r.domain}),e.jsx(Y,{children:r.issuer}),e.jsx(Y,{children:e.jsx(Z,{variant:"outline",children:r.type.toUpperCase()})}),e.jsx(Y,{children:Ct(r.validFrom)}),e.jsx(Y,{children:Ct(r.validTo)}),e.jsx(Y,{children:e.jsx(Z,{className:$(r.status==="valid"?"bg-green-100 text-green-800":r.status==="expired"?"bg-red-100 text-red-800":"bg-orange-100 text-orange-800"),children:r.status.toUpperCase()})}),e.jsx(Y,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{variant:"ghost",size:"sm",children:e.jsx(Ws,{className:"h-4 w-4"})}),e.jsx(I,{variant:"ghost",size:"sm",children:e.jsx(me,{className:"h-4 w-4"})}),e.jsx(I,{variant:"ghost",size:"sm",children:e.jsx(zs,{className:"h-4 w-4"})})]})})]},r.id))})]})})]})]})},e4=({alerts:s})=>{const[t,n]=h.useState("all"),a=s.filter(i=>t==="all"||i.severity===t);return e.jsx("div",{className:"space-y-6",children:e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(at,{className:"h-5 w-5"}),"Cảnh báo bảo mật"]}),e.jsx(J,{children:"Theo dõi và xử lý các cảnh báo bảo mật"})]}),e.jsxs(L,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(I,{variant:t==="all"?"default":"outline",size:"sm",onClick:()=>n("all"),children:["Tất cả (",s.length,")"]}),e.jsxs(I,{variant:t==="critical"?"default":"outline",size:"sm",onClick:()=>n("critical"),children:["Critical (",s.filter(i=>i.severity==="critical").length,")"]}),e.jsxs(I,{variant:t==="high"?"default":"outline",size:"sm",onClick:()=>n("high"),children:["High (",s.filter(i=>i.severity==="high").length,")"]})]}),e.jsxs(I,{size:"sm",children:[e.jsx(me,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),e.jsx("div",{className:"space-y-4",children:a.map(i=>e.jsx(M,{className:$("border-l-4",i.severity==="critical"?"border-l-red-500":i.severity==="high"?"border-l-orange-500":i.severity==="medium"?"border-l-yellow-500":"border-l-blue-500"),children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Z,{className:YN(i.severity),children:i.severity.toUpperCase()}),e.jsx(Z,{variant:"outline",children:i.type}),e.jsx("span",{className:"text-sm text-muted-foreground",children:Ct(i.timestamp)})]}),e.jsx("h4",{className:"font-medium",children:i.message}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:i.details})]}),e.jsxs("div",{className:"flex gap-2",children:[!i.resolved&&e.jsxs(I,{size:"sm",variant:"outline",children:[e.jsx(Be,{className:"h-4 w-4 mr-2"}),"Resolve"]}),e.jsx(I,{size:"sm",variant:"ghost",children:e.jsx(As,{className:"h-4 w-4"})})]})]})})},i.id))})]})]})})},s4=({logs:s})=>{const[t,n]=h.useState(""),[a,i]=h.useState("all"),r=s.filter(l=>{const o=!t||l.event.toLowerCase().includes(t.toLowerCase())||l.details.toLowerCase().includes(t.toLowerCase())||l.ip.includes(t),c=a==="all"||l.severity===a;return o&&c});return e.jsx("div",{className:"space-y-6",children:e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(cn,{className:"h-5 w-5"}),"Security Logs"]}),e.jsx(J,{children:"Nhật ký hoạt động bảo mật của hệ thống"})]}),e.jsxs(L,{children:[e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ts,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(K,{placeholder:"Tìm kiếm logs...",value:t,onChange:l=>n(l.target.value),className:"pl-10"})]})}),e.jsxs(ye,{value:a,onValueChange:i,children:[e.jsx(ve,{className:"w-[150px]",children:e.jsx(be,{})}),e.jsxs(je,{children:[e.jsx(q,{value:"all",children:"Tất cả"}),e.jsx(q,{value:"info",children:"Info"}),e.jsx(q,{value:"warning",children:"Warning"}),e.jsx(q,{value:"error",children:"Error"})]})]})]}),e.jsxs(xs,{children:[e.jsx(ps,{children:e.jsxs(Le,{children:[e.jsx(X,{children:"Timestamp"}),e.jsx(X,{children:"Source"}),e.jsx(X,{children:"Event"}),e.jsx(X,{children:"Severity"}),e.jsx(X,{children:"IP"}),e.jsx(X,{children:"User"}),e.jsx(X,{children:"Details"})]})}),e.jsx(fs,{children:r.map(l=>e.jsxs(Le,{children:[e.jsx(Y,{className:"font-mono text-sm",children:Ct(l.timestamp)}),e.jsx(Y,{children:l.source}),e.jsx(Y,{className:"font-medium",children:l.event}),e.jsx(Y,{children:e.jsx(Z,{className:$(l.severity==="error"?"bg-red-100 text-red-800":l.severity==="warning"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:l.severity.toUpperCase()})}),e.jsx(Y,{className:"font-mono text-sm",children:l.ip}),e.jsx(Y,{children:l.user||"-"}),e.jsx(Y,{className:"max-w-xs truncate",children:l.details})]},l.id))})]})]})]})})},t4=({config:s,onUpdate:t})=>{const[n,a]=h.useState(!1),i=async()=>{a(!0);try{await new Promise(r=>setTimeout(r,3e3)),t({lastBackup:new Date().toISOString(),status:"success"})}catch(r){console.error("Backup failed:",r),t({status:"failed"})}finally{a(!1)}};return e.jsx("div",{className:"space-y-6",children:e.jsxs(M,{children:[e.jsxs(V,{children:[e.jsxs(G,{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"h-5 w-5"}),"Backup & Recovery"]}),e.jsx(J,{children:"Quản lý sao lưu và khôi phục dữ liệu"})]}),e.jsx(L,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(k,{children:"Kích hoạt backup tự động"}),e.jsx(ue,{checked:s.enabled,onCheckedChange:r=>t({enabled:r})})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"schedule",children:"Lịch backup (Cron)"}),e.jsx(K,{id:"schedule",value:s.schedule,onChange:r=>t({schedule:r.target.value}),placeholder:"0 2 * * *"})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"retention",children:"Thời gian lưu trữ (ngày)"}),e.jsx(K,{id:"retention",type:"number",value:s.retention,onChange:r=>t({retention:parseInt(r.target.value)})})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"location",children:"Vị trí lưu trữ"}),e.jsxs(ye,{value:s.location,onValueChange:r=>t({location:r}),children:[e.jsx(ve,{children:e.jsx(be,{})}),e.jsxs(je,{children:[e.jsx(q,{value:"AWS S3",children:"AWS S3"}),e.jsx(q,{value:"Google Cloud",children:"Google Cloud"}),e.jsx(q,{value:"Azure",children:"Azure"}),e.jsx(q,{value:"Local",children:"Local Storage"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(k,{children:"Mã hóa backup"}),e.jsx(ue,{checked:s.encryption,onCheckedChange:r=>t({encryption:r})})]}),e.jsxs("div",{children:[e.jsx(k,{children:"Backup cuối cùng"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"text-sm",children:s.lastBackup?Ct(s.lastBackup):"Chưa có backup"}),e.jsx(Z,{className:$("ml-2",s.status==="success"?"bg-green-100 text-green-800":s.status==="failed"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"),children:s.status.toUpperCase()})]})]}),e.jsxs("div",{children:[e.jsx(k,{children:"Dung lượng backup"}),e.jsxs("div",{className:"mt-1",children:[e.jsx(hs,{value:65,className:"h-2"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"2.1 GB / 5 GB"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{onClick:i,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}),"Đang backup..."]}):e.jsxs(e.Fragment,{children:[e.jsx(wh,{className:"h-4 w-4 mr-2"}),"Backup ngay"]})}),e.jsxs(I,{variant:"outline",children:[e.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Khôi phục"]})]})]})]})})]})})},n4=()=>{const{user:s}=De(),[t,n]=h.useState(zi),[a,i]=h.useState(Bi),[r,l]=h.useState(qi),[o,c]=h.useState(!1),d=(u,x)=>{n(f=>({...f,[u]:{...f[u],...x}}))},m=async()=>{c(!0);try{await new Promise(u=>setTimeout(u,1e3)),n(zi),i(Bi),l(qi)}catch(u){console.error("Failed to fetch security data:",u)}finally{c(!1)}};return h.useEffect(()=>{m()},[]),o?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(me,{className:"h-8 w-8 animate-spin text-purple-600"}),e.jsx("span",{className:"ml-2",children:"Đang tải cấu hình bảo mật..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Cài đặt bảo mật"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Quản lý tường lửa, SSL, cảnh báo bảo mật và sao lưu hệ thống"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Firewall"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.firewall.enabled?"ON":"OFF"})]}),e.jsx(ke,{className:$("h-8 w-8",t.firewall.enabled?"text-green-500":"text-gray-400")})]})})}),e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"SSL"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.ssl.enabled?"ACTIVE":"INACTIVE"})]}),e.jsx(nt,{className:$("h-8 w-8",t.ssl.enabled?"text-green-500":"text-gray-400")})]})})}),e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Cảnh báo"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:a.filter(u=>!u.resolved).length})]}),e.jsx(at,{className:"h-8 w-8 text-orange-500"})]})})}),e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Backup"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.backup.status==="success"?"OK":"FAILED"})]}),e.jsx(vt,{className:$("h-8 w-8",t.backup.status==="success"?"text-blue-500":"text-red-500")})]})})})]}),e.jsxs(rs,{defaultValue:"firewall",className:"space-y-6",children:[e.jsxs(es,{className:"grid w-full grid-cols-5",children:[e.jsxs(oe,{value:"firewall",className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-4 w-4"}),"Firewall"]}),e.jsxs(oe,{value:"ssl",className:"flex items-center gap-2",children:[e.jsx(nt,{className:"h-4 w-4"}),"SSL/TLS"]}),e.jsxs(oe,{value:"alerts",className:"flex items-center gap-2",children:[e.jsx(at,{className:"h-4 w-4"}),"Cảnh báo"]}),e.jsxs(oe,{value:"logs",className:"flex items-center gap-2",children:[e.jsx(cn,{className:"h-4 w-4"}),"Logs"]}),e.jsxs(oe,{value:"backup",className:"flex items-center gap-2",children:[e.jsx(vt,{className:"h-4 w-4"}),"Backup"]})]}),e.jsx(ce,{value:"firewall",children:e.jsx(ZN,{config:t.firewall,onUpdate:u=>d("firewall",u)})}),e.jsx(ce,{value:"ssl",children:e.jsx(JN,{config:t.ssl,onUpdate:u=>d("ssl",u)})}),e.jsx(ce,{value:"alerts",children:e.jsx(e4,{alerts:a})}),e.jsx(ce,{value:"logs",children:e.jsx(s4,{logs:r})}),e.jsx(ce,{value:"backup",children:e.jsx(t4,{config:t.backup,onUpdate:u=>d("backup",u)})})]})]})},Hi=[{id:"1",timestamp:"2024-01-15T15:30:25.123Z",level:"info",module:"auth",message:"User login successful",details:"User authenticated successfully with email",requestId:"req_123456",userId:"user_001",ip:"192.168.1.100",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",duration:125,statusCode:200,endpoint:"/api/auth/login"},{id:"2",timestamp:"2024-01-15T15:29:45.456Z",level:"error",module:"database",message:"Connection timeout",details:"Database connection pool exhausted, unable to acquire connection within timeout",requestId:"req_123455",ip:"192.168.1.101",duration:5e3,statusCode:500,endpoint:"/api/staff/requests"},{id:"3",timestamp:"2024-01-15T15:28:15.789Z",level:"warn",module:"api",message:"Rate limit exceeded",details:"Client has exceeded rate limit of 100 requests per minute",requestId:"req_123454",ip:"192.168.1.102",duration:1,statusCode:429,endpoint:"/api/staff/requests"},{id:"4",timestamp:"2024-01-15T15:27:30.012Z",level:"debug",module:"websocket",message:"WebSocket connection established",details:"New WebSocket connection from client",requestId:"ws_123453",ip:"192.168.1.103",userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36"},{id:"5",timestamp:"2024-01-15T15:26:45.345Z",level:"info",module:"email",message:"Email notification sent",details:"Daily report email sent to admin@hotel.com",requestId:"email_123452",duration:890,statusCode:200},{id:"6",timestamp:"2024-01-15T15:25:20.678Z",level:"error",module:"ai",message:"OpenAI API call failed",details:"OpenAI API returned 503 Service Unavailable",requestId:"req_123451",ip:"192.168.1.100",duration:2e3,statusCode:503,endpoint:"/api/ai/chat"},{id:"7",timestamp:"2024-01-15T15:24:55.901Z",level:"info",module:"backup",message:"Backup completed successfully",details:"Database backup completed, size: 2.1GB",duration:45e3,statusCode:200},{id:"8",timestamp:"2024-01-15T15:23:10.234Z",level:"warn",module:"security",message:"Failed login attempt",details:"User attempted login with incorrect credentials",requestId:"req_123450",userId:"user_002",ip:"192.168.1.104",userAgent:"curl/7.68.0",duration:100,statusCode:401,endpoint:"/api/auth/login"}],Vi={total:15420,byLevel:{debug:3240,info:8950,warn:2100,error:1050,fatal:80},byModule:{auth:2340,api:4560,database:1890,websocket:890,email:1200,ai:890,backup:340,security:1450,system:1860},recentErrors:25,averageResponseTime:245,errorRate:6.8},wc=s=>{switch(s){case"debug":return"bg-blue-100 text-blue-800";case"info":return"bg-green-100 text-green-800";case"warn":return"bg-yellow-100 text-yellow-800";case"error":return"bg-red-100 text-red-800";case"fatal":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},Xn=s=>{switch(s){case"debug":return e.jsx(Qt,{className:"h-4 w-4"});case"info":return e.jsx(Be,{className:"h-4 w-4"});case"warn":return e.jsx(at,{className:"h-4 w-4"});case"error":return e.jsx(Et,{className:"h-4 w-4"});case"fatal":return e.jsx(we,{className:"h-4 w-4"});default:return e.jsx(Qt,{className:"h-4 w-4"})}},Yn=s=>{switch(s){case"auth":return e.jsx(ke,{className:"h-4 w-4"});case"api":return e.jsx(lt,{className:"h-4 w-4"});case"database":return e.jsx(Hs,{className:"h-4 w-4"});case"websocket":return e.jsx(ya,{className:"h-4 w-4"});case"email":return e.jsx(cn,{className:"h-4 w-4"});case"ai":return e.jsx(ol,{className:"h-4 w-4"});case"backup":return e.jsx(vt,{className:"h-4 w-4"});case"security":return e.jsx(ke,{className:"h-4 w-4"});case"system":return e.jsx(va,{className:"h-4 w-4"});default:return e.jsx(dn,{className:"h-4 w-4"})}},Nc=s=>new Date(s).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3}),Sc=s=>s?s<1e3?`${s}ms`:`${(s/1e3).toFixed(2)}s`:"-",a4=({log:s,isOpen:t,onClose:n})=>s?e.jsx("div",{className:$("fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",t?"block":"hidden"),children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Log Details"}),e.jsx(I,{variant:"ghost",size:"sm",onClick:n,children:e.jsx(Et,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(k,{className:"text-sm font-medium",children:"Timestamp"}),e.jsx("p",{className:"text-sm font-mono",children:Nc(s.timestamp)})]}),e.jsxs("div",{children:[e.jsx(k,{className:"text-sm font-medium",children:"Level"}),e.jsxs("div",{className:"flex items-center gap-2",children:[Xn(s.level),e.jsx(Z,{className:wc(s.level),children:s.level.toUpperCase()})]})]}),e.jsxs("div",{children:[e.jsx(k,{className:"text-sm font-medium",children:"Module"}),e.jsxs("div",{className:"flex items-center gap-2",children:[Yn(s.module),e.jsx("span",{className:"text-sm",children:s.module})]})]}),e.jsxs("div",{children:[e.jsx(k,{className:"text-sm font-medium",children:"Request ID"}),e.jsx("p",{className:"text-sm font-mono",children:s.requestId||"-"})]}),e.jsxs("div",{children:[e.jsx(k,{className:"text-sm font-medium",children:"User ID"}),e.jsx("p",{className:"text-sm font-mono",children:s.userId||"-"})]}),e.jsxs("div",{children:[e.jsx(k,{className:"text-sm font-medium",children:"IP Address"}),e.jsx("p",{className:"text-sm font-mono",children:s.ip||"-"})]}),e.jsxs("div",{children:[e.jsx(k,{className:"text-sm font-medium",children:"Duration"}),e.jsx("p",{className:"text-sm",children:Sc(s.duration)})]}),e.jsxs("div",{children:[e.jsx(k,{className:"text-sm font-medium",children:"Status Code"}),e.jsx("p",{className:"text-sm",children:s.statusCode||"-"})]})]}),e.jsxs("div",{children:[e.jsx(k,{className:"text-sm font-medium",children:"Message"}),e.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded border",children:s.message})]}),s.details&&e.jsxs("div",{children:[e.jsx(k,{className:"text-sm font-medium",children:"Details"}),e.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded border whitespace-pre-wrap",children:s.details})]}),s.userAgent&&e.jsxs("div",{children:[e.jsx(k,{className:"text-sm font-medium",children:"User Agent"}),e.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded border break-all",children:s.userAgent})]}),s.endpoint&&e.jsxs("div",{children:[e.jsx(k,{className:"text-sm font-medium",children:"Endpoint"}),e.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded border font-mono",children:s.endpoint})]})]})]})}):null,i4=()=>{const{user:s}=De(),[t,n]=h.useState(Hi),[a,i]=h.useState(Vi),[r,l]=h.useState(!1),[o,c]=h.useState(!1),[d,m]=h.useState(null),[u,x]=h.useState(!1),[f,p]=h.useState({level:"all",module:"all",startTime:"",endTime:"",search:"",requestId:"",userId:"",ip:""}),g=t.filter(w=>{const C=f.level==="all"||w.level===f.level,T=f.module==="all"||w.module===f.module,B=!f.search||w.message.toLowerCase().includes(f.search.toLowerCase())||w.details?.toLowerCase().includes(f.search.toLowerCase()),z=!f.requestId||w.requestId?.includes(f.requestId),P=!f.userId||w.userId?.includes(f.userId),E=!f.ip||w.ip?.includes(f.ip);let S=!0;return f.startTime&&(S=S&&new Date(w.timestamp)>=new Date(f.startTime)),f.endTime&&(S=S&&new Date(w.timestamp)<=new Date(f.endTime)),C&&T&&B&&z&&P&&E&&S}),y=w=>{m(w),x(!0)},j=async()=>{l(!0);try{await new Promise(z=>setTimeout(z,2e3));const w=g.map(z=>`${z.timestamp},${z.level},${z.module},"${z.message}",${z.requestId||""},${z.userId||""},${z.ip||""},${z.statusCode||""}`).join(`
`),C=new Blob([w],{type:"text/csv"}),T=window.URL.createObjectURL(C),B=document.createElement("a");B.href=T,B.download=`system_logs_${new Date().toISOString().split("T")[0]}.csv`,B.click(),window.URL.revokeObjectURL(T)}catch(w){console.error("Export failed:",w)}finally{l(!1)}},v=async()=>{l(!0);try{await new Promise(w=>setTimeout(w,1e3)),n(Hi),i(Vi)}catch(w){console.error("Failed to fetch logs:",w)}finally{l(!1)}},b=()=>{p({level:"all",module:"all",startTime:"",endTime:"",search:"",requestId:"",userId:"",ip:""})};return h.useEffect(()=>{v()},[]),h.useEffect(()=>{if(!o)return;const w=setInterval(()=>{const C={id:Date.now().toString(),timestamp:new Date().toISOString(),level:["debug","info","warn","error"][Math.floor(Math.random()*4)],module:["auth","api","database","websocket"][Math.floor(Math.random()*4)],message:`Real-time log entry ${Date.now()}`,details:"Generated for real-time demonstration",requestId:`req_${Date.now()}`,ip:`192.168.1.${Math.floor(Math.random()*255)}`};n(T=>[C,...T.slice(0,99)])},3e3);return()=>clearInterval(w)},[o]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Logs"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Theo dõi và phân tích logs hệ thống"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{checked:o,onCheckedChange:c}),e.jsx(k,{className:"text-sm",children:"Real-time"})]}),e.jsxs(I,{onClick:v,disabled:r,children:[e.jsx(me,{className:$("h-4 w-4 mr-2",r&&"animate-spin")}),"Refresh"]}),e.jsxs(I,{onClick:j,disabled:r,children:[e.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Logs"}),e.jsx("p",{className:"text-2xl font-bold",children:a.total.toLocaleString()})]}),e.jsx(cn,{className:"h-8 w-8 text-blue-500"})]})})}),e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Recent Errors"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:a.recentErrors})]}),e.jsx(we,{className:"h-8 w-8 text-red-500"})]})})}),e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Response Time"}),e.jsxs("p",{className:"text-2xl font-bold",children:[a.averageResponseTime,"ms"]})]}),e.jsx(ze,{className:"h-8 w-8 text-green-500"})]})})}),e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Error Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[a.errorRate,"%"]})]}),e.jsx(Tt,{className:"h-8 w-8 text-orange-500"})]})})})]}),e.jsxs(rs,{defaultValue:"logs",className:"space-y-6",children:[e.jsxs(es,{children:[e.jsx(oe,{value:"logs",children:"Logs"}),e.jsx(oe,{value:"stats",children:"Statistics"})]}),e.jsxs(ce,{value:"logs",className:"space-y-4",children:[e.jsxs(M,{children:[e.jsx(V,{children:e.jsx(G,{className:"text-lg",children:"Filters"})}),e.jsxs(L,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"level",children:"Log Level"}),e.jsxs(ye,{value:f.level,onValueChange:w=>p({...f,level:w}),children:[e.jsx(ve,{children:e.jsx(be,{})}),e.jsxs(je,{children:[e.jsx(q,{value:"all",children:"All Levels"}),e.jsx(q,{value:"debug",children:"Debug"}),e.jsx(q,{value:"info",children:"Info"}),e.jsx(q,{value:"warn",children:"Warning"}),e.jsx(q,{value:"error",children:"Error"}),e.jsx(q,{value:"fatal",children:"Fatal"})]})]})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"module",children:"Module"}),e.jsxs(ye,{value:f.module,onValueChange:w=>p({...f,module:w}),children:[e.jsx(ve,{children:e.jsx(be,{})}),e.jsxs(je,{children:[e.jsx(q,{value:"all",children:"All Modules"}),e.jsx(q,{value:"auth",children:"Auth"}),e.jsx(q,{value:"api",children:"API"}),e.jsx(q,{value:"database",children:"Database"}),e.jsx(q,{value:"websocket",children:"WebSocket"}),e.jsx(q,{value:"email",children:"Email"}),e.jsx(q,{value:"ai",children:"AI"}),e.jsx(q,{value:"backup",children:"Backup"}),e.jsx(q,{value:"security",children:"Security"}),e.jsx(q,{value:"system",children:"System"})]})]})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"search",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ts,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(K,{id:"search",placeholder:"Search logs...",value:f.search,onChange:w=>p({...f,search:w.target.value}),className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"startTime",children:"Start Time"}),e.jsx(K,{id:"startTime",type:"datetime-local",value:f.startTime,onChange:w=>p({...f,startTime:w.target.value})})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"endTime",children:"End Time"}),e.jsx(K,{id:"endTime",type:"datetime-local",value:f.endTime,onChange:w=>p({...f,endTime:w.target.value})})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"requestId",children:"Request ID"}),e.jsx(K,{id:"requestId",placeholder:"Filter by request ID...",value:f.requestId,onChange:w=>p({...f,requestId:w.target.value})})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(I,{variant:"outline",onClick:b,children:"Clear Filters"})})]})]}),e.jsxs(M,{children:[e.jsx(V,{children:e.jsxs(G,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"System Logs"}),e.jsxs("div",{className:"flex items-center gap-2",children:[o&&e.jsxs(Z,{variant:"outline",className:"text-green-600",children:[e.jsx(gs,{className:"h-3 w-3 mr-1"}),"Live"]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Showing ",g.length," of ",t.length," logs"]})]})]})}),e.jsx(L,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(xs,{children:[e.jsx(ps,{children:e.jsxs(Le,{children:[e.jsx(X,{className:"w-[180px]",children:"Timestamp"}),e.jsx(X,{children:"Level"}),e.jsx(X,{children:"Module"}),e.jsx(X,{children:"Message"}),e.jsx(X,{children:"Request ID"}),e.jsx(X,{children:"Duration"}),e.jsx(X,{children:"Status"}),e.jsx(X,{children:"Actions"})]})}),e.jsx(fs,{children:g.map(w=>e.jsxs(Le,{children:[e.jsx(Y,{className:"font-mono text-sm",children:Nc(w.timestamp)}),e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[Xn(w.level),e.jsx(Z,{className:wc(w.level),children:w.level.toUpperCase()})]})}),e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[Yn(w.module),w.module]})}),e.jsx(Y,{className:"max-w-xs",children:e.jsx("div",{className:"truncate",title:w.message,children:w.message})}),e.jsx(Y,{className:"font-mono text-sm",children:w.requestId&&e.jsx("span",{className:"text-blue-600 cursor-pointer hover:underline",children:w.requestId})}),e.jsx(Y,{children:Sc(w.duration)}),e.jsx(Y,{children:w.statusCode&&e.jsx(Z,{variant:w.statusCode>=400?"destructive":"default",children:w.statusCode})}),e.jsx(Y,{children:e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>y(w),children:e.jsx(As,{className:"h-4 w-4"})})})]},w.id))})]})})})]})]}),e.jsx(ce,{value:"stats",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(M,{children:[e.jsx(V,{children:e.jsx(G,{children:"Logs by Level"})}),e.jsx(L,{children:e.jsx("div",{className:"space-y-3",children:Object.entries(a.byLevel).map(([w,C])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[Xn(w),e.jsx("span",{className:"capitalize",children:w})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${C/a.total*100}%`}})}),e.jsx("span",{className:"text-sm font-medium",children:C})]})]},w))})})]}),e.jsxs(M,{children:[e.jsx(V,{children:e.jsx(G,{children:"Logs by Module"})}),e.jsx(L,{children:e.jsx("div",{className:"space-y-3",children:Object.entries(a.byModule).map(([w,C])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[Yn(w),e.jsx("span",{className:"capitalize",children:w})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${C/a.total*100}%`}})}),e.jsx("span",{className:"text-sm font-medium",children:C})]})]},w))})})]})]})})]}),e.jsx(a4,{log:d,isOpen:u,onClose:()=>x(!1)})]})},Gi=[{id:"1",name:"OpenAI GPT",type:"ai",provider:"OpenAI",description:"AI-powered chatbot and content generation",status:"active",enabled:!0,config:{baseUrl:"https://api.openai.com/v1",apiKey:"sk-...",timeout:3e4,retryCount:3,rateLimitPerMinute:60},metrics:{totalRequests:15420,successRate:98.5,averageResponseTime:1250,lastRequest:"2024-01-15T15:30:00Z",uptime:99.8},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-15T10:00:00Z",lastSync:"2024-01-15T15:30:00Z"},{id:"2",name:"Stripe Payment",type:"payment",provider:"Stripe",description:"Payment processing and billing",status:"active",enabled:!0,config:{baseUrl:"https://api.stripe.com/v1",apiKey:"sk_live_...",timeout:1e4,retryCount:2,rateLimitPerMinute:100},metrics:{totalRequests:8950,successRate:99.9,averageResponseTime:450,lastRequest:"2024-01-15T15:25:00Z",uptime:99.9},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-15T12:00:00Z",lastSync:"2024-01-15T15:25:00Z"},{id:"3",name:"Twilio SMS",type:"notification",provider:"Twilio",description:"SMS notifications and alerts",status:"active",enabled:!0,config:{baseUrl:"https://api.twilio.com/2010-04-01",apiKey:"AC...",timeout:5e3,retryCount:3,rateLimitPerMinute:200},metrics:{totalRequests:2340,successRate:97.8,averageResponseTime:890,lastRequest:"2024-01-15T14:45:00Z",uptime:98.5},createdAt:"2024-01-05T00:00:00Z",updatedAt:"2024-01-15T09:00:00Z",lastSync:"2024-01-15T14:45:00Z"},{id:"4",name:"Google Places",type:"api",provider:"Google",description:"Location data and place information",status:"error",enabled:!1,config:{baseUrl:"https://maps.googleapis.com/maps/api/place",apiKey:"AIza...",timeout:8e3,retryCount:2,rateLimitPerMinute:50},metrics:{totalRequests:1250,successRate:45.2,averageResponseTime:2100,lastRequest:"2024-01-15T13:20:00Z",uptime:78.3},createdAt:"2024-01-10T00:00:00Z",updatedAt:"2024-01-15T13:20:00Z",lastSync:"2024-01-15T13:20:00Z"},{id:"5",name:"Slack Notifications",type:"webhook",provider:"Slack",description:"Team notifications and alerts",status:"active",enabled:!0,config:{webhookUrl:"https://hooks.slack.com/services/...",timeout:3e3,retryCount:2,rateLimitPerMinute:1},metrics:{totalRequests:450,successRate:100,averageResponseTime:320,lastRequest:"2024-01-15T15:00:00Z",uptime:100},createdAt:"2024-01-08T00:00:00Z",updatedAt:"2024-01-15T08:00:00Z",lastSync:"2024-01-15T15:00:00Z"}],Ui=[{id:"1",name:"Payment Webhook",url:"https://api.hotel.com/webhooks/payment",method:"POST",events:["payment.completed","payment.failed","payment.refunded"],active:!0,secret:"whsec_...",headers:{"Content-Type":"application/json","X-Webhook-Source":"hotel-system"},retryPolicy:{enabled:!0,maxRetries:3,retryDelay:1e3},logs:[{id:"1",timestamp:"2024-01-15T15:30:00Z",event:"payment.completed",statusCode:200,responseTime:245,success:!0},{id:"2",timestamp:"2024-01-15T15:25:00Z",event:"payment.failed",statusCode:500,responseTime:1e3,success:!1,error:"Internal server error"}]},{id:"2",name:"Booking Webhook",url:"https://api.hotel.com/webhooks/booking",method:"POST",events:["booking.created","booking.updated","booking.cancelled"],active:!0,secret:"whsec_...",headers:{"Content-Type":"application/json"},retryPolicy:{enabled:!0,maxRetries:5,retryDelay:2e3},logs:[]}],Wi=[{id:"1",name:"OpenAI Production",service:"OpenAI",type:"api_key",environment:"production",credentials:{apiKey:"sk-..."},lastUsed:"2024-01-15T15:30:00Z",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-15T10:00:00Z"},{id:"2",name:"Stripe Live",service:"Stripe",type:"api_key",environment:"production",credentials:{apiKey:"sk_live_..."},lastUsed:"2024-01-15T15:25:00Z",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-15T12:00:00Z"},{id:"3",name:"Google OAuth",service:"Google",type:"oauth",environment:"production",credentials:{clientId:"123456789-...",clientSecret:"GOCSPX-...",accessToken:"ya29.a0A...",refreshToken:"1//0G..."},expiresAt:"2024-01-16T15:30:00Z",lastUsed:"2024-01-15T13:20:00Z",createdAt:"2024-01-10T00:00:00Z",updatedAt:"2024-01-15T13:20:00Z"}],r4=s=>{switch(s){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"error":return"bg-red-100 text-red-800";case"testing":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},Cc=s=>{switch(s){case"api":return e.jsx(lt,{className:"h-4 w-4"});case"webhook":return e.jsx(Sh,{className:"h-4 w-4"});case"database":return e.jsx(Hs,{className:"h-4 w-4"});case"payment":return e.jsx(on,{className:"h-4 w-4"});case"notification":return e.jsx(fa,{className:"h-4 w-4"});case"ai":return e.jsx(ol,{className:"h-4 w-4"});case"analytics":return e.jsx(Tt,{className:"h-4 w-4"});case"security":return e.jsx(ke,{className:"h-4 w-4"});default:return e.jsx(fh,{className:"h-4 w-4"})}},Ln=s=>new Date(s).toLocaleString("vi-VN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),l4=s=>new Intl.NumberFormat("vi-VN").format(s),o4=({integration:s,isOpen:t,onClose:n,onSave:a})=>{const[i,r]=h.useState(s),[l,o]=h.useState(!1),[c,d]=h.useState(!1);h.useEffect(()=>{r(s)},[s]);const m=async()=>{if(i){o(!0);try{await new Promise(x=>setTimeout(x,1e3)),a(i),n()}catch(x){console.error("Failed to save integration:",x)}finally{o(!1)}}},u=async()=>{o(!0);try{await new Promise(x=>setTimeout(x,2e3)),alert("Integration test successful!")}catch{alert("Integration test failed!")}finally{o(!1)}};return!s||!i?null:e.jsx(Is,{open:t,onOpenChange:n,children:e.jsxs(vs,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(js,{children:[e.jsxs(ys,{className:"flex items-center gap-2",children:[Cc(s.type),s.name]}),e.jsx(Ms,{children:"Cấu hình chi tiết cho integration"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"name",children:"Tên"}),e.jsx(K,{id:"name",value:i.name,onChange:x=>r({...i,name:x.target.value})})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"provider",children:"Provider"}),e.jsx(K,{id:"provider",value:i.provider,onChange:x=>r({...i,provider:x.target.value})})]})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"description",children:"Mô tả"}),e.jsx(qe,{id:"description",value:i.description,onChange:x=>r({...i,description:x.target.value}),rows:2})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"baseUrl",children:"Base URL"}),e.jsx(K,{id:"baseUrl",value:i.config.baseUrl||"",onChange:x=>r({...i,config:{...i.config,baseUrl:x.target.value}})})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"timeout",children:"Timeout (ms)"}),e.jsx(K,{id:"timeout",type:"number",value:i.config.timeout||"",onChange:x=>r({...i,config:{...i.config,timeout:parseInt(x.target.value)}})})]})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"apiKey",children:"API Key"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(K,{id:"apiKey",type:c?"text":"password",value:i.config.apiKey||"",onChange:x=>r({...i,config:{...i.config,apiKey:x.target.value}})}),e.jsx(I,{type:"button",variant:"outline",size:"sm",onClick:()=>d(!c),children:c?e.jsx(al,{className:"h-4 w-4"}):e.jsx(As,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"retryCount",children:"Retry Count"}),e.jsx(K,{id:"retryCount",type:"number",value:i.config.retryCount||"",onChange:x=>r({...i,config:{...i.config,retryCount:parseInt(x.target.value)}})})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"rateLimit",children:"Rate Limit/min"}),e.jsx(K,{id:"rateLimit",type:"number",value:i.config.rateLimitPerMinute||"",onChange:x=>r({...i,config:{...i.config,rateLimitPerMinute:parseInt(x.target.value)}})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(k,{children:"Kích hoạt"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Bật/tắt integration này"})]}),e.jsx(ue,{checked:i.enabled,onCheckedChange:x=>r({...i,enabled:x})})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsxs(I,{variant:"outline",onClick:u,disabled:l,children:[e.jsx(Be,{className:"h-4 w-4 mr-2"}),"Test Connection"]}),e.jsx(I,{onClick:m,disabled:l,children:l?e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}),"Đang lưu..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Lưu"]})})]})]})]})})},c4=({isOpen:s,onClose:t,onAdd:n})=>{const[a,i]=h.useState({name:"",type:"api",provider:"",description:"",baseUrl:"",apiKey:"",timeout:3e4,retryCount:3,rateLimitPerMinute:100}),[r,l]=h.useState(!1),o=async c=>{c.preventDefault(),l(!0);try{await new Promise(m=>setTimeout(m,1e3));const d={id:Date.now().toString(),name:a.name,type:a.type,provider:a.provider,description:a.description,status:"inactive",enabled:!1,config:{baseUrl:a.baseUrl,apiKey:a.apiKey,timeout:a.timeout,retryCount:a.retryCount,rateLimitPerMinute:a.rateLimitPerMinute},metrics:{totalRequests:0,successRate:0,averageResponseTime:0,lastRequest:"",uptime:0},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),lastSync:""};n(d),t(),i({name:"",type:"api",provider:"",description:"",baseUrl:"",apiKey:"",timeout:3e4,retryCount:3,rateLimitPerMinute:100})}catch(d){console.error("Failed to add integration:",d)}finally{l(!1)}};return e.jsx(Is,{open:s,onOpenChange:t,children:e.jsxs(vs,{className:"max-w-2xl",children:[e.jsxs(js,{children:[e.jsx(ys,{children:"Thêm Integration mới"}),e.jsx(Ms,{children:"Tạo integration mới với third-party service"})]}),e.jsxs("form",{onSubmit:o,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"name",children:"Tên *"}),e.jsx(K,{id:"name",value:a.name,onChange:c=>i({...a,name:c.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"type",children:"Loại *"}),e.jsxs(ye,{value:a.type,onValueChange:c=>i({...a,type:c}),children:[e.jsx(ve,{children:e.jsx(be,{})}),e.jsxs(je,{children:[e.jsx(q,{value:"api",children:"API"}),e.jsx(q,{value:"webhook",children:"Webhook"}),e.jsx(q,{value:"database",children:"Database"}),e.jsx(q,{value:"payment",children:"Payment"}),e.jsx(q,{value:"notification",children:"Notification"}),e.jsx(q,{value:"ai",children:"AI"}),e.jsx(q,{value:"analytics",children:"Analytics"}),e.jsx(q,{value:"security",children:"Security"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"provider",children:"Provider *"}),e.jsx(K,{id:"provider",value:a.provider,onChange:c=>i({...a,provider:c.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"description",children:"Mô tả"}),e.jsx(qe,{id:"description",value:a.description,onChange:c=>i({...a,description:c.target.value}),rows:2})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"baseUrl",children:"Base URL *"}),e.jsx(K,{id:"baseUrl",value:a.baseUrl,onChange:c=>i({...a,baseUrl:c.target.value}),placeholder:"https://api.example.com",required:!0})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"apiKey",children:"API Key *"}),e.jsx(K,{id:"apiKey",type:"password",value:a.apiKey,onChange:c=>i({...a,apiKey:c.target.value}),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(k,{htmlFor:"timeout",children:"Timeout (ms)"}),e.jsx(K,{id:"timeout",type:"number",value:a.timeout,onChange:c=>i({...a,timeout:parseInt(c.target.value)})})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"retryCount",children:"Retry Count"}),e.jsx(K,{id:"retryCount",type:"number",value:a.retryCount,onChange:c=>i({...a,retryCount:parseInt(c.target.value)})})]}),e.jsxs("div",{children:[e.jsx(k,{htmlFor:"rateLimit",children:"Rate Limit/min"}),e.jsx(K,{id:"rateLimit",type:"number",value:a.rateLimitPerMinute,onChange:c=>i({...a,rateLimitPerMinute:parseInt(c.target.value)})})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(I,{type:"button",variant:"outline",onClick:t,children:"Hủy"}),e.jsx(I,{type:"submit",disabled:r,children:r?e.jsxs(e.Fragment,{children:[e.jsx(me,{className:"h-4 w-4 mr-2 animate-spin"}),"Đang tạo..."]}):e.jsxs(e.Fragment,{children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"Tạo Integration"]})})]})]})]})})},d4=()=>{const{user:s}=De(),[t,n]=h.useState(Gi),[a,i]=h.useState(Ui),[r,l]=h.useState(Wi),[o,c]=h.useState(!1),[d,m]=h.useState(null),[u,x]=h.useState(!1),[f,p]=h.useState(!1),[g,y]=h.useState("all"),[j,v]=h.useState("all"),[b,w]=h.useState(""),C=t.filter(N=>{const F=g==="all"||N.status===g,R=j==="all"||N.type===j,O=!b||N.name.toLowerCase().includes(b.toLowerCase())||N.provider.toLowerCase().includes(b.toLowerCase());return F&&R&&O}),T=N=>{m(N),x(!0)},B=N=>{n(F=>F.map(R=>R.id===N.id?N:R)),m(null)},z=N=>{n(F=>[...F,N])},P=N=>{confirm("Bạn có chắc muốn xóa integration này?")&&n(F=>F.filter(R=>R.id!==N))},E=N=>{n(F=>F.map(R=>R.id===N?{...R,enabled:!R.enabled,status:R.enabled?"inactive":"active"}:R))},S=async()=>{c(!0);try{await new Promise(N=>setTimeout(N,1e3)),n(Gi),i(Ui),l(Wi)}catch(N){console.error("Failed to fetch integrations:",N)}finally{c(!1)}};return h.useEffect(()=>{S()},[]),o?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(me,{className:"h-8 w-8 animate-spin text-purple-600"}),e.jsx("span",{className:"ml-2",children:"Đang tải integrations..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Integrations"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Quản lý tích hợp với các dịch vụ bên thứ ba"})]}),e.jsxs(I,{onClick:()=>p(!0),children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"Thêm Integration"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Integrations"}),e.jsx("p",{className:"text-2xl font-bold",children:t.length})]}),e.jsx(ba,{className:"h-8 w-8 text-blue-500"})]})})}),e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.filter(N=>N.status==="active").length})]}),e.jsx(Be,{className:"h-8 w-8 text-green-500"})]})})}),e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Errors"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:t.filter(N=>N.status==="error").length})]}),e.jsx(Et,{className:"h-8 w-8 text-red-500"})]})})}),e.jsx(M,{children:e.jsx(L,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Success Rate"}),e.jsxs("p",{className:"text-2xl font-bold",children:[(t.reduce((N,F)=>N+F.metrics.successRate,0)/t.length).toFixed(1),"%"]})]}),e.jsx(ze,{className:"h-8 w-8 text-blue-500"})]})})})]}),e.jsxs(rs,{defaultValue:"integrations",className:"space-y-6",children:[e.jsxs(es,{className:"grid w-full grid-cols-3",children:[e.jsx(oe,{value:"integrations",children:"Integrations"}),e.jsx(oe,{value:"webhooks",children:"Webhooks"}),e.jsx(oe,{value:"credentials",children:"Credentials"})]}),e.jsxs(ce,{value:"integrations",className:"space-y-4",children:[e.jsxs(M,{children:[e.jsx(V,{children:e.jsx(G,{children:"Filters"})}),e.jsx(L,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ts,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(K,{placeholder:"Tìm kiếm integrations...",value:b,onChange:N=>w(N.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ye,{value:g,onValueChange:y,children:[e.jsx(ve,{className:"w-[150px]",children:e.jsx(be,{})}),e.jsxs(je,{children:[e.jsx(q,{value:"all",children:"All Status"}),e.jsx(q,{value:"active",children:"Active"}),e.jsx(q,{value:"inactive",children:"Inactive"}),e.jsx(q,{value:"error",children:"Error"}),e.jsx(q,{value:"testing",children:"Testing"})]})]}),e.jsxs(ye,{value:j,onValueChange:v,children:[e.jsx(ve,{className:"w-[150px]",children:e.jsx(be,{})}),e.jsxs(je,{children:[e.jsx(q,{value:"all",children:"All Types"}),e.jsx(q,{value:"api",children:"API"}),e.jsx(q,{value:"webhook",children:"Webhook"}),e.jsx(q,{value:"payment",children:"Payment"}),e.jsx(q,{value:"notification",children:"Notification"}),e.jsx(q,{value:"ai",children:"AI"})]})]})]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:C.map(N=>e.jsxs(M,{children:[e.jsxs(V,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[Cc(N.type),e.jsx(G,{className:"text-lg",children:N.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:r4(N.status),children:N.status.toUpperCase()}),e.jsx(ue,{checked:N.enabled,onCheckedChange:()=>E(N.id)})]})]}),e.jsx(J,{children:N.description})]}),e.jsxs(L,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Provider:"}),e.jsx("span",{className:"font-medium",children:N.provider})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Success Rate:"}),e.jsxs("span",{className:"font-medium",children:[N.metrics.successRate,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Requests:"}),e.jsx("span",{className:"font-medium",children:l4(N.metrics.totalRequests)})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Avg Response:"}),e.jsxs("span",{className:"font-medium",children:[N.metrics.averageResponseTime,"ms"]})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Uptime:"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(hs,{value:N.metrics.uptime,className:"h-2"}),e.jsxs("span",{className:"font-medium",children:[N.metrics.uptime,"%"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Last sync: ",N.lastSync?Ln(N.lastSync):"Never"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>T(N),children:e.jsx(Fs,{className:"h-4 w-4"})}),e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>P(N.id),children:e.jsx(zs,{className:"h-4 w-4"})})]})]})]})]},N.id))})]}),e.jsx(ce,{value:"webhooks",className:"space-y-4",children:e.jsxs(M,{children:[e.jsx(V,{children:e.jsxs(G,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Webhook Endpoints"}),e.jsxs(I,{size:"sm",children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"Add Webhook"]})]})}),e.jsx(L,{children:e.jsxs(xs,{children:[e.jsx(ps,{children:e.jsxs(Le,{children:[e.jsx(X,{children:"Name"}),e.jsx(X,{children:"URL"}),e.jsx(X,{children:"Method"}),e.jsx(X,{children:"Events"}),e.jsx(X,{children:"Status"}),e.jsx(X,{children:"Actions"})]})}),e.jsx(fs,{children:a.map(N=>e.jsxs(Le,{children:[e.jsx(Y,{className:"font-medium",children:N.name}),e.jsx(Y,{className:"font-mono text-sm",children:N.url}),e.jsx(Y,{children:e.jsx(Z,{variant:"outline",children:N.method})}),e.jsx(Y,{children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[N.events.slice(0,2).map((F,R)=>e.jsx(Z,{variant:"secondary",className:"text-xs",children:F},R)),N.events.length>2&&e.jsxs(Z,{variant:"secondary",className:"text-xs",children:["+",N.events.length-2]})]})}),e.jsx(Y,{children:e.jsx(Z,{className:N.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:N.active?"Active":"Inactive"})}),e.jsx(Y,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{variant:"ghost",size:"sm",children:e.jsx(Fs,{className:"h-4 w-4"})}),e.jsx(I,{variant:"ghost",size:"sm",children:e.jsx(As,{className:"h-4 w-4"})}),e.jsx(I,{variant:"ghost",size:"sm",children:e.jsx(zs,{className:"h-4 w-4"})})]})})]},N.id))})]})})]})}),e.jsx(ce,{value:"credentials",className:"space-y-4",children:e.jsxs(M,{children:[e.jsx(V,{children:e.jsxs(G,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"API Credentials"}),e.jsxs(I,{size:"sm",children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"Add Credential"]})]})}),e.jsx(L,{children:e.jsxs(xs,{children:[e.jsx(ps,{children:e.jsxs(Le,{children:[e.jsx(X,{children:"Name"}),e.jsx(X,{children:"Service"}),e.jsx(X,{children:"Type"}),e.jsx(X,{children:"Environment"}),e.jsx(X,{children:"Expires"}),e.jsx(X,{children:"Last Used"}),e.jsx(X,{children:"Actions"})]})}),e.jsx(fs,{children:r.map(N=>e.jsxs(Le,{children:[e.jsx(Y,{className:"font-medium",children:N.name}),e.jsx(Y,{children:N.service}),e.jsx(Y,{children:e.jsx(Z,{variant:"outline",children:N.type})}),e.jsx(Y,{children:e.jsx(Z,{className:$(N.environment==="production"?"bg-red-100 text-red-800":N.environment==="staging"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:N.environment})}),e.jsx(Y,{children:N.expiresAt?Ln(N.expiresAt):"Never"}),e.jsx(Y,{children:N.lastUsed?Ln(N.lastUsed):"Never"}),e.jsx(Y,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{variant:"ghost",size:"sm",children:e.jsx(Fs,{className:"h-4 w-4"})}),e.jsx(I,{variant:"ghost",size:"sm",children:e.jsx(me,{className:"h-4 w-4"})}),e.jsx(I,{variant:"ghost",size:"sm",children:e.jsx(zs,{className:"h-4 w-4"})})]})})]},N.id))})]})})]})})]}),e.jsx(o4,{integration:d,isOpen:u,onClose:()=>x(!1),onSave:B}),e.jsx(c4,{isOpen:f,onClose:()=>p(!1),onAdd:z})]})},Pe=({children:s,requireAuth:t=!0,requiredRole:n,redirectTo:a="/login"})=>{const{user:i,isAuthenticated:r,isLoading:l}=De(),[,o]=Us();return h.useEffect(()=>{if(!l&&t&&!r){o(a);return}},[r,l,i,t,n,a,o]),l?e.jsx(Zn,{}):t&&!r?null:e.jsx(e.Fragment,{children:s})},h4=xe.lazy(()=>Nr(()=>import("./CallHistory-tct5vThe.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),u4=xe.lazy(()=>Nr(()=>import("./CallDetails-B-l6F9vM.js"),__vite__mapDeps([7,1,2,3,4,5,6]))),Zn=()=>e.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Đang tải..."})]})}),m4=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"container mx-auto",children:e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Kiểm tra Tính năng Email"}),e.jsx(_e,{href:"/",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90",children:"Quay lại Trang Chính"})]})})}),x4=()=>{const{login:s,isLoading:t}=De(),[,n]=Us(),[a,i]=h.useState(""),[r,l]=h.useState(""),[o,c]=h.useState(""),[d,m]=h.useState(!1),u=async x=>{x.preventDefault(),c("");try{await s(a,r),n("/unified-dashboard")}catch(f){c(f.message||"Đăng nhập thất bại")}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Đăng nhập Dashboard"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Hoặc"," ",e.jsx(_e,{href:"/",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"quay lại trang chính"})]})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[e.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[e.jsx("div",{children:e.jsx("input",{id:"email",name:"email",type:"text",autoComplete:"username",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Tên đăng nhập hoặc email",value:a,onChange:x=>i(x.target.value)})}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",name:"password",type:d?"text":"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Mật khẩu",value:r,onChange:x=>l(x.target.value)}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>m(!d),children:d?e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):e.jsxs("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),o&&e.jsx("div",{className:"text-red-600 text-sm text-center",children:o}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:t,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:t?"Đang đăng nhập...":"Đăng nhập"})})]})]})})},p4=()=>e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Không có quyền truy cập"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Bạn không có quyền truy cập vào trang này."}),e.jsx(_e,{href:"/",className:"text-indigo-600 hover:text-indigo-500",children:"Quay lại trang chính"})]})});function f4(){const s=Nl(),{isAuthenticated:t}=De();return console.log("[DEBUG] Router render",{tenantInfo:s,isAuthenticated:t}),s?e.jsx(h.Suspense,{fallback:e.jsx(Zn,{}),children:e.jsxs($d,{children:[e.jsx(fe,{path:"/",component:dt}),e.jsx(fe,{path:"/interface1",component:dt}),e.jsx(fe,{path:"/interface2",component:dt}),e.jsx(fe,{path:"/interface3",component:dt}),e.jsx(fe,{path:"/interface4",component:dt}),e.jsx(fe,{path:"/call-history",component:h4}),e.jsx(fe,{path:"/call-details/:callId",component:u4}),e.jsx(fe,{path:"/email-test",component:m4}),e.jsx(fe,{path:"/staff",component:Lw}),e.jsx(fe,{path:"/staff/dashboard",component:Ql}),e.jsx(fe,{path:"/analytics",component:Dw}),e.jsx(fe,{path:"/login",component:x4}),e.jsx(fe,{path:"/unauthorized",component:p4}),e.jsx(fe,{path:"/unified-dashboard",children:e.jsx(Pe,{requireAuth:!0,children:e.jsx(ts,{children:e.jsx(uN,{})})})}),e.jsx(fe,{path:"/unified-dashboard/requests",children:e.jsx(Pe,{requireAuth:!0,children:e.jsx(ts,{children:e.jsx(EN,{})})})}),e.jsx(fe,{path:"/unified-dashboard/analytics",children:e.jsx(Pe,{requireAuth:!0,children:e.jsx(ts,{children:e.jsx(AN,{})})})}),e.jsx(fe,{path:"/unified-dashboard/staff-management",children:e.jsx(Pe,{requireAuth:!0,children:e.jsx(ts,{children:e.jsx(LN,{})})})}),e.jsx(fe,{path:"/unified-dashboard/system-monitoring",children:e.jsx(Pe,{requireAuth:!0,children:e.jsx(ts,{children:e.jsx(zN,{})})})}),e.jsx(fe,{path:"/unified-dashboard/settings",children:e.jsx(Pe,{requireAuth:!0,children:e.jsx(ts,{children:e.jsx(VN,{})})})}),e.jsx(fe,{path:"/unified-dashboard/guest-management",children:e.jsx(Pe,{requireAuth:!0,children:e.jsx(ts,{children:e.jsx(XN,{})})})}),e.jsx(fe,{path:"/unified-dashboard/security",children:e.jsx(Pe,{requireAuth:!0,children:e.jsx(ts,{children:e.jsx(n4,{})})})}),e.jsx(fe,{path:"/unified-dashboard/logs",children:e.jsx(Pe,{requireAuth:!0,children:e.jsx(ts,{children:e.jsx(i4,{})})})}),e.jsx(fe,{path:"/unified-dashboard/integrations",children:e.jsx(Pe,{requireAuth:!0,children:e.jsx(ts,{children:e.jsx(d4,{})})})}),e.jsx(fe,{path:"/dashboard",children:e.jsx(Pe,{requireAuth:!0,children:e.jsx($s,{children:e.jsx(h2,{})})})}),e.jsx(fe,{path:"/dashboard/setup",children:e.jsx(Pe,{requireAuth:!0,children:e.jsx($s,{children:e.jsx(M2,{})})})}),e.jsx(fe,{path:"/dashboard/assistant",children:e.jsx(Pe,{requireAuth:!0,children:e.jsx($s,{children:e.jsx(G2,{})})})}),e.jsx(fe,{path:"/dashboard/analytics",children:e.jsx(Pe,{requireAuth:!0,children:e.jsx($s,{children:e.jsx(Y2,{})})})}),e.jsx(fe,{path:"/dashboard/settings",children:e.jsx(Pe,{requireAuth:!0,children:e.jsx($s,{children:e.jsx(nN,{})})})}),e.jsx(fe,{path:"/dashboard/billing",children:e.jsx(Pe,{requireAuth:!0,children:e.jsx($s,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Thanh toán & Đăng ký"}),e.jsx("p",{className:"text-gray-600",children:"Trang quản lý thanh toán đang được phát triển..."})]})})})}),e.jsx(fe,{path:"/dashboard/team",children:e.jsx(Pe,{requireAuth:!0,requiredRole:"admin",children:e.jsx($s,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Quản lý Nhóm"}),e.jsx("p",{className:"text-gray-600",children:"Trang quản lý nhóm đang được phát triển..."})]})})})}),e.jsx(fe,{component:Tw})]})}):e.jsx(Zn,{})}function g4(){return console.log("[DEBUG] AppContent render"),Ew(),e.jsxs(ld,{children:[e.jsx(f4,{}),e.jsx(Th,{})]})}function v4(){return console.log("[DEBUG] App render"),e.jsx(ed,{children:e.jsx(au,{children:e.jsx(ww,{children:e.jsx(ou,{children:e.jsx(g4,{})})})})})}wr(document.getElementById("root")).render(e.jsx(v4,{}));export{_e as L,hn as S,ci as a,Lh as b,Kh as c,Oh as d,Re as e,fl as f,_4 as g,un as i,Je as n,Hh as p,$h as r,C4 as s,Dh as t,Md as u};
