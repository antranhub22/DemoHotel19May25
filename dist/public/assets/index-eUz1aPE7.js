const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CallHistory-CG8MQBdv.js","assets/react-BlJs-Rj_.js","assets/@daily-co-CRt2XSsO.js","assets/@tanstack-H40tjzcj.js","assets/wouter-DEv3FHN2.js","assets/regexparam-CPXopyEH.js","assets/use-sync-external-store-T8uco2Ip.js","assets/CallDetails-DsDkAVro.js"])))=>i.map(i=>d[i]);
import{r as i,j as e,R as Be}from"./react-BlJs-Rj_.js";import{R as Et,c as yn}from"./react-dom-qFx4IFJ8.js";import{L as Re,u as ct,S as vn,R as oe}from"./wouter-DEv3FHN2.js";import{V as ss,R as ns,A as as,C as rs,T as is,D as os,P as Nn,S as wn,a as ls,I as cs,F as ds,b as ms,c as hs,d as _n,e as us,f as xs,g as gs,h as ps,i as fs,L as bs,j as js,k as kn,l as Sn,m as ys,n as Cn,o as vs,p as Ns,q as $n,r as ws,s as _s,t as Tn,u as ks,v as In,w as Ss,x as Cs,y as An,z as Dn,B as $s,E as Rn,G as Ln,H as Ts,J as Mn,K as Is,M as Pn,N as As,O as Ds,Q as Rs,U as Fn}from"./@radix-ui-BzTdPly_.js";import{c as Je}from"./class-variance-authority-Dp3B9jqt.js";import{c as En}from"./clsx-B-dksMZM.js";import{t as On}from"./tailwind-merge-D696Ktp4.js";import{X as Ce,C as he,I as Hn,H as zn,R as dt,L as Le,M as Ls,P as We,a as Ms,b as De,D as Bn,c as ze,d as qn,B as Vn,e as Wn,f as qe,g as Un,S as Ve,h as Gn,i as Ps,j as Kn,k as Xn,l as Yn,U as mt,m as Ze,T as ht,G as ut,A as xt,n as Jn,o as Ue,p as Lt,q as Pe,r as Zn,s as Ot,t as It,u as Fs,E as Qn,v as ea,W as ta,w as sa,V as Ht,x as na,y as Qe,z as zt,F as aa,J as Es,K as ra,N as ia,O as oa,Q as Os,Y as la}from"./lucide-react-xNylnf-Z.js";import{_ as ca}from"./@vapi-ai-DrvmIiYL.js";import{Q as da,a as ma}from"./@tanstack-H40tjzcj.js";import{S as ha,N as ua,P as xa,A as ga,a as pa}from"./swiper-CfFrfE8b.js";import{F as fa,a as Hs,b as ba}from"./react-icons-D-KLi9l9.js";import{u as zs}from"./react-router-DvHbwIsR.js";import{B as ja}from"./react-router-dom-BMXKYxTf.js";import{R as _t,P as ya,a as va,C as Na,T as kt,B as wa,b as Bt,X as qt,Y as Vt,L as Wt,c as _a,d as ka,e as Sa}from"./recharts--MJSPD-2.js";import"./@daily-co-CRt2XSsO.js";import"./scheduler-DYLXRpC5.js";import"./regexparam-CPXopyEH.js";import"./use-sync-external-store-T8uco2Ip.js";import"./aria-hidden-DvXkyWUv.js";import"./react-remove-scroll-BtL_ZE21.js";import"./tslib-CDuPK5Eb.js";import"./react-remove-scroll-bar-BrVopqW4.js";import"./react-style-singleton-QOKzqUsk.js";import"./get-nonce-C-Z93AgS.js";import"./use-sidecar-1JKJ7J1d.js";import"./use-callback-ref-5JKzev4p.js";import"./@floating-ui-cGkqCjD2.js";import"./events-CXH2uRM3.js";import"./@remix-run-DBo92Irb.js";import"./lodash-86XxYiBf.js";import"./react-smooth-Cmz7w04I.js";import"./prop-types-CwuqRrCR.js";import"./fast-equals-BIyco3rD.js";import"./tiny-invariant-BaFNuDhB.js";import"./d3-shape-nwul2LtV.js";import"./d3-path-CimkQT29.js";import"./victory-vendor-eFgrrWDw.js";import"./d3-scale-DCNNTN8k.js";import"./internmap-BkD7Hj8s.js";import"./d3-array-g_qRI3rN.js";import"./d3-time-format-j2_s_XYn.js";import"./d3-time-g9mLz1m7.js";import"./d3-interpolate-CvRPKVI0.js";import"./d3-color-9lF95FHy.js";import"./d3-format-CzD4bSOQ.js";import"./recharts-scale-CEDTliZZ.js";import"./decimal.js-light-ZKFLnszB.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();const Ca="modulepreload",$a=function(t){return"/"+t},Ut={},Bs=function(s,n,a){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),c=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));o=Promise.allSettled(n.map(m=>{if(m=$a(m),m in Ut)return;Ut[m]=!0;const d=m.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${h}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":Ca,d||(p.as="script"),p.crossOrigin="",p.href=m,c&&p.setAttribute("nonce",c),document.head.appendChild(p),d)return new Promise((_,k)=>{p.addEventListener("load",_),p.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(r){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=r,window.dispatchEvent(c),!c.defaultPrevented)throw r}return o.then(r=>{for(const c of r||[])c.status==="rejected"&&l(c.reason);return s().catch(l)})};class Ta extends i.Component{constructor(s){super(s),this.state={hasError:!1,error:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,n){console.error("Uncaught error in component tree:",s,n)}render(){return this.state.hasError?e.jsx("div",{className:"flex items-center justify-center h-screen p-4 bg-gray-50",children:e.jsxs("div",{className:"max-w-md text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-2",children:"Something went wrong."}),e.jsx("p",{className:"text-gray-700 mb-4",children:"An unexpected error occurred. Please try refreshing the page or contact support if the problem persists."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Reload Page"})]})}):this.props.children}}const Ia=1,Aa=1e6;let St=0;function Da(){return St=(St+1)%Number.MAX_SAFE_INTEGER,St.toString()}const Ct=new Map,Gt=t=>{if(Ct.has(t))return;const s=setTimeout(()=>{Ct.delete(t),Ye({type:"REMOVE_TOAST",toastId:t})},Aa);Ct.set(t,s)},Ra=(t,s)=>{switch(s.type){case"ADD_TOAST":return{...t,toasts:[s.toast,...t.toasts].slice(0,Ia)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===s.toast.id?{...n,...s.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=s;return n?Gt(n):t.toasts.forEach(a=>{Gt(a.id)}),{...t,toasts:t.toasts.map(a=>a.id===n||n===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==s.toastId)}}},rt=[];let it={toasts:[]};function Ye(t){it=Ra(it,t),rt.forEach(s=>{s(it)})}function La({...t}){const s=Da(),n=o=>Ye({type:"UPDATE_TOAST",toast:{...o,id:s}}),a=()=>Ye({type:"DISMISS_TOAST",toastId:s});return Ye({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:o=>{o||a()}}}),{id:s,dismiss:a,update:n}}function Ma(){const[t,s]=i.useState(it);return i.useEffect(()=>(rt.push(s),()=>{const n=rt.indexOf(s);n>-1&&rt.splice(n,1)}),[t]),{...t,toast:La,dismiss:n=>Ye({type:"DISMISS_TOAST",toastId:n})}}function M(...t){return On(En(t))}const Pa=Nn,qs=i.forwardRef(({className:t,...s},n)=>e.jsx(ss,{ref:n,className:M("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...s}));qs.displayName=ss.displayName;const Fa=Je("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-dark",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Vs=i.forwardRef(({className:t,variant:s,...n},a)=>e.jsx(ns,{ref:a,className:M(Fa({variant:s}),t),...n}));Vs.displayName=ns.displayName;const Ea=i.forwardRef(({className:t,...s},n)=>e.jsx(as,{ref:n,className:M("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...s}));Ea.displayName=as.displayName;const Ws=i.forwardRef(({className:t,...s},n)=>e.jsx(rs,{ref:n,className:M("absolute right-2 top-2 rounded-md p-1 text-dark/50 opacity-0 transition-opacity hover:text-dark focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...s,children:e.jsx(Ce,{className:"h-4 w-4"})}));Ws.displayName=rs.displayName;const Us=i.forwardRef(({className:t,...s},n)=>e.jsx(is,{ref:n,className:M("text-sm font-semibold",t),...s}));Us.displayName=is.displayName;const Gs=i.forwardRef(({className:t,...s},n)=>e.jsx(os,{ref:n,className:M("text-sm opacity-90",t),...s}));Gs.displayName=os.displayName;function Oa(){const{toasts:t}=Ma();return e.jsxs(Pa,{children:[t.map(function({id:s,title:n,description:a,action:o,...l}){return e.jsxs(Vs,{...l,children:[e.jsxs("div",{className:"grid gap-1",children:[n&&e.jsx(Us,{children:n}),a&&e.jsx(Gs,{children:a})]}),o,e.jsx(Ws,{})]},s)}),e.jsx(qs,{})]})}const Ha=!1;let pe=null;const Ks=async t=>{try{return pe||(pe=new ca(t),pe.on("call-start",()=>{console.log("Call started")}),pe.on("call-end",()=>{console.log("Call ended")}),pe.on("speech-start",()=>{console.log("Speech started")}),pe.on("speech-end",()=>{console.log("Speech ended")}),pe.on("volume-level",s=>{console.log(`Volume level: ${s}`)}),pe.on("message",s=>{console.log("Message received:",s)}),pe.on("error",s=>{console.error("Error:",s)}),pe)}catch(s){throw console.error("Failed to initialize Vapi:",s),s}},Xe=()=>pe,Xs=i.createContext(void 0),Mt=()=>{const t=i.useContext(Xs);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},za=({children:t})=>{const[s,n]=i.useState(null),[a,o]=i.useState(null),[l,r]=i.useState(!0),c=()=>typeof window>"u"?null:localStorage.getItem("auth_token")||localStorage.getItem("staff_token"),m=async()=>{if(l)return;r(!0);const b=c();if(!b){n(null),o(null),r(!1);return}try{const u=b.split(".");if(u.length===3){const y=JSON.parse(atob(u[1]));if(y.exp&&y.exp<Date.now()/1e3){localStorage.removeItem("auth_token"),localStorage.removeItem("staff_token"),n(null),o(null),r(!1);return}n({id:y.tenantId,name:y.username,email:y.username,tenantId:y.tenantId,role:y.role}),o({id:y.tenantId,hotelName:"Mi Nhon Hotel",subdomain:"minhonmuine",subscriptionPlan:"premium",subscriptionStatus:"active",features:{voiceCloning:!0,multiLocation:!0,whiteLabel:!0,advancedAnalytics:!0,apiAccess:!0},limits:{maxCalls:1e4,maxAssistants:10,maxLanguages:10,dataRetentionDays:365},usage:{totalCalls:0,currentMonth:0,remainingCalls:1e4}})}else localStorage.removeItem("auth_token"),localStorage.removeItem("staff_token"),n(null),o(null)}catch(u){console.error("Token validation failed:",u),localStorage.removeItem("auth_token"),localStorage.removeItem("staff_token"),n(null),o(null)}finally{r(!1)}},d=async(b,u)=>{r(!0);try{const y=await fetch("/api/staff/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:b,password:u}),credentials:"include"});if(y.ok){const S=await y.json();localStorage.setItem("auth_token",S.token),n({id:S.user.tenantId,name:S.user.username,email:S.user.username,tenantId:S.user.tenantId,role:S.user.role}),o({id:S.user.tenantId,hotelName:"Mi Nhon Hotel",subdomain:"minhonmuine",subscriptionPlan:"premium",subscriptionStatus:"active",features:{voiceCloning:!0,multiLocation:!0,whiteLabel:!0,advancedAnalytics:!0,apiAccess:!0},limits:{maxCalls:1e4,maxAssistants:10,maxLanguages:10,dataRetentionDays:365},usage:{totalCalls:0,currentMonth:0,remainingCalls:1e4}})}else{const S=await y.json();throw new Error(S.message||S.error||"ÄÄƒng nháº­p tháº¥t báº¡i")}}catch(y){throw y}finally{r(!1)}},h=()=>{localStorage.removeItem("auth_token"),localStorage.removeItem("staff_token"),n(null),o(null),window.location.href="/"},p=b=>!a||!a.features?!1:a.features[b]||!1,_=b=>{if(!s)return!1;const u={staff:1,manager:2,admin:3},y=u[s.role],S=u[b];return y>=S},k=b=>{if(!a||!a.limits||!a.usage)return!1;switch(b){case"calls":return a.usage.currentMonth<a.limits.maxCalls;case"assistants":return!0;case"languages":return!0;default:return!0}};i.useEffect(()=>{m()},[]),i.useEffect(()=>{if(!s)return;const b=setInterval(()=>{m()},10*60*1e3);return()=>clearInterval(b)},[s]);const x={user:s,tenant:a,isAuthenticated:!!s,isLoading:l,login:d,logout:h,refreshAuth:m,hasFeature:p,hasRole:_,isWithinLimits:k};return e.jsx(Xs.Provider,{value:x,children:t})},Ys=()=>{const[t,s]=i.useState(null);return i.useEffect(()=>{if(typeof window>"u")return;const n=window.location.hostname,a=n==="localhost"||n==="127.0.0.1",o=/^\d+\.\d+\.\d+\.\d+$/.test(n),l=n==="talk2go.online"||n==="www.talk2go.online";let r=null,c=!1,m;if(!a&&!o&&!l)if(n.includes(".talk2go.online")){const h=n.split(".");h.length>2&&(r=h[0],c=!0)}else m=n,c=!1;s({subdomain:r,isMiNhon:a||n==="minhotel.talk2go.online"||n==="talk2go.online"||n==="www.talk2go.online"||r==="minhon",isSubdomain:c,customDomain:m})},[]),t};async function Js(t){if(!t.ok){const s=await t.text()||t.statusText;throw new Error(`${t.status}: ${s}`)}}async function Fe({url:t,method:s="GET",body:n=void 0}){const a=await fetch(t,{method:s,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});await Js(a);try{return await a.json()}catch{return a}}const Ba=({on401:t})=>async({queryKey:s})=>{const n=await fetch(s[0],{credentials:"include"});return await Js(n),await n.json()},qa=new da({defaultOptions:{queries:{queryFn:Ba({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});class Zs{constructor(){this.baseUrl="/api/dashboard"}async researchHotel(s){try{return await Fe({url:`${this.baseUrl}/research-hotel`,method:"POST",body:s})}catch(n){throw console.error("Hotel research failed:",n),this.handleApiError(n)}}async generateAssistant(s){try{return await Fe({url:`${this.baseUrl}/generate-assistant`,method:"POST",body:s})}catch(n){throw console.error("Assistant generation failed:",n),this.handleApiError(n)}}async getHotelProfile(){try{return await Fe({url:`${this.baseUrl}/hotel-profile`,method:"GET"})}catch(s){throw console.error("Failed to fetch hotel profile:",s),this.handleApiError(s)}}async updateAssistantConfig(s){try{return await Fe({url:`${this.baseUrl}/assistant-config`,method:"PUT",body:s})}catch(n){throw console.error("Failed to update assistant config:",n),this.handleApiError(n)}}async getAnalytics(){try{return await Fe({url:`${this.baseUrl}/analytics`,method:"GET"})}catch(s){throw console.error("Failed to fetch analytics:",s),this.handleApiError(s)}}async getServiceHealth(){try{return await Fe({url:`${this.baseUrl}/service-health`,method:"GET"})}catch(s){throw console.error("Failed to fetch service health:",s),this.handleApiError(s)}}async resetAssistant(){try{return await Fe({url:`${this.baseUrl}/reset-assistant`,method:"POST"})}catch(s){throw console.error("Failed to reset assistant:",s),this.handleApiError(s)}}handleApiError(s){if(s.error)return s;const n=s.message||"An unexpected error occurred",a=n.match(/^(\d+):\s*(.+)$/);if(a){const[,o,l]=a,r=parseInt(o);try{const c=JSON.parse(l);return{error:c.error||l,details:c.details,feature:c.feature,currentPlan:c.currentPlan,upgradeRequired:c.upgradeRequired,setupRequired:c.setupRequired,assistantRequired:c.assistantRequired,requiresResearch:c.requiresResearch}}catch{return{error:l,details:{statusCode:r}}}}return{error:n,details:{originalError:s}}}}const Qs=new Zs,Va=t=>t&&typeof t.name=="string"&&typeof t.address=="string"&&Array.isArray(t.services)&&Array.isArray(t.amenities)&&t.policies&&Array.isArray(t.roomTypes),Wa=t=>t&&["professional","friendly","luxurious","casual","enthusiastic"].includes(t.personality)&&["formal","friendly","warm","energetic","calm"].includes(t.tone)&&Array.isArray(t.languages)&&t.languages.length>0&&["office","off","hotel-lobby"].includes(t.backgroundSound),Ua=[{value:"professional",label:"ChuyÃªn nghiá»‡p",description:"Lá»‹ch sá»±, trang trá»ng vÃ  Ä‘Ã¡ng tin cáº­y"},{value:"friendly",label:"ThÃ¢n thiá»‡n",description:"áº¤m Ã¡p, dá»… gáº§n vÃ  há»¯u Ã­ch"},{value:"luxurious",label:"Sang trá»ng",description:"Tinh táº¿, Ä‘áº³ng cáº¥p vÃ  chuyÃªn nghiá»‡p"},{value:"casual",label:"Thoáº£i mÃ¡i",description:"Tá»± nhiÃªn, gáº§n gÅ©i vÃ  dá»… chá»‹u"},{value:"enthusiastic",label:"Nhiá»‡t tÃ¬nh",description:"TÃ­ch cá»±c, nÄƒng Ä‘á»™ng vÃ  sÃ´i ná»•i"}],Ga=[{value:"formal",label:"Trang trá»ng",description:"Lá»‹ch sá»± vÃ  chuyÃªn nghiá»‡p"},{value:"friendly",label:"ThÃ¢n thiá»‡n",description:"áº¤m Ã¡p vÃ  dá»… gáº§n"},{value:"warm",label:"áº¤m Ã¡p",description:"Gáº§n gÅ©i vÃ  chÄƒm sÃ³c"},{value:"energetic",label:"NÄƒng Ä‘á»™ng",description:"TÃ­ch cá»±c vÃ  sÃ´i ná»•i"},{value:"calm",label:"Äiá»m tÄ©nh",description:"BÃ¬nh tÄ©nh vÃ  thÆ° thÃ¡i"}],Ka=[{value:"vi",label:"Tiáº¿ng Viá»‡t",flag:"ğŸ‡»ğŸ‡³"},{value:"en",label:"English",flag:"ğŸ‡ºğŸ‡¸"},{value:"fr",label:"FranÃ§ais",flag:"ğŸ‡«ğŸ‡·"},{value:"ko",label:"í•œêµ­ì–´",flag:"ğŸ‡°ğŸ‡·"},{value:"zh",label:"ä¸­æ–‡",flag:"ğŸ‡¨ğŸ‡³"},{value:"ru",label:"Ğ ÑƒÑÑĞºĞ¸Ğ¹",flag:"ğŸ‡·ğŸ‡º"}],Xa=[{value:"hotel-lobby",label:"Sáº£nh khÃ¡ch sáº¡n",description:"Nháº¡c ná»n nháº¹ nhÃ ng"},{value:"office",label:"VÄƒn phÃ²ng",description:"Ã‚m thanh vÄƒn phÃ²ng"},{value:"off",label:"Táº¯t Ã¢m thanh",description:"KhÃ´ng cÃ³ Ã¢m thanh ná»n"}],Kt={hotelName:"Mi Nhon Hotel Mui Ne",logoUrl:"/assets/references/images/minhon-logo.jpg",primaryColor:"#1e40af",headerText:"Mi Nhon Hotel Mui Ne",vapiPublicKey:"",vapiAssistantId:"",branding:{logo:"/assets/references/images/minhon-logo.jpg",colors:{primary:"#1e40af",secondary:"#d4af37",accent:"#f59e0b"},fonts:{primary:"Poppins",secondary:"Inter"}},features:{callHistory:!0,multiLanguage:!0,analytics:!0,customization:!0},services:[{type:"room_service",name:"Room Service",enabled:!0},{type:"concierge",name:"Concierge",enabled:!0},{type:"housekeeping",name:"Housekeeping",enabled:!0},{type:"maintenance",name:"Maintenance",enabled:!0},{type:"restaurant",name:"Restaurant",enabled:!0}],supportedLanguages:["en","fr","zh","ru","ko","vi"]},Ya=()=>{const[t,s]=i.useState(null),[n,a]=i.useState(!0),[o,l]=i.useState(null),r=Ys(),c=i.useCallback(async()=>{var m,d;try{if(a(!0),l(null),!r)return;if(r.isMiNhon){console.log("ğŸ¨ Loading Mi Nhon Hotel configuration (backward compatibility)"),s(Kt);return}if(r.subdomain||r.customDomain){console.log("ğŸ¨ Loading tenant configuration for:",r.subdomain||r.customDomain);try{const p=await new Zs().getHotelProfile();if(p.success&&p.profile){const _=p.profile,k={hotelName:_.researchData.name,logoUrl:"/assets/hotel-default-logo.png",primaryColor:"#1e40af",headerText:_.researchData.name,vapiPublicKey:"",vapiAssistantId:_.vapiAssistantId||"",branding:{logo:"/assets/hotel-default-logo.png",colors:{primary:"#1e40af",secondary:"#d4af37",accent:"#f59e0b"},fonts:{primary:"Poppins",secondary:"Inter"}},features:{callHistory:p.features.advancedAnalytics||!0,multiLanguage:((m=_.assistantConfig.languages)==null?void 0:m.length)>1||!0,analytics:p.features.advancedAnalytics||!0,customization:p.features.whiteLabel||!0},services:((d=_.researchData.services)==null?void 0:d.map(x=>({type:x.type,name:x.name,enabled:!0})))||[],supportedLanguages:_.assistantConfig.languages||["en"]};s(k)}else throw new Error("Hotel profile not found")}catch(h){console.error("âŒ Failed to load tenant configuration:",h);const p={hotelName:r.subdomain?`${r.subdomain.charAt(0).toUpperCase()}${r.subdomain.slice(1)} Hotel`:"Hotel",logoUrl:"/assets/hotel-default-logo.png",primaryColor:"#1e40af",headerText:r.subdomain?`${r.subdomain.charAt(0).toUpperCase()}${r.subdomain.slice(1)} Hotel`:"Hotel",vapiPublicKey:"",vapiAssistantId:"",branding:{logo:"/assets/hotel-default-logo.png",colors:{primary:"#1e40af",secondary:"#d4af37",accent:"#f59e0b"},fonts:{primary:"Poppins",secondary:"Inter"}},features:{callHistory:!1,multiLanguage:!1,analytics:!1,customization:!1},services:[{type:"concierge",name:"Concierge",enabled:!0}],supportedLanguages:["en"]};s(p),l("Configuration loaded with limited features. Please complete hotel setup.")}}}catch(h){console.error("âŒ Error loading hotel configuration:",h),l(h instanceof Error?h.message:"Failed to load configuration"),s(Kt)}finally{a(!1)}},[r]);return i.useEffect(()=>{c()},[c]),{config:t,isLoading:n,error:o,reload:c,isMiNhon:(r==null?void 0:r.isMiNhon)||!1}},en=(t,s)=>{if(s.hotelName==="Mi Nhon Hotel Mui Ne")switch(t){case"fr":return s.vapiPublicKey;case"zh":return s.vapiPublicKey;case"ru":return s.vapiPublicKey;case"ko":return s.vapiPublicKey;case"vi":return s.vapiPublicKey;default:return s.vapiPublicKey}return s.vapiPublicKey},tn=(t,s)=>{if(s.hotelName==="Mi Nhon Hotel Mui Ne")switch(t){case"fr":return s.vapiAssistantId;case"zh":return s.vapiAssistantId;case"ru":return s.vapiAssistantId;case"ko":return s.vapiAssistantId;case"vi":return s.vapiAssistantId;default:return s.vapiAssistantId}return s.vapiAssistantId},Ja={orderType:"Room Service",deliveryTime:"asap",roomNumber:"",guestName:"",guestEmail:"",guestPhone:"",specialInstructions:"",items:[{id:"1",name:"Club Sandwich",description:"Served with french fries and side salad",quantity:1,price:15},{id:"2",name:"Fresh Orange Juice",description:"Large size",quantity:1,price:8}],totalAmount:23},sn=i.createContext(void 0);function Za({children:t}){const[s,n]=i.useState("interface1"),[a,o]=i.useState([]),[l,r]=i.useState(null),[c,m]=i.useState(null),[d,h]=i.useState(null),[p,_]=i.useState(0),[k,x]=i.useState(null),[b,u]=i.useState(!1),[y,S]=i.useState(null),[F,V]=i.useState([]),[X,W]=i.useState(null),[C,j]=i.useState(!1),[T,q]=i.useState(null),[U,w]=i.useState(()=>{if(typeof window>"u")return[];try{const z=localStorage.getItem("activeOrders");return z?JSON.parse(z).map(ne=>({...ne,requestedAt:new Date(ne.requestedAt)})):[]}catch(z){return console.error("Failed to parse activeOrders from localStorage",z),[]}}),[N,v]=i.useState(0),[E,te]=i.useState([]),[G,se]=i.useState("en"),[P,ue]=i.useState(null),[ae,ce]=i.useState(null),[Me,ge]=i.useState(null),de=z=>{console.log("ğŸ”„ AssistantContext: setCurrentInterface called with:",z),console.log("ğŸ”„ Previous interface:",s),n(z),console.log("âœ… AssistantContext: setCurrentInterface completed")},Ge=z=>{console.log("ğŸ—‘ï¸ AssistantContext: setOrder called with:",z),console.log("ğŸ—‘ï¸ Previous order:",d),h(z),console.log("âœ… AssistantContext: setOrder completed")};i.useEffect(()=>{if(!(typeof window>"u"))try{localStorage.setItem("activeOrders",JSON.stringify(U))}catch{console.error("Failed to persist activeOrders to localStorage")}},[U]),i.useEffect(()=>{console.log("ğŸ¯ AssistantContext: currentInterface changed to:",s),console.log("ğŸ¯ Timestamp:",new Date().toISOString())},[s]),i.useEffect(()=>{console.log("ğŸ“¦ AssistantContext: order changed to:",d),console.log("ğŸ“¦ Order reference:",d==null?void 0:d.reference),console.log("ğŸ“¦ Timestamp:",new Date().toISOString())},[d]);const f=z=>{w(Y=>[...Y,{...z,status:z.status||"ÄÃ£ ghi nháº­n"}])},I=Be.useCallback(z=>{const Y={...z,id:Date.now(),callId:(c==null?void 0:c.id)||`call-${Date.now()}`,timestamp:new Date};o(ne=>[...ne,Y])},[c==null?void 0:c.id]);i.useEffect(()=>((async()=>{try{const Y=P?en(G,P):void 0;if(!Y)throw new Error("Vapi public key is not configured");const ne=await Ks(Y);ne.on("volume-level",J=>{v(J)});const _e=async J=>{if(console.log("Raw message received:",J),console.log("Message type:",J.type),console.log("Message role:",J.role),console.log("Message content structure:",{content:J.content,text:J.text,transcript:J.transcript}),J.type==="model-output"){console.log("Model output detected - Full message:",J);const O=J.content||J.text||J.transcript||J.output;if(O){console.log("Adding model output to conversation:",O);const ke={id:Date.now(),callId:(c==null?void 0:c.id)||`call-${Date.now()}`,role:"assistant",content:O,timestamp:new Date,isModelOutput:!0};console.log("Adding new transcript for model output:",ke),o(g=>{const Q=[...g,ke];return console.log("Updated transcripts array:",Q),Q})}else console.warn("Model output message received but no content found:",J)}if(J.type==="transcript"&&J.role==="user"){console.log("Adding user transcript:",J);const O={id:Date.now(),callId:(c==null?void 0:c.id)||`call-${Date.now()}`,role:"user",content:J.content||J.transcript||"",timestamp:new Date};o(ke=>[...ke,O])}};ne.on("message",_e)}catch(Y){console.error("Error setting up Vapi:",Y)}})(),()=>{const Y=Xe();Y&&Y.stop()}),[G,P]),i.useEffect(()=>{if(s==="interface2"){console.log("Starting call duration timer in interface2");const z=setInterval(()=>{_(Y=>{const ne=Y+1;return console.log("Call duration updated:",ne),ne})},1e3);x(z)}else k&&(console.log("Clearing call duration timer when leaving interface2"),clearInterval(k),x(null));return()=>{k&&(console.log("Cleaning up call duration timer"),clearInterval(k))}},[s,k]);const K=()=>{const z=Xe();z&&(z.setMuted(!b),u(!b))},Ie=Be.useCallback(async()=>{try{j(!1);const z=`call-${Date.now()}`;m({id:z,roomNumber:"",duration:"0",category:""}),o([]),te([]);const Y=Xe();if(!Y){console.error("Vapi instance not initialized");return}const ne=P?tn(G,P):void 0;if(!ne){console.error("Assistant ID not configured");return}if(!await Y.start(ne)){console.error("Failed to start call - call object is null");return}console.log("Call started successfully"),_(0);const J=setInterval(()=>{_(O=>O+1)},1e3);x(J),n("interface2")}catch(z){console.error("Error starting call:",z)}},[G,P]),fe=i.useCallback(()=>{try{const z=Xe();z&&z.stop();const Y=()=>{k&&(clearInterval(k),x(null)),r(Ja);const ne=p?`${Math.floor(p/60)}:${(p%60).toString().padStart(2,"0")}`:"0:00",_e=a.map(O=>({role:O.role,content:O.content}));if(_e.length<2){const O={id:Date.now(),callId:(c==null?void 0:c.id)||`call-${Date.now()}`,content:"Call was too short to generate a summary. Please try a more detailed conversation.",timestamp:new Date};S(O);return}const J={id:Date.now(),callId:(c==null?void 0:c.id)||`call-${Date.now()}`,content:"Generating AI summary of your conversation...",timestamp:new Date};S(J),fetch("/api/store-summary",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({summary:"",transcripts:_e,timestamp:new Date().toISOString(),callId:(c==null?void 0:c.id)||`call-${Date.now()}`,callDuration:ne,forceBasicSummary:Ha,language:G})}).then(O=>{if(!O.ok)throw new Error(`Network response was not ok: ${O.status}`);return O.json()}).then(O=>{if(O.success&&O.summary&&O.summary.content){const ke=O.summary.content;Et.unstable_batchedUpdates(()=>{const g={id:Date.now(),callId:(c==null?void 0:c.id)||`call-${Date.now()}`,content:ke,timestamp:new Date(O.summary.timestamp||Date.now())};S(g),O.serviceRequests&&Array.isArray(O.serviceRequests)&&O.serviceRequests.length>0&&V(O.serviceRequests)})}}).catch(O=>{console.error("Error processing summary:",O);const ke={id:Date.now(),callId:(c==null?void 0:c.id)||`call-${Date.now()}`,content:"An error occurred while generating the call summary.",timestamp:new Date};S(ke)})};Et.unstable_batchedUpdates(Y)}catch(z){console.error("Error in endCall:",z),n("interface1")}},[k,p,a,c,S,n,V,G]),yt=async z=>{try{console.log("Requesting Vietnamese translation for summary...");const Y=await fetch("/api/translate-to-vietnamese",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:z})});if(!Y.ok)throw new Error(`Network response was not ok: ${Y.status}`);const ne=await Y.json();if(ne.success&&ne.translatedText)return W(ne.translatedText),ne.translatedText;throw new Error("Translation failed")}catch(Y){return console.error("Error translating to Vietnamese:",Y),"KhÃ´ng thá»ƒ dá»‹ch ná»™i dung nÃ y sang tiáº¿ng Viá»‡t. Vui lÃ²ng thá»­ láº¡i sau."}},vt=z=>{te(Y=>[...Y,z])};i.useEffect(()=>{let z=null;const Y=async()=>{try{const _e=await fetch("https://minhnhotelben.onrender.com/api/orders");if(!_e.ok)return;const J=await _e.json();console.log("[AssistantContext] Fetched orders from API:",J),Array.isArray(J)&&w(J.map(O=>({reference:O.specialInstructions||O.reference||O.callId||"",requestedAt:O.createdAt?new Date(O.createdAt):new Date,estimatedTime:O.deliveryTime||"",status:O.status==="completed"?"HoÃ n thiá»‡n":O.status==="pending"?"ÄÃ£ ghi nháº­n":O.status,...O})))}catch{}};return(s==="interface1"||s==="interface2")&&(Y(),z=setInterval(Y,5e3)),()=>{z&&clearInterval(z)}},[s]);const Nt={currentInterface:s,setCurrentInterface:de,transcripts:a,setTranscripts:o,addTranscript:I,orderSummary:l,setOrderSummary:r,callDetails:c,setCallDetails:m,order:d,setOrder:Ge,callDuration:p,setCallDuration:_,isMuted:b,toggleMute:K,startCall:Ie,endCall:fe,callSummary:y,setCallSummary:S,serviceRequests:F,setServiceRequests:V,vietnameseSummary:X,setVietnameseSummary:W,translateToVietnamese:yt,emailSentForCurrentSession:C,setEmailSentForCurrentSession:j,requestReceivedAt:T,setRequestReceivedAt:q,activeOrders:U,addActiveOrder:f,setActiveOrders:w,micLevel:N,modelOutput:E,setModelOutput:te,addModelOutput:vt,language:G,setLanguage:se,hotelConfig:P,setHotelConfig:ue,tenantId:ae,setTenantId:ce,tenantConfig:Me,setTenantConfig:ge};return e.jsx(sn.Provider,{value:Nt,children:t})}function we(){const t=i.useContext(sn);if(t===void 0)throw new Error("useAssistant must be used within an AssistantProvider");return t}const nn="/assets/hotel-exterior-BsmmGNZ1.jpeg",Qa="Hotel Mui Ne",er="AI-powered Voice Assistant - Supporting All Your Needs",tr="Tap To Speak",sr="Room & Stay",nr="Room Services",ar="Bookings & Facilities",rr="Tourism & Exploration",ir="Support to book external services",or="Order Ref",lr="Requested At",cr="Estimated Completion",dr="Time Remaining",mr="Mute",hr="Unmute",ur="Confirm",xr="Please speak to the assistant first.",gr="Tap to speak",pr="Order Summary",fr="Confirm",br="Add Note",jr="Room Number",yr="Enter room number",vr="Enter additional notes",Nr="Summary",wr="Generated at",_r="Order Confirmed!",kr="Your request has been confirmed and forwarded to our staff. They will process it right away.",Sr="Order Reference",Cr="Estimated delivery time:",$r="Return to Home",Tr="Language",Ir="English",Ar="French",Dr="Send",Rr="Cancel",Lr="End Call",Mr="Room",Pr="Order ID",Fr="Guest Name",Er="Content",Or="Time",Hr="Status",zr="Action",Br="Message Guest",qr="Staff Request Management",Vr="Login",Wr="Username",Ur="Password",Gr="Tap the call button to start your request.",Kr="Review and confirm your request for accuracy.",Xr="Your request will be sent to the reception for processing.",Yr="Acknowledged",Jr="In Progress",Zr="Delivering to You",Qr="Completed",ei="Special Note",ti="Check-in/Check-out",si="Extended Stay Request",ni="Room Information",ai="Hotel Policies",ri="Wi-Fi Services",ii="Room Service Food",oi="Drinks & Bar Service",li="Room Cleaning",ci="Laundry Service",di="Wake-up Call",mi="Additional Amenities",hi="Maintenance Request",ui="Restaurant Reservation",xi="Spa Services",gi="Fitness Center",pi="Swimming Pool",fi="Car Rental",bi="Medical Assistance",ji="Customer Support",yi="Local Attractions",vi="Local Restaurants",Ni="Public Transportation",wi="Local Events",_i="Shopping Areas",ki="Area Maps",Si="Translation Services",Ci="Leave a Review",$i="Report an Issue",Ti="Luggage Services",Ii="Generating your summary...",Ai="Speak Multiple Languages with Our AI Voice Assistant",Di={hotel_name:Qa,hotel_subtitle:er,press_to_call:tr,room_and_stay:sr,room_services:nr,bookings_and_facilities:ar,tourism_and_exploration:rr,support_external_services:ir,order_ref:or,requested_at:lr,estimated_completion:cr,time_remaining:dr,mute:mr,unmute:hr,confirm:ur,need_conversation:xr,tap_to_speak:gr,order_summary:pr,send_to_reception:fr,add_note:br,room_number:jr,enter_room_number:yr,enter_notes:vr,summary:Nr,generated_at:wr,order_confirmed:_r,order_confirmed_message:kr,order_reference:Sr,estimated_delivery_time:Cr,return_to_home:$r,language:Tr,english:Ir,french:Ar,send:Dr,cancel:Rr,confirm_request:Lr,room:Mr,order_id:Pr,guest_name:Fr,content:Er,time:Or,status:Hr,action:zr,message_guest:Br,request_management:qr,login:Vr,username:Wr,password:Ur,press_to_call_desc:Gr,confirm_request_desc:Kr,send_to_reception_desc:Xr,status_acknowledged:Yr,status_in_progress:Jr,status_delivering:Zr,status_completed:Qr,status_note:ei,icon_login:ti,icon_hourglass_empty:si,icon_info:ni,icon_policy:ai,icon_wifi:ri,icon_restaurant:ii,icon_local_bar:oi,icon_cleaning_services:li,icon_local_laundry_service:ci,icon_alarm:di,icon_add_circle:mi,icon_build:hi,icon_event_seat:ui,icon_spa:xi,icon_fitness_center:gi,icon_pool:pi,icon_directions_car:fi,icon_medical_services:bi,icon_support_agent:ji,icon_location_on:yi,icon_local_dining:vi,icon_directions_bus:Ni,icon_event:wi,icon_shopping_bag:_i,icon_map:ki,icon_translate:Si,icon_rate_review:Ci,icon_report_problem:$i,icon_luggage:Ti,generating_your_summary:Ii,speak_multiple_languages:Ai},Ri="Bienvenue Ã  Mi Nhon Hotel",Li="Commencer",Mi="Langue",Pi="Anglais",Fi="FranÃ§ais",Ei="Envoyer",Oi="Annuler",Hi="Confirmer la demande",zi="Chambre",Bi="ID de commande",qi="Nom du client",Vi="Contenu",Wi="Heure",Ui="Statut",Gi="Action",Ki="Message au client",Xi="Gestion des demandes du personnel",Yi="Connexion",Ji="Nom d'utilisateur",Zi="Mot de passe",Qi="Hotel Mui Ne",eo="Assistant vocal IA - Ã€ votre service pour tous vos besoins",to="Appuyez pour appeler",so="Chambre & SÃ©jour",no="Services de chambre",ao="RÃ©servations & Installations",ro="Tourisme & Exploration",io="Assistance pour services externes",oo="RÃ©f. commande",lo="DemandÃ© Ã ",co="Fin estimÃ©e",mo="Temps restant",ho="Muet",uo="RÃ©tablir le son",xo="Confirmer",go="Veuillez d'abord parler avec l'assistant.",po="Appuyez pour parler",fo="RÃ©capitulatif de la commande",bo="Envoyer Ã  la rÃ©ception",jo="Ajouter une note",yo="NumÃ©ro de chambre",vo="Saisir le numÃ©ro de chambre",No="Saisir des notes supplÃ©mentaires",wo="RÃ©sumÃ©",_o="GÃ©nÃ©rÃ© Ã ",ko="Commande confirmÃ©e !",So="Votre demande a Ã©tÃ© confirmÃ©e et transmise Ã  notre personnel. Elle sera traitÃ©e immÃ©diatement.",Co="RÃ©fÃ©rence de la commande",$o="Heure de livraison estimÃ©e :",To="Retour Ã  l'accueil",Io="Appuyez sur le bouton d'appel pour dÃ©marrer votre demande.",Ao="VÃ©rifiez et confirmez votre demande pour plus de prÃ©cision.",Do="Votre demande sera envoyÃ©e Ã  la rÃ©ception pour traitement.",Ro="ReÃ§ue",Lo="En cours",Mo="En livraison",Po="TerminÃ©e",Fo="Note spÃ©ciale",Eo="ArrivÃ©e/DÃ©part",Oo="Prolongation de sÃ©jour",Ho="Informations sur la chambre",zo="Politiques de l'hÃ´tel",Bo="Services Wi-Fi",qo="Service de restauration",Vo="Service de bar",Wo="Nettoyage de chambre",Uo="Service de blanchisserie",Go="Service de rÃ©veil",Ko="AmÃ©nitÃ©s supplÃ©mentaires",Xo="Demande de maintenance",Yo="RÃ©servation au restaurant",Jo="Services de spa",Zo="Centre de fitness",Qo="Piscine",el="Location de voiture",tl="Assistance mÃ©dicale",sl="Service client",nl="Attractions locales",al="Restaurants locaux",rl="Transports publics",il="Ã‰vÃ©nements locaux",ol="Zones commerciales",ll="Cartes de la rÃ©gion",cl="Services de traduction",dl="Laisser un avis",ml="Signaler un problÃ¨me",hl="Services de bagagerie",ul="GÃ©nÃ©ration de votre rÃ©sumÃ©...",xl="Parlez Plusieurs Langues avec Notre Assistant Vocal IA",gl={welcome:Ri,start:Li,language:Mi,english:Pi,french:Fi,send:Ei,cancel:Oi,confirm_request:Hi,room:zi,order_id:Bi,guest_name:qi,content:Vi,time:Wi,status:Ui,action:Gi,message_guest:Ki,request_management:Xi,login:Yi,username:Ji,password:Zi,hotel_name:Qi,hotel_subtitle:eo,press_to_call:to,room_and_stay:so,room_services:no,bookings_and_facilities:ao,tourism_and_exploration:ro,support_external_services:io,order_ref:oo,requested_at:lo,estimated_completion:co,time_remaining:mo,mute:ho,unmute:uo,confirm:xo,need_conversation:go,tap_to_speak:po,order_summary:fo,send_to_reception:bo,add_note:jo,room_number:yo,enter_room_number:vo,enter_notes:No,summary:wo,generated_at:_o,order_confirmed:ko,order_confirmed_message:So,order_reference:Co,estimated_delivery_time:$o,return_to_home:To,press_to_call_desc:Io,confirm_request_desc:Ao,send_to_reception_desc:Do,status_acknowledged:Ro,status_in_progress:Lo,status_delivering:Mo,status_completed:Po,status_note:Fo,icon_login:Eo,icon_hourglass_empty:Oo,icon_info:Ho,icon_policy:zo,icon_wifi:Bo,icon_restaurant:qo,icon_local_bar:Vo,icon_cleaning_services:Wo,icon_local_laundry_service:Uo,icon_alarm:Go,icon_add_circle:Ko,icon_build:Xo,icon_event_seat:Yo,icon_spa:Jo,icon_fitness_center:Zo,icon_pool:Qo,icon_directions_car:el,icon_medical_services:tl,icon_support_agent:sl,icon_location_on:nl,icon_local_dining:al,icon_directions_bus:rl,icon_event:il,icon_shopping_bag:ol,icon_map:ll,icon_translate:cl,icon_rate_review:dl,icon_report_problem:ml,icon_luggage:hl,generating_your_summary:ul,speak_multiple_languages:xl},pl="æ¬¢è¿æ¥åˆ°ç¾å†œé…’åº— (Mi Nhon Hotel)",fl="å¼€å§‹",bl="è¯­è¨€",jl="è‹±è¯­",yl="æ³•è¯­",vl="å‘é€",Nl="å–æ¶ˆ",wl="ç¡®è®¤è¯·æ±‚",_l="æˆ¿é—´",kl="è®¢å•ç¼–å·",Sl="å®¢äººå§“å",Cl="å†…å®¹",$l="æ—¶é—´",Tl="çŠ¶æ€",Il="æ“ä½œ",Al="ç»™å®¢äººçš„æ¶ˆæ¯",Dl="å‘˜å·¥è¯·æ±‚ç®¡ç†",Rl="ç™»å½•",Ll="ç”¨æˆ·å",Ml="å¯†ç ",Pl="é…’åº— Mui Ne",Fl="AIè¯­éŸ³åŠ©æ‰‹ - æ»¡è¶³æ‚¨çš„æ‰€æœ‰éœ€æ±‚",El="æŒ‰ä¸‹å‘¼å«",Ol="æˆ¿é—´ä¸ä½å®¿",Hl="å®¢æˆ¿æœåŠ¡",zl="é¢„è®¢ä¸è®¾æ–½",Bl="æ—…æ¸¸ä¸æ¢ç´¢",ql="æ”¯æŒå¤–éƒ¨æœåŠ¡",Vl="è®¢å•å‚è€ƒ",Wl="è¯·æ±‚æ—¶é—´",Ul="é¢„è®¡å®Œæˆæ—¶é—´",Gl="å‰©ä½™æ—¶é—´",Kl="é™éŸ³",Xl="å–æ¶ˆé™éŸ³",Yl="ç¡®è®¤",Jl="è¯·å…ˆä¸åŠ©æ‰‹å¯¹è¯ã€‚",Zl="ç‚¹å‡»è¯´è¯",Ql="è®¢å•æ‘˜è¦",ec="å‘é€åˆ°å‰å°",tc="æ·»åŠ å¤‡æ³¨",sc="æˆ¿é—´å·",nc="è¾“å…¥æˆ¿é—´å·",ac="è¾“å…¥é™„åŠ å¤‡æ³¨",rc="æ‘˜è¦",ic="ç”Ÿæˆæ—¶é—´",oc="è®¢å•å·²ç¡®è®¤ï¼",lc="æ‚¨çš„è¯·æ±‚å·²ç¡®è®¤å¹¶å‘é€ç»™æˆ‘ä»¬çš„å‘˜å·¥ã€‚æˆ‘ä»¬ä¼šç«‹å³å¤„ç†ã€‚",cc="è®¢å•å‚è€ƒ",dc="é¢„è®¡é€è¾¾æ—¶é—´ï¼š",mc="è¿”å›é¦–é¡µ",hc="ç‚¹å‡»å‘¼å«æŒ‰é’®å¼€å§‹æ‚¨çš„è¯·æ±‚ã€‚",uc="è¯·æ£€æŸ¥å¹¶ç¡®è®¤æ‚¨çš„è¯·æ±‚ä»¥ç¡®ä¿å‡†ç¡®ã€‚",xc="æ‚¨çš„è¯·æ±‚å°†è¢«å‘é€åˆ°å‰å°è¿›è¡Œå¤„ç†ã€‚",gc="å·²ç¡®è®¤",pc="å¤„ç†ä¸­",fc="é…é€ä¸­",bc="å·²å®Œæˆ",jc="ç‰¹åˆ«è¯´æ˜",yc="å…¥ä½/é€€æˆ¿",vc="å»¶é•¿ä½å®¿è¯·æ±‚",Nc="æˆ¿é—´ä¿¡æ¯",wc="é…’åº—æ”¿ç­–",_c="æ— çº¿ç½‘ç»œæœåŠ¡",kc="å®¢æˆ¿é¤é¥®æœåŠ¡",Sc="é¥®å“ä¸é…’å§æœåŠ¡",Cc="æˆ¿é—´æ¸…æ´",$c="æ´—è¡£æœåŠ¡",Tc="å”¤é†’æœåŠ¡",Ic="é¢å¤–è®¾æ–½",Ac="ç»´ä¿®è¯·æ±‚",Dc="é¤å…é¢„è®¢",Rc="æ°´ç–—æœåŠ¡",Lc="å¥èº«ä¸­å¿ƒ",Mc="æ¸¸æ³³æ± ",Pc="ç§Ÿè½¦æœåŠ¡",Fc="åŒ»ç–—æ´åŠ©",Ec="å®¢æˆ·æ”¯æŒ",Oc="å½“åœ°æ™¯ç‚¹",Hc="å½“åœ°é¤å…",zc="å…¬å…±äº¤é€š",Bc="å½“åœ°æ´»åŠ¨",qc="è´­ç‰©åŒºåŸŸ",Vc="åŒºåŸŸåœ°å›¾",Wc="ç¿»è¯‘æœåŠ¡",Uc="ç•™ä¸‹è¯„è®º",Gc="æŠ¥å‘Šé—®é¢˜",Kc="è¡ŒææœåŠ¡",Xc="æ­£åœ¨ç”Ÿæˆæ‚¨çš„æ‘˜è¦...",Yc={welcome:pl,start:fl,language:bl,english:jl,french:yl,send:vl,cancel:Nl,confirm_request:wl,room:_l,order_id:kl,guest_name:Sl,content:Cl,time:$l,status:Tl,action:Il,message_guest:Al,request_management:Dl,login:Rl,username:Ll,password:Ml,hotel_name:Pl,hotel_subtitle:Fl,press_to_call:El,room_and_stay:Ol,room_services:Hl,bookings_and_facilities:zl,tourism_and_exploration:Bl,support_external_services:ql,order_ref:Vl,requested_at:Wl,estimated_completion:Ul,time_remaining:Gl,mute:Kl,unmute:Xl,confirm:Yl,need_conversation:Jl,tap_to_speak:Zl,order_summary:Ql,send_to_reception:ec,add_note:tc,room_number:sc,enter_room_number:nc,enter_notes:ac,summary:rc,generated_at:ic,order_confirmed:oc,order_confirmed_message:lc,order_reference:cc,estimated_delivery_time:dc,return_to_home:mc,press_to_call_desc:hc,confirm_request_desc:uc,send_to_reception_desc:xc,status_acknowledged:gc,status_in_progress:pc,status_delivering:fc,status_completed:bc,status_note:jc,icon_login:yc,icon_hourglass_empty:vc,icon_info:Nc,icon_policy:wc,icon_wifi:_c,icon_restaurant:kc,icon_local_bar:Sc,icon_cleaning_services:Cc,icon_local_laundry_service:$c,icon_alarm:Tc,icon_add_circle:Ic,icon_build:Ac,icon_event_seat:Dc,icon_spa:Rc,icon_fitness_center:Lc,icon_pool:Mc,icon_directions_car:Pc,icon_medical_services:Fc,icon_support_agent:Ec,icon_location_on:Oc,icon_local_dining:Hc,icon_directions_bus:zc,icon_event:Bc,icon_shopping_bag:qc,icon_map:Vc,icon_translate:Wc,icon_rate_review:Uc,icon_report_problem:Gc,icon_luggage:Kc,generating_your_summary:Xc},Jc="Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² Ğ¾Ñ‚ĞµĞ»ÑŒ Mi Nhon",Zc="ĞĞ°Ñ‡Ğ°Ñ‚ÑŒ",Qc="Ğ¯Ğ·Ñ‹Ğº",ed="ĞĞ½Ğ³Ğ»Ğ¸Ğ¹ÑĞºĞ¸Ğ¹",td="Ğ¤Ñ€Ğ°Ğ½Ñ†ÑƒĞ·ÑĞºĞ¸Ğ¹",sd="Ğ ÑƒÑÑĞºĞ¸Ğ¹",nd="ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ",ad="ĞÑ‚Ğ¼ĞµĞ½Ğ°",rd="ĞŸĞ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ´Ğ¸Ñ‚ÑŒ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ",id="ĞĞ¾Ğ¼ĞµÑ€",od="ID Ğ·Ğ°ĞºĞ°Ğ·Ğ°",ld="Ğ˜Ğ¼Ñ Ğ³Ğ¾ÑÑ‚Ñ",cd="Ğ¡Ğ¾Ğ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ğµ",dd="Ğ’Ñ€ĞµĞ¼Ñ",md="Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ",hd="Ğ”ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ",ud="Ğ¡Ğ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ³Ğ¾ÑÑ‚Ñ",xd="Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°Ğ¼Ğ¸ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»Ğ°",gd="Ğ’Ñ…Ğ¾Ğ´",pd="Ğ˜Ğ¼Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ",fd="ĞŸĞ°Ñ€Ğ¾Ğ»ÑŒ",bd="ĞÑ‚ĞµĞ»ÑŒ Mui Ne",jd="Ğ˜Ğ˜-Ğ°ÑÑĞ¸ÑÑ‚ĞµĞ½Ñ‚ - ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° Ğ²ÑĞµÑ… Ğ²Ğ°ÑˆĞ¸Ñ… Ğ¿Ğ¾Ñ‚Ñ€ĞµĞ±Ğ½Ğ¾ÑÑ‚ĞµĞ¹",yd="ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ Ğ´Ğ»Ñ Ğ·Ğ²Ğ¾Ğ½ĞºĞ°",vd="ĞĞ¾Ğ¼ĞµÑ€ Ğ¸ Ğ¿Ñ€Ğ¾Ğ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ",Nd="Ğ£ÑĞ»ÑƒĞ³Ğ¸ Ğ½Ğ¾Ğ¼ĞµÑ€Ğ°",wd="Ğ‘Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¸ ÑƒĞ´Ğ¾Ğ±ÑÑ‚Ğ²Ğ°",_d="Ğ¢ÑƒÑ€Ğ¸Ğ·Ğ¼ Ğ¸ Ğ¸ÑÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ",kd="ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ñ… ÑƒÑĞ»ÑƒĞ³",Sd="Ğ¡ÑÑ‹Ğ»ĞºĞ° Ğ½Ğ° Ğ·Ğ°ĞºĞ°Ğ·",Cd="Ğ—Ğ°Ğ¿Ñ€Ğ¾ÑˆĞµĞ½Ğ¾ Ğ²",$d="ĞŸÑ€ĞµĞ´Ğ¿Ğ¾Ğ»Ğ°Ğ³Ğ°ĞµĞ¼Ğ¾Ğµ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ğµ",Td="ĞÑÑ‚Ğ°Ğ²ÑˆĞµĞµÑÑ Ğ²Ñ€ĞµĞ¼Ñ",Id="Ğ‘ĞµĞ· Ğ·Ğ²ÑƒĞºĞ°",Ad="Ğ’ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ Ğ·Ğ²ÑƒĞº",Dd="ĞŸĞ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ´Ğ¸Ñ‚ÑŒ",Rd="ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, ÑĞ½Ğ°Ñ‡Ğ°Ğ»Ğ° Ğ¿Ğ¾Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ¸Ñ‚Ğµ Ñ Ğ°ÑÑĞ¸ÑÑ‚ĞµĞ½Ñ‚Ğ¾Ğ¼.",Ld="ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ¸Ñ‚ÑŒ",Md="Ğ¡Ğ²Ğ¾Ğ´ĞºĞ° Ğ·Ğ°ĞºĞ°Ğ·Ğ°",Pd="ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ½Ğ° Ñ€ĞµÑĞµĞ¿ÑˆĞµĞ½",Fd="Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ·Ğ°Ğ¼ĞµÑ‚ĞºÑƒ",Ed="ĞĞ¾Ğ¼ĞµÑ€ ĞºĞ¾Ğ¼Ğ½Ğ°Ñ‚Ñ‹",Od="Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ½Ğ¾Ğ¼ĞµÑ€ ĞºĞ¾Ğ¼Ğ½Ğ°Ñ‚Ñ‹",Hd="Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ´Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ·Ğ°Ğ¼ĞµÑ‚ĞºĞ¸",zd="Ğ¡Ğ²Ğ¾Ğ´ĞºĞ°",Bd="Ğ¡Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¾ Ğ²",qd="Ğ—Ğ°ĞºĞ°Ğ· Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½!",Vd="Ğ’Ğ°Ñˆ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½ Ğ¸ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ğ½ Ğ½Ğ°ÑˆĞµĞ¼Ñƒ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»Ñƒ. ĞĞ½Ğ¸ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‚ ĞµĞ³Ğ¾ Ğ½ĞµĞ¼ĞµĞ´Ğ»ĞµĞ½Ğ½Ğ¾.",Wd="Ğ¡ÑÑ‹Ğ»ĞºĞ° Ğ½Ğ° Ğ·Ğ°ĞºĞ°Ğ·",Ud="ĞŸÑ€ĞµĞ´Ğ¿Ğ¾Ğ»Ğ°Ğ³Ğ°ĞµĞ¼Ğ¾Ğµ Ğ²Ñ€ĞµĞ¼Ñ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸:",Gd="Ğ’ĞµÑ€Ğ½ÑƒÑ‚ÑŒÑÑ Ğ½Ğ° Ğ³Ğ»Ğ°Ğ²Ğ½ÑƒÑ",Kd="ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ Ğ²Ñ‹Ğ·Ğ¾Ğ²Ğ°, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ½Ğ°Ñ‡Ğ°Ñ‚ÑŒ Ğ²Ğ°Ñˆ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ.",Xd="ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ Ğ¸ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ´Ğ¸Ñ‚Ğµ Ğ²Ğ°Ñˆ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ´Ğ»Ñ Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚Ğ¸.",Yd="Ğ’Ğ°Ñˆ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ±ÑƒĞ´ĞµÑ‚ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½ Ğ½Ğ° Ñ€ĞµÑĞµĞ¿ÑˆĞµĞ½ Ğ´Ğ»Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸.",Jd="ĞŸĞ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¾",Zd="Ğ’ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞµ",Qd="Ğ”Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ÑÑ",em="Ğ—Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¾",tm="ĞÑĞ¾Ğ±Ğ°Ñ Ğ·Ğ°Ğ¼ĞµÑ‚ĞºĞ°",sm="Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ/Ğ’Ñ‹ÑĞµĞ»ĞµĞ½Ğ¸Ğµ",nm="Ğ—Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ½Ğ° Ğ¿Ñ€Ğ¾Ğ´Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ñ",am="Ğ˜Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ Ğ½Ğ¾Ğ¼ĞµÑ€Ğµ",rm="ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ° Ğ¾Ñ‚ĞµĞ»Ñ",im="Wi-Fi ÑƒÑĞ»ÑƒĞ³Ğ¸",om="Ğ ĞµÑÑ‚Ğ¾Ñ€Ğ°Ğ½Ğ½Ğ¾Ğµ Ğ¾Ğ±ÑĞ»ÑƒĞ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ½Ğ¾Ğ¼ĞµÑ€Ğ¾Ğ²",lm="ĞĞ°Ğ¿Ğ¸Ñ‚ĞºĞ¸ Ğ¸ Ğ±Ğ°Ñ€",cm="Ğ£Ğ±Ğ¾Ñ€ĞºĞ° Ğ½Ğ¾Ğ¼ĞµÑ€Ğ°",dm="Ğ£ÑĞ»ÑƒĞ³Ğ¸ Ğ¿Ñ€Ğ°Ñ‡ĞµÑ‡Ğ½Ğ¾Ğ¹",mm="Ğ£ÑĞ»ÑƒĞ³Ğ° Ğ±ÑƒĞ´Ğ¸Ğ»ÑŒĞ½Ğ¸ĞºĞ°",hm="Ğ”Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ ÑƒĞ´Ğ¾Ğ±ÑÑ‚Ğ²Ğ°",um="Ğ—Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ½Ğ° Ñ‚ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¾Ğ±ÑĞ»ÑƒĞ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ",xm="Ğ‘Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ€ĞµÑÑ‚Ğ¾Ñ€Ğ°Ğ½Ğ°",gm="Ğ¡ĞŸĞ ÑƒÑĞ»ÑƒĞ³Ğ¸",pm="Ğ¤Ğ¸Ñ‚Ğ½ĞµÑ-Ñ†ĞµĞ½Ñ‚Ñ€",fm="Ğ‘Ğ°ÑÑĞµĞ¹Ğ½",bm="ĞÑ€ĞµĞ½Ğ´Ğ° Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ¾Ğ±Ğ¸Ğ»Ñ",jm="ĞœĞµĞ´Ğ¸Ñ†Ğ¸Ğ½ÑĞºĞ°Ñ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒ",ym="ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ²",vm="ĞœĞµÑÑ‚Ğ½Ñ‹Ğµ Ğ´Ğ¾ÑÑ‚Ğ¾Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸",Nm="ĞœĞµÑÑ‚Ğ½Ñ‹Ğµ Ñ€ĞµÑÑ‚Ğ¾Ñ€Ğ°Ğ½Ñ‹",wm="ĞĞ±Ñ‰ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğ¹ Ñ‚Ñ€Ğ°Ğ½ÑĞ¿Ğ¾Ñ€Ñ‚",_m="ĞœĞµÑÑ‚Ğ½Ñ‹Ğµ Ğ¼ĞµÑ€Ğ¾Ğ¿Ñ€Ğ¸ÑÑ‚Ğ¸Ñ",km="Ğ¢Ğ¾Ñ€Ğ³Ğ¾Ğ²Ñ‹Ğµ Ğ·Ğ¾Ğ½Ñ‹",Sm="ĞšĞ°Ñ€Ñ‚Ñ‹ Ğ¼ĞµÑÑ‚Ğ½Ğ¾ÑÑ‚Ğ¸",Cm="Ğ£ÑĞ»ÑƒĞ³Ğ¸ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ°",$m="ĞÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¾Ñ‚Ğ·Ñ‹Ğ²",Tm="Ğ¡Ğ¾Ğ¾Ğ±Ñ‰Ğ¸Ñ‚ÑŒ Ğ¾ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğµ",Im="Ğ£ÑĞ»ÑƒĞ³Ğ¸ Ğ±Ğ°Ğ³Ğ°Ğ¶Ğ°",Am="Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ Ğ²Ğ°Ñˆ Ğ¸Ñ‚Ğ¾Ğ³...",Dm={welcome:Jc,start:Zc,language:Qc,english:ed,french:td,russian:sd,send:nd,cancel:ad,confirm_request:rd,room:id,order_id:od,guest_name:ld,content:cd,time:dd,status:md,action:hd,message_guest:ud,request_management:xd,login:gd,username:pd,password:fd,hotel_name:bd,hotel_subtitle:jd,press_to_call:yd,room_and_stay:vd,room_services:Nd,bookings_and_facilities:wd,tourism_and_exploration:_d,support_external_services:kd,order_ref:Sd,requested_at:Cd,estimated_completion:$d,time_remaining:Td,mute:Id,unmute:Ad,confirm:Dd,need_conversation:Rd,tap_to_speak:Ld,order_summary:Md,send_to_reception:Pd,add_note:Fd,room_number:Ed,enter_room_number:Od,enter_notes:Hd,summary:zd,generated_at:Bd,order_confirmed:qd,order_confirmed_message:Vd,order_reference:Wd,estimated_delivery_time:Ud,return_to_home:Gd,press_to_call_desc:Kd,confirm_request_desc:Xd,send_to_reception_desc:Yd,status_acknowledged:Jd,status_in_progress:Zd,status_delivering:Qd,status_completed:em,status_note:tm,icon_login:sm,icon_hourglass_empty:nm,icon_info:am,icon_policy:rm,icon_wifi:im,icon_restaurant:om,icon_local_bar:lm,icon_cleaning_services:cm,icon_local_laundry_service:dm,icon_alarm:mm,icon_add_circle:hm,icon_build:um,icon_event_seat:xm,icon_spa:gm,icon_fitness_center:pm,icon_pool:fm,icon_directions_car:bm,icon_medical_services:jm,icon_support_agent:ym,icon_location_on:vm,icon_local_dining:Nm,icon_directions_bus:wm,icon_event:_m,icon_shopping_bag:km,icon_map:Sm,icon_translate:Cm,icon_rate_review:$m,icon_report_problem:Tm,icon_luggage:Im,generating_your_summary:Am},Rm="ë¯¸ë…„ í˜¸í…”ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤",Lm="ì‹œì‘",Mm="ì–¸ì–´",Pm="ì˜ì–´",Fm="í”„ë‘ìŠ¤ì–´",Em="ëŸ¬ì‹œì•„ì–´",Om="í•œêµ­ì–´",Hm="ë³´ë‚´ê¸°",zm="ì·¨ì†Œ",Bm="ìš”ì²­ í™•ì¸",qm="ê°ì‹¤",Vm="ì£¼ë¬¸ ID",Wm="íˆ¬ìˆ™ê° ì´ë¦„",Um="ë‚´ìš©",Gm="ì‹œê°„",Km="ìƒíƒœ",Xm="ë™ì‘",Ym="ê²ŒìŠ¤íŠ¸ì—ê²Œ ë©”ì‹œì§€ ë³´ë‚´ê¸°",Jm="ì§ì› ìš”ì²­ ê´€ë¦¬",Zm="ë¡œê·¸ì¸",Qm="ì‚¬ìš©ì ì´ë¦„",eh="ë¹„ë°€ë²ˆí˜¸",th="ë¬´ì´ë„¤ í˜¸í…”",sh="AI ì–´ì‹œìŠ¤í„´íŠ¸ - ëª¨ë“  í•„ìš”ë¥¼ ì§€ì›í•©ë‹ˆë‹¤",nh="í˜¸ì¶œí•˜ë ¤ë©´ ëˆ„ë¥´ì„¸ìš”",ah="ê°ì‹¤ ë° ìˆ™ë°•",rh="ê°ì‹¤ ì„œë¹„ìŠ¤",ih="ì˜ˆì•½ ë° ì‹œì„¤",oh="ê´€ê´‘ ë° íƒí—˜",lh="ì™¸ë¶€ ì„œë¹„ìŠ¤ ì§€ì›",ch="ì£¼ë¬¸ ì°¸ì¡°",dh="ìš”ì²­ ì‹œê°„",mh="ì˜ˆìƒ ì™„ë£Œ ì‹œê°„",hh="ë‚¨ì€ ì‹œê°„",uh="ìŒì†Œê±°",xh="ìŒì†Œê±° í•´ì œ",gh="í™•ì¸",ph="ë¨¼ì € ì–´ì‹œìŠ¤í„´íŠ¸ì™€ ëŒ€í™”í•´ ì£¼ì„¸ìš”.",fh="ë§í•˜ë ¤ë©´ ëˆ„ë¥´ì„¸ìš”",bh="ì£¼ë¬¸ ìš”ì•½",jh="í”„ëŸ°íŠ¸ë¡œ ë³´ë‚´ê¸°",yh="ë©”ëª¨ ì¶”ê°€",vh="ê°ì‹¤ ë²ˆí˜¸",Nh="ê°ì‹¤ ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”",wh="ì¶”ê°€ ë©”ëª¨ë¥¼ ì…ë ¥í•˜ì„¸ìš”",_h="ìš”ì•½",kh="ìƒì„± ì‹œê°„",Sh="ì£¼ë¬¸ì´ í™•ì¸ë˜ì—ˆìŠµë‹ˆë‹¤!",Ch="ê·€í•˜ì˜ ìš”ì²­ì´ í™•ì¸ë˜ì–´ ì§ì›ì—ê²Œ ì „ë‹¬ë˜ì—ˆìŠµë‹ˆë‹¤. ì¦‰ì‹œ ì²˜ë¦¬í•˜ê² ìŠµë‹ˆë‹¤.",$h="ì£¼ë¬¸ ì°¸ì¡°",Th="ì˜ˆìƒ ë°°ë‹¬ ì‹œê°„:",Ih="í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°",Ah="ìš”ì²­ì„ ì‹œì‘í•˜ë ¤ë©´ í˜¸ì¶œ ë²„íŠ¼ì„ ëˆ„ë¥´ì„¸ìš”.",Dh="ì •í™•ì„±ì„ ìœ„í•´ ìš”ì²­ì„ í™•ì¸í•˜ì„¸ìš”.",Rh="ê·€í•˜ì˜ ìš”ì²­ì´ í”„ëŸ°íŠ¸ë¡œ ì „ì†¡ë˜ì–´ ì²˜ë¦¬ë©ë‹ˆë‹¤.",Lh="ì ‘ìˆ˜ë¨",Mh="ì²˜ë¦¬ ì¤‘",Ph="ë°°ë‹¬ ì¤‘",Fh="ì™„ë£Œë¨",Eh="íŠ¹ë³„ ì•ˆë‚´",Oh="ì²´í¬ì¸/ì²´í¬ì•„ì›ƒ",Hh="ìˆ™ë°• ì—°ì¥ ìš”ì²­",zh="ê°ì‹¤ ì •ë³´",Bh="í˜¸í…” ì •ì±…",qh="ì™€ì´íŒŒì´ ì„œë¹„ìŠ¤",Vh="ë£¸ì„œë¹„ìŠ¤ ìŒì‹",Wh="ìŒë£Œ ë° ë°” ì„œë¹„ìŠ¤",Uh="ê°ì‹¤ ì²­ì†Œ",Gh="ì„¸íƒ ì„œë¹„ìŠ¤",Kh="ëª¨ë‹ì½œ ì„œë¹„ìŠ¤",Xh="ì¶”ê°€ í¸ì˜ ì‹œì„¤",Yh="ìœ ì§€ë³´ìˆ˜ ìš”ì²­",Jh="ë ˆìŠ¤í† ë‘ ì˜ˆì•½",Zh="ìŠ¤íŒŒ ì„œë¹„ìŠ¤",Qh="í”¼íŠ¸ë‹ˆìŠ¤ ì„¼í„°",eu="ìˆ˜ì˜ì¥",tu="ë Œí„°ì¹´",su="ì˜ë£Œ ì§€ì›",nu="ê³ ê° ì§€ì›",au="ì§€ì—­ ëª…ì†Œ",ru="ì§€ì—­ ë ˆìŠ¤í† ë‘",iu="ëŒ€ì¤‘êµí†µ",ou="ì§€ì—­ ì´ë²¤íŠ¸",lu="ì‡¼í•‘ ì§€ì—­",cu="ì§€ì—­ ì§€ë„",du="ë²ˆì—­ ì„œë¹„ìŠ¤",mu="ë¦¬ë·° ë‚¨ê¸°ê¸°",hu="ë¬¸ì œ ì‹ ê³ ",uu="ìˆ˜í™”ë¬¼ ì„œë¹„ìŠ¤",xu="ìš”ì•½ì„ ìƒì„±í•˜ëŠ” ì¤‘...",gu={welcome:Rm,start:Lm,language:Mm,english:Pm,french:Fm,russian:Em,korean:Om,send:Hm,cancel:zm,confirm_request:Bm,room:qm,order_id:Vm,guest_name:Wm,content:Um,time:Gm,status:Km,action:Xm,message_guest:Ym,request_management:Jm,login:Zm,username:Qm,password:eh,hotel_name:th,hotel_subtitle:sh,press_to_call:nh,room_and_stay:ah,room_services:rh,bookings_and_facilities:ih,tourism_and_exploration:oh,support_external_services:lh,order_ref:ch,requested_at:dh,estimated_completion:mh,time_remaining:hh,mute:uh,unmute:xh,confirm:gh,need_conversation:ph,tap_to_speak:fh,order_summary:bh,send_to_reception:jh,add_note:yh,room_number:vh,enter_room_number:Nh,enter_notes:wh,summary:_h,generated_at:kh,order_confirmed:Sh,order_confirmed_message:Ch,order_reference:$h,estimated_delivery_time:Th,return_to_home:Ih,press_to_call_desc:Ah,confirm_request_desc:Dh,send_to_reception_desc:Rh,status_acknowledged:Lh,status_in_progress:Mh,status_delivering:Ph,status_completed:Fh,status_note:Eh,icon_login:Oh,icon_hourglass_empty:Hh,icon_info:zh,icon_policy:Bh,icon_wifi:qh,icon_restaurant:Vh,icon_local_bar:Wh,icon_cleaning_services:Uh,icon_local_laundry_service:Gh,icon_alarm:Kh,icon_add_circle:Xh,icon_build:Yh,icon_event_seat:Jh,icon_spa:Zh,icon_fitness_center:Qh,icon_pool:eu,icon_directions_car:tu,icon_medical_services:su,icon_support_agent:nu,icon_location_on:au,icon_local_dining:ru,icon_directions_bus:iu,icon_event:ou,icon_shopping_bag:lu,icon_map:cu,icon_translate:du,icon_rate_review:mu,icon_report_problem:hu,icon_luggage:uu,generating_your_summary:xu},pu="KhÃ¡ch sáº¡n Mui Ne",fu="Trá»£ lÃ½ giá»ng nÃ³i AI - Há»— trá»£ má»i nhu cáº§u cá»§a báº¡n",bu="Nháº¥n Ä‘á»ƒ nÃ³i",ju="PhÃ²ng & LÆ°u trÃº",yu="Dá»‹ch vá»¥ phÃ²ng",vu="Äáº·t chá»— & Tiá»‡n Ã­ch",Nu="Du lá»‹ch & KhÃ¡m phÃ¡",wu="Há»— trá»£ Ä‘áº·t dá»‹ch vá»¥ bÃªn ngoÃ i",_u="MÃ£ Ä‘Æ¡n",ku="Thá»i gian yÃªu cáº§u",Su="Dá»± kiáº¿n hoÃ n thÃ nh",Cu="Thá»i gian cÃ²n láº¡i",$u="Táº¯t mic",Tu="Báº­t mic",Iu="XÃ¡c nháº­n",Au="Vui lÃ²ng nÃ³i chuyá»‡n vá»›i trá»£ lÃ½ trÆ°á»›c.",Du="Cháº¡m Ä‘á»ƒ nÃ³i",Ru="TÃ³m táº¯t Ä‘Æ¡n hÃ ng",Lu="XÃ¡c nháº­n",Mu="ThÃªm ghi chÃº",Pu="Sá»‘ phÃ²ng",Fu="Nháº­p sá»‘ phÃ²ng",Eu="Nháº­p ghi chÃº bá»• sung",Ou="TÃ³m táº¯t",Hu="Táº¡o lÃºc",zu="ÄÃ£ xÃ¡c nháº­n Ä‘Æ¡n!",Bu="YÃªu cáº§u cá»§a báº¡n Ä‘Ã£ Ä‘Æ°á»£c xÃ¡c nháº­n vÃ  chuyá»ƒn Ä‘áº¿n nhÃ¢n viÃªn. ChÃºng tÃ´i sáº½ xá»­ lÃ½ ngay láº­p tá»©c.",qu="MÃ£ tham chiáº¿u",Vu="Thá»i gian giao dá»± kiáº¿n:",Wu="Vá» trang chá»§",Uu="NgÃ´n ngá»¯",Gu="Tiáº¿ng Anh",Ku="Tiáº¿ng PhÃ¡p",Xu="Gá»­i",Yu="Há»§y",Ju="Káº¿t thÃºc cuá»™c gá»i",Zu="PhÃ²ng",Qu="MÃ£ Ä‘Æ¡n",ex="TÃªn khÃ¡ch",tx="Ná»™i dung",sx="Thá»i gian",nx="Tráº¡ng thÃ¡i",ax="HÃ nh Ä‘á»™ng",rx="Nháº¯n khÃ¡ch",ix="Quáº£n lÃ½ yÃªu cáº§u nhÃ¢n viÃªn",ox="ÄÄƒng nháº­p",lx="TÃªn Ä‘Äƒng nháº­p",cx="Máº­t kháº©u",dx="Nháº¥n nÃºt gá»i Ä‘á»ƒ báº¯t Ä‘áº§u yÃªu cáº§u cá»§a báº¡n.",mx="Xem láº¡i vÃ  xÃ¡c nháº­n yÃªu cáº§u cá»§a báº¡n.",hx="YÃªu cáº§u cá»§a báº¡n sáº½ Ä‘Æ°á»£c gá»­i Ä‘áº¿n lá»… tÃ¢n Ä‘á»ƒ xá»­ lÃ½.",ux="ÄÃ£ ghi nháº­n",xx="Äang xá»­ lÃ½",gx="Äang giao cho báº¡n",px="ÄÃ£ hoÃ n thÃ nh",fx="LÆ°u Ã½ Ä‘áº·c biá»‡t",bx="Nháº­n/Tráº£ phÃ²ng",jx="YÃªu cáº§u gia háº¡n lÆ°u trÃº",yx="ThÃ´ng tin phÃ²ng",vx="ChÃ­nh sÃ¡ch khÃ¡ch sáº¡n",Nx="Dá»‹ch vá»¥ Wi-Fi",wx="Äá»“ Äƒn táº¡i phÃ²ng",_x="Dá»‹ch vá»¥ Ä‘á»“ uá»‘ng & quáº§y bar",kx="Dá»n phÃ²ng",Sx="Giáº·t lÃ ",Cx="BÃ¡o thá»©c",$x="Tiá»‡n Ã­ch bá»• sung",Tx="YÃªu cáº§u báº£o trÃ¬",Ix="Äáº·t chá»— nhÃ  hÃ ng",Ax="Dá»‹ch vá»¥ Spa",Dx="Trung tÃ¢m thá»ƒ hÃ¬nh",Rx="Há»“ bÆ¡i",Lx="ThuÃª xe",Mx="Há»— trá»£ y táº¿",Px="ChÄƒm sÃ³c khÃ¡ch hÃ ng",Fx="Äiá»ƒm tham quan",Ex="NhÃ  hÃ ng Ä‘á»‹a phÆ°Æ¡ng",Ox="PhÆ°Æ¡ng tiá»‡n cÃ´ng cá»™ng",Hx="Sá»± kiá»‡n Ä‘á»‹a phÆ°Æ¡ng",zx="Khu mua sáº¯m",Bx="Báº£n Ä‘á»“ khu vá»±c",qx="Dá»‹ch vá»¥ phiÃªn dá»‹ch",Vx="ÄÃ¡nh giÃ¡",Wx="BÃ¡o sá»± cá»‘",Ux="Dá»‹ch vá»¥ hÃ nh lÃ½",Gx="Äang táº¡o tÃ³m táº¯t cá»§a báº¡n...",Kx="NÃ³i Nhiá»u NgÃ´n Ngá»¯ vá»›i Trá»£ LÃ½ AI cá»§a ChÃºng TÃ´i",Xx={hotel_name:pu,hotel_subtitle:fu,press_to_call:bu,room_and_stay:ju,room_services:yu,bookings_and_facilities:vu,tourism_and_exploration:Nu,support_external_services:wu,order_ref:_u,requested_at:ku,estimated_completion:Su,time_remaining:Cu,mute:$u,unmute:Tu,confirm:Iu,need_conversation:Au,tap_to_speak:Du,order_summary:Ru,send_to_reception:Lu,add_note:Mu,room_number:Pu,enter_room_number:Fu,enter_notes:Eu,summary:Ou,generated_at:Hu,order_confirmed:zu,order_confirmed_message:Bu,order_reference:qu,estimated_delivery_time:Vu,return_to_home:Wu,language:Uu,english:Gu,french:Ku,send:Xu,cancel:Yu,confirm_request:Ju,room:Zu,order_id:Qu,guest_name:ex,content:tx,time:sx,status:nx,action:ax,message_guest:rx,request_management:ix,login:ox,username:lx,password:cx,press_to_call_desc:dx,confirm_request_desc:mx,send_to_reception_desc:hx,status_acknowledged:ux,status_in_progress:xx,status_delivering:gx,status_completed:px,status_note:fx,icon_login:bx,icon_hourglass_empty:jx,icon_info:yx,icon_policy:vx,icon_wifi:Nx,icon_restaurant:wx,icon_local_bar:_x,icon_cleaning_services:kx,icon_local_laundry_service:Sx,icon_alarm:Cx,icon_add_circle:$x,icon_build:Tx,icon_event_seat:Ix,icon_spa:Ax,icon_fitness_center:Dx,icon_pool:Rx,icon_directions_car:Lx,icon_medical_services:Mx,icon_support_agent:Px,icon_location_on:Fx,icon_local_dining:Ex,icon_directions_bus:Ox,icon_event:Hx,icon_shopping_bag:zx,icon_map:Bx,icon_translate:qx,icon_rate_review:Vx,icon_report_problem:Wx,icon_luggage:Ux,generating_your_summary:Gx,speak_multiple_languages:Kx},Yx={en:Di,fr:gl,zh:Yc,ru:Dm,ko:gu,vi:Xx};function $(t,s="en"){return Yx[s][t]||t}class Jx{constructor(s){this.gradientRotation=0,this.isHovered=!1,this.isActive=!1,this.waveformPhase=0,this.particles=[],this.mouseX=0,this.mouseY=0,this.isDarkMode=!1,this.elapsedTime=0,this.displayedTime=0,this.timeTarget=60,this.idleFrame=0,this.lastActiveTime=Date.now(),this.idleFlash=0,this.canvas=document.createElement("canvas");const n=document.getElementById(s);if(!n)throw new Error("Container element not found");n.appendChild(this.canvas);const a=this.canvas.getContext("2d");if(!a)throw new Error("Could not get canvas context");this.ctx=a,this.width=200,this.height=200,this.centerX=this.width/2,this.centerY=this.height/2,this.radius=40,this.ripples=[],this.isListening=!1,this.pulsePhase=0,this.volumeLevel=0,this.animationFrameId=0,this.resize(),this.animate(),window.addEventListener("resize",this.resize.bind(this)),n&&(n.addEventListener("mouseenter",()=>{this.isHovered=!0,this.lastActiveTime=Date.now()}),n.addEventListener("mouseleave",()=>{this.isHovered=!1,this.isActive=!1}),n.addEventListener("mousedown",()=>{this.isActive=!0,this.lastActiveTime=Date.now()}),n.addEventListener("mouseup",()=>{this.isActive=!1}),n.addEventListener("mousemove",o=>{const l=n.getBoundingClientRect();this.mouseX=o.clientX-l.left,this.mouseY=o.clientY-l.top,this.lastActiveTime=Date.now()})),this.isDarkMode=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",o=>{this.isDarkMode=o.matches})}resize(){const s=this.canvas.parentElement;if(!s)return;const n=window.devicePixelRatio||1,a=Math.min(s.clientWidth,s.clientHeight);this.width=this.height=a,this.canvas.width=this.canvas.height=a*n,this.canvas.style.width=this.canvas.style.height=`${a}px`,this.canvas.style.borderRadius="50%",this.canvas.style.overflow="hidden",this.ctx.setTransform(1,0,0,1,0,0),this.ctx.scale(n,n),this.centerX=this.width/2,this.centerY=this.height/2}drawTexturePattern(){const s="rgba(232,181,84,0.18)";for(let a=-this.radius;a<this.radius;a+=14)for(let o=-this.radius;o<this.radius;o+=14)a*a+o*o<this.radius*this.radius*.85&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.centerX+a,this.centerY+o,1.2,0,Math.PI*2),this.ctx.fillStyle=s,this.ctx.fill(),this.ctx.restore())}drawLightBeam(){if(!(this.isHovered||this.isActive))return;this.ctx.save();const s=this.ctx.createLinearGradient(this.centerX,this.centerY-this.radius*1.3,this.centerX,this.centerY+this.radius*.5);s.addColorStop(0,"rgba(255,255,255,0.22)"),s.addColorStop(.5,"rgba(255,255,255,0.08)"),s.addColorStop(1,"rgba(255,255,255,0)"),this.ctx.beginPath(),this.ctx.ellipse(this.centerX,this.centerY-this.radius*.7,this.radius*.7,this.radius*.22,0,0,2*Math.PI),this.ctx.fillStyle=s,this.ctx.filter="blur(2.5px)",this.ctx.fill(),this.ctx.filter="none",this.ctx.restore()}drawBaseCircle(){let s=0,n=0;this.isHovered&&(s=(this.mouseX-this.centerX)*.07,n=(this.mouseY-this.centerY)*.07),this.gradientRotation+=.0025;const a=this.gradientRotation%(2*Math.PI),o=this.centerX+Math.cos(a)*this.radius*1.2,l=this.centerY+Math.sin(a)*this.radius*1.2,r=this.ctx.createLinearGradient(this.centerX-this.radius*1.2+s,this.centerY-this.radius*1.2+n,o+s,l+n);r.addColorStop(0,this.isDarkMode?"#559A9A":"#5DB6B9"),r.addColorStop(1,this.isDarkMode?"#559A9A":"#5DB6B9"),this.ctx.save(),this.ctx.globalAlpha=.85,this.ctx.beginPath(),this.ctx.arc(this.centerX+s,this.centerY+n,this.radius*1.25,0,Math.PI*2),this.ctx.strokeStyle=r,this.ctx.lineWidth=12,this.ctx.shadowColor=(this.isHovered,"#559A9A"),this.ctx.shadowBlur=this.isHovered?32:16,this.ctx.stroke(),this.ctx.restore(),this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.centerX+s,this.centerY+n,this.radius*1.13,0,Math.PI*2),this.ctx.fillStyle=this.isDarkMode?"rgba(40,50,80,0.18)":"rgba(255,255,255,0.10)",this.ctx.filter="blur(2.5px)",this.ctx.fill(),this.ctx.filter="none",this.ctx.restore(),this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.centerX+s,this.centerY+n,this.radius*.98,0,Math.PI*2),this.ctx.fillStyle=this.isDarkMode?"#bfa133":"#E8B554",this.ctx.shadowColor=this.isDarkMode?"rgba(85,154,154,0.18)":"rgba(85,154,154,0.25)",this.ctx.shadowBlur=10,this.ctx.fill(),this.ctx.restore(),this.drawTexturePattern(),this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.centerX+s,this.centerY+n,this.radius*.98,0,Math.PI*2),this.ctx.shadowColor=this.isDarkMode?"rgba(85,154,154,0.10)":"rgba(85,154,154,0.18)",this.ctx.shadowBlur=24,this.ctx.globalAlpha=.7,this.ctx.strokeStyle="rgba(0,0,0,0)",this.ctx.lineWidth=8,this.ctx.stroke(),this.ctx.restore(),this.drawLightBeam(),this.drawMicIcon(s,n)}drawMicIcon(s=0,n=0){let a=.85+.15*Math.sin(this.pulsePhase*1.5);this.isHovered&&(a*=1.08),this.isActive&&(a*=.95),this.ctx.save(),this.ctx.translate(this.centerX+s,this.centerY+n),this.ctx.scale(a,a),this.ctx.shadowColor=this.isHovered?"rgba(255,255,255,0.95)":"rgba(255,255,255,0.7)",this.ctx.shadowBlur=16+8*a+(this.isHovered?8:0),this.ctx.beginPath(),this.ctx.moveTo(0,18),this.ctx.arc(0,0,18,Math.PI*.15,Math.PI*1.85,!1),this.ctx.lineTo(0,18),this.ctx.closePath(),this.ctx.fillStyle="rgba(255,255,255,0.92)",this.ctx.fill(),this.ctx.beginPath(),this.ctx.moveTo(-4,18),this.ctx.lineTo(-4,28),this.ctx.lineTo(4,28),this.ctx.lineTo(4,18),this.ctx.closePath(),this.ctx.fillStyle="rgba(255,255,255,0.92)",this.ctx.fill(),this.ctx.beginPath(),this.ctx.arc(0,28,6,0,Math.PI,!0),this.ctx.fillStyle="rgba(255,255,255,0.7)",this.ctx.fill(),this.ctx.restore()}drawRipples(){for(let s=this.ripples.length-1;s>=0;s--){const n=this.ripples[s];if(n.radius+=n.speed,n.alpha-=.01,n.alpha<=0){this.ripples.splice(s,1);continue}this.ctx.beginPath(),this.ctx.arc(this.centerX,this.centerY,n.radius,0,Math.PI*2),this.ctx.strokeStyle=`rgba(85,154,154, ${n.alpha})`,this.ctx.lineWidth=2,this.ctx.stroke()}}drawPulsingRing(){if(this.isListening){const s=this.radius+10+Math.sin(this.pulsePhase)*5,n=this.volumeLevel*20;this.ctx.beginPath(),this.ctx.arc(this.centerX,this.centerY,s+n,0,Math.PI*2),this.ctx.strokeStyle="rgba(33, 150, 243, 0.5)",this.ctx.lineWidth=3,this.ctx.stroke(),this.pulsePhase+=.1}}drawWaveform(){if(!this.isListening)return;const s=4;this.waveformPhase+=.08+this.volumeLevel*.12;for(let n=1;n<=s;n++){const a=this.radius*.98+n*10+Math.sin(this.waveformPhase+n)*3*(1+this.volumeLevel);this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.centerX,this.centerY,a,0,Math.PI*2),this.ctx.strokeStyle=`rgba(232,181,84,${.18+.08*(s-n)})`,this.ctx.lineWidth=2+this.volumeLevel*2,this.ctx.shadowColor="rgba(85,154,154,0.22)",this.ctx.shadowBlur=8,this.ctx.stroke(),this.ctx.restore()}}drawParticles(){if(this.isListening&&Math.random()<.18){const s=Math.random()*2*Math.PI,n=this.radius*1.18+Math.random()*16;this.particles.push({x:this.centerX+Math.cos(s)*n,y:this.centerY+Math.sin(s)*n,alpha:.7+Math.random()*.3,size:2+Math.random()*2,speed:.5+Math.random()*.7})}for(let s=this.particles.length-1;s>=0;s--){const n=this.particles[s];if(n.alpha-=.012,n.size*=.98,n.y-=n.speed*.5,n.x+=Math.sin(n.y*.1)*.2,n.alpha<=.05||n.size<.5){this.particles.splice(s,1);continue}this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.x,n.y,n.size,0,Math.PI*2),this.ctx.fillStyle=`rgba(232,181,84,${n.alpha})`,this.ctx.shadowColor="rgba(85,154,154,0.22)",this.ctx.shadowBlur=6,this.ctx.fill(),this.ctx.restore()}}drawTimeRing(){const s=Math.min(1,this.elapsedTime/this.timeTarget),n=s<.5?"#E8B554":s<1?"#d4af37":"#e53935";this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.centerX,this.centerY,this.radius*1.32,-Math.PI/2,-Math.PI/2+s*2*Math.PI),this.ctx.strokeStyle=n,this.ctx.lineWidth=4,this.ctx.shadowColor=n,this.ctx.shadowBlur=s>.95?16:6,this.ctx.globalAlpha=.85,this.ctx.stroke(),this.ctx.restore()}drawTimeText(){this.displayedTime+=(this.elapsedTime-this.displayedTime)*.18;const s=Math.round(this.displayedTime),n=Math.floor(s/60).toString().padStart(2,"0"),a=(s%60).toString().padStart(2,"0"),o=`${n}:${a}`;this.ctx.save(),this.ctx.font="600 1.25rem Montserrat, Raleway, Arial, sans-serif",this.ctx.textAlign="center",this.ctx.textBaseline="top",this.ctx.shadowColor="rgba(85,154,154,0.22)",this.ctx.shadowBlur=8,this.ctx.fillStyle="#fff",this.isDarkMode&&(this.ctx.fillStyle="#e8e8e8"),this.ctx.globalAlpha=.95,this.ctx.fillText(o,this.centerX,this.centerY+this.radius*1.45),this.ctx.restore()}drawIdleFlash(){if(Date.now()-this.lastActiveTime>6e3){this.idleFlash+=.08;const n=.7+.3*Math.abs(Math.sin(this.idleFlash*1.2));this.ctx.save(),this.ctx.globalAlpha=.18*n,this.ctx.beginPath(),this.ctx.arc(this.centerX,this.centerY,this.radius*1.18,0,Math.PI*2),this.ctx.fillStyle="#E8B554",this.ctx.filter="blur(2.5px)",this.ctx.fill(),this.ctx.filter="none",this.ctx.restore()}else this.idleFlash=0}drawVolumeVisualization(){if(!this.isListening)return;const s=16,n=this.radius*1.08;for(let a=0;a<s;a++){const o=2*Math.PI*a/s,l=8+Math.sin(this.waveformPhase+a)*4+this.volumeLevel*18,r=this.centerX+Math.cos(o)*n,c=this.centerY+Math.sin(o)*n,m=this.centerX+Math.cos(o)*(n+l),d=this.centerY+Math.sin(o)*(n+l);this.ctx.save(),this.ctx.strokeStyle=`rgba(232,181,84,${.18+.18*this.volumeLevel})`,this.ctx.lineWidth=2.2,this.ctx.beginPath(),this.ctx.moveTo(r,c),this.ctx.lineTo(m,d),this.ctx.shadowColor="rgba(85,154,154,0.22)",this.ctx.shadowBlur=6,this.ctx.stroke(),this.ctx.restore()}}animate(){const s=Math.min(this.width,this.height)<340;this.radius=s?Math.max(32,Math.min(this.width,this.height)/2.8):Math.max(36,Math.min(this.width,this.height)/5.2),this.ctx.clearRect(0,0,this.width,this.height),this.drawBaseCircle(),this.drawWaveform(),this.drawParticles(),this.drawRipples(),this.drawPulsingRing(),this.drawTimeRing(),this.drawTimeText(),this.drawIdleFlash(),this.drawVolumeVisualization(),this.isListening&&Math.random()<(s?.05:.1)&&this.ripples.push({radius:this.radius,alpha:.4,speed:1+this.volumeLevel*2}),this.animationFrameId=requestAnimationFrame(this.animate.bind(this))}setListening(s){this.isListening=s,s&&(this.ripples=[])}setVolumeLevel(s){this.volumeLevel=Math.max(0,Math.min(1,s))}setTime(s,n=60){this.elapsedTime=s,this.timeTarget=n}getTime(){return this.elapsedTime}cleanup(){window.removeEventListener("resize",this.resize),this.animationFrameId&&cancelAnimationFrame(this.animationFrameId),this.canvas.remove()}}const an=({isListening:t,volumeLevel:s,containerId:n})=>{const a=i.useRef(null);return i.useEffect(()=>(a.current=new Jx(n),()=>{a.current&&(a.current.cleanup(),a.current=null)}),[n]),i.useEffect(()=>{a.current&&a.current.setListening(t)},[t]),i.useEffect(()=>{a.current&&a.current.setVolumeLevel(s)},[s]),e.jsx("div",{id:n,className:"w-[220px] h-[220px] relative rounded-full overflow-visible",style:{cursor:"pointer",borderRadius:"50%"}})},Xt=({isOpen:t,onClose:s,isRight:n})=>{const{transcripts:a,modelOutput:o,language:l}=we(),r=i.useRef(null),c=i.useRef({}),[m,d]=i.useState({}),[h,p]=i.useState([]),_=()=>{Object.values(c.current).forEach(k=>{cancelAnimationFrame(k)}),c.current={}};return i.useEffect(()=>{const k=[...a].sort((u,y)=>u.timestamp.getTime()-y.timestamp.getTime()),x=[];let b=null;k.forEach(u=>{u.role==="user"?(b={id:u.id.toString(),role:"user",timestamp:u.timestamp,messages:[{id:u.id.toString(),content:u.content,timestamp:u.timestamp}]},x.push(b)):((!b||b.role==="user")&&(b={id:u.id.toString(),role:"assistant",timestamp:u.timestamp,messages:[]},x.push(b)),b.messages.push({id:u.id.toString(),content:u.content,timestamp:u.timestamp}))}),p(x)},[a]),i.useEffect(()=>(h.filter(x=>x.role==="assistant").flatMap(x=>x.messages).forEach(x=>{if(m[x.id]===x.content.length)return;let b=m[x.id]||0;const u=x.content,y=()=>{b<u.length?(d(S=>({...S,[x.id]:b+1})),b++,c.current[x.id]=requestAnimationFrame(y)):delete c.current[x.id]};c.current[x.id]=requestAnimationFrame(y)}),()=>_()),[h]),i.useEffect(()=>{r.current&&(r.current.scrollTop=r.current.scrollHeight)},[h]),t?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`relative z-30 overflow-hidden rounded-2xl shadow-2xl realtime-popup ${n?"popup-right":""}`,style:{width:"90vw",maxWidth:360,height:"70vh",maxHeight:440,background:"rgba(255,255,255,0.12)",backdropFilter:"blur(18px)",WebkitBackdropFilter:"blur(18px)",border:"1.5px solid rgba(255,255,255,0.25)",boxShadow:n?"0 8px 32px rgba(0,0,0,0.18), 8px 0 24px rgba(0,0,0,0.10)":"0 8px 32px rgba(0,0,0,0.18)",borderTopLeftRadius:24,borderBottomLeftRadius:24,borderTopRightRadius:24,borderBottomRightRadius:24},children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200/40 bg-white/10",style:{backdropFilter:"blur(4px)"},children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Conversation"}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(Ce,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{ref:r,className:"p-4 h-[calc(100%-4rem)] overflow-y-auto",children:[h.length===0&&e.jsx("div",{className:"text-gray-400 text-base text-center select-none",style:{opacity:.7},children:$("tap_to_speak",l)}),h.map((k,x)=>e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0",style:{background:k.role==="user"?"#3B82F6":"#10B981"},children:e.jsx("span",{className:"text-white text-sm",children:k.role==="user"?"U":"A"})}),e.jsxs("div",{className:"flex-1",children:[k.role==="user"?e.jsx("div",{className:"bg-gray-100 rounded-lg p-3",children:e.jsx("p",{className:"text-gray-800",children:k.messages[0].content})}):e.jsx("div",{className:"bg-green-50 rounded-lg p-3",children:e.jsxs("p",{className:"text-base md:text-lg font-medium",style:{position:"relative",background:"linear-gradient(90deg, #FF512F, #F09819, #FFD700, #56ab2f, #43cea2, #1e90ff, #6a11cb, #FF512F)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:600,letterSpacing:.2,transition:"background 0.5s"},children:[e.jsx("span",{className:"inline-flex flex-wrap",children:k.messages.map((b,u)=>{const y=b.content.slice(0,m[b.id]||0);return e.jsxs("span",{style:{whiteSpace:"pre"},children:[y,u===k.messages.length-1&&x===0&&m[b.id]<b.content.length&&e.jsx("span",{className:"animate-blink text-yellow-500",style:{marginLeft:1},children:"|"})]},b.id)})}),x===0&&k.role==="assistant"&&m[k.messages[k.messages.length-1].id]===k.messages[k.messages.length-1].content.length&&e.jsx("span",{className:"ml-2 animate-ellipsis text-yellow-500",children:"..."})]})}),e.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:k.timestamp.toLocaleTimeString()})]})]})},k.id))]})]}),e.jsx("style",{children:`
        @media (min-width: 640px) {
          .realtime-popup {
            width: 340px !important;
            height: 420px !important;
            max-width: 340px !important;
            max-height: 420px !important;
          }
          .popup-right {
            /* CÃ³ thá»ƒ thÃªm hiá»‡u á»©ng Ä‘á»‘i xá»©ng náº¿u muá»‘n */
          }
        }
      `})]}):null},Yt=({isOpen:t,onClose:s})=>t?e.jsxs("div",{className:"relative z-30 overflow-hidden rounded-2xl shadow-2xl reference-popup",style:{width:"90vw",maxWidth:360,height:"70vh",maxHeight:440,background:"rgba(255,255,255,0.12)",backdropFilter:"blur(18px)",WebkitBackdropFilter:"blur(18px)",border:"1.5px solid rgba(255,255,255,0.25)",boxShadow:"0 8px 32px rgba(0,0,0,0.18)"},children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200/40 bg-white/10",style:{backdropFilter:"blur(4px)"},children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Reference"}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx("span",{className:"material-icons text-gray-500",children:"close"})})]}),e.jsx("div",{className:"p-4 h-[calc(100%-4rem)] overflow-y-auto flex items-center justify-center text-gray-400"}),e.jsx("style",{children:`
        @media (min-width: 640px) {
          .reference-popup {
            width: 340px !important;
            height: 420px !important;
            max-width: 340px !important;
            max-height: 420px !important;
          }
        }
      `})]}):null,ie={roomNumber:/(?:room(?:\s+number)?|room|phÃ²ng)(?:\s*[:#\-]?\s*)([0-9]{1,4}[A-Za-z]?)|(?:staying in|in room|in phÃ²ng|phÃ²ng sá»‘)(?:\s+)([0-9]{1,4}[A-Za-z]?)/i,food:/food|beverage|breakfast|lunch|dinner|meal|drink|snack|restaurant/i,housekeeping:/housekeeping|cleaning|towel|cleaning\s*service|laundry/i,roomService:/room\s*service/i,spa:/spa|massage|wellness|treatment/i,transportation:/transportation|taxi|car|shuttle|airport\s*transfer/i,tours:/tour|sightseeing|excursion|attraction|visit|activity/i,technical:/wifi|internet|tv|television|remote|device|technical|connection/i,concierge:/reservation|booking|restaurant|ticket|arrangement|concierge/i,wellness:/gym|fitness|exercise|yoga|swimming|pool|sauna/i,security:/safe|security|lost|found|key|card|lock|emergency/i,specialOccasion:/birthday|anniversary|celebration|honeymoon|proposal|wedding|special occasion/i,other:/currency\s*exchange|money\s*change|exchange\s*money|foreign\s*currency|bus\s*ticket|train\s*ticket|sell|purchase|buy/i,deliveryTime:{asap:/as\s*soon\s*as\s*possible|right\s*away|immediately|asap/i,thirtyMin:/30\s*min|half\s*an\s*hour|30\s*minutes/i,oneHour:/(?:1|one)\s*hour|60\s*minutes/i,specific:/specific\s*time|scheduled|later|tomorrow|tonight|afternoon|evening|morning/i},specialInstructions:/special(?:\s+instructions?|(?:\s+notes?)|(?:\s+requests?))(?:\s*:)?\s*([^\.]+)/i,items:/(?:ordered|requested|asked for|items|item)(?:\s*:)?\s*([^\.]+)/i,totalAmount:/(?:total(?:\s+amount)?|cost|price|charge)(?:\s*:)?\s*\$?\s*([0-9]+(?:\.[0-9]{1,2})?)/i},Zx={roomService:"room-service",food:"food-beverage",housekeeping:"housekeeping",transportation:"transportation",spa:"spa",tours:"tours-activities",technical:"technical-support",concierge:"concierge",wellness:"wellness-fitness",security:"security",specialOccasion:"special-occasions",wifi:"wifi-faq",checkIn:"check-in-out",checkOut:"check-in-out",information:"hotel-info",tourism:"attractions",feedback:"feedback",support:"support",other:"other"};function At(t){const s=t.match(ie.roomNumber);if(s)return s[1]||s[2]||null;const n=t.match(/(?:room details|room number|phÃ²ng sá»‘)(?:\s*[:#\-]?\s*)([0-9]{1,4}[A-Za-z]?)/i);if(n&&n[1])return n[1];const a=t.match(/(?:details[\s\S]*?room(?:\s+number)?[\s\S]*?)([0-9]{1,4}[A-Za-z]?)/i);return a&&a[1]?a[1]:null}function Qx(t){const s=[];ie.food.test(t)&&s.push("food"),ie.housekeeping.test(t)&&s.push("housekeeping"),ie.transportation.test(t)&&s.push("transportation"),ie.roomService.test(t)&&s.push("roomService"),ie.spa.test(t)&&s.push("spa"),ie.tours.test(t)&&s.push("tours"),ie.technical.test(t)&&s.push("technical"),ie.concierge.test(t)&&s.push("concierge"),ie.wellness.test(t)&&s.push("wellness"),ie.security.test(t)&&s.push("security"),ie.specialOccasion.test(t)&&s.push("specialOccasion"),ie.other.test(t)&&s.push("other");const n=s.map(a=>Zx[a]||"other");return n.length>0?n:["other"]}function eg(t){return Qx(t).join(",")}function tg(t){return ie.deliveryTime.asap.test(t)?"asap":ie.deliveryTime.thirtyMin.test(t)?"30min":ie.deliveryTime.oneHour.test(t)?"1hour":ie.deliveryTime.specific.test(t)?"specific":"asap"}function sg(t){const s=t.match(ie.specialInstructions);return s?s[1].trim():""}function ng(t){const s=t.match(ie.items);let n=[];const a=t.match(/(?:^|\n)[-â€¢*]\s*([^\n]+)/g);if(a&&a.length>0){const r=a.map((c,m)=>{const d=c.replace(/^[-â€¢*]\s*/,"").trim();return st(d,m)}).filter(c=>c.name.length>0);n=[...n,...r]}{const r=t.match(/(?:requested|asked for|ordered|booking|reservation for|inquired about)\s+([^\.;]+)/gi);if(r&&r.length>0){const c=r.map((m,d)=>{const h=m.replace(/(?:requested|asked for|ordered|booking|reservation for|inquired about)\s+/i,"").trim();return st(h,d)}).filter(m=>m.name.length>0);n=[...n,...c]}}if(s){const m=s[1].split(/(?:,\s*|\s+and\s+|\s*&\s*|\s*\+\s*)/).map((d,h)=>st(d,h)).filter(d=>d.name.length>0);n=[...n,...m]}if(n.length===0){const r=t.split(/\.(?:\s|$)/);for(let c=0;c<r.length;c++){const m=r[c].trim();(m.toLowerCase().includes("request")||m.toLowerCase().includes("book")||m.toLowerCase().includes("order")||m.toLowerCase().includes("exchange")||m.toLowerCase().includes("inquired"))&&n.push(st(m,n.length))}}const o=[],l=new Map;for(const r of n){const c=r.name.toLowerCase().replace(/\s+/g," ").trim();let m=!1;const d=Array.from(l.keys());for(const h of d)if(ag(c,h)>.8){m=!0;break}m||(l.set(c,!0),o.push(r))}return o.map((r,c)=>({...r,id:(c+1).toString()}))}function ag(t,s){if(t===s)return 1;if(t.length===0||s.length===0)return 0;const n=t.length>s.length?t:s,a=t.length>s.length?s:t;if(n.includes(a))return a.length/n.length;let o=0;for(let l=0;l<a.length;l++)n.includes(a[l])&&o++;return o/n.length}function st(t,s){const n=t.trim().replace(/^[-â€¢*]\s+/,"").replace(/^- /,""),a=n.match(/^([0-9]+)\s+(.+)$/),o=a?parseInt(a[1]):1,l=a?a[2]:n;let r="";const c=n.match(/(?:on|for)\s+((?:January|February|March|April|May|June|July|August|September|October|November|December|Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s+\d{1,2}(?:st|nd|rd|th)?(?:,?\s+\d{4})?|\d{1,2}\/\d{1,2}(?:\/\d{2,4})?)/i),m=c?`Date: ${c[1]}`:"",d=n.match(/(\d+)\s+(?:people|person|pax|guest|adult|child|passenger)/i),h=d?`Guests: ${d[1]} people`:"",p=n.match(/(?:to|in|at|for)\s+([A-Z][a-z]+(?:\s+[A-Z][a-z]+)*|[A-Z][A-Z]+|[A-Z][a-z]+)/),_=p?`Location: ${p[1]}`:"",k=n.match(/(?:at|from)\s+(\d{1,2}(?::\d{2})?\s*(?:AM|PM|am|pm))/i),x=k?`Time: ${k[1]}`:"",b=n.match(/(\d+(?:,\d+)*(?:\.\d+)?)\s*(?:USD|US dollars|\$|VND|dong)/i),u=b?`Amount: ${b[1]} ${b[0].includes("USD")||b[0].includes("US")||b[0].includes("$")?"USD":"VND"}`:"",y=[m,h,_,x,u].filter(S=>S.length>0);return y.length>0?r=y.join(`
`):r=`Details for ${l.charAt(0).toLowerCase()+l.slice(1)}`,{id:(s+1).toString(),name:l.charAt(0).toUpperCase()+l.slice(1),description:r,quantity:o,price:rg(l)}}function rg(t){const s=t.toLowerCase();return/sandwich|burger|pasta|steak|fish|chicken|breakfast|lunch|dinner/.test(s)?15:/coffee|tea|juice|water|soda|wine|beer|cocktail|drink/.test(s)?8:/towel|soap|shampoo|toothbrush|toothpaste|amenities/.test(s)?5:/cleaning|housekeeping|laundry|ironing/.test(s)?20:/taxi|car|shuttle|transfer/.test(s)?30:10}function ig(t,s){const n=t.match(ie.totalAmount);return n?parseFloat(n[1]):s.reduce((a,o)=>a+o.price*o.quantity,0)}function Jt(t){if(!t)return{};const s=At(t)||"",n=eg(t),a=tg(t),o=sg(t),l=ng(t),r=ig(t,l);return{roomNumber:s,orderType:n,deliveryTime:a,guestName:"",guestEmail:"",guestPhone:"",specialInstructions:o,items:l,totalAmount:r}}const og=Je("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-[10px] text-base font-semibold ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-5 [&_svg]:shrink-0 shadow-sm px-5 py-2",{variants:{variant:{default:"bg-gradient-to-tr from-[#4e5ab7] to-[#3f51b5] text-white hover:brightness-110 hover:shadow-lg",yellow:"bg-gradient-to-b from-[#ffe066] to-[#ffd700] text-blue-900 border-2 border-[#d4af37] shadow-xl hover:brightness-105 hover:shadow-2xl text-shadow-white",outline:"border-2 border-[#4e5ab7] bg-white text-[#4e5ab7] hover:bg-[#f5f7fa]",secondary:"bg-white text-[#4e5ab7] border border-[#4e5ab7] hover:bg-[#e8eaf6]",destructive:"bg-red-500 text-white hover:bg-red-600",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-12 px-6 py-2",sm:"h-10 rounded-md px-4 py-2 text-sm",lg:"h-14 rounded-xl px-8 py-3 text-lg",icon:"h-12 w-12"}},defaultVariants:{variant:"default",size:"default"}}),H=i.forwardRef(({className:t,variant:s,size:n,asChild:a=!1,...o},l)=>{const r=a?wn:"button";return e.jsx(r,{className:M(og({variant:s,size:n,className:t})),ref:l,...o})});H.displayName="Button";const rn=({isActive:t})=>{const{orderSummary:s,setOrderSummary:n,setCurrentInterface:a,setOrder:o,callSummary:l,setCallSummary:r,serviceRequests:c,callDuration:m,callDetails:d,emailSentForCurrentSession:h,setEmailSentForCurrentSession:p,addActiveOrder:_,translateToVietnamese:k,language:x,hotelConfig:b}=we(),[u,y]=i.useState({}),[S,F]=i.useState("");if(!b)return e.jsx("div",{className:"absolute w-full min-h-screen h-full flex items-center justify-center z-10 bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Loading hotel configuration..."})]})});const V=(C,j)=>{s&&n({...s,[C]:j})};i.useEffect(()=>{if(c&&c.length>0){const C=c.reduce((j,T)=>{const q=T.serviceType;return j[q]||(j[q]=[]),j[q].push(T),j},{});if(y(C),s&&(!s.items||s.items.length===0)){const j=c.map((T,q)=>{let U=1;const w=T.details||{},N=T.requestText.match(/(\d+)\s+(towels|bottles|pieces|cups|glasses|plates|servings|items)/i);N?U=parseInt(N[1]):typeof w.people=="number"&&(U=w.people);let v=10;return T.serviceType==="room-service"?v=15:T.serviceType==="housekeeping"?v=8:T.serviceType==="transportation"?v=25:T.serviceType==="tours-activities"?v=35:T.serviceType==="spa"&&(v=30),{id:`item-${q}`,name:T.serviceType,description:T.requestText,quantity:U,price:v}});n({...s,items:j,totalAmount:j.reduce((T,q)=>T+q.price*q.quantity,0)})}}},[c,s,n]),i.useEffect(()=>{if(t&&l&&s){const C=l.content,j=At(C);if(j&&j!==s.roomNumber&&n({...s,roomNumber:j}),!c||c.length===0){const T=C.match(/List of Requests:([\s\S]*?)(?:\n\nSpecial Instructions|\n\nThe conversation)/);if(T){const q=T[1],U=/Request (\d+): ([^\n]+)/g;let w;const N=[];let v=1;for(;(w=U.exec(q))!==null;){const E=w[2].trim(),te=w.index,G=q.indexOf(`Request ${parseInt(w[1])+1}:`,te),se=G>-1?q.substring(te,G):q.substring(te),P=/- ([^:]+): ([^\n]+)/g;let ue;const ae={};for(;(ue=P.exec(se))!==null;){const Me=ue[1].trim(),ge=ue[2].trim();ae[Me.toLowerCase()]=ge}let ce="";ae["service description"]&&(ce+=`${ae["service description"]}`),ae.details&&(ce+=ce?`. ${ae.details}`:ae.details),ae.items&&(ce+=ce?`
Items: ${ae.items}`:`Items: ${ae.items}`),ae["service timing requested"]&&(ce+=`
Timing: ${ae["service timing requested"]}`),ae.destinations&&(ce+=`
Destinations: ${ae.destinations}`),ce||(ce=`Requested ${E} service`),N.push({id:v.toString(),name:E,description:ce,quantity:1,price:10}),v++}if(N.length>0&&(!s.items||s.items.length===0)){const E=N.map(ue=>ue.name.toLowerCase().replace(/\s+/g,"-")).join(","),te=At(C)||s.roomNumber,G=C.match(/Service Timing Requested:?\s*([^\n]+)/i),se=G?G[1]:s.deliveryTime;let P=s.deliveryTime;se&&(/soon|immediate|urgent|right now/i.test(se)?P="asap":/30 minute|half hour/i.test(se)?P="30min":/hour|60 minute/i.test(se)?P="1hour":/schedule|later|specific/i.test(se)&&(P="specific")),n({...s,items:N,orderType:E,roomNumber:te,deliveryTime:P,totalAmount:N.reduce((ue,ae)=>ue+ae.price*ae.quantity,0)})}}}}},[t,l,s,n]);const X=async()=>{if(!s)return;const C=()=>{if(s.roomNumber&&s.roomNumber!=="unknown")return s.roomNumber;if(l&&l.content){const v=l.content.match(/Room Number:?\s*(\w+)/i);if(v&&v[1])return v[1]}return"unknown"},j=s.items&&s.items.length>0?s.items:[{id:"1",name:"General Service",description:"No details provided",quantity:1,price:0}],T=s.orderType||"Room Service",q=s.deliveryTime||"asap",U=`ORD-${Math.floor(1e4+Math.random()*9e4)}`,w=new Date,N={callId:U,roomNumber:C(),orderType:T,deliveryTime:q,specialInstructions:U,items:j,totalAmount:s.totalAmount||0,status:"pending",createdAt:w.toISOString()};try{if(!(await fetch("https://minhnhotelben.onrender.com/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)})).ok)throw new Error("Failed to create order");o({reference:N.specialInstructions||N.callId,estimatedTime:N.deliveryTime,summary:s,...N}),a("interface4")}catch{alert("Failed to send order to reception!")}},W=()=>{!S.trim()||!l||r({...l,content:`${l.content}

Additional Notes:
${S}`})};return s?e.jsx("div",{className:`w-full transition-opacity duration-500 ${t?"opacity-100":"opacity-0 pointer-events-none"} z-30`,id:"interface3",style:{backgroundImage:`linear-gradient(${b.branding.colors.primary}CC, ${b.branding.colors.secondary}99), url(${nn})`,backgroundSize:"cover",backgroundPosition:"center",fontFamily:b.branding.fonts.primary+", SF Pro Text, Roboto, Open Sans, Arial, sans-serif"},children:e.jsx("div",{className:"container mx-auto flex flex-col p-2 sm:p-4 md:p-8",children:e.jsxs("div",{className:"mx-auto w-full max-w-4xl bg-white/90 rounded-2xl shadow-xl p-3 sm:p-6 md:p-10 mb-4 sm:mb-6 flex-grow border border-white/40 backdrop-blur-md",style:{minHeight:420},children:[e.jsx("div",{className:"mb-3 sm:mb-4 pb-2 sm:pb-3 border-b border-gray-200",children:e.jsx("p",{className:"font-poppins font-bold text-xl sm:text-2xl text-blue-900 tracking-wide",children:$("order_summary",x)})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 sm:gap-10 md:gap-16",children:[e.jsxs("div",{className:"md:w-3/4 w-full space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex sm:hidden flex-row w-full gap-2 mb-2",children:[e.jsxs("button",{className:"flex-1 flex items-center justify-center px-2 py-1.5 bg-white/80 hover:bg-blue-100 text-blue-900 rounded-full text-xs font-semibold border border-white/30 shadow transition-colors",onClick:()=>a("interface1"),children:[e.jsx("span",{className:"material-icons text-base mr-1",children:"cancel"}),$("cancel",x)]}),e.jsxs(H,{onClick:X,variant:"yellow",className:"flex-1 flex items-center justify-center space-x-2 text-xs font-bold sm:hidden",style:{minHeight:44,minWidth:120,zIndex:10},children:[e.jsx("span",{className:"material-icons",children:"send"}),e.jsx("span",{className:"whitespace-nowrap",children:$("send_to_reception",x)})]})]}),e.jsxs("div",{className:"flex flex-col gap-2 mb-2 sm:hidden",children:[e.jsxs("div",{className:"flex flex-row w-full gap-2",children:[e.jsx("button",{className:"h-10 px-3 bg-[#ffe082] hover:bg-[#ffe9b3] text-blue-900 rounded-full text-xs font-semibold shadow transition-colors flex-1",onClick:W,disabled:!S.trim(),children:$("add_note",x)}),e.jsxs("div",{className:"flex items-center space-x-2 w-full justify-center",children:[e.jsx("label",{className:"text-xs text-gray-600 font-medium",children:$("room_number",x)}),e.jsx("input",{type:"text",placeholder:$("enter_room_number",x),className:"w-16 p-2 border border-white/30 rounded-xl focus:ring-2 focus:ring-[#d4af37] focus:border-[#d4af37] bg-white/70 text-gray-900 font-semibold text-xs",value:s.roomNumber,onChange:C=>V("roomNumber",C.target.value)})]}),e.jsx("button",{className:"h-10 px-3 bg-white/70 text-blue-900 rounded-full text-xs font-semibold border border-white/30 shadow flex items-center justify-center",onClick:()=>a("interface3vi"),children:e.jsx("span",{className:"material-icons text-base",children:"language"})})]}),e.jsx("textarea",{placeholder:$("enter_notes",x),className:"w-full p-2 border border-white/30 rounded-xl text-xs bg-white/60 focus:bg-white/90 focus:ring-2 focus:ring-[#d4af37] transition italic font-light text-gray-500",value:S,onChange:C=>F(C.target.value),rows:3,style:{fontFamily:"inherit"}})]}),l&&e.jsxs("div",{id:"summary-container",className:"mb-3 sm:mb-4",children:[e.jsxs("div",{className:"p-3 sm:p-5 bg-white/80 rounded-xl shadow border border-white/30 mb-3 sm:mb-4 relative",style:{backdropFilter:"blur(2px)"},children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg mb-1 sm:mb-2 text-blue-800",children:$("summary",x)}),e.jsx("div",{className:"text-sm sm:text-base leading-relaxed text-gray-800 whitespace-pre-line",style:{fontWeight:400},children:(l.content||"").split(`
`).filter(j=>!/^Next Step:/i.test(j)&&!/Please Press Send To Reception/i.test(j)).map((j,T)=>{if(/^Guest's Name/i.test(j)){const q=j.replace(/\s*\(used for Guest with a confirmed reservation\)/i,"");return e.jsx("div",{children:e.jsx("b",{children:q})},T)}return/^Room Number:/i.test(j)?e.jsx("div",{children:e.jsx("b",{children:j})},T):/^REQUEST \d+:/i.test(j)?e.jsx("div",{className:"mt-3 mb-1",children:e.jsx("b",{children:j})},T):/^â€¢ Service Timing:/i.test(j)?e.jsx("div",{style:{marginLeft:16},children:e.jsx("b",{children:j})},T):/^â€¢ Order Details:/i.test(j)?e.jsx("div",{style:{marginLeft:16},children:e.jsx("b",{children:j})},T):/^â€¢ Special Requirements:/i.test(j)?e.jsx("div",{style:{marginLeft:16},children:e.jsx("b",{children:j})},T):/^â€¢ [^-].+/.test(j)?e.jsx("div",{style:{marginLeft:32},children:j},T):/^\s*[-â€¢]/.test(j)?e.jsx("div",{style:{marginLeft:32},children:j},T):/^\s*$/.test(j)?e.jsx("div",{style:{height:8}},T):e.jsx("div",{children:j},T)})}),e.jsx("div",{className:"mt-2 sm:mt-3 flex justify-end",children:e.jsxs("div",{className:"text-xs text-gray-500",children:[$("generated_at",x)," ",new Date(l.timestamp).toLocaleTimeString()]})})]}),e.jsx("div",{className:"text-center mt-2 mb-1",children:e.jsxs("span",{className:"italic text-sm",style:{color:"#2563eb",background:"#e0f2fe",borderRadius:"6px",padding:"4px 12px",display:"inline-block",fontWeight:500},children:["Please Press ",e.jsx("b",{style:{fontWeight:700,color:"#1d4ed8"},children:$("send_to_reception",x)})," To Complete Your Request"]})})]}),e.jsxs("div",{className:"hidden sm:flex flex-row items-center gap-2 h-10",children:[e.jsx("button",{className:"h-10 px-3 sm:px-4 bg-[#ffe082] hover:bg-[#ffe9b3] text-blue-900 rounded-full text-xs sm:text-sm font-semibold shadow transition-colors",onClick:W,disabled:!S.trim(),children:$("add_note",x)}),e.jsxs("div",{className:"flex items-center space-x-2 w-full justify-center",children:[e.jsx("label",{className:"text-xs sm:text-base text-gray-600 font-medium",children:$("room_number",x)}),e.jsx("input",{type:"text",placeholder:$("enter_room_number",x),className:"w-16 sm:w-32 p-2 border border-white/30 rounded-xl focus:ring-2 focus:ring-[#d4af37] focus:border-[#d4af37] bg-white/70 text-gray-900 font-semibold text-xs sm:text-base",value:s.roomNumber,onChange:C=>V("roomNumber",C.target.value)})]}),e.jsx("button",{className:"h-10 px-3 sm:px-4 bg-white/70 text-blue-900 rounded-full text-xs sm:text-sm font-semibold border border-white/30 shadow flex items-center justify-center",onClick:()=>a("interface3vi"),children:e.jsx("span",{className:"material-icons text-base",children:"language"})})]}),e.jsx("textarea",{placeholder:$("enter_notes",x),className:"hidden sm:block w-full p-2 sm:p-3 border border-white/30 rounded-xl mb-3 sm:mb-4 text-xs sm:text-sm bg-white/60 focus:bg-white/90 focus:ring-2 focus:ring-[#d4af37] transition italic font-light text-gray-500",value:S,onChange:C=>F(C.target.value),rows:3,style:{fontFamily:"inherit"}})]}),e.jsx("div",{className:"md:w-1/4 w-full hidden sm:flex md:justify-end justify-center",children:e.jsxs("div",{className:"flex flex-col items-end space-y-2 sm:space-y-3 w-full md:w-auto",children:[e.jsxs(H,{onClick:X,variant:"yellow",className:"w-full md:w-auto flex items-center justify-center space-x-2 text-xs sm:text-sm font-bold",style:{minHeight:44,minWidth:160,zIndex:10},children:[e.jsx("span",{className:"material-icons",children:"send"}),e.jsx("span",{className:"whitespace-nowrap",children:$("send_to_reception",x)})]}),e.jsxs("button",{className:"w-full md:w-auto flex items-center justify-center px-2 sm:px-3 py-1.5 bg-white/80 hover:bg-blue-100 text-blue-900 rounded-full text-xs font-semibold border border-white/30 shadow transition-colors",onClick:()=>a("interface1"),children:[e.jsx("span",{className:"material-icons text-base mr-1",children:"cancel"}),$("cancel",x)]})]})})]})]})})}):null},lg=({isActive:t})=>{const{setCurrentInterface:s,setTranscripts:n,setModelOutput:a,setCallDetails:o,setCallDuration:l,setEmailSentForCurrentSession:r,activeOrders:c,language:m,setLanguage:d,callSummary:h,orderSummary:p,setOrderSummary:_,endCall:k,hotelConfig:x}=we(),[b,u]=i.useState(!1),[y,S]=i.useState(0),[F,V]=i.useState(0),[X,W]=i.useState(!1),[C,j]=i.useState(null),[T,q]=i.useState(!1),[U,w]=i.useState(!1),[N,v]=i.useState(!1),[E,te]=i.useState(!1),[G,se]=i.useState(!1),[P,ue]=i.useState(new Date);i.useEffect(()=>{const g=setInterval(()=>ue(new Date),1e3);return()=>clearInterval(g)},[]);const ae=()=>{u(!b)},ce=g=>{const Q=Math.floor(g/60).toString().padStart(2,"0"),be=(g%60).toString().padStart(2,"0");return`${Q}:${be}`};i.useCallback(()=>{s("interface1")},[s]),i.useCallback(()=>{s(m==="fr"?"interface3fr":"interface3")},[s,m]),i.useEffect(()=>{let g=null;return t&&(console.log("Interface1 is active, starting local timer"),V(0),g=setInterval(()=>{V(Q=>Q+1)},1e3)),()=>{g&&(console.log("Cleaning up local timer in Interface1"),clearInterval(g))}},[t]);const Me=async g=>{if(!x){console.error("Hotel configuration not loaded");return}r(!1),o({id:`call-${Date.now()}`,roomNumber:"",duration:"0",category:""}),n([]),a([]),l(0);const Q=en(g,x),be=tn(g,x);if(!Q||!be){console.error("Vapi configuration not available for language:",g);return}const tt=await Ks(Q);tt&&be&&(await tt.start(be),q(!0),w(!0))},ge=g=>{j(C===g?null:g),C!==g&&setTimeout(()=>{j(Q=>Q===g?null:Q)},3e3)},de=({iconName:g,tooltip:Q,className:be})=>e.jsxs("div",{className:"relative flex flex-col items-center justify-center cursor-pointer",children:[e.jsx("span",{className:`material-icons text-xl sm:text-4xl text-[#F9BF3B] ${be||""}`,style:{filter:"drop-shadow(0px 2px 3px rgba(0, 0, 0, 0.2))"},onClick:()=>ge(g),children:g}),C===g&&e.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 w-max max-w-[160px] sm:max-w-[200px] bg-white/90 text-gray-800 text-xs sm:text-sm font-medium py-1 px-2 rounded shadow-lg z-50 pointer-events-none text-center",children:[Q,e.jsx("div",{className:"absolute w-2 h-2 bg-white/90 transform rotate-45 left-1/2 -translate-x-1/2 top-full -mt-1"})]})]}),Ge=g=>{if(!g)return{bg:"bg-gray-300",text:"text-gray-800",icon:"info"};switch(g){case"ÄÃ£ ghi nháº­n":return{bg:"bg-gray-300",text:"text-gray-800",icon:"assignment_turned_in"};case"Äang thá»±c hiá»‡n":return{bg:"bg-yellow-400",text:"text-yellow-900",icon:"autorenew"};case"ÄÃ£ thá»±c hiá»‡n vÃ  Ä‘ang bÃ n giao cho khÃ¡ch":return{bg:"bg-blue-400",text:"text-blue-900",icon:"local_shipping"};case"HoÃ n thiá»‡n":return{bg:"bg-green-500",text:"text-white",icon:"check_circle"};case"LÆ°u Ã½ khÃ¡c":return{bg:"bg-red-400",text:"text-white",icon:"error"};default:return{bg:"bg-gray-300",text:"text-gray-800",icon:"info"}}},f=g=>{if(!g)return"status_acknowledged";const Q=g.trim().toLowerCase();return Q.includes("Ä‘Ã£ ghi nháº­n")||Q.includes("acknowledged")?"status_acknowledged":Q.includes("Ä‘ang thá»±c hiá»‡n")||Q.includes("in progress")?"status_in_progress":Q.includes("bÃ n giao")||Q.includes("delivering")?"status_delivering":Q.includes("hoÃ n thiá»‡n")||Q.includes("completed")?"status_completed":Q.includes("lÆ°u Ã½")||Q.includes("note")?"status_note":"status_acknowledged"};console.log("ActiveOrders:",c);const I=Xe(),K=()=>{I&&I.stop(),q(!1),w(!1),v(!1),s("interface1")},Ie=async()=>{if(!(!T||!I)){se(!0);try{if(I.stop(),k(),!p&&(h!=null&&h.content)){const g=Jt(h.content);_(g)}!(h!=null&&h.content)||h.content==="Generating AI summary of your conversation..."?te(!0):v(!0)}catch(g){console.error("Error ending call:",g)}finally{se(!1)}}};i.useEffect(()=>{E&&(h!=null&&h.content)&&h.content!=="Generating AI summary of your conversation..."&&(te(!1),v(!0))},[h,E]),i.useEffect(()=>{if(h!=null&&h.content&&h.content!=="Generating AI summary of your conversation..."&&(!p||!p.items||p.items.length===0)){const g=Jt(h.content);_(g)}},[h,p,_]),i.useEffect(()=>{t&&(v(!1),te(!1),q(!1),w(!1))},[t]),i.useEffect(()=>{console.log("activeOrders changed:",c),c&&c.length>0&&(console.log("Setting showOrderCard to true"),W(!0))},[c]),i.useEffect(()=>{console.log("showOrderCard changed:",X)},[X]);const fe=[{iconName:"wb_sunny",tooltip:"Half Day"},{iconName:"calendar_today",tooltip:"Full Day"},{iconName:"event_note",tooltip:"Multi Day"},{iconName:"star",tooltip:"Special Tours"}],yt=[{iconName:"location_city",tooltip:"Ho Chi Minh"},{iconName:"park",tooltip:"Da Lat"},{iconName:"beach_access",tooltip:"Nha Trang"},{iconName:"waves",tooltip:"Da Nang"},{iconName:"directions_boat",tooltip:"Can Tho"},{iconName:"directions_bus",tooltip:"Vung Tau"},{iconName:"nature_people",tooltip:"My Tho"}],vt=[{iconName:"two_wheeler",tooltip:"Motorbike"},{iconName:"drive_eta",tooltip:"Car with driver"},{iconName:"directions_car",tooltip:"Car without Driver"}],Nt=[{iconName:"attach_money",tooltip:"USD"},{iconName:"euro",tooltip:"EUR"},{iconName:"currency_ruble",tooltip:"RUB"},{iconName:"currency_yen",tooltip:"KWR"},{iconName:"swap_horiz",tooltip:"Other"}],z=[{iconName:"local_laundry_service",tooltip:"Standard"},{iconName:"bolt",tooltip:"Express"},{iconName:"dry_cleaning",tooltip:"Dry Cleaning"},{iconName:"iron",tooltip:"Iron Service"},{iconName:"help",tooltip:"Special Request"}],Y=[{iconName:"home",tooltip:"Under 300.000 VND"},{iconName:"attach_money",tooltip:"300.000 to 600.000 VND"},{iconName:"house_siding",tooltip:"Over 600.000 VND"},{iconName:"calendar_month",tooltip:"Long-Rent"},{iconName:"meeting_room",tooltip:"Full-House"}],ne=[{iconName:"map",tooltip:"Area Map"},{iconName:"place",tooltip:"Attractions"},{iconName:"directions_walk",tooltip:"Walking Tour"},{iconName:"info",tooltip:"Tourist Info"}],_e=[{iconName:"restaurant",tooltip:"Order Food"},{iconName:"local_cafe",tooltip:"Beverages"},{iconName:"breakfast_dining",tooltip:"Breakfast"},{iconName:"room_service",tooltip:"Other Requests"}],J=[{iconName:"cleaning_services",tooltip:"Cleaning"},{iconName:"local_laundry_service",tooltip:"Laundry"},{iconName:"bathtub",tooltip:"Bathroom"},{iconName:"king_bed",tooltip:"Bedding"}],O=[{iconName:"rate_review",tooltip:"Review"},{iconName:"feedback",tooltip:"Feedback"},{iconName:"star_rate",tooltip:"Rate Us"},{iconName:"question_answer",tooltip:"Q&A"}],ke=[{iconName:"shopping_bag",tooltip:"Souvenir Shop"},{iconName:"local_florist",tooltip:"Handicraft"},{iconName:"redeem",tooltip:"Gift"},{iconName:"storefront",tooltip:"Local Product"}];return x?e.jsxs("div",{className:`absolute w-full min-h-screen h-full transition-opacity duration-500 ${t?"opacity-100":"opacity-0 pointer-events-none"} z-30 overflow-y-auto`,id:"interface1",style:{backgroundImage:`linear-gradient(${x.branding.colors.primary}CC, ${x.branding.colors.secondary}99), url(${nn})`,backgroundSize:"cover",backgroundPosition:"center",fontFamily:x.branding.fonts.primary+", SF Pro Text, Roboto, Open Sans, Arial, sans-serif"},children:[e.jsxs("div",{className:`container mx-auto flex flex-col items-center justify-start text-white p-3 pt-6 sm:p-5 sm:pt-10 lg:pt-16 overflow-visible pb-32 sm:pb-24 ${G?"opacity-5":"opacity-100"} transition-opacity duration-300`,style:{transform:"translateZ(20px)",minHeight:"fit-content"},children:[e.jsx("div",{className:"w-full flex flex-row items-center justify-start mb-2"}),e.jsx("p",{className:"text-2xl sm:text-4xl lg:text-5xl text-center max-w-full mb-4 truncate sm:whitespace-nowrap overflow-x-auto font-[Dancing_Script,cursive] font-bold bg-gradient-to-r from-red-500 via-orange-400 via-yellow-400 via-green-400 via-blue-500 via-indigo-500 to-purple-600 bg-clip-text text-transparent",style:{fontFamily:x.branding.fonts.primary+", Dancing Script, Poppins, cursive",letterSpacing:1},children:x.features.multiLanguage?$("speak_multiple_languages",m):`Welcome to ${x.hotelName} - AI Voice Assistant`}),e.jsxs("div",{className:"flex flex-row items-start justify-center gap-4 mb-4 sm:mb-12 w-full relative",children:[U&&e.jsx("div",{className:"hidden sm:block flex-shrink-0",style:{marginRight:0},children:e.jsx(Xt,{isOpen:U,onClose:()=>w(!1)})}),e.jsx("div",{className:"flex-none flex flex-col items-center justify-center mx-auto",style:{zIndex:10},children:T?e.jsxs("div",{className:"relative flex flex-col items-center justify-center mb-1 sm:mb-6 w-full max-w-xs mx-auto",children:[e.jsx(an,{containerId:"siri-button",isListening:!b,volumeLevel:y}),e.jsxs("div",{className:"flex items-center justify-center mt-2 w-full gap-2 sm:gap-3",children:[e.jsx("button",{className:"flex items-center justify-center transition-colors",title:$(b?"unmute":"mute",m),onClick:ae,style:{fontSize:22,padding:0,background:"none",border:"none",color:"#d4af37",width:28,height:28},onMouseOver:g=>g.currentTarget.style.color="#ffd700",onMouseOut:g=>g.currentTarget.style.color="#d4af37",children:e.jsx("span",{className:"material-icons",children:b?"mic_off":"mic"})}),e.jsx("div",{className:"flex-1 flex justify-center",children:e.jsx("div",{className:"text-white text-xs sm:text-sm bg-blue-900/80 rounded-full px-3 sm:px-4 py-1 shadow-lg border border-white/30 flex items-center justify-center",style:{backdropFilter:"blur(2px)"},children:ce(F)})}),e.jsx("div",{className:"w-7 h-7 flex items-center justify-center",children:e.jsx("div",{className:"w-5 h-5 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx("div",{className:"w-3 h-3 rounded-full bg-white transition-all duration-200",style:{transform:`scale(${1+y*.5})`,opacity:.7+y*.3}})})})]}),T&&e.jsxs("div",{className:"flex flex-row justify-between items-center w-full max-w-xs mx-auto mt-2 gap-2",children:[e.jsx("button",{className:"flex-1 py-2 rounded-full bg-white hover:bg-red-100 text-red-700 font-semibold text-sm border border-red-200 shadow transition",style:{minWidth:90,maxWidth:120},onClick:K,children:"Cancel"}),e.jsx("button",{className:"flex-1 py-2 rounded-full bg-yellow-400 hover:bg-yellow-500 text-blue-900 font-bold text-sm shadow transition",style:{minWidth:90,maxWidth:120},onClick:Ie,children:$("confirm_request",m)})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-amber-400 animate-[ripple_1.5s_linear_infinite] pointer-events-none transition-opacity duration-300 group-hover:opacity-80 opacity-60"}),e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-amber-400/70 animate-[ripple_2s_linear_infinite] pointer-events-none transition-opacity duration-300 group-hover:opacity-60 opacity-40"}),e.jsxs("button",{id:`vapiButton${m==="en"?"En":m==="fr"?"Fr":m==="zh"?"Zh":m==="ru"?"Ru":m==="ko"?"Ko":"Vi"}`,className:"group relative w-36 h-36 sm:w-40 sm:h-40 lg:w-56 lg:h-56 rounded-full font-poppins font-bold flex flex-col items-center justify-center overflow-hidden hover:translate-y-[-2px] hover:shadow-[0px_12px_20px_rgba(0,0,0,0.2)]",onClick:()=>Me(m),style:{background:m==="en"?"linear-gradient(180deg, rgba(85,154,154,0.9) 0%, rgba(85,154,154,0.9) 100%)":m==="fr"?"linear-gradient(180deg, rgba(59, 130, 246, 0.9) 0%, rgba(37, 99, 235, 0.9) 100%)":m==="zh"?"linear-gradient(180deg, rgba(220, 38, 38, 0.9) 0%, rgba(185, 28, 28, 0.9) 100%)":m==="ru"?"linear-gradient(180deg, rgba(79, 70, 229, 0.9) 0%, rgba(67, 56, 202, 0.9) 100%)":"linear-gradient(180deg, rgba(16, 185, 129, 0.9) 0%, rgba(5, 150, 105, 0.9) 100%)",boxShadow:"0px 12px 24px rgba(0, 0, 0, 0.25), 0px 6px 12px rgba(0, 0, 0, 0.15), inset 0px 1px 0px rgba(255, 255, 255, 0.3)",border:"1px solid rgba(255, 255, 255, 0.5)",transition:"all 0.3s ease",transform:"translateY(0) translateZ(30px)"},children:[e.jsx("span",{className:"material-icons text-4xl sm:text-6xl lg:text-7xl mb-2 text-[#F9BF3B] transition-all duration-300 group-hover:scale-110",style:{filter:"drop-shadow(0px 2px 3px rgba(0, 0, 0, 0.2))",color:m==="en"?"#F9BF3B":m==="fr"?"#FFFFFF":m==="zh"?"#FFEB3B":m==="ru"?"#F48FB1":"#4ADE80"},children:"mic"}),e.jsx("span",{className:"text-lg sm:text-2xl lg:text-3xl font-bold whitespace-nowrap text-white",style:{textShadow:"0px 1px 2px rgba(0, 0, 0, 0.2)"},children:$("press_to_call",m)}),e.jsx("span",{className:"absolute w-full h-full rounded-full pointer-events-none"})]})]})}),U&&e.jsx("div",{className:"hidden sm:block flex-shrink-0 text-gray-800",style:{marginLeft:0},children:e.jsx(Yt,{isOpen:U,onClose:()=>w(!1)})})]}),U&&e.jsxs("div",{className:"block sm:hidden w-full flex flex-col items-center gap-2 mb-2 text-gray-800",children:[e.jsx(Xt,{isOpen:U,onClose:()=>w(!1)}),e.jsx(Yt,{isOpen:U,onClose:()=>w(!1)})]}),e.jsxs("div",{className:"text-center w-full max-w-5xl mb-10 sm:mb-8",style:{perspective:"1000px"},children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-center gap-3 mb-3 w-full",children:[e.jsxs("div",{className:"p-0.5 py-0 sm:p-2 w-4/5 mx-auto md:w-48 min-h-[38px] h-[45px] sm:min-h-[77px] sm:h-[90px] transition-all duration-250 hover:scale-103 hover:-translate-y-1 flex flex-col justify-between",style:{background:"rgba(85,154,154,0.7)",backdropFilter:"blur(8px)",borderRadius:"12px",boxShadow:"0px 10px 25px rgba(0, 0, 0, 0.15)",border:"1px solid rgba(255, 255, 255, 0.18)",transform:"translateZ(20px)"},children:[e.jsx("h4",{className:"font-medium text-amber-400 pb-0 mb-0.5 text-xs sm:text-sm",style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)",textShadow:"0px 1px 2px rgba(0, 0, 0, 0.2)"},children:"Local Tourism Info"}),e.jsx("ul",{className:"grid grid-cols-4 gap-0 sm:gap-2 py-0.5 sm:py-2",children:ne.map(g=>e.jsx("li",{children:e.jsx(de,{iconName:g.iconName,tooltip:g.tooltip})},g.iconName))})]}),e.jsxs("div",{className:"p-0.5 py-0 sm:p-2 w-4/5 mx-auto md:w-48 min-h-[38px] h-[45px] sm:min-h-[77px] sm:h-[90px] transition-all duration-250 hover:scale-103 hover:-translate-y-1 flex flex-col justify-between",style:{background:"rgba(85,154,154,0.7)",backdropFilter:"blur(8px)",borderRadius:"12px",boxShadow:"0px 10px 25px rgba(0, 0, 0, 0.15)",border:"1px solid rgba(255, 255, 255, 0.18)",transform:"translateZ(20px)"},children:[e.jsx("h4",{className:"font-medium text-amber-400 pb-0 mb-0.5 text-xs sm:text-sm",style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)",textShadow:"0px 1px 2px rgba(0, 0, 0, 0.2)"},children:"Room Service"}),e.jsx("ul",{className:"grid grid-cols-4 gap-0 sm:gap-2 py-0.5 sm:py-2",children:_e.map(g=>e.jsx("li",{children:e.jsx(de,{iconName:g.iconName,tooltip:g.tooltip})},g.iconName))})]}),e.jsxs("div",{className:"p-0.5 py-0 sm:p-2 w-4/5 mx-auto md:w-48 min-h-[38px] h-[45px] sm:min-h-[77px] sm:h-[90px] transition-all duration-250 hover:scale-103 hover:-translate-y-1 flex flex-col justify-between",style:{background:"rgba(85,154,154,0.7)",backdropFilter:"blur(8px)",borderRadius:"12px",boxShadow:"0px 10px 25px rgba(0, 0, 0, 0.15)",border:"1px solid rgba(255, 255, 255, 0.18)",transform:"translateZ(20px)"},children:[e.jsx("h4",{className:"font-medium text-amber-400 pb-0 mb-0.5 text-xs sm:text-sm",style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)",textShadow:"0px 1px 2px rgba(0, 0, 0, 0.2)"},children:"Housekeeping"}),e.jsx("ul",{className:"grid grid-cols-4 gap-0 sm:gap-2 py-0.5 sm:py-2",children:J.map(g=>e.jsx("li",{children:e.jsx(de,{iconName:g.iconName,tooltip:g.tooltip})},g.iconName))})]}),e.jsxs("div",{className:"p-0.5 py-0 sm:p-2 w-4/5 mx-auto md:w-48 min-h-[38px] h-[45px] sm:min-h-[77px] sm:h-[90px] transition-all duration-250 hover:scale-103 hover:-translate-y-1 flex flex-col justify-between",style:{background:"rgba(85,154,154,0.7)",backdropFilter:"blur(8px)",borderRadius:"12px",boxShadow:"0px 10px 25px rgba(0, 0, 0, 0.15)",border:"1px solid rgba(255, 255, 255, 0.18)",transform:"translateZ(20px)"},children:[e.jsx("h4",{className:"font-medium text-amber-400 pb-0 mb-0.5 text-xs sm:text-sm",style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)",textShadow:"0px 1px 2px rgba(0, 0, 0, 0.2)"},children:"Guest Feedbacks"}),e.jsx("ul",{className:"grid grid-cols-4 gap-0 sm:gap-2 py-0.5 sm:py-2",children:O.map(g=>e.jsx("li",{children:e.jsx(de,{iconName:g.iconName,tooltip:g.tooltip})},g.iconName))})]}),e.jsxs("div",{className:"p-0.5 py-0 sm:p-2 w-4/5 mx-auto md:w-48 min-h-[38px] h-[45px] sm:min-h-[77px] sm:h-[90px] transition-all duration-250 hover:scale-103 hover:-translate-y-1 flex flex-col justify-between",style:{background:"rgba(85,154,154,0.7)",backdropFilter:"blur(8px)",borderRadius:"12px",boxShadow:"0px 10px 25px rgba(0, 0, 0, 0.15)",border:"1px solid rgba(255, 255, 255, 0.18)",transform:"translateZ(20px)"},children:[e.jsx("h4",{className:"font-medium text-amber-400 pb-0 mb-0.5 text-xs sm:text-sm",style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)",textShadow:"0px 1px 2px rgba(0, 0, 0, 0.2)"},children:"Local Souvenir"}),e.jsx("ul",{className:"grid grid-cols-4 gap-0 sm:gap-2 py-0.5 sm:py-2",children:ke.map(g=>e.jsx("li",{children:e.jsx(de,{iconName:g.iconName,tooltip:g.tooltip})},g.iconName))})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-center gap-3 mb-3 w-full",children:[e.jsxs("div",{className:"p-0.5 py-0 sm:p-2 w-4/5 mx-auto md:w-64 min-h-[38px] h-[45px] sm:min-h-[77px] sm:h-[90px] transition-all duration-250 hover:scale-103 hover:-translate-y-1 flex flex-col justify-between",style:{background:"rgba(85,154,154,0.7)",backdropFilter:"blur(8px)",borderRadius:"12px",boxShadow:"0px 10px 25px rgba(0, 0, 0, 0.15)",border:"1px solid rgba(255, 255, 255, 0.18)",transform:"translateZ(20px)"},children:[e.jsx("h4",{className:"font-medium text-amber-400 pb-0 mb-0.5 text-xs sm:text-sm",style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)",textShadow:"0px 1px 2px rgba(0, 0, 0, 0.2)"},children:"Tours"}),e.jsx("ul",{className:"grid grid-cols-4 gap-0 sm:gap-2 py-0.5 sm:py-2",children:fe.map(g=>e.jsx("li",{children:e.jsx(de,{iconName:g.iconName,tooltip:g.tooltip})},g.iconName))})]}),e.jsxs("div",{className:"p-0.5 py-0 sm:p-2 w-4/5 mx-auto md:w-[560px] min-h-[38px] h-[45px] sm:min-h-[77px] sm:h-[90px] transition-all duration-250 hover:scale-103 hover:-translate-y-1 flex flex-col justify-between",style:{background:"rgba(85,154,154,0.7)",backdropFilter:"blur(8px)",borderRadius:"12px",boxShadow:"0px 10px 25px rgba(0, 0, 0, 0.15)",border:"1px solid rgba(255, 255, 255, 0.18)",transform:"translateZ(20px)"},children:[e.jsx("h4",{className:"font-medium text-amber-400 pb-0 mb-0.5 text-xs sm:text-sm",style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)",textShadow:"0px 1px 2px rgba(0, 0, 0, 0.2)"},children:"Bus Tickets"}),e.jsx("ul",{className:"flex flex-row flex-nowrap gap-4 py-0.5 sm:py-2 justify-center items-center",children:yt.map(g=>e.jsx("li",{children:e.jsx(de,{iconName:g.iconName,tooltip:g.tooltip})},g.iconName))})]}),e.jsxs("div",{className:"p-0.5 py-0 sm:p-2 w-4/5 mx-auto md:w-64 min-h-[38px] h-[45px] sm:min-h-[77px] sm:h-[90px] transition-all duration-250 hover:scale-103 hover:-translate-y-1 flex flex-col justify-between",style:{background:"rgba(85,154,154,0.7)",backdropFilter:"blur(8px)",borderRadius:"12px",boxShadow:"0px 10px 25px rgba(0, 0, 0, 0.15)",border:"1px solid rgba(255, 255, 255, 0.18)",transform:"translateZ(20px)"},children:[e.jsx("h4",{className:"font-medium text-amber-400 pb-0 mb-0.5 text-xs sm:text-sm",style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)",textShadow:"0px 1px 2px rgba(0, 0, 0, 0.2)"},children:"Vehicle Rental"}),e.jsx("ul",{className:"grid grid-cols-3 gap-0 sm:gap-2 py-0.5 sm:py-2",children:vt.map(g=>e.jsx("li",{children:e.jsx(de,{iconName:g.iconName,tooltip:g.tooltip})},g.iconName))})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-center gap-3 w-full mb-8",children:[e.jsxs("div",{className:"p-0.5 py-0 sm:p-2 w-4/5 mx-auto md:w-64 mb-2 sm:mb-0 min-h-[38px] h-[45px] sm:min-h-[77px] sm:h-[90px] transition-all duration-250 hover:scale-103 hover:-translate-y-1 flex flex-col justify-between",style:{background:"rgba(85,154,154,0.7)",backdropFilter:"blur(8px)",borderRadius:"12px",boxShadow:"0px 10px 25px rgba(0, 0, 0, 0.15)",border:"1px solid rgba(255, 255, 255, 0.18)",transform:"translateZ(20px)"},children:[e.jsx("h4",{className:"font-medium text-amber-400 pb-0 mb-0.5 text-xs sm:text-sm",style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)",textShadow:"0px 1px 2px rgba(0, 0, 0, 0.2)"},children:"Currency Exchange"}),e.jsx("ul",{className:"grid grid-cols-5 gap-0 sm:gap-2 py-0.5 sm:py-2",children:Nt.map(g=>e.jsx("li",{children:e.jsx(de,{iconName:g.iconName,tooltip:g.tooltip})},g.iconName))})]}),e.jsxs("div",{className:"p-0.5 py-0 sm:p-2 w-4/5 mx-auto md:w-64 mb-2 sm:mb-0 min-h-[38px] h-[45px] sm:min-h-[77px] sm:h-[90px] transition-all duration-250 hover:scale-103 hover:-translate-y-1 flex flex-col justify-between",style:{background:"rgba(85,154,154,0.7)",backdropFilter:"blur(8px)",borderRadius:"12px",boxShadow:"0px 10px 25px rgba(0, 0, 0, 0.15)",border:"1px solid rgba(255, 255, 255, 0.18)",transform:"translateZ(20px)"},children:[e.jsx("h4",{className:"font-medium text-amber-400 pb-0 mb-0.5 text-xs sm:text-sm",style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)",textShadow:"0px 1px 2px rgba(0, 0, 0, 0.2)"},children:"Laundry Service"}),e.jsx("ul",{className:"grid grid-cols-5 gap-0 sm:gap-2 py-0.5 sm:py-2",children:z.map(g=>e.jsx("li",{children:e.jsx(de,{iconName:g.iconName,tooltip:g.tooltip})},g.iconName))})]}),e.jsxs("div",{className:"p-0.5 py-0 sm:p-2 w-4/5 mx-auto md:w-64 mb-4 sm:mb-0 min-h-[38px] h-[45px] sm:min-h-[77px] sm:h-[90px] transition-all duration-250 hover:scale-103 hover:-translate-y-1 flex flex-col justify-between",style:{background:"rgba(85,154,154,0.7)",backdropFilter:"blur(8px)",borderRadius:"12px",boxShadow:"0px 10px 25px rgba(0,0,0,0.15)",border:"1px solid rgba(255,255,255,0.18)",transform:"translateZ(20px)"},children:[e.jsx("h4",{className:"font-medium text-amber-400 pb-0 mb-0.5 text-xs sm:text-sm",style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)",textShadow:"0px 1px 2px rgba(0, 0, 0, 0.2)"},children:"HomeStay"}),e.jsx("ul",{className:"grid grid-cols-5 gap-0 sm:gap-2 py-0.5 sm:py-2",children:Y.map(g=>e.jsx("li",{children:e.jsx(de,{iconName:g.iconName,tooltip:g.tooltip})},g.iconName))})]})]})]}),X&&c&&c.length>0&&e.jsx("div",{className:"flex flex-col items-center gap-y-4 mb-20 pb-16 w-full px-2 sm:mb-12 sm:pb-8 sm:flex-row sm:flex-nowrap sm:gap-x-4 sm:overflow-x-auto sm:justify-start mt-4",children:[...c].sort((g,Q)=>Q.requestedAt.getTime()-g.requestedAt.getTime()).map(g=>{const Q=new Date(g.requestedAt.getTime()+36e5),be=Math.max(Math.ceil((Q.getTime()-P.getTime())/1e3),0);if(be<=0)return null;const tt=Math.floor(be/60).toString().padStart(2,"0"),jn=(be%60).toString().padStart(2,"0");return e.jsxs("div",{className:"p-2 sm:p-3 text-gray-800 max-w-xs w-[220px] flex-shrink-0 transition-all duration-250 hover:rotate-1 hover:scale-105",style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(8px)",borderRadius:"24px",boxShadow:"0px 10px 25px rgba(0, 0, 0, 0.15)",border:"1px solid rgba(255, 255, 255, 0.4)",transform:"translateZ(20px)",transformStyle:"preserve-3d",zIndex:20,marginBottom:"8px",transition:"all 0.3s ease-in-out"},children:[e.jsx("div",{className:"flex justify-center items-center mb-1.5",children:e.jsx("span",{className:"font-bold text-lg text-blue-800 bg-blue-50 px-4 py-1.5 rounded-full shadow-sm",style:{borderRadius:"16px",boxShadow:"0px 2px 6px rgba(0, 0, 0, 0.1)"},children:`${tt}:${jn}`})}),e.jsxs("p",{className:"text-xs sm:text-sm mb-0.5 px-1.5",children:[e.jsxs("strong",{children:[$("order_ref",m),":"]})," ",g.reference]}),e.jsxs("p",{className:"text-xs sm:text-sm mb-0.5 px-1.5",children:[e.jsxs("strong",{children:[$("requested_at",m),":"]})," ",g.requestedAt.toLocaleString("en-US",{timeZone:"Asia/Ho_Chi_Minh",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})]}),e.jsxs("p",{className:"text-xs sm:text-sm mb-0.5 px-1.5",children:[e.jsxs("strong",{children:[$("estimated_completion",m),":"]})," ",g.estimatedTime]}),e.jsx("div",{className:"mt-2 flex justify-center",children:(()=>{const wt=Ge(g.status);return console.log("Order status:",g.status,"->",f(g.status)),e.jsxs("span",{className:`flex items-center gap-1 px-2 py-1 text-xs font-semibold ${wt.bg} ${wt.text} w-full text-center shadow-md border border-white/60`,style:{borderRadius:"16px",boxShadow:"0px 1px 4px rgba(0, 0, 0, 0.12)",transition:"all 0.2s ease",letterSpacing:.2},children:[e.jsx("span",{className:"material-icons text-base mr-1",style:{marginTop:-2},children:wt.icon}),$(f(g.status),m)]})})()})]},g.reference)})})]}),E&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-sm",children:e.jsx("div",{className:"relative bg-white/90 rounded-2xl shadow-xl p-6 sm:p-8 max-w-md w-full mx-4",children:e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx("span",{className:"material-icons text-blue-600 text-3xl sm:text-4xl animate-spin",children:"sync"})}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-blue-900 text-center",children:$("generating_your_summary",m)})]})})}),N&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-start sm:items-center justify-center bg-black/30 backdrop-blur-sm",children:e.jsxs("div",{className:"relative w-full h-full flex items-start sm:items-center justify-center",children:[e.jsx("button",{className:"absolute top-2 right-2 z-10 p-2 bg-white/80 rounded-full shadow hover:bg-white",onClick:()=>v(!1),title:"ÄÃ³ng summary",children:e.jsx("span",{className:"material-icons text-gray-600",children:"close"})}),e.jsx("div",{className:"w-full max-w-4xl flex justify-center pt-50 sm:pt-0",children:e.jsx("div",{className:"w-full max-h-screen overflow-y-auto",children:e.jsx(rn,{isActive:!0})})})]})})]}):e.jsx("div",{className:"absolute w-full min-h-screen h-full flex items-center justify-center z-30 bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Loading hotel configuration..."})]})})},Zt=["Landmark","Hotel Amenities","Local Cuisine","Area Map","Activity and Experiences","Tours","Transportation","Dining"],cg=({references:t})=>{const[s,n]=i.useState({}),[a,o]=i.useState(!0),[l,r]=i.useState(Zt[0]),[c,m]=i.useState(null);i.useEffect(()=>{o(!0);let u=0;if(t.length===0){o(!1);return}t.forEach(y=>{y.type==="document"&&y.url.endsWith(".txt")&&!s[y.url]?fetch(y.url).then(S=>S.text()).then(S=>{n(F=>({...F,[y.url]:S})),u++,u===t.length&&o(!1)}).catch(()=>{u++,u===t.length&&o(!1)}):(u++,u===t.length&&o(!1))}),t.every(y=>y.type!=="document"||!y.url.endsWith(".txt"))&&o(!1)},[t]);const d=u=>/^https?:\/\//.test(u)?u:`/${u.replace(/^\//,"")}`,h=async(u,y)=>{try{const F=await(await fetch(d(u))).blob(),V=URL.createObjectURL(F),X=document.createElement("a");X.href=V,X.download=y,document.body.appendChild(X),X.click(),document.body.removeChild(X),URL.revokeObjectURL(V)}catch(S){console.error("Error downloading file:",S)}},p=u=>{window.open(d(u),"_blank")},_=()=>e.jsxs("div",{className:"animate-pulse bg-white/80 rounded-xl shadow-md h-[180px] flex flex-col p-4 gap-2",children:[e.jsx("div",{className:"bg-gray-200 rounded w-full h-2/3 mb-2"}),e.jsx("div",{className:"bg-gray-200 rounded w-2/3 h-4 mb-1"}),e.jsx("div",{className:"bg-gray-100 rounded w-1/2 h-3"})]}),k=u=>e.jsxs("div",{className:"group bg-white/90 rounded-xl shadow-md h-[180px] flex flex-col justify-between cursor-pointer transition-transform duration-200 hover:scale-[1.03] active:scale-95 border border-white/40 backdrop-blur-md",style:{minWidth:220,maxWidth:260},onClick:()=>u.type==="link"?p(u.url):void 0,children:[e.jsxs("div",{className:"flex-1 flex items-center justify-center overflow-hidden rounded-t-xl",style:{height:"60%"},children:[u.type==="image"&&e.jsx("img",{src:d(u.url),alt:u.title,className:"object-cover w-full h-full rounded-t-xl hover:opacity-80 transition cursor-zoom-in",onClick:y=>{y.stopPropagation(),m(d(u.url))},tabIndex:0,onKeyDown:y=>{(y.key==="Enter"||y.key===" ")&&m(d(u.url))}}),u.type==="document"&&u.url.endsWith(".pdf")&&e.jsx("span",{className:"material-icons text-5xl text-blue-700/80",children:"picture_as_pdf"}),u.type==="document"&&u.url.endsWith(".txt")&&e.jsx("span",{className:"material-icons text-5xl text-green-700/80",children:"description"}),u.type==="link"&&e.jsx("span",{className:"material-icons text-5xl text-yellow-700/80",children:"link"})]}),e.jsxs("div",{className:"flex flex-col gap-1 px-3 py-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-base font-medium text-gray-900 truncate",children:u.title}),u.type==="document"&&e.jsx("button",{onClick:y=>{y.stopPropagation(),h(u.url,u.title)},className:"ml-auto p-1 rounded-full hover:bg-yellow-100 text-yellow-700 transition-colors",children:e.jsx("span",{className:"material-icons text-base",children:"download"})}),u.type==="link"&&e.jsx("span",{className:"material-icons text-xs text-gray-400 ml-1",children:"open_in_new"})]}),u.description&&e.jsx("span",{className:"text-xs text-gray-500 truncate",children:u.description}),u.url.endsWith(".txt")&&s[u.url]&&e.jsxs("pre",{className:"mt-1 max-h-12 overflow-auto whitespace-pre-wrap text-xs text-gray-700 bg-gray-50 rounded p-1",children:[s[u.url].slice(0,120),"..."]})]})]}),x=()=>window.innerWidth<640?"auto":window.innerWidth<1024?2:window.innerWidth<1280?3:4,b=t.filter(u=>u.category&&u.category.trim().toLowerCase()===l.trim().toLowerCase());return e.jsxs("div",{className:"w-full sm:max-w-5xl mx-auto mt-2 mb-2 px-2 py-3 rounded-2xl",style:{background:"rgba(85,154,154,0.85)",minHeight:260},children:[c&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",onClick:()=>m(null),children:e.jsxs("div",{className:"relative max-w-3xl w-full flex flex-col items-center",children:[e.jsx("button",{className:"absolute top-2 right-2 bg-white/80 hover:bg-white text-gray-800 rounded-full p-2 shadow-lg z-10",onClick:u=>{u.stopPropagation(),m(null)},children:e.jsx("span",{className:"material-icons text-2xl",children:"close"})}),e.jsx("img",{src:c,alt:"PhÃ³ng to áº£nh reference",className:"rounded-xl max-h-[80vh] w-auto object-contain border-4 border-white shadow-2xl",onClick:u=>u.stopPropagation()})]})}),e.jsx("div",{className:"flex items-center mb-4 px-2",children:e.jsxs("div",{className:"flex items-center px-3 py-2 sm:py-1.5 gap-2 transition-all duration-300 mx-auto sm:mx-0",style:{background:"linear-gradient(135deg, #79DBDC 0%, #559A9A 100%)",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.15)",borderRadius:"8px",minWidth:"150px",maxWidth:"95%",width:"auto",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[e.jsx(fa,{className:"text-[#F9BF3B] text-xl mr-1.5",style:{filter:"drop-shadow(0px 2px 3px rgba(0, 0, 0, 0.2))"}}),e.jsx("label",{className:"mr-2 font-semibold font-sans text-white whitespace-nowrap text-sm sm:text-base",children:"Category:"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("select",{value:l,onChange:u=>r(u.target.value),className:"appearance-none w-full pl-6 sm:pl-8 pr-6 py-1 sm:py-1.5 font-sans bg-transparent focus:outline-none transition-all duration-200",style:{fontWeight:600,color:"#fff",textShadow:"0px 1px 2px rgba(0, 0, 0, 0.2)",borderRadius:"8px"},children:Zt.map(u=>e.jsx("option",{value:u,className:"bg-blue-800 text-white",children:u},u))}),e.jsx(Hs,{className:"absolute right-2 top-1/2 -translate-y-1/2 text-[#F9BF3B] pointer-events-none text-lg"})]})]})}),a?e.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2",children:[...Array(3)].map((u,y)=>e.jsx(_,{},y))}):b.length===0?e.jsx("div",{className:"flex items-center justify-center h-[120px] text-white/80 text-base font-medium",children:"No references available"}):e.jsx(ha,{modules:[ua,xa,ga],spaceBetween:16,slidesPerView:x(),navigation:b.length>3,pagination:{clickable:!0,dynamicBullets:!0},className:"w-full",style:{paddingBottom:32,overflowX:window.innerWidth<640?"auto":void 0},children:b.map((u,y)=>e.jsx(pa,{className:"flex justify-center",style:window.innerWidth<640?{width:"90vw",maxWidth:"98vw",minWidth:0}:{},children:k(u)},u.url+y))})]})};class dg{constructor(){this.referenceMap={}}async initialize(){try{const s=await fetch("/assets/references/reference-map.json");this.referenceMap=await s.json(),console.log("Loaded referenceMap:",this.referenceMap)}catch(s){console.error("Error loading reference map:",s)}}findReferences(s){const n=s.toLowerCase(),a=[];return Object.values(this.referenceMap).forEach(o=>{o.keywords.some(r=>n.includes(r.toLowerCase()))&&!a.find(r=>r.url===o.url)&&a.push(o)}),a}async addReference(s,n){this.referenceMap[s]=n;try{await fetch("/api/references",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...n,id:s})})}catch(a){console.error("Error saving reference:",a)}}}const Qt=new dg,mg=({isActive:t})=>{const{transcripts:s,callDetails:n,callDuration:a,endCall:o,isMuted:l,toggleMute:r,setCurrentInterface:c,micLevel:m,modelOutput:d,language:h,hotelConfig:p}=we(),[_,k]=i.useState({}),x=i.useRef({}),[b,u]=i.useState([]),[y,S]=i.useState([]),[F,V]=i.useState(0),X=i.useRef(null),[W,C]=i.useState(!0),j=()=>{Object.values(x.current).forEach(w=>{cancelAnimationFrame(w)}),x.current={}};i.useEffect(()=>{async function w(){await Qt.initialize();const N=Object.values(Qt.referenceMap||{});console.log("All references loaded:",N),S(N)}w()},[]),i.useEffect(()=>{const w=[...s].sort((E,te)=>E.timestamp.getTime()-te.timestamp.getTime()),N=[];let v=null;w.forEach(E=>{E.role==="user"?(v={id:E.id.toString(),role:"user",timestamp:E.timestamp,messages:[{id:E.id.toString(),content:E.content,timestamp:E.timestamp}]},N.push(v)):((!v||v.role==="user")&&(v={id:E.id.toString(),role:"assistant",timestamp:E.timestamp,messages:[]},N.push(v)),v.messages.push({id:E.id.toString(),content:E.content,timestamp:E.timestamp}))}),u(N)},[s]),i.useEffect(()=>(b.filter(N=>N.role==="assistant").flatMap(N=>N.messages).forEach(N=>{if(_[N.id]===N.content.length)return;let v=_[N.id]||0;const E=N.content,te=()=>{v<E.length?(k(G=>({...G,[N.id]:v+1})),v++,x.current[N.id]=requestAnimationFrame(te)):delete x.current[N.id]};x.current[N.id]=requestAnimationFrame(te)}),()=>j()),[b]);const T=i.useCallback(()=>{const w=a>0?a:F;console.log("Canceling call with duration:",w),o(),c("interface1")},[a,F,o,c]),q=i.useCallback(()=>{if(!s||s.length===0){alert($("need_conversation",h));return}const w=a>0?a:F;console.log("Ending call with duration:",w),o(),c(h==="fr"?"interface3fr":h==="vi"?"interface3vi":"interface3")},[a,F,o,c,s,h]),U=w=>{const N=Math.floor(w/60).toString().padStart(2,"0"),v=(w%60).toString().padStart(2,"0");return`${N}:${v}`};return p?(i.useEffect(()=>{let w=null;return t&&(console.log("Interface2 is active, starting local timer"),V(a||0),w=setInterval(()=>{V(N=>N+1)},1e3)),()=>{w&&(console.log("Cleaning up local timer in Interface2"),clearInterval(w))}},[t,a]),i.useEffect(()=>{X.current&&t&&(X.current.scrollTop=0)},[b,t]),e.jsx("div",{className:`absolute w-full min-h-screen h-full transition-opacity duration-500 ${t?"opacity-100":"opacity-0 pointer-events-none"} z-20 overflow-y-auto`,id:"interface2",style:{backgroundImage:`linear-gradient(${p.branding.colors.primary}CC, ${p.branding.colors.secondary}99), url('/assets/courtyard.jpeg')`,backgroundSize:"cover",backgroundPosition:"center",fontFamily:p.branding.fonts.primary+", SF Pro Text, Roboto, Open Sans, Arial, sans-serif"},children:e.jsxs("div",{className:"container mx-auto flex flex-col md:flex-row p-2 h-full gap-2",children:[e.jsxs("div",{className:"w-full md:w-3/4 lg:w-2/3 flex flex-col items-center space-y-1 sm:space-y-4 mt-1 min-h-0 overflow-y-auto",children:[e.jsxs("div",{className:"relative flex flex-col items-center justify-center mb-1 sm:mb-6 w-full max-w-xs mx-auto",children:[e.jsx(an,{containerId:"siri-button",isListening:!l,volumeLevel:m}),e.jsxs("div",{className:"flex items-center justify-center mt-2 w-full gap-2 sm:gap-3",children:[e.jsx("button",{className:"flex items-center justify-center transition-colors",title:$(l?"unmute":"mute",h),onClick:r,style:{fontSize:22,padding:0,background:"none",border:"none",color:"#d4af37",width:28,height:28},onMouseOver:w=>w.currentTarget.style.color="#ffd700",onMouseOut:w=>w.currentTarget.style.color="#d4af37",children:e.jsx("span",{className:"material-icons",children:l?"mic_off":"mic"})}),e.jsxs("button",{id:"cancelButton",onClick:T,className:"flex items-center justify-center px-3 py-2 bg-white/80 hover:bg-blue-100 text-blue-900 rounded-full text-xs font-semibold border-2 border-blue-200 shadow transition-colors sm:hidden active:scale-95 active:bg-blue-100",style:{fontFamily:"inherit",letterSpacing:.2,minHeight:44,minWidth:90,fontSize:14,touchAction:"manipulation",zIndex:10},children:[e.jsx("span",{className:"material-icons text-base mr-1",children:"cancel"}),$("cancel",h)]}),e.jsx("div",{className:"flex-1 flex justify-center",children:e.jsx("div",{className:"text-white text-xs sm:text-sm bg-blue-900/80 rounded-full px-3 sm:px-4 py-1 shadow-lg border border-white/30 flex items-center justify-center",style:{backdropFilter:"blur(2px)"},children:U(F)})}),e.jsxs(H,{id:"confirmButton",onClick:q,variant:"yellow",className:"flex items-center justify-center sm:hidden text-xs font-bold",style:{minHeight:44,minWidth:120,fontSize:14,zIndex:10},children:[e.jsx("span",{className:"material-icons text-lg mr-2",children:"send"}),$("confirm",h)]}),e.jsxs("button",{className:"flex items-center justify-center transition-colors",title:"Mic Level",style:{fontSize:22,padding:0,background:"none",border:"none",color:"#d4af37",width:28,height:28},tabIndex:-1,disabled:!0,onMouseOver:w=>w.currentTarget.style.color="#ffd700",onMouseOut:w=>w.currentTarget.style.color="#d4af37",children:[e.jsx("span",{className:"material-icons",children:"graphic_eq"}),e.jsx("span",{className:"ml-1 flex items-end h-4 w-6",children:[...Array(4)].map((w,N)=>e.jsx("span",{style:{display:"inline-block",width:2,height:`${4+Math.round(m/100*12)*(N%2+1)}px`,background:"#d4af37",marginLeft:1,borderRadius:1}},N))})]})]})]}),W&&e.jsxs("div",{id:"realTimeConversation",ref:X,className:"w-full flex flex-col-reverse gap-1 pr-2 relative max-w-full sm:max-w-2xl mx-auto min-h-[60px] max-h-[12vh] overflow-y-auto mb-1",style:{background:"rgba(255,255,255,0.88)",borderRadius:12,border:"1px solid rgba(255,255,255,0.35)",boxShadow:"0px 4px 10px rgba(0,0,0,0.15)",padding:"8px",transition:"box-shadow 0.3s, background 0.3s",fontFamily:"SF Pro Text, Roboto, Open Sans, Arial, sans-serif",fontSize:window.innerWidth<640?14:16,lineHeight:1.5,color:"#222",fontWeight:400,backdropFilter:"blur(2px)",display:"flex",flexDirection:"column",justifyContent:"flex-end"},children:[e.jsx("button",{className:"absolute top-1.5 right-1.5 w-5 h-5 flex items-center justify-center rounded-full bg-white/40 hover:bg-white/70 text-gray-400 hover:text-gray-700 shadow z-10 opacity-60 hover:opacity-90 transition-all",style:{fontSize:14,display:"block"},title:"áº¨n realtime conversation",onClick:()=>C(!1),children:e.jsx("span",{className:"material-icons",style:{fontSize:16},children:"close"})}),e.jsxs("div",{className:"w-full flex flex-col gap-1 pr-2",style:{overflowY:"auto",maxHeight:"28vh"},children:[b.length===0&&e.jsx("div",{className:"text-gray-400 text-base text-center select-none",style:{opacity:.7},children:$("tap_to_speak",h)}),[...b].reverse().map((w,N)=>e.jsx("div",{className:"mb-1",children:e.jsx("div",{className:"flex items-start",children:e.jsx("div",{className:"flex-grow",children:w.role==="user"?e.jsx("p",{className:"text-base md:text-lg font-medium text-gray-900",style:{marginBottom:2},children:w.messages[0].content}):e.jsxs("p",{className:"text-base md:text-lg font-medium",style:{marginBottom:2,position:"relative",background:"linear-gradient(90deg, #FF512F, #F09819, #FFD700, #56ab2f, #43cea2, #1e90ff, #6a11cb, #FF512F)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:600,letterSpacing:.2,transition:"background 0.5s"},children:[e.jsx("span",{className:"inline-flex flex-wrap",children:w.messages.map((v,E)=>{const te=v.content.slice(0,_[v.id]||0);return e.jsxs("span",{style:{whiteSpace:"pre"},children:[te,E===w.messages.length-1&&N===0&&_[v.id]<v.content.length&&e.jsx("span",{className:"animate-blink text-yellow-500",style:{marginLeft:1},children:"|"})]},v.id)})}),N===0&&w.role==="assistant"&&_[w.messages[w.messages.length-1].id]===w.messages[w.messages.length-1].content.length&&e.jsx("span",{className:"ml-2 animate-ellipsis text-yellow-500",children:"..."})]})})})},w.id))]})]}),e.jsx("div",{className:"w-full mt-1",children:e.jsx("div",{className:"w-full flex flex-row items-center gap-x-2 mb-3 px-2",children:e.jsx(cg,{references:y})})})]}),e.jsx("div",{className:"w-1/4 lg:w-1/3 flex-col items-center lg:items-end p-2 space-y-4 overflow-auto hidden sm:flex",style:{maxHeight:"100%"},children:e.jsxs("div",{className:"flex flex-col gap-4 w-full md:w-auto",children:[e.jsxs(H,{id:"endCallButton",onClick:q,variant:"yellow",className:"w-full md:w-auto flex items-center justify-center space-x-2 text-base sm:text-lg",style:{minHeight:56,minWidth:220,zIndex:10},children:[e.jsx("span",{className:"material-icons",children:"send"}),e.jsx("span",{className:"whitespace-nowrap",children:$("confirm_request",h)})]}),e.jsxs("button",{id:"cancelButtonDesktop",onClick:T,className:"w-full md:w-auto bg-white hover:bg-blue-100 text-blue-900 font-semibold py-3 px-8 rounded-full shadow flex items-center justify-center space-x-2 transition-all duration-200 border-2 border-blue-200 text-base sm:text-lg active:scale-95 active:bg-blue-100",style:{fontFamily:"inherit",letterSpacing:.2,minHeight:56,minWidth:120,touchAction:"manipulation",zIndex:10},children:[e.jsx("span",{className:"material-icons text-lg mr-2",children:"cancel"}),$("cancel",h)]})]})})]})})):e.jsx("div",{className:"absolute w-full min-h-screen h-full flex items-center justify-center z-40 bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Loading hotel configuration..."})]})})},hg=({isActive:t})=>{const{callSummary:s,orderSummary:n,setCurrentInterface:a,setOrderSummary:o,setOrder:l,serviceRequests:r,vietnameseSummary:c,setVietnameseSummary:m,translateToVietnamese:d,emailSentForCurrentSession:h,setEmailSentForCurrentSession:p,callDetails:_,callDuration:k,language:x,hotelConfig:b}=we(),[u,y]=i.useState(!1),[S,F]=i.useState(null);if(!b)return e.jsx("div",{className:"absolute w-full min-h-screen h-full flex items-center justify-center z-10 bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Loading hotel configuration..."})]})});const V=(C,j)=>{n&&o({...n,[C]:j})};i.useEffect(()=>{const C=s?new Date(s.timestamp).getTime().toString():null;t&&s&&(!c||S!==C)&&C!==S&&(F(C),(async()=>{try{console.log("Starting translation of summary to Vietnamese"),y(!0),await d(s.content),y(!1)}catch(T){console.error("Error translating summary:",T),y(!1)}})())},[t,s,c,d,S]),i.useEffect(()=>{var C,j;if(t&&r&&r.length>0&&n){const T=r.map((v,E)=>{let te=1,G=10;v.serviceType==="housekeeping"&&(G=5),v.serviceType==="technical-support"&&(G=0),(v.serviceType.includes("food")||v.serviceType==="room-service")&&(G=8),v.serviceType==="wake-up"&&(G=0);let se="";const P=v.details;return P.roomNumber&&P.roomNumber!=="unknown"&&P.roomNumber!=="Not specified"&&(se+=`Sá»‘ phÃ²ng: ${P.roomNumber}
`),P.date&&P.date!=="Not specified"&&(se+=`NgÃ y: ${P.date}
`),P.time&&P.time!=="Not specified"&&(se+=`Thá»i gian: ${P.time}
`),P.people&&(se+=`Sá»‘ ngÆ°á»i: ${P.people}
`),P.location&&P.location!=="Not specified"&&(se+=`Äá»‹a Ä‘iá»ƒm: ${P.location}
`),P.amount&&P.amount!=="Not specified"&&(se+=`Sá»‘ tiá»n: ${P.amount}
`),se+=`
YÃªu cáº§u: ${v.requestText}`,P.otherDetails&&P.otherDetails!=="Not specified"&&P.otherDetails!=="None"&&!P.otherDetails.includes("Not specified")&&(se+=`

ThÃ´ng tin thÃªm: ${P.otherDetails}`),{id:(E+1).toString(),name:v.requestText.length>60?v.requestText.substring(0,57)+"...":v.requestText,description:se,quantity:te,price:G,serviceType:v.serviceType}}),U=Array.from(new Set(r.map(v=>v.serviceType))).join(",");let w=n.deliveryTime;r.some(v=>v.details&&v.details.time&&typeof v.details.time=="string"&&v.details.time.toLowerCase().includes("immediate"))&&(w="asap");const N=(j=(C=r.find(v=>v.details&&v.details.roomNumber&&v.details.roomNumber!=="unknown"&&v.details.roomNumber!=="Not specified"))==null?void 0:C.details)==null?void 0:j.roomNumber;o({...n,items:T,totalAmount:T.reduce((v,E)=>v+E.price*E.quantity,0),orderType:U,roomNumber:N||n.roomNumber,deliveryTime:w})}},[r,t,n,o]);function X(C){return C.split(`
`).filter(j=>!/^BÆ°á»›c tiáº¿p theo:/i.test(j)&&!/^Next Step:/i.test(j)&&!/Vui lÃ²ng nháº¥n/i.test(j)&&!/Please Press Send To Reception/i.test(j)).map(j=>j.replace(/\(dÃ¹ng cho khÃ¡ch cÃ³ Ä‘áº·t chá»— xÃ¡c nháº­n\)/i,"").replace(/\(used for Guest with a confirmed reservation\)/i,"").replace(/\(khÃ´ng Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh\)/i,"").replace(/\(not specified\)/i,"")).join(`
`).replace(/\n{3,}/g,`

`)}const W=async()=>{if(!n)return;const C=c||(s?s.content:"KhÃ´ng cÃ³ tÃ³m táº¯t"),j=X(C),T=`#ORD-${Math.floor(1e4+Math.random()*9e4)}`;if(l({reference:T,estimatedTime:"15-20 phÃºt",summary:n}),h){console.log("Email Ä‘Ã£ Ä‘Æ°á»£c gá»­i cho phiÃªn nÃ y. Bá» qua viá»‡c gá»­i email trÃ¹ng láº·p."),a("interface4");return}try{console.log("Gá»­i email vá»›i tÃ³m táº¯t cuá»™c gá»i vÃ  yÃªu cáº§u dá»‹ch vá»¥ tá»« giao diá»‡n tiáº¿ng Viá»‡t...");const q=k?`${Math.floor(k/60)}:${(k%60).toString().padStart(2,"0")}`:"0:00",U=`call-${Date.now()}`,w=(_==null?void 0:_.id)||U;console.log("Sá»­ dá»¥ng callId cho email:",w),console.log("Ná»™i dung tÃ³m táº¯t cuá»™c gá»i:",j),console.log("Chuáº©n bá»‹ payload email...");const N={toEmail:"tuans2@gmail.com",callDetails:{callId:w,roomNumber:n.roomNumber||"Cáº§n xÃ¡c nháº­n",summary:j,timestamp:s?s.timestamp:new Date,duration:q,serviceRequests:n.items.map(v=>v.name),orderReference:T}};console.log("Payload email Ä‘Ã£ chuáº©n bá»‹:",JSON.stringify(N)),setTimeout(async()=>{try{console.log("Gá»­i yÃªu cáº§u email Ä‘áº¿n mÃ¡y chá»§...");const v=await fetch("/api/send-call-summary-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N),cache:"no-cache",credentials:"same-origin"});if(!v.ok)throw new Error(`MÃ¡y chá»§ pháº£n há»“i vá»›i tráº¡ng thÃ¡i: ${v.status}`);const E=await v.json();console.log("Email Ä‘Ã£ Ä‘Æ°á»£c gá»­i vá»›i xÃ¡c nháº­n Ä‘Æ¡n hÃ ng:",E),p(!0)}catch(v){console.error("KhÃ´ng thá»ƒ gá»­i email trong timeout:",v)}},500)}catch(q){console.error("KhÃ´ng thá»ƒ gá»­i email:",q)}a("interface4")};return n?e.jsx("div",{className:`absolute w-full min-h-screen h-full transition-opacity duration-500 ${t?"opacity-100 active":"opacity-0 pointer-events-none"} z-30 overflow-y-auto`,id:"interface3vi","data-interface":"interface3vi","data-active":t.toString(),style:{backgroundImage:`linear-gradient(${b.branding.colors.primary}CC, ${b.branding.colors.secondary}99)`,backgroundSize:"cover",backgroundPosition:"center",fontFamily:b.branding.fonts.primary+", SF Pro Text, Roboto, Open Sans, Arial, sans-serif"},children:e.jsx("div",{className:"container mx-auto h-full flex flex-col p-2 sm:p-4 md:p-8",children:e.jsxs("div",{className:"mx-auto w-full max-w-3xl bg-white/90 rounded-2xl shadow-xl p-3 sm:p-6 md:p-10 mb-4 sm:mb-6 flex-grow border border-white/40 backdrop-blur-md",style:{minHeight:420},children:[e.jsx("div",{className:"mb-3 sm:mb-4 pb-2 sm:pb-3 border-b border-gray-200",children:e.jsx("p",{className:"font-poppins font-bold text-xl sm:text-2xl text-blue-900 tracking-wide",children:"XEM XÃ‰T & XÃC NHáº¬N"})}),e.jsx("div",{id:"summary-container",className:"mb-3 sm:mb-4",children:s?e.jsxs("div",{className:"p-3 sm:p-5 bg-white/80 rounded-xl shadow border border-white/30 mb-3 sm:mb-4 relative",style:{backdropFilter:"blur(2px)"},children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg mb-1 sm:mb-2 text-blue-800",children:"TÃ³m táº¯t cuá»™c trÃ² chuyá»‡n"}),u?e.jsxs("div",{className:"animate-pulse space-y-2",children:[e.jsx("div",{className:"h-2 bg-blue-100 rounded w-3/4"}),e.jsx("div",{className:"h-2 bg-blue-100 rounded w-full"}),e.jsx("div",{className:"h-2 bg-blue-100 rounded w-5/6"}),e.jsx("div",{className:"h-2 bg-blue-100 rounded w-2/3"}),e.jsx("p",{className:"text-blue-400 text-xs sm:text-sm italic",children:"Äang dá»‹ch sang tiáº¿ng Viá»‡t..."})]}):e.jsx("p",{className:"text-xs sm:text-base leading-relaxed text-gray-800 whitespace-pre-line",style:{fontWeight:400},children:c||s.content}),e.jsx("div",{className:"mt-2 sm:mt-3 flex justify-end",children:e.jsxs("div",{className:"text-xs text-gray-500",children:["Táº¡o lÃºc ",new Date(s.timestamp).toLocaleTimeString()]})})]}):e.jsxs("div",{className:"p-3 sm:p-5 bg-gray-50 rounded-xl shadow border border-dashed border-gray-300 mb-3 sm:mb-4",children:[e.jsxs("div",{className:"animate-pulse flex space-x-2 items-center",children:[e.jsx("div",{className:"h-4 w-4 bg-gray-300 rounded-full"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/4"})]}),e.jsx("h3",{className:"font-semibold text-base sm:text-lg my-2 text-gray-600",children:"Äang táº¡o báº£n tÃ³m táº¯t..."}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-2 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-2 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-2 bg-gray-200 rounded w-5/6"})]}),e.jsx("p",{className:"text-gray-400 italic mt-3",children:"AI cá»§a chÃºng tÃ´i Ä‘ang phÃ¢n tÃ­ch cuá»™c trÃ² chuyá»‡n vÃ  chuáº©n bá»‹ báº£n tÃ³m táº¯t..."})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-3 sm:gap-4 mb-4 sm:mb-6 w-full",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("label",{className:"text-xs sm:text-base text-gray-600 font-medium",children:"Sá»‘ phÃ²ng"}),e.jsx("input",{type:"text",className:"w-20 sm:w-32 p-2 border border-white/30 rounded-xl focus:ring-2 focus:ring-[#d4af37] focus:border-[#d4af37] bg-white/70 text-gray-900 font-semibold",value:n.roomNumber,onChange:C=>V("roomNumber",C.target.value)})]}),e.jsxs("button",{className:"h-full px-3 sm:px-4 bg-white/70 text-blue-900 rounded-full text-xs sm:text-base font-semibold border border-white/30 shadow flex items-center justify-center",onClick:()=>a("interface3"),style:{fontFamily:"inherit",letterSpacing:.2},children:[e.jsx("span",{className:"material-icons text-base mr-2",children:"translate"}),"Tiáº¿ng Anh"]}),e.jsxs("button",{id:"confirmOrderButton",className:"h-full px-4 sm:px-8 py-2 sm:py-4 bg-[#d4af37] hover:bg-[#ffd700] text-blue-900 font-bold rounded-full shadow-lg text-base sm:text-xl transition-colors border border-white/30 flex items-center justify-center",onClick:W,style:{fontFamily:"inherit",letterSpacing:.5},children:[e.jsx("span",{className:"material-icons mr-2 text-lg sm:text-2xl",children:"check_circle"}),"XÃ¡c nháº­n"]})]})]})})}):null},ug=({isActive:t})=>{const{callSummary:s,orderSummary:n,setCurrentInterface:a,setOrderSummary:o,setOrder:l,serviceRequests:r,emailSentForCurrentSession:c,setEmailSentForCurrentSession:m,callDetails:d,callDuration:h,language:p,hotelConfig:_}=we(),[k,x]=i.useState("");if(!_)return e.jsx("div",{className:"absolute w-full min-h-screen h-full flex items-center justify-center z-30 bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Loading hotel configuration..."})]})});const b=(y,S)=>{n&&o({...n,[y]:S})};i.useEffect(()=>{var y,S;if(t&&r&&r.length>0&&n){const F=r.map((j,T)=>{let q=1,U=10;j.serviceType==="housekeeping"&&(U=8),j.serviceType==="technical-support"&&(U=0),(j.serviceType.includes("food")||j.serviceType==="room-service")&&(U=15),j.serviceType==="wake-up"&&(U=0);let w="";const N=j.details;return N.roomNumber&&N.roomNumber!=="unknown"&&N.roomNumber!=="Not specified"&&(w+=`${$("room_number","fr")}: ${N.roomNumber}
`),N.date&&N.date!=="Not specified"&&(w+=`${$("time","fr")}: ${N.date}
`),N.time&&N.time!=="Not specified"&&(w+=`${$("time","fr")}: ${N.time}
`),N.people&&(w+=`Nombre de personnes: ${N.people}
`),N.location&&N.location!=="Not specified"&&(w+=`Lieu: ${N.location}
`),N.amount&&N.amount!=="Not specified"&&(w+=`Montant: ${N.amount}
`),w+=`
Demande: ${j.requestText}`,N.otherDetails&&N.otherDetails!=="Not specified"&&N.otherDetails!=="None"&&!N.otherDetails.includes("Not specified")&&(w+=`

Informations supplÃ©mentaires: ${N.otherDetails}`),{id:(T+1).toString(),name:j.requestText.length>60?j.requestText.substring(0,57)+"...":j.requestText,description:w,quantity:q,price:U,serviceType:j.serviceType}}),X=Array.from(new Set(r.map(j=>j.serviceType))).join(",");let W=n.deliveryTime;r.some(j=>j.details&&j.details.time&&typeof j.details.time=="string"&&j.details.time.toLowerCase().includes("immediate"))&&(W="asap");const C=(S=(y=r.find(j=>j.details&&j.details.roomNumber&&j.details.roomNumber!=="unknown"&&j.details.roomNumber!=="Not specified"))==null?void 0:y.details)==null?void 0:S.roomNumber;o({...n,items:F,totalAmount:F.reduce((j,T)=>j+T.price*T.quantity,0),orderType:X,roomNumber:C||n.roomNumber,deliveryTime:W})}},[r,t,n,o]);const u=async()=>{if(!n)return;const y=`#ORD-${Math.floor(1e4+Math.random()*9e4)}`;if(l({reference:y,estimatedTime:"15-20 minutes",summary:n}),c){a("interface4");return}try{const S=h?`${Math.floor(h/60)}:${(h%60).toString().padStart(2,"0")}`:"0:00",F=`call-${Date.now()}`,X={toEmail:"tuans2@gmail.com",callDetails:{callId:(d==null?void 0:d.id)||F,roomNumber:n.roomNumber||"Ã€ confirmer",summary:s?s.content:"Aucun rÃ©sumÃ©",timestamp:s?s.timestamp:new Date,duration:S,serviceRequests:n.items.map(W=>W.name),orderReference:y,note:k}};setTimeout(async()=>{try{const W=await fetch("/api/send-call-summary-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(X),cache:"no-cache",credentials:"same-origin"});if(!W.ok)throw new Error(`Le serveur a rÃ©pondu avec le statut: ${W.status}`);await W.json(),m(!0)}catch(W){console.error("Erreur lors de l'envoi de l'email:",W)}},500)}catch(S){console.error("Erreur lors de l'envoi de l'email:",S)}a("interface4")};return n?e.jsx("div",{className:`absolute w-full min-h-screen h-full transition-opacity duration-500 ${t?"opacity-100 active":"opacity-0 pointer-events-none"} z-30 overflow-y-auto`,id:"interface3fr","data-interface":"interface3fr","data-active":t.toString(),style:{backgroundImage:`linear-gradient(${_.branding.colors.primary}CC, ${_.branding.colors.secondary}99)`,backgroundSize:"cover",backgroundPosition:"center",fontFamily:_.branding.fonts.primary+", SF Pro Text, Roboto, Open Sans, Arial, sans-serif"},children:e.jsx("div",{className:"container mx-auto h-full flex flex-col p-2 sm:p-4 md:p-8",children:e.jsxs("div",{className:"mx-auto w-full max-w-3xl bg-white/90 rounded-2xl shadow-xl p-3 sm:p-6 md:p-10 mb-4 sm:mb-6 flex-grow border border-white/40 backdrop-blur-md",style:{minHeight:420},children:[e.jsx("div",{className:"mb-3 sm:mb-4 pb-2 sm:pb-3 border-b border-gray-200",children:e.jsx("p",{className:"font-poppins font-bold text-xl sm:text-2xl text-blue-900 tracking-wide",children:$("order_summary","fr")})}),e.jsx("div",{id:"summary-container",className:"mb-3 sm:mb-4",children:s?e.jsxs("div",{className:"p-3 sm:p-5 bg-white/80 rounded-xl shadow border border-white/30 mb-3 sm:mb-4 relative",style:{backdropFilter:"blur(2px)"},children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg mb-1 sm:mb-2 text-blue-800",children:$("summary","fr")}),e.jsx("div",{className:"text-xs sm:text-base leading-relaxed text-gray-800 whitespace-pre-line",style:{fontWeight:400},children:(s.content||"").split(`
`).map((S,F)=>{let V=S.replace(/^Room Number:/i,`${$("room_number","fr")}:`).replace(/^Guest's Name.*:/i,`${$("guest_name","fr")}:`).replace(/^REQUEST (\d+):/i,(X,W)=>`DEMANDE ${W} :`).replace(/^â€¢ Service Timing:/i,"â€¢ Heure de service :").replace(/^â€¢ Order Details:/i,"â€¢ DÃ©tails de la commande :").replace(/^â€¢ Special Requirements:/i,"â€¢ Exigences spÃ©ciales :").replace(/^Next Step:/i,"Ã‰tape suivante :").replace(/Not specified/gi,"Non spÃ©cifiÃ©").replace(/Details:/gi,"DÃ©tails :").replace(/Assistance or reservation for golf activity requested/gi,"Assistance ou rÃ©servation pour une activitÃ© de golf demandÃ©e");return e.jsx("div",{children:V},F)})}),e.jsx("div",{className:"mt-2 sm:mt-3 flex justify-end",children:e.jsxs("div",{className:"text-xs text-gray-500",children:[$("generated_at","fr")," ",new Date(s.timestamp).toLocaleTimeString()]})})]}):null}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-3 sm:gap-4 mb-4 sm:mb-6 w-full",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("label",{className:"text-xs sm:text-base text-gray-600 font-medium",children:$("room_number","fr")}),e.jsx("input",{type:"text",className:"w-20 sm:w-32 p-2 border border-white/30 rounded-xl focus:ring-2 focus:ring-[#d4af37] focus:border-[#d4af37] bg-white/70 text-gray-900 font-semibold",value:n.roomNumber,onChange:y=>b("roomNumber",y.target.value)})]}),e.jsxs("button",{className:"h-full px-3 sm:px-4 bg-white/70 text-blue-900 rounded-full text-xs sm:text-base font-semibold border border-white/30 shadow flex items-center justify-center",onClick:()=>a("interface3"),style:{fontFamily:"inherit",letterSpacing:.2},children:[e.jsx("span",{className:"material-icons text-base mr-2",children:"translate"}),$("english","fr")]}),e.jsxs("button",{id:"confirmOrderButton",className:"h-full px-4 sm:px-8 py-2 sm:py-4 bg-[#d4af37] hover:bg-[#ffd700] text-blue-900 font-bold rounded-full shadow-lg text-base sm:text-xl transition-colors border border-white/30 flex items-center justify-center",onClick:u,style:{fontFamily:"inherit",letterSpacing:.5},children:[e.jsx("span",{className:"material-icons mr-2 text-lg sm:text-2xl",children:"check_circle"}),$("send_to_reception","fr")]})]}),e.jsx("textarea",{placeholder:$("enter_notes","fr"),className:"w-full p-2 border border-white/30 rounded-xl text-xs sm:text-sm bg-white/60 focus:bg-white/90 focus:ring-2 focus:ring-[#d4af37] transition italic font-light text-gray-500",value:k,onChange:y=>x(y.target.value),rows:3,style:{fontFamily:"inherit"}})]})})}):null},xg=({isActive:t})=>{const{order:s,setCurrentInterface:n,language:a,setOrder:o,hotelConfig:l}=we();Be.useEffect(()=>{t&&(console.clear(),console.log("ğŸ¬ === Interface4 Debug Session Started ==="),console.log("ğŸ¬ Interface4 mounted with isActive:",t),console.log("ğŸ¬ Order:",s))},[t]);const r=()=>{console.log("ğŸ  Return to Home button clicked"),console.log("Current interface before:",t),console.log("Order exists:",!!s);try{console.log("ğŸ—‘ï¸ Clearing order..."),o(null),console.log("ğŸ”„ Setting interface to interface1..."),n("interface1"),console.log('âœ… Order cleared and setCurrentInterface("interface1") called'),setTimeout(()=>{console.log("â° Delayed check - Current interface should be interface1"),console.log("â° Order should be null:",!s)},100)}catch(c){console.error("âŒ Error in handleReturnHome:",c)}};return console.log("ğŸ” Interface4 render:",{isActive:t,hasOrder:!!s,orderReference:s==null?void 0:s.reference,timestamp:new Date().toISOString()}),l?((!t||!s)&&console.log("âŒ Interface4 not rendering - isActive:",t,"hasOrder:",!!s),!t||!s?null:e.jsx("div",{className:"fixed inset-0 z-50 w-full h-full min-h-screen flex items-start sm:items-center justify-center bg-black/30 backdrop-blur-sm",id:"interface4",onClick:c=>{c.target===c.currentTarget&&console.log("ğŸ–±ï¸ Background clicked - not closing dialog")},children:e.jsx("div",{className:"container mx-auto flex flex-col items-center justify-center pt-50 sm:pt-0 p-3 sm:p-5 text-center h-auto",children:e.jsxs("div",{className:"w-full max-w-xs sm:max-w-md bg-white rounded-lg shadow-lg p-4 sm:p-8",style:{fontFamily:l.branding.fonts.primary+", SF Pro Text, Roboto, Open Sans, Arial, sans-serif"},children:[e.jsx("div",{className:"mb-4 sm:mb-6 flex justify-center",children:e.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 rounded-full flex items-center justify-center",style:{backgroundColor:l.branding.colors.primary},children:e.jsx("span",{className:"material-icons text-white text-4xl sm:text-5xl",children:"check"})})}),e.jsx("h2",{className:"font-poppins font-bold text-xl sm:text-2xl text-primary mb-2 sm:mb-3",children:$("order_confirmed",a)}),e.jsx("p",{className:"text-gray-700 mb-4 sm:mb-6 text-sm sm:text-base",children:$("order_confirmed_message",a)}),e.jsx("div",{className:"bg-neutral p-3 sm:p-4 rounded-lg mb-4 sm:mb-6",children:e.jsxs("p",{className:"font-medium text-gray-800 text-sm sm:text-base",children:[$("order_reference",a),": ",e.jsx("span",{className:"font-bold",children:s.reference})]})}),e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:$("estimated_delivery_time",a)}),e.jsx("p",{className:"font-poppins font-bold text-lg sm:text-xl",children:s.estimatedTime})]}),e.jsx("button",{className:"w-full px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-poppins font-medium text-sm sm:text-base transition-colors cursor-pointer",onClick:r,onMouseDown:()=>console.log("ğŸ–±ï¸ Mouse down on Return to Home button"),onMouseUp:()=>console.log("ğŸ–±ï¸ Mouse up on Return to Home button"),style:{zIndex:9999,position:"relative",pointerEvents:"auto",backgroundColor:l.branding.colors.secondary,color:"#ffffff"},children:$("return_to_home",a)}),e.jsx("button",{className:"w-full mt-2 px-4 sm:px-6 py-2 sm:py-3 bg-red-500 text-white rounded-lg font-poppins font-medium text-xs opacity-50 hover:opacity-100",onClick:()=>{console.log("ğŸ”§ DEBUG: Force interface change button clicked"),n("interface1"),console.log("ğŸ”§ DEBUG: setCurrentInterface called directly")},style:{zIndex:9999,position:"relative",pointerEvents:"auto"},children:"DEBUG: Force to Interface1"})]})})})):e.jsx("div",{className:"fixed inset-0 z-50 w-full h-full min-h-screen flex items-center justify-center bg-black/30 backdrop-blur-sm",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-white text-lg",children:"Loading hotel configuration..."})]})})};function gg({currentStep:t=1,compact:s=!1,horizontal:n=!1,language:a}){const{language:o}=we?we():{language:"en"},l=a||o||"en",r=[{icon:"call",title:$("press_to_call",l),desc:$("press_to_call_desc",l)},{icon:"check_circle",title:$("confirm_request",l),desc:$("confirm_request_desc",l)},{icon:"mail",title:$("send_to_reception",l),desc:$("send_to_reception_desc",l)}];return n?e.jsx("div",{className:"flex flex-row items-center justify-center w-full gap-2 md:gap-6 py-1",children:r.map((c,m)=>e.jsxs(Be.Fragment,{children:[e.jsxs("div",{className:`flex flex-col items-center transition-all duration-300 ${m+1===t?"opacity-100 scale-105":m+1<t?"opacity-60":"opacity-40"}`,children:[e.jsx("div",{className:`flex items-center justify-center rounded-full shadow-lg mb-0.5 transition-all duration-300 ${m+1===t?"bg-[#d4af37] text-blue-900 border-2 border-[#d4af37]":m+1===2||m+1===3?"bg-white/30 text-[#d4af37] border-2 border-[#d4af37]":"bg-white/30 text-white border border-gray-200"}`,style:{width:22,height:22,fontSize:13,boxShadow:m+1===2||m+1===3?"0 0 0 2px #d4af37":void 0},children:e.jsx("span",{className:"material-icons",children:c.icon})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`font-semibold font-poppins mb-0 text-[10px] ${m+1===t?"text-[#d4af37]":"text-[#d4af37]/70"} ${m+1===2||m+1===3?"font-extrabold text-base":""}`,children:c.title}),e.jsx("div",{className:`font-light text-[8px] ${m+1===2||m+1===3?"text-base text-[#b48a19]":"text-[#d4af37]/80"} hidden md:block`,children:c.desc})]})]}),m<r.length-1&&e.jsx("div",{className:"h-0.5 w-3 md:w-8 bg-gradient-to-r from-[#d4af37]/80 to-transparent mx-1 rounded-full"})]},c.title))}):e.jsx("div",{className:`w-full ${s?"max-w-[160px] py-2 gap-3":"max-w-xs py-6 gap-6"} mx-auto flex flex-col items-center`,children:r.map((c,m)=>e.jsxs("div",{className:`flex flex-col items-center w-full transition-all duration-300 ${m+1===t?"opacity-100 scale-105":m+1<t?"opacity-60":"opacity-40"}`,children:[e.jsx("div",{className:`flex items-center justify-center rounded-full shadow-lg mb-2 transition-all duration-300 ${m+1===t?"bg-[#d4af37] text-blue-900 border-2 border-[#d4af37]":m+1===2||m+1===3?"bg-white/30 text-[#d4af37] border-2 border-[#d4af37]":"bg-white/30 text-white border border-gray-200"}`,style:{width:s?32:48,height:s?32:48,fontSize:s?18:28,boxShadow:m+1===2||m+1===3?"0 0 0 2px #d4af37":void 0},children:e.jsx("span",{className:"material-icons",children:c.icon})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`font-semibold font-poppins mb-1 ${s?"text-xs":m+1===2||m+1===3?"text-lg":"text-base"} ${m+1===t?"text-[#d4af37]":"text-[#d4af37]/70"} ${m+1===2||m+1===3?"font-extrabold":""}`,style:m+1===2||m+1===3?{letterSpacing:.5}:{},children:c.title}),e.jsx("div",{className:`font-light ${s?"text-[10px]":m+1===2||m+1===3?"text-base":"text-sm"} ${m+1===2||m+1===3?"text-[#b48a19]":"text-[#d4af37]/80"}`,children:c.desc})]}),m<r.length-1&&e.jsx("div",{className:`mx-auto my-1 rounded-full ${s?"w-0.5 h-4":"w-1 h-8"} bg-gradient-to-b from-[#d4af37]/80 to-transparent`})]},c.title))})}const pg=({onClose:t})=>e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm font-sans",children:e.jsxs("div",{className:"bg-gradient-to-br from-[rgba(255,255,255,0.7)] to-[rgba(255,255,255,0.5)] dark:from-[rgba(30,30,30,0.7)] dark:to-[rgba(30,30,30,0.5)] text-gray-800 dark:text-gray-200 rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto border border-white/30",style:{transformStyle:"preserve-3d"},children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 sm:gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-blue-900 dark:text-amber-400 font-poppins",children:"Ná»™i dung"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"target",children:"ğŸ¯"})," Má»¤C ÄÃCH:"]}),e.jsx("p",{className:"pl-6 text-gray-700 dark:text-gray-300",children:"Thay tháº¿ cho nhÃ¢n sá»± lá»… tÃ¢n báº±ng AI Voice Assistant Ä‘Æ°á»£c Ä‘Ã o táº¡o riÃªng vá»›i thÃ´ng tin vÃ  dá»‹ch vá»¥ cá»§a má»™t khÃ¡ch sáº¡n cá»¥ thá»ƒ."})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"money",children:"ğŸ’°"})," GIÃ TRá»Š MANG Láº I:"]}),e.jsxs("ul",{className:"list-inside list-disc pl-6 space-y-1 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"Phá»¥c vá»¥ Ä‘a ngÃ´n ngá»¯ â€“ khÃ´ng cáº§n thÃ´ng dá»‹ch viÃªn"}),e.jsx("li",{children:"Hoáº¡t Ä‘á»™ng 24/7 â€“ khÃ´ng bao giá» nghá»‰"}),e.jsx("li",{children:"Xá»­ lÃ½ Ä‘á»“ng thá»i nhiá»u khÃ¡ch cÃ¹ng lÃºc"}),e.jsx("li",{children:"TÄƒng doanh thu dá»‹ch vá»¥ thÃ´ng qua gá»£i Ã½ thÃ´ng minh"})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"speech bubble",children:"ğŸ—£ï¸"})," Äáº¶C ÄIá»‚M Ná»”I Báº¬T:"]}),e.jsx("p",{className:"pl-6 text-gray-700 dark:text-gray-300",children:"Voice Bot â€“ Báº¡n NÃ“I CHUYá»†N vá»›i AI, khÃ´ng cáº§n gÃµ phÃ­m!"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"bell",children:"ğŸ””"})," CHá»¨C NÄ‚NG Cá»¦A AI VOICE BOT:"]}),e.jsxs("ul",{className:"list-inside list-disc pl-6 space-y-1 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"Äáº·t phÃ²ng & Check-in/out"}),e.jsx("li",{children:"Room Service & Housekeeping"}),e.jsx("li",{children:"Tour bookings & VÃ© xe buÃ½t"}),e.jsx("li",{children:"ThÃ´ng tin du lá»‹ch Ä‘á»‹a phÆ°Æ¡ng"}),e.jsx("li",{children:"Homestay & Äá»•i tiá»n, giáº·t á»§i"})]}),e.jsx("p",{className:"pl-6 text-xs italic text-gray-600 dark:text-gray-400 mt-1",children:"*Táº¥t cáº£ dá»‹ch vá»¥ nÃ y sáº½ do khÃ¡ch sáº¡n cung cáº¥p"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"microphone",children:"ğŸ¤"})," CÃCH Sá»¬ Dá»¤NG:"]}),e.jsx("p",{className:"pl-6 text-gray-700 dark:text-gray-300",children:"Nháº¥n mic â†’ NÃ“I yÃªu cáº§u â†’ Nháº­n pháº£n há»“i báº±ng giá»ng nÃ³i"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"light bulb",children:"ğŸ’¡"})," THá»¬ NGAY (6 ngÃ´n ngá»¯ Ä‘á»ƒ tráº£i nghiá»‡m):"]}),e.jsxs("div",{className:"pl-6 text-gray-700 dark:text-gray-300 italic",children:[e.jsx("p",{children:'"Äáº·t phÃ²ng cho 2 ngÆ°á»i tá»‘i nay"'}),e.jsx("p",{children:'"Order breakfast to room 101"'}),e.jsx("p",{children:'"Book tour Fairy Stream tomorrow"'})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-blue-900 dark:text-amber-400 font-poppins",children:"Content"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"target",children:"ğŸ¯"})," PURPOSE:"]}),e.jsx("p",{className:"pl-6 text-gray-700 dark:text-gray-300",children:"Replace human receptionists with an AI Voice Assistant trained with the specific information and services of a hotel."})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"money",children:"ğŸ’°"})," VALUE PROPOSITION:"]}),e.jsxs("ul",{className:"list-inside list-disc pl-6 space-y-1 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"Serves multiple languages â€“ no interpreter needed"}),e.jsx("li",{children:"Operates 24/7 â€“ never takes a break"}),e.jsx("li",{children:"Handles multiple guests simultaneously"}),e.jsx("li",{children:"Increases service revenue through smart suggestions"})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"speech bubble",children:"ğŸ—£ï¸"})," HIGHLIGHT:"]}),e.jsx("p",{className:"pl-6 text-gray-700 dark:text-gray-300",children:"Voice Bot â€“ You SPEAK with AI, no typing needed!"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"bell",children:"ğŸ””"})," AI VOICE BOT FEATURES:"]}),e.jsxs("ul",{className:"list-inside list-disc pl-6 space-y-1 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"Booking & Check-in/out"}),e.jsx("li",{children:"Room Service & Housekeeping"}),e.jsx("li",{children:"Tour bookings & Bus tickets"}),e.jsx("li",{children:"Local tourism information"}),e.jsx("li",{children:"Homestay & Currency exchange, laundry"})]}),e.jsx("p",{className:"pl-6 text-xs italic text-gray-600 dark:text-gray-400 mt-1",children:"*All these services are provided by the hotel"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"microphone",children:"ğŸ¤"})," HOW TO USE:"]}),e.jsx("p",{className:"pl-6 text-gray-700 dark:text-gray-300",children:"Press mic â†’ SPEAK request â†’ Receive voice response"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"light bulb",children:"ğŸ’¡"})," TRY NOW (6 languages to experience):"]}),e.jsxs("div",{className:"pl-6 text-gray-700 dark:text-gray-300 italic",children:[e.jsx("p",{children:'"Book a room for 2 people tonight"'}),e.jsx("p",{children:'"Order breakfast to room 101"'}),e.jsx("p",{children:'"Book tour Fairy Stream tomorrow"'})]})]})]})]}),e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsx(H,{onClick:t,className:"font-bold text-lg bg-yellow-400 hover:bg-yellow-500 text-blue-900 px-8 py-6 rounded-full shadow-lg transition-transform transform hover:scale-105",children:"ÄÃ³ng / Close"})})]})}),fg=()=>{const{currentInterface:t,language:s,setLanguage:n,hotelConfig:a,setHotelConfig:o}=we(),[l,r]=i.useState(!1),[c,m]=i.useState(!1),{config:d,isLoading:h,error:p}=Ya();i.useEffect(()=>{console.log("ğŸ”„ Current interface changed to:",t)},[t]),i.useEffect(()=>{d&&d!==a&&(console.log("ğŸ¨ Hotel configuration loaded:",d),o(d))},[d,a,o]),i.useEffect(()=>{localStorage.getItem("hasSeenWelcomePopup")||(m(!0),localStorage.setItem("hasSeenWelcomePopup","true"))},[]);const _=u=>{n(u)};if(console.log("ğŸ¯ VoiceAssistant render - currentInterface:",t),console.log("ğŸ” Interface rendering states:",{interface1:t==="interface1",interface2:t==="interface2",interface3:t==="interface3",interface3vi:t==="interface3vi",interface3fr:t==="interface3fr",interface4:t==="interface4"}),i.useEffect(()=>{t==="interface4"?console.log("ğŸ¯ Interface4 is now active - VoiceAssistant level"):t==="interface1"&&console.log("ğŸ  Interface1 is now active - VoiceAssistant level")},[t]),h||!d)return e.jsx("div",{className:"relative h-screen overflow-hidden font-sans text-gray-800 bg-neutral-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Loading hotel configuration..."})]})});if(p&&!d)return e.jsx("div",{className:"relative h-screen overflow-hidden font-sans text-gray-800 bg-neutral-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(he,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-600 text-lg font-semibold mb-2",children:"Configuration Error"}),e.jsx("p",{className:"text-gray-600 mb-4",children:p}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors",children:"Reload Page"})]})});const b=(d.supportedLanguages||["en"]).filter(u=>["en","fr","zh","ru","ko","vi"].includes(u));return e.jsxs("div",{className:"relative h-screen overflow-hidden font-sans text-gray-800 bg-neutral-50",id:"app",children:[c&&e.jsx(pg,{onClose:()=>m(!1)}),p&&e.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(he,{className:"h-5 w-5 text-yellow-400"})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-yellow-700",children:p})})]})}),e.jsx("header",{className:"w-full bg-primary text-white p-4 shadow-md",style:{backgroundColor:d.branding.colors.primary},children:e.jsxs("div",{className:"container mx-auto flex items-center justify-between px-2",children:[e.jsxs("div",{className:"flex items-center justify-start ml-1 sm:ml-4 mr-2 sm:mr-6 gap-3 min-w-fit",children:[e.jsx("img",{src:d.branding.logo,alt:`${d.hotelName} Logo`,className:"h-10 sm:h-14 w-auto rounded-lg shadow-md bg-white/80 p-1",onError:u=>{u.currentTarget.src="/assets/references/images/minhon-logo.jpg"}}),e.jsx("span",{className:"font-poppins font-bold text-xl sm:text-2xl lg:text-3xl whitespace-nowrap",style:{color:d.branding.colors.secondary,textShadow:"0px 1px 2px rgba(0,0,0,0.18)"},children:d.headerText})]}),e.jsx("div",{className:"flex-1"}),e.jsxs("div",{className:"flex items-center gap-2",children:[d.features.multiLanguage&&e.jsxs("div",{className:"flex items-center px-2 py-1 rounded bg-primary-dark text-white text-xs sm:text-sm",children:[e.jsx(ba,{className:"text-[#F9BF3B] text-sm sm:text-base mr-1.5"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:s,onChange:u=>_(u.target.value),className:"appearance-none bg-transparent focus:outline-none transition-all duration-200 pr-6",style:{fontWeight:600,color:"#fff",textShadow:"0px 1px 2px rgba(0, 0, 0, 0.2)"},children:b.map(u=>{const y={en:"ğŸ‡¬ğŸ‡§ EN",fr:"ğŸ‡«ğŸ‡· FR",zh:"ğŸ‡¨ğŸ‡³ ZH",ru:"ğŸ‡·ğŸ‡º RU",ko:"ğŸ‡°ğŸ‡· KO",vi:"ğŸ‡»ğŸ‡³ VI"};return e.jsx("option",{value:u,children:y[u]},u)})}),e.jsx(Hs,{className:"absolute right-0 top-1/2 -translate-y-1/2 text-[#F9BF3B] pointer-events-none text-sm"})]})]}),e.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-1 px-2 py-1 rounded bg-primary-dark text-white text-xs sm:text-sm hover:bg-primary-darker transition-colors",title:"View Steps",children:[e.jsx(Hn,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Steps"})]}),d.features.callHistory&&e.jsx(Re,{href:"/call-history",children:e.jsxs("a",{className:"flex items-center gap-1 px-2 py-1 rounded bg-primary-dark text-white text-xs sm:text-sm hover:bg-primary-darker transition-colors",children:[e.jsx(zn,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Call History"})]})})]})]})}),l&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 relative",children:[e.jsx("button",{onClick:()=>r(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:e.jsx(Ce,{className:"w-6 h-6"})}),e.jsx("div",{className:"mt-4",children:e.jsx(gg,{horizontal:!1,compact:!1,currentStep:t==="interface3"?3:t==="interface2"?2:1,language:s})})]})}),e.jsxs("div",{className:"relative w-full h-full",id:"interfaceContainer",children:[e.jsx(lg,{isActive:t==="interface1"}),e.jsx(mg,{isActive:t==="interface2"}),e.jsx(rn,{isActive:t==="interface3"}),e.jsx(hg,{isActive:t==="interface3vi"}),e.jsx(ug,{isActive:t==="interface3fr"}),e.jsx(xg,{isActive:t==="interface4"})]})]})},on=()=>({id:"mi-nhon-default",name:"Mi Nhon Hotel",subdomain:"minhon",branding:{primaryColor:"#2E7D32",secondaryColor:"#FFC107",accentColor:"#FF6B6B",logo:"/assets/haily-logo1.jpg",primaryFont:"Inter",secondaryFont:"Roboto"},contact:{phone:"+84 123 456 789",email:"info@minhonhotel.com",address:"Mui Ne, Phan Thiet, Vietnam"},features:{multiLanguage:!0,callHistory:!0,roomService:!0,concierge:!0,voiceCloning:!1,analytics:!0},services:[{id:"room-service",name:"Room Service",category:"dining",available:!0},{id:"concierge",name:"Concierge",category:"service",available:!0},{id:"spa",name:"Spa Services",category:"wellness",available:!0},{id:"tour",name:"Tour Booking",category:"activities",available:!0}],supportedLanguages:["en","vi","fr"],vapiConfig:{publicKeys:{en:"",vi:"",fr:""},assistantIds:{en:"",vi:"",fr:""}},timezone:"Asia/Ho_Chi_Minh",currency:"VND",location:{city:"Phan Thiet",country:"Vietnam",latitude:10.928,longitude:108.102}}),bg=()=>{const t=window.location.hostname;if(t==="localhost"||t==="127.0.0.1"||t.includes("minhon")||t.includes("localhost"))return{type:"default",identifier:"mi-nhon-hotel"};const n=t.split(".");return n.length>=3&&n[n.length-2]==="talk2go"&&n[n.length-1]==="online"?{type:"subdomain",identifier:n[0]}:{type:"custom",identifier:t}},jg=async(t,s)=>{if(s==="default")return on();const n=s==="subdomain"?`/api/hotels/by-subdomain/${t}`:`/api/hotels/by-domain/${t}`,a=await fetch(n);if(!a.ok)throw new Error(`Failed to load hotel configuration: ${a.status}`);const o=await a.json();if(!o)throw new Error("Hotel not found");return o},$t=new Map,yg=5*60*1e3,ln=()=>{const[t,s]=i.useState({config:null,loading:!0,error:null,isDefaultConfig:!1}),n=i.useCallback(async()=>{try{s(p=>({...p,loading:!0,error:null}));const{type:r,identifier:c}=bg(),m=`${r}-${c}`,d=$t.get(m);if(d&&Date.now()-d.timestamp<yg){s({config:d.config,loading:!1,error:null,isDefaultConfig:r==="default"});return}const h=await jg(c,r);$t.set(m,{config:h,timestamp:Date.now()}),s({config:h,loading:!1,error:null,isDefaultConfig:r==="default"})}catch(r){console.error("Failed to load hotel configuration:",r);const c=on();s({config:c,loading:!1,error:r instanceof Error?r.message:"Failed to load hotel configuration",isDefaultConfig:!0})}},[]),a=i.useCallback(async()=>{$t.clear(),await n()},[n]),o=i.useCallback(()=>{s(r=>({...r,error:null}))},[]),l=i.useCallback(r=>{s(c=>({...c,config:c.config?{...c.config,...r}:null}))},[]);return i.useEffect(()=>{n()},[n]),{...t,reload:a,clearError:o,updateConfig:l}},vg=(t,s)=>t&&(t.vapiConfig.publicKeys[s]||t.vapiConfig.publicKeys.en)||"",Ng=(t,s)=>t&&(t.vapiConfig.assistantIds[s]||t.vapiConfig.assistantIds.en)||"",wg=(t,s)=>(t==null?void 0:t.features[s])??!1,_g=t=>(t==null?void 0:t.supportedLanguages)??["en"],kg=(t,s)=>{if(!t)return[];const n=t.services.filter(a=>a.available);return s?n.filter(a=>a.category===s):n},cn=i.createContext(void 0);class Sg extends Be.Component{constructor(s){super(s),this.state={hasError:!1,error:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,n){console.error("Hotel configuration error:",s,n)}render(){return this.state.hasError?this.props.fallback||e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[e.jsx(he,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Configuration Error"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Failed to load hotel configuration. Please try refreshing the page."}),e.jsxs("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md",children:[e.jsx(dt,{className:"w-4 h-4 inline mr-2"}),"Reload Page"]})]})}):this.props.children}}const Cg=({children:t})=>{const{config:s,loading:n,error:a,reload:o,clearError:l}=ln();return n?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(Le,{className:"w-8 h-8 animate-spin text-blue-500 mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading hotel configuration..."})]})}):a&&!s?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[e.jsx(he,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Configuration Error"}),e.jsx("p",{className:"text-gray-600 mb-4",children:a}),e.jsxs("div",{className:"flex gap-2 justify-center",children:[e.jsx("button",{onClick:()=>l(),className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-md",children:"Dismiss"}),e.jsxs("button",{onClick:()=>o(),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md",children:[e.jsx(dt,{className:"w-4 h-4 inline mr-2"}),"Retry"]})]})]})}):e.jsx(e.Fragment,{children:t})},$g=({children:t,fallback:s})=>{const n=ln(),{config:a,loading:o,error:l,isDefaultConfig:r,reload:c,clearError:m,updateConfig:d}=n,h=i.useCallback(W=>vg(a,W),[a]),p=i.useCallback(W=>Ng(a,W),[a]),_=i.useCallback(W=>wg(a,W),[a]),k=i.useCallback(()=>_g(a),[a]),x=i.useCallback(W=>kg(a,W),[a]),b=i.useCallback(()=>({primary:(a==null?void 0:a.branding.primaryColor)||"#2E7D32",secondary:(a==null?void 0:a.branding.secondaryColor)||"#FFC107",accent:(a==null?void 0:a.branding.accentColor)||"#FF6B6B"}),[a]),u=i.useCallback(()=>({primary:(a==null?void 0:a.branding.primaryFont)||"Inter",secondary:(a==null?void 0:a.branding.secondaryFont)||"Roboto"}),[a]),y=i.useCallback(()=>(a==null?void 0:a.contact)||null,[a]),S=i.useCallback(()=>(a==null?void 0:a.location)||null,[a]),F=i.useCallback(()=>(a==null?void 0:a.timezone)||"UTC",[a]),V=i.useCallback(()=>(a==null?void 0:a.currency)||"USD",[a]),X={config:a,loading:o,error:l,isDefaultConfig:r,reload:c,clearError:m,updateConfig:d,getVapiPublicKey:h,getVapiAssistantId:p,hasFeature:_,getSupportedLanguages:k,getAvailableServices:x,getThemeColors:b,getFontFamilies:u,getContactInfo:y,getLocation:S,getTimezone:F,getCurrency:V};return e.jsx(Sg,{fallback:s,children:e.jsx(cn.Provider,{value:X,children:e.jsx(Cg,{children:t})})})},et=()=>{const t=i.useContext(cn);if(t===void 0)throw new Error("useHotel must be used within a HotelProvider");return t},Tg=()=>{const{getThemeColors:t,getFontFamilies:s}=et();return{colors:t(),fonts:s()}},Ig=()=>{const{hasFeature:t}=et();return{hasFeature:t,isMultiLanguage:t("multiLanguage"),hasCallHistory:t("callHistory"),hasRoomService:t("roomService"),hasConcierge:t("concierge"),hasVoiceCloning:t("voiceCloning"),hasAnalytics:t("analytics")}},Ag=t=>{const{getAvailableServices:s}=et();return{services:s(t),getServicesByCategory:n=>s(n)}},Dg=()=>{const{getVapiPublicKey:t,getVapiAssistantId:s,getSupportedLanguages:n}=et();return{getPublicKey:t,getAssistantId:s,supportedLanguages:n()}},A=i.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:M("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s}));A.displayName="Card";const R=i.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:M("flex flex-col space-y-1.5 p-6",t),...s}));R.displayName="CardHeader";const L=i.forwardRef(({className:t,...s},n)=>e.jsx("h3",{ref:n,className:M("text-2xl font-semibold leading-none tracking-tight",t),...s}));L.displayName="CardTitle";const ee=i.forwardRef(({className:t,...s},n)=>e.jsx("p",{ref:n,className:M("text-sm text-muted-foreground",t),...s}));ee.displayName="CardDescription";const D=i.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:M("p-6 pt-0",t),...s}));D.displayName="CardContent";const Rg=i.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:M("flex items-center p-6 pt-0",t),...s}));Rg.displayName="CardFooter";function Lg(){return e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:e.jsx(A,{className:"w-full max-w-md mx-4",children:e.jsxs(D,{className:"pt-6",children:[e.jsxs("div",{className:"flex mb-4 gap-2",children:[e.jsx(he,{className:"h-8 w-8 text-red-500"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const Mg=()=>{const[t,s]=i.useState(!1),[n,a]=i.useState(null),[o,l]=i.useState(null),[r,c]=i.useState("tuans2@gmail.com"),m=async()=>{try{s(!0),a(null),l(null),console.log("Sending test email to:",r);const d=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);console.log("Device type:",d?"mobile":"desktop");try{const p=await(await fetch("/api/test-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({toEmail:r,isMobile:d}),cache:"no-cache"})).json();if(p.success){a(`Email sent successfully using standard method! Provider: ${p.provider||"unknown"}`),s(!1);return}else console.warn("Standard method failed, trying mobile-specific endpoint")}catch(h){console.error("Error with standard endpoint:",h)}try{console.log("Thá»­ sá»­ dá»¥ng endpoint dÃ nh riÃªng cho di Ä‘á»™ng...");const h=/iPhone|iPad|iPod|Android|Mobile|webOS|BlackBerry/i.test(navigator.userAgent),p=new Date().getTime(),k=await(await fetch(`/api/mobile-test-email?_=${p}`,{method:"POST",headers:{"Content-Type":"application/json","X-Device-Type":h?"mobile":"desktop","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"},body:JSON.stringify({toEmail:r,timestamp:p,deviceInfo:navigator.userAgent}),cache:"no-cache",credentials:"same-origin",keepalive:!0})).json();if(k.success)a(`Email Ä‘ang Ä‘Æ°á»£c xá»­ lÃ½ qua endpoint tá»‘i Æ°u hÃ³a cho ${h?"di Ä‘á»™ng":"desktop"}! Vui lÃ²ng kiá»ƒm tra há»™p thÆ° sau vÃ i giÃ¢y.`),console.log(`ÄÃ£ gá»­i yÃªu cáº§u thÃ nh cÃ´ng Ä‘áº¿n ${h?"mobile":"desktop"} endpoint.`),console.log("Response:",k);else throw new Error(k.error||"Lá»—i khÃ´ng xÃ¡c Ä‘á»‹nh vá»›i endpoint di Ä‘á»™ng")}catch(h){console.error("Chi tiáº¿t lá»—i mobile endpoint:",h),l(`KhÃ´ng thá»ƒ gá»­i email: ${(h==null?void 0:h.message)||"Lá»—i khÃ´ng xÃ¡c Ä‘á»‹nh"}`)}s(!1)}catch(d){console.error("Error sending test email:",d),l(`Error: ${(d==null?void 0:d.message)||"Unknown error"}`),s(!1)}};return e.jsxs("div",{className:"p-4 border rounded-lg shadow-md bg-white max-w-md mx-auto mt-4",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 text-primary",children:"Kiá»ƒm tra Email trÃªn Di Ä‘á»™ng"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email ngÆ°á»i nháº­n:"}),e.jsx("input",{type:"email",value:r,onChange:d=>c(d.target.value),className:"w-full p-2 border rounded focus:ring-2 focus:ring-primary",placeholder:"example@gmail.com"})]}),e.jsx("button",{onClick:m,disabled:t,className:`w-full p-3 rounded font-medium text-white ${t?"bg-gray-400":"bg-primary hover:bg-primary/90"}`,children:t?"Äang gá»­i...":"Gá»­i Email Kiá»ƒm tra"}),n&&e.jsx("div",{className:"mt-4 p-3 bg-green-100 text-green-800 rounded",children:n}),o&&e.jsx("div",{className:"mt-4 p-3 bg-red-100 text-red-800 rounded",children:o}),e.jsx("div",{className:"mt-4 text-sm text-gray-500",children:e.jsx("p",{children:"* CÃ´ng cá»¥ nÃ y giÃºp kiá»ƒm tra viá»‡c gá»­i email trÃªn thiáº¿t bá»‹ di Ä‘á»™ng. Náº¿u phÆ°Æ¡ng thá»©c tiÃªu chuáº©n khÃ´ng hoáº¡t Ä‘á»™ng, há»‡ thá»‘ng sáº½ tá»± Ä‘á»™ng thá»­ phÆ°Æ¡ng thá»©c tá»‘i Æ°u hÃ³a cho di Ä‘á»™ng."})})]})};function Pg(){var d;const[t,s]=i.useState(null),[n,a]=i.useState(!1),o=we(),l=i.useRef(0),r=i.useCallback(()=>{console.log("useWebSocket env VITE_API_HOST:",void 0),t!==null&&t.close();const p=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`;console.log("Attempting WebSocket connection to",p);const _=new WebSocket(p);return _.onopen=()=>{console.log("WebSocket connection established"),a(!0),l.current=0,o.callDetails&&_.send(JSON.stringify({type:"init",callId:o.callDetails.id}))},_.onmessage=k=>{try{const x=JSON.parse(k.data);x.type==="transcript"&&o.addTranscript({callId:x.callId,role:x.role,content:x.content}),x.type==="order_status_update"&&(x.orderId||x.reference)&&x.status&&o.setActiveOrders(b=>b.map(u=>x.reference&&u.reference===x.reference||x.orderId&&u.reference===x.orderId?{...u,status:x.status}:u))}catch(x){console.error("Error parsing WebSocket message:",x)}},_.onclose=k=>{if(console.log("WebSocket connection closed",k),a(!1),l.current<5){const x=Math.pow(2,l.current)*1e3;console.log(`Reconnecting WebSocket in ${x}ms (attempt ${l.current+1})`),setTimeout(r,x),l.current++}else console.warn("Max WebSocket reconnection attempts reached")},_.onerror=k=>{console.error("WebSocket encountered error",k),_.readyState!==WebSocket.CLOSED&&_.close()},s(_),()=>{_.close()}},[o.callDetails,o.addTranscript,o.activeOrders,o.setActiveOrders]),c=i.useCallback(h=>{t&&n?t.send(JSON.stringify(h)):console.error("Cannot send message, WebSocket not connected")},[t,n]),m=i.useCallback(()=>{n||r()},[n,r]);return i.useEffect(()=>(r(),()=>{t&&t.close()}),[]),i.useEffect(()=>{var h;t&&n&&((h=o.callDetails)!=null&&h.id)&&(console.log("Sending init message with callId after availability",o.callDetails.id),t.send(JSON.stringify({type:"init",callId:o.callDetails.id})))},[(d=o.callDetails)==null?void 0:d.id,t,n]),{connected:n,sendMessage:c,reconnect:m}}const Fg=({onLogin:t})=>{const[s,n]=i.useState(""),[a,o]=i.useState(""),[l,r]=i.useState(""),[c,m]=i.useState(!1),d=async h=>{if(h.preventDefault(),!s||!a){r("Please enter both username and password.");return}r("");try{const p=await fetch("/api/staff/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s,password:a})});if(!p.ok){const k=await p.json();r(k.error||"Login failed.");return}const _=await p.json();_.token?(localStorage.setItem("staff_token",_.token),t()):r("Login failed: No token received.")}catch{r("Login failed: Network or server error.")}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-100 to-blue-300",children:e.jsxs("form",{onSubmit:d,className:"bg-white p-8 rounded-xl shadow-lg w-full max-w-md space-y-6 border border-gray-200",children:[e.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-4 text-center",children:"Staff Login"}),l&&e.jsx("div",{className:"text-red-500 text-sm mb-2",children:l}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Username"}),e.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400",value:s,onChange:h=>n(h.target.value),autoFocus:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:c?"text":"password",className:"w-full p-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400",value:a,onChange:h=>o(h.target.value)}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>m(!c),children:c?e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):e.jsxs("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-700 hover:bg-blue-800 text-white font-semibold py-2 rounded-lg transition",children:"Login"})]})})},Eg=["ÄÃ£ ghi nháº­n","Äang thá»±c hiá»‡n","ÄÃ£ thá»±c hiá»‡n vÃ  Ä‘ang bÃ n giao cho khÃ¡ch","HoÃ n thiá»‡n","LÆ°u Ã½ khÃ¡c"],Og=({request:t,onClose:s,onStatusChange:n,onOpenMessage:a})=>{const[o,l]=i.useState(t.status);return t?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 w-full max-w-lg relative",children:[e.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-blue-700",onClick:s,children:"Ã—"}),e.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-4",children:"Request Details"}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{children:[e.jsx("b",{children:"Room:"})," ",t.room]}),e.jsxs("div",{children:[e.jsx("b",{children:"Order ID:"})," ",t.id]}),e.jsxs("div",{children:[e.jsx("b",{children:"Guest Name:"})," ",t.guestName]}),e.jsxs("div",{children:[e.jsx("b",{children:"Content:"})," ",t.content]}),e.jsxs("div",{children:[e.jsx("b",{children:"Time:"})," ",t.time]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("b",{children:"Status:"}),e.jsx("select",{className:"border rounded px-2 py-1 text-xs",value:o,onChange:r=>l(r.target.value),children:Eg.map(r=>e.jsx("option",{value:r,children:r},r))})]}),e.jsxs("div",{children:[e.jsx("b",{children:"Notes:"})," ",t.notes||"-"]})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded font-semibold",onClick:()=>{o!==t.status&&n(o)},children:"Cáº­p Nháº­t"}),e.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded font-semibold",onClick:a,children:"Nháº¯n khÃ¡ch"}),e.jsx("button",{className:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded font-semibold",onClick:s,children:"ÄÃ³ng"})]})]})}):null},Hg=({messages:t,onSend:s,onClose:n,loading:a})=>{const[o,l]=i.useState(""),r=()=>{o.trim()&&(s(o),l(""))};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-5 w-full max-w-md relative flex flex-col",children:[e.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-blue-700",onClick:n,children:"Ã—"}),e.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-3",children:"Nháº¯n tin tá»›i Guest"}),e.jsx("div",{className:"flex-1 overflow-y-auto mb-3 max-h-60 border rounded p-2 bg-gray-50",children:t.length===0?e.jsx("div",{className:"text-gray-400 text-sm text-center",children:"ChÆ°a cÃ³ tin nháº¯n"}):t.map(c=>e.jsxs("div",{className:`mb-2 ${c.sender==="staff"?"text-right":"text-left"}`,children:[e.jsxs("div",{className:`inline-block px-3 py-1 rounded-lg ${c.sender==="staff"?"bg-blue-100 text-blue-900":"bg-gray-200 text-gray-800"}`,children:[e.jsxs("span",{className:"font-semibold",children:[c.sender==="staff"?"Staff":"Guest",":"]})," ",c.content]}),e.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:c.time})]},c.id))}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("input",{type:"text",className:"flex-1 border rounded px-2 py-1",placeholder:"Nháº­p tin nháº¯n...",value:o,onChange:c=>l(c.target.value),onKeyDown:c=>{c.key==="Enter"&&r()},disabled:a}),e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-1 rounded font-semibold",onClick:r,disabled:a||!o.trim(),children:"Gá»­i"})]})]})})},Tt=["Táº¥t cáº£","ÄÃ£ ghi nháº­n","Äang thá»±c hiá»‡n","ÄÃ£ thá»±c hiá»‡n vÃ  Ä‘ang bÃ n giao cho khÃ¡ch","HoÃ n thiá»‡n","LÆ°u Ã½ khÃ¡c"],es=t=>{switch(t){case"ÄÃ£ ghi nháº­n":return"bg-gray-300 text-gray-800";case"Äang thá»±c hiá»‡n":return"bg-yellow-200 text-yellow-800";case"ÄÃ£ thá»±c hiá»‡n vÃ  Ä‘ang bÃ n giao cho khÃ¡ch":return"bg-blue-200 text-blue-800";case"HoÃ n thiá»‡n":return"bg-green-200 text-green-800";case"LÆ°u Ã½ khÃ¡c":return"bg-red-200 text-red-800";default:return"bg-gray-100 text-gray-700"}},dn=()=>{const[t,s]=i.useState([]),[n,a]=i.useState(null),[o,l]=i.useState(!1),[r,c]=i.useState(!1),[m,d]=i.useState([]),[h,p]=i.useState(!1),[_,k]=i.useState("Táº¥t cáº£"),[x,b]=i.useState(""),[u,y]=i.useState(""),[S,F]=i.useState(null),[V,X]=i.useState(!1),[W,C]=i.useState(!1),[j,T]=i.useState(""),[q,U]=i.useState(""),[w,N]=i.useState({}),v=zs(),E=()=>localStorage.getItem("staff_token"),te=async()=>{const f=E();if(!f){v("/staff");return}try{const I=await fetch("/api/staff/requests",{headers:{Authorization:`Bearer ${f}`},credentials:"include"});if(I.status===401){localStorage.removeItem("staff_token"),v("/staff");return}const K=await I.json();console.log("Fetched requests data:",K),s(K)}catch(I){console.error("Failed to fetch requests:",I)}};i.useEffect(()=>{te();const f=setInterval(te,3e4);return()=>clearInterval(f)},[]);const G=()=>{l(!1),a(null)},se=async(f,I)=>{const K=E();if(!K)return v("/staff");try{await fetch(`/api/staff/requests/${I}/status`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${K}`},credentials:"include",body:JSON.stringify({status:f})}),s(Ie=>Ie.map(fe=>fe.id===I?{...fe,status:f}:fe)),n&&n.id===I&&a({...n,status:f})}catch(Ie){console.error("Failed to update status:",Ie)}},P=async()=>{if(c(!0),!n)return;const f=E();if(!f)return v("/staff");try{const K=await(await fetch(`/api/staff/requests/${n.id}/messages`,{headers:{Authorization:`Bearer ${f}`},credentials:"include"})).json();d(K)}catch{d([])}},ue=()=>c(!1),ae=async f=>{p(!0);const I=E();if(!I)return v("/staff");try{await fetch(`/api/staff/requests/${n.id}/message`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${I}`},credentials:"include",body:JSON.stringify({content:f})}),d(K=>[...K,{id:(K.length+1).toString(),sender:"staff",content:f,time:new Date().toLocaleTimeString().slice(0,5)}])}catch{}p(!1)},ce=async()=>{C(!0),T(""),U("")},Me=async()=>{if(j!=="2208"){U("Máº­t kháº©u khÃ´ng Ä‘Ãºng");return}X(!0);try{const f=E();if(!f)return C(!1),v("/staff");const K=await(await fetch("/api/staff/requests/all",{method:"DELETE",headers:{Authorization:`Bearer ${f}`},credentials:"include"})).json();C(!1),K.success?(alert(`${K.message}`),s([])):alert(`Lá»—i: ${K.error||"KhÃ´ng thá»ƒ xÃ³a requests"}`)}catch(f){console.error("Error deleting all requests:",f),alert("ÄÃ£ xáº£y ra lá»—i khi xÃ³a requests"),C(!1)}finally{X(!1),T("")}},ge=t.filter(f=>{if(_!=="Táº¥t cáº£"&&f.status!==_)return!1;if(x||u){const I=new Date(f.created_at);if(x){const K=new Date(x);if(K.setHours(0,0,0,0),I<K)return!1}if(u){const K=new Date(u);if(K.setHours(23,59,59,999),I>K)return!1}}return!0}),de=f=>{f.key==="Enter"&&Me(),q&&U("")},Ge=f=>{f.stopPropagation()};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-200 p-2 sm:p-6",children:[e.jsxs("div",{className:"max-w-7xl mx-auto bg-white rounded-xl shadow-lg p-3 sm:p-6 border border-gray-200",children:[e.jsxs("div",{className:"flex flex-col items-center mb-6",children:[e.jsx("img",{src:"/assets/references/images/minhon-logo.jpg",alt:"Minhon Logo",className:"h-16 object-contain mb-2"}),e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-blue-900 text-center",children:"Staff Request Management"})]}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("button",{onClick:()=>v("/analytics"),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-semibold shadow transition",children:"View Analytics"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:ce,disabled:V||t.length===0,className:`bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-semibold shadow transition ${V||t.length===0?"opacity-50 cursor-not-allowed":""}`,children:V?"Deleting...":"Delete All Requests"}),e.jsx("button",{onClick:te,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold shadow transition",children:"Refresh"})]})]}),e.jsxs("div",{className:"mb-4 grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[e.jsx("label",{className:"font-semibold text-blue-900 w-full sm:w-auto",children:"Lá»c theo tráº¡ng thÃ¡i:"}),e.jsx("select",{className:"w-full sm:w-auto border rounded px-3 py-1 text-sm",value:_,onChange:f=>k(f.target.value),children:Tt.map(f=>e.jsx("option",{value:f,children:f},f))})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[e.jsx("label",{className:"font-semibold text-blue-900 w-full sm:w-auto",children:"Lá»c theo thá»i gian:"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 w-full sm:w-auto",children:[e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("label",{className:"text-sm text-gray-600 min-w-10",children:"Tá»«:"}),e.jsx("input",{type:"date",className:"border rounded px-2 py-1 text-sm w-full",value:x,onChange:f=>b(f.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("label",{className:"text-sm text-gray-600 min-w-10",children:"Äáº¿n:"}),e.jsx("input",{type:"date",className:"border rounded px-2 py-1 text-sm w-full",value:u,onChange:f=>y(f.target.value)})]}),(x||u)&&e.jsx("button",{onClick:()=>{b(""),y("")},className:"text-blue-600 hover:text-blue-800 text-sm mt-2 sm:mt-0",children:"XÃ³a lá»c"})]})]})]}),e.jsx("div",{className:"block sm:hidden",children:e.jsxs("div",{className:"space-y-4",children:[(console.log("Mobile rendering - filteredRequests:",ge),null),ge.length>0?[...ge].sort((f,I)=>new Date(I.created_at).getTime()-new Date(f.created_at).getTime()).map(f=>e.jsxs("div",{className:"border rounded-lg p-3 bg-white shadow-sm",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsxs("div",{className:"font-semibold",children:["PhÃ²ng: ",f.room_number||"N/A"]}),e.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-semibold ${es(f.status)}`,children:f.status||"ChÆ°a xÃ¡c Ä‘á»‹nh"})]}),e.jsxs("div",{className:"text-sm text-gray-500 mb-2",children:["Order ID: ",f.orderId||f.id||"N/A"]}),e.jsx("div",{className:"text-xs text-gray-500 mb-3",children:f.created_at?e.jsxs(e.Fragment,{children:[new Date(f.created_at).toLocaleDateString()," ",new Date(f.created_at).toLocaleTimeString()]}):"Thá»i gian khÃ´ng xÃ¡c Ä‘á»‹nh"}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("button",{onClick:()=>F(S===f.id?null:f.id),className:"w-full flex justify-between items-center py-1 px-2 border rounded bg-gray-50 hover:bg-gray-100",children:[e.jsx("span",{className:"text-sm font-medium text-blue-700",children:S===f.id?"áº¨n ná»™i dung":"Xem ná»™i dung"}),e.jsx("svg",{className:`w-4 h-4 text-blue-700 transition-transform ${S===f.id?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),S===f.id&&e.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded-md whitespace-pre-line break-words text-sm",children:f.request_content||"KhÃ´ng cÃ³ ná»™i dung"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("select",{className:"border rounded px-2 py-2 text-sm w-full",value:w[f.id]??f.status,onChange:I=>N(K=>({...K,[f.id]:I.target.value})),children:Tt.filter(I=>I!=="Táº¥t cáº£").map(I=>e.jsx("option",{value:I,children:I},I))}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-2 py-2 rounded text-sm font-semibold",onClick:async()=>{const I=w[f.id];I&&I!==f.status&&(await se(I,f.id),N(K=>{const{[f.id]:Ie,...fe}=K;return fe}))},children:"Cáº­p Nháº­t"}),e.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-2 py-2 rounded text-sm font-semibold",onClick:()=>{a(f),P()},children:"Nháº¯n khÃ¡ch"})]})]})]},f.id)):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("p",{children:"KhÃ´ng cÃ³ yÃªu cáº§u nÃ o"}),e.jsx("p",{className:"mt-2 text-sm",children:"Nháº¥n Refresh Ä‘á»ƒ táº£i láº¡i dá»¯ liá»‡u"})]})]})}),e.jsx("div",{className:"hidden sm:block overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-blue-100 text-blue-900",children:[e.jsx("th",{className:"py-2 px-3 text-left",children:"Room"}),e.jsx("th",{className:"py-2 px-3 text-left",children:"Order ID"}),e.jsx("th",{className:"py-2 px-6 text-left w-3/5",children:"Content"}),e.jsx("th",{className:"py-2 px-3 text-left",children:"Time"}),e.jsx("th",{className:"py-2 px-2 text-left w-1/12",children:"Status"}),e.jsx("th",{className:"py-2 px-3 text-left",children:"Action"})]})}),e.jsxs("tbody",{children:[(Array.isArray(ge)?[...ge].sort((f,I)=>new Date(I.created_at).getTime()-new Date(f.created_at).getTime()):[]).map(f=>e.jsxs("tr",{className:"border-b hover:bg-blue-50",children:[e.jsx("td",{className:"py-2 px-3 font-semibold",children:f.room_number}),e.jsx("td",{className:"py-2 px-3",children:f.orderId||f.id}),e.jsx("td",{className:"py-2 px-6 whitespace-pre-line break-words max-w-4xl",children:f.request_content}),e.jsxs("td",{className:"py-2 px-3",children:[f.created_at&&e.jsx("span",{className:"block whitespace-nowrap",children:new Date(f.created_at).toLocaleDateString()}),f.created_at&&e.jsx("span",{className:"block whitespace-nowrap text-xs text-gray-500",children:new Date(f.created_at).toLocaleTimeString()})]}),e.jsx("td",{className:"py-2 px-2",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${es(f.status)} break-words whitespace-normal block text-center`,children:f.status})}),e.jsxs("td",{className:"py-2 px-3 space-x-2",children:[e.jsx("select",{className:"border rounded px-2 py-1 text-xs",value:w[f.id]??f.status,onChange:I=>N(K=>({...K,[f.id]:I.target.value})),children:Tt.filter(I=>I!=="Táº¥t cáº£").map(I=>e.jsx("option",{value:I,children:I},I))}),e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-xs font-semibold",onClick:async()=>{const I=w[f.id];I&&I!==f.status&&(await se(I,f.id),N(K=>{const{[f.id]:Ie,...fe}=K;return fe}))},children:"Cáº­p Nháº­t"}),e.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-xs font-semibold",onClick:()=>{a(f),P()},children:"Nháº¯n khÃ¡ch"})]})]},f.id)),ge.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"py-8 text-center text-gray-500",children:"KhÃ´ng cÃ³ yÃªu cáº§u nÃ o"})})]})]})})]}),o&&n&&e.jsx(Og,{request:n,onClose:G,onStatusChange:f=>se(f,n.id),onOpenMessage:P}),r&&n&&e.jsx(Hg,{messages:m,onClose:ue,onSend:ae,loading:h}),W&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md mx-4",onClick:Ge,children:[e.jsx("h3",{className:"text-lg font-bold text-red-600 mb-4",children:"XÃ¡c nháº­n xÃ³a toÃ n bá»™ requests"}),e.jsx("p",{className:"mb-4 text-gray-700",children:"HÃ nh Ä‘á»™ng nÃ y sáº½ xÃ³a táº¥t cáº£ requests vÃ  khÃ´ng thá»ƒ hoÃ n tÃ¡c. Vui lÃ²ng nháº­p máº­t kháº©u Ä‘á»ƒ xÃ¡c nháº­n:"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("input",{type:"password",value:j,onChange:f=>T(f.target.value),onKeyDown:de,className:`w-full px-3 py-2 border rounded ${q?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-red-500`,placeholder:"Nháº­p máº­t kháº©u xÃ¡c nháº­n",autoFocus:!0}),q&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:q}),e.jsx("p",{className:"text-gray-500 text-xs mt-2 italic",children:"Biá»‡n phÃ¡p báº£o vá»‡: Chá»©c nÄƒng xÃ³a yÃªu cáº§u máº­t kháº©u xÃ¡c nháº­n Ä‘á»ƒ ngÄƒn ngá»«a xÃ³a dá»¯ liá»‡u do nháº§m láº«n."})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>C(!1),className:"px-4 py-2 bg-gray-300 hover:bg-gray-400 rounded transition duration-200",children:"Há»§y"}),e.jsx("button",{onClick:Me,disabled:V,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded transition duration-200 flex items-center disabled:opacity-70",children:V?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Äang xÃ³a..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"XÃ¡c nháº­n xÃ³a"]})})]})]})})]})},zg=()=>{const[t,s]=i.useState(!1),n=()=>s(!0);return t?e.jsx(dn,{}):e.jsx(Fg,{onLogin:n})},ts=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF4560"],Bg=()=>{const[t,s]=i.useState(null),[n,a]=i.useState([]),[o,l]=i.useState([]),r=zs(),c=async m=>{const d=localStorage.getItem("staff_token");if(!d)return r("/staff"),null;try{const h=await fetch(m,{headers:{Authorization:`Bearer ${d}`}});return h.status===401?(r("/staff"),null):h.json()}catch(h){return console.error(`Failed to fetch from ${m}:`,h),null}};return i.useEffect(()=>{(async()=>{const d=await c("/api/analytics/overview"),h=await c("/api/analytics/service-distribution"),p=await c("/api/analytics/hourly-activity");d&&s(d),h&&a(h),p&&l(p)})()},[]),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-100 to-gray-200 p-4 sm:p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800",children:"Analytics Dashboard"}),e.jsx("button",{onClick:()=>r("/staff/dashboard"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold shadow transition",children:"Back to Staff Dashboard"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Total Calls"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:(t==null?void 0:t.totalCalls)||"..."})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Avg. Call Duration"}),e.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[(t==null?void 0:t.averageCallDuration)||"...","s"]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Languages"}),e.jsx(_t,{width:"100%",height:150,children:e.jsxs(ya,{children:[e.jsx(va,{data:t==null?void 0:t.languageDistribution,dataKey:"count",nameKey:"language",cx:"50%",cy:"50%",outerRadius:60,fill:"#8884d8",label:!0,children:t==null?void 0:t.languageDistribution.map((m,d)=>e.jsx(Na,{fill:ts[d%ts.length]},`cell-${d}`))}),e.jsx(kt,{})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Popular Services"}),e.jsx(_t,{width:"100%",height:300,children:e.jsxs(wa,{data:n,margin:{top:5,right:20,left:10,bottom:5},children:[e.jsx(Bt,{strokeDasharray:"3 3"}),e.jsx(qt,{dataKey:"serviceType"}),e.jsx(Vt,{}),e.jsx(kt,{}),e.jsx(Wt,{}),e.jsx(_a,{dataKey:"count",fill:"#8884d8"})]})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Hourly Activity"}),e.jsx(_t,{width:"100%",height:300,children:e.jsxs(ka,{data:o,margin:{top:5,right:20,left:10,bottom:5},children:[e.jsx(Bt,{strokeDasharray:"3 3"}),e.jsx(qt,{dataKey:"hour"}),e.jsx(Vt,{}),e.jsx(kt,{}),e.jsx(Wt,{}),e.jsx(Sa,{type:"monotone",dataKey:"count",stroke:"#82ca9d"})]})})]})]})]})})},qg=Je("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-dark"}},defaultVariants:{variant:"default"}});function le({className:t,variant:s,...n}){return e.jsx("div",{className:M(qg({variant:s}),t),...n})}const Vg=()=>{const{config:t,loading:s,error:n,isDefaultConfig:a,reload:o,getContactInfo:l,getLocation:r,getTimezone:c,getCurrency:m}=et(),{colors:d,fonts:h}=Tg(),{isMultiLanguage:p,hasCallHistory:_,hasRoomService:k,hasConcierge:x,hasVoiceCloning:b,hasAnalytics:u}=Ig(),{services:y}=Ag(),{supportedLanguages:S}=Dg();if(s)return e.jsx("div",{className:"p-4 text-center",children:"Loading hotel configuration..."});if(n&&!t)return e.jsxs("div",{className:"p-4 text-center",children:[e.jsx(he,{className:"w-8 h-8 text-red-500 mx-auto mb-2"}),e.jsx("p",{className:"text-red-600 mb-4",children:n}),e.jsx(H,{onClick:o,variant:"outline",children:"Retry Loading"})]});if(!t)return e.jsx("div",{className:"p-4 text-center",children:"No hotel configuration found"});const F=l(),V=r(),X=c(),W=m();return e.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Hotel Configuration Demo"}),a&&e.jsxs(le,{variant:"secondary",className:"mb-4",children:[e.jsx(he,{className:"w-4 h-4 mr-1"}),"Using Default Mi Nhon Hotel Configuration"]})]}),e.jsxs(A,{children:[e.jsx(R,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ls,{className:"w-5 h-5"}),"Hotel Information"]})}),e.jsx(D,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Basic Details"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",t.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Subdomain:"})," ",t.subdomain]}),t.customDomain&&e.jsxs("p",{children:[e.jsx("strong",{children:"Custom Domain:"})," ",t.customDomain]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Location & Settings"}),e.jsxs("p",{children:[e.jsx("strong",{children:"City:"})," ",(V==null?void 0:V.city)||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Country:"})," ",(V==null?void 0:V.country)||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Timezone:"})," ",X]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Currency:"})," ",W]})]})]})})]}),e.jsxs(A,{children:[e.jsx(R,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(We,{className:"w-5 h-5"}),"Contact Information"]})}),e.jsx(D,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Phone:"})," ",(F==null?void 0:F.phone)||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",(F==null?void 0:F.email)||"N/A"]})]}),e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Address:"})," ",(F==null?void 0:F.address)||"N/A"]}),(F==null?void 0:F.website)&&e.jsxs("p",{children:[e.jsx("strong",{children:"Website:"})," ",F.website]})]})]})})]}),e.jsxs(A,{children:[e.jsx(R,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ms,{className:"w-5 h-5"}),"Theme & Branding"]})}),e.jsx(D,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Colors"}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("div",{className:"w-8 h-8 rounded border",style:{backgroundColor:d.primary},title:`Primary: ${d.primary}`}),e.jsx("div",{className:"w-8 h-8 rounded border",style:{backgroundColor:d.secondary},title:`Secondary: ${d.secondary}`}),e.jsx("div",{className:"w-8 h-8 rounded border",style:{backgroundColor:d.accent},title:`Accent: ${d.accent}`})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Primary: ",d.primary," | Secondary: ",d.secondary," | Accent: ",d.accent]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Fonts"}),e.jsxs("p",{style:{fontFamily:h.primary},children:["Primary Font: ",h.primary]}),e.jsxs("p",{style:{fontFamily:h.secondary},children:["Secondary Font: ",h.secondary]})]})]})})]}),e.jsxs(A,{children:[e.jsxs(R,{children:[e.jsx(L,{children:"Available Features"}),e.jsx(ee,{children:"Features enabled for this hotel"})]}),e.jsx(D,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[p?e.jsx(De,{className:"w-4 h-4 text-green-500"}):e.jsx(Ce,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:p?"text-green-700":"text-red-700",children:"Multi Language"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[_?e.jsx(De,{className:"w-4 h-4 text-green-500"}):e.jsx(Ce,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:_?"text-green-700":"text-red-700",children:"Call History"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[k?e.jsx(De,{className:"w-4 h-4 text-green-500"}):e.jsx(Ce,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:k?"text-green-700":"text-red-700",children:"Room Service"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[x?e.jsx(De,{className:"w-4 h-4 text-green-500"}):e.jsx(Ce,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:x?"text-green-700":"text-red-700",children:"Concierge"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[b?e.jsx(De,{className:"w-4 h-4 text-green-500"}):e.jsx(Ce,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:b?"text-green-700":"text-red-700",children:"Voice Cloning"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[u?e.jsx(De,{className:"w-4 h-4 text-green-500"}):e.jsx(Ce,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:u?"text-green-700":"text-red-700",children:"Analytics"})]})]})})]}),e.jsxs(A,{children:[e.jsx(R,{children:e.jsx(L,{children:"Supported Languages"})}),e.jsx(D,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:S.map(C=>e.jsx(le,{variant:"outline",children:C.toUpperCase()},C))})})]}),e.jsxs(A,{children:[e.jsxs(R,{children:[e.jsx(L,{children:"Available Services"}),e.jsx(ee,{children:"Services offered by this hotel"})]}),e.jsx(D,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:y.map(C=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:C.name}),e.jsx("p",{className:"text-sm text-gray-600 capitalize",children:C.category}),C.description&&e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:C.description})]}),C.price&&e.jsxs(le,{variant:"secondary",children:[e.jsx(Bn,{className:"w-3 h-3 mr-1"}),C.price]})]},C.id))})})]}),n&&e.jsxs(A,{className:"border-orange-200 bg-orange-50",children:[e.jsx(R,{children:e.jsxs(L,{className:"flex items-center gap-2 text-orange-700",children:[e.jsx(he,{className:"w-5 h-5"}),"Configuration Warning"]})}),e.jsxs(D,{children:[e.jsx("p",{className:"text-orange-700 mb-3",children:n}),e.jsx("p",{className:"text-sm text-orange-600",children:"The system is running with fallback configuration. Some features may be limited."}),e.jsx(H,{onClick:o,variant:"outline",className:"mt-3",children:"Retry Loading"})]})]})]})},mn=i.forwardRef(({className:t,...s},n)=>e.jsx(ls,{ref:n,className:M("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...s}));mn.displayName=ls.displayName;const hn=i.forwardRef(({className:t,...s},n)=>e.jsx(cs,{ref:n,className:M("aspect-square h-full w-full",t),...s}));hn.displayName=cs.displayName;const un=i.forwardRef(({className:t,...s},n)=>e.jsx(ds,{ref:n,className:M("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...s}));un.displayName=ds.displayName;const Wg=kn,Ug=Sn,Gg=i.forwardRef(({className:t,inset:s,children:n,...a},o)=>e.jsxs(ms,{ref:o,className:M("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",t),...a,children:[n,e.jsx(ze,{className:"ml-auto h-4 w-4"})]}));Gg.displayName=ms.displayName;const Kg=i.forwardRef(({className:t,...s},n)=>e.jsx(hs,{ref:n,className:M("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));Kg.displayName=hs.displayName;const xn=i.forwardRef(({className:t,sideOffset:s=4,...n},a)=>e.jsx(_n,{children:e.jsx(us,{ref:a,sideOffset:s,className:M("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));xn.displayName=us.displayName;const ot=i.forwardRef(({className:t,inset:s,...n},a)=>e.jsx(xs,{ref:a,className:M("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",t),...n}));ot.displayName=xs.displayName;const Xg=i.forwardRef(({className:t,children:s,checked:n,...a},o)=>e.jsxs(gs,{ref:o,className:M("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(ps,{children:e.jsx(De,{className:"h-4 w-4"})})}),s]}));Xg.displayName=gs.displayName;const Yg=i.forwardRef(({className:t,children:s,...n},a)=>e.jsxs(fs,{ref:a,className:M("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(ps,{children:e.jsx(qn,{className:"h-2 w-2 fill-current"})})}),s]}));Yg.displayName=fs.displayName;const gn=i.forwardRef(({className:t,inset:s,...n},a)=>e.jsx(bs,{ref:a,className:M("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...n}));gn.displayName=bs.displayName;const Dt=i.forwardRef(({className:t,...s},n)=>e.jsx(js,{ref:n,className:M("-mx-1 my-1 h-px bg-muted",t),...s}));Dt.displayName=js.displayName;const Ae={id:"tenant-1",hotelName:"Mi Nhon Hotel",subscriptionPlan:"premium",subscriptionStatus:"active",remainingDays:15},Jg=[{href:"/dashboard",icon:Wn,label:"Tá»•ng quan",description:"Metrics vÃ  thá»‘ng kÃª tá»•ng quan"},{href:"/dashboard/setup",icon:qe,label:"Thiáº¿t láº­p Assistant",description:"Cáº¥u hÃ¬nh vÃ  tÃ¹y chá»‰nh AI Assistant"},{href:"/dashboard/analytics",icon:Un,label:"PhÃ¢n tÃ­ch",description:"BÃ¡o cÃ¡o vÃ  thá»‘ng kÃª chi tiáº¿t"},{href:"/dashboard/settings",icon:Ve,label:"CÃ i Ä‘áº·t",description:"Quáº£n lÃ½ thÃ´ng tin khÃ¡ch sáº¡n"}],Zg=t=>{const s=[];return t!=="trial"&&s.push({href:"/dashboard/billing",icon:Yn,label:"Thanh toÃ¡n",description:"Quáº£n lÃ½ subscription vÃ  billing"}),t==="enterprise"&&s.push({href:"/dashboard/team",icon:mt,label:"NhÃ³m",description:"Quáº£n lÃ½ team vÃ  permissions"}),s},Qg=({href:t,icon:s,label:n,description:a,isActive:o})=>e.jsx(Re,{href:t,children:e.jsxs(H,{variant:o?"default":"ghost",className:M("w-full justify-start gap-3 px-3 py-6 h-auto","hover:bg-gray-100 dark:hover:bg-gray-800",o&&"bg-primary text-primary-foreground hover:bg-primary/90"),children:[e.jsx(s,{className:"h-5 w-5 shrink-0"}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("div",{className:"font-medium",children:n}),e.jsx("div",{className:M("text-xs text-muted-foreground",o&&"text-primary-foreground/80"),children:a})]})]})}),ep=({plan:t,status:s})=>{const n=()=>s==="expired"?"destructive":t==="trial"?"secondary":t==="enterprise"?"default":"outline",a=()=>t==="trial"?"DÃ¹ng thá»­":t==="basic"?"CÆ¡ báº£n":t==="premium"?"Cao cáº¥p":t==="enterprise"?"Doanh nghiá»‡p":t;return e.jsx(le,{variant:n(),className:"ml-auto",children:a()})},tp=({tenant:t})=>e.jsxs(Wg,{children:[e.jsx(Ug,{asChild:!0,children:e.jsx(H,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:e.jsxs(mn,{className:"h-10 w-10",children:[e.jsx(hn,{src:"",alt:t.hotelName}),e.jsx(un,{className:"bg-primary text-primary-foreground",children:t.hotelName.charAt(0).toUpperCase()})]})})}),e.jsxs(xn,{className:"w-56",align:"end",children:[e.jsxs(gn,{className:"flex flex-col",children:[e.jsx("div",{className:"font-medium",children:t.hotelName}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["ID: ",t.id]})]}),e.jsx(Dt,{}),e.jsxs(ot,{children:[e.jsx(Ve,{className:"mr-2 h-4 w-4"}),"CÃ i Ä‘áº·t tÃ i khoáº£n"]}),e.jsxs(ot,{children:[e.jsx(Kn,{className:"mr-2 h-4 w-4"}),"Trá»£ giÃºp"]}),e.jsx(Dt,{}),e.jsxs(ot,{className:"text-red-600 focus:text-red-600",children:[e.jsx(Xn,{className:"mr-2 h-4 w-4"}),"ÄÄƒng xuáº¥t"]})]})]}),Ee=({children:t})=>{const[s,n]=i.useState(!1),[a]=ct(),o=[...Jg,...Zg(Ae.subscriptionPlan)];return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s&&e.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:()=>n(!1)}),e.jsx("aside",{className:M("fixed inset-y-0 left-0 z-50 w-80 bg-white dark:bg-gray-800 shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0",s?"translate-x-0":"-translate-x-full"),children:e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary text-primary-foreground",children:e.jsx(Vn,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold",children:"Talk2Go"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"SaaS Dashboard"})]})]}),e.jsx(H,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>n(!1),children:e.jsx(Ce,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"p-6 border-b bg-gray-50 dark:bg-gray-900",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"font-semibold text-gray-900 dark:text-white",children:Ae.hotelName}),e.jsx("p",{className:"text-sm text-muted-foreground",children:Ae.subscriptionStatus==="active"?"Hoáº¡t Ä‘á»™ng":"Háº¿t háº¡n"})]}),e.jsx(ep,{plan:Ae.subscriptionPlan,status:Ae.subscriptionStatus})]}),Ae.subscriptionPlan==="trial"&&Ae.remainingDays&&e.jsxs("div",{className:"mt-3 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-md",children:[e.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[e.jsxs("strong",{children:["CÃ²n ",Ae.remainingDays," ngÃ y"]})," dÃ¹ng thá»­"]}),e.jsx(Re,{href:"/dashboard/billing",children:e.jsx(H,{size:"sm",className:"mt-2 w-full",children:"NÃ¢ng cáº¥p ngay"})})]})]}),e.jsx("nav",{className:"flex-1 p-4 space-y-2",children:o.map(l=>e.jsx(Qg,{href:l.href,icon:l.icon,label:l.label,description:l.description,isActive:a===l.href},l.href))}),e.jsx("div",{className:"p-4 border-t",children:e.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Â© 2024 Talk2Go. All rights reserved."})})]})}),e.jsxs("div",{className:"lg:ml-80",children:[e.jsx("header",{className:"sticky top-0 z-30 bg-white dark:bg-gray-800 border-b shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(H,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>n(!0),children:e.jsx(Gn,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Dashboard"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Quáº£n lÃ½ khÃ¡ch sáº¡n vÃ  AI Assistant"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(H,{variant:"ghost",size:"icon",className:"relative",children:[e.jsx(Ps,{className:"h-5 w-5"}),e.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 bg-red-500 rounded-full text-xs flex items-center justify-center text-white",children:"2"})]}),e.jsx(tp,{tenant:Ae})]})]})}),e.jsx("main",{className:"p-6",children:t})]})]})},gt=i.forwardRef(({className:t,value:s,...n},a)=>e.jsx(ys,{ref:a,className:M("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:e.jsx(Cn,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));gt.displayName=ys.displayName;const Se={totalCalls:1247,totalCallsGrowth:12.5,averageCallDuration:245,callDurationGrowth:-5.2,activeUsers:89,activeUsersGrowth:8.3,satisfactionScore:4.7,satisfactionGrowth:2.1,languageDistribution:[{language:"Tiáº¿ng Viá»‡t",count:687,percentage:55.1},{language:"English",count:423,percentage:33.9},{language:"FranÃ§ais",count:137,percentage:11}],recentActivity:[{time:"2 phÃºt trÆ°á»›c",action:"Cuá»™c gá»i tá»« phÃ²ng 205",type:"call"},{time:"5 phÃºt trÆ°á»›c",action:"Äáº·t room service tá»« phÃ²ng 301",type:"service"},{time:"12 phÃºt trÆ°á»›c",action:"Há»i thÃ´ng tin vá» spa",type:"inquiry"},{time:"18 phÃºt trÆ°á»›c",action:"PhÃ n nÃ n vá» tiáº¿ng á»“n",type:"complaint"}]},Oe={usageLimit:5e3,currentUsage:1247,resetDate:"2024-01-01"},nt=({title:t,value:s,change:n,icon:a,description:o,suffix:l=""})=>e.jsxs(A,{children:[e.jsxs(R,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:t}),e.jsx(a,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(D,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[s,l]}),e.jsxs("div",{className:"flex items-center pt-1",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:o}),n!==void 0&&e.jsxs("div",{className:`ml-auto flex items-center text-xs ${n>0?"text-green-600":"text-red-600"}`,children:[e.jsx(ht,{className:`h-3 w-3 mr-1 ${n<0?"rotate-180":""}`}),Math.abs(n),"%"]})]})]})]}),sp=({time:t,action:s,type:n})=>{const a=()=>{switch(n){case"call":return e.jsx(We,{className:"h-4 w-4 text-blue-500"});case"service":return e.jsx(qe,{className:"h-4 w-4 text-green-500"});case"inquiry":return e.jsx(Lt,{className:"h-4 w-4 text-purple-500"});case"complaint":return e.jsx(he,{className:"h-4 w-4 text-red-500"});default:return e.jsx(xt,{className:"h-4 w-4 text-gray-500"})}};return e.jsxs("div",{className:"flex items-center space-x-3 p-3 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0",children:a()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:s}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:t})]})]})},np=()=>e.jsxs(A,{children:[e.jsxs(R,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"h-5 w-5"}),"Thao tÃ¡c nhanh"]}),e.jsx(ee,{children:"CÃ¡c tÃ­nh nÄƒng thÆ°á»ng dÃ¹ng"})]}),e.jsxs(D,{className:"space-y-3",children:[e.jsx(Re,{href:"/dashboard/setup",children:e.jsxs(H,{variant:"outline",className:"w-full justify-start",children:[e.jsx(qe,{className:"h-4 w-4 mr-2"}),"Cáº¥u hÃ¬nh AI Assistant"]})}),e.jsx(Re,{href:"/dashboard/analytics",children:e.jsxs(H,{variant:"outline",className:"w-full justify-start",children:[e.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Xem bÃ¡o cÃ¡o chi tiáº¿t"]})}),e.jsx(Re,{href:"/dashboard/settings",children:e.jsxs(H,{variant:"outline",className:"w-full justify-start",children:[e.jsx(Ve,{className:"h-4 w-4 mr-2"}),"CÃ i Ä‘áº·t khÃ¡ch sáº¡n"]})})]})]}),ap=()=>{const t=Oe.currentUsage/Oe.usageLimit*100;return e.jsxs(A,{children:[e.jsxs(R,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(xt,{className:"h-5 w-5"}),"Sá»­ dá»¥ng thÃ¡ng nÃ y"]}),e.jsx(ee,{children:"Theo dÃµi giá»›i háº¡n subscription"})]}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Cuá»™c gá»i"}),e.jsxs("span",{children:[Oe.currentUsage.toLocaleString()," / ",Oe.usageLimit.toLocaleString()]})]}),e.jsx(gt,{value:t,className:"h-2"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"CÃ²n láº¡i"}),e.jsxs("span",{className:"font-medium",children:[(Oe.usageLimit-Oe.currentUsage).toLocaleString()," cuá»™c gá»i"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Ze,{className:"h-4 w-4"}),e.jsxs("span",{children:["Reset vÃ o ",Oe.resetDate]})]})]})]})},rp=()=>e.jsxs(A,{children:[e.jsx(R,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"h-5 w-5 text-green-500"}),"Tráº¡ng thÃ¡i há»‡ thá»‘ng"]})}),e.jsxs(D,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"AI Assistant"})]}),e.jsx(le,{variant:"outline",className:"text-green-600",children:"Hoáº¡t Ä‘á»™ng"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"Voice API"})]}),e.jsx(le,{variant:"outline",className:"text-green-600",children:"Hoáº¡t Ä‘á»™ng"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"Analytics"})]}),e.jsx(le,{variant:"outline",className:"text-green-600",children:"Hoáº¡t Ä‘á»™ng"})]})]})]}),ip=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Tá»•ng quan"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Theo dÃµi hiá»‡u suáº¥t AI Assistant vÃ  hoáº¡t Ä‘á»™ng khÃ¡ch sáº¡n"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(nt,{title:"Tá»•ng cuá»™c gá»i",value:Se.totalCalls.toLocaleString(),change:Se.totalCallsGrowth,icon:We,description:"ThÃ¡ng nÃ y"}),e.jsx(nt,{title:"Thá»i gian trung bÃ¬nh",value:Math.floor(Se.averageCallDuration/60),change:Se.callDurationGrowth,icon:Ze,description:"PhÃºt/cuá»™c gá»i",suffix:"m"}),e.jsx(nt,{title:"NgÆ°á»i dÃ¹ng hoáº¡t Ä‘á»™ng",value:Se.activeUsers,change:Se.activeUsersGrowth,icon:mt,description:"Trong 7 ngÃ y"}),e.jsx(nt,{title:"Äiá»ƒm hÃ i lÃ²ng",value:Se.satisfactionScore,change:Se.satisfactionGrowth,icon:ht,description:"TrÃªn 5 Ä‘iá»ƒm",suffix:"/5"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(A,{className:"lg:col-span-2",children:[e.jsxs(R,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(ut,{className:"h-5 w-5"}),"PhÃ¢n bá»‘ ngÃ´n ngá»¯"]}),e.jsx(ee,{children:"NgÃ´n ngá»¯ Ä‘Æ°á»£c sá»­ dá»¥ng trong cÃ¡c cuá»™c gá»i"})]}),e.jsx(D,{children:e.jsx("div",{className:"space-y-4",children:Se.languageDistribution.map(t=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium",children:t.language}),e.jsxs("span",{className:"text-muted-foreground",children:[t.count," (",t.percentage,"%)"]})]}),e.jsx(gt,{value:t.percentage,className:"h-2"})]},t.language))})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(np,{}),e.jsx(ap,{})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(A,{children:[e.jsxs(R,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(xt,{className:"h-5 w-5"}),"Hoáº¡t Ä‘á»™ng gáº§n Ä‘Ã¢y"]}),e.jsx(ee,{children:"CÃ¡c sá»± kiá»‡n má»›i nháº¥t tá»« AI Assistant"})]}),e.jsx(D,{children:e.jsx("div",{className:"space-y-1",children:Se.recentActivity.map((t,s)=>e.jsx(sp,{time:t.time,action:t.action,type:t.type},s))})})]}),e.jsx(rp,{})]})]}),re=i.forwardRef(({className:t,type:s,...n},a)=>e.jsx("input",{type:s,className:M("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm font-medium text-dark placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...n}));re.displayName="Input";const op=Je("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),B=i.forwardRef(({className:t,...s},n)=>e.jsx(vs,{ref:n,className:M(op(),t),...s}));B.displayName=vs.displayName;const $e=Rn,Te=Ln,je=i.forwardRef(({className:t,children:s,...n},a)=>e.jsxs(Ns,{ref:a,className:M("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[s,e.jsx($n,{asChild:!0,children:e.jsx(Pe,{className:"h-4 w-4 opacity-50"})})]}));je.displayName=Ns.displayName;const pn=i.forwardRef(({className:t,...s},n)=>e.jsx(ws,{ref:n,className:M("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Zn,{className:"h-4 w-4"})}));pn.displayName=ws.displayName;const fn=i.forwardRef(({className:t,...s},n)=>e.jsx(_s,{ref:n,className:M("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Pe,{className:"h-4 w-4"})}));fn.displayName=_s.displayName;const ye=i.forwardRef(({className:t,children:s,position:n="popper",...a},o)=>e.jsx(Tn,{children:e.jsxs(ks,{ref:o,className:M("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...a,children:[e.jsx(pn,{}),e.jsx(In,{className:M("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(fn,{})]})}));ye.displayName=ks.displayName;const lp=i.forwardRef(({className:t,...s},n)=>e.jsx(Ss,{ref:n,className:M("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));lp.displayName=Ss.displayName;const Z=i.forwardRef(({className:t,children:s,...n},a)=>e.jsxs(Cs,{ref:a,className:M("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(An,{children:e.jsx(De,{className:"h-4 w-4"})})}),e.jsx(Dn,{children:s})]}));Z.displayName=Cs.displayName;const cp=i.forwardRef(({className:t,...s},n)=>e.jsx($s,{ref:n,className:M("-mx-1 my-1 h-px bg-muted",t),...s}));cp.displayName=$s.displayName;const bn=i.forwardRef(({className:t,...s},n)=>e.jsx(Ts,{ref:n,className:M("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...s,children:e.jsx(Mn,{className:M("flex items-center justify-center text-current"),children:e.jsx(De,{className:"h-4 w-4"})})}));bn.displayName=Ts.displayName;const dp=Je("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-dark",{variants:{variant:{default:"bg-background text-dark",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),pt=i.forwardRef(({className:t,variant:s,...n},a)=>e.jsx("div",{ref:a,role:"alert",className:M(dp({variant:s}),t),...n}));pt.displayName="Alert";const mp=i.forwardRef(({className:t,...s},n)=>e.jsx("h5",{ref:n,className:M("mb-1 font-medium leading-none tracking-tight",t),...s}));mp.displayName="AlertTitle";const ft=i.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:M("text-sm [&_p]:leading-relaxed",t),...s}));ft.displayName="AlertDescription";const hp=({state:t,onNext:s,onError:n,onUpdateState:a})=>{const o=(c,m)=>{a({formData:{...t.formData,[c]:m},validation:{...t.validation,[c]:null}})},l=()=>{const c={};return t.formData.hotelName.trim()?t.formData.hotelName.length<2&&(c.hotelName="TÃªn khÃ¡ch sáº¡n pháº£i cÃ³ Ã­t nháº¥t 2 kÃ½ tá»±"):c.hotelName="TÃªn khÃ¡ch sáº¡n lÃ  báº¯t buá»™c",a({validation:{...t.validation,...c}}),Object.keys(c).length===0},r=async()=>{if(l()){a({isResearching:!0,error:null});try{const c=await Qs.researchHotel({hotelName:t.formData.hotelName,location:t.formData.location||void 0,researchTier:t.formData.researchTier});c.success&&Va(c.hotelData)?s(c.hotelData):n({error:"Dá»¯ liá»‡u khÃ¡ch sáº¡n khÃ´ng há»£p lá»‡"})}catch(c){n(c)}finally{a({isResearching:!1})}}};return e.jsxs(A,{className:"max-w-2xl mx-auto",children:[e.jsxs(R,{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary text-primary-foreground",children:e.jsx(Ot,{className:"h-6 w-6"})})}),e.jsx(L,{className:"text-2xl",children:"TÃ¬m kiáº¿m thÃ´ng tin khÃ¡ch sáº¡n"}),e.jsx(ee,{children:"ChÃºng tÃ´i sáº½ tá»± Ä‘á»™ng nghiÃªn cá»©u vÃ  thu tháº­p thÃ´ng tin vá» khÃ¡ch sáº¡n cá»§a báº¡n"})]}),e.jsxs(D,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"hotel-name",children:"TÃªn khÃ¡ch sáº¡n *"}),e.jsx(re,{id:"hotel-name",placeholder:"VÃ­ dá»¥: Grand Hotel Saigon",value:t.formData.hotelName,onChange:c=>o("hotelName",c.target.value),className:`mt-1 ${t.validation.hotelName?"border-red-500":""}`}),t.validation.hotelName&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:t.validation.hotelName})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"location",children:"Äá»‹a Ä‘iá»ƒm (khÃ´ng báº¯t buá»™c)"}),e.jsx(re,{id:"location",placeholder:"VÃ­ dá»¥: Ho Chi Minh City, Vietnam",value:t.formData.location,onChange:c=>o("location",c.target.value),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"research-tier",children:"Má»©c Ä‘á»™ nghiÃªn cá»©u"}),e.jsxs($e,{value:t.formData.researchTier,onValueChange:c=>o("researchTier",c),children:[e.jsx(je,{className:"mt-1",children:e.jsx(Te,{})}),e.jsxs(ye,{children:[e.jsx(Z,{value:"basic",children:"CÆ¡ báº£n (Miá»…n phÃ­)"}),e.jsx(Z,{value:"advanced",children:"NÃ¢ng cao (Premium)"})]})]})]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"ThÃ´ng tin sáº½ Ä‘Æ°á»£c thu tháº­p:"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"â€¢ ThÃ´ng tin cÆ¡ báº£n (Ä‘á»‹a chá»‰, sá»‘ Ä‘iá»‡n thoáº¡i, website)"}),e.jsx("li",{children:"â€¢ Dá»‹ch vá»¥ vÃ  tiá»‡n nghi"}),e.jsx("li",{children:"â€¢ CÃ¡c loáº¡i phÃ²ng vÃ  giÃ¡ cáº£"}),e.jsx("li",{children:"â€¢ ChÃ­nh sÃ¡ch check-in/check-out"}),e.jsx("li",{children:"â€¢ CÃ¡c Ä‘iá»ƒm tham quan gáº§n Ä‘Ã³"}),t.formData.researchTier==="advanced"&&e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"â€¢ Dá»¯ liá»‡u máº¡ng xÃ£ há»™i"}),e.jsx("li",{children:"â€¢ PhÃ¢n tÃ­ch Ä‘Ã¡nh giÃ¡ khÃ¡ch hÃ ng"}),e.jsx("li",{children:"â€¢ ThÃ´ng tin Ä‘á»‘i thá»§ cáº¡nh tranh"})]})]})]}),t.error&&e.jsxs(pt,{variant:"destructive",children:[e.jsx(he,{className:"h-4 w-4"}),e.jsxs(ft,{children:[t.error.error,t.error.upgradeRequired&&e.jsx("div",{className:"mt-2",children:e.jsx(H,{variant:"outline",size:"sm",children:"NÃ¢ng cáº¥p gÃ³i dá»‹ch vá»¥"})})]})]}),e.jsx(H,{onClick:r,disabled:!t.formData.hotelName.trim()||t.isResearching,className:"w-full",size:"lg",children:t.isResearching?e.jsxs(e.Fragment,{children:[e.jsx(Le,{className:"w-4 h-4 mr-2 animate-spin"}),"Äang tÃ¬m kiáº¿m..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ot,{className:"w-4 h-4 mr-2"}),"TÃ¬m kiáº¿m khÃ¡ch sáº¡n"]})})]})]})},up=({state:t,onNext:s,onBack:n,onError:a,onUpdateState:o})=>{const[l,r]=i.useState(!1),[c,m]=i.useState(t.hotelData),[d,h]=i.useState(new Set(["basic"])),p=x=>{const b=new Set(d);b.has(x)?b.delete(x):b.add(x),h(b)},_=()=>{r(!l),l&&c&&o({hotelData:c})},k=()=>{t.hotelData&&s()};return t.hotelData?e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-green-100 text-green-600",children:e.jsx(Ue,{className:"h-6 w-6"})})}),e.jsx("h2",{className:"text-2xl font-bold",children:"XÃ¡c nháº­n thÃ´ng tin khÃ¡ch sáº¡n"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Vui lÃ²ng kiá»ƒm tra vÃ  xÃ¡c nháº­n thÃ´ng tin Ä‘Ã£ thu tháº­p"})]}),e.jsxs("div",{className:"flex justify-center gap-2 mb-6",children:[e.jsxs(H,{variant:l?"default":"outline",onClick:_,size:"sm",children:[e.jsx(Ve,{className:"w-4 h-4 mr-2"}),l?"LÆ°u thay Ä‘á»•i":"Chá»‰nh sá»­a"]}),e.jsxs(H,{variant:"outline",onClick:n,size:"sm",children:[e.jsx(It,{className:"w-4 h-4 mr-2"}),"TÃ¬m kiáº¿m láº¡i"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(A,{children:[e.jsx(R,{className:"cursor-pointer",onClick:()=>p("basic"),children:e.jsxs(L,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fs,{className:"h-5 w-5"}),"ThÃ´ng tin cÆ¡ báº£n"]}),d.has("basic")?e.jsx(Pe,{className:"h-4 w-4"}):e.jsx(ze,{className:"h-4 w-4"})]})}),d.has("basic")&&e.jsxs(D,{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{children:"TÃªn khÃ¡ch sáº¡n"}),e.jsx("p",{className:"font-medium",children:t.hotelData.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{children:"Äá»‹a chá»‰"}),e.jsx("p",{className:"text-sm text-gray-600",children:t.hotelData.address})]}),t.hotelData.phone&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{children:"Sá»‘ Ä‘iá»‡n thoáº¡i"}),e.jsx("p",{className:"text-sm",children:t.hotelData.phone})]}),t.hotelData.website&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{children:"Website"}),e.jsxs("a",{href:t.hotelData.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm flex items-center gap-1",children:[t.hotelData.website,e.jsx(Qn,{className:"h-3 w-3"})]})]}),t.hotelData.rating&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{children:"ÄÃ¡nh giÃ¡"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ea,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"font-medium",children:t.hotelData.rating})]})]})]})]}),e.jsxs(A,{children:[e.jsx(R,{className:"cursor-pointer",onClick:()=>p("services"),children:e.jsxs(L,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"h-5 w-5"}),"Dá»‹ch vá»¥ (",t.hotelData.services.length,")"]}),d.has("services")?e.jsx(Pe,{className:"h-4 w-4"}):e.jsx(ze,{className:"h-4 w-4"})]})}),d.has("services")&&e.jsx(D,{children:e.jsx("div",{className:"space-y-2",children:t.hotelData.services.map((x,b)=>e.jsxs("div",{className:"p-2 bg-gray-50 rounded",children:[e.jsx("div",{className:"font-medium text-sm",children:x.name}),e.jsx("div",{className:"text-xs text-gray-600",children:x.description})]},b))})})]}),e.jsxs(A,{children:[e.jsx(R,{className:"cursor-pointer",onClick:()=>p("amenities"),children:e.jsxs(L,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ta,{className:"h-5 w-5"}),"Tiá»‡n nghi (",t.hotelData.amenities.length,")"]}),d.has("amenities")?e.jsx(Pe,{className:"h-4 w-4"}):e.jsx(ze,{className:"h-4 w-4"})]})}),d.has("amenities")&&e.jsx(D,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:t.hotelData.amenities.map((x,b)=>e.jsx(le,{variant:"secondary",children:x},b))})})]}),e.jsxs(A,{children:[e.jsx(R,{className:"cursor-pointer",onClick:()=>p("rooms"),children:e.jsxs(L,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(mt,{className:"h-5 w-5"}),"Loáº¡i phÃ²ng (",t.hotelData.roomTypes.length,")"]}),d.has("rooms")?e.jsx(Pe,{className:"h-4 w-4"}):e.jsx(ze,{className:"h-4 w-4"})]})}),d.has("rooms")&&e.jsx(D,{children:e.jsx("div",{className:"space-y-3",children:t.hotelData.roomTypes.map((x,b)=>e.jsx("div",{className:"p-3 border rounded",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:x.name}),e.jsx("div",{className:"text-sm text-gray-600",children:x.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-green-600",children:[x.price.toLocaleString()," VND"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"/ Ä‘Ãªm"})]})]})},b))})})]}),e.jsxs(A,{children:[e.jsx(R,{className:"cursor-pointer",onClick:()=>p("policies"),children:e.jsxs(L,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"h-5 w-5"}),"ChÃ­nh sÃ¡ch"]}),d.has("policies")?e.jsx(Pe,{className:"h-4 w-4"}):e.jsx(ze,{className:"h-4 w-4"})]})}),d.has("policies")&&e.jsxs(D,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Check-in:"}),e.jsx("span",{className:"font-medium",children:t.hotelData.policies.checkIn})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Check-out:"}),e.jsx("span",{className:"font-medium",children:t.hotelData.policies.checkOut})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Há»§y phÃ²ng:"}),e.jsx("span",{className:"font-medium",children:t.hotelData.policies.cancellation})]})]})]}),e.jsxs(A,{children:[e.jsx(R,{className:"cursor-pointer",onClick:()=>p("attractions"),children:e.jsxs(L,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ls,{className:"h-5 w-5"}),"Äiá»ƒm tham quan (",t.hotelData.localAttractions.length,")"]}),d.has("attractions")?e.jsx(Pe,{className:"h-4 w-4"}):e.jsx(ze,{className:"h-4 w-4"})]})}),d.has("attractions")&&e.jsx(D,{children:e.jsx("div",{className:"space-y-2",children:t.hotelData.localAttractions.map((x,b)=>e.jsxs("div",{className:"p-2 bg-gray-50 rounded",children:[e.jsx("div",{className:"font-medium text-sm",children:x.name}),e.jsx("div",{className:"text-xs text-gray-600",children:x.description}),x.distance&&e.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["CÃ¡ch ",x.distance]})]},b))})})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(H,{variant:"outline",onClick:n,children:[e.jsx(It,{className:"w-4 h-4 mr-2"}),"Quay láº¡i"]}),e.jsxs(H,{onClick:k,size:"lg",children:["Tiáº¿p tá»¥c",e.jsx(sa,{className:"w-4 h-4 ml-2"})]})]})]}):e.jsx(A,{className:"max-w-2xl mx-auto",children:e.jsxs(D,{className:"text-center py-8",children:[e.jsx(he,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),e.jsx("p",{children:"KhÃ´ng tÃ¬m tháº¥y dá»¯ liá»‡u khÃ¡ch sáº¡n. Vui lÃ²ng thá»­ láº¡i."}),e.jsx(H,{onClick:n,className:"mt-4",children:"Quay láº¡i"})]})})},xp=({state:t,onNext:s,onBack:n,onError:a,onUpdateState:o})=>{const l=(d,h)=>{o({customization:{...t.customization,[d]:h},validation:{...t.validation,[d]:null}})},r=(d,h)=>{let p=[...t.customization.languages];h?p.push(d):p=p.filter(_=>_!==d),l("languages",p)},c=()=>{const d={};return t.customization.languages.length===0&&(d.languages="Vui lÃ²ng chá»n Ã­t nháº¥t má»™t ngÃ´n ngá»¯"),o({validation:{...t.validation,...d}}),Object.keys(d).length===0},m=async()=>{if(!(!c()||!t.hotelData)){if(!Wa(t.customization)){a({error:"Cáº¥u hÃ¬nh Assistant khÃ´ng há»£p lá»‡"});return}o({isGenerating:!0,error:null});try{const d=await Qs.generateAssistant({hotelData:t.hotelData,customization:t.customization});d.success?s(d.assistantId):a({error:"KhÃ´ng thá»ƒ táº¡o Assistant"})}catch(d){a(d)}finally{o({isGenerating:!1})}}};return e.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-purple-100 text-purple-600",children:e.jsx(qe,{className:"h-6 w-6"})})}),e.jsx("h2",{className:"text-2xl font-bold",children:"TÃ¹y chá»‰nh AI Assistant"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"CÃ¡ nhÃ¢n hÃ³a AI Assistant theo phong cÃ¡ch khÃ¡ch sáº¡n cá»§a báº¡n"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(A,{children:[e.jsxs(R,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ms,{className:"h-5 w-5"}),"TÃ­nh cÃ¡ch"]}),e.jsx(ee,{children:"Chá»n phong cÃ¡ch giao tiáº¿p cá»§a AI Assistant"})]}),e.jsx(D,{children:e.jsxs($e,{value:t.customization.personality,onValueChange:d=>l("personality",d),children:[e.jsx(je,{children:e.jsx(Te,{})}),e.jsx(ye,{children:Ua.map(d=>e.jsx(Z,{value:d.value,children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:d.label}),e.jsx("div",{className:"text-xs text-gray-500",children:d.description})]})},d.value))})]})})]}),e.jsxs(A,{children:[e.jsxs(R,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ht,{className:"h-5 w-5"}),"Giá»ng Ä‘iá»‡u"]}),e.jsx(ee,{children:"Chá»n cÃ¡ch thá»©c giao tiáº¿p"})]}),e.jsx(D,{children:e.jsxs($e,{value:t.customization.tone,onValueChange:d=>l("tone",d),children:[e.jsx(je,{children:e.jsx(Te,{})}),e.jsx(ye,{children:Ga.map(d=>e.jsx(Z,{value:d.value,children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:d.label}),e.jsx("div",{className:"text-xs text-gray-500",children:d.description})]})},d.value))})]})})]}),e.jsxs(A,{className:"md:col-span-2",children:[e.jsxs(R,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(ut,{className:"h-5 w-5"}),"NgÃ´n ngá»¯ há»— trá»£"]}),e.jsx(ee,{children:"Chá»n cÃ¡c ngÃ´n ngá»¯ mÃ  AI Assistant cÃ³ thá»ƒ giao tiáº¿p"})]}),e.jsxs(D,{children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Ka.map(d=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(bn,{id:d.value,checked:t.customization.languages.includes(d.value),onCheckedChange:h=>r(d.value,h)}),e.jsxs(B,{htmlFor:d.value,className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("span",{children:d.flag}),e.jsx("span",{children:d.label})]})]},d.value))}),t.validation.languages&&e.jsx("p",{className:"text-sm text-red-500 mt-2",children:t.validation.languages})]})]}),e.jsxs(A,{children:[e.jsxs(R,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(na,{className:"h-5 w-5"}),"CÃ i Ä‘áº·t giá»ng nÃ³i"]}),e.jsx(ee,{children:"Äiá»u chá»‰nh thá»i gian vÃ  Ã¢m thanh"})]}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(B,{children:"Thá»i gian chá» (giÃ¢y)"}),e.jsx(re,{type:"number",min:"10",max:"120",value:t.customization.silenceTimeout||30,onChange:d=>l("silenceTimeout",parseInt(d.target.value)),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(B,{children:"Thá»i gian tá»‘i Ä‘a (giÃ¢y)"}),e.jsx(re,{type:"number",min:"300",max:"3600",value:t.customization.maxDuration||1800,onChange:d=>l("maxDuration",parseInt(d.target.value)),className:"mt-1"})]})]})]}),e.jsxs(A,{children:[e.jsxs(R,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ht,{className:"h-5 w-5"}),"Ã‚m thanh ná»n"]}),e.jsx(ee,{children:"Chá»n Ã¢m thanh ná»n cho cuá»™c gá»i"})]}),e.jsx(D,{children:e.jsxs($e,{value:t.customization.backgroundSound,onValueChange:d=>l("backgroundSound",d),children:[e.jsx(je,{children:e.jsx(Te,{})}),e.jsx(ye,{children:Xa.map(d=>e.jsx(Z,{value:d.value,children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:d.label}),e.jsx("div",{className:"text-xs text-gray-500",children:d.description})]})},d.value))})]})})]})]}),t.error&&e.jsxs(pt,{variant:"destructive",children:[e.jsx(he,{className:"h-4 w-4"}),e.jsxs(ft,{children:[t.error.error,t.error.upgradeRequired&&e.jsx("div",{className:"mt-2",children:e.jsx(H,{variant:"outline",size:"sm",children:"NÃ¢ng cáº¥p gÃ³i dá»‹ch vá»¥"})})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(H,{variant:"outline",onClick:n,children:[e.jsx(It,{className:"w-4 h-4 mr-2"}),"Quay láº¡i"]}),e.jsx(H,{onClick:m,disabled:t.customization.languages.length===0||t.isGenerating,size:"lg",children:t.isGenerating?e.jsxs(e.Fragment,{children:[e.jsx(Le,{className:"w-4 h-4 mr-2 animate-spin"}),"Äang táº¡o Assistant..."]}):e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Táº¡o AI Assistant"]})})]})]})},gp=({state:t,onUpdateState:s})=>{const[,n]=ct(),a=()=>{n("/dashboard")},o=()=>{n("/dashboard/assistant")};return e.jsxs(A,{className:"max-w-2xl mx-auto",children:[e.jsxs(R,{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-green-100 text-green-600",children:e.jsx(Ue,{className:"h-8 w-8"})})}),e.jsx(L,{className:"text-2xl",children:"AI Assistant Ä‘Ã£ sáºµn sÃ ng!"}),e.jsx(ee,{className:"text-base",children:"KhÃ¡ch sáº¡n cá»§a báº¡n Ä‘Ã£ Ä‘Æ°á»£c thiáº¿t láº­p thÃ nh cÃ´ng. AI Assistant hiá»‡n cÃ³ thá»ƒ phá»¥c vá»¥ khÃ¡ch hÃ ng 24/7."})]}),e.jsxs(D,{className:"space-y-6",children:[e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Nhá»¯ng gÃ¬ Ä‘Ã£ Ä‘Æ°á»£c thiáº¿t láº­p:"}),e.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[e.jsx("li",{children:"âœ“ ThÃ´ng tin khÃ¡ch sáº¡n Ä‘Ã£ Ä‘Æ°á»£c lÆ°u trá»¯"}),e.jsx("li",{children:"âœ“ Knowledge base Ä‘Ã£ Ä‘Æ°á»£c táº¡o"}),e.jsx("li",{children:"âœ“ AI Assistant Ä‘Ã£ Ä‘Æ°á»£c cáº¥u hÃ¬nh"}),e.jsx("li",{children:"âœ“ Voice API Ä‘Ã£ Ä‘Æ°á»£c kÃ­ch hoáº¡t"}),e.jsx("li",{children:"âœ“ Dashboard Ä‘Ã£ sáºµn sÃ ng sá»­ dá»¥ng"})]})]}),t.assistantId&&e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"ThÃ´ng tin Assistant:"}),e.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[e.jsxs("div",{children:["ID: ",e.jsx("code",{className:"bg-blue-100 px-1 rounded",children:t.assistantId})]}),e.jsxs("div",{children:["TÃ­nh cÃ¡ch: ",e.jsx("span",{className:"capitalize",children:t.customization.personality})]}),e.jsxs("div",{children:["NgÃ´n ngá»¯: ",t.customization.languages.join(", ")]})]})]}),e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Báº¡n cÃ³ thá»ƒ báº¯t Ä‘áº§u sá»­ dá»¥ng AI Assistant ngay bÃ¢y giá» hoáº·c tÃ¹y chá»‰nh thÃªm trong cÃ i Ä‘áº·t."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(H,{onClick:o,variant:"outline",className:"flex-1",children:[e.jsx(We,{className:"w-4 h-4 mr-2"}),"Kiá»ƒm tra Assistant"]}),e.jsx(H,{onClick:a,size:"lg",className:"flex-1",children:"Äi tá»›i Dashboard"})]})]})]})]})},pp=()=>{const[t,s]=i.useState({currentStep:1,hotelData:null,customization:{personality:"professional",tone:"friendly",languages:["vi"],backgroundSound:"hotel-lobby"},isLoading:!1,error:null,isResearching:!1,isGenerating:!1,assistantId:null,retryCount:0,formData:{hotelName:"",location:"",researchTier:"basic"},validation:{hotelName:null,languages:null}}),n=4,a=t.currentStep/n*100,o=h=>{s(p=>({...p,...h}))},l=h=>{t.currentStep===1&&h?o({hotelData:h,currentStep:2,error:null}):t.currentStep===2?o({currentStep:3,error:null}):t.currentStep===3&&h&&o({assistantId:h,currentStep:4,error:null})},r=()=>{t.currentStep>1&&o({currentStep:t.currentStep-1,error:null})},c=h=>{o({error:h})},m=()=>{o({error:null,retryCount:t.retryCount+1})},d={state:t,onNext:l,onBack:r,onError:c,onUpdateState:o};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"max-w-2xl mx-auto mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:["BÆ°á»›c ",t.currentStep," / ",n]}),e.jsxs("span",{className:"text-sm text-gray-600",children:[Math.round(a),"%"]})]}),e.jsx(gt,{value:a,className:"h-2"})]}),t.error&&e.jsx("div",{className:"max-w-2xl mx-auto mb-6",children:e.jsxs(pt,{variant:"destructive",children:[e.jsx(he,{className:"h-4 w-4"}),e.jsxs(ft,{className:"flex items-center justify-between",children:[e.jsx("span",{children:t.error.error}),e.jsxs(H,{variant:"outline",size:"sm",onClick:m,children:[e.jsx(dt,{className:"w-4 h-4 mr-2"}),"Thá»­ láº¡i"]})]})]})}),t.currentStep===1&&e.jsx(hp,{...d}),t.currentStep===2&&e.jsx(up,{...d}),t.currentStep===3&&e.jsx(xp,{...d}),t.currentStep===4&&e.jsx(gp,{...d})]})})},Pt=i.forwardRef(({className:t,...s},n)=>e.jsx("textarea",{className:M("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...s}));Pt.displayName="Textarea";const me=i.forwardRef(({className:t,...s},n)=>e.jsx(Is,{className:M("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...s,ref:n,children:e.jsx(Pn,{className:M("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));me.displayName=Is.displayName;const Ft=Fn,bt=i.forwardRef(({className:t,...s},n)=>e.jsx(As,{ref:n,className:M("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s}));bt.displayName=As.displayName;const ve=i.forwardRef(({className:t,...s},n)=>e.jsx(Ds,{ref:n,className:M("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-dark data-[state=active]:shadow-sm",t),...s}));ve.displayName=Ds.displayName;const Ne=i.forwardRef(({className:t,...s},n)=>e.jsx(Rs,{ref:n,className:M("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));Ne.displayName=Rs.displayName;const lt={id:"asst_abc123",name:"Mi Nhon Hotel AI Concierge",personality:"professional",tone:"friendly",languages:["vi","en","fr"],voiceId:"jennifer",silenceTimeout:30,maxDuration:600,backgroundSound:"hotel-lobby",systemPrompt:"You are the AI concierge for Mi Nhon Hotel...",status:"active",lastUpdated:"2024-01-15T10:30:00Z"},Ke={totalCalls:1247,averageRating:4.7,responseTime:1.2,successRate:96.5,topIntents:[{intent:"Room Service",count:342,percentage:27.4},{intent:"Hotel Information",count:298,percentage:23.9},{intent:"Spa Booking",count:187,percentage:15},{intent:"Restaurant Reservation",count:156,percentage:12.5}]},fp=()=>{const[t,s]=i.useState(lt),[n,a]=i.useState(!1),o=async()=>{a(!0);try{await new Promise(l=>setTimeout(l,1e3)),console.log("Saving configuration:",t)}catch(l){console.error("Failed to save configuration:",l)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(A,{children:[e.jsxs(R,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"h-5 w-5"}),"Cáº¥u hÃ¬nh cÆ¡ báº£n"]}),e.jsx(ee,{children:"Thiáº¿t láº­p thÃ´ng tin vÃ  hÃ nh vi cá»§a AI Assistant"})]}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"assistant-name",children:"TÃªn Assistant"}),e.jsx(re,{id:"assistant-name",value:t.name,onChange:l=>s(r=>({...r,name:l.target.value})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"voice-id",children:"Giá»ng nÃ³i"}),e.jsxs($e,{value:t.voiceId,onValueChange:l=>s(r=>({...r,voiceId:l})),children:[e.jsx(je,{className:"mt-1",children:e.jsx(Te,{})}),e.jsxs(ye,{children:[e.jsx(Z,{value:"jennifer",children:"Jennifer (Ná»¯, Tiáº¿ng Anh)"}),e.jsx(Z,{value:"david",children:"David (Nam, Tiáº¿ng Anh)"}),e.jsx(Z,{value:"linh",children:"Linh (Ná»¯, Tiáº¿ng Viá»‡t)"}),e.jsx(Z,{value:"duc",children:"Äá»©c (Nam, Tiáº¿ng Viá»‡t)"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"personality",children:"TÃ­nh cÃ¡ch"}),e.jsxs($e,{value:t.personality,onValueChange:l=>s(r=>({...r,personality:l})),children:[e.jsx(je,{className:"mt-1",children:e.jsx(Te,{})}),e.jsxs(ye,{children:[e.jsx(Z,{value:"professional",children:"ChuyÃªn nghiá»‡p"}),e.jsx(Z,{value:"friendly",children:"ThÃ¢n thiá»‡n"}),e.jsx(Z,{value:"luxurious",children:"Sang trá»ng"}),e.jsx(Z,{value:"casual",children:"Thoáº£i mÃ¡i"})]})]})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"tone",children:"Giá»ng Ä‘iá»‡u"}),e.jsxs($e,{value:t.tone,onValueChange:l=>s(r=>({...r,tone:l})),children:[e.jsx(je,{className:"mt-1",children:e.jsx(Te,{})}),e.jsxs(ye,{children:[e.jsx(Z,{value:"formal",children:"Lá»‹ch sá»±"}),e.jsx(Z,{value:"friendly",children:"ThÃ¢n thiá»‡n"}),e.jsx(Z,{value:"warm",children:"áº¤m Ã¡p"}),e.jsx(Z,{value:"energetic",children:"NÄƒng Ä‘á»™ng"}),e.jsx(Z,{value:"calm",children:"BÃ¬nh tÄ©nh"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"silence-timeout",children:"Thá»i gian chá» (giÃ¢y)"}),e.jsx(re,{id:"silence-timeout",type:"number",value:t.silenceTimeout,onChange:l=>s(r=>({...r,silenceTimeout:parseInt(l.target.value)})),className:"mt-1",min:"10",max:"120"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"max-duration",children:"Thá»i lÆ°á»£ng tá»‘i Ä‘a (giÃ¢y)"}),e.jsx(re,{id:"max-duration",type:"number",value:t.maxDuration,onChange:l=>s(r=>({...r,maxDuration:parseInt(l.target.value)})),className:"mt-1",min:"300",max:"3600"})]})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"background-sound",children:"Ã‚m thanh ná»n"}),e.jsxs($e,{value:t.backgroundSound,onValueChange:l=>s(r=>({...r,backgroundSound:l})),children:[e.jsx(je,{className:"mt-1",children:e.jsx(Te,{})}),e.jsxs(ye,{children:[e.jsx(Z,{value:"hotel-lobby",children:"Sáº£nh khÃ¡ch sáº¡n"}),e.jsx(Z,{value:"office",children:"VÄƒn phÃ²ng"}),e.jsx(Z,{value:"off",children:"Táº¯t Ã¢m thanh ná»n"})]})]})]})]})]}),e.jsxs(A,{children:[e.jsxs(R,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Lt,{className:"h-5 w-5"}),"System Prompt"]}),e.jsx(ee,{children:"HÆ°á»›ng dáº«n chi tiáº¿t cho AI Assistant vá» cÃ¡ch hÃ nh xá»­ vÃ  tráº£ lá»i"})]}),e.jsx(D,{children:e.jsx(Pt,{value:t.systemPrompt,onChange:l=>s(r=>({...r,systemPrompt:l.target.value})),rows:8,className:"font-mono text-sm",placeholder:"Nháº­p system prompt cho AI Assistant..."})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(H,{onClick:o,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(Le,{className:"w-4 h-4 mr-2 animate-spin"}),"Äang lÆ°u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{className:"w-4 h-4 mr-2"}),"LÆ°u cáº¥u hÃ¬nh"]})})})]})},bp=()=>{const[t,s]=i.useState(!1),[n,a]=i.useState(""),[o,l]=i.useState(""),[r,c]=i.useState(!1),m=async()=>{if(n.trim()){c(!0);try{await new Promise(d=>setTimeout(d,2e3)),l(`Xin chÃ o! TÃ´i lÃ  AI Assistant cá»§a Mi Nhon Hotel. TÃ´i cÃ³ thá»ƒ giÃºp báº¡n vá» ${n}. Báº¡n cÃ³ cáº§n tÃ´i há»— trá»£ gÃ¬ thÃªm khÃ´ng?`)}catch{l("ÄÃ£ xáº£y ra lá»—i khi kiá»ƒm tra. Vui lÃ²ng thá»­ láº¡i.")}finally{c(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(A,{children:[e.jsxs(R,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(zt,{className:"h-5 w-5"}),"Test AI Assistant"]}),e.jsx(ee,{children:"Kiá»ƒm tra pháº£n há»“i cá»§a AI Assistant vá»›i cÃ¡c cÃ¢u há»i máº«u"})]}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(me,{id:"test-mode",checked:t,onCheckedChange:s}),e.jsx(B,{htmlFor:"test-mode",children:"Cháº¿ Ä‘á»™ kiá»ƒm tra"})]}),t&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"test-phrase",children:"CÃ¢u há»i thá»­ nghiá»‡m"}),e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsx(re,{id:"test-phrase",value:n,onChange:d=>a(d.target.value),placeholder:"VÃ­ dá»¥: TÃ´i muá»‘n Ä‘áº·t phÃ²ng",className:"flex-1"}),e.jsx(H,{onClick:m,disabled:!n.trim()||r,children:r?e.jsx(Le,{className:"w-4 h-4 animate-spin"}):e.jsx(zt,{className:"w-4 h-4"})})]})]}),o&&e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx(B,{className:"text-sm font-medium",children:"Pháº£n há»“i cá»§a AI:"}),e.jsx("p",{className:"text-sm text-gray-700 mt-1",children:o})]})]})]})]}),e.jsxs(A,{children:[e.jsxs(R,{children:[e.jsx(L,{children:"Máº«u cÃ¢u há»i thÆ°á»ng gáº·p"}),e.jsx(ee,{children:"CÃ¡c cÃ¢u há»i mÃ  khÃ¡ch hÃ ng thÆ°á»ng há»i"})]}),e.jsx(D,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:["TÃ´i muá»‘n Ä‘áº·t phÃ²ng","Giá» check-in lÃ  máº¥y giá»?","KhÃ¡ch sáº¡n cÃ³ dá»‹ch vá»¥ spa khÃ´ng?","TÃ´i muá»‘n Ä‘áº·t bÃ n Äƒn tá»‘i","LÃ m sao Ä‘á»ƒ Ä‘i sÃ¢n bay?","CÃ³ wifi miá»…n phÃ­ khÃ´ng?","TÃ´i muá»‘n gá»i room service","KhÃ¡ch sáº¡n cÃ³ há»“ bÆ¡i khÃ´ng?"].map((d,h)=>e.jsxs(H,{variant:"outline",size:"sm",className:"justify-start text-left h-auto p-2",onClick:()=>a(d),children:[e.jsx(Lt,{className:"w-3 h-3 mr-2 shrink-0"}),e.jsx("span",{className:"text-xs",children:d})]},h))})})]})]})},jp=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(A,{children:[e.jsxs(R,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"Tá»•ng cuá»™c gá»i"}),e.jsx(We,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(D,{children:[e.jsx("div",{className:"text-2xl font-bold",children:Ke.totalCalls.toLocaleString()}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"ThÃ¡ng nÃ y"})]})]}),e.jsxs(A,{children:[e.jsxs(R,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"ÄÃ¡nh giÃ¡ trung bÃ¬nh"}),e.jsx(xt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(D,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[Ke.averageRating,"/5"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Äiá»ƒm hÃ i lÃ²ng"})]})]}),e.jsxs(A,{children:[e.jsxs(R,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"Thá»i gian pháº£n há»“i"}),e.jsx(Ze,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(D,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[Ke.responseTime,"s"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Trung bÃ¬nh"})]})]}),e.jsxs(A,{children:[e.jsxs(R,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:"Tá»· lá»‡ thÃ nh cÃ´ng"}),e.jsx(Ue,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(D,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[Ke.successRate,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Cuá»™c gá»i thÃ nh cÃ´ng"})]})]})]}),e.jsxs(A,{children:[e.jsxs(R,{children:[e.jsx(L,{children:"Ã Ä‘á»‹nh phá»• biáº¿n"}),e.jsx(ee,{children:"CÃ¡c yÃªu cáº§u mÃ  khÃ¡ch hÃ ng thÆ°á»ng há»i nháº¥t"})]}),e.jsx(D,{children:e.jsx("div",{className:"space-y-4",children:Ke.topIntents.map((t,s)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),e.jsx("span",{className:"font-medium",children:t.intent})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx("span",{children:t.count}),e.jsxs(le,{variant:"outline",children:[t.percentage,"%"]})]})]},s))})})]})]}),yp=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"AI Assistant"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh AI Assistant cho khÃ¡ch sáº¡n"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(le,{variant:"outline",className:"text-green-600",children:[e.jsx(Ue,{className:"w-3 h-3 mr-1"}),"Hoáº¡t Ä‘á»™ng"]})})]}),e.jsxs(A,{children:[e.jsx(R,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(qe,{className:"h-5 w-5"}),"Tráº¡ng thÃ¡i Assistant"]})}),e.jsx(D,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{className:"text-sm font-medium",children:"TÃªn Assistant"}),e.jsx("p",{className:"text-sm text-gray-600",children:lt.name})]}),e.jsxs("div",{children:[e.jsx(B,{className:"text-sm font-medium",children:"ID Assistant"}),e.jsx("p",{className:"text-sm text-gray-600 font-mono",children:lt.id})]}),e.jsxs("div",{children:[e.jsx(B,{className:"text-sm font-medium",children:"Cáº­p nháº­t láº§n cuá»‘i"}),e.jsx("p",{className:"text-sm text-gray-600",children:new Date(lt.lastUpdated).toLocaleString("vi-VN")})]})]})})]}),e.jsxs(Ft,{defaultValue:"config",className:"space-y-4",children:[e.jsxs(bt,{className:"grid w-full grid-cols-3",children:[e.jsx(ve,{value:"config",children:"Cáº¥u hÃ¬nh"}),e.jsx(ve,{value:"test",children:"Kiá»ƒm tra"}),e.jsx(ve,{value:"performance",children:"Hiá»‡u suáº¥t"})]}),e.jsx(Ne,{value:"config",className:"space-y-4",children:e.jsx(fp,{})}),e.jsx(Ne,{value:"test",className:"space-y-4",children:e.jsx(bp,{})}),e.jsx(Ne,{value:"performance",className:"space-y-4",children:e.jsx(jp,{})})]})]}),xe={overview:{totalCalls:1247,totalCallsGrowth:12.5,averageCallDuration:245,callDurationGrowth:-5.2,uniqueUsers:89,uniqueUsersGrowth:8.3,satisfactionScore:4.7,satisfactionGrowth:2.1},callsByHour:[{hour:"00",calls:12},{hour:"01",calls:8},{hour:"02",calls:5},{hour:"03",calls:3},{hour:"04",calls:2},{hour:"05",calls:4},{hour:"06",calls:15},{hour:"07",calls:28},{hour:"08",calls:45},{hour:"09",calls:67},{hour:"10",calls:89},{hour:"11",calls:78},{hour:"12",calls:95},{hour:"13",calls:87},{hour:"14",calls:92},{hour:"15",calls:85},{hour:"16",calls:78},{hour:"17",calls:65},{hour:"18",calls:82},{hour:"19",calls:75},{hour:"20",calls:58},{hour:"21",calls:45},{hour:"22",calls:32},{hour:"23",calls:22}],languageDistribution:[{language:"Tiáº¿ng Viá»‡t",calls:687,percentage:55.1},{language:"English",calls:423,percentage:33.9},{language:"FranÃ§ais",calls:137,percentage:11}],intentDistribution:[{intent:"Room Service",calls:342,percentage:27.4},{intent:"Hotel Information",calls:298,percentage:23.9},{intent:"Spa Booking",calls:187,percentage:15},{intent:"Restaurant Reservation",calls:156,percentage:12.5},{intent:"Housekeeping",calls:98,percentage:7.9},{intent:"Concierge",calls:87,percentage:7},{intent:"Complaints",calls:45,percentage:3.6},{intent:"Other",calls:34,percentage:2.7}],callsByDay:[{day:"Thá»© 2",calls:145},{day:"Thá»© 3",calls:178},{day:"Thá»© 4",calls:189},{day:"Thá»© 5",calls:234},{day:"Thá»© 6",calls:267},{day:"Thá»© 7",calls:156},{day:"Chá»§ nháº­t",calls:78}],satisfactionByIntent:[{intent:"Room Service",rating:4.8},{intent:"Hotel Information",rating:4.9},{intent:"Spa Booking",rating:4.6},{intent:"Restaurant Reservation",rating:4.7},{intent:"Housekeeping",rating:4.5},{intent:"Concierge",rating:4.8},{intent:"Complaints",rating:3.2}]},at=({title:t,value:s,change:n,icon:a,description:o,suffix:l=""})=>e.jsxs(A,{children:[e.jsxs(R,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(L,{className:"text-sm font-medium",children:t}),e.jsx(a,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(D,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[s,l]}),e.jsxs("div",{className:"flex items-center pt-1",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:o}),n!==void 0&&e.jsxs("div",{className:`ml-auto flex items-center text-xs ${n>0?"text-green-600":"text-red-600"}`,children:[e.jsx(ht,{className:`h-3 w-3 mr-1 ${n<0?"rotate-180":""}`}),Math.abs(n),"%"]})]})]})]}),vp=({data:t,dataKey:s,nameKey:n,title:a})=>{const o=Math.max(...t.map(l=>l[s]));return e.jsxs(A,{children:[e.jsx(R,{children:e.jsx(L,{className:"text-base",children:a})}),e.jsx(D,{children:e.jsx("div",{className:"space-y-2",children:t.map((l,r)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-20 text-sm text-gray-600 text-right",children:l[n]}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${l[s]/o*100}%`}})}),e.jsx("div",{className:"w-16 text-sm font-medium text-right",children:l[s]})]},r))})})]})},Np=()=>{const[t,s]=i.useState("30d"),[n,a]=i.useState("all");return e.jsxs(A,{children:[e.jsx(R,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(ra,{className:"h-5 w-5"}),"Bá»™ lá»c"]})}),e.jsx(D,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Khoáº£ng thá»i gian"}),e.jsxs($e,{value:t,onValueChange:s,children:[e.jsx(je,{className:"mt-1",children:e.jsx(Te,{})}),e.jsxs(ye,{children:[e.jsx(Z,{value:"7d",children:"7 ngÃ y qua"}),e.jsx(Z,{value:"30d",children:"30 ngÃ y qua"}),e.jsx(Z,{value:"90d",children:"90 ngÃ y qua"}),e.jsx(Z,{value:"1y",children:"1 nÄƒm qua"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"NgÃ´n ngá»¯"}),e.jsxs($e,{value:n,onValueChange:a,children:[e.jsx(je,{className:"mt-1",children:e.jsx(Te,{})}),e.jsxs(ye,{children:[e.jsx(Z,{value:"all",children:"Táº¥t cáº£"}),e.jsx(Z,{value:"vi",children:"Tiáº¿ng Viá»‡t"}),e.jsx(Z,{value:"en",children:"English"}),e.jsx(Z,{value:"fr",children:"FranÃ§ais"})]})]})]}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsxs(H,{variant:"outline",size:"sm",children:[e.jsx(dt,{className:"h-4 w-4 mr-2"}),"LÃ m má»›i"]}),e.jsxs(H,{variant:"outline",size:"sm",children:[e.jsx(Es,{className:"h-4 w-4 mr-2"}),"Xuáº¥t Excel"]})]})]})})]})},wp=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(at,{title:"Tá»•ng cuá»™c gá»i",value:xe.overview.totalCalls.toLocaleString(),change:xe.overview.totalCallsGrowth,icon:We,description:"ThÃ¡ng nÃ y"}),e.jsx(at,{title:"Thá»i gian trung bÃ¬nh",value:Math.floor(xe.overview.averageCallDuration/60),change:xe.overview.callDurationGrowth,icon:Ze,description:"PhÃºt/cuá»™c gá»i",suffix:"m"}),e.jsx(at,{title:"NgÆ°á»i dÃ¹ng duy nháº¥t",value:xe.overview.uniqueUsers,change:xe.overview.uniqueUsersGrowth,icon:mt,description:"ThÃ¡ng nÃ y"}),e.jsx(at,{title:"Äiá»ƒm hÃ i lÃ²ng",value:xe.overview.satisfactionScore,change:xe.overview.satisfactionGrowth,icon:ht,description:"TrÃªn 5 Ä‘iá»ƒm",suffix:"/5"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(vp,{data:xe.callsByDay,dataKey:"calls",nameKey:"day",title:"Cuá»™c gá»i theo ngÃ y trong tuáº§n"}),e.jsxs(A,{children:[e.jsx(R,{children:e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(ut,{className:"h-5 w-5"}),"PhÃ¢n bá»‘ ngÃ´n ngá»¯"]})}),e.jsx(D,{children:e.jsx("div",{className:"space-y-3",children:xe.languageDistribution.map((t,s)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-primary rounded-full"}),e.jsx("span",{className:"font-medium",children:t.language})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:t.calls}),e.jsxs(le,{variant:"outline",children:[t.percentage,"%"]})]})]},s))})})]})]})]}),_p=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(A,{children:[e.jsxs(R,{children:[e.jsx(L,{children:"Cuá»™c gá»i theo giá»"}),e.jsx(ee,{children:"PhÃ¢n bá»‘ cuá»™c gá»i trong 24 giá»"})]}),e.jsx(D,{children:e.jsx("div",{className:"space-y-2",children:xe.callsByHour.map((t,s)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"w-8 text-xs text-gray-600",children:[t.hour,"h"]}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${t.calls/95*100}%`}})}),e.jsx("div",{className:"w-8 text-xs font-medium text-right",children:t.calls})]},s))})})]}),e.jsxs(A,{children:[e.jsxs(R,{children:[e.jsx(L,{children:"Ã Ä‘á»‹nh cuá»™c gá»i"}),e.jsx(ee,{children:"PhÃ¢n loáº¡i theo má»¥c Ä‘Ã­ch"})]}),e.jsx(D,{children:e.jsx("div",{className:"space-y-3",children:xe.intentDistribution.map((t,s)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:t.intent}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:t.calls}),e.jsxs(le,{variant:"outline",children:[t.percentage,"%"]})]})]},s))})})]})]})}),kp=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(A,{children:[e.jsxs(R,{children:[e.jsx(L,{children:"Äiá»ƒm hÃ i lÃ²ng theo Ã½ Ä‘á»‹nh"}),e.jsx(ee,{children:"ÄÃ¡nh giÃ¡ khÃ¡ch hÃ ng cho tá»«ng loáº¡i dá»‹ch vá»¥"})]}),e.jsx(D,{children:e.jsx("div",{className:"space-y-4",children:xe.satisfactionByIntent.map((t,s)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:t.intent}),e.jsxs(le,{variant:t.rating>=4.5?"default":t.rating>=4?"secondary":"destructive",children:[t.rating,"/5"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${t.rating>=4.5?"bg-green-500":t.rating>=4?"bg-yellow-500":"bg-red-500"}`,style:{width:`${t.rating/5*100}%`}})})]},s))})})]}),e.jsxs(A,{children:[e.jsxs(R,{children:[e.jsx(L,{children:"Xu hÆ°á»›ng Ä‘iá»ƒm hÃ i lÃ²ng"}),e.jsx(ee,{children:"Thay Ä‘á»•i theo thá»i gian"})]}),e.jsx(D,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:"4.7/5"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Äiá»ƒm trung bÃ¬nh thÃ¡ng nÃ y"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"5 sao"}),e.jsx("span",{children:"68%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"68%"}})}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"4 sao"}),e.jsx("span",{children:"22%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"22%"}})}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"3 sao"}),e.jsx("span",{children:"7%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:"7%"}})}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"2 sao"}),e.jsx("span",{children:"2%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:"2%"}})}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"1 sao"}),e.jsx("span",{children:"1%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:"1%"}})})]})]})})]})]})}),Sp=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"PhÃ¢n tÃ­ch & BÃ¡o cÃ¡o"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Thá»‘ng kÃª chi tiáº¿t vá» hiá»‡u suáº¥t AI Assistant"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(H,{variant:"outline",size:"sm",children:[e.jsx(aa,{className:"h-4 w-4 mr-2"}),"TÃ¹y chá»‰nh khoáº£ng thá»i gian"]}),e.jsxs(H,{variant:"outline",size:"sm",children:[e.jsx(Es,{className:"h-4 w-4 mr-2"}),"Xuáº¥t bÃ¡o cÃ¡o"]})]})]}),e.jsx(Np,{}),e.jsxs(Ft,{defaultValue:"overview",className:"space-y-4",children:[e.jsxs(bt,{className:"grid w-full grid-cols-3",children:[e.jsx(ve,{value:"overview",children:"Tá»•ng quan"}),e.jsx(ve,{value:"patterns",children:"Máº«u cuá»™c gá»i"}),e.jsx(ve,{value:"satisfaction",children:"HÃ i lÃ²ng"})]}),e.jsx(Ne,{value:"overview",className:"space-y-4",children:e.jsx(wp,{})}),e.jsx(Ne,{value:"patterns",className:"space-y-4",children:e.jsx(_p,{})}),e.jsx(Ne,{value:"satisfaction",className:"space-y-4",children:e.jsx(kp,{})})]})]}),jt={basicInfo:{name:"Mi Nhon Hotel",address:"123 Nguyen Hue Street, District 1, Ho Chi Minh City",phone:"+84 28 3829 2999",email:"info@minhonhotel.com",website:"https://minhonhotel.com",description:"KhÃ¡ch sáº¡n 4 sao sang trá»ng táº¡i trung tÃ¢m thÃ nh phá»‘ vá»›i view biá»ƒn tuyá»‡t Ä‘áº¹p vÃ  dá»‹ch vá»¥ chuyÃªn nghiá»‡p.",checkInTime:"14:00",checkOutTime:"12:00",currency:"VND",timezone:"Asia/Ho_Chi_Minh"},notifications:{emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,dailyReports:!0,weeklyReports:!0,monthlyReports:!0,alertOnErrors:!0,alertOnLowRating:!0},privacy:{recordCalls:!0,dataRetentionDays:90,shareAnalytics:!1,allowDataExport:!0,gdprCompliance:!0},api:{webhookUrl:"https://minhonhotel.com/webhook",apiKeys:{vapi:"vapi_***************",openai:"sk-***************"}}},Cp=()=>{const[t,s]=i.useState(jt.basicInfo),[n,a]=i.useState(!1),o=async()=>{a(!0);try{await new Promise(l=>setTimeout(l,1e3)),console.log("Saving hotel settings:",t)}catch(l){console.error("Failed to save settings:",l)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(A,{children:[e.jsxs(R,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Fs,{className:"h-5 w-5"}),"ThÃ´ng tin cÆ¡ báº£n"]}),e.jsx(ee,{children:"Cáº­p nháº­t thÃ´ng tin chi tiáº¿t vá» khÃ¡ch sáº¡n"})]}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"hotel-name",children:"TÃªn khÃ¡ch sáº¡n"}),e.jsx(re,{id:"hotel-name",value:t.name,onChange:l=>s(r=>({...r,name:l.target.value})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"phone",children:"Sá»‘ Ä‘iá»‡n thoáº¡i"}),e.jsx(re,{id:"phone",value:t.phone,onChange:l=>s(r=>({...r,phone:l.target.value})),className:"mt-1"})]})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"address",children:"Äá»‹a chá»‰"}),e.jsx(re,{id:"address",value:t.address,onChange:l=>s(r=>({...r,address:l.target.value})),className:"mt-1"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"email",children:"Email"}),e.jsx(re,{id:"email",type:"email",value:t.email,onChange:l=>s(r=>({...r,email:l.target.value})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"website",children:"Website"}),e.jsx(re,{id:"website",value:t.website,onChange:l=>s(r=>({...r,website:l.target.value})),className:"mt-1"})]})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"description",children:"MÃ´ táº£ khÃ¡ch sáº¡n"}),e.jsx(Pt,{id:"description",value:t.description,onChange:l=>s(r=>({...r,description:l.target.value})),className:"mt-1",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"check-in",children:"Giá» check-in"}),e.jsx(re,{id:"check-in",type:"time",value:t.checkInTime,onChange:l=>s(r=>({...r,checkInTime:l.target.value})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"check-out",children:"Giá» check-out"}),e.jsx(re,{id:"check-out",type:"time",value:t.checkOutTime,onChange:l=>s(r=>({...r,checkOutTime:l.target.value})),className:"mt-1"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"currency",children:"ÄÆ¡n vá»‹ tiá»n tá»‡"}),e.jsx(re,{id:"currency",value:t.currency,onChange:l=>s(r=>({...r,currency:l.target.value})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"timezone",children:"MÃºi giá»"}),e.jsx(re,{id:"timezone",value:t.timezone,onChange:l=>s(r=>({...r,timezone:l.target.value})),className:"mt-1"})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(H,{onClick:o,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(Le,{className:"w-4 h-4 mr-2 animate-spin"}),"Äang lÆ°u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{className:"w-4 h-4 mr-2"}),"LÆ°u thay Ä‘á»•i"]})})})]})},$p=()=>{const[t,s]=i.useState(jt.notifications),[n,a]=i.useState(!1),o=r=>{s(c=>({...c,[r]:!c[r]}))},l=async()=>{a(!0);try{await new Promise(r=>setTimeout(r,1e3)),console.log("Saving notification settings:",t)}catch(r){console.error("Failed to save settings:",r)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(A,{children:[e.jsxs(R,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ps,{className:"h-5 w-5"}),"CÃ i Ä‘áº·t thÃ´ng bÃ¡o"]}),e.jsx(ee,{children:"TÃ¹y chá»n thÃ´ng bÃ¡o vÃ  bÃ¡o cÃ¡o"})]}),e.jsxs(D,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"PhÆ°Æ¡ng thá»©c thÃ´ng bÃ¡o"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Email notifications"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Nháº­n thÃ´ng bÃ¡o qua email"})]}),e.jsx(me,{checked:t.emailNotifications,onCheckedChange:()=>o("emailNotifications")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"SMS notifications"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Nháº­n thÃ´ng bÃ¡o qua SMS"})]}),e.jsx(me,{checked:t.smsNotifications,onCheckedChange:()=>o("smsNotifications")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Push notifications"}),e.jsx("div",{className:"text-sm text-gray-600",children:"ThÃ´ng bÃ¡o Ä‘áº©y trÃªn trÃ¬nh duyá»‡t"})]}),e.jsx(me,{checked:t.pushNotifications,onCheckedChange:()=>o("pushNotifications")})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"BÃ¡o cÃ¡o Ä‘á»‹nh ká»³"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"BÃ¡o cÃ¡o hÃ ng ngÃ y"}),e.jsx("div",{className:"text-sm text-gray-600",children:"TÃ³m táº¯t hoáº¡t Ä‘á»™ng hÃ ng ngÃ y"})]}),e.jsx(me,{checked:t.dailyReports,onCheckedChange:()=>o("dailyReports")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"BÃ¡o cÃ¡o hÃ ng tuáº§n"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Thá»‘ng kÃª tuáº§n"})]}),e.jsx(me,{checked:t.weeklyReports,onCheckedChange:()=>o("weeklyReports")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"BÃ¡o cÃ¡o hÃ ng thÃ¡ng"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Tá»•ng quan thÃ¡ng"})]}),e.jsx(me,{checked:t.monthlyReports,onCheckedChange:()=>o("monthlyReports")})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Cáº£nh bÃ¡o"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Cáº£nh bÃ¡o lá»—i"}),e.jsx("div",{className:"text-sm text-gray-600",children:"ThÃ´ng bÃ¡o khi cÃ³ lá»—i há»‡ thá»‘ng"})]}),e.jsx(me,{checked:t.alertOnErrors,onCheckedChange:()=>o("alertOnErrors")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Cáº£nh bÃ¡o Ä‘iá»ƒm tháº¥p"}),e.jsx("div",{className:"text-sm text-gray-600",children:"ThÃ´ng bÃ¡o khi Ä‘iá»ƒm hÃ i lÃ²ng tháº¥p"})]}),e.jsx(me,{checked:t.alertOnLowRating,onCheckedChange:()=>o("alertOnLowRating")})]})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(H,{onClick:l,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(Le,{className:"w-4 h-4 mr-2 animate-spin"}),"Äang lÆ°u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{className:"w-4 h-4 mr-2"}),"LÆ°u cÃ i Ä‘áº·t"]})})})]})},Tp=()=>{const[t,s]=i.useState(jt.privacy),[n,a]=i.useState(!1),o=r=>{s(c=>({...c,[r]:!c[r]}))},l=async()=>{a(!0);try{await new Promise(r=>setTimeout(r,1e3)),console.log("Saving privacy settings:",t)}catch(r){console.error("Failed to save settings:",r)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(A,{children:[e.jsxs(R,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Os,{className:"h-5 w-5"}),"Quyá»n riÃªng tÆ° & Báº£o máº­t"]}),e.jsx(ee,{children:"Cáº¥u hÃ¬nh báº£o máº­t vÃ  quyá»n riÃªng tÆ° dá»¯ liá»‡u"})]}),e.jsxs(D,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Ghi Ã¢m cuá»™c gá»i"}),e.jsx("div",{className:"text-sm text-gray-600",children:"LÆ°u trá»¯ cuá»™c gá»i Ä‘á»ƒ cáº£i thiá»‡n cháº¥t lÆ°á»£ng"})]}),e.jsx(me,{checked:t.recordCalls,onCheckedChange:()=>o("recordCalls")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Chia sáº» dá»¯ liá»‡u phÃ¢n tÃ­ch"}),e.jsx("div",{className:"text-sm text-gray-600",children:"GiÃºp cáº£i thiá»‡n sáº£n pháº©m (dá»¯ liá»‡u áº©n danh)"})]}),e.jsx(me,{checked:t.shareAnalytics,onCheckedChange:()=>o("shareAnalytics")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Cho phÃ©p xuáº¥t dá»¯ liá»‡u"}),e.jsx("div",{className:"text-sm text-gray-600",children:"KhÃ¡ch hÃ ng cÃ³ thá»ƒ yÃªu cáº§u xuáº¥t dá»¯ liá»‡u"})]}),e.jsx(me,{checked:t.allowDataExport,onCheckedChange:()=>o("allowDataExport")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"TuÃ¢n thá»§ GDPR"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Báº£o vá»‡ quyá»n riÃªng tÆ° theo chuáº©n EU"})]}),e.jsx(me,{checked:t.gdprCompliance,onCheckedChange:()=>o("gdprCompliance")})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"LÆ°u trá»¯ dá»¯ liá»‡u"}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"retention-days",children:"Thá»i gian lÆ°u trá»¯ (ngÃ y)"}),e.jsx(re,{id:"retention-days",type:"number",value:t.dataRetentionDays,onChange:r=>s(c=>({...c,dataRetentionDays:parseInt(r.target.value)})),className:"mt-1 max-w-xs",min:"30",max:"365"}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["Dá»¯ liá»‡u sáº½ Ä‘Æ°á»£c tá»± Ä‘á»™ng xÃ³a sau ",t.dataRetentionDays," ngÃ y"]})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(H,{onClick:l,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(Le,{className:"w-4 h-4 mr-2 animate-spin"}),"Äang lÆ°u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{className:"w-4 h-4 mr-2"}),"LÆ°u cÃ i Ä‘áº·t"]})})})]})},Ip=()=>{const[t,s]=i.useState(jt.api),[n,a]=i.useState(!1),o=async()=>{a(!0);try{await new Promise(l=>setTimeout(l,1e3)),console.log("Saving API settings:",t)}catch(l){console.error("Failed to save settings:",l)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(A,{children:[e.jsxs(R,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(la,{className:"h-5 w-5"}),"Cáº¥u hÃ¬nh API"]}),e.jsx(ee,{children:"Quáº£n lÃ½ API keys vÃ  webhook"})]}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(B,{htmlFor:"webhook-url",children:"Webhook URL"}),e.jsx(re,{id:"webhook-url",value:t.webhookUrl,onChange:l=>s(r=>({...r,webhookUrl:l.target.value})),className:"mt-1",placeholder:"https://yourhotel.com/webhook"}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"URL Ä‘á»ƒ nháº­n thÃ´ng bÃ¡o vá» cÃ¡c sá»± kiá»‡n"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"API Keys"}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(he,{className:"h-4 w-4 text-yellow-600"}),e.jsx("span",{className:"font-medium text-yellow-800",children:"LÆ°u Ã½ báº£o máº­t"})]}),e.jsx("p",{className:"text-sm text-yellow-700",children:"KhÃ´ng chia sáº» API keys vá»›i ngÆ°á»i khÃ¡c. Thay Ä‘á»•i ngay náº¿u bá»‹ lá»™."})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"vapi-key",children:"Vapi API Key"}),e.jsx(re,{id:"vapi-key",type:"password",value:t.apiKeys.vapi,onChange:l=>s(r=>({...r,apiKeys:{...r.apiKeys,vapi:l.target.value}})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(B,{htmlFor:"openai-key",children:"OpenAI API Key"}),e.jsx(re,{id:"openai-key",type:"password",value:t.apiKeys.openai,onChange:l=>s(r=>({...r,apiKeys:{...r.apiKeys,openai:l.target.value}})),className:"mt-1"})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(H,{onClick:o,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(Le,{className:"w-4 h-4 mr-2 animate-spin"}),"Äang lÆ°u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{className:"w-4 h-4 mr-2"}),"LÆ°u cÃ i Ä‘áº·t"]})})})]})},Ap=()=>{const t=[{name:"Database Connection",status:"healthy",icon:ia},{name:"Vapi API",status:"healthy",icon:We},{name:"OpenAI API",status:"healthy",icon:qe},{name:"Email Service",status:"healthy",icon:oa},{name:"Webhook Endpoint",status:"warning",icon:ut},{name:"SSL Certificate",status:"healthy",icon:Os}],s=a=>{switch(a){case"healthy":return"text-green-600";case"warning":return"text-yellow-600";case"error":return"text-red-600";default:return"text-gray-600"}},n=a=>{switch(a){case"healthy":return e.jsx(le,{className:"bg-green-100 text-green-800",children:"Hoáº¡t Ä‘á»™ng"});case"warning":return e.jsx(le,{className:"bg-yellow-100 text-yellow-800",children:"Cáº£nh bÃ¡o"});case"error":return e.jsx(le,{className:"bg-red-100 text-red-800",children:"Lá»—i"});default:return e.jsx(le,{variant:"outline",children:"KhÃ´ng xÃ¡c Ä‘á»‹nh"})}};return e.jsxs(A,{children:[e.jsxs(R,{children:[e.jsxs(L,{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"h-5 w-5"}),"Tráº¡ng thÃ¡i há»‡ thá»‘ng"]}),e.jsx(ee,{children:"Kiá»ƒm tra tÃ¬nh tráº¡ng cÃ¡c dá»‹ch vá»¥"})]}),e.jsx(D,{children:e.jsx("div",{className:"space-y-4",children:t.map((a,o)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(a.icon,{className:`h-5 w-5 ${s(a.status)}`}),e.jsx("span",{className:"font-medium",children:a.name})]}),n(a.status)]},o))})})]})},Dp=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"CÃ i Ä‘áº·t"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Quáº£n lÃ½ thÃ´ng tin khÃ¡ch sáº¡n vÃ  cáº¥u hÃ¬nh há»‡ thá»‘ng"})]}),e.jsx(Ap,{}),e.jsxs(Ft,{defaultValue:"hotel",className:"space-y-4",children:[e.jsxs(bt,{className:"grid w-full grid-cols-4",children:[e.jsx(ve,{value:"hotel",children:"KhÃ¡ch sáº¡n"}),e.jsx(ve,{value:"notifications",children:"ThÃ´ng bÃ¡o"}),e.jsx(ve,{value:"privacy",children:"Quyá»n riÃªng tÆ°"}),e.jsx(ve,{value:"api",children:"API"})]}),e.jsx(Ne,{value:"hotel",className:"space-y-4",children:e.jsx(Cp,{})}),e.jsx(Ne,{value:"notifications",className:"space-y-4",children:e.jsx($p,{})}),e.jsx(Ne,{value:"privacy",className:"space-y-4",children:e.jsx(Tp,{})}),e.jsx(Ne,{value:"api",className:"space-y-4",children:e.jsx(Ip,{})})]})]}),He=({children:t,requireAuth:s=!0,requiredRole:n,redirectTo:a="/login"})=>{const{user:o,isAuthenticated:l,isLoading:r}=Mt(),[,c]=ct();return i.useEffect(()=>{if(!r){if(s&&!l){c(a);return}if(n&&o&&o.role!==n){c("/unauthorized");return}}},[l,r,o,s,n,a,c]),r?e.jsx(Rt,{}):s&&!l||n&&o&&o.role!==n?null:e.jsx(e.Fragment,{children:t})},Rp=Be.lazy(()=>Bs(()=>import("./CallHistory-CG8MQBdv.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),Lp=Be.lazy(()=>Bs(()=>import("./CallDetails-DsDkAVro.js"),__vite__mapDeps([7,1,2,3,4,5,6]))),Rt=()=>e.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Äang táº£i..."})]})}),Mp=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"container mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Kiá»ƒm tra TÃ­nh nÄƒng Email"}),e.jsx(Re,{href:"/",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90",children:"Quay láº¡i Trang ChÃ­nh"})]}),e.jsx(Mg,{})]})}),Pp=()=>{const{login:t,isLoading:s}=Mt(),[,n]=ct(),[a,o]=i.useState(""),[l,r]=i.useState(""),[c,m]=i.useState(""),[d,h]=i.useState(!1),p=async _=>{_.preventDefault(),m("");try{await t(a,l),n("/dashboard")}catch(k){m(k.message||"ÄÄƒng nháº­p tháº¥t báº¡i")}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"ÄÄƒng nháº­p Dashboard"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Hoáº·c"," ",e.jsx(Re,{href:"/",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"quay láº¡i trang chÃ­nh"})]})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[e.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[e.jsx("div",{children:e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Äá»‹a chá»‰ email",value:a,onChange:_=>o(_.target.value)})}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",name:"password",type:d?"text":"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Máº­t kháº©u",value:l,onChange:_=>r(_.target.value)}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>h(!d),children:d?e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):e.jsxs("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),c&&e.jsx("div",{className:"text-red-600 text-sm text-center",children:c}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:s?"Äang Ä‘Äƒng nháº­p...":"ÄÄƒng nháº­p"})})]})]})})},Fp=()=>e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"KhÃ´ng cÃ³ quyá»n truy cáº­p"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Báº¡n khÃ´ng cÃ³ quyá»n truy cáº­p vÃ o trang nÃ y."}),e.jsx(Re,{href:"/",className:"text-indigo-600 hover:text-indigo-500",children:"Quay láº¡i trang chÃ­nh"})]})});function Ep(){const t=Ys(),{isAuthenticated:s}=Mt();return t?e.jsx(i.Suspense,{fallback:e.jsx(Rt,{}),children:e.jsxs(vn,{children:[e.jsx(oe,{path:"/",component:fg}),e.jsx(oe,{path:"/call-history",component:Rp}),e.jsx(oe,{path:"/call-details/:callId",component:Lp}),e.jsx(oe,{path:"/email-test",component:Mp}),e.jsx(oe,{path:"/staff",component:zg}),e.jsx(oe,{path:"/staff/dashboard",component:dn}),e.jsx(oe,{path:"/analytics",component:Bg}),e.jsx(oe,{path:"/hotel-config-demo",component:Vg}),e.jsx(oe,{path:"/login",component:Pp}),e.jsx(oe,{path:"/unauthorized",component:Fp}),e.jsx(oe,{path:"/dashboard",children:e.jsx(He,{requireAuth:!0,children:e.jsx(Ee,{children:e.jsx(ip,{})})})}),e.jsx(oe,{path:"/dashboard/setup",children:e.jsx(He,{requireAuth:!0,children:e.jsx(Ee,{children:e.jsx(pp,{})})})}),e.jsx(oe,{path:"/dashboard/assistant",children:e.jsx(He,{requireAuth:!0,children:e.jsx(Ee,{children:e.jsx(yp,{})})})}),e.jsx(oe,{path:"/dashboard/analytics",children:e.jsx(He,{requireAuth:!0,children:e.jsx(Ee,{children:e.jsx(Sp,{})})})}),e.jsx(oe,{path:"/dashboard/settings",children:e.jsx(He,{requireAuth:!0,children:e.jsx(Ee,{children:e.jsx(Dp,{})})})}),e.jsx(oe,{path:"/dashboard/billing",children:e.jsx(He,{requireAuth:!0,children:e.jsx(Ee,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Thanh toÃ¡n & ÄÄƒng kÃ½"}),e.jsx("p",{className:"text-gray-600",children:"Trang quáº£n lÃ½ thanh toÃ¡n Ä‘ang Ä‘Æ°á»£c phÃ¡t triá»ƒn..."})]})})})}),e.jsx(oe,{path:"/dashboard/team",children:e.jsx(He,{requireAuth:!0,requiredRole:"admin",children:e.jsx(Ee,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Quáº£n lÃ½ NhÃ³m"}),e.jsx("p",{className:"text-gray-600",children:"Trang quáº£n lÃ½ nhÃ³m Ä‘ang Ä‘Æ°á»£c phÃ¡t triá»ƒn..."})]})})})}),e.jsx(oe,{component:Lg})]})}):e.jsx(Rt,{})}function Op(){return Pg(),e.jsxs(Ta,{children:[e.jsx(Ep,{}),e.jsx(Oa,{})]})}function Hp(){return e.jsx(ja,{children:e.jsx(za,{children:e.jsx($g,{children:e.jsx(Za,{children:e.jsx(Op,{})})})})})}yn(document.getElementById("root")).render(e.jsx(ma,{client:qa,children:e.jsx(Hp,{})}));
