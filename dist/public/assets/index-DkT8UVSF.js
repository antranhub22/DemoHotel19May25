const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/voice-vendor-By6w_Ckf.js","assets/react-vendor-DwA95FbG.js","assets/CallHistory-CNZGHJmP.js","assets/ui-vendor-V-Ei8kYY.js","assets/useQuery-C28UDaOT.js","assets/utility-vendor-XCGKcYu0.js","assets/chart-vendor-9PNgCd9A.js","assets/CallDetails-Cn583Ynd.js"])))=>i.map(i=>d[i]);
import{j as e,c as Ht,a as rc,u as St,B as ic,P as je,b as Xs,d as Hn,e as De,f as fs,V as $r,R as oc,g as lc,h as Vs,i as cc,S as dc,k as Fr,l as Or,m as hc,C as zr,I as Br,n as qr,o as Hr,p as Vr,L as Ur,q as Gr,r as uc,T as mc,s as Kr,t as xc,v as Wr,w as Qr,x as gc,y as Zr,z as pc,A as Xr,D as Yr,E as fc,F as vc,G as Jr,H as jc,J as yc,K as ei,M as ti,N as si,O as bc,Q as wc,U as Nc,W as Cc,X as Vn,Y as ni,Z as Un,_ as Gn,$ as Kn,a0 as Wn,a1 as ai,a2 as ri,a3 as Sc,a4 as kc,a5 as _c}from"./ui-vendor-V-Ei8kYY.js";import{a as ii,r as l,c as Tc,R as Me,u as Qn,f as Ac,B as Ec}from"./react-vendor-DwA95FbG.js";import{c as oi,t as Dc,j as Oa}from"./utility-vendor-XCGKcYu0.js";import{R as ot,P as kn,a as _n,C as Tn,T as lt,B as li,b as Zt,X as Xt,Y as Yt,L as za,c as ci,d as Zn,e as xs,A as Ic,f as Rc}from"./chart-vendor-9PNgCd9A.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var An={},Ba=ii;An.createRoot=Ba.createRoot,An.hydrateRoot=Ba.hydrateRoot;const Pc="modulepreload",Mc=function(t){return"/"+t},qa={},Nt=function(s,n,a){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),o=c?.nonce||c?.getAttribute("nonce");r=Promise.allSettled(n.map(h=>{if(h=Mc(h),h in qa)return;qa[h]=!0;const d=h.endsWith(".css"),x=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${x}`))return;const u=document.createElement("link");if(u.rel=d?"stylesheet":Pc,d||(u.as="script"),u.crossOrigin="",u.href=h,o&&u.setAttribute("nonce",o),document.head.appendChild(u),d)return new Promise((m,p)=>{u.addEventListener("load",m),u.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(c){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=c,window.dispatchEvent(o),!o.defaultPrevented)throw c}return r.then(c=>{for(const o of c||[])o.status==="rejected"&&i(o.reason);return s().catch(i)})};class di extends l.Component{constructor(s){super(s),this.retryTimeoutId=null,this.shouldAutoRetry=n=>["ChunkLoadError","Loading chunk","Failed to import","NetworkError","TypeError: Failed to fetch"].some(r=>n.message.includes(r)||n.name.includes(r)),this.handleRetry=()=>{console.log("üîÑ [ErrorBoundary] Retrying after error..."),this.setState(n=>({hasError:!1,error:null,retryCount:n.retryCount+1}))},this.handleResetToHome=()=>{console.log("üè† [ErrorBoundary] Resetting to home state...");try{localStorage.removeItem("lastInterface"),sessionStorage.clear(),window.location.href="/"}catch(n){console.error("üö® [ErrorBoundary] Failed to reset to home:",n),window.location.reload()}},this.state={hasError:!1,error:null,retryCount:0}}static getDerivedStateFromError(s){return{hasError:!0,error:s,retryCount:0}}componentDidCatch(s,n){console.error("üö® [ErrorBoundary] Uncaught error in component tree:",s),console.error("üö® [ErrorBoundary] Component stack:",n.componentStack),this.props.onError&&this.props.onError(s,n),this.shouldAutoRetry(s)&&this.state.retryCount<2&&(console.log("üîÑ [ErrorBoundary] Attempting auto-recovery..."),this.retryTimeoutId=setTimeout(()=>{this.handleRetry()},1e3))}componentWillUnmount(){this.retryTimeoutId&&clearTimeout(this.retryTimeoutId)}render(){return this.state.hasError?this.props.fallbackComponent?this.props.fallbackComponent:e.jsx("div",{className:"flex items-center justify-center h-screen p-4 bg-gray-50",children:e.jsxs("div",{className:"max-w-md text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-2",children:"T·∫°m th·ªùi c√≥ l·ªói"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"C√≥ l·ªói kh√¥ng mong mu·ªën x·∫£y ra. ƒê·ª´ng lo l·∫Øng, ch√∫ng t√¥i s·∫Ω ƒë∆∞a b·∫°n v·ªÅ trang ch·ªß."}),e.jsxs("div",{className:"space-y-3",children:[this.state.retryCount<3&&e.jsxs("button",{onClick:this.handleRetry,className:"w-full px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:["Th·ª≠ l·∫°i (",3-this.state.retryCount," l·∫ßn c√≤n l·∫°i)"]}),e.jsx("button",{onClick:this.handleResetToHome,className:"w-full px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition-colors",children:"üè† V·ªÅ trang ch·ªß"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600 transition-colors",children:"üîÑ T·∫£i l·∫°i trang"})]}),this.state.error&&e.jsxs("details",{className:"mt-4 text-left",children:[e.jsx("summary",{className:"cursor-pointer text-sm text-gray-500",children:"Chi ti·∫øt l·ªói"}),e.jsx("pre",{className:"mt-2 p-2 bg-gray-100 rounded text-xs overflow-auto",children:this.state.error.toString()})]})]})}):this.props.children}}function Lc(t,s){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,a,r,i,c=[],o="",h=t.split("/");for(h[0]||h.shift();r=h.shift();)n=r[0],n==="*"?(c.push(n),o+=r[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(a=r.indexOf("?",1),i=r.indexOf(".",1),c.push(r.substring(1,~a?a:~i?i:r.length)),o+=~a&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(o+=(~a?"?":"")+"\\"+r.substring(i))):o+="/"+r;return{keys:c,pattern:new RegExp("^"+o+(s?"(?=$|/)":"/?$"),"i")}}var hi={exports:{}},ui={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ts=l;function $c(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Fc=typeof Object.is=="function"?Object.is:$c,Oc=ts.useState,zc=ts.useEffect,Bc=ts.useLayoutEffect,qc=ts.useDebugValue;function Hc(t,s){var n=s(),a=Oc({inst:{value:n,getSnapshot:s}}),r=a[0].inst,i=a[1];return Bc(function(){r.value=n,r.getSnapshot=s,gn(r)&&i({inst:r})},[t,n,s]),zc(function(){return gn(r)&&i({inst:r}),t(function(){gn(r)&&i({inst:r})})},[t]),qc(n),n}function gn(t){var s=t.getSnapshot;t=t.value;try{var n=s();return!Fc(t,n)}catch{return!0}}function Vc(t,s){return s()}var Uc=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Vc:Hc;ui.useSyncExternalStore=ts.useSyncExternalStore!==void 0?ts.useSyncExternalStore:Uc;hi.exports=ui;var mi=hi.exports;const Gc=Tc.useInsertionEffect,Kc=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Wc=Kc?l.useLayoutEffect:l.useEffect,Qc=Gc||Wc,xi=t=>{const s=l.useRef([t,(...n)=>s[0](...n)]).current;return Qc(()=>{s[0]=t}),s[1]},Zc="popstate",Xn="pushState",Yn="replaceState",Xc="hashchange",Ha=[Zc,Xn,Yn,Xc],Yc=t=>{for(const s of Ha)addEventListener(s,t);return()=>{for(const s of Ha)removeEventListener(s,t)}},gi=(t,s)=>mi.useSyncExternalStore(Yc,t,s),Jc=()=>location.search,ed=({ssrSearch:t=""}={})=>gi(Jc,()=>t),Va=()=>location.pathname,td=({ssrPath:t}={})=>gi(Va,t?()=>t:Va),sd=(t,{replace:s=!1,state:n=null}={})=>history[s?Yn:Xn](n,"",t),nd=(t={})=>[td(t),sd],Ua=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Ua]>"u"){for(const t of[Xn,Yn]){const s=history[t];history[t]=function(){const n=s.apply(this,arguments),a=new Event(t);return a.arguments=arguments,dispatchEvent(a),n}}Object.defineProperty(window,Ua,{value:!0})}const ad=(t,s)=>s.toLowerCase().indexOf(t.toLowerCase())?"~"+s:s.slice(t.length)||"/",pi=(t="")=>t==="/"?"":t,rd=(t,s)=>t[0]==="~"?t.slice(1):pi(s)+t,id=(t="",s)=>ad(Ga(pi(t)),Ga(s)),Ga=t=>{try{return decodeURI(t)}catch{return t}},fi={hook:nd,searchHook:ed,parser:Lc,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},vi=l.createContext(fi),Ss=()=>l.useContext(vi),ji={},yi=l.createContext(ji),od=()=>l.useContext(yi),Ys=t=>{const[s,n]=t.hook(t);return[id(t.base,s),xi((a,r)=>n(rd(a,t.base),r))]},as=()=>Ys(Ss()),bi=(t,s,n,a)=>{const{pattern:r,keys:i}=s instanceof RegExp?{keys:!1,pattern:s}:t(s||"*",a),c=r.exec(n)||[],[o,...h]=c;return o!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((u,m)=>[u,h[m]])):c.groups;let x={...h};return d&&Object.assign(x,d),x})(),...a?[o]:[]]:[!1,null]},ld=({children:t,...s})=>{const n=Ss(),a=s.hook?fi:n;let r=a;const[i,c]=s.ssrPath?.split("?")??[];c&&(s.ssrSearch=c,s.ssrPath=i),s.hrefs=s.hrefs??s.hook?.hrefs;let o=l.useRef({}),h=o.current,d=h;for(let x in a){const u=x==="base"?a[x]+(s[x]||""):s[x]||a[x];h===d&&u!==d[x]&&(o.current=d={...d}),d[x]=u,u!==a[x]&&(r=d)}return l.createElement(vi.Provider,{value:r,children:t})},Ka=({children:t,component:s},n)=>s?l.createElement(s,{params:n}):typeof t=="function"?t(n):t,cd=t=>{let s=l.useRef(ji);const n=s.current;return s.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([a,r])=>r!==n[a])?t:n},oe=({path:t,nest:s,match:n,...a})=>{const r=Ss(),[i]=Ys(r),[c,o,h]=n??bi(r.parser,t,i,s),d=cd({...od(),...o});if(!c)return null;const x=h?l.createElement(ld,{base:h},Ka(a,d)):Ka(a,d);return l.createElement(yi.Provider,{value:d,children:x})},Ne=l.forwardRef((t,s)=>{const n=Ss(),[a,r]=Ys(n),{to:i="",href:c=i,onClick:o,asChild:h,children:d,className:x,replace:u,state:m,...p}=t,f=xi(y=>{y.ctrlKey||y.metaKey||y.altKey||y.shiftKey||y.button!==0||(o?.(y),y.defaultPrevented||(y.preventDefault(),r(c,t)))}),g=n.hrefs(c[0]==="~"?c.slice(1):n.base+c,n);return h&&l.isValidElement(d)?l.cloneElement(d,{onClick:f,href:g}):l.createElement("a",{...p,onClick:f,href:g,className:x?.call?x(a===c):x,children:d,ref:s})}),wi=t=>Array.isArray(t)?t.flatMap(s=>wi(s&&s.type===l.Fragment?s.props.children:s)):[t],dd=({children:t,location:s})=>{const n=Ss(),[a]=Ys(n);for(const r of wi(t)){let i=0;if(l.isValidElement(r)&&(i=bi(n.parser,r.props.path,s||a,r.props.nest))[0])return l.cloneElement(r,{match:i})}return null},hd=1,ud=1e6;let pn=0;function md(){return pn=(pn+1)%Number.MAX_SAFE_INTEGER,pn.toString()}const fn=new Map,Wa=t=>{if(fn.has(t))return;const s=setTimeout(()=>{fn.delete(t),gs({type:"REMOVE_TOAST",toastId:t})},ud);fn.set(t,s)},xd=(t,s)=>{switch(s.type){case"ADD_TOAST":return{...t,toasts:[s.toast,...t.toasts].slice(0,hd)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===s.toast.id?{...n,...s.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=s;return n?Wa(n):t.toasts.forEach(a=>{Wa(a.id)}),{...t,toasts:t.toasts.map(a=>a.id===n||n===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==s.toastId)}}},zs=[];let Bs={toasts:[]};function gs(t){Bs=xd(Bs,t),zs.forEach(s=>{s(Bs)})}function gd({...t}){const s=md(),n=r=>gs({type:"UPDATE_TOAST",toast:{...r,id:s}}),a=()=>gs({type:"DISMISS_TOAST",toastId:s});return gs({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:r=>{r||a()}}}),{id:s,dismiss:a,update:n}}function pd(){const[t,s]=l.useState(Bs);return l.useEffect(()=>(zs.push(s),()=>{const n=zs.indexOf(s);n>-1&&zs.splice(n,1)}),[t]),{...t,toast:gd,dismiss:n=>gs({type:"DISMISS_TOAST",toastId:n})}}var Jn="ToastProvider",[ea,fd,vd]=rc("Toast"),[Ni,gN]=Ht("Toast",[vd]),[jd,Js]=Ni(Jn),Ci=t=>{const{__scopeToast:s,label:n="Notification",duration:a=5e3,swipeDirection:r="right",swipeThreshold:i=50,children:c}=t,[o,h]=l.useState(null),[d,x]=l.useState(0),u=l.useRef(!1),m=l.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Jn}\`. Expected non-empty \`string\`.`),e.jsx(ea.Provider,{scope:s,children:e.jsx(jd,{scope:s,label:n,duration:a,swipeDirection:r,swipeThreshold:i,toastCount:d,viewport:o,onViewportChange:h,onToastAdd:l.useCallback(()=>x(p=>p+1),[]),onToastRemove:l.useCallback(()=>x(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:m,children:c})})};Ci.displayName=Jn;var Si="ToastViewport",yd=["F8"],En="toast.viewportPause",Dn="toast.viewportResume",ki=l.forwardRef((t,s)=>{const{__scopeToast:n,hotkey:a=yd,label:r="Notifications ({hotkey})",...i}=t,c=Js(Si,n),o=fd(n),h=l.useRef(null),d=l.useRef(null),x=l.useRef(null),u=l.useRef(null),m=St(s,u,c.onViewportChange),p=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),f=c.toastCount>0;l.useEffect(()=>{const y=j=>{a.length!==0&&a.every(M=>j[M]||j.code===M)&&u.current?.focus()};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[a]),l.useEffect(()=>{const y=h.current,j=u.current;if(f&&y&&j){const T=()=>{if(!c.isClosePausedRef.current){const A=new CustomEvent(En);j.dispatchEvent(A),c.isClosePausedRef.current=!0}},M=()=>{if(c.isClosePausedRef.current){const A=new CustomEvent(Dn);j.dispatchEvent(A),c.isClosePausedRef.current=!1}},b=A=>{!y.contains(A.relatedTarget)&&M()},O=()=>{y.contains(document.activeElement)||M()};return y.addEventListener("focusin",T),y.addEventListener("focusout",b),y.addEventListener("pointermove",T),y.addEventListener("pointerleave",O),window.addEventListener("blur",T),window.addEventListener("focus",M),()=>{y.removeEventListener("focusin",T),y.removeEventListener("focusout",b),y.removeEventListener("pointermove",T),y.removeEventListener("pointerleave",O),window.removeEventListener("blur",T),window.removeEventListener("focus",M)}}},[f,c.isClosePausedRef]);const g=l.useCallback(({tabbingDirection:y})=>{const T=o().map(M=>{const b=M.ref.current,O=[b,...Rd(b)];return y==="forwards"?O:O.reverse()});return(y==="forwards"?T.reverse():T).flat()},[o]);return l.useEffect(()=>{const y=u.current;if(y){const j=T=>{const M=T.altKey||T.ctrlKey||T.metaKey;if(T.key==="Tab"&&!M){const O=document.activeElement,A=T.shiftKey;if(T.target===y&&A){d.current?.focus();return}const Y=g({tabbingDirection:A?"backwards":"forwards"}),G=Y.findIndex(_=>_===O);vn(Y.slice(G+1))?T.preventDefault():A?d.current?.focus():x.current?.focus()}};return y.addEventListener("keydown",j),()=>y.removeEventListener("keydown",j)}},[o,g]),e.jsxs(ic,{ref:h,role:"region","aria-label":r.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:f?void 0:"none"},children:[f&&e.jsx(In,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});vn(y)}}),e.jsx(ea.Slot,{scope:n,children:e.jsx(je.ol,{tabIndex:-1,...i,ref:m})}),f&&e.jsx(In,{ref:x,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});vn(y)}})]})});ki.displayName=Si;var _i="ToastFocusProxy",In=l.forwardRef((t,s)=>{const{__scopeToast:n,onFocusFromOutsideViewport:a,...r}=t,i=Js(_i,n);return e.jsx($r,{"aria-hidden":!0,tabIndex:0,...r,ref:s,style:{position:"fixed"},onFocus:c=>{const o=c.relatedTarget;!i.viewport?.contains(o)&&a()}})});In.displayName=_i;var ks="Toast",bd="toast.swipeStart",wd="toast.swipeMove",Nd="toast.swipeCancel",Cd="toast.swipeEnd",Ti=l.forwardRef((t,s)=>{const{forceMount:n,open:a,defaultOpen:r,onOpenChange:i,...c}=t,[o,h]=Xs({prop:a,defaultProp:r??!0,onChange:i,caller:ks});return e.jsx(Hn,{present:n||o,children:e.jsx(_d,{open:o,...c,ref:s,onClose:()=>h(!1),onPause:fs(t.onPause),onResume:fs(t.onResume),onSwipeStart:De(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:De(t.onSwipeMove,d=>{const{x,y:u}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${x}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:De(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:De(t.onSwipeEnd,d=>{const{x,y:u}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${x}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),h(!1)})})})});Ti.displayName=ks;var[Sd,kd]=Ni(ks,{onClose(){}}),_d=l.forwardRef((t,s)=>{const{__scopeToast:n,type:a="foreground",duration:r,open:i,onClose:c,onEscapeKeyDown:o,onPause:h,onResume:d,onSwipeStart:x,onSwipeMove:u,onSwipeCancel:m,onSwipeEnd:p,...f}=t,g=Js(ks,n),[y,j]=l.useState(null),T=St(s,$=>j($)),M=l.useRef(null),b=l.useRef(null),O=r||g.duration,A=l.useRef(0),z=l.useRef(O),Q=l.useRef(0),{onToastAdd:Y,onToastRemove:G}=g,_=fs(()=>{y?.contains(document.activeElement)&&g.viewport?.focus(),c()}),S=l.useCallback($=>{!$||$===1/0||(window.clearTimeout(Q.current),A.current=new Date().getTime(),Q.current=window.setTimeout(_,$))},[_]);l.useEffect(()=>{const $=g.viewport;if($){const X=()=>{S(z.current),d?.()},xe=()=>{const Le=new Date().getTime()-A.current;z.current=z.current-Le,window.clearTimeout(Q.current),h?.()};return $.addEventListener(En,xe),$.addEventListener(Dn,X),()=>{$.removeEventListener(En,xe),$.removeEventListener(Dn,X)}}},[g.viewport,O,h,d,S]),l.useEffect(()=>{i&&!g.isClosePausedRef.current&&S(O)},[i,O,g.isClosePausedRef,S]),l.useEffect(()=>(Y(),()=>G()),[Y,G]);const K=l.useMemo(()=>y?Mi(y):null,[y]);return g.viewport?e.jsxs(e.Fragment,{children:[K&&e.jsx(Td,{__scopeToast:n,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:K}),e.jsx(Sd,{scope:n,onClose:_,children:ii.createPortal(e.jsx(ea.ItemSlot,{scope:n,children:e.jsx(oc,{asChild:!0,onEscapeKeyDown:De(o,()=>{g.isFocusedToastEscapeKeyDownRef.current||_(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(je.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...f,ref:T,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:De(t.onKeyDown,$=>{$.key==="Escape"&&(o?.($.nativeEvent),$.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,_()))}),onPointerDown:De(t.onPointerDown,$=>{$.button===0&&(M.current={x:$.clientX,y:$.clientY})}),onPointerMove:De(t.onPointerMove,$=>{if(!M.current)return;const X=$.clientX-M.current.x,xe=$.clientY-M.current.y,Le=!!b.current,Te=["left","right"].includes(g.swipeDirection),de=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,ne=Te?de(0,X):0,Dt=Te?0:de(0,xe),ke=$.pointerType==="touch"?10:2,Ze={x:ne,y:Dt},P={originalEvent:$,delta:Ze};Le?(b.current=Ze,Ds(wd,u,P,{discrete:!1})):Qa(Ze,g.swipeDirection,ke)?(b.current=Ze,Ds(bd,x,P,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(X)>ke||Math.abs(xe)>ke)&&(M.current=null)}),onPointerUp:De(t.onPointerUp,$=>{const X=b.current,xe=$.target;if(xe.hasPointerCapture($.pointerId)&&xe.releasePointerCapture($.pointerId),b.current=null,M.current=null,X){const Le=$.currentTarget,Te={originalEvent:$,delta:X};Qa(X,g.swipeDirection,g.swipeThreshold)?Ds(Cd,p,Te,{discrete:!0}):Ds(Nd,m,Te,{discrete:!0}),Le.addEventListener("click",de=>de.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),Td=t=>{const{__scopeToast:s,children:n,...a}=t,r=Js(ks,s),[i,c]=l.useState(!1),[o,h]=l.useState(!1);return Dd(()=>c(!0)),l.useEffect(()=>{const d=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(d)},[]),o?null:e.jsx(lc,{asChild:!0,children:e.jsx($r,{...a,children:i&&e.jsxs(e.Fragment,{children:[r.label," ",n]})})})},Ad="ToastTitle",Ai=l.forwardRef((t,s)=>{const{__scopeToast:n,...a}=t;return e.jsx(je.div,{...a,ref:s})});Ai.displayName=Ad;var Ed="ToastDescription",Ei=l.forwardRef((t,s)=>{const{__scopeToast:n,...a}=t;return e.jsx(je.div,{...a,ref:s})});Ei.displayName=Ed;var Di="ToastAction",Ii=l.forwardRef((t,s)=>{const{altText:n,...a}=t;return n.trim()?e.jsx(Pi,{altText:n,asChild:!0,children:e.jsx(ta,{...a,ref:s})}):(console.error(`Invalid prop \`altText\` supplied to \`${Di}\`. Expected non-empty \`string\`.`),null)});Ii.displayName=Di;var Ri="ToastClose",ta=l.forwardRef((t,s)=>{const{__scopeToast:n,...a}=t,r=kd(Ri,n);return e.jsx(Pi,{asChild:!0,children:e.jsx(je.button,{type:"button",...a,ref:s,onClick:De(t.onClick,r.onClose)})})});ta.displayName=Ri;var Pi=l.forwardRef((t,s)=>{const{__scopeToast:n,altText:a,...r}=t;return e.jsx(je.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...r,ref:s})});function Mi(t){const s=[];return Array.from(t.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&s.push(a.textContent),Id(a)){const r=a.ariaHidden||a.hidden||a.style.display==="none",i=a.dataset.radixToastAnnounceExclude==="";if(!r)if(i){const c=a.dataset.radixToastAnnounceAlt;c&&s.push(c)}else s.push(...Mi(a))}}),s}function Ds(t,s,n,{discrete:a}){const r=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});s&&r.addEventListener(t,s,{once:!0}),a?cc(r,i):r.dispatchEvent(i)}var Qa=(t,s,n=0)=>{const a=Math.abs(t.x),r=Math.abs(t.y),i=a>r;return s==="left"||s==="right"?i&&a>n:!i&&r>n};function Dd(t=()=>{}){const s=fs(t);Vs(()=>{let n=0,a=0;return n=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(s)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(a)}},[s])}function Id(t){return t.nodeType===t.ELEMENT_NODE}function Rd(t){const s=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const r=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||r?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)s.push(n.currentNode);return s}function vn(t){const s=document.activeElement;return t.some(n=>n===s?!0:(n.focus(),document.activeElement!==s))}var Pd=Ci,Li=ki,$i=Ti,Fi=Ai,Oi=Ei,zi=Ii,Bi=ta;const Za=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Xa=oi,rs=(t,s)=>n=>{var a;if(s?.variants==null)return Xa(t,n?.class,n?.className);const{variants:r,defaultVariants:i}=s,c=Object.keys(r).map(d=>{const x=n?.[d],u=i?.[d];if(x===null)return null;const m=Za(x)||Za(u);return r[d][m]}),o=n&&Object.entries(n).reduce((d,x)=>{let[u,m]=x;return m===void 0||(d[u]=m),d},{}),h=s==null||(a=s.compoundVariants)===null||a===void 0?void 0:a.reduce((d,x)=>{let{class:u,className:m,...p}=x;return Object.entries(p).every(f=>{let[g,y]=f;return Array.isArray(y)?y.includes({...i,...o}[g]):{...i,...o}[g]===y})?[...d,u,m]:d},[]);return Xa(t,c,h,n?.class,n?.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qi=(...t)=>t.filter((s,n,a)=>!!s&&a.indexOf(s)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ld={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=l.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:r="",children:i,iconNode:c,...o},h)=>l.createElement("svg",{ref:h,...Ld,width:s,height:s,stroke:t,strokeWidth:a?Number(n)*24/Number(s):n,className:qi("lucide",r),...o},[...c.map(([d,x])=>l.createElement(d,x)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=(t,s)=>{const n=l.forwardRef(({className:a,...r},i)=>l.createElement($d,{ref:i,iconNode:s,className:qi(`lucide-${Md(t)}`,a),...r}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=F("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=F("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=F("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=F("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=F("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=F("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=F("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=F("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=F("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=F("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=F("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=F("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=F("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=F("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=F("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=F("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=F("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=F("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=F("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=F("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=F("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=F("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=F("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=F("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=F("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=F("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=F("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=F("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=F("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=F("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=F("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=F("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=F("Hotel",[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=F("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=F("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=F("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=F("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=F("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=F("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=F("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=F("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=F("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=F("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=F("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=F("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=F("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=F("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=F("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=F("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=F("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=F("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=F("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=F("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=F("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=F("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=F("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=F("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=F("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=F("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=F("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=F("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=F("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=F("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=F("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=F("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=F("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=F("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=F("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=F("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=F("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=F("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=F("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=F("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=F("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=F("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=F("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function k(...t){return Dc(oi(t))}const Yd=Pd,Zi=l.forwardRef(({className:t,...s},n)=>e.jsx(Li,{ref:n,className:k("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...s}));Zi.displayName=Li.displayName;const Jd=rs("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-dark",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Xi=l.forwardRef(({className:t,variant:s,...n},a)=>e.jsx($i,{ref:a,className:k(Jd({variant:s}),t),...n}));Xi.displayName=$i.displayName;const eh=l.forwardRef(({className:t,...s},n)=>e.jsx(zi,{ref:n,className:k("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...s}));eh.displayName=zi.displayName;const Yi=l.forwardRef(({className:t,...s},n)=>e.jsx(Bi,{ref:n,className:k("absolute right-2 top-2 rounded-md p-1 text-dark/50 opacity-0 transition-opacity hover:text-dark focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...s,children:e.jsx(Gt,{className:"h-4 w-4"})}));Yi.displayName=Bi.displayName;const Ji=l.forwardRef(({className:t,...s},n)=>e.jsx(Fi,{ref:n,className:k("text-sm font-semibold",t),...s}));Ji.displayName=Fi.displayName;const eo=l.forwardRef(({className:t,...s},n)=>e.jsx(Oi,{ref:n,className:k("text-sm opacity-90",t),...s}));eo.displayName=Oi.displayName;function th(){const{toasts:t}=pd();return e.jsxs(Yd,{children:[t.map(function({id:s,title:n,description:a,action:r,...i}){return e.jsxs(Xi,{...i,children:[e.jsxs("div",{className:"grid gap-1",children:[n&&e.jsx(Ji,{children:n}),a&&e.jsx(eo,{children:a})]}),r,e.jsx(Yi,{})]},s)}),e.jsx(Zi,{})]})}const sh=120,nh=350,ah=20,rh={conversation:{icon:"üî¥",title:"Conversation",color:"#FF3B30",bgColor:"rgba(255, 59, 48, 0.1)"},staff:{icon:"üí¨",title:"Staff Messages",color:"#007AFF",bgColor:"rgba(0, 122, 255, 0.1)"},notification:{icon:"üì¢",title:"Hotel Notifications",color:"#FF9500",bgColor:"rgba(255, 149, 0, 0.1)"},alert:{icon:"‚ö†Ô∏è",title:"Alert",color:"#FF3B30",bgColor:"rgba(255, 59, 48, 0.1)"},order:{icon:"üõéÔ∏è",title:"Room Service",color:"#5856D6",bgColor:"rgba(88, 86, 214, 0.1)"},summary:{icon:"üìã",title:"Call Summary",color:"#34C759",bgColor:"rgba(52, 199, 89, 0.1)"}},to=l.createContext(null);let ih=0;const oh=({children:t})=>{const[s,n]=l.useState([]),[a,r]=l.useState(null),i=l.useCallback(m=>{const p=`popup-${++ih}`,f={...m,id:p,timestamp:new Date};return n(g=>{if(m.priority==="high"){const y=g.filter(j=>j.type!==m.type);return[f,...y]}return[f,...g]}),(m.priority==="high"||m.isActive)&&r(p),p},[]),c=l.useCallback(m=>{n(p=>p.filter(f=>f.id!==m)),r(p=>p===m?null:p)},[]),o=l.useCallback(m=>{r(m),m&&n(p=>p.map(f=>({...f,isActive:f.id===m})))},[]),h=l.useCallback((m,p)=>{n(f=>f.map(g=>g.id===m?{...g,...p}:g))},[]),d=l.useCallback(()=>{n([]),r(null)},[]),x=l.useCallback(m=>s.filter(p=>p.type===m),[s]),u={popups:s,activePopup:a,addPopup:i,removePopup:c,setActivePopup:o,updatePopup:h,clearAllPopups:d,getPopupsByType:x};return e.jsx(to.Provider,{value:u,children:t})},nn=()=>{const t=l.useContext(to);return t||(console.warn("usePopupContext used outside PopupProvider - returning safe defaults"),{popups:[],activePopup:null,addPopup:()=>"",removePopup:()=>{},setActivePopup:()=>{},updatePopup:()=>{},clearAllPopups:()=>{},getPopupsByType:()=>[]})},lh="_popupCard_1ombn_1",ch="_popupCardActive_1ombn_15",dh="_popupCardTop_1ombn_20",hh="_popupCardInner_1ombn_24",uh="_popupCardHeader_1ombn_38",mh="_popupCardInfo_1ombn_46",xh="_popupCardIcon_1ombn_54",gh="_popupCardTitleWrapper_1ombn_64",ph="_popupCardTitle_1ombn_64",fh="_popupCardBadge_1ombn_79",vh="_popupCardMeta_1ombn_90",jh="_popupCardTimestamp_1ombn_97",yh="_popupCardDismiss_1ombn_103",bh="_popupCardPreview_1ombn_122",wh="_popupCardPreviewText_1ombn_126",Nh="_popupCardContent_1ombn_136",Re={popupCard:lh,popupCardActive:ch,popupCardTop:dh,popupCardInner:hh,popupCardHeader:uh,popupCardInfo:mh,popupCardIcon:xh,popupCardTitleWrapper:gh,popupCardTitle:ph,popupCardBadge:fh,popupCardMeta:vh,popupCardTimestamp:jh,popupCardDismiss:yh,popupCardPreview:bh,popupCardPreviewText:wh,popupCardContent:Nh},er=({popup:t,index:s,isActive:n,onClick:a,onDismiss:r,maxVisible:i=3})=>{const c=rh[t.type],o=s<i,h=Math.min(s,i-1),d=1-h*.03,x=h*12,u=o?1-h*.1:0,m=1e3-s,p=g=>{const j=new Date().getTime()-g.getTime(),T=Math.floor(j/(1e3*60));if(T<1)return"now";if(T<60)return`${T}m ago`;const M=Math.floor(T/60);return M<24?`${M}h ago`:`${Math.floor(M/24)}d ago`};if(!o&&s>=i)return null;const f=[Re.popupCard,n?Re.popupCardActive:"",s===0?Re.popupCardTop:""].filter(Boolean).join(" ");return e.jsx("div",{className:f,style:{transform:`translateY(${x}px) scale(${d})`,opacity:u,zIndex:m,"--translate-y":`${x}px`,"--scale-hover":d*1.02},onClick:a,children:e.jsxs("div",{className:Re.popupCardInner,children:[e.jsxs("div",{className:Re.popupCardHeader,style:{background:c.bgColor},children:[e.jsxs("div",{className:Re.popupCardInfo,children:[e.jsx("div",{className:Re.popupCardIcon,children:c.icon}),e.jsxs("div",{className:Re.popupCardTitleWrapper,children:[e.jsx("span",{className:Re.popupCardTitle,style:{color:c.color},children:c.title}),t.badge&&t.badge>0&&e.jsx("span",{className:Re.popupCardBadge,style:{background:c.color},children:t.badge})]})]}),e.jsxs("div",{className:Re.popupCardMeta,children:[e.jsx("span",{className:Re.popupCardTimestamp,children:p(t.timestamp)}),e.jsx("button",{className:Re.popupCardDismiss,onClick:g=>{g.stopPropagation(),r()},"aria-label":"Dismiss notification",children:e.jsx(Gt,{size:14})})]})]}),!n&&e.jsx("div",{className:Re.popupCardPreview,children:e.jsx("span",{className:Re.popupCardPreviewText,children:t.title})}),n&&e.jsx("div",{className:Re.popupCardContent,children:t.content})]})})},Ch="_popupStack_1urkl_1",Sh="_popupStackContainer_1urkl_5",kh="_popupStackHeader_1urkl_10",_h="_popupStackMore_1urkl_11",Th="_popupStackActive_1urkl_56",Ah="_popupStackInactive_1urkl_60",Kt={popupStack:Ch,popupStackContainer:Sh,popupStackHeader:kh,popupStackMore:_h,popupStackActive:Th,popupStackInactive:Ah},Eh=({popups:t,activePopup:s,maxVisible:n=4,onPopupSelect:a,onPopupDismiss:r,position:i="bottom"})=>{if(t.length===0)return null;const c=[...t].sort((o,h)=>{const d={high:0,medium:1,low:2};return d[o.priority]!==d[h.priority]?d[o.priority]-d[h.priority]:h.timestamp.getTime()-o.timestamp.getTime()});return e.jsx("div",{className:Kt.popupStack,style:{position:"fixed",left:"50%",transform:"translateX(-50%)",width:"100%",maxWidth:"400px",zIndex:1e3,pointerEvents:"none",...i==="top"&&{top:"20px"},...i==="bottom"&&{bottom:"260px"},...i==="center"&&{top:"50%",transform:"translate(-50%, -50%)",maxWidth:"90vw",width:"auto"}},children:e.jsxs("div",{className:Kt.popupStackContainer,style:{display:"flex",flexDirection:i==="bottom"?"column-reverse":"column",gap:"4px",padding:i==="center"?"0":"0 16px",pointerEvents:"auto"},children:[c.length>1&&e.jsx("div",{className:Kt.popupStackHeader,style:{textAlign:"center",padding:"8px 0",color:"#8E8E93",fontSize:"14px",fontWeight:"600",order:i==="bottom"?1:-1},children:"Notification Centre"}),s&&e.jsx("div",{className:Kt.popupStackActive,style:{order:0},children:c.filter(o=>o.id===s).map((o,h)=>e.jsx(er,{popup:o,index:0,isActive:!0,onClick:()=>a(o.id),onDismiss:()=>r(o.id),maxVisible:n},o.id))}),e.jsx("div",{className:Kt.popupStackInactive,style:{order:i==="bottom"?2:1},children:c.filter(o=>o.id!==s).slice(0,n-1).map((o,h)=>e.jsx(er,{popup:o,index:h+1,isActive:!1,onClick:()=>a(o.id),onDismiss:()=>r(o.id),maxVisible:n},o.id))}),c.filter(o=>o.id!==s).length>n-1&&e.jsxs("div",{className:Kt.popupStackMore,style:{textAlign:"center",padding:"8px 0",color:"#8E8E93",fontSize:"12px",fontWeight:"500",order:i==="bottom"?3:2},children:["+",c.filter(o=>o.id!==s).length-(n-1)," more"]})]})})};function Dh(t,s){if(t===s)return 1;if(t.length===0||s.length===0)return 0;const n=t.length>s.length?t:s,a=t.length>s.length?s:t;if(n.includes(a))return a.length/n.length;let r=0;for(let i=0;i<a.length;i++)n.includes(a[i])&&r++;return r/a.length}function Ih(t,s=.8){const n=[],a=new Map;for(const r of t){const i=r.name.toLowerCase().replace(/\s+/g," ").trim();let c=!1;const o=Array.from(a.keys());for(const h of o)if(Dh(i,h)>s){c=!0;break}c||(a.set(i,!0),n.push(r))}return n}const an={roomNumber:/(?:room(?:\s+number)?|room|ph√≤ng)(?:\s*[:#\-]?\s*)([0-9]{1,4}[A-Za-z]?)|(?:staying in|in room|in ph√≤ng|ph√≤ng s·ªë)(?:\s+)([0-9]{1,4}[A-Za-z]?)/i,specialInstructions:/(?:special|additional|extra|note|instruction|request|preference)[:\s]*([^\.]+)/i,deliveryTime:/(?:delivery|arrival|ready|serve|bring)[:\s]*([^\.]+)/i,totalAmount:/(?:total|amount|cost|price|bill|charge)[:\s]*(\d+(?:,\d+)*(?:\.\d+)?)/i};function Rh(t){const s=t.match(an.roomNumber);return s?s[1]||s[2]:null}function Ph(t){const s=t.match(an.specialInstructions);return s?s[1].trim():null}function Mh(t){const s=t.match(an.deliveryTime);return s?s[1].trim():null}function Lh(t){const s=t.match(an.totalAmount);return s?parseFloat(s[1].replace(/,/g,"")):null}const Ee={roomNumber:/(?:room(?:\s+number)?|room|ph√≤ng)(?:\s*[:#\-]?\s*)([0-9]{1,4}[A-Za-z]?)|(?:staying in|in room|in ph√≤ng|ph√≤ng s·ªë)(?:\s+)([0-9]{1,4}[A-Za-z]?)/i,food:/food|beverage|breakfast|lunch|dinner|meal|drink|snack|restaurant/i,housekeeping:/housekeeping|cleaning|towel|cleaning\s*service|laundry/i,roomService:/room\s*service/i,spa:/spa|massage|wellness|treatment/i,transportation:/transportation|taxi|car|shuttle|airport\s*transfer/i,tours:/tour|sightseeing|excursion|attraction|visit|activity/i,technical:/wifi|internet|tv|television|remote|device|technical|connection/i,concierge:/reservation|booking|restaurant|ticket|arrangement|concierge/i,wellness:/gym|fitness|exercise|yoga|swimming|pool|sauna/i,security:/safe|security|lost|found|key|card|lock|emergency/i,specialOccasion:/birthday|anniversary|celebration|honeymoon|proposal|wedding|special occasion/i,other:/currency\s*exchange|money\s*change|exchange\s*money|foreign\s*currency|bus\s*ticket|train\s*ticket|sell|purchase|buy/i,items:/items?[:\s]*([^\.]+)/i,request:/(?:requested|asked for|ordered|booking|reservation for|inquired about)\s+([^\.;]+)/gi,bullets:/(?:^|\n)[-‚Ä¢*]\s*([^\n]+)/g,sentences:/\.(?:\s|$)/},$h={roomService:"room-service",food:"food-beverage",housekeeping:"housekeeping",transportation:"transportation",spa:"spa",tours:"tours-activities",technical:"technical-support",concierge:"concierge",wellness:"wellness-fitness",security:"security",specialOccasion:"special-occasions",wifi:"wifi-faq",checkIn:"check-in-out",checkOut:"check-in-out",information:"hotel-info",tourism:"attractions",feedback:"feedback",support:"support",other:"other"};function Fh(t){const s=t.match(Ee.roomNumber);if(s)return s[1]||s[2]||null;const n=t.match(/(?:room details|room number|ph√≤ng s·ªë)(?:\s*[:#\-]?\s*)([0-9]{1,4}[A-Za-z]?)/i);if(n&&n[1])return n[1];const a=t.match(/(?:details[\s\S]*?room(?:\s+number)?[\s\S]*?)([0-9]{1,4}[A-Za-z]?)/i);return a&&a[1]?a[1]:null}function Oh(t){const s=[];Ee.food.test(t)&&s.push("food"),Ee.housekeeping.test(t)&&s.push("housekeeping"),Ee.transportation.test(t)&&s.push("transportation"),Ee.roomService.test(t)&&s.push("roomService"),Ee.spa.test(t)&&s.push("spa"),Ee.tours.test(t)&&s.push("tours"),Ee.technical.test(t)&&s.push("technical"),Ee.concierge.test(t)&&s.push("concierge"),Ee.wellness.test(t)&&s.push("wellness"),Ee.security.test(t)&&s.push("security"),Ee.specialOccasion.test(t)&&s.push("specialOccasion"),Ee.other.test(t)&&s.push("other");const n=s.map(a=>$h[a]||"other");return n.length>0?n:["other"]}function zh(t){return Oh(t).join(",")}function Bh(t){const s=t.match(Ee.items);let n=[];const a=t.match(Ee.bullets);if(a&&a.length>0){const i=a.map((c,o)=>{const h=c.replace(/^[-‚Ä¢*]\s*/,"").trim();return Is(h,o)}).filter(c=>c.name.length>0);n=[...n,...i]}{const i=t.match(Ee.request);if(i&&i.length>0){const c=i.map((o,h)=>{const d=o.replace(/(?:requested|asked for|ordered|booking|reservation for|inquired about)\s+/i,"").trim();return Is(d,h)}).filter(o=>o.name.length>0);n=[...n,...c]}}if(s){const o=s[1].split(/(?:,\s*|\s+and\s+|\s*&\s*|\s*\+\s*)/).map((h,d)=>Is(h,d)).filter(h=>h.name.length>0);n=[...n,...o]}if(n.length===0){const i=t.split(Ee.sentences);for(let c=0;c<i.length;c++){const o=i[c].trim();(o.toLowerCase().includes("request")||o.toLowerCase().includes("book")||o.toLowerCase().includes("order")||o.toLowerCase().includes("exchange")||o.toLowerCase().includes("inquired"))&&n.push(Is(o,n.length))}}return Ih(n,.8).map((i,c)=>({...i,id:(c+1).toString()}))}function Is(t,s){const n=t.trim().replace(/^[-‚Ä¢*]\s+/,"").replace(/^- /,""),a=n.match(/^([0-9]+)\s+(.+)$/),r=a?parseInt(a[1]):1,i=a?a[2]:n;let c="";const o=n.match(/(?:on|for)\s+((?:January|February|March|April|May|June|July|August|September|October|November|December|Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s+\d{1,2}(?:st|nd|rd|th)?(?:,?\s+\d{4})?|\d{1,2}\/\d{1,2}(?:\/\d{2,4})?)/i),h=o?`Date: ${o[1]}`:"",d=n.match(/(\d+)\s+(?:people|person|pax|guest|adult|child|passenger)/i),x=d?`Guests: ${d[1]} people`:"",u=n.match(/(?:to|in|at|for)\s+([A-Z][a-z]+(?:\s+[A-Z][a-z]+)*|[A-Z][A-Z]+|[A-Z][a-z]+)/),m=u?`Location: ${u[1]}`:"",p=n.match(/(?:at|from)\s+(\d{1,2}(?::\d{2})?\s*(?:AM|PM|am|pm))/i),f=p?`Time: ${p[1]}`:"",g=n.match(/(\d+(?:,\d+)*(?:\.\d+)?)\s*(?:USD|US dollars|\$|VND|dong)/i),y=g?`Amount: ${g[1]} ${g[0].includes("USD")||g[0].includes("US")||g[0].includes("$")?"USD":"VND"}`:"",j=[h,x,m,f,y].filter(T=>T.length>0);return j.length>0?c=j.join(`
`):c=`Details for ${i.charAt(0).toLowerCase()+i.slice(1)}`,{id:(s+1).toString(),name:i.charAt(0).toUpperCase()+i.slice(1),description:c,quantity:r,price:qh(i)}}function qh(t){const s=t.toLowerCase();return/sandwich|burger|pasta|steak|fish|chicken|breakfast|lunch|dinner/.test(s)?15:/coffee|tea|juice|water|soda|wine|beer|cocktail|drink/.test(s)?8:/towel|soap|shampoo|toothbrush|toothpaste|amenities/.test(s)?5:/cleaning|housekeeping|laundry|ironing/.test(s)?20:/taxi|car|shuttle|transfer/.test(s)?30:10}function Hh(t){if(!t)return{};const s=Rh(t)||"",n=zh(t),a=Mh(t)||"",r=Ph(t)||"",i=Bh(t),c=Lh(t)||0;return{roomNumber:s,orderType:n,deliveryTime:a,guestName:"",guestEmail:"",guestPhone:"",specialInstructions:r,items:i,totalAmount:c}}let Rt=null;const Vh=async()=>{if(Rt)return Rt;try{console.log("üîÑ [VAPI] Loading Vapi module...");const t=await Nt(()=>import("./voice-vendor-By6w_Ckf.js").then(s=>s.v),__vite__mapDeps([0,1]));if(Rt=t.default||t,typeof Rt=="function")return console.log("‚úÖ [VAPI] Successfully loaded via dynamic import"),Rt;throw new Error("Dynamic import failed, trying alternative...")}catch(t){console.warn("‚ö†Ô∏è [VAPI] Dynamic import failed:",t.message);try{if(typeof window<"u"&&window.Vapi)return Rt=window.Vapi,console.log("‚úÖ [VAPI] Found Vapi on window object"),Rt;throw new Error("No Vapi available")}catch(s){throw console.error("‚ùå [VAPI] All import methods failed:",s),new Error("Failed to load Vapi: "+s.message)}}},ma="pk_c3e56893-4a8b-45bb-b3d6-b5a2a0edd8f8";console.log("[vapiClient] Environment public key:",ma);let be=null,ls=!1;const xa=async t=>{try{if(console.log("üöÄ [REAL VAPI] Initializing with key:",t?.substring(0,10)+"..."),ls)return console.log("‚è≥ [REAL VAPI] Already initializing, waiting for current initialization..."),new Promise((n,a)=>{const r=setInterval(()=>{ls||(clearInterval(r),n(be))},100);setTimeout(()=>{clearInterval(r),a(new Error("Vapi initialization timeout"))},5e3)});ls=!0;const s=await Vh();if(console.log("üöÄ [REAL VAPI] Vapi class loaded:",typeof s),be){console.log("üßπ [REAL VAPI] Cleaning up existing instance...");try{typeof be.stop=="function"&&be.stop(),typeof be.cleanup=="function"&&be.cleanup(),typeof be.disconnect=="function"&&be.disconnect(),typeof be.removeAllListeners=="function"&&be.removeAllListeners(),console.log("‚úÖ [REAL VAPI] Existing instance cleaned up successfully")}catch(n){console.warn("‚ö†Ô∏è [REAL VAPI] Cleanup error (continuing anyway):",n)}await new Promise(n=>setTimeout(n,200))}return console.log("üöÄ [REAL VAPI] Creating new Vapi instance..."),be=new s(t,{allowMultipleCallInstances:!1}),console.log("‚úÖ [REAL VAPI] Instance created successfully!"),be.on("call-start",()=>{console.log("[vapiClient] Call started")}),be.on("call-end",()=>{console.log("[vapiClient] Call ended")}),be.on("speech-start",()=>{console.log("[vapiClient] Speech started")}),be.on("speech-end",()=>{console.log("[vapiClient] Speech ended")}),be.on("volume-level",n=>{console.log("[vapiClient] Volume level:",n)}),be.on("message",n=>{console.log("[vapiClient] Message received:",n)}),be.on("error",n=>{console.error("[vapiClient] Vapi error:",n)}),ls=!1,console.log("‚úÖ [REAL VAPI] Initialization completed successfully"),be}catch(s){throw ls=!1,console.error("[vapiClient] Failed to initialize Vapi:",s),s}},hs=()=>be;console.log("[vapiClient] Auto-initializing with environment key"),xa(ma).catch(t=>{console.error("[vapiClient] Auto-initialization failed:",t)});const Uh=Object.freeze(Object.defineProperty({__proto__:null,getVapiInstance:hs,initVapi:xa,publicKey:ma},Symbol.toStringTag,{value:"Module"}));var rn=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},on=typeof window>"u"||"Deno"in globalThis;function Xe(){}function Gh(t,s){return typeof t=="function"?t(s):t}function Kh(t){return typeof t=="number"&&t>=0&&t!==1/0}function Wh(t,s){return Math.max(t+(s||0)-Date.now(),0)}function tr(t,s){return typeof t=="function"?t(s):t}function Qh(t,s){return typeof t=="function"?t(s):t}function sr(t,s){const{type:n="all",exact:a,fetchStatus:r,predicate:i,queryKey:c,stale:o}=t;if(c){if(a){if(s.queryHash!==ga(c,s.options))return!1}else if(!bs(s.queryKey,c))return!1}if(n!=="all"){const h=s.isActive();if(n==="active"&&!h||n==="inactive"&&h)return!1}return!(typeof o=="boolean"&&s.isStale()!==o||r&&r!==s.state.fetchStatus||i&&!i(s))}function nr(t,s){const{exact:n,status:a,predicate:r,mutationKey:i}=t;if(i){if(!s.options.mutationKey)return!1;if(n){if(ys(s.options.mutationKey)!==ys(i))return!1}else if(!bs(s.options.mutationKey,i))return!1}return!(a&&s.state.status!==a||r&&!r(s))}function ga(t,s){return(s?.queryKeyHashFn||ys)(t)}function ys(t){return JSON.stringify(t,(s,n)=>Ln(n)?Object.keys(n).sort().reduce((a,r)=>(a[r]=n[r],a),{}):n)}function bs(t,s){return t===s?!0:typeof t!=typeof s?!1:t&&s&&typeof t=="object"&&typeof s=="object"?Object.keys(s).every(n=>bs(t[n],s[n])):!1}function so(t,s){if(t===s)return t;const n=ar(t)&&ar(s);if(n||Ln(t)&&Ln(s)){const a=n?t:Object.keys(t),r=a.length,i=n?s:Object.keys(s),c=i.length,o=n?[]:{};let h=0;for(let d=0;d<c;d++){const x=n?d:i[d];(!n&&a.includes(x)||n)&&t[x]===void 0&&s[x]===void 0?(o[x]=void 0,h++):(o[x]=so(t[x],s[x]),o[x]===t[x]&&t[x]!==void 0&&h++)}return r===c&&h===r?t:o}return s}function pN(t,s){if(!s||Object.keys(t).length!==Object.keys(s).length)return!1;for(const n in t)if(t[n]!==s[n])return!1;return!0}function ar(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ln(t){if(!rr(t))return!1;const s=t.constructor;if(s===void 0)return!0;const n=s.prototype;return!(!rr(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function rr(t){return Object.prototype.toString.call(t)==="[object Object]"}function Zh(t){return new Promise(s=>{setTimeout(s,t)})}function Xh(t,s,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,s):n.structuralSharing!==!1?so(t,s):s}function Yh(t,s,n=0){const a=[...t,s];return n&&a.length>n?a.slice(1):a}function Jh(t,s,n=0){const a=[s,...t];return n&&a.length>n?a.slice(0,-1):a}var pa=Symbol();function no(t,s){return!t.queryFn&&s?.initialPromise?()=>s.initialPromise:!t.queryFn||t.queryFn===pa?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function fN(t,s){return typeof t=="function"?t(...s):!!t}var eu=class extends rn{#e;#t;#s;constructor(){super(),this.#s=t=>{if(!on&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#s=t,this.#t?.(),this.#t=t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},ao=new eu,tu=class extends rn{#e=!0;#t;#s;constructor(){super(),this.#s=t=>{if(!on&&window.addEventListener){const s=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#s=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Gs=new tu;function su(){let t,s;const n=new Promise((r,i)=>{t=r,s=i});n.status="pending",n.catch(()=>{});function a(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{a({status:"fulfilled",value:r}),t(r)},n.reject=r=>{a({status:"rejected",reason:r}),s(r)},n}function nu(t){return Math.min(1e3*2**t,3e4)}function ro(t){return(t??"online")==="online"?Gs.isOnline():!0}var io=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function yn(t){return t instanceof io}function oo(t){let s=!1,n=0,a=!1,r;const i=su(),c=g=>{a||(m(new io(g)),t.abort?.())},o=()=>{s=!0},h=()=>{s=!1},d=()=>ao.isFocused()&&(t.networkMode==="always"||Gs.isOnline())&&t.canRun(),x=()=>ro(t.networkMode)&&t.canRun(),u=g=>{a||(a=!0,t.onSuccess?.(g),r?.(),i.resolve(g))},m=g=>{a||(a=!0,t.onError?.(g),r?.(),i.reject(g))},p=()=>new Promise(g=>{r=y=>{(a||d())&&g(y)},t.onPause?.()}).then(()=>{r=void 0,a||t.onContinue?.()}),f=()=>{if(a)return;let g;const y=n===0?t.initialPromise:void 0;try{g=y??t.fn()}catch(j){g=Promise.reject(j)}Promise.resolve(g).then(u).catch(j=>{if(a)return;const T=t.retry??(on?0:3),M=t.retryDelay??nu,b=typeof M=="function"?M(n,j):M,O=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,j);if(s||!O){m(j);return}n++,t.onFail?.(n,j),Zh(b).then(()=>d()?void 0:p()).then(()=>{s?m(j):f()})})};return{promise:i,cancel:c,continue:()=>(r?.(),i),cancelRetry:o,continueRetry:h,canStart:x,start:()=>(x()?f():p().then(f),i)}}var au=t=>setTimeout(t,0);function ru(){let t=[],s=0,n=o=>{o()},a=o=>{o()},r=au;const i=o=>{s?t.push(o):r(()=>{n(o)})},c=()=>{const o=t;t=[],o.length&&r(()=>{a(()=>{o.forEach(h=>{n(h)})})})};return{batch:o=>{let h;s++;try{h=o()}finally{s--,s||c()}return h},batchCalls:o=>(...h)=>{i(()=>{o(...h)})},schedule:i,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{a=o},setScheduler:o=>{r=o}}}var Pe=ru(),lo=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Kh(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(on?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},iu=class extends lo{#e;#t;#s;#a;#n;#i;#o;constructor(t){super(),this.#o=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#a=t.client,this.#s=this.#a.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=lu(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(t){this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(t,s){const n=Xh(this.state.data,t,this.options);return this.#r({data:n,type:"success",dataUpdatedAt:s?.updatedAt,manual:s?.manual}),n}setState(t,s){this.#r({type:"setState",state:t,setStateOptions:s})}cancel(t){const s=this.#n?.promise;return this.#n?.cancel(t),s?s.then(Xe).catch(Xe):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Qh(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===pa||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Wh(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(s=>s.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(s=>s.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(this.#n&&(this.#o?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}fetch(t,s){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&s?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(t&&this.setOptions(t),!this.options.queryFn){const o=this.observers.find(h=>h.options.queryFn);o&&this.setOptions(o.options)}const n=new AbortController,a=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},r=()=>{const o=no(this.options,s),h={client:this.#a,queryKey:this.queryKey,meta:this.meta};return a(h),this.#o=!1,this.options.persister?this.options.persister(o,h,this):o(h)},i={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:r};a(i),this.options.behavior?.onFetch(i,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==i.fetchOptions?.meta)&&this.#r({type:"fetch",meta:i.fetchOptions?.meta});const c=o=>{yn(o)&&o.silent||this.#r({type:"error",error:o}),yn(o)||(this.#s.config.onError?.(o,this),this.#s.config.onSettled?.(this.state.data,o,this)),this.scheduleGc()};return this.#n=oo({initialPromise:s?.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:o=>{if(o===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(o)}catch(h){c(h);return}this.#s.config.onSuccess?.(o,this),this.#s.config.onSettled?.(o,this.state.error,this),this.scheduleGc()},onError:c,onFail:(o,h)=>{this.#r({type:"failed",failureCount:o,error:h})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0}),this.#n.start()}#r(t){const s=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...ou(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return yn(a)&&a.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=s(this.state),Pe.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:t})})}};function ou(t,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ro(s.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function lu(t){const s=typeof t.initialData=="function"?t.initialData():t.initialData,n=s!==void 0,a=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:n?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var cu=class extends rn{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,s,n){const a=s.queryKey,r=s.queryHash??ga(a,s);let i=this.get(r);return i||(i=new iu({client:t,queryKey:a,queryHash:r,options:t.defaultQueryOptions(s),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(i)),i}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=this.#e.get(t.queryHash);s&&(t.destroy(),s===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Pe.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const s={exact:!0,...t};return this.getAll().find(n=>sr(s,n))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(n=>sr(t,n)):s}notify(t){Pe.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){Pe.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Pe.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},du=class extends lo{#e;#t;#s;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||hu(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(s=>s!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){const s=()=>{this.#a({type:"continue"})};this.#s=oo({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(r,i)=>{this.#a({type:"failed",failureCount:r,error:i})},onPause:()=>{this.#a({type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const n=this.state.status==="pending",a=!this.#s.canStart();try{if(n)s();else{this.#a({type:"pending",variables:t,isPaused:a}),await this.#t.config.onMutate?.(t,this);const i=await this.options.onMutate?.(t);i!==this.state.context&&this.#a({type:"pending",context:i,variables:t,isPaused:a})}const r=await this.#s.start();return await this.#t.config.onSuccess?.(r,t,this.state.context,this),await this.options.onSuccess?.(r,t,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,t,this.state.context),this.#a({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,t,this.state.context,this),await this.options.onError?.(r,t,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,t,this.state.context),r}finally{this.#a({type:"error",error:r})}}finally{this.#t.runNext(this)}}#a(t){const s=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),Pe.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function hu(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var uu=class extends rn{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#s=0}#e;#t;#s;build(t,s,n){const a=new du({mutationCache:this,mutationId:++this.#s,options:t.defaultMutationOptions(s),state:n});return this.add(a),a}add(t){this.#e.add(t);const s=Rs(t);if(typeof s=="string"){const n=this.#t.get(s);n?n.push(t):this.#t.set(s,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const s=Rs(t);if(typeof s=="string"){const n=this.#t.get(s);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&this.#t.delete(s)}}this.notify({type:"removed",mutation:t})}canRun(t){const s=Rs(t);if(typeof s=="string"){const a=this.#t.get(s)?.find(r=>r.state.status==="pending");return!a||a===t}else return!0}runNext(t){const s=Rs(t);return typeof s=="string"?this.#t.get(s)?.find(a=>a!==t&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Pe.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const s={exact:!0,...t};return this.getAll().find(n=>nr(s,n))}findAll(t={}){return this.getAll().filter(s=>nr(t,s))}notify(t){Pe.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return Pe.batch(()=>Promise.all(t.map(s=>s.continue().catch(Xe))))}};function Rs(t){return t.options.scope?.id}function ir(t){return{onFetch:(s,n)=>{const a=s.options,r=s.fetchOptions?.meta?.fetchMore?.direction,i=s.state.data?.pages||[],c=s.state.data?.pageParams||[];let o={pages:[],pageParams:[]},h=0;const d=async()=>{let x=!1;const u=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(s.signal.aborted?x=!0:s.signal.addEventListener("abort",()=>{x=!0}),s.signal)})},m=no(s.options,s.fetchOptions),p=async(f,g,y)=>{if(x)return Promise.reject();if(g==null&&f.pages.length)return Promise.resolve(f);const j={client:s.client,queryKey:s.queryKey,pageParam:g,direction:y?"backward":"forward",meta:s.options.meta};u(j);const T=await m(j),{maxPages:M}=s.options,b=y?Jh:Yh;return{pages:b(f.pages,T,M),pageParams:b(f.pageParams,g,M)}};if(r&&i.length){const f=r==="backward",g=f?mu:or,y={pages:i,pageParams:c},j=g(a,y);o=await p(y,j,f)}else{const f=t??i.length;do{const g=h===0?c[0]??a.initialPageParam:or(a,o);if(h>0&&g==null)break;o=await p(o,g),h++}while(h<f)}return o};s.options.persister?s.fetchFn=()=>s.options.persister?.(d,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},n):s.fetchFn=d}}}function or(t,{pages:s,pageParams:n}){const a=s.length-1;return s.length>0?t.getNextPageParam(s[a],s,n[a],n):void 0}function mu(t,{pages:s,pageParams:n}){return s.length>0?t.getPreviousPageParam?.(s[0],s,n[0],n):void 0}var xu=class{#e;#t;#s;#a;#n;#i;#o;#r;constructor(t={}){this.#e=t.queryCache||new cu,this.#t=t.mutationCache||new uu,this.#s=t.defaultOptions||{},this.#a=new Map,this.#n=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=ao.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=Gs.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#r?.(),this.#r=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const s=this.defaultQueryOptions({queryKey:t});return this.#e.get(s.queryHash)?.state.data}ensureQueryData(t){const s=this.defaultQueryOptions(t),n=this.#e.build(this,s),a=n.state.data;return a===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(tr(s.staleTime,n))&&this.prefetchQuery(s),Promise.resolve(a))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:s,state:n})=>{const a=n.data;return[s,a]})}setQueryData(t,s,n){const a=this.defaultQueryOptions({queryKey:t}),i=this.#e.get(a.queryHash)?.state.data,c=Gh(s,i);if(c!==void 0)return this.#e.build(this,a).setData(c,{...n,manual:!0})}setQueriesData(t,s,n){return Pe.batch(()=>this.#e.findAll(t).map(({queryKey:a})=>[a,this.setQueryData(a,s,n)]))}getQueryState(t){const s=this.defaultQueryOptions({queryKey:t});return this.#e.get(s.queryHash)?.state}removeQueries(t){const s=this.#e;Pe.batch(()=>{s.findAll(t).forEach(n=>{s.remove(n)})})}resetQueries(t,s){const n=this.#e;return Pe.batch(()=>(n.findAll(t).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...t},s)))}cancelQueries(t,s={}){const n={revert:!0,...s},a=Pe.batch(()=>this.#e.findAll(t).map(r=>r.cancel(n)));return Promise.all(a).then(Xe).catch(Xe)}invalidateQueries(t,s={}){return Pe.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},s)))}refetchQueries(t,s={}){const n={...s,cancelRefetch:s.cancelRefetch??!0},a=Pe.batch(()=>this.#e.findAll(t).filter(r=>!r.isDisabled()).map(r=>{let i=r.fetch(void 0,n);return n.throwOnError||(i=i.catch(Xe)),r.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(a).then(Xe)}fetchQuery(t){const s=this.defaultQueryOptions(t);s.retry===void 0&&(s.retry=!1);const n=this.#e.build(this,s);return n.isStaleByTime(tr(s.staleTime,n))?n.fetch(s):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Xe).catch(Xe)}fetchInfiniteQuery(t){return t.behavior=ir(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Xe).catch(Xe)}ensureInfiniteQueryData(t){return t.behavior=ir(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Gs.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#s}setDefaultOptions(t){this.#s=t}setQueryDefaults(t,s){this.#a.set(ys(t),{queryKey:t,defaultOptions:s})}getQueryDefaults(t){const s=[...this.#a.values()],n={};return s.forEach(a=>{bs(t,a.queryKey)&&Object.assign(n,a.defaultOptions)}),n}setMutationDefaults(t,s){this.#n.set(ys(t),{mutationKey:t,defaultOptions:s})}getMutationDefaults(t){const s=[...this.#n.values()],n={};return s.forEach(a=>{bs(t,a.mutationKey)&&Object.assign(n,a.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const s={...this.#s.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return s.queryHash||(s.queryHash=ga(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===pa&&(s.enabled=!1),s}defaultMutationOptions(t){return t?._defaulted?t:{...this.#s.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}};async function co(t){if(!t.ok){const s=await t.text()||t.statusText;throw new Error(`${t.status}: ${s}`)}}async function Pt({url:t,method:s="GET",body:n=void 0}){const a=await fetch(t,{method:s,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});await co(a);try{return await a.json()}catch{return a}}const gu=({on401:t})=>async({queryKey:s})=>{const n=await fetch(s[0],{credentials:"include"});return await co(n),await n.json()};new xu({defaultOptions:{queries:{queryFn:gu({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});const pu={"hotel-manager":{dashboard:["view","edit","view_client_interface"],analytics:["view","export","advanced","view_advanced"],billing:["view","edit"],staff:["view","edit","delete","invite","manage"],settings:["view","edit"],calls:["view","join","transfer","end","override"],system:["view","monitor"],assistant:["configure","manage"],notifications:["view","manage"],requests:["view","manage"],guests:["view","manage"],security:["view","manage"],integrations:["view","manage"],logs:["view","export"]},"front-desk":{dashboard:["view"],calls:["view","join","transfer","end"],analytics:["view_basic"],profile:["view","edit"],guests:["view","edit","checkin","checkout","manage"],requests:["view","manage"],notifications:["view"],system:[]},"it-manager":{dashboard:["view"],system:["view","edit","debug","restart","monitor"],integrations:["view","edit","test","manage"],logs:["view","export","debug"],calls:["view","debug"],analytics:["view","technical"],billing:[],staff:[],security:["view","manage"],notifications:["view"]}},lr=t=>{const s=pu[t],n=[];for(const[a,r]of Object.entries(s))for(const i of r)n.push({module:a,action:i,allowed:!0});return n},ho=l.createContext(void 0),_e=()=>{const t=l.useContext(ho);return t===void 0?(console.warn("useAuth used outside AuthProvider - returning safe defaults"),{user:null,tenant:null,isLoading:!1,isAuthenticated:!1,login:async()=>{},logout:()=>{},hasPermission:()=>!1,hasRole:()=>!1,refreshAuth:async()=>{},hasFeature:()=>!1,isWithinLimits:()=>!0}):t},cr=t=>{switch(t){case"admin":case"manager":case"hotel-manager":return"hotel-manager";case"staff":case"front-desk":return"front-desk";case"it":case"tech":case"it-manager":return"it-manager";default:return"front-desk"}},fu=({children:t})=>{console.log("[DEBUG] AuthProvider render");const[s,n]=l.useState(null),[a,r]=l.useState(null),[i,c]=l.useState(!0);l.useEffect(()=>{console.log("[DEBUG] AuthProvider useEffect - checking token");const u=localStorage.getItem("token");if(!u){console.log("[DEBUG] AuthProvider - no token found, setting loading false"),c(!1);return}try{console.log("[DEBUG] AuthProvider - decoding token");const m=Oa(u);console.log("[DEBUG] AuthProvider - token decoded:",m);const p=cr(m.role),f={id:m.username,name:m.username,email:m.username,tenantId:m.tenantId,role:p,permissions:lr(p)},g={id:m.tenantId,hotelName:"Mi Nhon Hotel",subdomain:"minhonmuine",subscriptionPlan:"premium",subscriptionStatus:"active"};n(f),r(g)}catch(m){console.log("[DEBUG] AuthProvider - token decode error:",m),localStorage.removeItem("token")}finally{console.log("[DEBUG] AuthProvider - setting loading false"),c(!1)}},[]);const o=l.useCallback(async(u,m)=>{c(!0);try{const p=await fetch("/api/staff/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:u,password:m})});if(!p.ok)throw new Error("Sai t√†i kho·∫£n ho·∫∑c m·∫≠t kh·∫©u");const f=await p.json();if(!f.token)throw new Error("Kh√¥ng nh·∫≠n ƒë∆∞·ª£c token t·ª´ server");localStorage.setItem("token",f.token);const g=Oa(f.token),y=cr(g.role),j={id:g.username,name:g.username,email:g.username,tenantId:g.tenantId,role:y,permissions:lr(y)},T={id:g.tenantId,hotelName:"Mi Nhon Hotel",subdomain:"minhonmuine",subscriptionPlan:"premium",subscriptionStatus:"active"};n(j),r(T)}catch(p){throw localStorage.removeItem("token"),n(null),r(null),p}finally{c(!1)}},[]),h=l.useCallback(()=>{console.log("[DEBUG] AuthProvider logout called"),n(null),r(null),localStorage.removeItem("token"),window.location.href="/login"},[]),d=l.useCallback((u,m)=>!s||!s.permissions?!1:s.permissions.some(p=>p.module===u&&p.action===m&&p.allowed),[s]),x=l.useCallback(u=>s?.role===u,[s]);return console.log("[DEBUG] AuthProvider state:",{user:s,tenant:a,isLoading:i}),e.jsx(ho.Provider,{value:{user:s,tenant:a,isLoading:i,login:o,logout:h,isAuthenticated:!!s,refreshAuth:async()=>{},hasFeature:()=>!1,hasRole:x,hasPermission:d,isWithinLimits:()=>!0},children:t})},uo=()=>{const[t,s]=l.useState(null);return l.useEffect(()=>{if(typeof window>"u")return;const n=window.location.hostname,a=n==="localhost"||n==="127.0.0.1",r=/^\d+\.\d+\.\d+\.\d+$/.test(n),i=n==="talk2go.online"||n==="www.talk2go.online";let c=null,o=!1,h;if(!a&&!r&&!i)if(n.includes(".talk2go.online")){const x=n.split(".");x.length>2&&(c=x[0],o=!0)}else h=n,o=!1;s({subdomain:c,isMiNhon:a||n==="minhotel.talk2go.online"||n==="talk2go.online"||n==="www.talk2go.online"||c==="minhon",isSubdomain:o,customDomain:h})},[]),t},dr={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Ps={hotelName:"Mi Nhon Hotel Mui Ne",logoUrl:"/assets/references/images/minhon-logo.jpg",primaryColor:"#2C3E50",headerText:"Mi Nhon Hotel Mui Ne",vapiPublicKey:"",vapiAssistantId:"",branding:{logo:"/assets/references/images/minhon-logo.jpg",colors:{primary:"#2C3E50",secondary:"#34495E",accent:"#E74C3C"},fonts:{primary:"Poppins",secondary:"Inter"}},features:{callHistory:!0,multiLanguage:!0,analytics:!0,customization:!0},services:[{type:"room_service",name:"Room Service",enabled:!0},{type:"concierge",name:"Concierge",enabled:!0},{type:"housekeeping",name:"Housekeeping",enabled:!0},{type:"maintenance",name:"Maintenance",enabled:!0},{type:"restaurant",name:"Restaurant",enabled:!0}],supportedLanguages:["en","fr","zh","ru","ko","vi"]},mo=()=>{console.log("[DEBUG] useHotelConfiguration hook called");const[t,s]=l.useState(null),[n,a]=l.useState(!0),[r,i]=l.useState(null);uo();const c=()=>{const h=window.location.hostname;if(h==="localhost"||h==="127.0.0.1")return{type:"default",identifier:"mi-nhon-hotel"};const x=h.split(".");return x.length>=3&&x[x.length-2]==="talk2go"&&x[x.length-1]==="online"?{type:"subdomain",identifier:x[0]}:{type:"custom",identifier:h}},o=l.useCallback(async()=>{console.log("[DEBUG] loadConfiguration called");try{a(!0),i(null);const{type:h,identifier:d}=c();if(console.log("[DEBUG] extractHotelIdentifier",{type:h,identifier:d}),h==="default"){s(Ps);return}if(h==="subdomain"){const x=`/api/hotels/by-subdomain/${d}`;console.log("[DEBUG] Fetching hotel config from",x);try{const u=await fetch(x);if(console.log("[DEBUG] fetch response",u),!u.ok)throw new Error("Failed to load hotel configuration");const m=await u.json();console.log("[DEBUG] hotelData",m),s({hotelName:m.name,logoUrl:m.branding.logo,primaryColor:m.branding.primaryColor,headerText:m.name,vapiPublicKey:"",vapiAssistantId:"",branding:{...m.branding,colors:{primary:m.branding.primaryColor||"#2C3E50",secondary:m.branding.secondaryColor||"#34495E",accent:m.branding.accentColor||"#E74C3C"},fonts:{primary:m.branding.PrimaryFont||"Inter",secondary:m.branding.SecondaryFont||"Roboto"}},features:m.features,services:m.services,supportedLanguages:m.supportedLanguages});return}catch(u){console.error("[DEBUG] fetch hotel config error",u),s(Ps);return}}s(Ps)}catch(h){i(h instanceof Error?h.message:"Failed to load configuration"),s(Ps)}finally{a(!1)}},[]);return l.useEffect(()=>{o()},[o]),{config:t,isLoading:n,error:r,reload:o,isMiNhon:!1}},Ms={},xo=async t=>{if(Ms[t])return Ms[t];try{const s=await fetch(`/api/vapi/config/${t}`);if(!s.ok)throw new Error(`Failed to fetch Vapi config: ${s.status}`);const n=await s.json();return console.log(`üîß [fetchVapiConfig] Received config for ${t}:`,{publicKey:n.publicKey?n.publicKey.substring(0,10)+"...":"NOT SET",assistantId:n.assistantId?n.assistantId.substring(0,10)+"...":"NOT SET",fallback:n.fallback}),Ms[t]=n,n}catch(s){console.error(`[fetchVapiConfig] Error fetching Vapi config for ${t}:`,s);const n={publicKey:t==="en"?"":dr[`VITE_VAPI_PUBLIC_KEY_${t.toUpperCase()}`]||void 0||"",assistantId:t==="en"?"":dr[`VITE_VAPI_ASSISTANT_ID_${t.toUpperCase()}`]||void 0||"",fallback:!0};return console.log(`[fetchVapiConfig] Using fallback config for ${t}:`,{publicKey:n.publicKey?n.publicKey.substring(0,10)+"...":"NOT SET",assistantId:n.assistantId?n.assistantId.substring(0,10)+"...":"NOT SET"}),Ms[t]=n,n}},vu=async(t,s)=>{if(s.hotelName==="Mi Nhon Hotel Mui Ne")try{return(await xo(t)).publicKey||s.vapiPublicKey}catch(n){return console.error(`[getVapiPublicKeyByLanguage] Error for ${t}:`,n),s.vapiPublicKey}return s.vapiPublicKey||void 0},ju=async(t,s)=>{if(s.hotelName==="Mi Nhon Hotel Mui Ne")try{const n=await xo(t);return console.log(`ü§ñ [getVapiAssistantIdByLanguage] Selected assistant for ${t}:`,{assistantId:n.assistantId?n.assistantId.substring(0,10)+"...":"NOT SET",fallback:n.fallback}),n.assistantId||s.vapiAssistantId}catch(n){return console.error(`[getVapiAssistantIdByLanguage] Error for ${t}:`,n),s.vapiAssistantId}return s.vapiAssistantId||void 0},yu={orderType:"Room Service",deliveryTime:"asap",roomNumber:"",guestName:"",guestEmail:"",guestPhone:"",specialInstructions:"",items:[{id:"1",name:"Club Sandwich",description:"Served with french fries and side salad",quantity:1,price:15},{id:"2",name:"Fresh Orange Juice",description:"Large size",quantity:1,price:8}],totalAmount:23},go=l.createContext(void 0);function bu({children:t}){console.log("[DEBUG] AssistantProvider render");const[s,n]=l.useState([]),[a,r]=l.useState(null),[i,c]=l.useState(null),[o,h]=l.useState(null),[d,x]=l.useState(0),[u,m]=l.useState(null),[p,f]=l.useState(!1),[g,y]=l.useState(null),[j,T]=l.useState([]),[M,b]=l.useState(null),[O,A]=l.useState(!1),[z,Q]=l.useState(null),[Y,G]=l.useState(!1),[_,S]=l.useState([]),K=l.useCallback(B=>(S(Z=>[...Z,B]),()=>{S(Z=>Z.filter(le=>le!==B))}),[]),[$,X]=l.useState(()=>{if(typeof window>"u")return[];try{const B=localStorage.getItem("activeOrders");return B?JSON.parse(B).map(le=>({...le,requestedAt:new Date(le.requestedAt)})):[]}catch(B){return console.error("Failed to parse activeOrders from localStorage",B),[]}}),[xe,Le]=l.useState(0),[Te,de]=l.useState([]),[ne,Dt]=l.useState(()=>{if(typeof window<"u"){const B=localStorage.getItem("selectedLanguage");if(B&&["en","fr","zh","ru","ko","vi"].includes(B))return console.log("üåç [AssistantContext] Loading saved language:",B),B}return console.log("üåç [AssistantContext] Using default language: en"),"en"}),[ke,Ze]=l.useState(null),[P,ae]=l.useState(null),[Ve,D]=l.useState(null),W=Me.useCallback(B=>{console.log("üåç [AssistantContext] setLanguage called with:",B),Dt(B),typeof window<"u"&&(localStorage.setItem("selectedLanguage",B),console.log("üåç [AssistantContext] Language saved to localStorage:",B))},[]),re=B=>{console.log("üóëÔ∏è AssistantContext: setOrder called with:",B),console.log("üóëÔ∏è Previous order:",o),h(B),console.log("‚úÖ AssistantContext: setOrder completed")};l.useEffect(()=>{if(!(typeof window>"u"))try{localStorage.setItem("activeOrders",JSON.stringify($))}catch{console.error("Failed to persist activeOrders to localStorage")}},[$]),l.useEffect(()=>{},[o]),l.useEffect(()=>{},[$]),l.useEffect(()=>{},[ke]),l.useEffect(()=>{},[ne]),l.useEffect(()=>{},[i]),l.useEffect(()=>{},[s]),l.useEffect(()=>{},[a]),l.useEffect(()=>{},[g]),l.useEffect(()=>{},[j]),l.useEffect(()=>{},[Te]),l.useEffect(()=>{},[xe]),l.useEffect(()=>{},[p]),l.useEffect(()=>{},[d]),l.useEffect(()=>{},[O]),l.useEffect(()=>{},[z]),l.useEffect(()=>{},[M]),l.useEffect(()=>{},[P]),l.useEffect(()=>{},[Ve]);const It=B=>{X(Z=>[...Z,{...B,status:B.status||"ƒê√£ ghi nh·∫≠n"}])},rt=Me.useCallback(B=>{const Z={...B,callId:i?.id||`call-${Date.now()}`,timestamp:new Date,tenantId:P||"default"};n(fe=>[...fe,Z]),(async()=>{try{const fe=await fetch("/api/transcripts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({callId:Z.callId,role:Z.role,content:Z.content,tenantId:Z.tenantId})});if(!fe.ok)throw new Error(`Failed to save transcript: ${fe.status}`);const ce=await fe.json();console.log("Transcript saved to database:",ce)}catch(fe){console.error("Error saving transcript to server:",fe)}})()},[i?.id,P]);l.useEffect(()=>{if(Y){console.log("üõë [setupVapi] Skipping Vapi initialization - call is ending");return}return(async()=>{try{console.log("üîß [setupVapi] Language changed to:",ne),console.log("üîß [setupVapi] Hotel config available:",!!ke);const Z=ke?await vu(ne,ke):void 0;if(console.log("üîë [setupVapi] Selected publicKey for language",ne,":",Z?Z.substring(0,10)+"...":"undefined"),!Z)throw new Error("Vapi public key is not configured");const le=await xa(Z);let fe=0;const ce=100;le.on("volume-level",ie=>{try{const Se=Date.now();Se-fe>ce&&(Le(ie),fe=Se)}catch(Se){console.warn("Error handling volume-level:",Se)}});const ye=ie=>{try{if(typeof window<"u"&&window.WebSocket){const Se=window.location.origin.replace("http","ws")+"/ws",Je=new WebSocket(Se);Je.onopen=()=>{Je.send(JSON.stringify({type:"transcript",call_id:ie.callId,role:ie.role,content:ie.content,timestamp:ie.timestamp})),Je.close()},Je.onerror=xn=>{console.warn("Failed to send transcript to WebSocket:",xn)}}}catch(Se){console.warn("Error sending transcript to WebSocket:",Se)}},mn=async ie=>{if(console.log("Raw message received:",ie),console.log("Message type:",ie.type),console.log("Message role:",ie.role),console.log("Message content structure:",{content:ie.content,text:ie.text,transcript:ie.transcript}),ie.type==="model-output"){console.log("Model output detected - Full message:",ie);const Se=ie.content||ie.text||ie.transcript||ie.output;if(Se){console.log("Adding model output to conversation:",Se);const Je={callId:i?.id||`call-${Date.now()}`,role:"assistant",content:Se,timestamp:new Date,isModelOutput:!0,tenantId:P||"default"};console.log("Adding new transcript for model output:",Je),n(xn=>{const Fa=[...xn,Je];return console.log("Updated transcripts array:",Fa),Fa}),ye(Je)}else console.warn("Model output message received but no content found:",ie)}if(ie.type==="transcript"){console.log("Adding transcript:",ie);const Se={callId:i?.id||`call-${Date.now()}`,role:ie.role,content:ie.content||ie.transcript||"",timestamp:new Date,tenantId:P||"default"};n(Je=>[...Je,Se]),ye(Se)}};le.on("message",ie=>{try{mn(ie)}catch(Se){console.warn("Error handling Vapi message:",Se)}}),le.on("call-end",()=>{console.log("üìû [AssistantContext] Vapi call-end event received"),console.log("üìä [AssistantContext] Call-end context:",{transcriptsCount:s.length,hasCallSummary:!!g,hasServiceRequests:j?.length>0,callDuration:d,isEndingCall:Y});try{setTimeout(()=>{console.log("üîî [AssistantContext] Triggering call end listeners..."),_.forEach(ie=>{try{ie()}catch(Se){console.error("‚ùå [AssistantContext] Error in call end listener:",Se)}}),console.log("‚úÖ [AssistantContext] Call end listeners triggered successfully")},1e3)}catch(ie){console.error("‚ùå [AssistantContext] Error triggering call end listeners:",ie)}})}catch(Z){console.error("Error setting up Vapi:",Z)}})(),()=>{const Z=hs();Z&&(console.log("üßπ [setupVapi] Cleanup: Stopping Vapi due to dependency change"),Z.stop())}},[ne,ke,P,i?.id,Y]);const Jl=()=>{const B=hs();B&&(B.setMuted(!p),f(!p))},ec=Me.useCallback(async()=>{try{A(!1);const B=`call-${Date.now()}`;c({id:B,roomNumber:"",duration:"",category:"",language:ne}),n([]),de([]);const Z=hs();if(!Z){console.error("Vapi instance not initialized");return}const le=ke?await ju(ne,ke):void 0;if(console.log("ü§ñ [startCall] Selected assistantId for language",ne,":",le?le.substring(0,10)+"...":"undefined"),!le){console.error("Assistant ID not configured");return}if(!await Z.start(le)){console.error("Failed to start call - call object is null");return}console.log("Call started successfully"),x(0);const ce=setInterval(()=>{x(ye=>ye+1)},1e3);m(ce)}catch(B){console.error("Error starting call:",B)}},[ne,ke,P]),tc=l.useCallback(()=>{console.log("üõë [AssistantContext] endCall() called"),console.log("üîç [AssistantContext] Current state before endCall:",{callDuration:d,transcriptsCount:s.length,hasCallDetails:!!i,hasCallTimer:!!u,language:ne,tenantId:P,isEndingCall:Y}),console.log("üö´ [AssistantContext] Step 0: Setting isEndingCall flag to prevent Vapi reinitialization..."),G(!0);try{console.log("üîÑ [AssistantContext] Step 1: Stopping VAPI IMMEDIATELY...");try{const B=hs();B?(console.log("üìû [AssistantContext] Step 1a: VAPI instance found, calling stop()..."),B.stop(),typeof B.cleanup=="function"&&(console.log("üßπ [AssistantContext] Step 1b: Calling vapi.cleanup()..."),B.cleanup()),typeof B.disconnect=="function"&&(console.log("üîå [AssistantContext] Step 1c: Calling vapi.disconnect()..."),B.disconnect()),console.log("‚úÖ [AssistantContext] Step 1: VAPI fully stopped and cleaned up")):console.log("‚ö†Ô∏è [AssistantContext] Step 1a: No VAPI instance to stop")}catch(B){console.error("‚ùå [AssistantContext] Step 1 ERROR: Error stopping VAPI:",B),console.log("üîÑ [AssistantContext] Continuing with cleanup despite VAPI error...")}console.log("üîÑ [AssistantContext] Step 2: Batch state updates...");try{console.log("üîÑ [AssistantContext] Step 2a: Formatting call duration...");const B=d?`${Math.floor(d/60)}:${(d%60).toString().padStart(2,"0")}`:"0:00";console.log("‚úÖ [AssistantContext] Step 2a: Duration formatted:",B),console.log("üîÑ [AssistantContext] Step 2b: Updating states..."),(()=>{console.log("üîÑ [AssistantContext] Step 2b-1: Stopping timer..."),u?(clearInterval(u),m(null),console.log("‚úÖ [AssistantContext] Timer stopped and cleared")):console.log("‚ö†Ô∏è [AssistantContext] No timer to stop"),console.log("üîÑ [AssistantContext] Step 2b-2: Setting initial order summary..."),r(yu),console.log("‚úÖ [AssistantContext] Step 2b: State cleanup completed")})(),console.log("üîÑ [AssistantContext] Step 3: Processing summary generation...");try{const le=s.map(fe=>({role:fe.role,content:fe.content}));if(console.log("üîç [AssistantContext] Transcript data prepared:",{count:le.length,firstFew:le.slice(0,2)}),le.length>=2){console.log("üìù [AssistantContext] Step 3a: Sufficient transcript data, processing call summary...");const fe={callId:i?.id||`call-${Date.now()}`,content:"Generating AI summary of your conversation...",timestamp:new Date,tenantId:P||"default"};y(fe),console.log("‚úÖ [AssistantContext] Loading summary state set"),console.log("üîÑ [AssistantContext] Step 3b: Sending transcript data to server for OpenAI processing..."),fetch("/api/store-summary",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({summary:"",transcripts:le,timestamp:new Date().toISOString(),callId:i?.id||`call-${Date.now()}`,callDuration:B,forceBasicSummary:!1,language:ne,tenantId:P||"default"})}).then(ce=>{if(console.log("üì° [AssistantContext] Store-summary API response received:",ce.status),!ce.ok)throw new Error(`Network response was not ok: ${ce.status}`);return ce.json()}).then(ce=>{if(console.log("‚úÖ [AssistantContext] Store-summary API data received:",ce),ce.success&&ce.summary&&ce.summary.content){console.log("üìã [AssistantContext] Valid summary received, updating state...");const ye=ce.summary.content,mn={callId:i?.id||`call-${Date.now()}`,content:ye,timestamp:new Date(ce.summary.timestamp||Date.now()),tenantId:P||"default"};y(mn),console.log("‚úÖ [AssistantContext] Summary state updated successfully"),ce.serviceRequests&&Array.isArray(ce.serviceRequests)&&ce.serviceRequests.length>0?(console.log("üìù [AssistantContext] Service requests received:",ce.serviceRequests.length),T(ce.serviceRequests)):console.log("‚ö†Ô∏è [AssistantContext] No service requests in response")}else console.log("‚ö†Ô∏è [AssistantContext] Invalid summary data received:",ce)}).catch(ce=>{console.error("‚ùå [AssistantContext] Error processing summary:",ce);const ye={callId:i?.id||`call-${Date.now()}`,content:"An error occurred while generating the call summary.",timestamp:new Date,tenantId:P||"default"};y(ye),console.log("‚úÖ [AssistantContext] Error summary state set")})}else{console.log("‚ö†Ô∏è [AssistantContext] Step 3a: Not enough transcript data for summary"),console.log("üîç [AssistantContext] Transcript data count:",le.length);const fe={callId:i?.id||`call-${Date.now()}`,content:"Call was too short to generate a summary. Please try a more detailed conversation.",timestamp:new Date,tenantId:P||"default"};y(fe),console.log("‚úÖ [AssistantContext] No transcript summary state set")}}catch(le){console.error("‚ùå [AssistantContext] Step 3 ERROR: Error in summary processing:",le)}}catch(B){console.error("‚ùå [AssistantContext] Step 2 ERROR: Error during state cleanup:",B),console.log("üîÑ [AssistantContext] Attempting force cleanup of critical states...");try{u&&(clearInterval(u),m(null),console.log("‚úÖ [AssistantContext] Force timer cleanup completed"))}catch(Z){console.error("‚ùå [AssistantContext] Failed to clear timer:",Z)}}console.log("‚úÖ [AssistantContext] endCall() completed successfully")}catch(B){console.error("‚ùå [AssistantContext] CRITICAL ERROR in endCall():",B),console.error("‚ùå [AssistantContext] Error name:",B.name),console.error("‚ùå [AssistantContext] Error message:",B.message),console.error("‚ùå [AssistantContext] Error stack:",B.stack),console.log("üîÑ [AssistantContext] Attempting emergency cleanup...");try{u&&(clearInterval(u),m(null),console.log("‚úÖ [AssistantContext] Emergency timer cleanup completed"))}catch(Z){console.error("üö® [AssistantContext] Emergency cleanup failed:",Z)}console.log("üîÑ [AssistantContext] endCall() error handled gracefully, continuing normal operation")}finally{setTimeout(()=>{console.log("üîÑ [AssistantContext] Resetting isEndingCall flag..."),G(!1)},2e3)}},[u,d,s,i?.id,P,ne,Y]),sc=async B=>{try{console.log("Requesting Vietnamese translation for summary...");const Z=await fetch("/api/translate-to-vietnamese",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:B})});if(!Z.ok)throw new Error(`Network response was not ok: ${Z.status}`);const le=await Z.json();if(le.success&&le.translatedText)return b(le.translatedText),le.translatedText;throw new Error("Translation failed")}catch(Z){return console.error("Error translating to Vietnamese:",Z),"Kh√¥ng th·ªÉ d·ªãch n·ªôi dung n√†y sang ti·∫øng Vi·ªát. Vui l√≤ng th·ª≠ l·∫°i sau."}},nc=B=>{de(Z=>[...Z,B])};l.useEffect(()=>{let B=null;const Z=async()=>{try{const{authenticatedFetch:le}=await Nt(async()=>{const{authenticatedFetch:ye}=await Promise.resolve().then(()=>Yl);return{authenticatedFetch:ye}},void 0),fe=await le("/api/request");if(!fe.ok){(fe.status===401||fe.status===403)&&console.warn("‚ö†Ô∏è [AssistantContext] Auth failed - token may be invalid or missing");return}const ce=await fe.json();console.log("[AssistantContext] Fetched orders from API:",ce),Array.isArray(ce)&&X(ce.map(ye=>({reference:ye.specialInstructions||ye.reference||ye.callId||"",requestedAt:ye.createdAt?new Date(ye.createdAt):new Date,estimatedTime:ye.deliveryTime||"",status:ye.status==="completed"?"Ho√†n thi·ªán":ye.status==="pending"?"ƒê√£ ghi nh·∫≠n":ye.status,...ye})))}catch{}};return Z(),B=setInterval(Z,5e3),()=>{B&&clearInterval(B)}},[]);const ac={transcripts:s,setTranscripts:n,addTranscript:rt,orderSummary:a,setOrderSummary:r,callDetails:i,setCallDetails:c,order:o,setOrder:re,callDuration:d,setCallDuration:x,isMuted:p,toggleMute:Jl,startCall:ec,endCall:tc,callSummary:g,setCallSummary:y,serviceRequests:j,setServiceRequests:T,vietnameseSummary:M,setVietnameseSummary:b,translateToVietnamese:sc,emailSentForCurrentSession:O,setEmailSentForCurrentSession:A,requestReceivedAt:z,setRequestReceivedAt:Q,activeOrders:$,addActiveOrder:It,setActiveOrders:X,micLevel:xe,modelOutput:Te,setModelOutput:de,addModelOutput:nc,language:ne,setLanguage:W,hotelConfig:ke,setHotelConfig:Ze,tenantId:P,setTenantId:ae,tenantConfig:Ve,setTenantConfig:D,addCallEndListener:K};return e.jsx(go.Provider,{value:ac,children:t})}function Tt(){const t=l.useContext(go);return t===void 0?(console.warn("useAssistant used outside AssistantProvider - returning safe defaults"),{transcripts:[],setTranscripts:()=>{},addTranscript:()=>{},orderSummary:null,setOrderSummary:()=>{},callDetails:null,setCallDetails:()=>{},order:null,setOrder:()=>{},callDuration:0,setCallDuration:()=>{},isMuted:!1,toggleMute:()=>{},startCall:async()=>{},endCall:()=>{},callSummary:null,setCallSummary:()=>{},serviceRequests:[],setServiceRequests:()=>{},vietnameseSummary:null,setVietnameseSummary:()=>{},translateToVietnamese:async()=>"",emailSentForCurrentSession:!1,setEmailSentForCurrentSession:()=>{},requestReceivedAt:null,setRequestReceivedAt:()=>{},activeOrders:[],addActiveOrder:()=>{},setActiveOrders:()=>{},micLevel:0,modelOutput:[],setModelOutput:()=>{},addModelOutput:()=>{},language:"en",setLanguage:()=>{},hotelConfig:null,setHotelConfig:()=>{},tenantId:null,setTenantId:()=>{},tenantConfig:null,setTenantConfig:()=>{},addCallEndListener:()=>()=>{}}):t}const wu="Hotel Mui Ne",Nu="AI-powered Voice Assistant - Supporting All Your Needs",Cu="Tap To Speak",Su="Room & Stay",ku="Room Services",_u="Bookings & Facilities",Tu="Tourism & Exploration",Au="Support to book external services",Eu="Order Ref",Du="Requested At",Iu="Estimated Completion",Ru="Time Remaining",Pu="Mute",Mu="Unmute",Lu="Confirm",$u="Please speak to the assistant first.",Fu="Tap to speak",Ou="Order Summary",zu="Confirm",Bu="Add Note",qu="Room Number",Hu="Enter room number",Vu="Enter additional notes",Uu="Summary",Gu="Generated at",Ku="Order Confirmed!",Wu="Your request has been confirmed and forwarded to our staff. They will process it right away.",Qu="Order Reference",Zu="Estimated delivery time:",Xu="Return to Home",Yu="Language",Ju="English",em="French",tm="Send",sm="Cancel",nm="End Call",am="Room",rm="Order ID",im="Guest Name",om="Content",lm="Time",cm="Status",dm="Action",hm="Message Guest",um="Staff Request Management",mm="Login",xm="Username",gm="Password",pm="Tap the call button to start your request.",fm="Review and confirm your request for accuracy.",vm="Your request will be sent to the reception for processing.",jm="Acknowledged",ym="In Progress",bm="Delivering to You",wm="Completed",Nm="Special Note",Cm="Check-in/Check-out",Sm="Extended Stay Request",km="Room Information",_m="Hotel Policies",Tm="Wi-Fi Services",Am="Room Service Food",Em="Drinks & Bar Service",Dm="Room Cleaning",Im="Laundry Service",Rm="Wake-up Call",Pm="Additional Amenities",Mm="Maintenance Request",Lm="Restaurant Reservation",$m="Spa Services",Fm="Fitness Center",Om="Swimming Pool",zm="Car Rental",Bm="Medical Assistance",qm="Customer Support",Hm="Local Attractions",Vm="Local Restaurants",Um="Public Transportation",Gm="Local Events",Km="Shopping Areas",Wm="Area Maps",Qm="Translation Services",Zm="Leave a Review",Xm="Report an Issue",Ym="Luggage Services",Jm="Generating your summary...",ex="Speak Multiple Languages with Our AI Voice Assistant",tx={hotel_name:wu,hotel_subtitle:Nu,press_to_call:Cu,room_and_stay:Su,room_services:ku,bookings_and_facilities:_u,tourism_and_exploration:Tu,support_external_services:Au,order_ref:Eu,requested_at:Du,estimated_completion:Iu,time_remaining:Ru,mute:Pu,unmute:Mu,confirm:Lu,need_conversation:$u,tap_to_speak:Fu,order_summary:Ou,send_to_reception:zu,add_note:Bu,room_number:qu,enter_room_number:Hu,enter_notes:Vu,summary:Uu,generated_at:Gu,order_confirmed:Ku,order_confirmed_message:Wu,order_reference:Qu,estimated_delivery_time:Zu,return_to_home:Xu,language:Yu,english:Ju,french:em,send:tm,cancel:sm,confirm_request:nm,room:am,order_id:rm,guest_name:im,content:om,time:lm,status:cm,action:dm,message_guest:hm,request_management:um,login:mm,username:xm,password:gm,press_to_call_desc:pm,confirm_request_desc:fm,send_to_reception_desc:vm,status_acknowledged:jm,status_in_progress:ym,status_delivering:bm,status_completed:wm,status_note:Nm,icon_login:Cm,icon_hourglass_empty:Sm,icon_info:km,icon_policy:_m,icon_wifi:Tm,icon_restaurant:Am,icon_local_bar:Em,icon_cleaning_services:Dm,icon_local_laundry_service:Im,icon_alarm:Rm,icon_add_circle:Pm,icon_build:Mm,icon_event_seat:Lm,icon_spa:$m,icon_fitness_center:Fm,icon_pool:Om,icon_directions_car:zm,icon_medical_services:Bm,icon_support_agent:qm,icon_location_on:Hm,icon_local_dining:Vm,icon_directions_bus:Um,icon_event:Gm,icon_shopping_bag:Km,icon_map:Wm,icon_translate:Qm,icon_rate_review:Zm,icon_report_problem:Xm,icon_luggage:Ym,generating_your_summary:Jm,speak_multiple_languages:ex},sx="Bienvenue √† Mi Nhon Hotel",nx="Commencer",ax="Langue",rx="Anglais",ix="Fran√ßais",ox="Envoyer",lx="Annuler",cx="Confirmer la demande",dx="Chambre",hx="ID de commande",ux="Nom du client",mx="Contenu",xx="Heure",gx="Statut",px="Action",fx="Message au client",vx="Gestion des demandes du personnel",jx="Connexion",yx="Nom d'utilisateur",bx="Mot de passe",wx="Hotel Mui Ne",Nx="Assistant vocal IA - √Ä votre service pour tous vos besoins",Cx="Appuyez pour appeler",Sx="Chambre & S√©jour",kx="Services de chambre",_x="R√©servations & Installations",Tx="Tourisme & Exploration",Ax="Assistance pour services externes",Ex="R√©f. commande",Dx="Demand√© √†",Ix="Fin estim√©e",Rx="Temps restant",Px="Muet",Mx="R√©tablir le son",Lx="Confirmer",$x="Veuillez d'abord parler avec l'assistant.",Fx="Appuyez pour parler",Ox="R√©capitulatif de la commande",zx="Envoyer √† la r√©ception",Bx="Ajouter une note",qx="Num√©ro de chambre",Hx="Saisir le num√©ro de chambre",Vx="Saisir des notes suppl√©mentaires",Ux="R√©sum√©",Gx="G√©n√©r√© √†",Kx="Commande confirm√©e !",Wx="Votre demande a √©t√© confirm√©e et transmise √† notre personnel. Elle sera trait√©e imm√©diatement.",Qx="R√©f√©rence de la commande",Zx="Heure de livraison estim√©e :",Xx="Retour √† l'accueil",Yx="Appuyez sur le bouton d'appel pour d√©marrer votre demande.",Jx="V√©rifiez et confirmez votre demande pour plus de pr√©cision.",eg="Votre demande sera envoy√©e √† la r√©ception pour traitement.",tg="Re√ßue",sg="En cours",ng="En livraison",ag="Termin√©e",rg="Note sp√©ciale",ig="Arriv√©e/D√©part",og="Prolongation de s√©jour",lg="Informations sur la chambre",cg="Politiques de l'h√¥tel",dg="Services Wi-Fi",hg="Service de restauration",ug="Service de bar",mg="Nettoyage de chambre",xg="Service de blanchisserie",gg="Service de r√©veil",pg="Am√©nit√©s suppl√©mentaires",fg="Demande de maintenance",vg="R√©servation au restaurant",jg="Services de spa",yg="Centre de fitness",bg="Piscine",wg="Location de voiture",Ng="Assistance m√©dicale",Cg="Service client",Sg="Attractions locales",kg="Restaurants locaux",_g="Transports publics",Tg="√âv√©nements locaux",Ag="Zones commerciales",Eg="Cartes de la r√©gion",Dg="Services de traduction",Ig="Laisser un avis",Rg="Signaler un probl√®me",Pg="Services de bagagerie",Mg="G√©n√©ration de votre r√©sum√©...",Lg="Parlez Plusieurs Langues avec Notre Assistant Vocal IA",$g={welcome:sx,start:nx,language:ax,english:rx,french:ix,send:ox,cancel:lx,confirm_request:cx,room:dx,order_id:hx,guest_name:ux,content:mx,time:xx,status:gx,action:px,message_guest:fx,request_management:vx,login:jx,username:yx,password:bx,hotel_name:wx,hotel_subtitle:Nx,press_to_call:Cx,room_and_stay:Sx,room_services:kx,bookings_and_facilities:_x,tourism_and_exploration:Tx,support_external_services:Ax,order_ref:Ex,requested_at:Dx,estimated_completion:Ix,time_remaining:Rx,mute:Px,unmute:Mx,confirm:Lx,need_conversation:$x,tap_to_speak:Fx,order_summary:Ox,send_to_reception:zx,add_note:Bx,room_number:qx,enter_room_number:Hx,enter_notes:Vx,summary:Ux,generated_at:Gx,order_confirmed:Kx,order_confirmed_message:Wx,order_reference:Qx,estimated_delivery_time:Zx,return_to_home:Xx,press_to_call_desc:Yx,confirm_request_desc:Jx,send_to_reception_desc:eg,status_acknowledged:tg,status_in_progress:sg,status_delivering:ng,status_completed:ag,status_note:rg,icon_login:ig,icon_hourglass_empty:og,icon_info:lg,icon_policy:cg,icon_wifi:dg,icon_restaurant:hg,icon_local_bar:ug,icon_cleaning_services:mg,icon_local_laundry_service:xg,icon_alarm:gg,icon_add_circle:pg,icon_build:fg,icon_event_seat:vg,icon_spa:jg,icon_fitness_center:yg,icon_pool:bg,icon_directions_car:wg,icon_medical_services:Ng,icon_support_agent:Cg,icon_location_on:Sg,icon_local_dining:kg,icon_directions_bus:_g,icon_event:Tg,icon_shopping_bag:Ag,icon_map:Eg,icon_translate:Dg,icon_rate_review:Ig,icon_report_problem:Rg,icon_luggage:Pg,generating_your_summary:Mg,speak_multiple_languages:Lg},Fg="Ê¨¢ËøéÊù•Âà∞ÁæéÂÜúÈÖíÂ∫ó (Mi Nhon Hotel)",Og="ÂºÄÂßã",zg="ËØ≠Ë®Ä",Bg="Ëã±ËØ≠",qg="Ê≥ïËØ≠",Hg="ÂèëÈÄÅ",Vg="ÂèñÊ∂à",Ug="Á°ÆËÆ§ËØ∑Ê±Ç",Gg="ÊàøÈó¥",Kg="ËÆ¢ÂçïÁºñÂè∑",Wg="ÂÆ¢‰∫∫ÂßìÂêç",Qg="ÂÜÖÂÆπ",Zg="Êó∂Èó¥",Xg="Áä∂ÊÄÅ",Yg="Êìç‰Ωú",Jg="ÁªôÂÆ¢‰∫∫ÁöÑÊ∂àÊÅØ",ep="ÂëòÂ∑•ËØ∑Ê±ÇÁÆ°ÁêÜ",tp="ÁôªÂΩï",sp="Áî®Êà∑Âêç",np="ÂØÜÁ†Å",ap="ÈÖíÂ∫ó Mui Ne",rp="AIËØ≠Èü≥Âä©Êâã - Êª°Ë∂≥ÊÇ®ÁöÑÊâÄÊúâÈúÄÊ±Ç",ip="Êåâ‰∏ãÂëºÂè´",op="ÊàøÈó¥‰∏é‰ΩèÂÆø",lp="ÂÆ¢ÊàøÊúçÂä°",cp="È¢ÑËÆ¢‰∏éËÆæÊñΩ",dp="ÊóÖÊ∏∏‰∏éÊé¢Á¥¢",hp="ÊîØÊåÅÂ§ñÈÉ®ÊúçÂä°",up="ËÆ¢ÂçïÂèÇËÄÉ",mp="ËØ∑Ê±ÇÊó∂Èó¥",xp="È¢ÑËÆ°ÂÆåÊàêÊó∂Èó¥",gp="Ââ©‰ΩôÊó∂Èó¥",pp="ÈùôÈü≥",fp="ÂèñÊ∂àÈùôÈü≥",vp="Á°ÆËÆ§",jp="ËØ∑ÂÖà‰∏éÂä©ÊâãÂØπËØù„ÄÇ",yp="ÁÇπÂáªËØ¥ËØù",bp="ËÆ¢ÂçïÊëòË¶Å",wp="ÂèëÈÄÅÂà∞ÂâçÂè∞",Np="Ê∑ªÂä†Â§áÊ≥®",Cp="ÊàøÈó¥Âè∑",Sp="ËæìÂÖ•ÊàøÈó¥Âè∑",kp="ËæìÂÖ•ÈôÑÂä†Â§áÊ≥®",_p="ÊëòË¶Å",Tp="ÁîüÊàêÊó∂Èó¥",Ap="ËÆ¢ÂçïÂ∑≤Á°ÆËÆ§ÔºÅ",Ep="ÊÇ®ÁöÑËØ∑Ê±ÇÂ∑≤Á°ÆËÆ§Âπ∂ÂèëÈÄÅÁªôÊàë‰ª¨ÁöÑÂëòÂ∑•„ÄÇÊàë‰ª¨‰ºöÁ´ãÂç≥Â§ÑÁêÜ„ÄÇ",Dp="ËÆ¢ÂçïÂèÇËÄÉ",Ip="È¢ÑËÆ°ÈÄÅËææÊó∂Èó¥Ôºö",Rp="ËøîÂõûÈ¶ñÈ°µ",Pp="ÁÇπÂáªÂëºÂè´ÊåâÈíÆÂºÄÂßãÊÇ®ÁöÑËØ∑Ê±Ç„ÄÇ",Mp="ËØ∑Ê£ÄÊü•Âπ∂Á°ÆËÆ§ÊÇ®ÁöÑËØ∑Ê±Ç‰ª•Á°Æ‰øùÂáÜÁ°Æ„ÄÇ",Lp="ÊÇ®ÁöÑËØ∑Ê±ÇÂ∞ÜË¢´ÂèëÈÄÅÂà∞ÂâçÂè∞ËøõË°åÂ§ÑÁêÜ„ÄÇ",$p="Â∑≤Á°ÆËÆ§",Fp="Â§ÑÁêÜ‰∏≠",Op="ÈÖçÈÄÅ‰∏≠",zp="Â∑≤ÂÆåÊàê",Bp="ÁâπÂà´ËØ¥Êòé",qp="ÂÖ•‰Ωè/ÈÄÄÊàø",Hp="Âª∂Èïø‰ΩèÂÆøËØ∑Ê±Ç",Vp="ÊàøÈó¥‰ø°ÊÅØ",Up="ÈÖíÂ∫óÊîøÁ≠ñ",Gp="Êó†Á∫øÁΩëÁªúÊúçÂä°",Kp="ÂÆ¢ÊàøÈ§êÈ•ÆÊúçÂä°",Wp="È•ÆÂìÅ‰∏éÈÖíÂêßÊúçÂä°",Qp="ÊàøÈó¥Ê∏ÖÊ¥Å",Zp="Ê¥óË°£ÊúçÂä°",Xp="Âî§ÈÜíÊúçÂä°",Yp="È¢ùÂ§ñËÆæÊñΩ",Jp="Áª¥‰øÆËØ∑Ê±Ç",ef="È§êÂéÖÈ¢ÑËÆ¢",tf="Ê∞¥ÁñóÊúçÂä°",sf="ÂÅ•Ë∫´‰∏≠ÂøÉ",nf="Ê∏∏Ê≥≥Ê±†",af="ÁßüËΩ¶ÊúçÂä°",rf="ÂåªÁñóÊè¥Âä©",of="ÂÆ¢Êà∑ÊîØÊåÅ",lf="ÂΩìÂú∞ÊôØÁÇπ",cf="ÂΩìÂú∞È§êÂéÖ",df="ÂÖ¨ÂÖ±‰∫§ÈÄö",hf="ÂΩìÂú∞Ê¥ªÂä®",uf="Ë¥≠Áâ©Âå∫Âüü",mf="Âå∫ÂüüÂú∞Âõæ",xf="ÁøªËØëÊúçÂä°",gf="Áïô‰∏ãËØÑËÆ∫",pf="Êä•ÂëäÈóÆÈ¢ò",ff="Ë°åÊùéÊúçÂä°",vf="Ê≠£Âú®ÁîüÊàêÊÇ®ÁöÑÊëòË¶Å...",jf={welcome:Fg,start:Og,language:zg,english:Bg,french:qg,send:Hg,cancel:Vg,confirm_request:Ug,room:Gg,order_id:Kg,guest_name:Wg,content:Qg,time:Zg,status:Xg,action:Yg,message_guest:Jg,request_management:ep,login:tp,username:sp,password:np,hotel_name:ap,hotel_subtitle:rp,press_to_call:ip,room_and_stay:op,room_services:lp,bookings_and_facilities:cp,tourism_and_exploration:dp,support_external_services:hp,order_ref:up,requested_at:mp,estimated_completion:xp,time_remaining:gp,mute:pp,unmute:fp,confirm:vp,need_conversation:jp,tap_to_speak:yp,order_summary:bp,send_to_reception:wp,add_note:Np,room_number:Cp,enter_room_number:Sp,enter_notes:kp,summary:_p,generated_at:Tp,order_confirmed:Ap,order_confirmed_message:Ep,order_reference:Dp,estimated_delivery_time:Ip,return_to_home:Rp,press_to_call_desc:Pp,confirm_request_desc:Mp,send_to_reception_desc:Lp,status_acknowledged:$p,status_in_progress:Fp,status_delivering:Op,status_completed:zp,status_note:Bp,icon_login:qp,icon_hourglass_empty:Hp,icon_info:Vp,icon_policy:Up,icon_wifi:Gp,icon_restaurant:Kp,icon_local_bar:Wp,icon_cleaning_services:Qp,icon_local_laundry_service:Zp,icon_alarm:Xp,icon_add_circle:Yp,icon_build:Jp,icon_event_seat:ef,icon_spa:tf,icon_fitness_center:sf,icon_pool:nf,icon_directions_car:af,icon_medical_services:rf,icon_support_agent:of,icon_location_on:lf,icon_local_dining:cf,icon_directions_bus:df,icon_event:hf,icon_shopping_bag:uf,icon_map:mf,icon_translate:xf,icon_rate_review:gf,icon_report_problem:pf,icon_luggage:ff,generating_your_summary:vf},yf="–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –æ—Ç–µ–ª—å Mi Nhon",bf="–ù–∞—á–∞—Ç—å",wf="–Ø–∑—ã–∫",Nf="–ê–Ω–≥–ª–∏–π—Å–∫–∏–π",Cf="–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π",Sf="–†—É—Å—Å–∫–∏–π",kf="–û—Ç–ø—Ä–∞–≤–∏—Ç—å",_f="–û—Ç–º–µ–Ω–∞",Tf="–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–ø—Ä–æ—Å",Af="–ù–æ–º–µ—Ä",Ef="ID –∑–∞–∫–∞–∑–∞",Df="–ò–º—è –≥–æ—Å—Ç—è",If="–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ",Rf="–í—Ä–µ–º—è",Pf="–°—Ç–∞—Ç—É—Å",Mf="–î–µ–π—Å—Ç–≤–∏–µ",Lf="–°–æ–æ–±—â–µ–Ω–∏–µ –≥–æ—Å—Ç—é",$f="–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞–º–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞",Ff="–í—Ö–æ–¥",Of="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",zf="–ü–∞—Ä–æ–ª—å",Bf="–û—Ç–µ–ª—å Mui Ne",qf="–ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –≤–∞—à–∏—Ö –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π",Hf="–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –∑–≤–æ–Ω–∫–∞",Vf="–ù–æ–º–µ—Ä –∏ –ø—Ä–æ–∂–∏–≤–∞–Ω–∏–µ",Uf="–£—Å–ª—É–≥–∏ –Ω–æ–º–µ—Ä–∞",Gf="–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É–¥–æ–±—Å—Ç–≤–∞",Kf="–¢—É—Ä–∏–∑–º –∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ",Wf="–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–Ω–µ—à–Ω–∏—Ö —É—Å–ª—É–≥",Qf="–°—Å—ã–ª–∫–∞ –Ω–∞ –∑–∞–∫–∞–∑",Zf="–ó–∞–ø—Ä–æ—à–µ–Ω–æ –≤",Xf="–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ",Yf="–û—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è",Jf="–ë–µ–∑ –∑–≤—É–∫–∞",e0="–í–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫",t0="–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å",s0="–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–Ω–∞—á–∞–ª–∞ –ø–æ–≥–æ–≤–æ—Ä–∏—Ç–µ —Å –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º.",n0="–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –≥–æ–≤–æ—Ä–∏—Ç—å",a0="–°–≤–æ–¥–∫–∞ –∑–∞–∫–∞–∑–∞",r0="–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ —Ä–µ—Å–µ–ø—à–µ–Ω",i0="–î–æ–±–∞–≤–∏—Ç—å –∑–∞–º–µ—Ç–∫—É",o0="–ù–æ–º–µ—Ä –∫–æ–º–Ω–∞—Ç—ã",l0="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –∫–æ–º–Ω–∞—Ç—ã",c0="–í–≤–µ–¥–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏",d0="–°–≤–æ–¥–∫–∞",h0="–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ –≤",u0="–ó–∞–∫–∞–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω!",m0="–í–∞—à –∑–∞–ø—Ä–æ—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω –∏ –ø–µ—Ä–µ–¥–∞–Ω –Ω–∞—à–µ–º—É –ø–µ—Ä—Å–æ–Ω–∞–ª—É. –û–Ω–∏ –æ–±—Ä–∞–±–æ—Ç–∞—é—Ç –µ–≥–æ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ.",x0="–°—Å—ã–ª–∫–∞ –Ω–∞ –∑–∞–∫–∞–∑",g0="–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º–æ–µ –≤—Ä–µ–º—è –¥–æ—Å—Ç–∞–≤–∫–∏:",p0="–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é",f0="–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –≤—ã–∑–æ–≤–∞, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –≤–∞—à –∑–∞–ø—Ä–æ—Å.",v0="–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –≤–∞—à –∑–∞–ø—Ä–æ—Å –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏.",j0="–í–∞—à –∑–∞–ø—Ä–æ—Å –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ —Ä–µ—Å–µ–ø—à–µ–Ω –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏.",y0="–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ",b0="–í –ø—Ä–æ—Ü–µ—Å—Å–µ",w0="–î–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è",N0="–ó–∞–≤–µ—Ä—à–µ–Ω–æ",C0="–û—Å–æ–±–∞—è –∑–∞–º–µ—Ç–∫–∞",S0="–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/–í—ã—Å–µ–ª–µ–Ω–∏–µ",k0="–ó–∞–ø—Ä–æ—Å –Ω–∞ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ –ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è",_0="–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –Ω–æ–º–µ—Ä–µ",T0="–ü—Ä–∞–≤–∏–ª–∞ –æ—Ç–µ–ª—è",A0="Wi-Fi —É—Å–ª—É–≥–∏",E0="–†–µ—Å—Ç–æ—Ä–∞–Ω–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –Ω–æ–º–µ—Ä–æ–≤",D0="–ù–∞–ø–∏—Ç–∫–∏ –∏ –±–∞—Ä",I0="–£–±–æ—Ä–∫–∞ –Ω–æ–º–µ—Ä–∞",R0="–£—Å–ª—É–≥–∏ –ø—Ä–∞—á–µ—á–Ω–æ–π",P0="–£—Å–ª—É–≥–∞ –±—É–¥–∏–ª—å–Ω–∏–∫–∞",M0="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–¥–æ–±—Å—Ç–≤–∞",L0="–ó–∞–ø—Ä–æ—Å –Ω–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ",$0="–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞",F0="–°–ü–ê —É—Å–ª—É–≥–∏",O0="–§–∏—Ç–Ω–µ—Å-—Ü–µ–Ω—Ç—Ä",z0="–ë–∞—Å—Å–µ–π–Ω",B0="–ê—Ä–µ–Ω–¥–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª—è",q0="–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –ø–æ–º–æ—â—å",H0="–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤",V0="–ú–µ—Å—Ç–Ω—ã–µ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏",U0="–ú–µ—Å—Ç–Ω—ã–µ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã",G0="–û–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç",K0="–ú–µ—Å—Ç–Ω—ã–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è",W0="–¢–æ—Ä–≥–æ–≤—ã–µ –∑–æ–Ω—ã",Q0="–ö–∞—Ä—Ç—ã –º–µ—Å—Ç–Ω–æ—Å—Ç–∏",Z0="–£—Å–ª—É–≥–∏ –ø–µ—Ä–µ–≤–æ–¥–∞",X0="–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤",Y0="–°–æ–æ–±—â–∏—Ç—å –æ –ø—Ä–æ–±–ª–µ–º–µ",J0="–£—Å–ª—É–≥–∏ –±–∞–≥–∞–∂–∞",ev="–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –≤–∞—à –∏—Ç–æ–≥...",tv={welcome:yf,start:bf,language:wf,english:Nf,french:Cf,russian:Sf,send:kf,cancel:_f,confirm_request:Tf,room:Af,order_id:Ef,guest_name:Df,content:If,time:Rf,status:Pf,action:Mf,message_guest:Lf,request_management:$f,login:Ff,username:Of,password:zf,hotel_name:Bf,hotel_subtitle:qf,press_to_call:Hf,room_and_stay:Vf,room_services:Uf,bookings_and_facilities:Gf,tourism_and_exploration:Kf,support_external_services:Wf,order_ref:Qf,requested_at:Zf,estimated_completion:Xf,time_remaining:Yf,mute:Jf,unmute:e0,confirm:t0,need_conversation:s0,tap_to_speak:n0,order_summary:a0,send_to_reception:r0,add_note:i0,room_number:o0,enter_room_number:l0,enter_notes:c0,summary:d0,generated_at:h0,order_confirmed:u0,order_confirmed_message:m0,order_reference:x0,estimated_delivery_time:g0,return_to_home:p0,press_to_call_desc:f0,confirm_request_desc:v0,send_to_reception_desc:j0,status_acknowledged:y0,status_in_progress:b0,status_delivering:w0,status_completed:N0,status_note:C0,icon_login:S0,icon_hourglass_empty:k0,icon_info:_0,icon_policy:T0,icon_wifi:A0,icon_restaurant:E0,icon_local_bar:D0,icon_cleaning_services:I0,icon_local_laundry_service:R0,icon_alarm:P0,icon_add_circle:M0,icon_build:L0,icon_event_seat:$0,icon_spa:F0,icon_fitness_center:O0,icon_pool:z0,icon_directions_car:B0,icon_medical_services:q0,icon_support_agent:H0,icon_location_on:V0,icon_local_dining:U0,icon_directions_bus:G0,icon_event:K0,icon_shopping_bag:W0,icon_map:Q0,icon_translate:Z0,icon_rate_review:X0,icon_report_problem:Y0,icon_luggage:J0,generating_your_summary:ev},sv="ÎØ∏ÎÖÑ Ìò∏ÌÖîÏóê Ïò§Ïã† Í≤ÉÏùÑ ÌôòÏòÅÌï©ÎãàÎã§",nv="ÏãúÏûë",av="Ïñ∏Ïñ¥",rv="ÏòÅÏñ¥",iv="ÌîÑÎûëÏä§Ïñ¥",ov="Îü¨ÏãúÏïÑÏñ¥",lv="ÌïúÍµ≠Ïñ¥",cv="Î≥¥ÎÇ¥Í∏∞",dv="Ï∑®ÏÜå",hv="ÏöîÏ≤≠ ÌôïÏù∏",uv="Í∞ùÏã§",mv="Ï£ºÎ¨∏ ID",xv="Ìà¨ÏàôÍ∞ù Ïù¥Î¶Ñ",gv="ÎÇ¥Ïö©",pv="ÏãúÍ∞Ñ",fv="ÏÉÅÌÉú",vv="ÎèôÏûë",jv="Í≤åÏä§Ìä∏ÏóêÍ≤å Î©îÏãúÏßÄ Î≥¥ÎÇ¥Í∏∞",yv="ÏßÅÏõê ÏöîÏ≤≠ Í¥ÄÎ¶¨",bv="Î°úÍ∑∏Ïù∏",wv="ÏÇ¨Ïö©Ïûê Ïù¥Î¶Ñ",Nv="ÎπÑÎ∞ÄÎ≤àÌò∏",Cv="Î¨¥Ïù¥ÎÑ§ Ìò∏ÌÖî",Sv="AI Ïñ¥ÏãúÏä§ÌÑ¥Ìä∏ - Î™®Îì† ÌïÑÏöîÎ•º ÏßÄÏõêÌï©ÎãàÎã§",kv="Ìò∏Ï∂úÌïòÎ†§Î©¥ ÎàÑÎ•¥ÏÑ∏Ïöî",_v="Í∞ùÏã§ Î∞è ÏàôÎ∞ï",Tv="Í∞ùÏã§ ÏÑúÎπÑÏä§",Av="ÏòàÏïΩ Î∞è ÏãúÏÑ§",Ev="Í¥ÄÍ¥ë Î∞è ÌÉêÌóò",Dv="Ïô∏Î∂Ä ÏÑúÎπÑÏä§ ÏßÄÏõê",Iv="Ï£ºÎ¨∏ Ï∞∏Ï°∞",Rv="ÏöîÏ≤≠ ÏãúÍ∞Ñ",Pv="ÏòàÏÉÅ ÏôÑÎ£å ÏãúÍ∞Ñ",Mv="ÎÇ®ÏùÄ ÏãúÍ∞Ñ",Lv="ÏùåÏÜåÍ±∞",$v="ÏùåÏÜåÍ±∞ Ìï¥Ï†ú",Fv="ÌôïÏù∏",Ov="Î®ºÏ†Ä Ïñ¥ÏãúÏä§ÌÑ¥Ìä∏ÏôÄ ÎåÄÌôîÌï¥ Ï£ºÏÑ∏Ïöî.",zv="ÎßêÌïòÎ†§Î©¥ ÎàÑÎ•¥ÏÑ∏Ïöî",Bv="Ï£ºÎ¨∏ ÏöîÏïΩ",qv="ÌîÑÎü∞Ìä∏Î°ú Î≥¥ÎÇ¥Í∏∞",Hv="Î©îÎ™® Ï∂îÍ∞Ä",Vv="Í∞ùÏã§ Î≤àÌò∏",Uv="Í∞ùÏã§ Î≤àÌò∏Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî",Gv="Ï∂îÍ∞Ä Î©îÎ™®Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî",Kv="ÏöîÏïΩ",Wv="ÏÉùÏÑ± ÏãúÍ∞Ñ",Qv="Ï£ºÎ¨∏Ïù¥ ÌôïÏù∏ÎêòÏóàÏäµÎãàÎã§!",Zv="Í∑ÄÌïòÏùò ÏöîÏ≤≠Ïù¥ ÌôïÏù∏ÎêòÏñ¥ ÏßÅÏõêÏóêÍ≤å Ï†ÑÎã¨ÎêòÏóàÏäµÎãàÎã§. Ï¶âÏãú Ï≤òÎ¶¨ÌïòÍ≤†ÏäµÎãàÎã§.",Xv="Ï£ºÎ¨∏ Ï∞∏Ï°∞",Yv="ÏòàÏÉÅ Î∞∞Îã¨ ÏãúÍ∞Ñ:",Jv="ÌôàÏúºÎ°ú ÎèåÏïÑÍ∞ÄÍ∏∞",ej="ÏöîÏ≤≠ÏùÑ ÏãúÏûëÌïòÎ†§Î©¥ Ìò∏Ï∂ú Î≤ÑÌäºÏùÑ ÎàÑÎ•¥ÏÑ∏Ïöî.",tj="Ï†ïÌôïÏÑ±ÏùÑ ÏúÑÌï¥ ÏöîÏ≤≠ÏùÑ ÌôïÏù∏ÌïòÏÑ∏Ïöî.",sj="Í∑ÄÌïòÏùò ÏöîÏ≤≠Ïù¥ ÌîÑÎü∞Ìä∏Î°ú Ï†ÑÏÜ°ÎêòÏñ¥ Ï≤òÎ¶¨Îê©ÎãàÎã§.",nj="Ï†ëÏàòÎê®",aj="Ï≤òÎ¶¨ Ï§ë",rj="Î∞∞Îã¨ Ï§ë",ij="ÏôÑÎ£åÎê®",oj="ÌäπÎ≥Ñ ÏïàÎÇ¥",lj="Ï≤¥ÌÅ¨Ïù∏/Ï≤¥ÌÅ¨ÏïÑÏõÉ",cj="ÏàôÎ∞ï Ïó∞Ïû• ÏöîÏ≤≠",dj="Í∞ùÏã§ Ï†ïÎ≥¥",hj="Ìò∏ÌÖî Ï†ïÏ±Ö",uj="ÏôÄÏù¥ÌååÏù¥ ÏÑúÎπÑÏä§",mj="Î£∏ÏÑúÎπÑÏä§ ÏùåÏãù",xj="ÏùåÎ£å Î∞è Î∞î ÏÑúÎπÑÏä§",gj="Í∞ùÏã§ Ï≤≠ÏÜå",pj="ÏÑ∏ÌÉÅ ÏÑúÎπÑÏä§",fj="Î™®ÎãùÏΩú ÏÑúÎπÑÏä§",vj="Ï∂îÍ∞Ä Ìé∏Ïùò ÏãúÏÑ§",jj="Ïú†ÏßÄÎ≥¥Ïàò ÏöîÏ≤≠",yj="Î†àÏä§ÌÜ†Îûë ÏòàÏïΩ",bj="Ïä§Ìåå ÏÑúÎπÑÏä§",wj="ÌîºÌä∏ÎãàÏä§ ÏÑºÌÑ∞",Nj="ÏàòÏòÅÏû•",Cj="Î†åÌÑ∞Ïπ¥",Sj="ÏùòÎ£å ÏßÄÏõê",kj="Í≥†Í∞ù ÏßÄÏõê",_j="ÏßÄÏó≠ Î™ÖÏÜå",Tj="ÏßÄÏó≠ Î†àÏä§ÌÜ†Îûë",Aj="ÎåÄÏ§ëÍµêÌÜµ",Ej="ÏßÄÏó≠ Ïù¥Î≤§Ìä∏",Dj="ÏáºÌïë ÏßÄÏó≠",Ij="ÏßÄÏó≠ ÏßÄÎèÑ",Rj="Î≤àÏó≠ ÏÑúÎπÑÏä§",Pj="Î¶¨Î∑∞ ÎÇ®Í∏∞Í∏∞",Mj="Î¨∏Ï†ú Ïã†Í≥†",Lj="ÏàòÌôîÎ¨º ÏÑúÎπÑÏä§",$j="ÏöîÏïΩÏùÑ ÏÉùÏÑ±ÌïòÎäî Ï§ë...",Fj={welcome:sv,start:nv,language:av,english:rv,french:iv,russian:ov,korean:lv,send:cv,cancel:dv,confirm_request:hv,room:uv,order_id:mv,guest_name:xv,content:gv,time:pv,status:fv,action:vv,message_guest:jv,request_management:yv,login:bv,username:wv,password:Nv,hotel_name:Cv,hotel_subtitle:Sv,press_to_call:kv,room_and_stay:_v,room_services:Tv,bookings_and_facilities:Av,tourism_and_exploration:Ev,support_external_services:Dv,order_ref:Iv,requested_at:Rv,estimated_completion:Pv,time_remaining:Mv,mute:Lv,unmute:$v,confirm:Fv,need_conversation:Ov,tap_to_speak:zv,order_summary:Bv,send_to_reception:qv,add_note:Hv,room_number:Vv,enter_room_number:Uv,enter_notes:Gv,summary:Kv,generated_at:Wv,order_confirmed:Qv,order_confirmed_message:Zv,order_reference:Xv,estimated_delivery_time:Yv,return_to_home:Jv,press_to_call_desc:ej,confirm_request_desc:tj,send_to_reception_desc:sj,status_acknowledged:nj,status_in_progress:aj,status_delivering:rj,status_completed:ij,status_note:oj,icon_login:lj,icon_hourglass_empty:cj,icon_info:dj,icon_policy:hj,icon_wifi:uj,icon_restaurant:mj,icon_local_bar:xj,icon_cleaning_services:gj,icon_local_laundry_service:pj,icon_alarm:fj,icon_add_circle:vj,icon_build:jj,icon_event_seat:yj,icon_spa:bj,icon_fitness_center:wj,icon_pool:Nj,icon_directions_car:Cj,icon_medical_services:Sj,icon_support_agent:kj,icon_location_on:_j,icon_local_dining:Tj,icon_directions_bus:Aj,icon_event:Ej,icon_shopping_bag:Dj,icon_map:Ij,icon_translate:Rj,icon_rate_review:Pj,icon_report_problem:Mj,icon_luggage:Lj,generating_your_summary:$j},Oj="Kh√°ch s·∫°n Mui Ne",zj="Tr·ª£ l√Ω gi·ªçng n√≥i AI - H·ªó tr·ª£ m·ªçi nhu c·∫ßu c·ªßa b·∫°n",Bj="Nh·∫•n ƒë·ªÉ n√≥i",qj="Ph√≤ng & L∆∞u tr√∫",Hj="D·ªãch v·ª• ph√≤ng",Vj="ƒê·∫∑t ch·ªó & Ti·ªán √≠ch",Uj="Du l·ªãch & Kh√°m ph√°",Gj="H·ªó tr·ª£ ƒë·∫∑t d·ªãch v·ª• b√™n ngo√†i",Kj="M√£ ƒë∆°n",Wj="Th·ªùi gian y√™u c·∫ßu",Qj="D·ª± ki·∫øn ho√†n th√†nh",Zj="Th·ªùi gian c√≤n l·∫°i",Xj="T·∫Øt mic",Yj="B·∫≠t mic",Jj="X√°c nh·∫≠n",ey="Vui l√≤ng n√≥i chuy·ªán v·ªõi tr·ª£ l√Ω tr∆∞·ªõc.",ty="Ch·∫°m ƒë·ªÉ n√≥i",sy="T√≥m t·∫Øt ƒë∆°n h√†ng",ny="X√°c nh·∫≠n",ay="Th√™m ghi ch√∫",ry="S·ªë ph√≤ng",iy="Nh·∫≠p s·ªë ph√≤ng",oy="Nh·∫≠p ghi ch√∫ b·ªï sung",ly="T√≥m t·∫Øt",cy="T·∫°o l√∫c",dy="ƒê√£ x√°c nh·∫≠n ƒë∆°n!",hy="Y√™u c·∫ßu c·ªßa b·∫°n ƒë√£ ƒë∆∞·ª£c x√°c nh·∫≠n v√† chuy·ªÉn ƒë·∫øn nh√¢n vi√™n. Ch√∫ng t√¥i s·∫Ω x·ª≠ l√Ω ngay l·∫≠p t·ª©c.",uy="M√£ tham chi·∫øu",my="Th·ªùi gian giao d·ª± ki·∫øn:",xy="V·ªÅ trang ch·ªß",gy="Ng√¥n ng·ªØ",py="Ti·∫øng Anh",fy="Ti·∫øng Ph√°p",vy="G·ª≠i",jy="H·ªßy",yy="K·∫øt th√∫c cu·ªôc g·ªçi",by="Ph√≤ng",wy="M√£ ƒë∆°n",Ny="T√™n kh√°ch",Cy="N·ªôi dung",Sy="Th·ªùi gian",ky="Tr·∫°ng th√°i",_y="H√†nh ƒë·ªông",Ty="Nh·∫Øn kh√°ch",Ay="Qu·∫£n l√Ω y√™u c·∫ßu nh√¢n vi√™n",Ey="ƒêƒÉng nh·∫≠p",Dy="T√™n ƒëƒÉng nh·∫≠p",Iy="M·∫≠t kh·∫©u",Ry="Nh·∫•n n√∫t g·ªçi ƒë·ªÉ b·∫Øt ƒë·∫ßu y√™u c·∫ßu c·ªßa b·∫°n.",Py="Xem l·∫°i v√† x√°c nh·∫≠n y√™u c·∫ßu c·ªßa b·∫°n.",My="Y√™u c·∫ßu c·ªßa b·∫°n s·∫Ω ƒë∆∞·ª£c g·ª≠i ƒë·∫øn l·ªÖ t√¢n ƒë·ªÉ x·ª≠ l√Ω.",Ly="ƒê√£ ghi nh·∫≠n",$y="ƒêang x·ª≠ l√Ω",Fy="ƒêang giao cho b·∫°n",Oy="ƒê√£ ho√†n th√†nh",zy="L∆∞u √Ω ƒë·∫∑c bi·ªát",By="Nh·∫≠n/Tr·∫£ ph√≤ng",qy="Y√™u c·∫ßu gia h·∫°n l∆∞u tr√∫",Hy="Th√¥ng tin ph√≤ng",Vy="Ch√≠nh s√°ch kh√°ch s·∫°n",Uy="D·ªãch v·ª• Wi-Fi",Gy="ƒê·ªì ƒÉn t·∫°i ph√≤ng",Ky="D·ªãch v·ª• ƒë·ªì u·ªëng & qu·∫ßy bar",Wy="D·ªçn ph√≤ng",Qy="Gi·∫∑t l√†",Zy="B√°o th·ª©c",Xy="Ti·ªán √≠ch b·ªï sung",Yy="Y√™u c·∫ßu b·∫£o tr√¨",Jy="ƒê·∫∑t ch·ªó nh√† h√†ng",eb="D·ªãch v·ª• Spa",tb="Trung t√¢m th·ªÉ h√¨nh",sb="H·ªì b∆°i",nb="Thu√™ xe",ab="H·ªó tr·ª£ y t·∫ø",rb="ChƒÉm s√≥c kh√°ch h√†ng",ib="ƒêi·ªÉm tham quan",ob="Nh√† h√†ng ƒë·ªãa ph∆∞∆°ng",lb="Ph∆∞∆°ng ti·ªán c√¥ng c·ªông",cb="S·ª± ki·ªán ƒë·ªãa ph∆∞∆°ng",db="Khu mua s·∫Øm",hb="B·∫£n ƒë·ªì khu v·ª±c",ub="D·ªãch v·ª• phi√™n d·ªãch",mb="ƒê√°nh gi√°",xb="B√°o s·ª± c·ªë",gb="D·ªãch v·ª• h√†nh l√Ω",pb="ƒêang t·∫°o t√≥m t·∫Øt c·ªßa b·∫°n...",fb="N√≥i Nhi·ªÅu Ng√¥n Ng·ªØ v·ªõi Tr·ª£ L√Ω AI c·ªßa Ch√∫ng T√¥i",vb={hotel_name:Oj,hotel_subtitle:zj,press_to_call:Bj,room_and_stay:qj,room_services:Hj,bookings_and_facilities:Vj,tourism_and_exploration:Uj,support_external_services:Gj,order_ref:Kj,requested_at:Wj,estimated_completion:Qj,time_remaining:Zj,mute:Xj,unmute:Yj,confirm:Jj,need_conversation:ey,tap_to_speak:ty,order_summary:sy,send_to_reception:ny,add_note:ay,room_number:ry,enter_room_number:iy,enter_notes:oy,summary:ly,generated_at:cy,order_confirmed:dy,order_confirmed_message:hy,order_reference:uy,estimated_delivery_time:my,return_to_home:xy,language:gy,english:py,french:fy,send:vy,cancel:jy,confirm_request:yy,room:by,order_id:wy,guest_name:Ny,content:Cy,time:Sy,status:ky,action:_y,message_guest:Ty,request_management:Ay,login:Ey,username:Dy,password:Iy,press_to_call_desc:Ry,confirm_request_desc:Py,send_to_reception_desc:My,status_acknowledged:Ly,status_in_progress:$y,status_delivering:Fy,status_completed:Oy,status_note:zy,icon_login:By,icon_hourglass_empty:qy,icon_info:Hy,icon_policy:Vy,icon_wifi:Uy,icon_restaurant:Gy,icon_local_bar:Ky,icon_cleaning_services:Wy,icon_local_laundry_service:Qy,icon_alarm:Zy,icon_add_circle:Xy,icon_build:Yy,icon_event_seat:Jy,icon_spa:eb,icon_fitness_center:tb,icon_pool:sb,icon_directions_car:nb,icon_medical_services:ab,icon_support_agent:rb,icon_location_on:ib,icon_local_dining:ob,icon_directions_bus:lb,icon_event:cb,icon_shopping_bag:db,icon_map:hb,icon_translate:ub,icon_rate_review:mb,icon_report_problem:xb,icon_luggage:gb,generating_your_summary:pb,speak_multiple_languages:fb},jb={en:tx,fr:$g,zh:jf,ru:tv,ko:Fj,vi:vb};function $n(t,s="en"){return jb[s][t]||t}const yb=()=>e.jsxs("div",{style:{padding:"16px",minHeight:"200px"},children:[e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx("h3",{style:{color:"#1F2937",marginBottom:"8px",fontSize:"18px"},children:"üé§ Realtime Conversation"}),e.jsx("p",{style:{color:"#6B7280",fontSize:"14px",lineHeight:"1.5"},children:"This is the new iOS-style popup system! Voice conversation content will appear here when a call is active."})]}),e.jsxs("div",{style:{background:"#F3F4F6",borderRadius:"8px",padding:"12px",marginBottom:"12px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[e.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"#3B82F6",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"12px",fontWeight:"bold"},children:"U"}),e.jsx("span",{style:{fontSize:"14px",color:"#374151"},children:"Guest"})]}),e.jsx("p",{style:{margin:0,fontSize:"14px",color:"#111827"},children:'"Hi, I need room service please"'})]}),e.jsxs("div",{style:{background:"#ECFDF5",borderRadius:"8px",padding:"12px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[e.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"#10B981",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"12px",fontWeight:"bold"},children:"A"}),e.jsx("span",{style:{fontSize:"14px",color:"#374151"},children:"Assistant"})]}),e.jsx("p",{style:{margin:0,fontSize:"14px",color:"#111827"},children:`"Of course! I'd be happy to help you with room service. What would you like to order?"`})]})]}),bb=()=>e.jsxs("div",{style:{padding:"16px"},children:[e.jsxs("div",{style:{marginBottom:"12px"},children:[e.jsx("h4",{style:{color:"#1F2937",marginBottom:"8px",fontSize:"16px"},children:"üèä‚Äç‚ôÇÔ∏è Pool Maintenance Notice"}),e.jsx("p",{style:{color:"#6B7280",fontSize:"14px",lineHeight:"1.5",margin:0},children:"The hotel pool will be temporarily closed for routine maintenance from 2:00 PM to 4:00 PM today."})]}),e.jsx("div",{style:{background:"#FEF3C7",border:"1px solid #F59E0B",borderRadius:"6px",padding:"8px 12px"},children:e.jsx("p",{style:{margin:0,fontSize:"13px",color:"#92400E",fontWeight:"500"},children:"‚ö†Ô∏è We apologize for any inconvenience caused."})})]}),wb=()=>e.jsxs("div",{style:{padding:"16px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[e.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"#EF4444",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"16px"},children:"‚ö†Ô∏è"}),e.jsxs("div",{children:[e.jsx("h4",{style:{color:"#1F2937",margin:0,fontSize:"16px"},children:"System Alert"}),e.jsx("p",{style:{color:"#6B7280",margin:0,fontSize:"13px"},children:"High Priority"})]})]}),e.jsx("p",{style:{color:"#374151",fontSize:"14px",lineHeight:"1.5",marginBottom:"12px"},children:"Connection to voice service temporarily unstable. Please try again in a few moments."}),e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[e.jsx("button",{style:{background:"#EF4444",color:"white",border:"none",borderRadius:"6px",padding:"8px 16px",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:"Retry"}),e.jsx("button",{style:{background:"#F3F4F6",color:"#374151",border:"none",borderRadius:"6px",padding:"8px 16px",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:"Dismiss"})]})]}),fa=()=>{const{callSummary:t,serviceRequests:s,language:n,callDetails:a}=Tt(),i=(()=>{if(t&&t.content){const c=Fh(t.content),o=Hh(t.content);return{source:"Vapi.ai",roomNumber:c||"Unknown",content:t.content,items:o.items||[],timestamp:t.timestamp,hasData:!0}}return s&&s.length>0?{source:"OpenAI Enhanced",roomNumber:s[0]?.details?.roomNumber||"Unknown",content:s.map(o=>`${o.serviceType}: ${o.requestText}`).join(`
`),items:s.map(o=>({name:o.serviceType,description:o.requestText,quantity:1,price:10})),timestamp:new Date,hasData:!0}:{source:"No data",roomNumber:a?.roomNumber||"Unknown",content:"Call summary not available yet",items:[],timestamp:new Date,hasData:!1}})();return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"font-medium text-green-700",children:["üìã ",$n("summary",n)]}),e.jsx("span",{className:"text-gray-500 text-[10px]",children:i.source})]}),i.hasData?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Room:"}),e.jsx("span",{className:"ml-1 font-semibold text-blue-800",children:i.roomNumber})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Items:"}),e.jsx("span",{className:"ml-1 font-semibold text-green-700",children:i.items.length})]})]}),i.items.length>0&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-[11px] font-medium text-gray-600",children:"Requests:"}),e.jsxs("div",{className:"space-y-1 max-h-16 overflow-y-auto",children:[i.items.slice(0,3).map((c,o)=>e.jsxs("div",{className:"flex items-center gap-2 text-[10px]",children:[e.jsx("span",{className:"w-1 h-1 bg-green-500 rounded-full flex-shrink-0"}),e.jsx("span",{className:"text-gray-700 truncate",children:c.name})]},o)),i.items.length>3&&e.jsxs("div",{className:"text-[10px] text-gray-500 italic",children:["+",i.items.length-3," more items..."]})]})]}),e.jsx("div",{className:"text-[10px] text-gray-400 text-right",children:i.timestamp.toLocaleTimeString()})]}):e.jsxs("div",{className:"text-center py-2 text-gray-500",children:[e.jsx("div",{className:"text-xs",children:"‚è≥ Processing call summary..."}),e.jsx("div",{className:"text-[10px] mt-1",children:"Please wait a moment"})]})]})},hr=Object.freeze(Object.defineProperty({__proto__:null,AlertDemoContent:wb,ConversationDemoContent:yb,NotificationDemoContent:bb,SummaryPopupContent:fa},Symbol.toStringTag,{value:"Module"})),Nb=({position:t="bottom",maxVisible:s=4,autoCloseDelay:n,isMobile:a=!1})=>{const{popups:r,activePopup:i,setActivePopup:c,removePopup:o}=nn();l.useEffect(()=>{if(!n)return;const u=[];return r.forEach(m=>{if(m.priority==="low"){const p=setTimeout(()=>{o(m.id)},n);u.push(p)}}),()=>{u.forEach(m=>clearTimeout(m))}},[r,n,o]);const h=u=>{c(i===u?null:u)},d=u=>{if(o(u),i===u&&r.length>1){const m=r.filter(p=>p.id!==u);m.length>0&&c(m[0].id)}},x=r.filter(u=>u.type!=="summary");return e.jsxs(e.Fragment,{children:[x.length>0&&e.jsx(Eh,{popups:x,activePopup:i,maxVisible:s,onPopupSelect:h,onPopupDismiss:d,position:t}),e.jsx("style",{children:`
        @keyframes modalSlideIn {
          from {
            transform: scale(0.95) translateY(20px);
            opacity: 0;
          }
          to {
            transform: scale(1) translateY(0);
            opacity: 1;
          }
        }
      `})]})},va=()=>{const{addPopup:t,removePopup:s,setActivePopup:n}=nn();return{showConversation:(d,x)=>t({type:"conversation",title:x?.title||"Realtime Conversation",content:d,priority:x?.priority||"high",isActive:!0,badge:x?.badge}),showStaffMessage:(d,x)=>t({type:"staff",title:x?.title||"Staff Message",content:d,priority:x?.priority||"medium",isActive:!1,badge:x?.badge}),showNotification:(d,x)=>t({type:"notification",title:x?.title||"Hotel Notification",content:d,priority:x?.priority||"low",isActive:!1,badge:x?.badge}),showAlert:(d,x)=>t({type:"alert",title:x?.title||"System Alert",content:d,priority:x?.priority||"high",isActive:!0,badge:x?.badge}),showOrderUpdate:(d,x)=>t({type:"order",title:x?.title||"Order Update",content:d,priority:x?.priority||"medium",isActive:!1,badge:x?.badge}),showSummary:(d,x)=>t({type:"summary",title:x?.title||"Call Summary",content:d||e.jsx(fa,{}),priority:x?.priority||"high",isActive:!1}),removePopup:s,setActivePopup:n}},Fe={colors:{primary:"#1B4E8B",secondary:"#3B82F6",error:"#EF4444"},fonts:{primary:"'Inter', 'Poppins', 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif"},spacing:{xl:"40px"},shadows:{card:"0 4px 16px rgba(0, 0, 0, 0.15)"},transitions:{normal:"0.3s ease-in-out"}},ps={SCROLL_THRESHOLD:300,THROTTLE_DELAY:100,AUTO_SCROLL_DELAY:300,COLORS:{BACKGROUND:"#2C3E50"},SCROLL_OFFSETS:{NEGATIVE_TOP_THRESHOLD:-100}},po=({children:t,className:s=""})=>e.jsx("div",{className:`relative min-h-screen w-full scroll-smooth overflow-y-auto ${s}`,style:{fontFamily:Fe.fonts.primary,backgroundColor:ps.COLORS.BACKGROUND},children:e.jsx("div",{className:"container mx-auto px-4 py-8 relative z-10",children:e.jsx("div",{className:"flex flex-col items-center justify-center space-y-8 md:space-y-12",children:t})})}),fo=()=>e.jsx("div",{className:"w-full flex justify-center items-center py-8",children:e.jsx("h1",{className:"hidden sm:block text-3xl md:text-4xl font-bold text-white text-center",style:{position:"absolute",left:"50%",transform:"translateX(-50%)",zIndex:10},children:"Speak in Multiple Languages"})}),Cb=({error:t,onRetry:s})=>{const n=()=>{try{localStorage.removeItem("conversationState"),sessionStorage.removeItem("interface1State"),window.scrollTo({top:0,behavior:"smooth"}),s?s():window.location.reload()}catch(a){console.error("Failed to reset Interface1:",a),window.location.reload()}};return e.jsx(po,{children:e.jsxs("div",{className:"relative",children:[e.jsx(fo,{}),e.jsx("div",{className:"relative min-h-[400px] px-4 flex items-center justify-center",children:e.jsxs("div",{className:"max-w-md text-center bg-white/10 backdrop-blur-md rounded-2xl p-8 border border-white/20",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ü§ñ"}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Tr·ª£ l√Ω t·∫°m th·ªùi g·∫∑p s·ª± c·ªë"}),e.jsx("p",{className:"text-white/80 mb-6",children:"ƒê·ª´ng lo l·∫Øng! Ch√∫ng t√¥i s·∫Ω kh√¥i ph·ª•c tr·ª£ l√Ω v·ªÅ tr·∫°ng th√°i ban ƒë·∫ßu."}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:n,className:"w-full px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-full font-semibold transition-all duration-200 active:scale-95",children:"üîÑ Kh√¥i ph·ª•c tr·ª£ l√Ω"}),e.jsx("button",{onClick:()=>window.location.href="/",className:"w-full px-6 py-3 bg-white/20 hover:bg-white/30 text-white rounded-full font-semibold transition-all duration-200 active:scale-95",children:"üè† V·ªÅ trang ch·ªß"})]}),t&&e.jsxs("details",{className:"mt-6 text-left",children:[e.jsx("summary",{className:"cursor-pointer text-sm text-white/60 hover:text-white/80",children:"Chi ti·∫øt k·ªπ thu·∫≠t"}),e.jsx("pre",{className:"mt-2 p-3 bg-black/20 rounded text-xs text-white/70 overflow-auto max-h-32",children:t.toString()})]})]})})]})})},Sb=({isActive:t})=>{const[s,n]=l.useState(!1),a=l.useRef(null),r=l.useRef(null),i=l.useRef(null),c=l.useRef(null),o=(x,u)=>{let m,p=0;return(...f)=>{const g=Date.now();g-p>u?(x(...f),p=g):(clearTimeout(m),m=setTimeout(()=>{x(...f),p=Date.now()},u-(g-p)))}};return l.useEffect(()=>{const u=o(()=>{const m=window.scrollY;n(m>ps.SCROLL_THRESHOLD);const p=a.current,f=r.current;if(p&&f){p.getBoundingClientRect();const g=f.getBoundingClientRect();g.top<window.innerHeight&&g.bottom>0&&(g.top<0||g.bottom>window.innerHeight)&&g.top<ps.SCROLL_OFFSETS.NEGATIVE_TOP_THRESHOLD&&f.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}},ps.THROTTLE_DELAY);return window.addEventListener("scroll",u),()=>window.removeEventListener("scroll",u)},[]),l.useEffect(()=>{t||window.scrollTo({top:0,behavior:"smooth"})},[t]),{showScrollButton:s,scrollToTop:()=>{window.scrollTo({top:0,behavior:"smooth"})},scrollToSection:x=>{const m={hero:a,services:r,conversation:i}[x];m.current&&m.current.scrollIntoView({behavior:"smooth",block:x==="hero"?"start":"center",inline:"nearest"})},heroSectionRef:a,serviceGridRef:r,conversationRef:i,rightPanelRef:c}},kb=({conversationRef:t})=>{const{startCall:s,endCall:n,callDuration:a,transcripts:r,setLanguage:i}=Tt(),[c,o]=l.useState(!1),[h,d]=l.useState(!1),[x,u]=l.useState(!1);l.useEffect(()=>{const g=a>0;console.log("üîÑ [useConversationState] Syncing call states:",{callDuration:a,isActive:g,isCallStarted:c,manualCallStarted:x,transcriptsCount:r.length}),g&&!c&&!x?(console.log("‚úÖ [useConversationState] Active call detected - syncing isCallStarted = true"),o(!0)):!g&&c&&!x?(console.log("‚ùå [useConversationState] Call ended - syncing isCallStarted = false"),o(!1)):x?console.log("‚è≥ [useConversationState] Manual call start in progress - keeping isCallStarted = true"):(console.log("‚ùå [useConversationState] No active call and no manual start - syncing isCallStarted = false"),o(!1))},[a,c,x]),l.useEffect(()=>{const g=a>0,y=g||r.length>0||x;console.log("üîÑ [useConversationState] Evaluating showConversation:",{isActive:g,transcriptsCount:r.length,manualCallStarted:x,currentShowConversation:h,shouldShowConversation:y}),h!==y?(console.log(`üîÑ [useConversationState] Updating showConversation: ${h} ‚Üí ${y}`),d(y)):console.log("‚úÖ [useConversationState] showConversation unchanged - no re-render")},[r.length,x,a]),l.useEffect(()=>{h&&t.current&&setTimeout(()=>{t.current?.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})},ps.AUTO_SCROLL_DELAY)},[h,t]);const m=l.useCallback(async g=>{console.log("üé§ [useConversationState] Starting call with language:",g),console.log("üé§ [useConversationState] Current state before call:",{isCallStarted:c,manualCallStarted:x,callDuration:a,transcriptsCount:r.length}),console.log("üîç [useConversationState] Environment check:",{isDevelopment:!1,forceVapiInDev:!1,hasVapiCredentials:!1,publicKey:"MISSING",assistantId:"MISSING",publicKey_VI:"MISSING",assistantId_VI:"MISSING"}),console.log("üîç [useConversationState] hasAnyVapiCredentials:",!1);try{return console.log("üìû [useConversationState] Calling startCall()..."),console.log("üìû [useConversationState] About to call startCall with all checks passed"),await s(),console.log("‚úÖ [useConversationState] startCall() successful, setting isCallStarted = true"),o(!0),u(!0),console.log("üéØ [useConversationState] Call start completed successfully"),{success:!0}}catch(j){return console.error("‚ùå [useConversationState] Error in startCall():",j),console.error("‚ùå [useConversationState] Error details:",{message:j instanceof Error?j.message:"Unknown error",stack:j instanceof Error?j.stack:void 0}),console.log("‚ö†Ô∏è [useConversationState] Call failed but keeping isCallStarted = true for debugging"),o(!0),u(!0),{success:!1,error:j instanceof Error?j.message:"Unknown error"}}},[s,c,x,a,r.length]),p=l.useCallback(()=>{console.log("üõë [useConversationState] Ending call"),console.log("üîç [useConversationState] Current isCallStarted state:",c),console.log("üìû [useConversationState] Step 1: Calling endCall() to stop VAPI...");try{n(),console.log("‚úÖ [useConversationState] endCall() completed - VAPI stopped")}catch(g){console.error("‚ùå [useConversationState] Error in endCall():",g)}console.log("üìû [useConversationState] Step 2: Updating UI state..."),o(!1),u(!1),console.log("‚úÖ [useConversationState] UI state updated"),console.log("üîç [useConversationState] Step 3: Checking development mode..."),console.log("üöÄ [PRODUCTION MODE] Real call end completed"),console.log("üìù [useConversationState] Staying in Interface1 - No interface switching")},[n,c]),f=l.useCallback(()=>{console.log("‚ùå [useConversationState] Canceling call - FULL RESET");try{o(!1),d(!1),u(!1);try{n(),console.log("‚úÖ [useConversationState] endCall() executed successfully")}catch(g){console.error("‚ö†Ô∏è [useConversationState] endCall() failed but continuing with cancel:",g)}console.log("‚úÖ [useConversationState] Cancel completed - all states reset"),console.log("üìä [useConversationState] Final state: isCallStarted=false, showConversation=false")}catch(g){console.error("‚ùå [useConversationState] Error in handleCancel:",g),o(!1),d(!1),u(!1),console.log("üîÑ [useConversationState] Forced state reset after error")}},[n]);return{isCallStarted:c,showConversation:h,handleCallStart:m,handleCallEnd:p,handleCancel:f}},_b=({conversationState:t,conversationPopupId:s,setConversationPopupId:n,setShowRightPanel:a,transcripts:r})=>{const{removePopup:i}=va();return{handleCancel:l.useCallback(()=>{console.log("‚ùå [useCancelHandler] Cancel button clicked - Returning to Interface1 initial state"),console.log("üìä [useCancelHandler] Current state:",{isCallStarted:t.isCallStarted,conversationPopupId:s,transcriptsCount:r.length});try{if(s)try{console.log("üóëÔ∏è [useCancelHandler] Removing conversation popup:",s),i(s),n(null),console.log("‚úÖ [useCancelHandler] Popup removed successfully")}catch(o){console.error("‚ö†Ô∏è [useCancelHandler] Failed to remove popup but continuing:",o),n(null)}try{t.handleCancel(),console.log("‚úÖ [useCancelHandler] conversationState.handleCancel() completed")}catch(o){console.error("‚ö†Ô∏è [useCancelHandler] conversationState.handleCancel() failed:",o)}try{a(!1),console.log("‚úÖ [useCancelHandler] Right panel closed")}catch(o){console.error("‚ö†Ô∏è [useCancelHandler] Failed to close right panel:",o)}try{window.scrollTo({top:0,behavior:"smooth"}),console.log("‚úÖ [useCancelHandler] Scrolled to top")}catch(o){console.error("‚ö†Ô∏è [useCancelHandler] Failed to scroll to top:",o)}console.log("‚úÖ [useCancelHandler] Cancel completed - Interface1 returned to initial state")}catch(o){console.error("‚ùå [useCancelHandler] Critical error in handleCancel:",o);try{s&&(i(s),n(null)),a(!1),window.scrollTo({top:0,behavior:"auto"}),console.log("üö® [useCancelHandler] Emergency cleanup completed")}catch(h){console.error("üö® [useCancelHandler] Emergency cleanup failed:",h)}console.log("üîÑ [useCancelHandler] Cancel operation completed despite errors - UI restored")}},[t,s,i,r.length,a,n])}},Tb=({endCall:t,transcripts:s,callSummary:n,serviceRequests:a})=>{const{showSummary:r}=va(),i=l.useRef(null),c=l.useRef(!1),o=l.useRef(!0),h=l.useCallback(()=>{console.log("‚úÖ [useConfirmHandler] Confirm button clicked in SiriButtonContainer"),console.log("üìä [useConfirmHandler] Current state:",{transcriptsCount:s.length,hasCallSummary:!!n,hasServiceRequests:a?.length>0});const x=async()=>{try{if(console.log("üìã [useConfirmHandler] Step 1: Showing immediate loading popup..."),!o.current){console.warn("‚ö†Ô∏è [useConfirmHandler] Component unmounted, aborting");return}try{const u=l.createElement("div",{id:"summary-loading-popup",style:{padding:"20px",textAlign:"center",maxWidth:"400px"}},[l.createElement("h3",{key:"title",style:{marginBottom:"16px",color:"#333",fontSize:"18px",fontWeight:"600"}},"üìã Call Summary"),l.createElement("div",{key:"loading",style:{marginBottom:"16px"}},[l.createElement("div",{key:"spinner",style:{display:"inline-block",width:"24px",height:"24px",border:"3px solid #f3f3f3",borderTop:"3px solid #3498db",borderRadius:"50%",animation:"spin 1s linear infinite",marginRight:"12px"}}),l.createElement("span",{key:"text",style:{fontSize:"16px",color:"#555",fontWeight:"500"}},"Processing call...")]),l.createElement("p",{key:"message",style:{fontSize:"14px",color:"#666",lineHeight:"1.5",marginBottom:"16px"}},"Please wait while we finalize your conversation."),l.createElement("div",{key:"time",style:{fontSize:"12px",color:"#999",marginTop:"12px"}},"Call ended at: "+new Date().toLocaleTimeString())]);if(!document.getElementById("spinner-animation"))try{const m=document.createElement("style");m.id="spinner-animation",m.textContent=`
                @keyframes spin {
                  0% { transform: rotate(0deg); }
                  100% { transform: rotate(360deg); }
                }
              `,document.head.appendChild(m)}catch(m){console.warn("‚ö†Ô∏è [useConfirmHandler] Failed to add spinner styles:",m)}console.log("üöÄ [useConfirmHandler] Step 1b: Calling showSummary..."),r(u,{title:"Processing Call...",priority:"high"}),console.log("‚úÖ [useConfirmHandler] Step 1c: Loading popup shown successfully")}catch(u){console.error("‚ùå [useConfirmHandler] Step 1 ERROR: Loading popup creation failed:",u)}if(console.log("‚è≥ [useConfirmHandler] Step 1.5: Brief delay before ending call..."),await new Promise(u=>setTimeout(u,300)),!o.current){console.warn("‚ö†Ô∏è [useConfirmHandler] Component unmounted during delay, aborting");return}console.log("üîÑ [useConfirmHandler] Step 2: Ending call immediately...");try{if(o.current){console.log("üìû [useConfirmHandler] Step 2a: Calling endCall() immediately..."),t(),console.log("‚úÖ [useConfirmHandler] Step 2a: Call ended successfully");try{const{getVapiInstance:u}=await Nt(async()=>{const{getVapiInstance:p}=await Promise.resolve().then(()=>Uh);return{getVapiInstance:p}},void 0),m=u();m?(console.log("üîß [useConfirmHandler] Step 2b: Force stopping Vapi instance as backup..."),m.stop(),console.log("‚úÖ [useConfirmHandler] Step 2b: Vapi instance force stopped")):console.log("‚ö†Ô∏è [useConfirmHandler] Step 2b: No Vapi instance found to force stop")}catch(u){console.warn("‚ö†Ô∏è [useConfirmHandler] Step 2b: Backup Vapi stop failed:",u)}}}catch(u){console.error("‚ö†Ô∏è [useConfirmHandler] endCall() failed:",u)}console.log("üîÑ [useConfirmHandler] Step 3: Showing completion message..."),setTimeout(()=>{if(o.current)try{const u=l.createElement("div",{style:{padding:"20px",textAlign:"center",maxWidth:"400px"}},[l.createElement("h3",{key:"title",style:{marginBottom:"16px",color:"#333",fontSize:"18px",fontWeight:"600"}},"üìã Call Complete"),l.createElement("div",{key:"icon",style:{fontSize:"48px",marginBottom:"16px"}},"‚úÖ"),l.createElement("p",{key:"message",style:{marginBottom:"16px",lineHeight:"1.5",color:"#333",fontSize:"16px"}},"Your call has been completed successfully!"),s.length>0&&l.createElement("div",{key:"transcript-info",style:{marginBottom:"16px",padding:"12px",backgroundColor:"#f0f9ff",borderRadius:"6px",fontSize:"14px"}},[l.createElement("div",{key:"transcript-title",style:{fontWeight:"600",marginBottom:"4px",color:"#1e40af"}},"Conversation Summary:"),l.createElement("div",{key:"transcript-count",style:{color:"#374151"}},`${s.length} messages recorded`)]),a?.length>0&&l.createElement("div",{key:"requests",style:{marginBottom:"16px",padding:"12px",backgroundColor:"#f0fdf4",borderRadius:"6px",fontSize:"14px"}},[l.createElement("div",{key:"req-title",style:{fontWeight:"600",marginBottom:"8px",color:"#15803d"}},"Service Requests:"),l.createElement("ul",{key:"req-list",style:{listStyle:"disc",marginLeft:"20px",color:"#374151"}},a.slice(0,3).map((m,p)=>l.createElement("li",{key:p,style:{marginBottom:"4px"}},`${m.serviceType||"Request"}: ${(m.requestText||m.description||"Service request").substring(0,50)}...`)))]),l.createElement("p",{key:"note",style:{fontSize:"14px",color:"#666",marginBottom:"16px"}},"Thank you for using our voice assistant service."),l.createElement("div",{key:"contact",style:{fontSize:"12px",color:"#999",borderTop:"1px solid #eee",paddingTop:"12px",marginTop:"16px"}},"For immediate assistance, please contact the front desk.")]);r(u,{title:"Call Complete",priority:"high"}),console.log("‚úÖ [useConfirmHandler] Completion message shown successfully")}catch(u){console.error("‚ùå [useConfirmHandler] Error showing completion message:",u),o.current&&setTimeout(()=>alert("Call completed successfully! Thank you for using our service."),100)}},1e3),console.log("‚úÖ [useConfirmHandler] Confirm flow completed successfully")}catch(u){if(console.error("‚ùå [useConfirmHandler] CRITICAL ERROR in handleConfirm:",u),o.current)try{const m=l.createElement("div",{style:{padding:"20px",textAlign:"center",maxWidth:"400px"}},[l.createElement("h3",{key:"title",style:{marginBottom:"16px",color:"#dc2626",fontSize:"18px",fontWeight:"600"}},"‚ö†Ô∏è Call Processing Issue"),l.createElement("p",{key:"message",style:{marginBottom:"16px",color:"#374151",fontSize:"16px"}},"Your call was completed, but there was an issue processing the summary."),l.createElement("p",{key:"instruction",style:{fontSize:"14px",color:"#666",marginBottom:"16px"}},"Please contact the front desk if you need assistance with your requests."),l.createElement("div",{key:"timestamp",style:{fontSize:"12px",color:"#999",marginTop:"12px"}},"Call ended at: "+new Date().toLocaleTimeString())]);r(m,{title:"Call Complete (with issue)",priority:"medium"})}catch(m){console.error("‚ùå [useConfirmHandler] Fallback popup also failed:",m),setTimeout(()=>{o.current&&alert("Call completed! There was a technical issue with the summary. Please contact front desk for assistance.")},500)}}};try{x()}catch(u){console.error("‚ùå [useConfirmHandler] OUTER ERROR BOUNDARY:",u),setTimeout(()=>{o.current&&alert("Call completed! Technical issue occurred. Please contact front desk.")},100)}},[t,s,n,a,r]),d=l.useCallback(()=>{o.current=!1,c.current=!1,i.current&&(clearInterval(i.current),i.current=null)},[]);return Me.useEffect(()=>(o.current=!0,d),[d]),{handleConfirm:h}},Ab=({isActive:t})=>{const{micLevel:s,transcripts:n,callSummary:a,serviceRequests:r,language:i,endCall:c,addCallEndListener:o}=Tt(),{config:h,isLoading:d,error:x}=mo(),{showNotification:u,showSummary:m}=va(),[p,f]=l.useState(null),g=Sb({isActive:t}),y=kb({conversationRef:g.conversationRef}),[j,T]=l.useState(!1),M=l.useRef(!0),{handleCancel:b}=_b({conversationState:y,conversationPopupId:p,setConversationPopupId:f,setShowRightPanel:T,transcripts:n}),{handleConfirm:O}=Tb({endCall:c,transcripts:n,callSummary:a,serviceRequests:r}),{popups:A}=nn(),[z,Q]=l.useState(!1);l.useEffect(()=>{const X=A.find(xe=>xe.type==="summary");Q(!!X)},[A]);const Y=l.useCallback(()=>{console.log("üîÆ [useInterface1] Auto-showing Summary Popup after call end...");try{m(void 0,{title:"Call Summary",priority:"high"}),console.log("‚úÖ [useInterface1] Summary Popup auto-shown successfully")}catch(X){console.error("‚ùå [useInterface1] Error auto-showing summary popup:",X),setTimeout(()=>{alert("Call completed! Please check your conversation summary.")},500)}},[m]);l.useEffect(()=>{console.log("üìû [useInterface1] Registering auto-summary listener...");const X=o(Y);return console.log("‚úÖ [useInterface1] Auto-summary listener registered"),()=>{console.log("üßπ [useInterface1] Unregistering auto-summary listener..."),X()}},[o,Y]),l.useEffect(()=>{if(M.current){M.current=!1;return}},[]),l.useEffect(()=>{console.log("üö´ [useInterface1] Language change restart logic temporarily disabled for debugging")},[i,y.isCallStarted,p,y.handleCallEnd,y.handleCallStart]);const G=l.useCallback(()=>{T(X=>!X)},[]),_=l.useCallback(()=>{T(!1)},[]),S=l.useCallback(()=>{console.log("Conversation demo disabled - using unified ChatPopup instead")},[]),K=l.useCallback(()=>{Nt(()=>Promise.resolve().then(()=>hr),void 0).then(X=>{const{NotificationDemoContent:xe}=X;u(l.createElement(xe),{title:"Pool Maintenance",priority:"medium",badge:1})}).catch(()=>{u(l.createElement("div",{style:{padding:"16px"}},[l.createElement("h4",{key:"title"},"Hotel Notification"),l.createElement("p",{key:"content"},"Pool maintenance from 2-4 PM today.")]),{title:"Pool Maintenance",priority:"medium",badge:1})})},[u]),$=l.useCallback(()=>{Nt(()=>Promise.resolve().then(()=>hr),void 0).then(X=>{const{SummaryPopupContent:xe}=X;m(l.createElement(xe),{title:"Call Summary",priority:"high"})}).catch(()=>{m(l.createElement("div",{style:{padding:"16px",fontSize:"12px"}},[l.createElement("div",{key:"title",style:{fontWeight:"bold",marginBottom:"8px"}},"üìã Call Summary"),l.createElement("div",{key:"room"},"Room: 101"),l.createElement("div",{key:"items"},"Items: 3 requests"),l.createElement("div",{key:"time",style:{fontSize:"10px",color:"#666",marginTop:"8px"}},"Generated at "+new Date().toLocaleTimeString())]),{title:"Call Summary",priority:"high"})})},[m]);return l.useEffect(()=>{p&&n.length>0&&console.log(`üìä [useInterface1] Transcripts updated: ${n.length} messages`)},[n.length,p]),{isLoading:d||!h,error:x,hotelConfig:h,micLevel:s,...g,isCallStarted:y.isCallStarted,showConversation:y.showConversation,handleCallStart:y.handleCallStart,handleCallEnd:y.handleCallEnd,handleCancel:b,handleConfirm:O,showingSummary:z,showRightPanel:j,handleRightPanelToggle:G,handleRightPanelClose:_,handleShowConversationPopup:S,handleShowNotificationDemo:K,handleShowSummaryDemo:$}},Eb=()=>e.jsx("div",{className:"absolute w-full min-h-screen h-full flex items-center justify-center z-10",style:{background:`linear-gradient(135deg, ${Fe.colors.primary}, ${Fe.colors.secondary})`,fontFamily:Fe.fonts.primary},children:e.jsxs("div",{className:"text-center p-8 bg-white/10 backdrop-blur-md rounded-2xl",style:{boxShadow:Fe.shadows.card},children:[e.jsx("div",{className:"animate-spin rounded-full border-4 border-white/20 border-t-white mx-auto mb-6",style:{width:"64px",height:"64px"}}),e.jsx("p",{className:"text-white text-lg font-medium",children:"Loading hotel configuration..."})]})}),Db=({error:t})=>e.jsx("div",{className:"absolute w-full min-h-screen h-full flex items-center justify-center z-10",style:{background:`linear-gradient(135deg, ${Fe.colors.primary}, ${Fe.colors.error})`,fontFamily:Fe.fonts.primary},children:e.jsxs("div",{className:"text-center p-8 bg-white/10 backdrop-blur-md rounded-2xl",style:{boxShadow:Fe.shadows.card},children:[e.jsx("div",{className:"text-white text-xl font-semibold mb-4",children:"Failed to load hotel configuration"}),e.jsx("p",{className:"text-white/80",children:t})]})});var vo={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ur=Me.createContext&&Me.createContext(vo),Ib=["attr","size","title"];function Rb(t,s){if(t==null)return{};var n=Pb(t,s),a,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)a=i[r],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function Pb(t,s){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(s.indexOf(a)>=0)continue;n[a]=t[a]}return n}function Ks(){return Ks=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Ks.apply(this,arguments)}function mr(t,s){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,a)}return n}function Ws(t){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?mr(Object(n),!0).forEach(function(a){Mb(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mr(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Mb(t,s,n){return s=Lb(s),s in t?Object.defineProperty(t,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[s]=n,t}function Lb(t){var s=$b(t,"string");return typeof s=="symbol"?s:s+""}function $b(t,s){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,s);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}function jo(t){return t&&t.map((s,n)=>Me.createElement(s.tag,Ws({key:n},s.attr),jo(s.child)))}function xt(t){return s=>Me.createElement(Fb,Ks({attr:Ws({},t.attr)},s),jo(t.child))}function Fb(t){var s=n=>{var{attr:a,size:r,title:i}=t,c=Rb(t,Ib),o=r||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),Me.createElement("svg",Ks({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,c,{className:h,style:Ws(Ws({color:t.color||n.color},n.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&Me.createElement("title",null,i),t.children)};return ur!==void 0?Me.createElement(ur.Consumer,null,n=>s(n)):s(vo)}function Ob(t){return xt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M176 256c44.11 0 80-35.89 80-80s-35.89-80-80-80-80 35.89-80 80 35.89 80 80 80zm352-128H304c-8.84 0-16 7.16-16 16v144H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v352c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16v-48h512v48c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V240c0-61.86-50.14-112-112-112z"},child:[]}]})(t)}function xr(t){return xt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M288 130.54V112h16c8.84 0 16-7.16 16-16V80c0-8.84-7.16-16-16-16h-96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h16v18.54C115.49 146.11 32 239.18 32 352h448c0-112.82-83.49-205.89-192-221.46zM496 384H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h480c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function zb(t){return xt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.05 57.6C523.3 36.34 508.25 0 478.2 0H33.8C3.75 0-11.3 36.34 9.95 57.6L224 271.64V464h-56c-22.09 0-40 17.91-40 40 0 4.42 3.58 8 8 8h240c4.42 0 8-3.58 8-8 0-22.09-17.91-40-40-40h-56V271.64L502.05 57.6z"},child:[]}]})(t)}function Bb(t){return xt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 0c-69.59 0-126 56.41-126 126 0 56.26 82.35 158.8 113.9 196.02 6.39 7.54 17.82 7.54 24.2 0C331.65 284.8 414 182.26 414 126 414 56.41 357.59 0 288 0zm0 168c-23.2 0-42-18.8-42-42s18.8-42 42-42 42 18.8 42 42-18.8 42-42 42zM20.12 215.95A32.006 32.006 0 0 0 0 245.66v250.32c0 11.32 11.43 19.06 21.94 14.86L160 448V214.92c-8.84-15.98-16.07-31.54-21.25-46.42L20.12 215.95zM288 359.67c-14.07 0-27.38-6.18-36.51-16.96-19.66-23.2-40.57-49.62-59.49-76.72v182l192 64V266c-18.92 27.09-39.82 53.52-59.49 76.72-9.13 10.77-22.44 16.95-36.51 16.95zm266.06-198.51L416 224v288l139.88-55.95A31.996 31.996 0 0 0 576 426.34V176.02c0-11.32-11.43-19.06-21.94-14.86z"},child:[]}]})(t)}function qb(t){return xt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"},child:[]}]})(t)}function Hb(t){return xt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M568.25 192c-29.04.13-135.01 6.16-213.84 83-33.12 29.63-53.36 63.3-66.41 94.86-13.05-31.56-33.29-65.23-66.41-94.86-78.83-76.84-184.8-82.87-213.84-83-4.41-.02-7.79 3.4-7.75 7.82.23 27.92 7.14 126.14 88.77 199.3C172.79 480.94 256 480 288 480s115.19.95 199.23-80.88c81.64-73.17 88.54-171.38 88.77-199.3.04-4.42-3.34-7.84-7.75-7.82zM287.98 302.6c12.82-18.85 27.6-35.78 44.09-50.52 19.09-18.61 39.58-33.3 60.26-45.18-16.44-70.5-51.72-133.05-96.73-172.22-4.11-3.58-11.02-3.58-15.14 0-44.99 39.14-80.27 101.63-96.74 172.07 20.37 11.7 40.5 26.14 59.22 44.39a282.768 282.768 0 0 1 45.04 51.46z"},child:[]}]})(t)}function Vb(t){return xt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 416h-16c-26.04 0-45.8-8.42-56.09-17.9-8.9-8.21-19.66-14.1-31.77-14.1h-16.3c-12.11 0-22.87 5.89-31.77 14.1C461.8 407.58 442.04 416 416 416s-45.8-8.42-56.09-17.9c-8.9-8.21-19.66-14.1-31.77-14.1h-16.3c-12.11 0-22.87 5.89-31.77 14.1C269.8 407.58 250.04 416 224 416s-45.8-8.42-56.09-17.9c-8.9-8.21-19.66-14.1-31.77-14.1h-16.3c-12.11 0-22.87 5.89-31.77 14.1C77.8 407.58 58.04 416 32 416H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h16c38.62 0 72.72-12.19 96-31.84 23.28 19.66 57.38 31.84 96 31.84s72.72-12.19 96-31.84c23.28 19.66 57.38 31.84 96 31.84s72.72-12.19 96-31.84c23.28 19.66 57.38 31.84 96 31.84h16c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zm-400-32v-96h192v96c19.12 0 30.86-6.16 34.39-9.42 9.17-8.46 19.2-14.34 29.61-18.07V128c0-17.64 14.36-32 32-32s32 14.36 32 32v16c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16v-16c0-52.94-43.06-96-96-96s-96 43.06-96 96v96H224v-96c0-17.64 14.36-32 32-32s32 14.36 32 32v16c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16v-16c0-52.94-43.06-96-96-96s-96 43.06-96 96v228.5c10.41 3.73 20.44 9.62 29.61 18.07 3.53 3.27 15.27 9.43 34.39 9.43z"},child:[]}]})(t)}function Ub(t){return xt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462 241.64l-22-84.84c-9.6-35.2-41.6-60.8-76.8-60.8H352V64c0-17.67-14.33-32-32-32H192c-17.67 0-32 14.33-32 32v32h-11.2c-35.2 0-67.2 25.6-76.8 60.8l-22 84.84C21.41 248.04 0 273.47 0 304v48c0 23.63 12.95 44.04 32 55.12V448c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-32h256v32c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-40.88c19.05-11.09 32-31.5 32-55.12v-48c0-30.53-21.41-55.96-50-62.36zM96 352c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm20.55-112l17.2-66.36c2.23-8.16 9.59-13.64 15.06-13.64h214.4c5.47 0 12.83 5.48 14.85 12.86L395.45 240h-278.9zM416 352c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(t)}function Gb(t){return xt({attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"},child:[]}]})(t)}const Ls=[{name:"Room Service",icon:Ob,description:"In-room dining and housekeeping services"},{name:"Restaurant",icon:Gb,description:"Hotel restaurants and dining options"},{name:"Concierge",icon:xr,description:"Concierge and guest services"},{name:"Pool & Gym",icon:Vb,description:"Swimming pool and fitness facilities"},{name:"Spa & Wellness",icon:Hb,description:"Spa treatments and wellness services"},{name:"Bar & Lounge",icon:zb,description:"Hotel bars and lounges"},{name:"Transportation",icon:Ub,description:"Transportation and taxi services"},{name:"Local Guide",icon:Bb,description:"Local area guide and information"},{name:"Reception",icon:qb,description:"Front desk and reception services"},{name:"Guest Services",icon:xr,description:"Additional guest services"}],Kb=()=>e.jsxs("div",{className:"w-full max-w-full",children:[e.jsx("div",{className:"block md:hidden space-y-4 px-4 py-6",children:Ls.map((t,s)=>{const n=t.icon;return e.jsxs("div",{className:"flex items-center space-x-4 p-4 rounded-xl",style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",transition:Fe.transitions.normal,cursor:"pointer",boxShadow:Fe.shadows.card},children:[e.jsx("div",{className:"text-white flex-shrink-0",children:e.jsx(n,{size:32})}),e.jsxs("div",{className:"text-white",children:[e.jsx("div",{className:"font-medium text-lg",children:t.name}),t.description&&e.jsx("div",{className:"text-sm text-gray-300 mt-1",children:t.description})]})]},s)})}),e.jsxs("div",{className:"hidden md:block w-full max-w-6xl mx-auto px-6 py-8",children:[e.jsx("div",{className:"grid grid-cols-5 gap-4 mb-4",children:Ls.slice(0,5).map((t,s)=>{const n=t.icon;return e.jsxs("div",{className:"relative group w-full h-32 flex flex-col items-center justify-center p-4 rounded-xl cursor-pointer transition-all duration-300 hover:scale-105",style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:Fe.shadows.card},children:[e.jsx("div",{className:"text-white mb-2",children:e.jsx(n,{size:28})}),e.jsx("div",{className:"text-white text-center text-sm font-medium",children:t.name}),t.description&&e.jsx("div",{className:"absolute inset-0 bg-black/80 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center p-3 text-white text-xs text-center rounded-xl",children:t.description})]},s)})}),Ls.length>5&&e.jsx("div",{className:"grid grid-cols-5 gap-4",children:Ls.slice(5).map((t,s)=>{const n=t.icon;return e.jsxs("div",{className:"relative group w-full h-32 flex flex-col items-center justify-center p-4 rounded-xl cursor-pointer transition-all duration-300 hover:scale-105",style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:Fe.shadows.card},children:[e.jsx("div",{className:"text-white mb-2",children:e.jsx(n,{size:28})}),e.jsx("div",{className:"text-white text-center text-sm font-medium",children:t.name}),t.description&&e.jsx("div",{className:"absolute inset-0 bg-black/80 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center p-3 text-white text-xs text-center rounded-xl",children:t.description})]},s+5)})})]})]}),yo=l.forwardRef(({className:t=""},s)=>e.jsx("div",{ref:s,className:`w-full max-w-full hidden md:block ${t}`,children:e.jsx(Kb,{})}));yo.displayName="ServiceGridContainer";const gr=({isOpen:t,onClose:s,layout:n="overlay",className:a=""})=>{const{transcripts:r,modelOutput:i,language:c,callDuration:o}=Tt(),h=l.useRef(null),d=l.useRef({}),[x,u]=l.useState(!1),[m,p]=l.useState({}),[f,g]=l.useState([]);l.useEffect(()=>{t&&!x?u(!0):t||u(!1)},[t,x]);const y=()=>{Object.values(d.current).forEach(b=>{b&&cancelAnimationFrame(b)}),d.current={}};if(l.useEffect(()=>y,[]),l.useEffect(()=>{if(!r||r.length===0){g([]);return}const b=[...r].sort((z,Q)=>z.timestamp.getTime()-Q.timestamp.getTime()),O=[];let A=null;b.forEach(z=>{z.role==="user"?(A={id:z.id.toString(),role:"user",timestamp:z.timestamp,messages:[{id:z.id.toString(),content:z.content,timestamp:z.timestamp}]},O.push(A)):((!A||A.role==="user")&&(A={id:z.id.toString(),role:"assistant",timestamp:z.timestamp,messages:[]},O.push(A)),A.messages.push({id:z.id.toString(),content:z.content,timestamp:z.timestamp}))}),g(O)},[r]),l.useEffect(()=>{f.filter(O=>O.role==="assistant").flatMap(O=>O.messages).forEach(O=>{if(!m[O.id]){p(z=>({...z,[O.id]:0}));const A=()=>{p(z=>{const Q=z[O.id]||0;if(Q<O.content.length){const Y=requestAnimationFrame(A);return d.current[O.id]=Y,{...z,[O.id]:Q+1}}else return delete d.current[O.id],z})};setTimeout(A,100)}})},[f]),l.useEffect(()=>{h.current&&(h.current.scrollTop=h.current.scrollHeight)},[f]),!t)return null;const j=n==="grid",T=l.useMemo(()=>j?{width:"100%",maxWidth:"100%",height:"320px",maxHeight:"320px",background:"rgba(255,255,255,0.15)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1.5px solid rgba(255,255,255,0.3)",boxShadow:"0 8px 32px rgba(0,0,0,0.12)",borderRadius:16,marginBottom:0}:{width:"100%",maxWidth:`${nh}px`,height:`${sh}px`,maxHeight:`${ah}vh`,background:"rgba(255,255,255,0.12)",backdropFilter:"blur(18px)",WebkitBackdropFilter:"blur(18px)",border:"1.5px solid rgba(255,255,255,0.25)",boxShadow:"0 -8px 32px rgba(0,0,0,0.18)",borderTopLeftRadius:20,borderTopRightRadius:20,borderBottomLeftRadius:0,borderBottomRightRadius:0,marginBottom:0},[j]),M=()=>e.jsxs("div",{className:`relative z-30 overflow-hidden shadow-2xl chat-popup ${j?"grid-layout":"overlay-layout"} ${!j&&x?"mx-auto animate-slide-up":"mx-auto"}`,style:T,children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-gray-200/40 bg-white/10",style:{backdropFilter:"blur(4px)"},children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["üí¨ ",$n("chat",c)]})}),e.jsx("button",{onClick:s,className:"p-1.5 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(Gt,{className:"w-4 h-4 text-gray-500"})})]}),e.jsxs("div",{ref:h,className:"px-3 py-2 h-[calc(100%-3rem)] overflow-y-auto",children:[f.length===0&&e.jsx("div",{className:"text-gray-400 text-base text-center select-none",style:{opacity:.7},children:$n("tap_to_speak",c)}),f.map((b,O)=>e.jsx("div",{className:"mb-2",children:e.jsx("div",{className:"flex items-start gap-2",children:e.jsxs("div",{className:"flex-1",children:[b.role==="user"?e.jsx("div",{className:"bg-gray-100 rounded-lg p-2",children:e.jsx("p",{className:"text-gray-800 text-sm",children:b.messages[0].content})}):e.jsx("div",{className:"space-y-1",children:b.messages.map((A,z)=>e.jsx("div",{className:"bg-blue-50 rounded-lg p-2",children:e.jsxs("p",{className:"text-blue-900 text-sm",children:[A.content.slice(0,m[A.id]||0),(m[A.id]||0)<A.content.length&&e.jsx("span",{className:"opacity-60 animate-pulse",children:"|"})]})},A.id))}),e.jsx("span",{className:"text-xs text-gray-500 mt-0.5 block",children:b.timestamp.toLocaleTimeString()})]})})},b.id))]})]});return j?e.jsx(M,{}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:a,style:{position:"fixed",bottom:"40px",left:0,right:0,zIndex:40,pointerEvents:"none",transform:"translateZ(0)",WebkitTransform:"translateZ(0)"},children:e.jsx("div",{style:{pointerEvents:"auto",position:"relative",transform:"translateZ(0)"},children:e.jsx(M,{})})}),e.jsx("style",{children:`
        @keyframes slideUp {
          from {
            transform: translateY(100%);
            opacity: 0;
          }
          to {
            transform: translateY(0);
            opacity: 1;
          }
        }
        
        .animate-slide-up {
          animation: slideUp 0.3s ease-out forwards;
        }

        /* ‚úÖ FIX: Correct CSS selectors for space-separated classes */
        @media (max-width: 640px) {
          .chat-popup.overlay-layout {
            width: 100vw !important;
            max-width: 100vw !important;
            height: 120px !important;
            max-height: 20vh !important;
            margin: 0 !important;
            border-top-left-radius: 16px !important;
            border-top-right-radius: 16px !important;
            border-bottom-left-radius: 0 !important;
            border-bottom-right-radius: 0 !important;
            /* ‚úÖ FIX: Prevent mobile jerky behavior */
            position: relative !important;
            transform: translateZ(0) !important;
            -webkit-transform: translateZ(0) !important;
          }
        }

        /* ‚úÖ FIX: Add mobile optimization for smooth rendering */
        .chat-popup {
          transform: translateZ(0); /* Force hardware acceleration */
          -webkit-backface-visibility: hidden;
          backface-visibility: hidden;
          -webkit-perspective: 1000;
          perspective: 1000;
          /* ‚úÖ FIX: Prevent sub-pixel rendering issues */
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
        }

        .chat-popup.overlay-layout {
          will-change: transform; /* Optimize for animations */
          /* ‚úÖ FIX: Stabilize mobile rendering */
          contain: layout style paint;
        }

        /* ‚úÖ FIX: Prevent layout shift during scroll */
        .chat-popup .overflow-y-auto {
          -webkit-overflow-scrolling: touch;
          scroll-behavior: smooth;
          /* ‚úÖ FIX: Prevent scroll bounce on iOS */
          overscroll-behavior: contain;
        }

        /* ‚úÖ FIX: Prevent mobile tap delays */
        .chat-popup * {
          touch-action: manipulation;
        }
      `})]})},Be={ORDER_TYPE_DEFAULT:"Room Service",DELIVERY_TIME_DEFAULT:"asap",SERVICE_NAME_DEFAULT:"General Service",ROOM_NUMBER_FALLBACK:"unknown",ORDER_PREFIX:"ORD",ORDER_MIN:1e4,ORDER_RANGE:9e4,STATUS_PENDING:"pending"},Wt={NO_ORDER_DATA:"No order information available to send!",REQUEST_FAILED:"Failed to send request to Front Desk!",NETWORK_ERROR:"Network error occurred while sending request",SERVER_ERROR:"Server error occurred while processing request"},Wb={REQUEST_SENT:"‚úÖ Request sent to Front Desk successfully!"},Qb=({onSuccess:t,onError:s}={})=>{const{callSummary:n,serviceRequests:a,orderSummary:r,setOrder:i}=Tt(),[c,o]=l.useState(!1),h=l.useMemo(()=>({id:"1",name:Be.SERVICE_NAME_DEFAULT,description:"Service request from voice call",quantity:1,price:0}),[]),d=l.useMemo(()=>r||(!n&&(!a||a.length===0)?null:{orderType:Be.ORDER_TYPE_DEFAULT,deliveryTime:Be.DELIVERY_TIME_DEFAULT,roomNumber:"",guestName:"",guestEmail:"",guestPhone:"",specialInstructions:"",items:a?.map((j,T)=>({id:(T+1).toString(),name:j.serviceType||Be.SERVICE_NAME_DEFAULT,description:j.requestText||"No details provided",quantity:1,price:0}))||[h],totalAmount:0}),[r,n,a,h]),x=l.useCallback((j,T)=>{if(j?.roomNumber&&j.roomNumber!==Be.ROOM_NUMBER_FALLBACK)return j.roomNumber;if(T){const M=/Room Number:?\s*(\w+)/i,b=T.match(M);if(b&&b[1])return b[1]}return Be.ROOM_NUMBER_FALLBACK},[]),u=l.useCallback(()=>{const j=Math.floor(Be.ORDER_MIN+Math.random()*Be.ORDER_RANGE);return`${Be.ORDER_PREFIX}-${j}`},[]),m=l.useCallback(j=>{const T=u(),M=j.items&&j.items.length>0?j.items:[h];return{callId:T,roomNumber:x(j,n?.content),orderType:j.orderType||Be.ORDER_TYPE_DEFAULT,deliveryTime:j.deliveryTime||Be.DELIVERY_TIME_DEFAULT,specialInstructions:T,items:M,totalAmount:j.totalAmount||0,status:Be.STATUS_PENDING,createdAt:new Date().toISOString()}},[x,u,h,n?.content]),p=l.useCallback(async j=>{console.log("üì§ [useSendToFrontDeskHandler] Submitting request to /api/request:",j);const{authenticatedFetch:T}=await Nt(async()=>{const{authenticatedFetch:O}=await Promise.resolve().then(()=>Yl);return{authenticatedFetch:O}},void 0);console.log("üîê [useSendToFrontDeskHandler] Using authenticated fetch with auto-retry");const M=await T("/api/request",{method:"POST",body:JSON.stringify(j)});if(!M.ok){const O=M.status;throw O>=500?new Error(Wt.SERVER_ERROR):O>=400?new Error(Wt.REQUEST_FAILED):new Error(Wt.NETWORK_ERROR)}const b=await M.json();if(!b.success)throw new Error(b.error||Wt.REQUEST_FAILED);return b.data},[]),f=l.useCallback((j,T)=>{console.log("‚úÖ [useSendToFrontDeskHandler] Request sent to Front Desk successfully"),i({reference:j.reference||j.orderId,estimatedTime:j.estimatedTime||T.deliveryTime||Be.DELIVERY_TIME_DEFAULT,summary:T}),t?t():alert(Wb.REQUEST_SENT)},[i,t]),g=l.useCallback(j=>{console.error("‚ùå [useSendToFrontDeskHandler] Failed to send request:",j);const T=j.message||Wt.REQUEST_FAILED;s?s(T):alert(`‚ùå ${T}`)},[s]);return{handleSendToFrontDesk:l.useCallback(async()=>{if(console.log("üè® [useSendToFrontDeskHandler] Send to FrontDesk initiated"),!d){console.warn("‚ö†Ô∏è [useSendToFrontDeskHandler] No order summary available");const j=Wt.NO_ORDER_DATA;s?s(j):alert(j);return}o(!0);try{const j=m(d),T=await p(j);f(T,d)}catch(j){g(j)}finally{o(!1)}},[d,m,p,f,g,s]),isSubmitting:c}},bo=({isOpen:t,onClose:s,layout:n="center-modal",className:a=""})=>{const{handleSendToFrontDesk:r,isSubmitting:i}=Qb({onSuccess:()=>{alert("‚úÖ Request sent to Front Desk successfully!"),s()},onError:h=>{alert(`‚ùå ${h}`)}});if(!t)return null;const c=n==="grid",o=()=>e.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl shadow-lg border border-gray-200 overflow-hidden",style:{...c?{width:"100%",maxWidth:"100%",minHeight:"300px",maxHeight:"500px"}:{width:"90vw",maxWidth:"400px",maxHeight:"80vh"}},children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100 bg-white/90",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"üîÆ Call Summary"}),e.jsx("button",{onClick:s,className:"p-1 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Close summary",children:e.jsx(Gt,{size:20,className:"text-gray-500"})})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsx("div",{className:"overflow-y-auto",style:{maxHeight:c?"320px":"50vh"},children:e.jsx(fa,{})}),e.jsxs("div",{className:"flex gap-3 pt-3 border-t border-gray-100",children:[e.jsx("button",{onClick:s,disabled:i,className:"flex-1 px-4 py-2 bg-gray-500 hover:bg-gray-600 disabled:bg-gray-400 text-white rounded-lg text-sm font-medium transition-colors",children:"Cancel"}),e.jsx("button",{onClick:r,disabled:i,className:"flex-1 px-4 py-2 bg-blue-500 hover:bg-blue-600 disabled:bg-blue-400 text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center",children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Sending..."]}):"Send to FrontDesk"})]})]}),e.jsx("div",{className:"px-4 py-3 border-t border-gray-100 bg-gray-50/50",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("span",{className:"text-xs text-gray-400",children:"Call Summary Panel"})})})]});return c?e.jsx("div",{className:`relative ${a}`,children:e.jsx(o,{})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/60 backdrop-blur-md",onClick:s,style:{backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"}}),e.jsx("div",{className:`fixed inset-0 z-[9999] flex items-center justify-center p-4 ${a}`,style:{pointerEvents:"none"},children:e.jsx("div",{style:{pointerEvents:"auto",animation:"modalSlideIn 0.3s ease-out"},children:e.jsx(o,{})})}),e.jsx("style",{children:`
        @keyframes modalSlideIn {
          from {
            transform: scale(0.95) translateY(20px);
            opacity: 0;
          }
          to {
            transform: scale(1) translateY(0);
            opacity: 1;
          }
        }
      `})]})};class we{static{this.DEBUG_LEVEL=0}static setDebugLevel(s){we.DEBUG_LEVEL=s,console.log(`[DebugManager] Debug level set to: ${s} (0: off, 1: errors only, 2: all)`)}static getDebugLevel(){return we.DEBUG_LEVEL}log(s,...n){we.DEBUG_LEVEL>=2&&console.log(`[SiriButton] ${s}`,...n)}debug(s,...n){we.DEBUG_LEVEL>=2&&console.log(`[SiriButton] ${s}`,...n)}warn(s,...n){we.DEBUG_LEVEL>=1&&console.warn(`[SiriButton] ${s}`,...n)}debugWarn(s,...n){we.DEBUG_LEVEL>=1&&console.warn(`[SiriButton] ${s}`,...n)}error(s,...n){console.error(`[SiriButton] ${s}`,...n)}debugError(s,...n){console.error(`[SiriButton] ${s}`,...n)}silent(){we.setDebugLevel(0)}errorsOnly(){we.setDebugLevel(1)}verbose(){we.setDebugLevel(2)}}typeof window<"u"&&(window.SiriDebugControls={setLevel:t=>{we.setDebugLevel(t),console.log(`üîß Voice debug level set to: ${t}`)},getLevel:()=>we.getDebugLevel(),silent:()=>we.setDebugLevel(0),errorsOnly:()=>we.setDebugLevel(1),verbose:()=>we.setDebugLevel(2),help:()=>{console.log(`
üîß SiriDebugControls Help:
- SiriDebugControls.silent()     -> Turn off all debug logs
- SiriDebugControls.errorsOnly() -> Show errors + warnings only  
- SiriDebugControls.verbose()    -> Show all debug logs
- SiriDebugControls.setLevel(n)  -> Set level manually (0-2)
- SiriDebugControls.getLevel()   -> Check current level
      `)}},window.voiceDebugOff=()=>we.setDebugLevel(0),window.voiceDebugOn=()=>we.setDebugLevel(2));class Zb{constructor(s){this.debug=s,this.canvas=null,this.ctx=null,this.state={emergencyStopRequested:!1,resizeInProgress:!1,lastResizeTime:0,maxResizeAttempts:5,resizeAttemptCount:0,canvasValid:!0}}setCanvasReferences(s,n){this.canvas=s,this.ctx=n,this.state.canvasValid=!0}isEmergencyStopRequested(){return this.state.emergencyStopRequested}triggerEmergencyStop(){this.debug.warn("üö® EMERGENCY STOP TRIGGERED"),this.state.emergencyStopRequested=!0,this.state.canvasValid=!1}clearEmergencyStop(){this.debug.log("‚úÖ Emergency stop cleared"),this.state.emergencyStopRequested=!1,this.validateCanvas()}validateCanvas(){return!this.canvas||!this.ctx?(this.debug.error("Canvas or context invalid"),this.state.canvasValid=!1,!1):!this.canvas.parentElement||!document.contains(this.canvas)?(this.debug.error("Canvas not in DOM"),this.state.canvasValid=!1,!1):this.canvas.width===0||this.canvas.height===0?(this.debug.warn("Canvas has zero dimensions"),this.state.canvasValid=!1,!1):(this.state.canvasValid=!0,!0)}isCanvasValid(){return this.state.canvasValid}canSafeResize(){const s=Date.now();return this.state.resizeInProgress?(this.debug.warn("Resize already in progress, skipping"),!1):s-this.state.lastResizeTime<100?(this.debug.warn("Resize attempted too recently, skipping"),!1):this.state.resizeAttemptCount>=this.state.maxResizeAttempts?(this.debug.error("Maximum resize attempts reached, stopping"),this.triggerEmergencyStop(),!1):!0}startResize(){return this.canSafeResize()?(this.state.resizeInProgress=!0,this.state.lastResizeTime=Date.now(),this.state.resizeAttemptCount++,this.debug.log(`Starting resize attempt ${this.state.resizeAttemptCount}/${this.state.maxResizeAttempts}`),!0):!1}finishResize(s){this.state.resizeInProgress=!1,s?(this.debug.log("Resize completed successfully"),this.state.resizeAttemptCount=0):(this.debug.warn("Resize failed"),this.state.resizeAttemptCount>=this.state.maxResizeAttempts&&(this.debug.error("Max resize attempts reached, triggering emergency stop"),this.triggerEmergencyStop()))}resetResizeAttempts(){this.state.resizeAttemptCount=0,this.debug.log("Resize attempt counter reset")}safeExecute(s,n,a){try{return this.state.emergencyStopRequested?(this.debug.warn(`Operation ${a} skipped due to emergency stop`),n()):s()}catch(r){this.debug.error(`Operation ${a} failed:`,r);try{return n()}catch(i){throw this.debug.error(`Fallback for ${a} also failed:`,i),this.triggerEmergencyStop(),i}}}safeCanvasOperation(s,n,a){return this.validateCanvas()?this.safeExecute(s,n,a):(this.debug.warn(`Canvas operation ${a} skipped - canvas invalid`),n())}setFallbackDimensions(){try{const s={width:300,height:300,centerX:150,centerY:150,radius:100};return this.canvas&&(this.canvas.width=s.width,this.canvas.height=s.height,this.canvas.style.width=`${s.width}px`,this.canvas.style.height=`${s.height}px`),this.debug.warn("Using fallback dimensions due to resize failure"),s}catch(s){throw this.debug.error("Failed to set fallback dimensions:",s),this.triggerEmergencyStop(),s}}getState(){return{...this.state}}shouldSkipAnimation(){return this.state.emergencyStopRequested||!this.state.canvasValid}forceReset(){this.debug.warn("üîß Force resetting emergency state"),this.state={emergencyStopRequested:!1,resizeInProgress:!1,lastResizeTime:0,maxResizeAttempts:5,resizeAttemptCount:0,canvasValid:!0}}}class Xb{constructor(s,n){this.ctx=s,this.debug=n}clear(s){try{this.ctx.clearRect(0,0,s.width,s.height)}catch(n){throw this.debug.error("Error clearing canvas:",n),n}}renderAll(s){try{this.clear(s),this.drawBaseCircle(s),this.drawWaveform(s),this.drawParticles(s),this.drawRipples(s),this.drawPulsingRing(s),this.drawTimeRing(s),this.drawTimeText(s),this.drawIdleFlash(s)}catch(n){this.debug.error("Error during complete rendering:",n),this.drawFallbackCircle(s)}}drawBaseCircle(s){const{centerX:n,centerY:a,radius:r,isActive:i,isHovered:c,colors:o}=s;this.ctx.save();const d=r*(i?1.08:c?1.04:1),x=this.ctx.createRadialGradient(n,a,0,n,a,d);x.addColorStop(0,o.primary+"95"),x.addColorStop(.7,o.secondary+"60"),x.addColorStop(1,o.glow+"20"),this.ctx.beginPath(),this.ctx.arc(n,a,d+15,0,Math.PI*2),this.ctx.fillStyle=o.glow+"30",this.ctx.filter="blur(8px)",this.ctx.fill(),this.ctx.filter="none",this.ctx.beginPath(),this.ctx.arc(n,a,d,0,Math.PI*2),this.ctx.fillStyle=x,this.ctx.fill();const u=this.ctx.createRadialGradient(n-r*.3,a-r*.3,0,n,a,r*.8);u.addColorStop(0,"rgba(255, 255, 255, 0.4)"),u.addColorStop(1,"rgba(255, 255, 255, 0)"),this.ctx.beginPath(),this.ctx.arc(n,a,d*.8,0,Math.PI*2),this.ctx.fillStyle=u,this.ctx.fill(),this.ctx.restore()}drawWaveform(s){if(!s.isListening)return;const{centerX:n,centerY:a,radius:r,waveformPhase:i,volumeLevel:c,colors:o}=s;this.ctx.save();for(let h=0;h<3;h++){const d=r*(1.15+h*.1),x=32;this.ctx.beginPath();for(let u=0;u<=x;u++){const m=u/x*Math.PI*2,p=Math.sin(i+u*.3+h*1.5)*(8+c*12),f=d+p,g=n+Math.cos(m)*f,y=a+Math.sin(m)*f;u===0?this.ctx.moveTo(g,y):this.ctx.lineTo(g,y)}this.ctx.closePath(),this.ctx.strokeStyle=o.secondary+(90-h*20).toString(16),this.ctx.lineWidth=2,this.ctx.shadowColor=o.glow,this.ctx.shadowBlur=6,this.ctx.stroke()}this.ctx.restore()}drawParticles(s){const{particles:n,colors:a}=s;for(let r=n.length-1;r>=0;r--){const i=n[r];if(i.alpha-=.008,i.size-=.05,i.x+=(Math.random()-.5)*i.speed,i.y+=(Math.random()-.5)*i.speed,i.alpha<=.05||i.size<.5){n.splice(r,1);continue}this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(i.x,i.y,i.size,0,Math.PI*2);const c=Math.floor(255*i.alpha).toString(16).padStart(2,"0");this.ctx.fillStyle=a.secondary+c,this.ctx.shadowColor=a.glow,this.ctx.shadowBlur=6,this.ctx.fill(),this.ctx.restore()}}drawRipples(s){const{ripples:n,centerX:a,centerY:r,colors:i}=s;for(let c=n.length-1;c>=0;c--){const o=n[c];if(o.radius+=o.speed*3,o.alpha-=.02,o.alpha<=0){n.splice(c,1);continue}this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(a,r,o.radius,0,Math.PI*2);const h=Math.floor(255*o.alpha).toString(16).padStart(2,"0");this.ctx.strokeStyle=i.primary+h,this.ctx.lineWidth=2,this.ctx.shadowColor=i.glow,this.ctx.shadowBlur=8,this.ctx.stroke(),this.ctx.restore()}}drawPulsingRing(s){const{centerX:n,centerY:a,radius:r,pulsePhase:i,isListening:c,colors:o}=s;if(!c)return;this.ctx.save();const h=.9+.2*Math.sin(i*1.5),d=r*(1.25+h*.1);this.ctx.beginPath(),this.ctx.arc(n,a,d,0,Math.PI*2),this.ctx.strokeStyle=o.glow+"60",this.ctx.lineWidth=3,this.ctx.shadowColor=o.glow,this.ctx.shadowBlur=15,this.ctx.stroke(),this.ctx.restore()}drawTimeRing(s){const{centerX:n,centerY:a,radius:r,elapsedTime:i,timeTarget:c,colors:o}=s,h=Math.min(1,i/c),d=h<.5?o.secondary:h<1?o.primary:"#e53935";this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n,a,r*1.32,-Math.PI/2,-Math.PI/2+h*2*Math.PI),this.ctx.strokeStyle=d,this.ctx.lineWidth=4,this.ctx.shadowColor=d,this.ctx.shadowBlur=h>.95?16:6,this.ctx.globalAlpha=.85,this.ctx.stroke(),this.ctx.restore()}drawTimeText(s){const{centerX:n,centerY:a,radius:r,displayedTime:i,isDarkMode:c}=s,o=Math.round(i),h=Math.floor(o/60).toString().padStart(2,"0"),d=(o%60).toString().padStart(2,"0"),x=`${h}:${d}`;this.ctx.save(),this.ctx.font="600 1.25rem Montserrat, Raleway, Arial, sans-serif",this.ctx.textAlign="center",this.ctx.textBaseline="top",this.ctx.shadowColor="rgba(85,154,154,0.22)",this.ctx.shadowBlur=8,this.ctx.fillStyle=c?"#e8e8e8":"#fff",this.ctx.globalAlpha=.95,this.ctx.fillText(x,n,a+r*1.45),this.ctx.restore()}drawIdleFlash(s){const{centerX:n,centerY:a,radius:r,lastActiveTime:i,idleFlash:c,colors:o}=s;if(Date.now()-i<=6e3)return;const d=.7+.3*Math.abs(Math.sin(c*1.2));this.ctx.save(),this.ctx.globalAlpha=.18*d,this.ctx.beginPath(),this.ctx.arc(n,a,r*1.18,0,Math.PI*2),this.ctx.fillStyle=o.secondary,this.ctx.filter="blur(2.5px)",this.ctx.fill(),this.ctx.filter="none",this.ctx.restore()}drawFallbackCircle(s){try{this.debug.warn("Drawing fallback circle");const{centerX:n,centerY:a,radius:r,pulsePhase:i,colors:c}=s;this.ctx.clearRect(0,0,s.width,s.height),this.ctx.save();const o=1+.1*Math.sin(i),h=r*o;this.ctx.beginPath(),this.ctx.arc(n,a,h+10,0,Math.PI*2),this.ctx.fillStyle=c.glow+"40",this.ctx.filter="blur(6px)",this.ctx.fill(),this.ctx.filter="none",this.ctx.beginPath(),this.ctx.arc(n,a,h,0,Math.PI*2),this.ctx.fillStyle=c.primary,this.ctx.fill(),this.ctx.restore(),this.debug.log("Fallback circle drawn successfully")}catch(n){throw this.debug.error("Even fallback drawing failed:",n),n}}}class Yb{constructor(s,n,a){this.isRunning=!1,this.animate=()=>{if(this.emergency.shouldSkipAnimation()){this.debug.warn("Animation stopped due to emergency stop"),this.stop();return}if(!this.isRunning){this.debug.log("Animation stopped by external request");return}this.debug.debug("üîç [AnimationController] Animation frame start"),this.updateAnimationPhases(),this.isRunning&&!this.emergency.isEmergencyStopRequested()&&(this.state.animationFrameId=requestAnimationFrame(this.animate))},this.debug=s,this.emergency=n,this.renderer=a,this.state={pulsePhase:0,waveformPhase:0,gradientRotation:0,elapsedTime:0,displayedTime:0,timeTarget:60,idleFrame:0,idleFlash:0,lastActiveTime:Date.now(),animationFrameId:0}}start(){if(this.isRunning){this.debug.warn("Animation already running");return}this.debug.log("Starting animation loop"),this.isRunning=!0,this.emergency.clearEmergencyStop(),this.animate()}stop(){if(!this.isRunning){this.debug.warn("Animation already stopped");return}this.debug.log("Stopping animation loop"),this.isRunning=!1,this.state.animationFrameId&&(cancelAnimationFrame(this.state.animationFrameId),this.state.animationFrameId=0)}updateAnimationPhases(){this.state.pulsePhase+=.05,this.state.waveformPhase+=.08,this.state.gradientRotation+=.02,this.state.gradientRotation>Math.PI*2&&(this.state.gradientRotation-=Math.PI*2),this.state.idleFlash+=.08,this.state.idleFrame++,this.updateTimeDisplay()}updateTimeDisplay(){this.state.displayedTime+=(this.state.elapsedTime-this.state.displayedTime)*.18}render(s){if(this.emergency.shouldSkipAnimation())return;const n={...s,...this.state};this.emergency.safeCanvasOperation(()=>(this.renderer.renderAll(n),!0),()=>(this.renderer.drawFallbackCircle(n),!1),"render")}addRipple(s,n,a){Math.random()<.1&&s.push({radius:n,alpha:.4,speed:1+a*2})}addParticle(s,n,a,r){if(Math.random()<.05){const i=Math.random()*Math.PI*2,c=r+Math.random()*20;s.push({x:n+Math.cos(i)*c,y:a+Math.sin(i)*c,alpha:.8,size:2+Math.random()*3,speed:.5+Math.random()*1})}}setVolumeLevel(s){}markActivity(){this.state.lastActiveTime=Date.now(),this.debug.debug("User activity marked")}setListening(s){s&&this.markActivity(),this.debug.debug("Animation listening state:",s)}resetTime(){this.state.elapsedTime=0,this.state.displayedTime=0,this.debug.log("Animation time reset")}updateElapsedTime(s){this.state.elapsedTime=s}setTimeTarget(s){this.state.timeTarget=s,this.debug.log("Animation time target set to:",s)}getState(){return{...this.state}}isAnimating(){return this.isRunning}forceRestart(){this.debug.warn("üîß Force restarting animation"),this.stop(),setTimeout(()=>{this.start()},50)}cleanup(){this.debug.log("Cleaning up animation controller"),this.stop(),this.state={pulsePhase:0,waveformPhase:0,gradientRotation:0,elapsedTime:0,displayedTime:0,timeTarget:60,idleFrame:0,idleFlash:0,lastActiveTime:Date.now(),animationFrameId:0}}}class Jb{constructor(s,n){this.canvas=null,this.resizeTimeout=null,this.debug=s,this.emergency=n,this.debouncedResize=this.debounce(()=>{this.safeResize()},150)}setCanvas(s){this.canvas=s,this.debug.log("Canvas reference set for dimensions manager")}initialize(){const s={width:400,height:400,centerX:200,centerY:200,radius:180};return this.debug.log("Dimensions initialized:",s),s}calculateDimensions(){if(!this.canvas||!this.canvas.parentElement)return this.debug.warn("Canvas or container not available, using fallback dimensions"),this.emergency.setFallbackDimensions();try{const n=this.canvas.parentElement.getBoundingClientRect();this.debug.debug("Container dimensions:",{width:n.width,height:n.height});const a=Math.max(200,n.width||400),r=Math.max(200,n.height||400),i=a/2,c=r/2,o=Math.max(60,Math.min(a,r)*.35),h={width:a,height:r,centerX:i,centerY:c,radius:o};return this.debug.log("Calculated dimensions:",h),h}catch(s){return this.debug.error("Error calculating dimensions:",s),this.emergency.setFallbackDimensions()}}applyDimensions(s){if(!this.canvas)return this.debug.error("Cannot apply dimensions - no canvas reference"),!1;try{return this.canvas.width=s.width,this.canvas.height=s.height,this.canvas.style.width=`${s.width}px`,this.canvas.style.height=`${s.height}px`,this.debug.log("Dimensions applied successfully:",s),!0}catch(n){return this.debug.error("Error applying dimensions:",n),!1}}safeResize(){if(this.debug.log("üîç [DimensionsManager] Starting safe resize"),!this.emergency.startResize())return this.debug.warn("Resize operation blocked by emergency manager"),this.emergency.setFallbackDimensions();try{const s=this.calculateDimensions(),n=this.applyDimensions(s);return this.emergency.finishResize(n),n?(this.debug.log("Resize completed successfully"),s):(this.debug.warn("Resize failed, using fallback"),this.emergency.setFallbackDimensions())}catch(s){return this.debug.error("Resize operation failed:",s),this.emergency.finishResize(!1),this.emergency.setFallbackDimensions()}}setupResizeListener(){typeof window<"u"&&(window.addEventListener("resize",this.debouncedResize),this.debug.log("Resize listener attached"))}removeResizeListener(){typeof window<"u"&&(window.removeEventListener("resize",this.debouncedResize),this.debug.log("Resize listener removed"))}forceResize(){return this.debug.warn("üîß Force resize triggered"),this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.safeResize()}debounce(s,n){return()=>{this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(()=>{this.resizeTimeout=null,s()},n)}}validateDimensions(s){const{width:n,height:a,radius:r}=s;return n<=0||a<=0?(this.debug.error("Invalid dimensions: width or height is zero or negative"),!1):r<=0||r>Math.min(n,a)/2?(this.debug.error("Invalid radius: must be positive and fit within dimensions"),!1):!0}getOptimalRadius(s,n){return Math.max(60,Math.min(s,n)*.35)}updateDimensions(s,n){const a={...n,...s};return(s.width!==void 0||s.height!==void 0)&&(a.centerX=a.width/2,a.centerY=a.height/2),s.radius===void 0&&(s.width!==void 0||s.height!==void 0)&&(a.radius=this.getOptimalRadius(a.width,a.height)),this.validateDimensions(a)?(this.debug.log("Dimensions updated:",a),a):(this.debug.warn("Invalid dimensions provided, keeping current state"),n)}cleanup(){this.debug.log("Cleaning up dimensions manager"),this.removeResizeListener(),this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.canvas=null}}class e1{constructor(s){this.debug=s,this.state={isListening:!1,isHovered:!1,isActive:!1,volumeLevel:0,mouseX:0,mouseY:0,isDarkMode:!1,colors:{primary:"#60a5fa",secondary:"#34d399",glow:"#10b981",name:"blue-green"},ripples:[],particles:[]},this.initializeDarkMode()}initializeDarkMode(){typeof window<"u"&&window.matchMedia&&(this.state.isDarkMode=window.matchMedia("(prefers-color-scheme: dark)").matches,window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",s=>{this.state.isDarkMode=s.matches,this.debug.log("Dark mode changed:",s.matches)}))}getState(){return{...this.state}}updateExternalState(s){let n=!1;s.isHovered!==void 0&&s.isHovered!==this.state.isHovered&&(this.state.isHovered=s.isHovered,n=!0),s.isActive!==void 0&&s.isActive!==this.state.isActive&&(this.state.isActive=s.isActive,n=!0),s.mousePosition&&(this.state.mouseX=s.mousePosition.x,this.state.mouseY=s.mousePosition.y,n=!0),n&&this.debug.debug("External state updated:",s)}setListening(s){this.state.isListening!==s&&(this.state.isListening=s,this.debug.log("Listening state changed:",s))}setVolumeLevel(s){const n=Math.max(0,Math.min(1,s));this.state.volumeLevel!==n&&(this.state.volumeLevel=n,this.debug.debug("Volume level updated:",n))}setMousePosition(s,n){this.state.mouseX=s,this.state.mouseY=n}updateColors(s){this.state.colors={...this.state.colors,...s},this.debug.log("Colors updated:",this.state.colors)}setColorScheme(s){this.state.colors={...s},this.debug.log("Color scheme set:",s)}addRipple(s,n=.4,a=1){this.state.ripples.push({radius:s,alpha:n,speed:a}),this.debug.debug("Ripple added:",{radius:s,alpha:n,speed:a})}addParticle(s,n,a=.8,r=2,i=1){this.state.particles.push({x:s,y:n,alpha:a,size:r,speed:i}),this.debug.debug("Particle added:",{x:s,y:n,alpha:a,size:r,speed:i})}clearRipples(){this.state.ripples=[],this.debug.debug("All ripples cleared")}clearParticles(){this.state.particles=[],this.debug.debug("All particles cleared")}clearAllEffects(){this.clearRipples(),this.clearParticles(),this.debug.log("All visual effects cleared")}isHovered(){return this.state.isHovered}isActive(){return this.state.isActive}isListening(){return this.state.isListening}getVolumeLevel(){return this.state.volumeLevel}getMousePosition(){return{x:this.state.mouseX,y:this.state.mouseY}}isDarkMode(){return this.state.isDarkMode}getColors(){return{...this.state.colors}}getRipples(){return this.state.ripples}getParticles(){return this.state.particles}reset(){this.debug.log("Resetting visual state");const s=this.state.colors,n=this.state.isDarkMode;this.state={isListening:!1,isHovered:!1,isActive:!1,volumeLevel:0,mouseX:0,mouseY:0,isDarkMode:n,colors:s,ripples:[],particles:[]}}getRenderState(){return{isListening:this.state.isListening,isHovered:this.state.isHovered,isActive:this.state.isActive,volumeLevel:this.state.volumeLevel,mouseX:this.state.mouseX,mouseY:this.state.mouseY,isDarkMode:this.state.isDarkMode,colors:{...this.state.colors},ripples:[...this.state.ripples],particles:[...this.state.particles]}}forceUpdateDarkMode(){if(typeof window<"u"&&window.matchMedia){const s=this.state.isDarkMode;this.state.isDarkMode=window.matchMedia("(prefers-color-scheme: dark)").matches,s!==this.state.isDarkMode&&this.debug.log("Dark mode force updated:",this.state.isDarkMode)}}}class it{constructor(s,n){this.isInitialized=!1,this.debug=new we,this.emergency=new Zb(this.debug),this.renderer=new Xb(null,this.debug),this.animation=new Yb(this.debug,this.emergency,this.renderer),this.dimensions=new Jb(this.debug,this.emergency),this.state=new e1(this.debug),this.debug.log("üöÄ [SiriButton] Modular architecture initializing..."),this.debug.log("  üì¶ Container ID:",s),n?(this.state.setColorScheme(n),this.debug.log("  üé® Custom colors applied:",n)):this.state.setColorScheme({primary:"#5DB6B9",secondary:"#E8B554",glow:"rgba(93, 182, 185, 0.4)",name:"English"});const a={userAgent:navigator.userAgent,isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isTouch:"ontouchstart"in window,screen:{width:screen.width,height:screen.height,devicePixelRatio:window.devicePixelRatio}};this.debug.log("üîç [SiriButton] DEVICE INFO:",a),this.initializeCanvas(s),this.setupModules(),this.startSystems(),this.debug.log("‚úÖ [SiriButton] Modular initialization completed")}initializeCanvas(s){this.debug.log("üé® [SiriButton] Initializing canvas for container:",s);const n=document.getElementById(s);if(!n)throw this.debug.error("‚ùå [SiriButton] Container element not found:",s),new Error(`Container element not found: ${s}`);this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.inset="2px",this.canvas.style.borderRadius="50%",this.canvas.style.display="block",this.canvas.style.background="transparent",this.canvas.style.zIndex="1",this.canvas.style.pointerEvents="none",this.canvas.setAttribute("data-siri-canvas","true"),this.canvas.setAttribute("data-mobile-debug",/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?"mobile":"desktop"),this.canvas.id=`${s}-canvas`,n.appendChild(this.canvas);const a=this.canvas.getContext("2d");if(!a)throw this.debug.error("‚ùå [SiriButton] Could not get canvas context"),new Error("Could not get canvas context");this.ctx=a,this.debug.log("‚úÖ [SiriButton] Canvas created and context obtained"),setTimeout(()=>{this.debug.debug("üîç [SiriButton] CANVAS VERIFICATION:"),this.debug.debug("  üé® Canvas in DOM:",document.contains(this.canvas)),this.debug.debug("  üé® Canvas rect:",this.canvas.getBoundingClientRect())},200)}setupModules(){this.debug.log("üîß [SiriButton] Setting up module configuration..."),this.emergency.setCanvasReferences(this.canvas,this.ctx),this.dimensions.setCanvas(this.canvas),this.renderer.ctx=this.ctx,this.dimensions.setupResizeListener(),this.debug.log("‚úÖ [SiriButton] Module configuration completed")}startSystems(){this.debug.log("üöÄ [SiriButton] Starting systems..."),this.currentDimensions=this.dimensions.initialize(),setTimeout(()=>{this.currentDimensions=this.dimensions.safeResize(),this.debug.log("üìê Initial resize completed:",this.currentDimensions),this.animation.start(),this.renderFrame(),this.isInitialized=!0,this.debug.log("‚úÖ [SiriButton] All systems started")},100),setTimeout(()=>{this.currentDimensions=this.dimensions.safeResize(),this.renderFrame(),this.debug.log("üì± [SiriButton] Mobile compatibility resize completed")},300)}renderFrame(){if(!this.isInitialized||this.emergency.shouldSkipAnimation())return;const s=this.state.getRenderState(),n={...this.currentDimensions,...s,...this.animation.getState()};this.animation.render(n)}updateColors(s){this.state.setColorScheme(s),this.debug.log("üé® [SiriButton] Colors updated:",s)}static setDebugLevel(s){we.setDebugLevel(s)}static getDebugLevel(){return we.getDebugLevel()}emergencyStopPublic(){this.emergency.triggerEmergencyStop(),this.animation.stop(),this.debug.warn("[SiriButton] Emergency stop triggered via public API")}setListening(s){this.state.setListening(s),this.animation.setListening(s),this.debug.log("üé§ [SiriButton] Listening state:",s)}setVolumeLevel(s){this.state.setVolumeLevel(s),this.animation.setVolumeLevel(s)}setTime(s,n=60){this.animation.updateElapsedTime(s),this.animation.setTimeTarget(n)}getTime(){const s=this.animation.getState();return{elapsed:s.elapsedTime,target:s.timeTarget}}setInteractionMode(s){const n={isHovered:s==="hover",isActive:s==="active"};this.state.updateExternalState(n),this.animation.markActivity(),this.debug.debug("üëÜ [SiriButton] Interaction mode:",s)}setTouchPosition(s,n){this.state.setMousePosition(s,n),this.state.updateExternalState({mousePosition:{x:s,y:n}})}updateVisualState(s){this.state.updateExternalState(s),this.animation.markActivity()}cleanup(){if(this.debug.log("üßπ [SiriButton] Cleaning up modular components..."),this.animation.stop(),this.animation.cleanup(),this.dimensions.cleanup(),this.state.reset(),this.canvas&&this.canvas.parentElement&&document.contains(this.canvas))try{this.canvas.parentElement.removeChild(this.canvas),this.debug.log("‚úÖ [SiriButton] Canvas removed successfully")}catch(s){this.debug.warn("[SiriButton] Error removing canvas:",s)}this.canvas=null,this.ctx=null,this.isInitialized=!1,this.debug.log("‚úÖ [SiriButton] Cleanup completed")}}typeof window<"u"&&(window.SiriDebugControls={setLevel:t=>{it.setDebugLevel(t),console.log(`üîß Voice debug level set to: ${t}`)},getLevel:()=>it.getDebugLevel(),silent:()=>it.setDebugLevel(0),errorsOnly:()=>it.setDebugLevel(1),verbose:()=>it.setDebugLevel(2),help:()=>{console.log(`
üîß SiriDebugControls Help:
- SiriDebugControls.silent()     -> Turn off all debug logs
- SiriDebugControls.errorsOnly() -> Show errors + warnings only  
- SiriDebugControls.verbose()    -> Show all debug logs
- SiriDebugControls.setLevel(n)  -> Set level manually (0-2)
- SiriDebugControls.getLevel()   -> Check current level

üöÄ NEW: Modular Architecture
- Each module has independent debug logging
- Better error isolation and reporting
- Enhanced mobile debugging support
      `)}},window.voiceDebugOff=()=>it.setDebugLevel(0),window.voiceDebugOn=()=>it.setDebugLevel(2));const t1=({isListening:t,volumeLevel:s,colors:n,size:a=280})=>{const[r,i]=l.useState(0),[c,o]=l.useState([]);l.useEffect(()=>{let u,m=0;const p=f=>{f-m>=16&&(i(y=>y+.05),o(y=>y.map(j=>({...j,scale:j.scale+.02,opacity:j.opacity-.01})).filter(j=>j.opacity>0)),m=f),u=requestAnimationFrame(p)};return u=requestAnimationFrame(p),()=>{u&&cancelAnimationFrame(u)}},[]),l.useEffect(()=>{if(t){const u=setInterval(()=>{o(m=>[...m,{id:Date.now(),scale:1,opacity:.4}])},300);return()=>clearInterval(u)}},[t]);const h=1+.1*Math.sin(r),d=t?s*.3:0,x=h+d;return e.jsxs("div",{style:{position:"relative",width:a,height:a,display:"flex",alignItems:"center",justifyContent:"center"},children:[c.map(u=>e.jsx("div",{style:{position:"absolute",width:a,height:a,borderRadius:"50%",border:`2px solid ${n.primary}`,transform:`scale(${u.scale})`,opacity:u.opacity,pointerEvents:"none"}},u.id)),e.jsx("div",{style:{position:"absolute",width:a+40,height:a+40,borderRadius:"50%",background:`radial-gradient(circle, ${n.glow} 0%, transparent 70%)`,transform:`scale(${x})`,opacity:t?.8:.4,transition:"opacity 0.3s ease",pointerEvents:"none"}}),e.jsx("div",{style:{position:"absolute",width:a,height:a,borderRadius:"50%",background:`linear-gradient(135deg, ${n.primary}, ${n.secondary})`,transform:`scale(${x})`,boxShadow:`0 0 ${t?40:20}px ${n.glow}`,transition:"box-shadow 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none"},children:e.jsx("div",{style:{color:"white",fontSize:a*.25,textShadow:"0 0 20px rgba(255,255,255,0.8)",transform:`scale(${1+s*.2})`,transition:"transform 0.1s ease"},children:"üé§"})}),t&&e.jsx("div",{style:{position:"absolute",bottom:-40,left:"50%",transform:"translateX(-50%)",color:n.primary,fontSize:14,fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"Listening..."}),e.jsx("style",{children:`
          @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
          }
        `})]})},us=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"ontouchstart"in window||navigator.maxTouchPoints>0,s1=()=>({isMobile:us(),hasTouch:"ontouchstart"in window,maxTouchPoints:navigator.maxTouchPoints||0,userAgent:navigator.userAgent,screenWidth:window.screen.width,screenHeight:window.screen.height,devicePixelRatio:window.devicePixelRatio||1}),n1=t=>{const s=s1();console.log(`üì± [${t}] Device Info:`,{isMobile:s.isMobile,hasTouch:s.hasTouch,maxTouchPoints:s.maxTouchPoints,screen:`${s.screenWidth}x${s.screenHeight}`,dpr:s.devicePixelRatio})},a1=({isListening:t,volumeLevel:s,containerId:n,onCallStart:a,onCallEnd:r,language:i="en",colors:c})=>{const o=(G,..._)=>{},h=(G,..._)=>{},d=(G,..._)=>{console.error(`[SiriCallButton] ${G}`,..._)},x=l.useRef(null),u=l.useRef(!1),[m,p]=l.useState("idle"),[f,g]=l.useState(!1),y=l.useRef(!1),j=l.useRef(0),T=3,M=l.useRef(!1),b=l.useCallback(()=>{if(!u.current){u.current=!0;try{if(x.current){try{x.current.cleanup()}catch(_){h("Cleanup error:",_)}x.current=null}const G=document.getElementById(n);if(G)try{G.querySelectorAll("canvas").forEach(S=>{S.parentElement&&document.contains(S)&&S.parentElement.removeChild(S)})}catch(_){d("Failed to remove canvases:",_)}g(!1)}catch(G){d("Safe cleanup failed:",G)}}},[n]),O=l.useCallback(()=>{h(),M.current=!0;try{if(x.current)try{typeof x.current.emergencyStopPublic=="function"&&x.current.emergencyStopPublic()}catch(G){d("Failed to emergency stop SiriButton:",G)}b(),h("üö® EMERGENCY STOP COMPLETED")}catch(G){d("Emergency stop failed:",G)}},[b]),A=l.useCallback((G,_)=>{x.current&&(x.current.setInteractionMode("active"),_&&x.current.setTouchPosition(_.x,_.y)),o("üéØ [SiriCallButton] Interaction start:",{position:_})},[]),z=l.useCallback(async G=>{if(o(),o("  üéØ Event type:",G.type),o("  üéØ Event target:",G.target),x.current&&(x.current.setInteractionMode("idle"),o()),y.current){o();return}y.current=!0,o(),o("  üéß isListening:",t),o("  ‚úÖ onCallStart available:",!!a),o("  ‚úÖ onCallEnd available:",!!r);try{if(!t&&a){p("listening"),o("üé§ [SiriCallButton] üü¢ STARTING CALL - Calling onCallStart()...");try{await a(),o("üé§ [SiriCallButton] ‚úÖ onCallStart() completed successfully")}catch(_){d("üé§ [SiriCallButton] ‚ùå onCallStart() error:",_),p("idle")}}else t&&r?(p("processing"),o("üõë [SiriCallButton] üî¥ ENDING CALL - Calling onCallEnd()..."),r(),o("üõë [SiriCallButton] ‚úÖ onCallEnd() completed"),setTimeout(()=>p("idle"),500)):(o("üîî [SiriCallButton] ‚ö†Ô∏è NO ACTION TAKEN:"),o("  üéß isListening:",t),o("  üé§ onCallStart available:",!!a),o("  üõë onCallEnd available:",!!r))}finally{setTimeout(()=>{y.current=!1,o()},100)}o()},[t,a,r]),Q=l.useCallback(G=>{x.current&&x.current.setInteractionMode(G?"hover":"idle")},[]);l.useEffect(()=>{if(us())return o(),g(!0),()=>{y.current=!1,o()};if(M.current){h();return}if(j.current++,j.current>T){d("Too many initialization attempts, triggering emergency stop"),O();return}u.current=!1,M.current=!1,o();const _=document.getElementById(n);if(!_){h("Container element not found:",n);return}_.querySelectorAll("canvas").forEach($=>{$.parentElement&&document.contains($)&&$.parentElement.removeChild($)});try{x.current=new it(n,c),g(!0),setTimeout(()=>{x.current&&!u.current&&!M.current&&(o("üîß [SiriCallButton] Single resize for mobile compatibility"),window.dispatchEvent(new Event("resize")))},200)}catch($){d("Init error:",$),j.current<T?setTimeout(()=>{if(!u.current&&!M.current)try{x.current=new it(n,c),g(!0),o("üîß [SiriCallButton] Retry successful - no additional resize needed")}catch(X){d("Retry failed:",X),j.current>=T&&O()}},200):(d("Max init attempts reached, triggering emergency stop"),O())}const K=us();if(n1("SiriCallButton"),console.log("üì± [SiriCallButton] Device detection - isMobile:",K),K)return()=>{b()};{const $=()=>{Q(!0),console.log("üñ±Ô∏è [SiriCallButton] üü¢ DESKTOP Mouse enter")},X=()=>{Q(!1),console.log("üñ±Ô∏è [SiriCallButton] üî¥ DESKTOP Mouse leave")},xe=de=>{console.log("üñ±Ô∏è [SiriCallButton] üîΩ DESKTOP Mouse down - event target:",de.target),console.log("üñ±Ô∏è [SiriCallButton] üîΩ Element ID:",_.id),console.log("üñ±Ô∏è [SiriCallButton] üîΩ isHandlingClick before:",y.current);const ne=_.getBoundingClientRect();A(de,{x:de.clientX-ne.left,y:de.clientY-ne.top}),console.log("üñ±Ô∏è [SiriCallButton] üîΩ Mouse down completed")},Le=de=>{console.log("üñ±Ô∏è [SiriCallButton] üîº DESKTOP Mouse up - event target:",de.target),console.log("üñ±Ô∏è [SiriCallButton] üîº onCallStart available:",!!a),console.log("üñ±Ô∏è [SiriCallButton] üîº isListening state:",t),console.log("üñ±Ô∏è [SiriCallButton] üîº isHandlingClick before:",y.current),z(de),console.log("üñ±Ô∏è [SiriCallButton] üîº Mouse up - triggering action completed")};console.log("üñ±Ô∏è [SiriCallButton] üéØ DESKTOP EVENT SETUP:"),console.log("  üì¶ Element ID:",_.id),console.log("  üì¶ Element tagName:",_.tagName),console.log("  üéõÔ∏è onCallStart available:",!!a),console.log("  üéõÔ∏è onCallEnd available:",!!r),console.log("  üé® Element computed style:",window.getComputedStyle(_).pointerEvents);const Te=de=>{console.log("üéØ [SiriCallButton] üî• MANUAL TEST CLICK DETECTED!"),console.log("  üéØ Click target:",de.target),console.log("  üéØ Click coordinates:",de.clientX,de.clientY),console.log("  üéØ Element rect:",_.getBoundingClientRect()),console.log("  üéØ onCallStart available:",!!a)};return _.addEventListener("click",Te),_.addEventListener("mouseenter",$),_.addEventListener("mouseleave",X),_.addEventListener("mousedown",xe),_.addEventListener("mouseup",Le),console.log("üñ±Ô∏è [SiriCallButton] ‚úÖ Desktop mouse events added successfully"),()=>{console.log("üñ±Ô∏è [SiriCallButton] üßπ Cleaning up desktop mouse events"),y.current=!1,o(),_.removeEventListener("click",Te),_.removeEventListener("mouseenter",$),_.removeEventListener("mouseleave",X),_.removeEventListener("mousedown",xe),_.removeEventListener("mouseup",Le),b()}}},[n,c,A,z,Q,b,a,t]),l.useEffect(()=>{x.current&&!u.current&&(x.current.setListening(t),console.log("üîß [SiriCallButton] Listening state updated without resize trigger"))},[t,n]),l.useEffect(()=>{x.current&&!u.current&&x.current.setVolumeLevel(s)},[s]),l.useEffect(()=>{x.current&&c&&!u.current&&x.current.updateColors(c)},[c]);const Y=async G=>{if(G.type==="touchend"||G.type==="click"){if(o(),o("  üì± Event type:",G.type),o("  üì± Event target:",G.target),y.current){o();return}y.current=!0,o(),o("  üéß isListening:",t),o("  ‚úÖ onCallStart available:",!!a),o("  ‚úÖ onCallEnd available:",!!r);try{if(!t&&a){p("listening"),o("üì± [SiriCallButton] üü¢ MOBILE - STARTING CALL");try{await a(),o("üì± [SiriCallButton] ‚úÖ Mobile onCallStart() completed successfully")}catch(_){d("üì± [SiriCallButton] ‚ùå Mobile onCallStart() error:",_),p("idle")}}else t&&r?(p("processing"),o("üì± [SiriCallButton] üî¥ MOBILE - ENDING CALL"),r(),o("üì± [SiriCallButton] ‚úÖ Mobile onCallEnd() completed"),setTimeout(()=>p("idle"),500)):(o("üì± [SiriCallButton] ‚ö†Ô∏è MOBILE NO ACTION TAKEN:"),o("  üì± isListening:",t),o("  üì± onCallStart available:",!!a),o("  üì± onCallEnd available:",!!r))}finally{setTimeout(()=>{y.current=!1,o()},100)}o()}};return e.jsxs("div",{id:n,className:"voice-button",onTouchStart:Y,onTouchEnd:Y,onClick:Y,style:{width:"100%",height:"100%",position:"relative",cursor:"pointer",zIndex:10,borderRadius:"50%",pointerEvents:"auto",overflow:"visible",touchAction:"manipulation",WebkitTapHighlightColor:"transparent",WebkitUserSelect:"none",userSelect:"none",WebkitTouchCallout:"none"},children:[!1,us()&&f&&e.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none"},children:e.jsx(t1,{isListening:t,volumeLevel:s,colors:c||{primary:"#5DB6B9",secondary:"#E8B554",glow:"rgba(93, 182, 185, 0.4)",name:"English"},size:Math.min(300,Math.min(parseInt(getComputedStyle(document.getElementById(n)||document.body).width)-20,parseInt(getComputedStyle(document.getElementById(n)||document.body).height)-20))})}),!f&&!us()&&e.jsx("div",{className:"absolute inset-0 rounded-full flex items-center justify-center",style:{background:`linear-gradient(135deg, ${c?.primary||"#5DB6B9"}, ${c?.secondary||"#E8B554"})`,color:"white",fontSize:"36px",boxShadow:`0 0 30px ${c?.glow||"rgba(93, 182, 185, 0.4)"}`,border:"2px solid rgba(255,255,255,0.1)",pointerEvents:"none"},children:"üé§"}),m!=="idle"&&m!=="listening"&&e.jsx("div",{className:`status-indicator ${m}`,style:{position:"absolute",top:"-48px",left:"50%",transform:"translateX(-50%)",color:c?.primary||"#5DB6B9",textShadow:`0 0 10px ${c?.glow||"rgba(93, 182, 185, 0.4)"}`,pointerEvents:"none"},children:m==="processing"?"Processing...":"Speaking..."})]})},r1=()=>{const[t,s]=l.useState(()=>typeof window>"u"?!1:window.innerWidth>=768);return l.useEffect(()=>{const n=()=>{const a=window.innerWidth>=768;a!==t&&(s(a),console.log("üîÑ [useSiriResponsiveSize] Platform changed:",a?"Desktop":"Mobile"))};return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[t]),t?{width:"320px",height:"320px",minWidth:"320px",minHeight:"320px",maxWidth:"320px",maxHeight:"320px"}:{width:"min(300px, 80vw)",height:"min(300px, 80vw)",minWidth:"240px",minHeight:"240px",maxWidth:"300px",maxHeight:"300px"}},pr={en:{primary:"#5DB6B9",secondary:"#E8B554",glow:"rgba(93, 182, 185, 0.4)",name:"English"},fr:{primary:"#8B5CF6",secondary:"#A78BFA",glow:"rgba(139, 92, 246, 0.4)",name:"Fran√ßais"},zh:{primary:"#EF4444",secondary:"#FCA5A5",glow:"rgba(239, 68, 68, 0.4)",name:"‰∏≠Êñá"},ru:{primary:"#10B981",secondary:"#6EE7B7",glow:"rgba(16, 185, 129, 0.4)",name:"–†—É—Å—Å–∫–∏–π"},ko:{primary:"#F59E0B",secondary:"#FDE68A",glow:"rgba(245, 158, 11, 0.4)",name:"ÌïúÍµ≠Ïñ¥"},vi:{primary:"#EC4899",secondary:"#F9A8D4",glow:"rgba(236, 72, 153, 0.4)",name:"Ti·∫øng Vi·ªát"}},fr=({isCallStarted:t,micLevel:s,onCallStart:n,onCallEnd:a,onCancel:r,onConfirm:i,showingSummary:c=!1})=>{const{language:o}=Tt(),h=r1(),[d,x]=l.useState(!1),u=pr[o]||pr.en;console.log("üé® [SiriButtonContainer] Language:",o,"Colors:",u.name,"Primary:",u.primary),console.log("üìè [SiriButtonContainer] Responsive size:",h),l.useEffect(()=>{t||x(!1)},[t]);const m=async f=>{if(d){console.log("üõ°Ô∏è [SiriButtonContainer] Call start blocked - confirming in progress");return}console.log("üé§ [SiriButtonContainer] Starting call normally..."),await n(f)},p=()=>{console.log("üîµ [SiriButtonContainer] Confirm button clicked"),x(!0);try{i?(console.log("üîµ [SiriButtonContainer] Calling onConfirm..."),i(),console.log("‚úÖ [SiriButtonContainer] onConfirm completed successfully"),setTimeout(()=>{x(!1),console.log("üîì [SiriButtonContainer] isConfirming reset after successful confirm")},1e3)):(console.warn("‚ö†Ô∏è [SiriButtonContainer] onConfirm is undefined"),alert("Confirm function is not available"),x(!1))}catch(f){console.error("‚ùå [SiriButtonContainer] Error in Confirm button:",f),console.error("‚ùå [SiriButtonContainer] Error details:",{name:f?.name,message:f?.message,stack:f?.stack}),x(!1),alert("Call completed! There was an issue with the summary. Please check with front desk.")}};return e.jsxs("div",{className:"flex flex-col items-center justify-center w-full relative",style:{marginBottom:Fe.spacing.xl,zIndex:9999,pointerEvents:"auto",height:"400px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[e.jsxs("div",{className:"flex items-center justify-center gap-4 w-full max-w-sm px-4",style:{position:"absolute",top:"20px",left:"50%",transform:"translateX(-50%)",height:"40px",opacity:0,visibility:"hidden",pointerEvents:"none",transition:"opacity 0.3s ease-in-out",zIndex:1},children:[e.jsx("button",{onClick:r,disabled:!0,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-full text-sm font-semibold transition-all duration-200 active:scale-95",style:{minWidth:"80px"},children:"Cancel"}),e.jsx("button",{onClick:p,disabled:!0,className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-full text-sm font-semibold transition-all duration-200 active:scale-95",style:{minWidth:"80px"},children:"Confirm"})]}),e.jsx("div",{className:`relative transition-all duration-500 ease-in-out voice-button ${t?"listening":""} ${d?"confirming":""}`,"data-language":o,style:{width:h.width,height:h.height,minWidth:h.minWidth,minHeight:h.minHeight,maxWidth:h.maxWidth,maxHeight:h.maxHeight,borderRadius:"50%",boxShadow:d?"0 10px 20px rgba(128, 128, 128, 0.3), 0 0 30px rgba(128, 128, 128, 0.2)":`0 20px 40px ${u.glow}, 0 0 60px ${u.glow}`,background:d?"linear-gradient(135deg, #80808020, #80808010)":`linear-gradient(135deg, ${u.primary}15, ${u.secondary}10)`,backdropFilter:"blur(10px)",border:d?"2px solid #80808040":`2px solid ${u.primary}40`,cursor:d?"not-allowed":"pointer",touchAction:"manipulation",opacity:d?.6:1,position:"relative",flexShrink:0,alignSelf:"center",aspectRatio:"1",margin:"0 auto",contain:"layout style"},children:e.jsx(a1,{containerId:"main-siri-button",isListening:t,volumeLevel:s,onCallStart:()=>m(o),onCallEnd:a,language:o,colors:u})}),e.jsx("div",{className:"block mt-4 text-center transition-all duration-300",style:{fontSize:"1rem",fontWeight:"600"},children:d?e.jsx("div",{style:{color:"#808080",textShadow:"0 2px 8px rgba(128, 128, 128, 0.3)"},children:"üìã Processing call summary..."}):t?e.jsx("div",{style:{color:u.primary,textShadow:`0 2px 8px ${u.glow}`},children:"üé§ Listening... Tap to end call"}):e.jsx("div",{style:{color:u.primary,textShadow:`0 2px 8px ${u.glow}`},children:"Tap To Speak"})}),!1]})},i1=()=>{const{popups:t,removePopup:s}=nn(),[n,a]=l.useState(!1);l.useEffect(()=>{const i=t.find(c=>c.type==="summary");a(!!i)},[t]);const r=()=>{t.filter(i=>i.type==="summary").forEach(i=>s(i.id))};return e.jsx(bo,{isOpen:n,onClose:r,layout:"center-modal"})},o1=({isActive:t})=>{const{isLoading:s,error:n,micLevel:a,heroSectionRef:r,serviceGridRef:i,isCallStarted:c,showConversation:o,handleCallStart:h,handleCallEnd:d,handleCancel:x,handleConfirm:u,showingSummary:m,showRightPanel:p,handleRightPanelClose:f}=Ab({isActive:t});return console.log("üîç [Interface1] Popup States:",{isCallStarted:c,showConversation:o,chatPopupOpen:o&&c,summaryPopupOpen:o&&!c}),s?e.jsx(Eb,{}):n?e.jsx(Db,{error:n}):e.jsxs(po,{children:[e.jsxs("div",{ref:r,className:"relative",children:[e.jsx(fo,{}),e.jsxs("div",{className:"relative min-h-[400px] px-4",children:[e.jsxs("div",{className:"hidden md:block",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-8 items-center justify-items-center min-h-[400px] mb-8",children:[e.jsx("div",{className:"w-full max-w-sm",children:e.jsx(gr,{isOpen:o&&c,onClose:()=>{},layout:"grid"})}),e.jsx("div",{className:"flex flex-col items-center justify-center w-full max-w-md",children:e.jsx("div",{className:"flex items-center justify-center p-4",children:e.jsx(fr,{isCallStarted:c,micLevel:a,onCallStart:async g=>{await h(g)},onCallEnd:d,onCancel:x,onConfirm:u,showingSummary:m})})}),e.jsx("div",{className:"w-full max-w-sm",children:e.jsx(bo,{isOpen:p,onClose:f,layout:"grid",className:"relative z-30 ml-10"})})]}),e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("div",{className:"w-full max-w-sm"})})]}),e.jsxs("div",{className:"block md:hidden",children:[e.jsx("div",{className:"w-full flex flex-col items-center justify-center min-h-[400px] relative z-50",children:e.jsx("div",{className:"flex flex-col items-center justify-center",children:e.jsx(fr,{isCallStarted:c,micLevel:a,onCallStart:async g=>{await h(g)},onCallEnd:d,onCancel:x,onConfirm:u,showingSummary:m})})}),e.jsx(gr,{isOpen:o,onClose:()=>{},layout:"overlay",className:"fixed bottom-0 left-0 right-0 z-40"}),e.jsx(i1,{})]})]})]}),e.jsx("div",{className:"mt-16 relative z-10",children:e.jsx(yo,{ref:i})})]})},bn=768;function l1(){const[t,s]=l.useState(void 0);return l.useEffect(()=>{const n=window.matchMedia(`(max-width: ${bn-1}px)`),a=()=>{s(window.innerWidth<bn)};return n.addEventListener("change",a),s(window.innerWidth<bn),()=>n.removeEventListener("change",a)},[]),!!t}const cs=()=>{const t=Qn(),s=Ac(),{language:n,setLanguage:a}=Tt(),[r,i]=l.useState(n),[c,o]=l.useState(!1);l.useEffect(()=>{localStorage.getItem("hasVisited")||(o(!0),localStorage.setItem("hasVisited","true"))},[]);const[h]=l.useState({interface1:!0,interface2:!1,interface3:!1,interface3vi:!1,interface3fr:!1,interface4:!1}),d=[{value:"en",label:"üá∫üá∏ English",flag:"üá∫üá∏"},{value:"vi",label:"üáªüá≥ Ti·∫øng Vi·ªát",flag:"üáªüá≥"},{value:"fr",label:"üá´üá∑ Fran√ßais",flag:"üá´üá∑"},{value:"zh",label:"üá®üá≥ ‰∏≠Êñá",flag:"üá®üá≥"},{value:"ru",label:"üá∑üá∫ –†—É—Å—Å–∫–∏–π",flag:"üá∑üá∫"},{value:"ko",label:"üá∞üá∑ ÌïúÍµ≠Ïñ¥",flag:"üá∞üá∑"}],x=f=>{const g=f;i(g),a(g)},{logout:u}=_e(),m=l1(),p=()=>{u(),t("/login")};return e.jsx(oh,{children:e.jsxs("div",{className:"relative w-full h-full min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50",children:[e.jsx("div",{className:"fixed top-0 left-0 right-0 bg-white/80 backdrop-blur-sm border-b border-gray-200 z-50 h-[42px]",children:e.jsxs("div",{className:"flex justify-between items-center px-4 h-full",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-bold text-blue-600 text-lg",children:"Mi Nhon Hotel"}),e.jsx("span",{className:"hidden sm:inline text-sm text-gray-500",children:"Voice Assistant"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("select",{value:r,onChange:f=>x(f.target.value),className:"text-sm bg-white/50 border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",children:d.map(f=>e.jsxs("option",{value:f.value,children:[f.flag," ",f.label.split(" ")[1]]},f.value))}),s.pathname.includes("/staff")&&e.jsx("button",{onClick:p,className:"flex items-center gap-1 px-3 py-1.5 text-white/80 hover:text-white hover:bg-white/10 rounded-full transition-colors text-sm",children:"üö™ Logout"})]})]})}),e.jsx("div",{className:"relative w-full h-full",id:"interfaceContainer",style:{marginTop:"42px",minHeight:"calc(100vh - 42px)"},children:e.jsx(di,{fallbackComponent:e.jsx(Cb,{}),onError:(f,g)=>{console.error("üö® [VoiceAssistant] Interface1 Error:",f),console.error("üö® [VoiceAssistant] Error Info:",g)},children:e.jsx(o1,{isActive:h.interface1},"stable-interface1")})}),e.jsx(Nb,{position:"bottom",maxVisible:4,autoCloseDelay:1e4,isMobile:m})]})})},c1=l.createContext(void 0);class vN extends Me.Component{constructor(s){super(s),this.state={hasError:!1,error:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,n){console.error("Hotel configuration error:",s,n)}render(){return this.state.hasError?this.props.fallback||e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[e.jsx(ve,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Configuration Error"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Failed to load hotel configuration. Please try refreshing the page."}),e.jsxs("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md",children:[e.jsx(se,{className:"w-4 h-4 inline mr-2"}),"Reload Page"]})]})}):this.props.children}}const d1=({children:t})=>{console.log("[DEBUG] HotelProvider rendered");const s=mo(),{config:n,isLoading:a,error:r}=s,i=y=>"",c=y=>"",o=y=>n?.features?.[y]??!1,h=()=>n?.supportedLanguages||[],d=y=>n?.services||[],x=()=>({primary:n?.branding?.colors.primary||"#2E7D32",secondary:n?.branding?.colors.secondary||"#FFC107",accent:n?.branding?.colors.accent||"#FF6B6B"}),u=()=>({primary:n?.branding?.fonts.primary||"Inter",secondary:n?.branding?.fonts.secondary||"Roboto"}),m=()=>null,p=()=>null,f=()=>"UTC",g=()=>"USD";return e.jsx(c1.Provider,{value:{config:n,loading:a,error:r,reload:async()=>{},getVapiPublicKey:i,getVapiAssistantId:c,hasFeature:o,getSupportedLanguages:h,getAvailableServices:d,getThemeColors:x,getFontFamilies:u,getContactInfo:m,getLocation:p,getTimezone:f,getCurrency:g},children:t})},h1=rs("rounded-lg border bg-card text-card-foreground transition-all duration-200",{variants:{variant:{default:"shadow-sm hover:shadow-md",elevated:"shadow-md hover:shadow-lg transform hover:-translate-y-1",ghost:"border-none shadow-none hover:bg-accent/50",outline:"bg-transparent hover:bg-accent/50"},size:{default:"p-6",sm:"p-4",lg:"p-8"}},defaultVariants:{variant:"default",size:"default"}}),w=l.forwardRef(({className:t,variant:s,size:n,...a},r)=>e.jsx("div",{ref:r,className:k(h1({variant:s,size:n,className:t})),...a}));w.displayName="Card";const I=l.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:k("flex flex-col space-y-1.5",t),...s}));I.displayName="CardHeader";const R=l.forwardRef(({className:t,...s},n)=>e.jsx("h3",{ref:n,className:k("text-2xl font-semibold leading-none tracking-tight",t),...s}));R.displayName="CardTitle";const U=l.forwardRef(({className:t,...s},n)=>e.jsx("p",{ref:n,className:k("text-sm text-muted-foreground",t),...s}));U.displayName="CardDescription";const N=l.forwardRef(({className:t,padded:s=!0,...n},a)=>e.jsx("div",{ref:a,className:k(s&&"p-6 pt-0",t),...n}));N.displayName="CardContent";const u1=l.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:k("flex items-center p-6 pt-0",t),...s}));u1.displayName="CardFooter";const m1=l.forwardRef(({className:t,color:s="primary",...n},a)=>{const r={primary:"bg-primary/10 text-primary",secondary:"bg-secondary/10 text-secondary",success:"bg-green-100 text-green-700",warning:"bg-yellow-100 text-yellow-700",danger:"bg-red-100 text-red-700"};return e.jsx("div",{ref:a,className:k("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium",r[s],t),...n})});m1.displayName="CardBadge";const x1=l.forwardRef(({className:t,alt:s,...n},a)=>e.jsx("img",{ref:a,className:k("w-full h-48 object-cover rounded-t-lg",t),alt:s,...n}));x1.displayName="CardImage";const g1=l.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:k("absolute top-4 right-4 flex items-center gap-2",t),...s}));g1.displayName="CardActions";function p1(){return e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:e.jsx(w,{className:"w-full max-w-md mx-4",children:e.jsxs(N,{className:"pt-6",children:[e.jsxs("div",{className:"flex mb-4 gap-2",children:[e.jsx(ve,{className:"h-8 w-8 text-red-500"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function f1(){const[t,s]=l.useState(null),[n,a]=l.useState(!1),r=Tt(),i=l.useRef(0),c=l.useCallback(()=>{console.log("useWebSocket env VITE_API_HOST:",void 0),t!==null&&t.close();const x=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`;console.log("Attempting WebSocket connection to",x);const u=new WebSocket(x);return u.onopen=()=>{console.log("WebSocket connection established"),a(!0),i.current=0,r.callDetails&&u.send(JSON.stringify({type:"init",callId:r.callDetails.id}))},u.onmessage=m=>{try{const p=JSON.parse(m.data);console.log("[useWebSocket] Message received:",p),p.type==="transcript"&&(console.log("[useWebSocket] Transcript message:",p),r.addTranscript({callId:p.callId,role:p.role,content:p.content,tenantId:"default"})),p.type==="connected"&&console.log("[useWebSocket] Connected to server:",p.message),p.type==="order_status_update"&&(p.orderId||p.reference)&&p.status&&(console.log("[useWebSocket] Order status update:",p),r.setActiveOrders(f=>f.map(g=>p.reference&&g.reference===p.reference||p.orderId&&g.reference===p.orderId?{...g,status:p.status}:g)))}catch(p){console.error("Error parsing WebSocket message:",p)}},u.onclose=m=>{if(console.log("WebSocket connection closed",m),a(!1),i.current<5){const p=Math.pow(2,i.current)*1e3;console.log(`Reconnecting WebSocket in ${p}ms (attempt ${i.current+1})`),setTimeout(c,p),i.current++}else console.warn("Max WebSocket reconnection attempts reached")},u.onerror=m=>{console.error("WebSocket encountered error",m),u.readyState!==WebSocket.CLOSED&&u.close()},s(u),()=>{u.close()}},[r.callDetails,r.addTranscript,r.activeOrders,r.setActiveOrders]),o=l.useCallback(d=>{t&&n?t.send(JSON.stringify(d)):console.error("Cannot send message, WebSocket not connected")},[t,n]),h=l.useCallback(()=>{n||c()},[n,c]);return l.useEffect(()=>(c(),()=>{t&&t.close()}),[]),l.useEffect(()=>{t&&n&&r.callDetails?.id&&(console.log("Sending init message with callId after availability",r.callDetails.id),t.send(JSON.stringify({type:"init",callId:r.callDetails.id})))},[r.callDetails?.id,t,n]),{connected:n,sendMessage:o,reconnect:h}}const v1=({onLogin:t})=>{const[s,n]=l.useState(""),[a,r]=l.useState(""),[i,c]=l.useState(""),[o,h]=l.useState(!1),d=async x=>{if(x.preventDefault(),!s||!a){c("Please enter both username and password.");return}c("");try{const u=await fetch("/api/staff/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s,password:a})});if(!u.ok){const p=await u.json();c(p.error||"Login failed.");return}const m=await u.json();m.token?(localStorage.setItem("token",m.token),t()):c("Login failed: No token received.")}catch{c("Login failed: Network or server error.")}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-100 to-blue-300",children:e.jsxs("form",{onSubmit:d,className:"bg-white p-8 rounded-xl shadow-lg w-full max-w-md space-y-6 border border-gray-200",children:[e.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-4 text-center",children:"Staff Login"}),i&&e.jsx("div",{className:"text-red-500 text-sm mb-2",children:i}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Username"}),e.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400",value:s,onChange:x=>n(x.target.value),autoFocus:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:o?"text":"password",className:"w-full p-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400",value:a,onChange:x=>r(x.target.value)}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>h(!o),children:o?e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):e.jsxs("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-700 hover:bg-blue-800 text-white font-semibold py-2 rounded-lg transition",children:"Login"})]})})},j1=["ƒê√£ ghi nh·∫≠n","ƒêang th·ª±c hi·ªán","ƒê√£ th·ª±c hi·ªán v√† ƒëang b√†n giao cho kh√°ch","Ho√†n thi·ªán","L∆∞u √Ω kh√°c"],y1=({request:t,onClose:s,onStatusChange:n,onOpenMessage:a})=>{const[r,i]=l.useState(t.status);return t?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 w-full max-w-lg relative",children:[e.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-blue-700",onClick:s,children:"√ó"}),e.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-4",children:"Request Details"}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{children:[e.jsx("b",{children:"Room:"})," ",t.room]}),e.jsxs("div",{children:[e.jsx("b",{children:"Order ID:"})," ",t.id]}),e.jsxs("div",{children:[e.jsx("b",{children:"Guest Name:"})," ",t.guestName]}),e.jsxs("div",{children:[e.jsx("b",{children:"Content:"})," ",t.content]}),e.jsxs("div",{children:[e.jsx("b",{children:"Time:"})," ",t.time]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("b",{children:"Status:"}),e.jsx("select",{className:"border rounded px-2 py-1 text-xs",value:r,onChange:c=>i(c.target.value),children:j1.map(c=>e.jsx("option",{value:c,children:c},c))})]}),e.jsxs("div",{children:[e.jsx("b",{children:"Notes:"})," ",t.notes||"-"]})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded font-semibold",onClick:()=>{r!==t.status&&n(r)},children:"C·∫≠p Nh·∫≠t"}),e.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded font-semibold",onClick:a,children:"Nh·∫Øn kh√°ch"}),e.jsx("button",{className:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded font-semibold",onClick:s,children:"ƒê√≥ng"})]})]})}):null},b1=({messages:t,onSend:s,onClose:n,loading:a})=>{const[r,i]=l.useState(""),c=()=>{r.trim()&&(s(r),i(""))};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-5 w-full max-w-md relative flex flex-col",children:[e.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-blue-700",onClick:n,children:"√ó"}),e.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-3",children:"Nh·∫Øn tin t·ªõi Guest"}),e.jsx("div",{className:"flex-1 overflow-y-auto mb-3 max-h-60 border rounded p-2 bg-gray-50",children:t.length===0?e.jsx("div",{className:"text-gray-400 text-sm text-center",children:"Ch∆∞a c√≥ tin nh·∫Øn"}):t.map(o=>e.jsxs("div",{className:`mb-2 ${o.sender==="staff"?"text-right":"text-left"}`,children:[e.jsxs("div",{className:`inline-block px-3 py-1 rounded-lg ${o.sender==="staff"?"bg-blue-100 text-blue-900":"bg-gray-200 text-gray-800"}`,children:[e.jsxs("span",{className:"font-semibold",children:[o.sender==="staff"?"Staff":"Guest",":"]})," ",o.content]}),e.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:o.time})]},o.id))}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("input",{type:"text",className:"flex-1 border rounded px-2 py-1",placeholder:"Nh·∫≠p tin nh·∫Øn...",value:r,onChange:o=>i(o.target.value),onKeyDown:o=>{o.key==="Enter"&&c()},disabled:a}),e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-1 rounded font-semibold",onClick:c,disabled:a||!r.trim(),children:"G·ª≠i"})]})]})})},wn=["T·∫•t c·∫£","ƒê√£ ghi nh·∫≠n","ƒêang th·ª±c hi·ªán","ƒê√£ th·ª±c hi·ªán v√† ƒëang b√†n giao cho kh√°ch","Ho√†n thi·ªán","L∆∞u √Ω kh√°c"],vr=t=>{switch(t){case"ƒê√£ ghi nh·∫≠n":return"bg-gray-300 text-gray-800";case"ƒêang th·ª±c hi·ªán":return"bg-yellow-200 text-yellow-800";case"ƒê√£ th·ª±c hi·ªán v√† ƒëang b√†n giao cho kh√°ch":return"bg-blue-200 text-blue-800";case"Ho√†n thi·ªán":return"bg-green-200 text-green-800";case"L∆∞u √Ω kh√°c":return"bg-red-200 text-red-800";default:return"bg-gray-100 text-gray-700"}},wo=()=>{const[t,s]=l.useState([]),[n,a]=l.useState(null),[r,i]=l.useState(!1),[c,o]=l.useState(!1),[h,d]=l.useState([]),[x,u]=l.useState(!1),[m,p]=l.useState("T·∫•t c·∫£"),[f,g]=l.useState(""),[y,j]=l.useState(""),[T,M]=l.useState(null),[b,O]=l.useState(!1),[A,z]=l.useState(!1),[Q,Y]=l.useState(""),[G,_]=l.useState(""),[S,K]=l.useState({}),$=Qn(),X=()=>localStorage.getItem("staff_token"),xe=async()=>{const D=X();if(!D){$("/staff");return}try{const W=await fetch("/api/staff/requests",{headers:{Authorization:`Bearer ${D}`},credentials:"include"});if(W.status===401){localStorage.removeItem("staff_token"),$("/staff");return}const re=await W.json();console.log("Fetched requests data:",re),s(re)}catch(W){console.error("Failed to fetch requests:",W)}};l.useEffect(()=>{xe();const D=setInterval(xe,3e4);return()=>clearInterval(D)},[]);const Le=()=>{i(!1),a(null)},Te=async(D,W)=>{const re=X();if(!re)return $("/staff");try{await fetch(`/api/staff/requests/${W}/status`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${re}`},credentials:"include",body:JSON.stringify({status:D})}),s(It=>It.map(rt=>rt.id===W?{...rt,status:D}:rt)),n&&n.id===W&&a({...n,status:D})}catch(It){console.error("Failed to update status:",It)}},de=async()=>{if(o(!0),!n)return;const D=X();if(!D)return $("/staff");try{const re=await(await fetch(`/api/staff/requests/${n.id}/messages`,{headers:{Authorization:`Bearer ${D}`},credentials:"include"})).json();d(re)}catch{d([])}},ne=()=>o(!1),Dt=async D=>{u(!0);const W=X();if(!W)return $("/staff");try{await fetch(`/api/staff/requests/${n.id}/message`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${W}`},credentials:"include",body:JSON.stringify({content:D})}),d(re=>[...re,{id:(re.length+1).toString(),sender:"staff",content:D,time:new Date().toLocaleTimeString().slice(0,5)}])}catch{}u(!1)},ke=async()=>{z(!0),Y(""),_("")},Ze=async()=>{if(Q!=="2208"){_("M·∫≠t kh·∫©u kh√¥ng ƒë√∫ng");return}O(!0);try{const D=X();if(!D)return z(!1),$("/staff");const re=await(await fetch("/api/staff/requests/all",{method:"DELETE",headers:{Authorization:`Bearer ${D}`},credentials:"include"})).json();z(!1),re.success?(alert(`${re.message}`),s([])):alert(`L·ªói: ${re.error||"Kh√¥ng th·ªÉ x√≥a requests"}`)}catch(D){console.error("Error deleting all requests:",D),alert("ƒê√£ x·∫£y ra l·ªói khi x√≥a requests"),z(!1)}finally{O(!1),Y("")}},P=t.filter(D=>{if(m!=="T·∫•t c·∫£"&&D.status!==m)return!1;if(f||y){const W=new Date(D.created_at);if(f){const re=new Date(f);if(re.setHours(0,0,0,0),W<re)return!1}if(y){const re=new Date(y);if(re.setHours(23,59,59,999),W>re)return!1}}return!0}),ae=D=>{D.key==="Enter"&&Ze(),G&&_("")},Ve=D=>{D.stopPropagation()};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-200 p-2 sm:p-6",children:[e.jsxs("div",{className:"max-w-7xl mx-auto bg-white rounded-xl shadow-lg p-3 sm:p-6 border border-gray-200",children:[e.jsxs("div",{className:"flex flex-col items-center mb-6",children:[e.jsx("img",{src:"/assets/references/images/minhon-logo.jpg",alt:"Minhon Logo",className:"h-16 object-contain mb-2"}),e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-blue-900 text-center",children:"Staff Request Management"})]}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("button",{onClick:()=>$("/analytics"),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-semibold shadow transition",children:"View Analytics"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:ke,disabled:b||t.length===0,className:`bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-semibold shadow transition ${b||t.length===0?"opacity-50 cursor-not-allowed":""}`,children:b?"Deleting...":"Delete All Requests"}),e.jsx("button",{onClick:xe,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold shadow transition",children:"Refresh"})]})]}),e.jsxs("div",{className:"mb-4 grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[e.jsx("label",{className:"font-semibold text-blue-900 w-full sm:w-auto",children:"L·ªçc theo tr·∫°ng th√°i:"}),e.jsx("select",{className:"w-full sm:w-auto border rounded px-3 py-1 text-sm",value:m,onChange:D=>p(D.target.value),children:wn.map(D=>e.jsx("option",{value:D,children:D},D))})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[e.jsx("label",{className:"font-semibold text-blue-900 w-full sm:w-auto",children:"L·ªçc theo th·ªùi gian:"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 w-full sm:w-auto",children:[e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("label",{className:"text-sm text-gray-600 min-w-10",children:"T·ª´:"}),e.jsx("input",{type:"date",className:"border rounded px-2 py-1 text-sm w-full",value:f,onChange:D=>g(D.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("label",{className:"text-sm text-gray-600 min-w-10",children:"ƒê·∫øn:"}),e.jsx("input",{type:"date",className:"border rounded px-2 py-1 text-sm w-full",value:y,onChange:D=>j(D.target.value)})]}),(f||y)&&e.jsx("button",{onClick:()=>{g(""),j("")},className:"text-blue-600 hover:text-blue-800 text-sm mt-2 sm:mt-0",children:"X√≥a l·ªçc"})]})]})]}),e.jsx("div",{className:"block sm:hidden",children:e.jsxs("div",{className:"space-y-4",children:[(console.log("Mobile rendering - filteredRequests:",P),null),P.length>0?[...P].sort((D,W)=>new Date(W.created_at).getTime()-new Date(D.created_at).getTime()).map(D=>e.jsxs("div",{className:"border rounded-lg p-3 bg-white shadow-sm",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsxs("div",{className:"font-semibold",children:["Ph√≤ng: ",D.room_number||"N/A"]}),e.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-semibold ${vr(D.status)}`,children:D.status||"Ch∆∞a x√°c ƒë·ªãnh"})]}),e.jsxs("div",{className:"text-sm text-gray-500 mb-2",children:["Order ID: ",D.orderId||D.id||"N/A"]}),e.jsx("div",{className:"text-xs text-gray-500 mb-3",children:D.created_at?e.jsxs(e.Fragment,{children:[new Date(D.created_at).toLocaleDateString()," ",new Date(D.created_at).toLocaleTimeString()]}):"Th·ªùi gian kh√¥ng x√°c ƒë·ªãnh"}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("button",{onClick:()=>M(T===D.id?null:D.id),className:"w-full flex justify-between items-center py-1 px-2 border rounded bg-gray-50 hover:bg-gray-100",children:[e.jsx("span",{className:"text-sm font-medium text-blue-700",children:T===D.id?"·∫®n n·ªôi dung":"Xem n·ªôi dung"}),e.jsx("svg",{className:`w-4 h-4 text-blue-700 transition-transform ${T===D.id?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),T===D.id&&e.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded-md whitespace-pre-line break-words text-sm",children:D.request_content||"Kh√¥ng c√≥ n·ªôi dung"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("select",{className:"border rounded px-2 py-2 text-sm w-full",value:S[D.id]??D.status,onChange:W=>K(re=>({...re,[D.id]:W.target.value})),children:wn.filter(W=>W!=="T·∫•t c·∫£").map(W=>e.jsx("option",{value:W,children:W},W))}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-2 py-2 rounded text-sm font-semibold",onClick:async()=>{const W=S[D.id];W&&W!==D.status&&(await Te(W,D.id),K(re=>{const{[D.id]:It,...rt}=re;return rt}))},children:"C·∫≠p Nh·∫≠t"}),e.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-2 py-2 rounded text-sm font-semibold",onClick:()=>{a(D),de()},children:"Nh·∫Øn kh√°ch"})]})]})]},D.id)):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("p",{children:"Kh√¥ng c√≥ y√™u c·∫ßu n√†o"}),e.jsx("p",{className:"mt-2 text-sm",children:"Nh·∫•n Refresh ƒë·ªÉ t·∫£i l·∫°i d·ªØ li·ªáu"})]})]})}),e.jsx("div",{className:"hidden sm:block overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-blue-100 text-blue-900",children:[e.jsx("th",{className:"py-2 px-3 text-left",children:"Room"}),e.jsx("th",{className:"py-2 px-3 text-left",children:"Order ID"}),e.jsx("th",{className:"py-2 px-6 text-left w-3/5",children:"Content"}),e.jsx("th",{className:"py-2 px-3 text-left",children:"Time"}),e.jsx("th",{className:"py-2 px-2 text-left w-1/12",children:"Status"}),e.jsx("th",{className:"py-2 px-3 text-left",children:"Action"})]})}),e.jsxs("tbody",{children:[(Array.isArray(P)?[...P].sort((D,W)=>new Date(W.created_at).getTime()-new Date(D.created_at).getTime()):[]).map(D=>e.jsxs("tr",{className:"border-b hover:bg-blue-50",children:[e.jsx("td",{className:"py-2 px-3 font-semibold",children:D.room_number}),e.jsx("td",{className:"py-2 px-3",children:D.orderId||D.id}),e.jsx("td",{className:"py-2 px-6 whitespace-pre-line break-words max-w-4xl",children:D.request_content}),e.jsxs("td",{className:"py-2 px-3",children:[D.created_at&&e.jsx("span",{className:"block whitespace-nowrap",children:new Date(D.created_at).toLocaleDateString()}),D.created_at&&e.jsx("span",{className:"block whitespace-nowrap text-xs text-gray-500",children:new Date(D.created_at).toLocaleTimeString()})]}),e.jsx("td",{className:"py-2 px-2",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${vr(D.status)} break-words whitespace-normal block text-center`,children:D.status})}),e.jsxs("td",{className:"py-2 px-3 space-x-2",children:[e.jsx("select",{className:"border rounded px-2 py-1 text-xs",value:S[D.id]??D.status,onChange:W=>K(re=>({...re,[D.id]:W.target.value})),children:wn.filter(W=>W!=="T·∫•t c·∫£").map(W=>e.jsx("option",{value:W,children:W},W))}),e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-xs font-semibold",onClick:async()=>{const W=S[D.id];W&&W!==D.status&&(await Te(W,D.id),K(re=>{const{[D.id]:It,...rt}=re;return rt}))},children:"C·∫≠p Nh·∫≠t"}),e.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-xs font-semibold",onClick:()=>{a(D),de()},children:"Nh·∫Øn kh√°ch"})]})]},D.id)),P.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"py-8 text-center text-gray-500",children:"Kh√¥ng c√≥ y√™u c·∫ßu n√†o"})})]})]})})]}),r&&n&&e.jsx(y1,{request:n,onClose:Le,onStatusChange:D=>Te(D,n.id),onOpenMessage:de}),c&&n&&e.jsx(b1,{messages:h,onClose:ne,onSend:Dt,loading:x}),A&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md mx-4",onClick:Ve,children:[e.jsx("h3",{className:"text-lg font-bold text-red-600 mb-4",children:"X√°c nh·∫≠n x√≥a to√†n b·ªô requests"}),e.jsx("p",{className:"mb-4 text-gray-700",children:"H√†nh ƒë·ªông n√†y s·∫Ω x√≥a t·∫•t c·∫£ requests v√† kh√¥ng th·ªÉ ho√†n t√°c. Vui l√≤ng nh·∫≠p m·∫≠t kh·∫©u ƒë·ªÉ x√°c nh·∫≠n:"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("input",{type:"password",value:Q,onChange:D=>Y(D.target.value),onKeyDown:ae,className:`w-full px-3 py-2 border rounded ${G?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-red-500`,placeholder:"Nh·∫≠p m·∫≠t kh·∫©u x√°c nh·∫≠n",autoFocus:!0}),G&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:G}),e.jsx("p",{className:"text-gray-500 text-xs mt-2 italic",children:"Bi·ªán ph√°p b·∫£o v·ªá: Ch·ª©c nƒÉng x√≥a y√™u c·∫ßu m·∫≠t kh·∫©u x√°c nh·∫≠n ƒë·ªÉ ngƒÉn ng·ª´a x√≥a d·ªØ li·ªáu do nh·∫ßm l·∫´n."})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>z(!1),className:"px-4 py-2 bg-gray-300 hover:bg-gray-400 rounded transition duration-200",children:"H·ªßy"}),e.jsx("button",{onClick:Ze,disabled:b,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded transition duration-200 flex items-center disabled:opacity-70",children:b?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ƒêang x√≥a..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"X√°c nh·∫≠n x√≥a"]})})]})]})})]})},w1=()=>{const[t,s]=l.useState(!1),n=()=>s(!0);return t?e.jsx(wo,{}):e.jsx(v1,{onLogin:n})},jr=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF4560"],N1=()=>{const[t,s]=l.useState(null),[n,a]=l.useState([]),[r,i]=l.useState([]),c=Qn(),o=async h=>{const d=localStorage.getItem("staff_token");if(!d)return c("/staff"),null;try{const x=await fetch(h,{headers:{Authorization:`Bearer ${d}`}});return x.status===401?(c("/staff"),null):x.json()}catch(x){return console.error(`Failed to fetch from ${h}:`,x),null}};return l.useEffect(()=>{(async()=>{const d=await o("/api/analytics/overview"),x=await o("/api/analytics/service-distribution"),u=await o("/api/analytics/hourly-activity");d&&s(d),x&&a(x),u&&i(u)})()},[]),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-100 to-gray-200 p-4 sm:p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800",children:"Analytics Dashboard"}),e.jsx("button",{onClick:()=>c("/staff/dashboard"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold shadow transition",children:"Back to Staff Dashboard"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Total Calls"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t?.totalCalls||"..."})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Avg. Call Duration"}),e.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[t?.averageCallDuration||"...","s"]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Languages"}),e.jsx(ot,{width:"100%",height:150,children:e.jsxs(kn,{children:[e.jsx(_n,{data:t?.languageDistribution,dataKey:"count",nameKey:"language",cx:"50%",cy:"50%",outerRadius:60,fill:"#8884d8",label:!0,children:t?.languageDistribution.map((h,d)=>e.jsx(Tn,{fill:jr[d%jr.length]},`cell-${d}`))}),e.jsx(lt,{})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Popular Services"}),e.jsx(ot,{width:"100%",height:300,children:e.jsxs(li,{data:n,margin:{top:5,right:20,left:10,bottom:5},children:[e.jsx(Zt,{strokeDasharray:"3 3"}),e.jsx(Xt,{dataKey:"serviceType"}),e.jsx(Yt,{}),e.jsx(lt,{}),e.jsx(za,{}),e.jsx(ci,{dataKey:"count",fill:"#8884d8"})]})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Hourly Activity"}),e.jsx(ot,{width:"100%",height:300,children:e.jsxs(Zn,{data:r,margin:{top:5,right:20,left:10,bottom:5},children:[e.jsx(Zt,{strokeDasharray:"3 3"}),e.jsx(Xt,{dataKey:"hour"}),e.jsx(Yt,{}),e.jsx(lt,{}),e.jsx(za,{}),e.jsx(xs,{type:"monotone",dataKey:"count",stroke:"#82ca9d"})]})})]})]})]})})},ja=rs("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-[10px] text-base font-semibold ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-5 [&_svg]:shrink-0 shadow-sm px-5 py-2",{variants:{variant:{default:"bg-gradient-to-tr from-[#4e5ab7] to-[#3f51b5] text-white hover:brightness-110 hover:shadow-lg",yellow:"bg-gradient-to-b from-[#ffe066] to-[#ffd700] text-blue-900 border-2 border-[#d4af37] shadow-xl hover:brightness-105 hover:shadow-2xl text-shadow-white",outline:"border-2 border-[#4e5ab7] bg-white text-[#4e5ab7] hover:bg-[#f5f7fa]",secondary:"bg-white text-[#4e5ab7] border border-[#4e5ab7] hover:bg-[#e8eaf6]",destructive:"bg-red-500 text-white hover:bg-red-600",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-12 px-6 py-2",sm:"h-10 rounded-md px-4 py-2 text-sm",lg:"h-14 rounded-xl px-8 py-3 text-lg",icon:"h-12 w-12"}},defaultVariants:{variant:"default",size:"default"}}),C=l.forwardRef(({className:t,variant:s,size:n,asChild:a=!1,...r},i)=>{const c=a?dc:"button";return e.jsx(c,{className:k(ja({variant:s,size:n,className:t})),ref:i,...r})});C.displayName="Button";const C1=rs("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-dark"}},defaultVariants:{variant:"default"}});function V({className:t,variant:s,...n}){return e.jsx("div",{className:k(C1({variant:s}),t),...n})}function S1(){return mi.useSyncExternalStore(k1,()=>!0,()=>!1)}function k1(){return()=>{}}var ya="Avatar",[_1,jN]=Ht(ya),[T1,No]=_1(ya),Co=l.forwardRef((t,s)=>{const{__scopeAvatar:n,...a}=t,[r,i]=l.useState("idle");return e.jsx(T1,{scope:n,imageLoadingStatus:r,onImageLoadingStatusChange:i,children:e.jsx(je.span,{...a,ref:s})})});Co.displayName=ya;var So="AvatarImage",ko=l.forwardRef((t,s)=>{const{__scopeAvatar:n,src:a,onLoadingStatusChange:r=()=>{},...i}=t,c=No(So,n),o=A1(a,i),h=fs(d=>{r(d),c.onImageLoadingStatusChange(d)});return Vs(()=>{o!=="idle"&&h(o)},[o,h]),o==="loaded"?e.jsx(je.img,{...i,ref:s,src:a}):null});ko.displayName=So;var _o="AvatarFallback",To=l.forwardRef((t,s)=>{const{__scopeAvatar:n,delayMs:a,...r}=t,i=No(_o,n),[c,o]=l.useState(a===void 0);return l.useEffect(()=>{if(a!==void 0){const h=window.setTimeout(()=>o(!0),a);return()=>window.clearTimeout(h)}},[a]),c&&i.imageLoadingStatus!=="loaded"?e.jsx(je.span,{...r,ref:s}):null});To.displayName=_o;function yr(t,s){return t?s?(t.src!==s&&(t.src=s),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function A1(t,{referrerPolicy:s,crossOrigin:n}){const a=S1(),r=l.useRef(null),i=a?(r.current||(r.current=new window.Image),r.current):null,[c,o]=l.useState(()=>yr(i,t));return Vs(()=>{o(yr(i,t))},[i,t]),Vs(()=>{const h=u=>()=>{o(u)};if(!i)return;const d=h("loaded"),x=h("error");return i.addEventListener("load",d),i.addEventListener("error",x),s&&(i.referrerPolicy=s),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",d),i.removeEventListener("error",x)}},[i,n,s]),c}var Ao=Co,Eo=ko,Do=To;const ba=l.forwardRef(({className:t,...s},n)=>e.jsx(Ao,{ref:n,className:k("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...s}));ba.displayName=Ao.displayName;const wa=l.forwardRef(({className:t,...s},n)=>e.jsx(Eo,{ref:n,className:k("aspect-square h-full w-full",t),...s}));wa.displayName=Eo.displayName;const Na=l.forwardRef(({className:t,...s},n)=>e.jsx(Do,{ref:n,className:k("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...s}));Na.displayName=Do.displayName;const Io=uc,Ro=mc,E1=l.forwardRef(({className:t,inset:s,children:n,...a},r)=>e.jsxs(Fr,{ref:r,className:k("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",t),...a,children:[n,e.jsx($t,{className:"ml-auto h-4 w-4"})]}));E1.displayName=Fr.displayName;const D1=l.forwardRef(({className:t,...s},n)=>e.jsx(Or,{ref:n,className:k("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));D1.displayName=Or.displayName;const Ca=l.forwardRef(({className:t,sideOffset:s=4,...n},a)=>e.jsx(hc,{children:e.jsx(zr,{ref:a,sideOffset:s,className:k("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Ca.displayName=zr.displayName;const zt=l.forwardRef(({className:t,inset:s,...n},a)=>e.jsx(Br,{ref:a,className:k("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",t),...n}));zt.displayName=Br.displayName;const I1=l.forwardRef(({className:t,children:s,checked:n,...a},r)=>e.jsxs(qr,{ref:r,className:k("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Hr,{children:e.jsx(aa,{className:"h-4 w-4"})})}),s]}));I1.displayName=qr.displayName;const R1=l.forwardRef(({className:t,children:s,...n},a)=>e.jsxs(Vr,{ref:a,className:k("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Hr,{children:e.jsx(zd,{className:"h-2 w-2 fill-current"})})}),s]}));R1.displayName=Vr.displayName;const Sa=l.forwardRef(({className:t,inset:s,...n},a)=>e.jsx(Ur,{ref:a,className:k("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...n}));Sa.displayName=Ur.displayName;const ws=l.forwardRef(({className:t,...s},n)=>e.jsx(Gr,{ref:n,className:k("-mx-1 my-1 h-px bg-muted",t),...s}));ws.displayName=Gr.displayName;const P1=[{href:"/dashboard",icon:ia,label:"T·ªïng quan",description:"Metrics v√† th·ªëng k√™ t·ªïng quan"},{href:"/dashboard/setup",icon:We,label:"Thi·∫øt l·∫≠p Assistant",description:"C·∫•u h√¨nh v√† t√πy ch·ªânh AI Assistant"},{href:"/dashboard/analytics",icon:na,label:"Ph√¢n t√≠ch",description:"B√°o c√°o v√† th·ªëng k√™ chi ti·∫øt"},{href:"/dashboard/settings",icon:Qe,label:"C√†i ƒë·∫∑t",description:"Qu·∫£n l√Ω th√¥ng tin kh√°ch s·∫°n"}],M1=[{href:"/dashboard/billing",icon:en,label:"Thanh to√°n",description:"Qu·∫£n l√Ω subscription v√† billing",requiresPlan:"basic"},{href:"/dashboard/team",icon:He,label:"Nh√≥m",description:"Qu·∫£n l√Ω team v√† permissions",requiresPlan:"enterprise"}],L1=({href:t,icon:s,label:n,description:a,isActive:r,disabled:i=!1})=>{const c=e.jsxs(C,{variant:r?"default":"ghost",className:k("w-full justify-start gap-3 px-3 py-6 h-auto","hover:bg-gray-100 dark:hover:bg-gray-800",r&&"bg-primary text-primary-foreground hover:bg-primary/90",i&&"opacity-50 cursor-not-allowed hover:bg-transparent"),disabled:i,children:[e.jsx(s,{className:"h-5 w-5 shrink-0"}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("div",{className:"font-medium",children:n}),e.jsx("div",{className:k("text-xs text-muted-foreground",r&&"text-primary-foreground/80"),children:a})]}),i&&e.jsx(V,{variant:"outline",className:"text-xs",children:"Premium"})]});return i?e.jsx("div",{children:c}):e.jsx(Ne,{href:t,children:c})},$1=({plan:t,status:s})=>{const n=()=>s==="expired"?"destructive":t==="trial"?"secondary":t==="enterprise"?"default":"outline",a=()=>t==="trial"?"D√πng th·ª≠":t==="basic"?"C∆° b·∫£n":t==="premium"?"Cao c·∫•p":t==="enterprise"?"Doanh nghi·ªáp":t;return e.jsx(V,{variant:n(),className:"text-xs",children:a()})},F1=(t,s)=>{if(!s)return!0;const n={trial:0,basic:1,premium:2,enterprise:3},a=n[t]??0,r=n[s]??0;return a>=r},O1=({isOpen:t,onClose:s,tenantData:n})=>{const[a]=as(),r=[...P1,...M1.filter(i=>i.requiresPlan&&n.subscriptionPlan!=="trial")];return e.jsx("aside",{className:k("fixed inset-y-0 left-0 z-50 w-80 bg-white dark:bg-gray-800 shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0",t?"translate-x-0":"-translate-x-full"),children:e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary text-primary-foreground",children:e.jsx(Hi,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold",children:"Talk2Go"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"SaaS Dashboard"})]})]}),e.jsx(C,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:s,children:e.jsx(Gt,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"px-6 py-4 border-b",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-lg",children:n.hotelName}),e.jsx("div",{className:"text-xs text-gray-500",children:n.subscriptionStatus==="active"?"Ho·∫°t ƒë·ªông":"H·∫øt h·∫°n"})]}),e.jsx($1,{plan:n.subscriptionPlan,status:n.subscriptionStatus})]}),e.jsx(Ne,{href:"/interface1",className:"block mt-3 px-3 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 transition text-center",children:"Xem giao di·ªán kh√°ch"})]}),e.jsx("nav",{className:"flex-1 p-4 space-y-2",children:r.map(i=>{const c=F1(n.subscriptionPlan,i.requiresPlan);return e.jsx(L1,{href:i.href,icon:i.icon,label:i.label,description:i.description,isActive:a===i.href,disabled:!c},i.href)})}),e.jsx("div",{className:"p-4 border-t",children:e.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"¬© 2024 Talk2Go. All rights reserved."})})]})})},Qt={id:"tenant-1",hotelName:"Mi Nhon Hotel",subscriptionPlan:"premium",subscriptionStatus:"active",remainingDays:15},z1=[{href:"/dashboard",icon:ia,label:"T·ªïng quan",description:"Metrics v√† th·ªëng k√™ t·ªïng quan"},{href:"/dashboard/setup",icon:We,label:"Thi·∫øt l·∫≠p Assistant",description:"C·∫•u h√¨nh v√† t√πy ch·ªânh AI Assistant"},{href:"/dashboard/analytics",icon:na,label:"Ph√¢n t√≠ch",description:"B√°o c√°o v√† th·ªëng k√™ chi ti·∫øt"},{href:"/dashboard/settings",icon:Qe,label:"C√†i ƒë·∫∑t",description:"Qu·∫£n l√Ω th√¥ng tin kh√°ch s·∫°n"}],B1=t=>{const s=[];return t!=="trial"&&s.push({href:"/dashboard/billing",icon:en,label:"Thanh to√°n",description:"Qu·∫£n l√Ω subscription v√† billing"}),t==="enterprise"&&s.push({href:"/dashboard/team",icon:He,label:"Nh√≥m",description:"Qu·∫£n l√Ω team v√† permissions"}),s},Mt=({children:t})=>{const[s,n]=l.useState(!1);as();const{tenant:a,logout:r}=_e();return[...z1,...B1(a?.subscriptionPlan||Qt.subscriptionPlan)],e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s&&e.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:()=>n(!1)}),e.jsx(O1,{isOpen:s,onClose:()=>n(!1),tenantData:a||Qt}),e.jsxs("div",{className:"lg:ml-80",children:[e.jsx("header",{className:"sticky top-0 z-30 bg-white dark:bg-gray-800 border-b shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(C,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>n(!0),children:e.jsx(Wi,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Dashboard"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Qu·∫£n l√Ω kh√°ch s·∫°n v√† AI Assistant"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(C,{variant:"ghost",size:"icon",className:"relative",children:[e.jsx(Bt,{className:"h-5 w-5"}),e.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 bg-red-500 rounded-full text-xs flex items-center justify-center text-white",children:"2"})]}),e.jsxs(Io,{children:[e.jsx(Ro,{asChild:!0,children:e.jsx(C,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:e.jsxs(ba,{className:"h-10 w-10",children:[e.jsx(wa,{src:"",alt:(a||Qt).hotelName}),e.jsx(Na,{className:"bg-primary text-primary-foreground",children:(a||Qt).hotelName.charAt(0).toUpperCase()})]})})}),e.jsxs(Ca,{className:"w-56",align:"end",children:[e.jsxs(Sa,{className:"flex flex-col",children:[e.jsx("div",{className:"font-medium",children:(a||Qt).hotelName}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["ID: ",(a||Qt).id]})]}),e.jsx(ws,{}),e.jsxs(zt,{children:[e.jsx(Qe,{className:"mr-2 h-4 w-4"}),"C√†i ƒë·∫∑t t√†i kho·∫£n"]}),e.jsxs(zt,{children:[e.jsx(Vi,{className:"mr-2 h-4 w-4"}),"Tr·ª£ gi√∫p"]}),e.jsx(ws,{}),e.jsxs(zt,{className:"text-red-600 focus:text-red-600",onClick:r,children:[e.jsx(Ki,{className:"mr-2 h-4 w-4"}),"ƒêƒÉng xu·∫•t"]})]})]})]})]})}),e.jsx("main",{className:"p-6",children:t})]})]})};var ka="Progress",_a=100,[q1,yN]=Ht(ka),[H1,V1]=q1(ka),Po=l.forwardRef((t,s)=>{const{__scopeProgress:n,value:a=null,max:r,getValueLabel:i=U1,...c}=t;(r||r===0)&&!br(r)&&console.error(G1(`${r}`,"Progress"));const o=br(r)?r:_a;a!==null&&!wr(a,o)&&console.error(K1(`${a}`,"Progress"));const h=wr(a,o)?a:null,d=Qs(h)?i(h,o):void 0;return e.jsx(H1,{scope:n,value:h,max:o,children:e.jsx(je.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":Qs(h)?h:void 0,"aria-valuetext":d,role:"progressbar","data-state":$o(h,o),"data-value":h??void 0,"data-max":o,...c,ref:s})})});Po.displayName=ka;var Mo="ProgressIndicator",Lo=l.forwardRef((t,s)=>{const{__scopeProgress:n,...a}=t,r=V1(Mo,n);return e.jsx(je.div,{"data-state":$o(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...a,ref:s})});Lo.displayName=Mo;function U1(t,s){return`${Math.round(t/s*100)}%`}function $o(t,s){return t==null?"indeterminate":t===s?"complete":"loading"}function Qs(t){return typeof t=="number"}function br(t){return Qs(t)&&!isNaN(t)&&t>0}function wr(t,s){return Qs(t)&&!isNaN(t)&&t<=s&&t>=0}function G1(t,s){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${s}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${_a}\`.`}function K1(t,s){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${s}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${_a} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Fo=Po,W1=Lo;const ct=l.forwardRef(({className:t,value:s,...n},a)=>e.jsx(Fo,{ref:a,className:k("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:e.jsx(W1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));ct.displayName=Fo.displayName;const et={totalCalls:1247,totalCallsGrowth:12.5,averageCallDuration:245,callDurationGrowth:-5.2,activeUsers:89,activeUsersGrowth:8.3,satisfactionScore:4.7,satisfactionGrowth:2.1,languageDistribution:[{language:"Ti·∫øng Vi·ªát",count:687,percentage:55.1},{language:"English",count:423,percentage:33.9},{language:"Fran√ßais",count:137,percentage:11}],recentActivity:[{time:"2 ph√∫t tr∆∞·ªõc",action:"Cu·ªôc g·ªçi t·ª´ ph√≤ng 205",type:"call"},{time:"5 ph√∫t tr∆∞·ªõc",action:"ƒê·∫∑t room service t·ª´ ph√≤ng 301",type:"service"},{time:"12 ph√∫t tr∆∞·ªõc",action:"H·ªèi th√¥ng tin v·ªÅ spa",type:"inquiry"},{time:"18 ph√∫t tr∆∞·ªõc",action:"Ph√†n n√†n v·ªÅ ti·∫øng ·ªìn",type:"complaint"}]},Lt={usageLimit:5e3,currentUsage:1247,resetDate:"2024-01-01"},$s=({title:t,value:s,change:n,icon:a,description:r,suffix:i=""})=>e.jsxs(w,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(R,{className:"text-sm font-medium",children:t}),e.jsx(a,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(N,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[s,i]}),e.jsxs("div",{className:"flex items-center pt-1",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:r}),n!==void 0&&e.jsxs("div",{className:`ml-auto flex items-center text-xs ${n>0?"text-green-600":"text-red-600"}`,children:[e.jsx($e,{className:`h-3 w-3 mr-1 ${n<0?"rotate-180":""}`}),Math.abs(n),"%"]})]})]})]}),Q1=({time:t,action:s,type:n})=>{const a=()=>{switch(n){case"call":return e.jsx(nt,{className:"h-4 w-4 text-blue-500"});case"service":return e.jsx(We,{className:"h-4 w-4 text-green-500"});case"inquiry":return e.jsx(Ut,{className:"h-4 w-4 text-purple-500"});case"complaint":return e.jsx(ve,{className:"h-4 w-4 text-red-500"});default:return e.jsx(mt,{className:"h-4 w-4 text-gray-500"})}};return e.jsxs("div",{className:"flex items-center space-x-3 p-3 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0",children:a()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:s}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:t})]})]})},Z1=()=>e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"h-5 w-5"}),"Thao t√°c nhanh"]}),e.jsx(U,{children:"C√°c t√≠nh nƒÉng th∆∞·ªùng d√πng"})]}),e.jsxs(N,{className:"space-y-3",children:[e.jsx(Ne,{href:"/dashboard/setup",children:e.jsxs(C,{variant:"outline",className:"w-full justify-start",children:[e.jsx(We,{className:"h-4 w-4 mr-2"}),"C·∫•u h√¨nh AI Assistant"]})}),e.jsx(Ne,{href:"/dashboard/analytics",children:e.jsxs(C,{variant:"outline",className:"w-full justify-start",children:[e.jsx(_s,{className:"h-4 w-4 mr-2"}),"Xem b√°o c√°o chi ti·∫øt"]})}),e.jsx(Ne,{href:"/dashboard/settings",children:e.jsxs(C,{variant:"outline",className:"w-full justify-start",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"C√†i ƒë·∫∑t kh√°ch s·∫°n"]})})]})]}),X1=()=>{const t=Lt.currentUsage/Lt.usageLimit*100;return e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(mt,{className:"h-5 w-5"}),"S·ª≠ d·ª•ng th√°ng n√†y"]}),e.jsx(U,{children:"Theo d√µi gi·ªõi h·∫°n subscription"})]}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Cu·ªôc g·ªçi"}),e.jsxs("span",{children:[Lt.currentUsage.toLocaleString()," / ",Lt.usageLimit.toLocaleString()]})]}),e.jsx(ct,{value:t,className:"h-2"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"C√≤n l·∫°i"}),e.jsxs("span",{className:"font-medium",children:[(Lt.usageLimit-Lt.currentUsage).toLocaleString()," cu·ªôc g·ªçi"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(st,{className:"h-4 w-4"}),e.jsxs("span",{children:["Reset v√†o ",Lt.resetDate]})]})]})]})},Y1=()=>e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(is,{className:"h-5 w-5 text-green-500"}),"Tr·∫°ng th√°i h·ªá th·ªëng"]})}),e.jsxs(N,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"AI Assistant"})]}),e.jsx(V,{variant:"outline",className:"text-green-600",children:"Ho·∫°t ƒë·ªông"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"Voice API"})]}),e.jsx(V,{variant:"outline",className:"text-green-600",children:"Ho·∫°t ƒë·ªông"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"Analytics"})]}),e.jsx(V,{variant:"outline",className:"text-green-600",children:"Ho·∫°t ƒë·ªông"})]})]})]}),J1=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"T·ªïng quan"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Theo d√µi hi·ªáu su·∫•t AI Assistant v√† ho·∫°t ƒë·ªông kh√°ch s·∫°n"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx($s,{title:"T·ªïng cu·ªôc g·ªçi",value:et.totalCalls.toLocaleString(),change:et.totalCallsGrowth,icon:nt,description:"Th√°ng n√†y"}),e.jsx($s,{title:"Th·ªùi gian trung b√¨nh",value:Math.floor(et.averageCallDuration/60),change:et.callDurationGrowth,icon:st,description:"Ph√∫t/cu·ªôc g·ªçi",suffix:"m"}),e.jsx($s,{title:"Ng∆∞·ªùi d√πng ho·∫°t ƒë·ªông",value:et.activeUsers,change:et.activeUsersGrowth,icon:He,description:"Trong 7 ng√†y"}),e.jsx($s,{title:"ƒêi·ªÉm h√†i l√≤ng",value:et.satisfactionScore,change:et.satisfactionGrowth,icon:$e,description:"Tr√™n 5 ƒëi·ªÉm",suffix:"/5"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(w,{className:"lg:col-span-2",children:[e.jsxs(I,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(os,{className:"h-5 w-5"}),"Ph√¢n b·ªë ng√¥n ng·ªØ"]}),e.jsx(U,{children:"Ng√¥n ng·ªØ ƒë∆∞·ª£c s·ª≠ d·ª•ng trong c√°c cu·ªôc g·ªçi"})]}),e.jsx(N,{children:e.jsx("div",{className:"space-y-4",children:et.languageDistribution.map(t=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium",children:t.language}),e.jsxs("span",{className:"text-muted-foreground",children:[t.count," (",t.percentage,"%)"]})]}),e.jsx(ct,{value:t.percentage,className:"h-2"})]},t.language))})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(Z1,{}),e.jsx(X1,{})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(mt,{className:"h-5 w-5"}),"Ho·∫°t ƒë·ªông g·∫ßn ƒë√¢y"]}),e.jsx(U,{children:"C√°c s·ª± ki·ªán m·ªõi nh·∫•t t·ª´ AI Assistant"})]}),e.jsx(N,{children:e.jsx("div",{className:"space-y-1",children:et.recentActivity.map((t,s)=>e.jsx(Q1,{time:t.time,action:t.action,type:t.type},s))})})]}),e.jsx(Y1,{})]})]}),L=l.forwardRef(({className:t,type:s,...n},a)=>e.jsx("input",{type:s,className:k("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm font-medium text-dark placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...n}));L.displayName="Input";var e2="Label",Oo=l.forwardRef((t,s)=>e.jsx(je.label,{...t,ref:s,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Oo.displayName=e2;var zo=Oo;const t2=rs("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),v=l.forwardRef(({className:t,...s},n)=>e.jsx(zo,{ref:n,className:k(t2(),t),...s}));v.displayName=zo.displayName;const ge=jc,pe=yc,ue=l.forwardRef(({className:t,children:s,...n},a)=>e.jsxs(Kr,{ref:a,className:k("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[s,e.jsx(xc,{asChild:!0,children:e.jsx(yt,{className:"h-4 w-4 opacity-50"})})]}));ue.displayName=Kr.displayName;const Bo=l.forwardRef(({className:t,...s},n)=>e.jsx(Wr,{ref:n,className:k("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Od,{className:"h-4 w-4"})}));Bo.displayName=Wr.displayName;const qo=l.forwardRef(({className:t,...s},n)=>e.jsx(Qr,{ref:n,className:k("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(yt,{className:"h-4 w-4"})}));qo.displayName=Qr.displayName;const me=l.forwardRef(({className:t,children:s,position:n="popper",...a},r)=>e.jsx(gc,{children:e.jsxs(Zr,{ref:r,className:k("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...a,children:[e.jsx(Bo,{}),e.jsx(pc,{className:k("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(qo,{})]})}));me.displayName=Zr.displayName;const s2=l.forwardRef(({className:t,...s},n)=>e.jsx(Xr,{ref:n,className:k("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));s2.displayName=Xr.displayName;const E=l.forwardRef(({className:t,children:s,...n},a)=>e.jsxs(Yr,{ref:a,className:k("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(fc,{children:e.jsx(aa,{className:"h-4 w-4"})})}),e.jsx(vc,{children:s})]}));E.displayName=Yr.displayName;const n2=l.forwardRef(({className:t,...s},n)=>e.jsx(Jr,{ref:n,className:k("-mx-1 my-1 h-px bg-muted",t),...s}));n2.displayName=Jr.displayName;var ln="Checkbox",[a2,bN]=Ht(ln),[r2,Ta]=a2(ln);function i2(t){const{__scopeCheckbox:s,checked:n,children:a,defaultChecked:r,disabled:i,form:c,name:o,onCheckedChange:h,required:d,value:x="on",internal_do_not_use_render:u}=t,[m,p]=Xs({prop:n,defaultProp:r??!1,onChange:h,caller:ln}),[f,g]=l.useState(null),[y,j]=l.useState(null),T=l.useRef(!1),M=f?!!c||!!f.closest("form"):!0,b={checked:m,disabled:i,setChecked:p,control:f,setControl:g,name:o,form:c,value:x,hasConsumerStoppedPropagationRef:T,required:d,defaultChecked:wt(r)?!1:r,isFormControl:M,bubbleInput:y,setBubbleInput:j};return e.jsx(r2,{scope:s,...b,children:o2(u)?u(b):a})}var Ho="CheckboxTrigger",Vo=l.forwardRef(({__scopeCheckbox:t,onKeyDown:s,onClick:n,...a},r)=>{const{control:i,value:c,disabled:o,checked:h,required:d,setControl:x,setChecked:u,hasConsumerStoppedPropagationRef:m,isFormControl:p,bubbleInput:f}=Ta(Ho,t),g=St(r,x),y=l.useRef(h);return l.useEffect(()=>{const j=i?.form;if(j){const T=()=>u(y.current);return j.addEventListener("reset",T),()=>j.removeEventListener("reset",T)}},[i,u]),e.jsx(je.button,{type:"button",role:"checkbox","aria-checked":wt(h)?"mixed":h,"aria-required":d,"data-state":Qo(h),"data-disabled":o?"":void 0,disabled:o,value:c,...a,ref:g,onKeyDown:De(s,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:De(n,j=>{u(T=>wt(T)?!0:!T),f&&p&&(m.current=j.isPropagationStopped(),m.current||j.stopPropagation())})})});Vo.displayName=Ho;var Aa=l.forwardRef((t,s)=>{const{__scopeCheckbox:n,name:a,checked:r,defaultChecked:i,required:c,disabled:o,value:h,onCheckedChange:d,form:x,...u}=t;return e.jsx(i2,{__scopeCheckbox:n,checked:r,defaultChecked:i,disabled:o,required:c,onCheckedChange:d,name:a,form:x,value:h,internal_do_not_use_render:({isFormControl:m})=>e.jsxs(e.Fragment,{children:[e.jsx(Vo,{...u,ref:s,__scopeCheckbox:n}),m&&e.jsx(Wo,{__scopeCheckbox:n})]})})});Aa.displayName=ln;var Uo="CheckboxIndicator",Go=l.forwardRef((t,s)=>{const{__scopeCheckbox:n,forceMount:a,...r}=t,i=Ta(Uo,n);return e.jsx(Hn,{present:a||wt(i.checked)||i.checked===!0,children:e.jsx(je.span,{"data-state":Qo(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:s,style:{pointerEvents:"none",...t.style}})})});Go.displayName=Uo;var Ko="CheckboxBubbleInput",Wo=l.forwardRef(({__scopeCheckbox:t,...s},n)=>{const{control:a,hasConsumerStoppedPropagationRef:r,checked:i,defaultChecked:c,required:o,disabled:h,name:d,value:x,form:u,bubbleInput:m,setBubbleInput:p}=Ta(Ko,t),f=St(n,p),g=ei(i),y=ti(a);l.useEffect(()=>{const T=m;if(!T)return;const M=window.HTMLInputElement.prototype,O=Object.getOwnPropertyDescriptor(M,"checked").set,A=!r.current;if(g!==i&&O){const z=new Event("click",{bubbles:A});T.indeterminate=wt(i),O.call(T,wt(i)?!1:i),T.dispatchEvent(z)}},[m,g,i,r]);const j=l.useRef(wt(i)?!1:i);return e.jsx(je.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??j.current,required:o,disabled:h,name:d,value:x,form:u,...s,tabIndex:-1,ref:f,style:{...s.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Wo.displayName=Ko;function o2(t){return typeof t=="function"}function wt(t){return t==="indeterminate"}function Qo(t){return wt(t)?"indeterminate":t?"checked":"unchecked"}const Zo=l.forwardRef(({className:t,...s},n)=>e.jsx(Aa,{ref:n,className:k("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...s,children:e.jsx(Go,{className:k("flex items-center justify-center text-current"),children:e.jsx(aa,{className:"h-4 w-4"})})}));Zo.displayName=Aa.displayName;const l2=rs("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-dark",{variants:{variant:{default:"bg-background text-dark",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),As=l.forwardRef(({className:t,variant:s,...n},a)=>e.jsx("div",{ref:a,role:"alert",className:k(l2({variant:s}),t),...n}));As.displayName="Alert";const c2=l.forwardRef(({className:t,...s},n)=>e.jsx("h5",{ref:n,className:k("mb-1 font-medium leading-none tracking-tight",t),...s}));c2.displayName="AlertTitle";const Es=l.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:k("text-sm [&_p]:leading-relaxed",t),...s}));Es.displayName="AlertDescription";class d2{constructor(){this.baseUrl="/api/dashboard"}async researchHotel(s){try{return await Pt({url:`${this.baseUrl}/research-hotel`,method:"POST",body:s})}catch(n){throw console.error("Hotel research failed:",n),this.handleApiError(n)}}async generateAssistant(s){try{return await Pt({url:`${this.baseUrl}/generate-assistant`,method:"POST",body:s})}catch(n){throw console.error("Assistant generation failed:",n),this.handleApiError(n)}}async getHotelProfile(){try{return await Pt({url:`${this.baseUrl}/hotel-profile`,method:"GET"})}catch(s){throw console.error("Failed to fetch hotel profile:",s),this.handleApiError(s)}}async updateAssistantConfig(s){try{return await Pt({url:`${this.baseUrl}/assistant-config`,method:"PUT",body:s})}catch(n){throw console.error("Failed to update assistant config:",n),this.handleApiError(n)}}async getAnalytics(){try{return await Pt({url:`${this.baseUrl}/analytics`,method:"GET"})}catch(s){throw console.error("Failed to fetch analytics:",s),this.handleApiError(s)}}async getServiceHealth(){try{return await Pt({url:`${this.baseUrl}/service-health`,method:"GET"})}catch(s){throw console.error("Failed to fetch service health:",s),this.handleApiError(s)}}async resetAssistant(){try{return await Pt({url:`${this.baseUrl}/reset-assistant`,method:"POST"})}catch(s){throw console.error("Failed to reset assistant:",s),this.handleApiError(s)}}handleApiError(s){if(s.error)return s;const n=s.message||"An unexpected error occurred",a=n.match(/^(\d+):\s*(.+)$/);if(a){const[,r,i]=a,c=parseInt(r);try{const o=JSON.parse(i);return{error:o.error||i,details:o.details,feature:o.feature,currentPlan:o.currentPlan,upgradeRequired:o.upgradeRequired,setupRequired:o.setupRequired,assistantRequired:o.assistantRequired,requiresResearch:o.requiresResearch}}catch{return{error:i,details:{statusCode:c}}}}return{error:n,details:{originalError:s}}}}const Xo=new d2,h2=t=>t&&typeof t.name=="string"&&typeof t.address=="string"&&Array.isArray(t.services)&&Array.isArray(t.amenities)&&t.policies&&Array.isArray(t.roomTypes),u2=t=>t&&["professional","friendly","luxurious","casual","enthusiastic"].includes(t.personality)&&["formal","friendly","warm","energetic","calm"].includes(t.tone)&&Array.isArray(t.languages)&&t.languages.length>0&&["office","off","hotel-lobby"].includes(t.backgroundSound),m2=[{value:"professional",label:"Chuy√™n nghi·ªáp",description:"L·ªãch s·ª±, trang tr·ªçng v√† ƒë√°ng tin c·∫≠y"},{value:"friendly",label:"Th√¢n thi·ªán",description:"·∫§m √°p, d·ªÖ g·∫ßn v√† h·ªØu √≠ch"},{value:"luxurious",label:"Sang tr·ªçng",description:"Tinh t·∫ø, ƒë·∫≥ng c·∫•p v√† chuy√™n nghi·ªáp"},{value:"casual",label:"Tho·∫£i m√°i",description:"T·ª± nhi√™n, g·∫ßn g≈©i v√† d·ªÖ ch·ªãu"},{value:"enthusiastic",label:"Nhi·ªát t√¨nh",description:"T√≠ch c·ª±c, nƒÉng ƒë·ªông v√† s√¥i n·ªïi"}],x2=[{value:"formal",label:"Trang tr·ªçng",description:"L·ªãch s·ª± v√† chuy√™n nghi·ªáp"},{value:"friendly",label:"Th√¢n thi·ªán",description:"·∫§m √°p v√† d·ªÖ g·∫ßn"},{value:"warm",label:"·∫§m √°p",description:"G·∫ßn g≈©i v√† chƒÉm s√≥c"},{value:"energetic",label:"NƒÉng ƒë·ªông",description:"T√≠ch c·ª±c v√† s√¥i n·ªïi"},{value:"calm",label:"ƒêi·ªÅm tƒ©nh",description:"B√¨nh tƒ©nh v√† th∆∞ th√°i"}],g2=[{value:"vi",label:"Ti·∫øng Vi·ªát",flag:"üáªüá≥"},{value:"en",label:"English",flag:"üá∫üá∏"},{value:"fr",label:"Fran√ßais",flag:"üá´üá∑"},{value:"ko",label:"ÌïúÍµ≠Ïñ¥",flag:"üá∞üá∑"},{value:"zh",label:"‰∏≠Êñá",flag:"üá®üá≥"},{value:"ru",label:"–†—É—Å—Å–∫–∏–π",flag:"üá∑üá∫"}],p2=[{value:"hotel-lobby",label:"S·∫£nh kh√°ch s·∫°n",description:"Nh·∫°c n·ªÅn nh·∫π nh√†ng"},{value:"office",label:"VƒÉn ph√≤ng",description:"√Çm thanh vƒÉn ph√≤ng"},{value:"off",label:"T·∫Øt √¢m thanh",description:"Kh√¥ng c√≥ √¢m thanh n·ªÅn"}],f2=({state:t,onNext:s,onError:n,onUpdateState:a})=>{const r=(o,h)=>{a({formData:{...t.formData,[o]:h},validation:{...t.validation,[o]:null}})},i=()=>{const o={};return t.formData.hotelName.trim()?t.formData.hotelName.length<2&&(o.hotelName="T√™n kh√°ch s·∫°n ph·∫£i c√≥ √≠t nh·∫•t 2 k√Ω t·ª±"):o.hotelName="T√™n kh√°ch s·∫°n l√† b·∫Øt bu·ªôc",a({validation:{...t.validation,...o}}),Object.keys(o).length===0},c=async()=>{if(i()){a({isResearching:!0,error:null});try{const o=await Xo.researchHotel({hotelName:t.formData.hotelName,location:t.formData.location||void 0,researchTier:t.formData.researchTier});o.success&&h2(o.hotelData)?s(o.hotelData):n({error:"D·ªØ li·ªáu kh√°ch s·∫°n kh√¥ng h·ª£p l·ªá"})}catch(o){n(o)}finally{a({isResearching:!1})}}};return e.jsxs(w,{className:"max-w-2xl mx-auto",children:[e.jsxs(I,{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary text-primary-foreground",children:e.jsx(Ct,{className:"h-6 w-6"})})}),e.jsx(R,{className:"text-2xl",children:"T√¨m ki·∫øm th√¥ng tin kh√°ch s·∫°n"}),e.jsx(U,{children:"Ch√∫ng t√¥i s·∫Ω t·ª± ƒë·ªông nghi√™n c·ª©u v√† thu th·∫≠p th√¥ng tin v·ªÅ kh√°ch s·∫°n c·ªßa b·∫°n"})]}),e.jsxs(N,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(v,{htmlFor:"hotel-name",children:"T√™n kh√°ch s·∫°n *"}),e.jsx(L,{id:"hotel-name",placeholder:"V√≠ d·ª•: Grand Hotel Saigon",value:t.formData.hotelName,onChange:o=>r("hotelName",o.target.value),className:`mt-1 ${t.validation.hotelName?"border-red-500":""}`}),t.validation.hotelName&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:t.validation.hotelName})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"location",children:"ƒê·ªãa ƒëi·ªÉm (kh√¥ng b·∫Øt bu·ªôc)"}),e.jsx(L,{id:"location",placeholder:"V√≠ d·ª•: Ho Chi Minh City, Vietnam",value:t.formData.location,onChange:o=>r("location",o.target.value),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"research-tier",children:"M·ª©c ƒë·ªô nghi√™n c·ª©u"}),e.jsxs(ge,{value:t.formData.researchTier,onValueChange:o=>r("researchTier",o),children:[e.jsx(ue,{className:"mt-1",children:e.jsx(pe,{})}),e.jsxs(me,{children:[e.jsx(E,{value:"basic",children:"C∆° b·∫£n (Mi·ªÖn ph√≠)"}),e.jsx(E,{value:"advanced",children:"N√¢ng cao (Premium)"})]})]})]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Th√¥ng tin s·∫Ω ƒë∆∞·ª£c thu th·∫≠p:"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Th√¥ng tin c∆° b·∫£n (ƒë·ªãa ch·ªâ, s·ªë ƒëi·ªán tho·∫°i, website)"}),e.jsx("li",{children:"‚Ä¢ D·ªãch v·ª• v√† ti·ªán nghi"}),e.jsx("li",{children:"‚Ä¢ C√°c lo·∫°i ph√≤ng v√† gi√° c·∫£"}),e.jsx("li",{children:"‚Ä¢ Ch√≠nh s√°ch check-in/check-out"}),e.jsx("li",{children:"‚Ä¢ C√°c ƒëi·ªÉm tham quan g·∫ßn ƒë√≥"}),t.formData.researchTier==="advanced"&&e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"‚Ä¢ D·ªØ li·ªáu m·∫°ng x√£ h·ªôi"}),e.jsx("li",{children:"‚Ä¢ Ph√¢n t√≠ch ƒë√°nh gi√° kh√°ch h√†ng"}),e.jsx("li",{children:"‚Ä¢ Th√¥ng tin ƒë·ªëi th·ªß c·∫°nh tranh"})]})]})]}),t.error&&e.jsxs(As,{variant:"destructive",children:[e.jsx(ve,{className:"h-4 w-4"}),e.jsxs(Es,{children:[t.error.error,t.error.upgradeRequired&&e.jsx("div",{className:"mt-2",children:e.jsx(C,{variant:"outline",size:"sm",children:"N√¢ng c·∫•p g√≥i d·ªãch v·ª•"})})]})]}),e.jsx(C,{onClick:c,disabled:!t.formData.hotelName.trim()||t.isResearching,className:"w-full",size:"lg",children:t.isResearching?e.jsxs(e.Fragment,{children:[e.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"}),"ƒêang t√¨m ki·∫øm..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ct,{className:"w-4 h-4 mr-2"}),"T√¨m ki·∫øm kh√°ch s·∫°n"]})})]})]})},v2=({state:t,onNext:s,onBack:n,onError:a,onUpdateState:r})=>{const[i,c]=l.useState(!1),[o,h]=l.useState(t.hotelData),[d,x]=l.useState(new Set(["basic"])),u=f=>{const g=new Set(d);g.has(f)?g.delete(f):g.add(f),x(g)},m=()=>{c(!i),i&&o&&r({hotelData:o})},p=()=>{t.hotelData&&s()};return t.hotelData?e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-green-100 text-green-600",children:e.jsx(is,{className:"h-6 w-6"})})}),e.jsx("h2",{className:"text-2xl font-bold",children:"X√°c nh·∫≠n th√¥ng tin kh√°ch s·∫°n"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Vui l√≤ng ki·ªÉm tra v√† x√°c nh·∫≠n th√¥ng tin ƒë√£ thu th·∫≠p"})]}),e.jsxs("div",{className:"flex justify-center gap-2 mb-6",children:[e.jsxs(C,{variant:i?"default":"outline",onClick:m,size:"sm",children:[e.jsx(Qe,{className:"w-4 h-4 mr-2"}),i?"L∆∞u thay ƒë·ªïi":"Ch·ªânh s·ª≠a"]}),e.jsxs(C,{variant:"outline",onClick:n,size:"sm",children:[e.jsx(Rn,{className:"w-4 h-4 mr-2"}),"T√¨m ki·∫øm l·∫°i"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(w,{children:[e.jsx(I,{className:"cursor-pointer",onClick:()=>u("basic"),children:e.jsxs(R,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Us,{className:"h-5 w-5"}),"Th√¥ng tin c∆° b·∫£n"]}),d.has("basic")?e.jsx(yt,{className:"h-4 w-4"}):e.jsx($t,{className:"h-4 w-4"})]})}),d.has("basic")&&e.jsxs(N,{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{children:"T√™n kh√°ch s·∫°n"}),e.jsx("p",{className:"font-medium",children:t.hotelData.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{children:"ƒê·ªãa ch·ªâ"}),e.jsx("p",{className:"text-sm text-gray-600",children:t.hotelData.address})]}),t.hotelData.phone&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{children:"S·ªë ƒëi·ªán tho·∫°i"}),e.jsx("p",{className:"text-sm",children:t.hotelData.phone})]}),t.hotelData.website&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{children:"Website"}),e.jsxs("a",{href:t.hotelData.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm flex items-center gap-1",children:[t.hotelData.website,e.jsx(qd,{className:"h-3 w-3"})]})]}),t.hotelData.rating&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{children:"ƒê√°nh gi√°"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Jt,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"font-medium",children:t.hotelData.rating})]})]})]})]}),e.jsxs(w,{children:[e.jsx(I,{className:"cursor-pointer",onClick:()=>u("services"),children:e.jsxs(R,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"h-5 w-5"}),"D·ªãch v·ª• (",t.hotelData.services.length,")"]}),d.has("services")?e.jsx(yt,{className:"h-4 w-4"}):e.jsx($t,{className:"h-4 w-4"})]})}),d.has("services")&&e.jsx(N,{children:e.jsx("div",{className:"space-y-2",children:t.hotelData.services.map((f,g)=>e.jsxs("div",{className:"p-2 bg-gray-50 rounded",children:[e.jsx("div",{className:"font-medium text-sm",children:f.name}),e.jsx("div",{className:"text-xs text-gray-600",children:f.description})]},g))})})]}),e.jsxs(w,{children:[e.jsx(I,{className:"cursor-pointer",onClick:()=>u("amenities"),children:e.jsxs(R,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ha,{className:"h-5 w-5"}),"Ti·ªán nghi (",t.hotelData.amenities.length,")"]}),d.has("amenities")?e.jsx(yt,{className:"h-4 w-4"}):e.jsx($t,{className:"h-4 w-4"})]})}),d.has("amenities")&&e.jsx(N,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:t.hotelData.amenities.map((f,g)=>e.jsx(V,{variant:"secondary",children:f},g))})})]}),e.jsxs(w,{children:[e.jsx(I,{className:"cursor-pointer",onClick:()=>u("rooms"),children:e.jsxs(R,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(He,{className:"h-5 w-5"}),"Lo·∫°i ph√≤ng (",t.hotelData.roomTypes.length,")"]}),d.has("rooms")?e.jsx(yt,{className:"h-4 w-4"}):e.jsx($t,{className:"h-4 w-4"})]})}),d.has("rooms")&&e.jsx(N,{children:e.jsx("div",{className:"space-y-3",children:t.hotelData.roomTypes.map((f,g)=>e.jsx("div",{className:"p-3 border rounded",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:f.name}),e.jsx("div",{className:"text-sm text-gray-600",children:f.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-green-600",children:[f.price.toLocaleString()," VND"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"/ ƒë√™m"})]})]})},g))})})]}),e.jsxs(w,{children:[e.jsx(I,{className:"cursor-pointer",onClick:()=>u("policies"),children:e.jsxs(R,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(st,{className:"h-5 w-5"}),"Ch√≠nh s√°ch"]}),d.has("policies")?e.jsx(yt,{className:"h-4 w-4"}):e.jsx($t,{className:"h-4 w-4"})]})}),d.has("policies")&&e.jsxs(N,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Check-in:"}),e.jsx("span",{className:"font-medium",children:t.hotelData.policies.checkIn})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Check-out:"}),e.jsx("span",{className:"font-medium",children:t.hotelData.policies.checkOut})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"H·ªßy ph√≤ng:"}),e.jsx("span",{className:"font-medium",children:t.hotelData.policies.cancellation})]})]})]}),e.jsxs(w,{children:[e.jsx(I,{className:"cursor-pointer",onClick:()=>u("attractions"),children:e.jsxs(R,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(la,{className:"h-5 w-5"}),"ƒêi·ªÉm tham quan (",t.hotelData.localAttractions.length,")"]}),d.has("attractions")?e.jsx(yt,{className:"h-4 w-4"}):e.jsx($t,{className:"h-4 w-4"})]})}),d.has("attractions")&&e.jsx(N,{children:e.jsx("div",{className:"space-y-2",children:t.hotelData.localAttractions.map((f,g)=>e.jsxs("div",{className:"p-2 bg-gray-50 rounded",children:[e.jsx("div",{className:"font-medium text-sm",children:f.name}),e.jsx("div",{className:"text-xs text-gray-600",children:f.description}),f.distance&&e.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["C√°ch ",f.distance]})]},g))})})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(C,{variant:"outline",onClick:n,children:[e.jsx(Rn,{className:"w-4 h-4 mr-2"}),"Quay l·∫°i"]}),e.jsxs(C,{onClick:p,size:"lg",children:["Ti·∫øp t·ª•c",e.jsx(Fd,{className:"w-4 h-4 ml-2"})]})]})]}):e.jsx(w,{className:"max-w-2xl mx-auto",children:e.jsxs(N,{className:"text-center py-8",children:[e.jsx(ve,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),e.jsx("p",{children:"Kh√¥ng t√¨m th·∫•y d·ªØ li·ªáu kh√°ch s·∫°n. Vui l√≤ng th·ª≠ l·∫°i."}),e.jsx(C,{onClick:n,className:"mt-4",children:"Quay l·∫°i"})]})})},j2=({state:t,onNext:s,onBack:n,onError:a,onUpdateState:r})=>{const i=(d,x)=>{r({customization:{...t.customization,[d]:x},validation:{...t.validation,[d]:null}})},c=(d,x)=>{let u=[...t.customization.languages];x?u.push(d):u=u.filter(m=>m!==d),i("languages",u)},o=()=>{const d={};return t.customization.languages.length===0&&(d.languages="Vui l√≤ng ch·ªçn √≠t nh·∫•t m·ªôt ng√¥n ng·ªØ"),r({validation:{...t.validation,...d}}),Object.keys(d).length===0},h=async()=>{if(!(!o()||!t.hotelData)){if(!u2(t.customization)){a({error:"C·∫•u h√¨nh Assistant kh√¥ng h·ª£p l·ªá"});return}r({isGenerating:!0,error:null});try{const d=await Xo.generateAssistant({hotelData:t.hotelData,customization:t.customization});d.success?s(d.assistantId):a({error:"Kh√¥ng th·ªÉ t·∫°o Assistant"})}catch(d){a(d)}finally{r({isGenerating:!1})}}};return e.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-purple-100 text-purple-600",children:e.jsx(We,{className:"h-6 w-6"})})}),e.jsx("h2",{className:"text-2xl font-bold",children:"T√πy ch·ªânh AI Assistant"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"C√° nh√¢n h√≥a AI Assistant theo phong c√°ch kh√°ch s·∫°n c·ªßa b·∫°n"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(Ud,{className:"h-5 w-5"}),"T√≠nh c√°ch"]}),e.jsx(U,{children:"Ch·ªçn phong c√°ch giao ti·∫øp c·ªßa AI Assistant"})]}),e.jsx(N,{children:e.jsxs(ge,{value:t.customization.personality,onValueChange:d=>i("personality",d),children:[e.jsx(ue,{children:e.jsx(pe,{})}),e.jsx(me,{children:m2.map(d=>e.jsx(E,{value:d.value,children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:d.label}),e.jsx("div",{className:"text-xs text-gray-500",children:d.description})]})},d.value))})]})})]}),e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(Ja,{className:"h-5 w-5"}),"Gi·ªçng ƒëi·ªáu"]}),e.jsx(U,{children:"Ch·ªçn c√°ch th·ª©c giao ti·∫øp"})]}),e.jsx(N,{children:e.jsxs(ge,{value:t.customization.tone,onValueChange:d=>i("tone",d),children:[e.jsx(ue,{children:e.jsx(pe,{})}),e.jsx(me,{children:x2.map(d=>e.jsx(E,{value:d.value,children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:d.label}),e.jsx("div",{className:"text-xs text-gray-500",children:d.description})]})},d.value))})]})})]}),e.jsxs(w,{className:"md:col-span-2",children:[e.jsxs(I,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(os,{className:"h-5 w-5"}),"Ng√¥n ng·ªØ h·ªó tr·ª£"]}),e.jsx(U,{children:"Ch·ªçn c√°c ng√¥n ng·ªØ m√† AI Assistant c√≥ th·ªÉ giao ti·∫øp"})]}),e.jsxs(N,{children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:g2.map(d=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Zo,{id:d.value,checked:t.customization.languages.includes(d.value),onCheckedChange:x=>c(d.value,x)}),e.jsxs(v,{htmlFor:d.value,className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("span",{children:d.flag}),e.jsx("span",{children:d.label})]})]},d.value))}),t.validation.languages&&e.jsx("p",{className:"text-sm text-red-500 mt-2",children:t.validation.languages})]})]}),e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(Vd,{className:"h-5 w-5"}),"C√†i ƒë·∫∑t gi·ªçng n√≥i"]}),e.jsx(U,{children:"ƒêi·ªÅu ch·ªânh th·ªùi gian v√† √¢m thanh"})]}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(v,{children:"Th·ªùi gian ch·ªù (gi√¢y)"}),e.jsx(L,{type:"number",min:"10",max:"120",value:t.customization.silenceTimeout||30,onChange:d=>i("silenceTimeout",parseInt(d.target.value)),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(v,{children:"Th·ªùi gian t·ªëi ƒëa (gi√¢y)"}),e.jsx(L,{type:"number",min:"300",max:"3600",value:t.customization.maxDuration||1800,onChange:d=>i("maxDuration",parseInt(d.target.value)),className:"mt-1"})]})]})]}),e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(Ja,{className:"h-5 w-5"}),"√Çm thanh n·ªÅn"]}),e.jsx(U,{children:"Ch·ªçn √¢m thanh n·ªÅn cho cu·ªôc g·ªçi"})]}),e.jsx(N,{children:e.jsxs(ge,{value:t.customization.backgroundSound,onValueChange:d=>i("backgroundSound",d),children:[e.jsx(ue,{children:e.jsx(pe,{})}),e.jsx(me,{children:p2.map(d=>e.jsx(E,{value:d.value,children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:d.label}),e.jsx("div",{className:"text-xs text-gray-500",children:d.description})]})},d.value))})]})})]})]}),t.error&&e.jsxs(As,{variant:"destructive",children:[e.jsx(ve,{className:"h-4 w-4"}),e.jsxs(Es,{children:[t.error.error,t.error.upgradeRequired&&e.jsx("div",{className:"mt-2",children:e.jsx(C,{variant:"outline",size:"sm",children:"N√¢ng c·∫•p g√≥i d·ªãch v·ª•"})})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(C,{variant:"outline",onClick:n,children:[e.jsx(Rn,{className:"w-4 h-4 mr-2"}),"Quay l·∫°i"]}),e.jsx(C,{onClick:h,disabled:t.customization.languages.length===0||t.isGenerating,size:"lg",children:t.isGenerating?e.jsxs(e.Fragment,{children:[e.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"}),"ƒêang t·∫°o Assistant..."]}):e.jsxs(e.Fragment,{children:[e.jsx(We,{className:"w-4 h-4 mr-2"}),"T·∫°o AI Assistant"]})})]})]})},y2=({state:t,onUpdateState:s})=>{const[,n]=as(),a=()=>{n("/dashboard")},r=()=>{n("/dashboard/assistant")};return e.jsxs(w,{className:"max-w-2xl mx-auto",children:[e.jsxs(I,{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-green-100 text-green-600",children:e.jsx(is,{className:"h-8 w-8"})})}),e.jsx(R,{className:"text-2xl",children:"AI Assistant ƒë√£ s·∫µn s√†ng!"}),e.jsx(U,{className:"text-base",children:"Kh√°ch s·∫°n c·ªßa b·∫°n ƒë√£ ƒë∆∞·ª£c thi·∫øt l·∫≠p th√†nh c√¥ng. AI Assistant hi·ªán c√≥ th·ªÉ ph·ª•c v·ª• kh√°ch h√†ng 24/7."})]}),e.jsxs(N,{className:"space-y-6",children:[e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Nh·ªØng g√¨ ƒë√£ ƒë∆∞·ª£c thi·∫øt l·∫≠p:"}),e.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[e.jsx("li",{children:"‚úì Th√¥ng tin kh√°ch s·∫°n ƒë√£ ƒë∆∞·ª£c l∆∞u tr·ªØ"}),e.jsx("li",{children:"‚úì Knowledge base ƒë√£ ƒë∆∞·ª£c t·∫°o"}),e.jsx("li",{children:"‚úì AI Assistant ƒë√£ ƒë∆∞·ª£c c·∫•u h√¨nh"}),e.jsx("li",{children:"‚úì Voice API ƒë√£ ƒë∆∞·ª£c k√≠ch ho·∫°t"}),e.jsx("li",{children:"‚úì Dashboard ƒë√£ s·∫µn s√†ng s·ª≠ d·ª•ng"})]})]}),t.assistantId&&e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Th√¥ng tin Assistant:"}),e.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[e.jsxs("div",{children:["ID: ",e.jsx("code",{className:"bg-blue-100 px-1 rounded",children:t.assistantId})]}),e.jsxs("div",{children:["T√≠nh c√°ch: ",e.jsx("span",{className:"capitalize",children:t.customization.personality})]}),e.jsxs("div",{children:["Ng√¥n ng·ªØ: ",t.customization.languages.join(", ")]})]})]}),e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"B·∫°n c√≥ th·ªÉ b·∫Øt ƒë·∫ßu s·ª≠ d·ª•ng AI Assistant ngay b√¢y gi·ªù ho·∫∑c t√πy ch·ªânh th√™m trong c√†i ƒë·∫∑t."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(C,{onClick:r,variant:"outline",className:"flex-1",children:[e.jsx(nt,{className:"w-4 h-4 mr-2"}),"Ki·ªÉm tra Assistant"]}),e.jsx(C,{onClick:a,size:"lg",className:"flex-1",children:"ƒêi t·ªõi Dashboard"})]})]})]})]})},b2=()=>{const[t,s]=l.useState({currentStep:1,hotelData:null,customization:{personality:"professional",tone:"friendly",languages:["vi"],backgroundSound:"hotel-lobby"},isLoading:!1,error:null,isResearching:!1,isGenerating:!1,assistantId:null,retryCount:0,formData:{hotelName:"",location:"",researchTier:"basic"},validation:{hotelName:null,languages:null}}),n=4,a=t.currentStep/n*100,r=x=>{s(u=>({...u,...x}))},i=x=>{t.currentStep===1&&x?r({hotelData:x,currentStep:2,error:null}):t.currentStep===2?r({currentStep:3,error:null}):t.currentStep===3&&x&&r({assistantId:x,currentStep:4,error:null})},c=()=>{t.currentStep>1&&r({currentStep:t.currentStep-1,error:null})},o=x=>{r({error:x})},h=()=>{r({error:null,retryCount:t.retryCount+1})},d={state:t,onNext:i,onBack:c,onError:o,onUpdateState:r};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"max-w-2xl mx-auto mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:["B∆∞·ªõc ",t.currentStep," / ",n]}),e.jsxs("span",{className:"text-sm text-gray-600",children:[Math.round(a),"%"]})]}),e.jsx(ct,{value:a,className:"h-2"})]}),t.error&&e.jsx("div",{className:"max-w-2xl mx-auto mb-6",children:e.jsxs(As,{variant:"destructive",children:[e.jsx(ve,{className:"h-4 w-4"}),e.jsxs(Es,{className:"flex items-center justify-between",children:[e.jsx("span",{children:t.error.error}),e.jsxs(C,{variant:"outline",size:"sm",onClick:h,children:[e.jsx(se,{className:"w-4 h-4 mr-2"}),"Th·ª≠ l·∫°i"]})]})]})}),t.currentStep===1&&e.jsx(f2,{...d}),t.currentStep===2&&e.jsx(v2,{...d}),t.currentStep===3&&e.jsx(j2,{...d}),t.currentStep===4&&e.jsx(y2,{...d})]})})},ze=l.forwardRef(({className:t,...s},n)=>e.jsx("textarea",{className:k("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...s}));ze.displayName="Textarea";var cn="Switch",[w2,wN]=Ht(cn),[N2,C2]=w2(cn),Yo=l.forwardRef((t,s)=>{const{__scopeSwitch:n,name:a,checked:r,defaultChecked:i,required:c,disabled:o,value:h="on",onCheckedChange:d,form:x,...u}=t,[m,p]=l.useState(null),f=St(s,M=>p(M)),g=l.useRef(!1),y=m?x||!!m.closest("form"):!0,[j,T]=Xs({prop:r,defaultProp:i??!1,onChange:d,caller:cn});return e.jsxs(N2,{scope:n,checked:j,disabled:o,children:[e.jsx(je.button,{type:"button",role:"switch","aria-checked":j,"aria-required":c,"data-state":sl(j),"data-disabled":o?"":void 0,disabled:o,value:h,...u,ref:f,onClick:De(t.onClick,M=>{T(b=>!b),y&&(g.current=M.isPropagationStopped(),g.current||M.stopPropagation())})}),y&&e.jsx(tl,{control:m,bubbles:!g.current,name:a,value:h,checked:j,required:c,disabled:o,form:x,style:{transform:"translateX(-100%)"}})]})});Yo.displayName=cn;var Jo="SwitchThumb",el=l.forwardRef((t,s)=>{const{__scopeSwitch:n,...a}=t,r=C2(Jo,n);return e.jsx(je.span,{"data-state":sl(r.checked),"data-disabled":r.disabled?"":void 0,...a,ref:s})});el.displayName=Jo;var S2="SwitchBubbleInput",tl=l.forwardRef(({__scopeSwitch:t,control:s,checked:n,bubbles:a=!0,...r},i)=>{const c=l.useRef(null),o=St(c,i),h=ei(n),d=ti(s);return l.useEffect(()=>{const x=c.current;if(!x)return;const u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"checked").set;if(h!==n&&p){const f=new Event("click",{bubbles:a});p.call(x,n),x.dispatchEvent(f)}},[h,n,a]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...r,tabIndex:-1,ref:o,style:{...r.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});tl.displayName=S2;function sl(t){return t?"checked":"unchecked"}var nl=Yo,k2=el;const te=l.forwardRef(({className:t,...s},n)=>e.jsx(nl,{className:k("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...s,ref:n,children:e.jsx(k2,{className:k("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));te.displayName=nl.displayName;var dn="Tabs",[_2,NN]=Ht(dn,[si]),al=si(),[T2,Ea]=_2(dn),rl=l.forwardRef((t,s)=>{const{__scopeTabs:n,value:a,onValueChange:r,defaultValue:i,orientation:c="horizontal",dir:o,activationMode:h="automatic",...d}=t,x=Nc(o),[u,m]=Xs({prop:a,onChange:r,defaultProp:i??"",caller:dn});return e.jsx(T2,{scope:n,baseId:Cc(),value:u,onValueChange:m,orientation:c,dir:x,activationMode:h,children:e.jsx(je.div,{dir:x,"data-orientation":c,...d,ref:s})})});rl.displayName=dn;var il="TabsList",ol=l.forwardRef((t,s)=>{const{__scopeTabs:n,loop:a=!0,...r}=t,i=Ea(il,n),c=al(n);return e.jsx(bc,{asChild:!0,...c,orientation:i.orientation,dir:i.dir,loop:a,children:e.jsx(je.div,{role:"tablist","aria-orientation":i.orientation,...r,ref:s})})});ol.displayName=il;var ll="TabsTrigger",cl=l.forwardRef((t,s)=>{const{__scopeTabs:n,value:a,disabled:r=!1,...i}=t,c=Ea(ll,n),o=al(n),h=ul(c.baseId,a),d=ml(c.baseId,a),x=a===c.value;return e.jsx(wc,{asChild:!0,...o,focusable:!r,active:x,children:e.jsx(je.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":d,"data-state":x?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:h,...i,ref:s,onMouseDown:De(t.onMouseDown,u=>{!r&&u.button===0&&u.ctrlKey===!1?c.onValueChange(a):u.preventDefault()}),onKeyDown:De(t.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&c.onValueChange(a)}),onFocus:De(t.onFocus,()=>{const u=c.activationMode!=="manual";!x&&!r&&u&&c.onValueChange(a)})})})});cl.displayName=ll;var dl="TabsContent",hl=l.forwardRef((t,s)=>{const{__scopeTabs:n,value:a,forceMount:r,children:i,...c}=t,o=Ea(dl,n),h=ul(o.baseId,a),d=ml(o.baseId,a),x=a===o.value,u=l.useRef(x);return l.useEffect(()=>{const m=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(m)},[]),e.jsx(Hn,{present:r||x,children:({present:m})=>e.jsx(je.div,{"data-state":x?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":h,hidden:!m,id:d,tabIndex:0,...c,ref:s,style:{...t.style,animationDuration:u.current?"0s":void 0},children:m&&i})})});hl.displayName=dl;function ul(t,s){return`${t}-trigger-${s}`}function ml(t,s){return`${t}-content-${s}`}var A2=rl,xl=ol,gl=cl,pl=hl;const at=A2,Ye=l.forwardRef(({className:t,...s},n)=>e.jsx(xl,{ref:n,className:k("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s}));Ye.displayName=xl.displayName;const J=l.forwardRef(({className:t,...s},n)=>e.jsx(gl,{ref:n,className:k("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-dark data-[state=active]:shadow-sm",t),...s}));J.displayName=gl.displayName;const ee=l.forwardRef(({className:t,...s},n)=>e.jsx(pl,{ref:n,className:k("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));ee.displayName=pl.displayName;const qs={id:"asst_abc123",name:"Mi Nhon Hotel AI Concierge",personality:"professional",tone:"friendly",languages:["vi","en","fr"],voiceId:"jennifer",silenceTimeout:30,maxDuration:600,backgroundSound:"hotel-lobby",systemPrompt:"You are the AI concierge for Mi Nhon Hotel...",status:"active",lastUpdated:"2024-01-15T10:30:00Z"},ds={totalCalls:1247,averageRating:4.7,responseTime:1.2,successRate:96.5,topIntents:[{intent:"Room Service",count:342,percentage:27.4},{intent:"Hotel Information",count:298,percentage:23.9},{intent:"Spa Booking",count:187,percentage:15},{intent:"Restaurant Reservation",count:156,percentage:12.5}]},E2=()=>{const[t,s]=l.useState(qs),[n,a]=l.useState(!1),r=async()=>{a(!0);try{await new Promise(i=>setTimeout(i,1e3)),console.log("Saving configuration:",t)}catch(i){console.error("Failed to save configuration:",i)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"h-5 w-5"}),"C·∫•u h√¨nh c∆° b·∫£n"]}),e.jsx(U,{children:"Thi·∫øt l·∫≠p th√¥ng tin v√† h√†nh vi c·ªßa AI Assistant"})]}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(v,{htmlFor:"assistant-name",children:"T√™n Assistant"}),e.jsx(L,{id:"assistant-name",value:t.name,onChange:i=>s(c=>({...c,name:i.target.value})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"voice-id",children:"Gi·ªçng n√≥i"}),e.jsxs(ge,{value:t.voiceId,onValueChange:i=>s(c=>({...c,voiceId:i})),children:[e.jsx(ue,{className:"mt-1",children:e.jsx(pe,{})}),e.jsxs(me,{children:[e.jsx(E,{value:"jennifer",children:"Jennifer (N·ªØ, Ti·∫øng Anh)"}),e.jsx(E,{value:"david",children:"David (Nam, Ti·∫øng Anh)"}),e.jsx(E,{value:"linh",children:"Linh (N·ªØ, Ti·∫øng Vi·ªát)"}),e.jsx(E,{value:"duc",children:"ƒê·ª©c (Nam, Ti·∫øng Vi·ªát)"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(v,{htmlFor:"personality",children:"T√≠nh c√°ch"}),e.jsxs(ge,{value:t.personality,onValueChange:i=>s(c=>({...c,personality:i})),children:[e.jsx(ue,{className:"mt-1",children:e.jsx(pe,{})}),e.jsxs(me,{children:[e.jsx(E,{value:"professional",children:"Chuy√™n nghi·ªáp"}),e.jsx(E,{value:"friendly",children:"Th√¢n thi·ªán"}),e.jsx(E,{value:"luxurious",children:"Sang tr·ªçng"}),e.jsx(E,{value:"casual",children:"Tho·∫£i m√°i"})]})]})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"tone",children:"Gi·ªçng ƒëi·ªáu"}),e.jsxs(ge,{value:t.tone,onValueChange:i=>s(c=>({...c,tone:i})),children:[e.jsx(ue,{className:"mt-1",children:e.jsx(pe,{})}),e.jsxs(me,{children:[e.jsx(E,{value:"formal",children:"L·ªãch s·ª±"}),e.jsx(E,{value:"friendly",children:"Th√¢n thi·ªán"}),e.jsx(E,{value:"warm",children:"·∫§m √°p"}),e.jsx(E,{value:"energetic",children:"NƒÉng ƒë·ªông"}),e.jsx(E,{value:"calm",children:"B√¨nh tƒ©nh"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(v,{htmlFor:"silence-timeout",children:"Th·ªùi gian ch·ªù (gi√¢y)"}),e.jsx(L,{id:"silence-timeout",type:"number",value:t.silenceTimeout,onChange:i=>s(c=>({...c,silenceTimeout:parseInt(i.target.value)})),className:"mt-1",min:"10",max:"120"})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"max-duration",children:"Th·ªùi l∆∞·ª£ng t·ªëi ƒëa (gi√¢y)"}),e.jsx(L,{id:"max-duration",type:"number",value:t.maxDuration,onChange:i=>s(c=>({...c,maxDuration:parseInt(i.target.value)})),className:"mt-1",min:"300",max:"3600"})]})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"background-sound",children:"√Çm thanh n·ªÅn"}),e.jsxs(ge,{value:t.backgroundSound,onValueChange:i=>s(c=>({...c,backgroundSound:i})),children:[e.jsx(ue,{className:"mt-1",children:e.jsx(pe,{})}),e.jsxs(me,{children:[e.jsx(E,{value:"hotel-lobby",children:"S·∫£nh kh√°ch s·∫°n"}),e.jsx(E,{value:"office",children:"VƒÉn ph√≤ng"}),e.jsx(E,{value:"off",children:"T·∫Øt √¢m thanh n·ªÅn"})]})]})]})]})]}),e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"h-5 w-5"}),"System Prompt"]}),e.jsx(U,{children:"H∆∞·ªõng d·∫´n chi ti·∫øt cho AI Assistant v·ªÅ c√°ch h√†nh x·ª≠ v√† tr·∫£ l·ªùi"})]}),e.jsx(N,{children:e.jsx(ze,{value:t.systemPrompt,onChange:i=>s(c=>({...c,systemPrompt:i.target.value})),rows:8,className:"font-mono text-sm",placeholder:"Nh·∫≠p system prompt cho AI Assistant..."})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(C,{onClick:r,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"}),"ƒêang l∆∞u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ke,{className:"w-4 h-4 mr-2"}),"L∆∞u c·∫•u h√¨nh"]})})})]})},D2=()=>{const[t,s]=l.useState(!1),[n,a]=l.useState(""),[r,i]=l.useState(""),[c,o]=l.useState(!1),h=async()=>{if(n.trim()){o(!0);try{await new Promise(d=>setTimeout(d,2e3)),i(`Xin ch√†o! T√¥i l√† AI Assistant c·ªßa Mi Nhon Hotel. T√¥i c√≥ th·ªÉ gi√∫p b·∫°n v·ªÅ ${n}. B·∫°n c√≥ c·∫ßn t√¥i h·ªó tr·ª£ g√¨ th√™m kh√¥ng?`)}catch{i("ƒê√£ x·∫£y ra l·ªói khi ki·ªÉm tra. Vui l√≤ng th·ª≠ l·∫°i.")}finally{o(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(Ya,{className:"h-5 w-5"}),"Test AI Assistant"]}),e.jsx(U,{children:"Ki·ªÉm tra ph·∫£n h·ªìi c·ªßa AI Assistant v·ªõi c√°c c√¢u h·ªèi m·∫´u"})]}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(te,{id:"test-mode",checked:t,onCheckedChange:s}),e.jsx(v,{htmlFor:"test-mode",children:"Ch·∫ø ƒë·ªô ki·ªÉm tra"})]}),t&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(v,{htmlFor:"test-phrase",children:"C√¢u h·ªèi th·ª≠ nghi·ªám"}),e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsx(L,{id:"test-phrase",value:n,onChange:d=>a(d.target.value),placeholder:"V√≠ d·ª•: T√¥i mu·ªën ƒë·∫∑t ph√≤ng",className:"flex-1"}),e.jsx(C,{onClick:h,disabled:!n.trim()||c,children:c?e.jsx(_t,{className:"w-4 h-4 animate-spin"}):e.jsx(Ya,{className:"w-4 h-4"})})]})]}),r&&e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx(v,{className:"text-sm font-medium",children:"Ph·∫£n h·ªìi c·ªßa AI:"}),e.jsx("p",{className:"text-sm text-gray-700 mt-1",children:r})]})]})]})]}),e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(R,{children:"M·∫´u c√¢u h·ªèi th∆∞·ªùng g·∫∑p"}),e.jsx(U,{children:"C√°c c√¢u h·ªèi m√† kh√°ch h√†ng th∆∞·ªùng h·ªèi"})]}),e.jsx(N,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:["T√¥i mu·ªën ƒë·∫∑t ph√≤ng","Gi·ªù check-in l√† m·∫•y gi·ªù?","Kh√°ch s·∫°n c√≥ d·ªãch v·ª• spa kh√¥ng?","T√¥i mu·ªën ƒë·∫∑t b√†n ƒÉn t·ªëi","L√†m sao ƒë·ªÉ ƒëi s√¢n bay?","C√≥ wifi mi·ªÖn ph√≠ kh√¥ng?","T√¥i mu·ªën g·ªçi room service","Kh√°ch s·∫°n c√≥ h·ªì b∆°i kh√¥ng?"].map((d,x)=>e.jsxs(C,{variant:"outline",size:"sm",className:"justify-start text-left h-auto p-2",onClick:()=>a(d),children:[e.jsx(Ut,{className:"w-3 h-3 mr-2 shrink-0"}),e.jsx("span",{className:"text-xs",children:d})]},x))})})]})]})},I2=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(w,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(R,{className:"text-sm font-medium",children:"T·ªïng cu·ªôc g·ªçi"}),e.jsx(nt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(N,{children:[e.jsx("div",{className:"text-2xl font-bold",children:ds.totalCalls.toLocaleString()}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Th√°ng n√†y"})]})]}),e.jsxs(w,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(R,{className:"text-sm font-medium",children:"ƒê√°nh gi√° trung b√¨nh"}),e.jsx(mt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(N,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[ds.averageRating,"/5"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"ƒêi·ªÉm h√†i l√≤ng"})]})]}),e.jsxs(w,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(R,{className:"text-sm font-medium",children:"Th·ªùi gian ph·∫£n h·ªìi"}),e.jsx(st,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(N,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[ds.responseTime,"s"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Trung b√¨nh"})]})]}),e.jsxs(w,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(R,{className:"text-sm font-medium",children:"T·ª∑ l·ªá th√†nh c√¥ng"}),e.jsx(is,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(N,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[ds.successRate,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Cu·ªôc g·ªçi th√†nh c√¥ng"})]})]})]}),e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(R,{children:"√ù ƒë·ªãnh ph·ªï bi·∫øn"}),e.jsx(U,{children:"C√°c y√™u c·∫ßu m√† kh√°ch h√†ng th∆∞·ªùng h·ªèi nh·∫•t"})]}),e.jsx(N,{children:e.jsx("div",{className:"space-y-4",children:ds.topIntents.map((t,s)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),e.jsx("span",{className:"font-medium",children:t.intent})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx("span",{children:t.count}),e.jsxs(V,{variant:"outline",children:[t.percentage,"%"]})]})]},s))})})]})]}),R2=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"AI Assistant"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Qu·∫£n l√Ω v√† t√πy ch·ªânh AI Assistant cho kh√°ch s·∫°n"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(V,{variant:"outline",className:"text-green-600",children:[e.jsx(is,{className:"w-3 h-3 mr-1"}),"Ho·∫°t ƒë·ªông"]})})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(We,{className:"h-5 w-5"}),"Tr·∫°ng th√°i Assistant"]})}),e.jsx(N,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(v,{className:"text-sm font-medium",children:"T√™n Assistant"}),e.jsx("p",{className:"text-sm text-gray-600",children:qs.name})]}),e.jsxs("div",{children:[e.jsx(v,{className:"text-sm font-medium",children:"ID Assistant"}),e.jsx("p",{className:"text-sm text-gray-600 font-mono",children:qs.id})]}),e.jsxs("div",{children:[e.jsx(v,{className:"text-sm font-medium",children:"C·∫≠p nh·∫≠t l·∫ßn cu·ªëi"}),e.jsx("p",{className:"text-sm text-gray-600",children:new Date(qs.lastUpdated).toLocaleString("vi-VN")})]})]})})]}),e.jsxs(at,{defaultValue:"config",className:"space-y-4",children:[e.jsxs(Ye,{className:"grid w-full grid-cols-3",children:[e.jsx(J,{value:"config",children:"C·∫•u h√¨nh"}),e.jsx(J,{value:"test",children:"Ki·ªÉm tra"}),e.jsx(J,{value:"performance",children:"Hi·ªáu su·∫•t"})]}),e.jsx(ee,{value:"config",className:"space-y-4",children:e.jsx(E2,{})}),e.jsx(ee,{value:"test",className:"space-y-4",children:e.jsx(D2,{})}),e.jsx(ee,{value:"performance",className:"space-y-4",children:e.jsx(I2,{})})]})]}),qe={overview:{totalCalls:1247,totalCallsGrowth:12.5,averageCallDuration:245,callDurationGrowth:-5.2,uniqueUsers:89,uniqueUsersGrowth:8.3,satisfactionScore:4.7,satisfactionGrowth:2.1},callsByHour:[{hour:"00",calls:12},{hour:"01",calls:8},{hour:"02",calls:5},{hour:"03",calls:3},{hour:"04",calls:2},{hour:"05",calls:4},{hour:"06",calls:15},{hour:"07",calls:28},{hour:"08",calls:45},{hour:"09",calls:67},{hour:"10",calls:89},{hour:"11",calls:78},{hour:"12",calls:95},{hour:"13",calls:87},{hour:"14",calls:92},{hour:"15",calls:85},{hour:"16",calls:78},{hour:"17",calls:65},{hour:"18",calls:82},{hour:"19",calls:75},{hour:"20",calls:58},{hour:"21",calls:45},{hour:"22",calls:32},{hour:"23",calls:22}],languageDistribution:[{language:"Ti·∫øng Vi·ªát",calls:687,percentage:55.1},{language:"English",calls:423,percentage:33.9},{language:"Fran√ßais",calls:137,percentage:11}],intentDistribution:[{intent:"Room Service",calls:342,percentage:27.4},{intent:"Hotel Information",calls:298,percentage:23.9},{intent:"Spa Booking",calls:187,percentage:15},{intent:"Restaurant Reservation",calls:156,percentage:12.5},{intent:"Housekeeping",calls:98,percentage:7.9},{intent:"Concierge",calls:87,percentage:7},{intent:"Complaints",calls:45,percentage:3.6},{intent:"Other",calls:34,percentage:2.7}],callsByDay:[{day:"Th·ª© 2",calls:145},{day:"Th·ª© 3",calls:178},{day:"Th·ª© 4",calls:189},{day:"Th·ª© 5",calls:234},{day:"Th·ª© 6",calls:267},{day:"Th·ª© 7",calls:156},{day:"Ch·ªß nh·∫≠t",calls:78}],satisfactionByIntent:[{intent:"Room Service",rating:4.8},{intent:"Hotel Information",rating:4.9},{intent:"Spa Booking",rating:4.6},{intent:"Restaurant Reservation",rating:4.7},{intent:"Housekeeping",rating:4.5},{intent:"Concierge",rating:4.8},{intent:"Complaints",rating:3.2}]},Fs=({title:t,value:s,change:n,icon:a,description:r,suffix:i=""})=>e.jsxs(w,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(R,{className:"text-sm font-medium",children:t}),e.jsx(a,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(N,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[s,i]}),e.jsxs("div",{className:"flex items-center pt-1",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:r}),n!==void 0&&e.jsxs("div",{className:`ml-auto flex items-center text-xs ${n>0?"text-green-600":"text-red-600"}`,children:[e.jsx($e,{className:`h-3 w-3 mr-1 ${n<0?"rotate-180":""}`}),Math.abs(n),"%"]})]})]})]}),P2=({data:t,dataKey:s,nameKey:n,title:a})=>{const r=Math.max(...t.map(i=>i[s]));return e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(R,{className:"text-base",children:a})}),e.jsx(N,{children:e.jsx("div",{className:"space-y-2",children:t.map((i,c)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-20 text-sm text-gray-600 text-right",children:i[n]}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${i[s]/r*100}%`}})}),e.jsx("div",{className:"w-16 text-sm font-medium text-right",children:i[s]})]},c))})})]})},M2=()=>{const[t,s]=l.useState("30d"),[n,a]=l.useState("all");return e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(ra,{className:"h-5 w-5"}),"B·ªô l·ªçc"]})}),e.jsx(N,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Kho·∫£ng th·ªùi gian"}),e.jsxs(ge,{value:t,onValueChange:s,children:[e.jsx(ue,{className:"mt-1",children:e.jsx(pe,{})}),e.jsxs(me,{children:[e.jsx(E,{value:"7d",children:"7 ng√†y qua"}),e.jsx(E,{value:"30d",children:"30 ng√†y qua"}),e.jsx(E,{value:"90d",children:"90 ng√†y qua"}),e.jsx(E,{value:"1y",children:"1 nƒÉm qua"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Ng√¥n ng·ªØ"}),e.jsxs(ge,{value:n,onValueChange:a,children:[e.jsx(ue,{className:"mt-1",children:e.jsx(pe,{})}),e.jsxs(me,{children:[e.jsx(E,{value:"all",children:"T·∫•t c·∫£"}),e.jsx(E,{value:"vi",children:"Ti·∫øng Vi·ªát"}),e.jsx(E,{value:"en",children:"English"}),e.jsx(E,{value:"fr",children:"Fran√ßais"})]})]})]}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsxs(C,{variant:"outline",size:"sm",children:[e.jsx(se,{className:"h-4 w-4 mr-2"}),"L√†m m·ªõi"]}),e.jsxs(C,{variant:"outline",size:"sm",children:[e.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Xu·∫•t Excel"]})]})]})})]})},L2=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Fs,{title:"T·ªïng cu·ªôc g·ªçi",value:qe.overview.totalCalls.toLocaleString(),change:qe.overview.totalCallsGrowth,icon:nt,description:"Th√°ng n√†y"}),e.jsx(Fs,{title:"Th·ªùi gian trung b√¨nh",value:Math.floor(qe.overview.averageCallDuration/60),change:qe.overview.callDurationGrowth,icon:st,description:"Ph√∫t/cu·ªôc g·ªçi",suffix:"m"}),e.jsx(Fs,{title:"Ng∆∞·ªùi d√πng duy nh·∫•t",value:qe.overview.uniqueUsers,change:qe.overview.uniqueUsersGrowth,icon:He,description:"Th√°ng n√†y"}),e.jsx(Fs,{title:"ƒêi·ªÉm h√†i l√≤ng",value:qe.overview.satisfactionScore,change:qe.overview.satisfactionGrowth,icon:$e,description:"Tr√™n 5 ƒëi·ªÉm",suffix:"/5"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(P2,{data:qe.callsByDay,dataKey:"calls",nameKey:"day",title:"Cu·ªôc g·ªçi theo ng√†y trong tu·∫ßn"}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(os,{className:"h-5 w-5"}),"Ph√¢n b·ªë ng√¥n ng·ªØ"]})}),e.jsx(N,{children:e.jsx("div",{className:"space-y-3",children:qe.languageDistribution.map((t,s)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-primary rounded-full"}),e.jsx("span",{className:"font-medium",children:t.language})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:t.calls}),e.jsxs(V,{variant:"outline",children:[t.percentage,"%"]})]})]},s))})})]})]})]}),$2=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(R,{children:"Cu·ªôc g·ªçi theo gi·ªù"}),e.jsx(U,{children:"Ph√¢n b·ªë cu·ªôc g·ªçi trong 24 gi·ªù"})]}),e.jsx(N,{children:e.jsx("div",{className:"space-y-2",children:qe.callsByHour.map((t,s)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"w-8 text-xs text-gray-600",children:[t.hour,"h"]}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${t.calls/95*100}%`}})}),e.jsx("div",{className:"w-8 text-xs font-medium text-right",children:t.calls})]},s))})})]}),e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(R,{children:"√ù ƒë·ªãnh cu·ªôc g·ªçi"}),e.jsx(U,{children:"Ph√¢n lo·∫°i theo m·ª•c ƒë√≠ch"})]}),e.jsx(N,{children:e.jsx("div",{className:"space-y-3",children:qe.intentDistribution.map((t,s)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:t.intent}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:t.calls}),e.jsxs(V,{variant:"outline",children:[t.percentage,"%"]})]})]},s))})})]})]})}),F2=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(R,{children:"ƒêi·ªÉm h√†i l√≤ng theo √Ω ƒë·ªãnh"}),e.jsx(U,{children:"ƒê√°nh gi√° kh√°ch h√†ng cho t·ª´ng lo·∫°i d·ªãch v·ª•"})]}),e.jsx(N,{children:e.jsx("div",{className:"space-y-4",children:qe.satisfactionByIntent.map((t,s)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:t.intent}),e.jsxs(V,{variant:t.rating>=4.5?"default":t.rating>=4?"secondary":"destructive",children:[t.rating,"/5"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${t.rating>=4.5?"bg-green-500":t.rating>=4?"bg-yellow-500":"bg-red-500"}`,style:{width:`${t.rating/5*100}%`}})})]},s))})})]}),e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(R,{children:"Xu h∆∞·ªõng ƒëi·ªÉm h√†i l√≤ng"}),e.jsx(U,{children:"Thay ƒë·ªïi theo th·ªùi gian"})]}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:"4.7/5"}),e.jsx("div",{className:"text-sm text-gray-600",children:"ƒêi·ªÉm trung b√¨nh th√°ng n√†y"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"5 sao"}),e.jsx("span",{children:"68%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"68%"}})}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"4 sao"}),e.jsx("span",{children:"22%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"22%"}})}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"3 sao"}),e.jsx("span",{children:"7%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:"7%"}})}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"2 sao"}),e.jsx("span",{children:"2%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:"2%"}})}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"1 sao"}),e.jsx("span",{children:"1%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:"1%"}})})]})]})})]})]})}),O2=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Ph√¢n t√≠ch & B√°o c√°o"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Th·ªëng k√™ chi ti·∫øt v·ªÅ hi·ªáu su·∫•t AI Assistant"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(C,{variant:"outline",size:"sm",children:[e.jsx(sa,{className:"h-4 w-4 mr-2"}),"T√πy ch·ªânh kho·∫£ng th·ªùi gian"]}),e.jsxs(C,{variant:"outline",size:"sm",children:[e.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Xu·∫•t b√°o c√°o"]})]})]}),e.jsx(M2,{}),e.jsxs(at,{defaultValue:"overview",className:"space-y-4",children:[e.jsxs(Ye,{className:"grid w-full grid-cols-3",children:[e.jsx(J,{value:"overview",children:"T·ªïng quan"}),e.jsx(J,{value:"patterns",children:"M·∫´u cu·ªôc g·ªçi"}),e.jsx(J,{value:"satisfaction",children:"H√†i l√≤ng"})]}),e.jsx(ee,{value:"overview",className:"space-y-4",children:e.jsx(L2,{})}),e.jsx(ee,{value:"patterns",className:"space-y-4",children:e.jsx($2,{})}),e.jsx(ee,{value:"satisfaction",className:"space-y-4",children:e.jsx(F2,{})})]})]}),hn={basicInfo:{name:"Mi Nhon Hotel",address:"123 Nguyen Hue Street, District 1, Ho Chi Minh City",phone:"+84 28 3829 2999",email:"info@minhonhotel.com",website:"https://minhonhotel.com",description:"Kh√°ch s·∫°n 4 sao sang tr·ªçng t·∫°i trung t√¢m th√†nh ph·ªë v·ªõi view bi·ªÉn tuy·ªát ƒë·∫πp v√† d·ªãch v·ª• chuy√™n nghi·ªáp.",checkInTime:"14:00",checkOutTime:"12:00",currency:"VND",timezone:"Asia/Ho_Chi_Minh"},notifications:{emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,dailyReports:!0,weeklyReports:!0,monthlyReports:!0,alertOnErrors:!0,alertOnLowRating:!0},privacy:{recordCalls:!0,dataRetentionDays:90,shareAnalytics:!1,allowDataExport:!0,gdprCompliance:!0},api:{webhookUrl:"https://minhonhotel.com/webhook",apiKeys:{vapi:"vapi_***************",openai:"sk-***************"}}},z2=()=>{const[t,s]=l.useState(hn.basicInfo),[n,a]=l.useState(!1),r=async()=>{a(!0);try{await new Promise(i=>setTimeout(i,1e3)),console.log("Saving hotel settings:",t)}catch(i){console.error("Failed to save settings:",i)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(Us,{className:"h-5 w-5"}),"Th√¥ng tin c∆° b·∫£n"]}),e.jsx(U,{children:"C·∫≠p nh·∫≠t th√¥ng tin chi ti·∫øt v·ªÅ kh√°ch s·∫°n"})]}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(v,{htmlFor:"hotel-name",children:"T√™n kh√°ch s·∫°n"}),e.jsx(L,{id:"hotel-name",value:t.name,onChange:i=>s(c=>({...c,name:i.target.value})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"phone",children:"S·ªë ƒëi·ªán tho·∫°i"}),e.jsx(L,{id:"phone",value:t.phone,onChange:i=>s(c=>({...c,phone:i.target.value})),className:"mt-1"})]})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"address",children:"ƒê·ªãa ch·ªâ"}),e.jsx(L,{id:"address",value:t.address,onChange:i=>s(c=>({...c,address:i.target.value})),className:"mt-1"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(v,{htmlFor:"email",children:"Email"}),e.jsx(L,{id:"email",type:"email",value:t.email,onChange:i=>s(c=>({...c,email:i.target.value})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"website",children:"Website"}),e.jsx(L,{id:"website",value:t.website,onChange:i=>s(c=>({...c,website:i.target.value})),className:"mt-1"})]})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"description",children:"M√¥ t·∫£ kh√°ch s·∫°n"}),e.jsx(ze,{id:"description",value:t.description,onChange:i=>s(c=>({...c,description:i.target.value})),className:"mt-1",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(v,{htmlFor:"check-in",children:"Gi·ªù check-in"}),e.jsx(L,{id:"check-in",type:"time",value:t.checkInTime,onChange:i=>s(c=>({...c,checkInTime:i.target.value})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"check-out",children:"Gi·ªù check-out"}),e.jsx(L,{id:"check-out",type:"time",value:t.checkOutTime,onChange:i=>s(c=>({...c,checkOutTime:i.target.value})),className:"mt-1"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(v,{htmlFor:"currency",children:"ƒê∆°n v·ªã ti·ªÅn t·ªá"}),e.jsx(L,{id:"currency",value:t.currency,onChange:i=>s(c=>({...c,currency:i.target.value})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"timezone",children:"M√∫i gi·ªù"}),e.jsx(L,{id:"timezone",value:t.timezone,onChange:i=>s(c=>({...c,timezone:i.target.value})),className:"mt-1"})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(C,{onClick:r,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"}),"ƒêang l∆∞u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ke,{className:"w-4 h-4 mr-2"}),"L∆∞u thay ƒë·ªïi"]})})})]})},B2=()=>{const[t,s]=l.useState(hn.notifications),[n,a]=l.useState(!1),r=c=>{s(o=>({...o,[c]:!o[c]}))},i=async()=>{a(!0);try{await new Promise(c=>setTimeout(c,1e3)),console.log("Saving notification settings:",t)}catch(c){console.error("Failed to save settings:",c)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(Bt,{className:"h-5 w-5"}),"C√†i ƒë·∫∑t th√¥ng b√°o"]}),e.jsx(U,{children:"T√πy ch·ªçn th√¥ng b√°o v√† b√°o c√°o"})]}),e.jsxs(N,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Ph∆∞∆°ng th·ª©c th√¥ng b√°o"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Email notifications"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Nh·∫≠n th√¥ng b√°o qua email"})]}),e.jsx(te,{checked:t.emailNotifications,onCheckedChange:()=>r("emailNotifications")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"SMS notifications"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Nh·∫≠n th√¥ng b√°o qua SMS"})]}),e.jsx(te,{checked:t.smsNotifications,onCheckedChange:()=>r("smsNotifications")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Push notifications"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Th√¥ng b√°o ƒë·∫©y tr√™n tr√¨nh duy·ªát"})]}),e.jsx(te,{checked:t.pushNotifications,onCheckedChange:()=>r("pushNotifications")})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"B√°o c√°o ƒë·ªãnh k·ª≥"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"B√°o c√°o h√†ng ng√†y"}),e.jsx("div",{className:"text-sm text-gray-600",children:"T√≥m t·∫Øt ho·∫°t ƒë·ªông h√†ng ng√†y"})]}),e.jsx(te,{checked:t.dailyReports,onCheckedChange:()=>r("dailyReports")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"B√°o c√°o h√†ng tu·∫ßn"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Th·ªëng k√™ tu·∫ßn"})]}),e.jsx(te,{checked:t.weeklyReports,onCheckedChange:()=>r("weeklyReports")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"B√°o c√°o h√†ng th√°ng"}),e.jsx("div",{className:"text-sm text-gray-600",children:"T·ªïng quan th√°ng"})]}),e.jsx(te,{checked:t.monthlyReports,onCheckedChange:()=>r("monthlyReports")})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"C·∫£nh b√°o"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"C·∫£nh b√°o l·ªói"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Th√¥ng b√°o khi c√≥ l·ªói h·ªá th·ªëng"})]}),e.jsx(te,{checked:t.alertOnErrors,onCheckedChange:()=>r("alertOnErrors")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"C·∫£nh b√°o ƒëi·ªÉm th·∫•p"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Th√¥ng b√°o khi ƒëi·ªÉm h√†i l√≤ng th·∫•p"})]}),e.jsx(te,{checked:t.alertOnLowRating,onCheckedChange:()=>r("alertOnLowRating")})]})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(C,{onClick:i,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"}),"ƒêang l∆∞u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ke,{className:"w-4 h-4 mr-2"}),"L∆∞u c√†i ƒë·∫∑t"]})})})]})},q2=()=>{const[t,s]=l.useState(hn.privacy),[n,a]=l.useState(!1),r=c=>{s(o=>({...o,[c]:!o[c]}))},i=async()=>{a(!0);try{await new Promise(c=>setTimeout(c,1e3)),console.log("Saving privacy settings:",t)}catch(c){console.error("Failed to save settings:",c)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"h-5 w-5"}),"Quy·ªÅn ri√™ng t∆∞ & B·∫£o m·∫≠t"]}),e.jsx(U,{children:"C·∫•u h√¨nh b·∫£o m·∫≠t v√† quy·ªÅn ri√™ng t∆∞ d·ªØ li·ªáu"})]}),e.jsxs(N,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Ghi √¢m cu·ªôc g·ªçi"}),e.jsx("div",{className:"text-sm text-gray-600",children:"L∆∞u tr·ªØ cu·ªôc g·ªçi ƒë·ªÉ c·∫£i thi·ªán ch·∫•t l∆∞·ª£ng"})]}),e.jsx(te,{checked:t.recordCalls,onCheckedChange:()=>r("recordCalls")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Chia s·∫ª d·ªØ li·ªáu ph√¢n t√≠ch"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Gi√∫p c·∫£i thi·ªán s·∫£n ph·∫©m (d·ªØ li·ªáu ·∫©n danh)"})]}),e.jsx(te,{checked:t.shareAnalytics,onCheckedChange:()=>r("shareAnalytics")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Cho ph√©p xu·∫•t d·ªØ li·ªáu"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Kh√°ch h√†ng c√≥ th·ªÉ y√™u c·∫ßu xu·∫•t d·ªØ li·ªáu"})]}),e.jsx(te,{checked:t.allowDataExport,onCheckedChange:()=>r("allowDataExport")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Tu√¢n th·ªß GDPR"}),e.jsx("div",{className:"text-sm text-gray-600",children:"B·∫£o v·ªá quy·ªÅn ri√™ng t∆∞ theo chu·∫©n EU"})]}),e.jsx(te,{checked:t.gdprCompliance,onCheckedChange:()=>r("gdprCompliance")})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"L∆∞u tr·ªØ d·ªØ li·ªáu"}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"retention-days",children:"Th·ªùi gian l∆∞u tr·ªØ (ng√†y)"}),e.jsx(L,{id:"retention-days",type:"number",value:t.dataRetentionDays,onChange:c=>s(o=>({...o,dataRetentionDays:parseInt(c.target.value)})),className:"mt-1 max-w-xs",min:"30",max:"365"}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["D·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c t·ª± ƒë·ªông x√≥a sau ",t.dataRetentionDays," ng√†y"]})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(C,{onClick:i,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"}),"ƒêang l∆∞u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ke,{className:"w-4 h-4 mr-2"}),"L∆∞u c√†i ƒë·∫∑t"]})})})]})},H2=()=>{const[t,s]=l.useState(hn.api),[n,a]=l.useState(!1),r=async()=>{a(!0);try{await new Promise(i=>setTimeout(i,1e3)),console.log("Saving API settings:",t)}catch(i){console.error("Failed to save settings:",i)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(Gi,{className:"h-5 w-5"}),"C·∫•u h√¨nh API"]}),e.jsx(U,{children:"Qu·∫£n l√Ω API keys v√† webhook"})]}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(v,{htmlFor:"webhook-url",children:"Webhook URL"}),e.jsx(L,{id:"webhook-url",value:t.webhookUrl,onChange:i=>s(c=>({...c,webhookUrl:i.target.value})),className:"mt-1",placeholder:"https://yourhotel.com/webhook"}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"URL ƒë·ªÉ nh·∫≠n th√¥ng b√°o v·ªÅ c√°c s·ª± ki·ªán"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"API Keys"}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ve,{className:"h-4 w-4 text-yellow-600"}),e.jsx("span",{className:"font-medium text-yellow-800",children:"L∆∞u √Ω b·∫£o m·∫≠t"})]}),e.jsx("p",{className:"text-sm text-yellow-700",children:"Kh√¥ng chia s·∫ª API keys v·ªõi ng∆∞·ªùi kh√°c. Thay ƒë·ªïi ngay n·∫øu b·ªã l·ªô."})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"vapi-key",children:"Vapi API Key"}),e.jsx(L,{id:"vapi-key",type:"password",value:t.apiKeys.vapi,onChange:i=>s(c=>({...c,apiKeys:{...c.apiKeys,vapi:i.target.value}})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"openai-key",children:"OpenAI API Key"}),e.jsx(L,{id:"openai-key",type:"password",value:t.apiKeys.openai,onChange:i=>s(c=>({...c,apiKeys:{...c.apiKeys,openai:i.target.value}})),className:"mt-1"})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(C,{onClick:r,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"}),"ƒêang l∆∞u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ke,{className:"w-4 h-4 mr-2"}),"L∆∞u c√†i ƒë·∫∑t"]})})})]})},V2=()=>{const t=[{name:"Database Connection",status:"healthy",icon:qt},{name:"Vapi API",status:"healthy",icon:nt},{name:"OpenAI API",status:"healthy",icon:We},{name:"Email Service",status:"healthy",icon:oa},{name:"Webhook Endpoint",status:"warning",icon:os},{name:"SSL Certificate",status:"healthy",icon:Ce}],s=a=>{switch(a){case"healthy":return"text-green-600";case"warning":return"text-yellow-600";case"error":return"text-red-600";default:return"text-gray-600"}},n=a=>{switch(a){case"healthy":return e.jsx(V,{className:"bg-green-100 text-green-800",children:"Ho·∫°t ƒë·ªông"});case"warning":return e.jsx(V,{className:"bg-yellow-100 text-yellow-800",children:"C·∫£nh b√°o"});case"error":return e.jsx(V,{className:"bg-red-100 text-red-800",children:"L·ªói"});default:return e.jsx(V,{variant:"outline",children:"Kh√¥ng x√°c ƒë·ªãnh"})}};return e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(is,{className:"h-5 w-5"}),"Tr·∫°ng th√°i h·ªá th·ªëng"]}),e.jsx(U,{children:"Ki·ªÉm tra t√¨nh tr·∫°ng c√°c d·ªãch v·ª•"})]}),e.jsx(N,{children:e.jsx("div",{className:"space-y-4",children:t.map((a,r)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(a.icon,{className:`h-5 w-5 ${s(a.status)}`}),e.jsx("span",{className:"font-medium",children:a.name})]}),n(a.status)]},r))})})]})},U2=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"C√†i ƒë·∫∑t"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Qu·∫£n l√Ω th√¥ng tin kh√°ch s·∫°n v√† c·∫•u h√¨nh h·ªá th·ªëng"})]}),e.jsx(V2,{}),e.jsxs(at,{defaultValue:"hotel",className:"space-y-4",children:[e.jsxs(Ye,{className:"grid w-full grid-cols-4",children:[e.jsx(J,{value:"hotel",children:"Kh√°ch s·∫°n"}),e.jsx(J,{value:"notifications",children:"Th√¥ng b√°o"}),e.jsx(J,{value:"privacy",children:"Quy·ªÅn ri√™ng t∆∞"}),e.jsx(J,{value:"api",children:"API"})]}),e.jsx(ee,{value:"hotel",className:"space-y-4",children:e.jsx(z2,{})}),e.jsx(ee,{value:"notifications",className:"space-y-4",children:e.jsx(B2,{})}),e.jsx(ee,{value:"privacy",className:"space-y-4",children:e.jsx(q2,{})}),e.jsx(ee,{value:"api",className:"space-y-4",children:e.jsx(H2,{})})]})]}),Nn=({requiredPermission:t,requiredRole:s,variant:n="alert"})=>n==="minimal"?e.jsxs("div",{className:"text-gray-400 text-sm flex items-center gap-2",children:[e.jsx(ss,{className:"h-4 w-4"}),e.jsx("span",{children:"Kh√¥ng c√≥ quy·ªÅn truy c·∫≠p"})]}):n==="placeholder"?e.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-lg p-8 text-center",children:[e.jsx(Ce,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"Quy·ªÅn truy c·∫≠p b·ªã h·∫°n ch·∫ø"}),e.jsxs("p",{className:"text-gray-500",children:[t&&`C·∫ßn quy·ªÅn: ${t}`,s&&`C·∫ßn vai tr√≤: ${s}`]})]}):e.jsxs(As,{className:"border-orange-200 bg-orange-50",children:[e.jsx(Ce,{className:"h-4 w-4 text-orange-600"}),e.jsxs(Es,{className:"text-orange-800",children:[e.jsx("strong",{children:"Kh√¥ng c√≥ quy·ªÅn truy c·∫≠p."})," ",t&&`C·∫ßn quy·ªÅn: ${t}. `,s&&`C·∫ßn vai tr√≤: ${s}. `,"Vui l√≤ng li√™n h·ªá qu·∫£n tr·ªã vi√™n ƒë·ªÉ ƒë∆∞·ª£c c·∫•p quy·ªÅn."]})]}),Ue=({children:t,requiredPermission:s,requiredRole:n,fallback:a,showFallback:r=!0})=>{const{user:i,hasPermission:c}=_e();if(!i)return r?e.jsx(Nn,{requiredPermission:s,requiredRole:n,variant:"minimal"}):null;if(n&&i.role!==n)return r?a||e.jsx(Nn,{requiredRole:n,variant:"alert"}):null;if(s){let o,h;if(s.includes(":")?[o,h]=s.split(":"):[o,h]=s.split("."),!c(o,h))return r?a||e.jsx(Nn,{requiredPermission:s,variant:"alert"}):null}return e.jsx(e.Fragment,{children:t})},G2=()=>{const{user:t,hasPermission:s}=_e(),n=o=>{if(!t)return!1;const[h,d]=o.split(".");return s(h,d)},a=o=>t?.role===o;return{canAccess:n,hasRole:a,isManager:()=>a("hotel-manager"),isStaff:()=>a("front-desk"),isIT:()=>a("it-manager"),user:t}},K2=[{href:"/dashboard",icon:ia,label:"T·ªïng quan",description:"Th·ªëng k√™ v√† metrics t·ªïng quan",permission:"dashboard:view"},{href:"/dashboard/setup",icon:We,label:"Thi·∫øt l·∫≠p Assistant",description:"C·∫•u h√¨nh v√† t√πy ch·ªânh AI Assistant",permission:"assistant:configure",roleSpecific:["hotel-manager"]},{href:"/unified-dashboard/analytics",icon:na,label:"Ph√¢n t√≠ch n√¢ng cao",description:"B√°o c√°o v√† th·ªëng k√™ chi ti·∫øt",permission:"analytics:view_advanced",roleSpecific:["hotel-manager"]},{href:"/dashboard/billing",icon:en,label:"Thanh to√°n",description:"Qu·∫£n l√Ω subscription v√† billing",permission:"billing:view",roleSpecific:["hotel-manager"]},{href:"/unified-dashboard/staff-management",icon:He,label:"Qu·∫£n l√Ω nh√¢n vi√™n",description:"Th√™m, s·ª≠a, x√≥a t√†i kho·∫£n nh√¢n vi√™n",permission:"staff:manage",roleSpecific:["hotel-manager"]},{href:"/dashboard/settings",icon:Qe,label:"C√†i ƒë·∫∑t h·ªá th·ªëng",description:"C·∫•u h√¨nh kh√°ch s·∫°n v√† h·ªá th·ªëng",permission:"settings:manage",roleSpecific:["hotel-manager"]},{href:"/unified-dashboard/requests",icon:Pn,label:"Y√™u c·∫ßu kh√°ch h√†ng",description:"Xem v√† x·ª≠ l√Ω y√™u c·∫ßu t·ª´ kh√°ch",permission:"requests:view",roleSpecific:["front-desk"]},{href:"/dashboard/guest-management",icon:Zd,label:"Qu·∫£n l√Ω kh√°ch h√†ng",description:"Th√¥ng tin v√† l·ªãch s·ª≠ kh√°ch h√†ng",permission:"guests:manage",roleSpecific:["front-desk"]},{href:"/dashboard/basic-analytics",icon:_s,label:"Th·ªëng k√™ c∆° b·∫£n",description:"B√°o c√°o ho·∫°t ƒë·ªông h√†ng ng√†y",permission:"analytics:view_basic",roleSpecific:["front-desk"]},{href:"/dashboard/calls",icon:Ut,label:"L·ªãch s·ª≠ cu·ªôc g·ªçi",description:"Xem l·ªãch s·ª≠ cu·ªôc g·ªçi v√† transcript",permission:"calls:view",roleSpecific:["front-desk"]},{href:"/unified-dashboard/system-monitoring",icon:sn,label:"Gi√°m s√°t h·ªá th·ªëng",description:"Theo d√µi hi·ªáu su·∫•t v√† s·ª©c kh·ªèe h·ªá th·ªëng",permission:"system:monitor",roleSpecific:["it-manager"]},{href:"/dashboard/integrations",icon:ua,label:"T√≠ch h·ª£p",description:"Qu·∫£n l√Ω API v√† t√≠ch h·ª£p b√™n th·ª© 3",permission:"integrations:manage",roleSpecific:["it-manager"]},{href:"/dashboard/logs",icon:qt,label:"Nh·∫≠t k√Ω h·ªá th·ªëng",description:"Xem logs v√† debug issues",permission:"logs:view",roleSpecific:["it-manager"]},{href:"/dashboard/security",icon:Ce,label:"B·∫£o m·∫≠t",description:"C·∫•u h√¨nh v√† gi√°m s√°t b·∫£o m·∫≠t",permission:"security:manage",roleSpecific:["it-manager"]}],fl=t=>{switch(t){case"hotel-manager":return{primary:"bg-blue-600 hover:bg-blue-700",accent:"border-blue-200",badge:"bg-blue-100 text-blue-800"};case"front-desk":return{primary:"bg-green-600 hover:bg-green-700",accent:"border-green-200",badge:"bg-green-100 text-green-800"};case"it-manager":return{primary:"bg-purple-600 hover:bg-purple-700",accent:"border-purple-200",badge:"bg-purple-100 text-purple-800"};default:return{primary:"bg-gray-600 hover:bg-gray-700",accent:"border-gray-200",badge:"bg-gray-100 text-gray-800"}}},Fn=t=>{switch(t){case"hotel-manager":return"Qu·∫£n l√Ω kh√°ch s·∫°n";case"front-desk":return"L·ªÖ t√¢n";case"it-manager":return"Qu·∫£n l√Ω IT";default:return"Ng∆∞·ªùi d√πng"}},W2=({href:t,icon:s,label:n,description:a,isActive:r,theme:i})=>e.jsx(Ne,{href:t,children:e.jsxs(C,{variant:r?"default":"ghost",className:k("w-full justify-start gap-3 px-3 py-6 h-auto","hover:bg-gray-100 dark:hover:bg-gray-800",r&&`${i.primary} text-white hover:${i.primary.replace("bg-","bg-").replace("600","700")}`),children:[e.jsx(s,{className:"h-5 w-5 shrink-0"}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("div",{className:"font-medium",children:n}),e.jsx("div",{className:k("text-xs text-muted-foreground",r&&"text-white/80"),children:a})]})]})}),Q2=({user:t,role:s,onLogout:n})=>{const a=fl(s);return e.jsxs(Io,{children:[e.jsx(Ro,{asChild:!0,children:e.jsx(C,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:e.jsxs(ba,{className:"h-10 w-10",children:[e.jsx(wa,{src:t.avatar_url||"",alt:t.display_name||t.email}),e.jsx(Na,{className:a.primary,children:(t.display_name||t.email||"").charAt(0).toUpperCase()})]})})}),e.jsxs(Ca,{className:"w-56",align:"end",children:[e.jsxs(Sa,{className:"flex flex-col",children:[e.jsx("div",{className:"font-medium",children:t.display_name||t.email}),e.jsx("div",{className:"text-xs text-muted-foreground",children:Fn(s)})]}),e.jsx(ws,{}),e.jsxs(zt,{children:[e.jsx(Qe,{className:"mr-2 h-4 w-4"}),"C√†i ƒë·∫∑t t√†i kho·∫£n"]}),e.jsxs(zt,{children:[e.jsx(Vi,{className:"mr-2 h-4 w-4"}),"Tr·ª£ gi√∫p"]}),e.jsx(ws,{}),e.jsxs(zt,{className:"text-red-600 focus:text-red-600",onClick:n,children:[e.jsx(Ki,{className:"mr-2 h-4 w-4"}),"ƒêƒÉng xu·∫•t"]})]})]})},Z2=({isOpen:t,onClose:s,user:n,role:a,theme:r})=>{const[i]=as(),o=G2().canAccess,h=K2.filter(d=>!(!o(d.permission)||d.roleSpecific&&!d.roleSpecific.includes(a)));return e.jsx("aside",{className:k("fixed inset-y-0 left-0 z-50 w-80 bg-white dark:bg-gray-800 shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0",t?"translate-x-0":"-translate-x-full"),children:e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsxs("div",{className:k("flex items-center justify-between p-6 border-b",r.accent),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:k("flex h-10 w-10 items-center justify-center rounded-lg text-white",r.primary),children:e.jsx(Hi,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold",children:"Talk2Go"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Hotel Management"})]})]}),e.jsx(C,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:s,children:e.jsx(Gt,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:k("px-6 py-4 border-b",r.accent),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-lg",children:n.display_name||n.email}),e.jsx("div",{className:"text-xs text-gray-500",children:Fn(a)})]}),e.jsx(V,{variant:"outline",className:r.badge,children:Fn(a)})]}),e.jsxs("div",{className:"mt-3 flex gap-2",children:[e.jsx(Ue,{requiredPermission:"dashboard:view_client_interface",children:e.jsx(Ne,{href:"/interface1",className:k("flex-1 px-3 py-2 text-white text-sm rounded hover:opacity-90 transition text-center",r.primary),children:"Giao di·ªán kh√°ch"})}),e.jsxs(C,{variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(Bt,{className:"h-4 w-4 mr-1"}),"Th√¥ng b√°o"]})]})]}),e.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:h.map(d=>{const x=i===d.href;return e.jsx(W2,{href:d.href,icon:d.icon,label:d.label,description:d.description,isActive:x,theme:r},d.href)})}),e.jsx("div",{className:"p-4 border-t",children:e.jsx("div",{className:"text-xs text-center text-muted-foreground",children:"¬© 2024 Talk2Go - Hotel AI Assistant"})})]})})},tt=({children:t})=>{const[s,n]=l.useState(!1),{user:a,logout:r}=_e(),i=a?.role||"front-desk",c=fl(i),o=()=>{switch(i){case"hotel-manager":return"Dashboard Qu·∫£n l√Ω";case"front-desk":return"Dashboard L·ªÖ t√¢n";case"it-manager":return"Dashboard IT";default:return"Dashboard"}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s&&e.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:()=>n(!1)}),e.jsx(Z2,{isOpen:s,onClose:()=>n(!1),user:a,role:i,theme:c}),e.jsxs("div",{className:"lg:ml-80",children:[e.jsx("header",{className:"sticky top-0 z-30 bg-white dark:bg-gray-800 border-b shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(C,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>n(!0),children:e.jsx(Wi,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:o()}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Qu·∫£n l√Ω kh√°ch s·∫°n v·ªõi AI Assistant"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Ue,{requiredPermission:"notifications:view",children:e.jsxs(C,{variant:"ghost",size:"icon",className:"relative",children:[e.jsx(Bt,{className:"h-5 w-5"}),e.jsx(V,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 text-xs",children:"3"})]})}),e.jsx(Q2,{user:a,role:i,onLogout:r})]})]})}),e.jsx("main",{className:"p-6",children:t})]})]})},he={calls:{total:156,today:23},requests:{pending:8,inProgress:12,completed:45,totalToday:18},satisfaction:{rating:4.7,trend:"+0.2"},system:{uptime:99.8,responseTime:150,errors:2}},Ge=({title:t,value:s,description:n,icon:a,trend:r,color:i="blue"})=>e.jsxs(w,{children:[e.jsxs(I,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(R,{className:"text-sm font-medium",children:t}),e.jsx(a,{className:`h-4 w-4 text-${i}-600`})]}),e.jsxs(N,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s}),n&&e.jsx("p",{className:"text-xs text-muted-foreground",children:n}),r&&e.jsxs("div",{className:"flex items-center text-xs text-green-600 mt-1",children:[e.jsx($e,{className:"h-3 w-3 mr-1"}),r]})]})]}),X2=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white p-6 rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Ch√†o m·ª´ng ƒë·∫øn v·ªõi Dashboard Qu·∫£n l√Ω"}),e.jsx("p",{className:"text-blue-100",children:"T·ªïng quan ho·∫°t ƒë·ªông kh√°ch s·∫°n v√† AI Assistant"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Ge,{title:"T·ªïng cu·ªôc g·ªçi",value:he.calls.total,description:"H√¥m nay: +23",icon:nt,trend:"+15.2%",color:"blue"}),e.jsx(Ge,{title:"ƒê√°nh gi√° trung b√¨nh",value:`${he.satisfaction.rating}/5`,description:"89 ph·∫£n h·ªìi",icon:Jt,trend:he.satisfaction.trend,color:"green"}),e.jsx(Ge,{title:"Y√™u c·∫ßu ƒëang ch·ªù",value:he.requests.pending,description:"C·∫ßn x·ª≠ l√Ω ngay",icon:ve,color:"orange"}),e.jsx(Ge,{title:"Uptime h·ªá th·ªëng",value:`${he.system.uptime}%`,description:"30 ng√†y qua",icon:mt,trend:"+0.1%",color:"purple"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(R,{children:"H√†nh ƒë·ªông nhanh"}),e.jsx(U,{children:"C√°c t√°c v·ª• th∆∞·ªùng xuy√™n"})]}),e.jsxs(N,{className:"space-y-3",children:[e.jsx(Ue,{requiredPermission:"assistant:configure",children:e.jsx(Ne,{href:"/unified-dashboard/settings",children:e.jsxs(C,{className:"w-full justify-start",variant:"outline",children:[e.jsx(We,{className:"mr-2 h-4 w-4"}),"C·∫•u h√¨nh AI Assistant"]})})}),e.jsx(Ue,{requiredPermission:"analytics:view_advanced",children:e.jsx(Ne,{href:"/unified-dashboard/analytics",children:e.jsxs(C,{className:"w-full justify-start",variant:"outline",children:[e.jsx(_s,{className:"mr-2 h-4 w-4"}),"Xem b√°o c√°o chi ti·∫øt"]})})}),e.jsx(Ue,{requiredPermission:"staff:manage",children:e.jsx(Ne,{href:"/unified-dashboard/staff-management",children:e.jsxs(C,{className:"w-full justify-start",variant:"outline",children:[e.jsx(He,{className:"mr-2 h-4 w-4"}),"Qu·∫£n l√Ω nh√¢n vi√™n"]})})})]})]}),e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(R,{children:"Ho·∫°t ƒë·ªông g·∫ßn ƒë√¢y"}),e.jsx(U,{children:"C·∫≠p nh·∫≠t h·ªá th·ªëng m·ªõi nh·∫•t"})]}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Oe,{className:"h-4 w-4 text-green-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm",children:"AI Assistant ƒë∆∞·ª£c c·∫≠p nh·∫≠t"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"2 ph√∫t tr∆∞·ªõc"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ve,{className:"h-4 w-4 text-orange-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm",children:"8 y√™u c·∫ßu m·ªõi c·∫ßn x·ª≠ l√Ω"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"15 ph√∫t tr∆∞·ªõc"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx($e,{className:"h-4 w-4 text-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm",children:"Satisfaction tƒÉng 0.2 ƒëi·ªÉm"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"1 gi·ªù tr∆∞·ªõc"})]})]})]})})]})]})]}),Y2=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-800 text-white p-6 rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Dashboard L·ªÖ t√¢n"}),e.jsx("p",{className:"text-green-100",children:"Qu·∫£n l√Ω y√™u c·∫ßu kh√°ch h√†ng v√† cu·ªôc g·ªçi"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Ge,{title:"Y√™u c·∫ßu h√¥m nay",value:he.requests.totalToday,description:"M·ªõi trong ng√†y",icon:Pn,color:"green"}),e.jsx(Ge,{title:"ƒêang ch·ªù x·ª≠ l√Ω",value:he.requests.pending,description:"C·∫ßn h√†nh ƒë·ªông",icon:st,color:"orange"}),e.jsx(Ge,{title:"ƒê√£ ho√†n th√†nh",value:he.requests.completed,description:"Tu·∫ßn n√†y",icon:Oe,color:"blue"}),e.jsx(Ge,{title:"Cu·ªôc g·ªçi h√¥m nay",value:he.calls.today,description:"Th·ªùi gian TB: 2.3 ph√∫t",icon:nt,color:"purple"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(R,{children:"C√¥ng vi·ªác c·ªßa t√¥i"}),e.jsx(U,{children:"Nhi·ªám v·ª• c·∫ßn th·ª±c hi·ªán"})]}),e.jsxs(N,{className:"space-y-3",children:[e.jsx(Ue,{requiredPermission:"requests:view",children:e.jsx(Ne,{href:"/unified-dashboard/requests",children:e.jsxs(C,{className:"w-full justify-start",variant:"outline",children:[e.jsx(Pn,{className:"mr-2 h-4 w-4"}),"Xem y√™u c·∫ßu kh√°ch h√†ng (",he.requests.pending,")"]})})}),e.jsx(Ue,{requiredPermission:"calls:view",children:e.jsx(Ne,{href:"/dashboard/calls",children:e.jsxs(C,{className:"w-full justify-start",variant:"outline",children:[e.jsx(Ut,{className:"mr-2 h-4 w-4"}),"L·ªãch s·ª≠ cu·ªôc g·ªçi"]})})}),e.jsx(Ue,{requiredPermission:"guests:manage",children:e.jsx(Ne,{href:"/unified-dashboard/guest-management",children:e.jsxs(C,{className:"w-full justify-start",variant:"outline",children:[e.jsx(He,{className:"mr-2 h-4 w-4"}),"Qu·∫£n l√Ω kh√°ch h√†ng"]})})})]})]}),e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(R,{children:"Tr·∫°ng th√°i y√™u c·∫ßu"}),e.jsx(U,{children:"Ph√¢n b·ªë theo tr·∫°ng th√°i"})]}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"ƒêang ch·ªù"}),e.jsx(V,{variant:"outline",children:he.requests.pending})]}),e.jsx(ct,{value:he.requests.pending/(he.requests.pending+he.requests.inProgress+he.requests.completed)*100,className:"h-2"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"ƒêang x·ª≠ l√Ω"}),e.jsx(V,{variant:"outline",children:he.requests.inProgress})]}),e.jsx(ct,{value:he.requests.inProgress/(he.requests.pending+he.requests.inProgress+he.requests.completed)*100,className:"h-2"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Ho√†n th√†nh"}),e.jsx(V,{variant:"outline",children:he.requests.completed})]}),e.jsx(ct,{value:he.requests.completed/(he.requests.pending+he.requests.inProgress+he.requests.completed)*100,className:"h-2"})]})})]})]})]}),J2=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-800 text-white p-6 rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Dashboard IT Manager"}),e.jsx("p",{className:"text-purple-100",children:"Gi√°m s√°t h·ªá th·ªëng v√† qu·∫£n l√Ω k·ªπ thu·∫≠t"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Ge,{title:"Uptime h·ªá th·ªëng",value:`${he.system.uptime}%`,description:"30 ng√†y qua",icon:ca,trend:"+0.1%",color:"purple"}),e.jsx(Ge,{title:"Response Time",value:`${he.system.responseTime}ms`,description:"Trung b√¨nh 24h",icon:mt,color:"blue"}),e.jsx(Ge,{title:"L·ªói h·ªá th·ªëng",value:he.system.errors,description:"H√¥m nay",icon:ve,color:"red"}),e.jsx(Ge,{title:"API Calls",value:"12.5K",description:"H√¥m nay",icon:qt,trend:"+8.2%",color:"green"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(R,{children:"C√¥ng c·ª• IT"}),e.jsx(U,{children:"Qu·∫£n l√Ω h·ªá th·ªëng v√† b·∫£o m·∫≠t"})]}),e.jsxs(N,{className:"space-y-3",children:[e.jsx(Ue,{requiredPermission:"system:monitor",children:e.jsx(Ne,{href:"/unified-dashboard/system-monitoring",children:e.jsxs(C,{className:"w-full justify-start",variant:"outline",children:[e.jsx(sn,{className:"mr-2 h-4 w-4"}),"Gi√°m s√°t h·ªá th·ªëng"]})})}),e.jsx(Ue,{requiredPermission:"logs:view",children:e.jsx(Ne,{href:"/unified-dashboard/logs",children:e.jsxs(C,{className:"w-full justify-start",variant:"outline",children:[e.jsx(qt,{className:"mr-2 h-4 w-4"}),"Xem system logs"]})})}),e.jsx(Ue,{requiredPermission:"security:manage",children:e.jsx(Ne,{href:"/unified-dashboard/security",children:e.jsxs(C,{className:"w-full justify-start",variant:"outline",children:[e.jsx(Ce,{className:"mr-2 h-4 w-4"}),"C·∫•u h√¨nh b·∫£o m·∫≠t"]})})}),e.jsx(Ue,{requiredPermission:"integrations:manage",children:e.jsx(Ne,{href:"/unified-dashboard/integrations",children:e.jsxs(C,{className:"w-full justify-start",variant:"outline",children:[e.jsx(ua,{className:"mr-2 h-4 w-4"}),"Qu·∫£n l√Ω t√≠ch h·ª£p"]})})})]})]}),e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(R,{children:"C·∫£nh b√°o h·ªá th·ªëng"}),e.jsx(U,{children:"Th√¥ng b√°o k·ªπ thu·∫≠t quan tr·ªçng"})]}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Oe,{className:"h-4 w-4 text-green-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm",children:"Database backup completed"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"5 ph√∫t tr∆∞·ªõc"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ve,{className:"h-4 w-4 text-orange-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm",children:"High memory usage: 85%"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"10 ph√∫t tr∆∞·ªõc"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ce,{className:"h-4 w-4 text-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm",children:"Security scan completed"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"1 gi·ªù tr∆∞·ªõc"})]})]})]})})]})]})]}),ew=()=>{const{user:t}=_e(),s=t?.role||"front-desk",n=()=>{switch(s){case"hotel-manager":return e.jsx(X2,{});case"front-desk":return e.jsx(Y2,{});case"it-manager":return e.jsx(J2,{});default:return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Ch√†o m·ª´ng ƒë·∫øn v·ªõi Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Vai tr√≤ c·ªßa b·∫°n ch∆∞a ƒë∆∞·ª£c c·∫•u h√¨nh. Vui l√≤ng li√™n h·ªá qu·∫£n tr·ªã vi√™n."})]})}};return e.jsx("div",{className:"space-y-6",children:n()})},At=ai,tw=ni,vl=l.forwardRef(({className:t,...s},n)=>e.jsx(Vn,{ref:n,className:k("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s}));vl.displayName=Vn.displayName;const gt=l.forwardRef(({className:t,children:s,...n},a)=>e.jsxs(tw,{children:[e.jsx(vl,{}),e.jsxs(Un,{ref:a,className:k("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[s,e.jsxs(Gn,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Gt,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));gt.displayName=Un.displayName;const pt=({className:t,...s})=>e.jsx("div",{className:k("flex flex-col space-y-1.5 text-center sm:text-left",t),...s});pt.displayName="DialogHeader";const ft=l.forwardRef(({className:t,...s},n)=>e.jsx(Kn,{ref:n,className:k("text-lg font-semibold leading-none tracking-tight",t),...s}));ft.displayName=Kn.displayName;const Et=l.forwardRef(({className:t,...s},n)=>e.jsx(Wn,{ref:n,className:k("text-sm text-muted-foreground",t),...s}));Et.displayName=Wn.displayName;var jl="AlertDialog",[sw,CN]=Ht(jl,[ri]),vt=ri(),yl=t=>{const{__scopeAlertDialog:s,...n}=t,a=vt(s);return e.jsx(ai,{...a,...n,modal:!0})};yl.displayName=jl;var nw="AlertDialogTrigger",bl=l.forwardRef((t,s)=>{const{__scopeAlertDialog:n,...a}=t,r=vt(n);return e.jsx(_c,{...r,...a,ref:s})});bl.displayName=nw;var aw="AlertDialogPortal",wl=t=>{const{__scopeAlertDialog:s,...n}=t,a=vt(s);return e.jsx(ni,{...a,...n})};wl.displayName=aw;var rw="AlertDialogOverlay",Nl=l.forwardRef((t,s)=>{const{__scopeAlertDialog:n,...a}=t,r=vt(n);return e.jsx(Vn,{...r,...a,ref:s})});Nl.displayName=rw;var es="AlertDialogContent",[iw,ow]=sw(es),lw=kc("AlertDialogContent"),Cl=l.forwardRef((t,s)=>{const{__scopeAlertDialog:n,children:a,...r}=t,i=vt(n),c=l.useRef(null),o=St(s,c),h=l.useRef(null);return e.jsx(Sc,{contentName:es,titleName:Sl,docsSlug:"alert-dialog",children:e.jsx(iw,{scope:n,cancelRef:h,children:e.jsxs(Un,{role:"alertdialog",...i,...r,ref:o,onOpenAutoFocus:De(r.onOpenAutoFocus,d=>{d.preventDefault(),h.current?.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[e.jsx(lw,{children:a}),e.jsx(dw,{contentRef:c})]})})})});Cl.displayName=es;var Sl="AlertDialogTitle",kl=l.forwardRef((t,s)=>{const{__scopeAlertDialog:n,...a}=t,r=vt(n);return e.jsx(Kn,{...r,...a,ref:s})});kl.displayName=Sl;var _l="AlertDialogDescription",Tl=l.forwardRef((t,s)=>{const{__scopeAlertDialog:n,...a}=t,r=vt(n);return e.jsx(Wn,{...r,...a,ref:s})});Tl.displayName=_l;var cw="AlertDialogAction",Al=l.forwardRef((t,s)=>{const{__scopeAlertDialog:n,...a}=t,r=vt(n);return e.jsx(Gn,{...r,...a,ref:s})});Al.displayName=cw;var El="AlertDialogCancel",Dl=l.forwardRef((t,s)=>{const{__scopeAlertDialog:n,...a}=t,{cancelRef:r}=ow(El,n),i=vt(n),c=St(s,r);return e.jsx(Gn,{...i,...a,ref:c})});Dl.displayName=El;var dw=({contentRef:t})=>{const s=`\`${es}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${es}\` by passing a \`${_l}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${es}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return l.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(s)},[s,t]),null},hw=yl,uw=bl,mw=wl,Il=Nl,Rl=Cl,Pl=Al,Ml=Dl,Ll=kl,$l=Tl;const Fl=hw,Ol=uw,xw=mw,zl=l.forwardRef(({className:t,...s},n)=>e.jsx(Il,{className:k("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:n}));zl.displayName=Il.displayName;const Da=l.forwardRef(({className:t,...s},n)=>e.jsxs(xw,{children:[e.jsx(zl,{}),e.jsx(Rl,{ref:n,className:k("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s})]}));Da.displayName=Rl.displayName;const Ia=({className:t,...s})=>e.jsx("div",{className:k("flex flex-col space-y-2 text-center sm:text-left",t),...s});Ia.displayName="AlertDialogHeader";const Ra=({className:t,...s})=>e.jsx("div",{className:k("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});Ra.displayName="AlertDialogFooter";const Pa=l.forwardRef(({className:t,...s},n)=>e.jsx(Ll,{ref:n,className:k("text-lg font-semibold",t),...s}));Pa.displayName=Ll.displayName;const Ma=l.forwardRef(({className:t,...s},n)=>e.jsx($l,{ref:n,className:k("text-sm text-muted-foreground",t),...s}));Ma.displayName=$l.displayName;const La=l.forwardRef(({className:t,...s},n)=>e.jsx(Pl,{ref:n,className:k(ja(),t),...s}));La.displayName=Pl.displayName;const $a=l.forwardRef(({className:t,...s},n)=>e.jsx(Ml,{ref:n,className:k(ja({variant:"outline"}),"mt-2 sm:mt-0",t),...s}));$a.displayName=Ml.displayName;const Bl=["T·∫•t c·∫£","ƒê√£ ghi nh·∫≠n","ƒêang th·ª±c hi·ªán","ƒê√£ th·ª±c hi·ªán v√† ƒëang b√†n giao cho kh√°ch","Ho√†n thi·ªán","L∆∞u √Ω kh√°c"],ql=t=>{switch(t){case"ƒê√£ ghi nh·∫≠n":return"bg-gray-100 text-gray-800 border-gray-300";case"ƒêang th·ª±c hi·ªán":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"ƒê√£ th·ª±c hi·ªán v√† ƒëang b√†n giao cho kh√°ch":return"bg-blue-100 text-blue-800 border-blue-300";case"Ho√†n thi·ªán":return"bg-green-100 text-green-800 border-green-300";case"L∆∞u √Ω kh√°c":return"bg-red-100 text-red-800 border-red-300";default:return"bg-gray-100 text-gray-700 border-gray-300"}},Hl=t=>{switch(t){case"ƒê√£ ghi nh·∫≠n":return e.jsx(st,{className:"h-3 w-3"});case"ƒêang th·ª±c hi·ªán":return e.jsx(ve,{className:"h-3 w-3"});case"ƒê√£ th·ª±c hi·ªán v√† ƒëang b√†n giao cho kh√°ch":return e.jsx(se,{className:"h-3 w-3"});case"Ho√†n thi·ªán":return e.jsx(Oe,{className:"h-3 w-3"});case"L∆∞u √Ω kh√°c":return e.jsx(ve,{className:"h-3 w-3"});default:return e.jsx(st,{className:"h-3 w-3"})}},gw=({request:t,isOpen:s,onClose:n,onStatusChange:a,onOpenMessage:r})=>{const[i,c]=l.useState(t.status),o=()=>{i!==t.status&&a(i)};return e.jsx(At,{open:s,onOpenChange:n,children:e.jsxs(gt,{className:"max-w-2xl",children:[e.jsxs(pt,{children:[e.jsxs(ft,{className:"flex items-center gap-2",children:[e.jsx(la,{className:"h-5 w-5"}),"Ph√≤ng ",t.roomNumber," - ",t.orderId]}),e.jsx(Et,{children:"Chi ti·∫øt y√™u c·∫ßu kh√°ch h√†ng"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(v,{children:"Kh√°ch h√†ng"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(da,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:t.guestName})]})]}),e.jsxs("div",{children:[e.jsx(v,{children:"Th·ªùi gian t·∫°o"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(sa,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:new Date(t.createdAt).toLocaleString()})]})]})]}),e.jsxs("div",{children:[e.jsx(v,{children:"N·ªôi dung y√™u c·∫ßu"}),e.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg whitespace-pre-wrap",children:t.requestContent})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(v,{children:"Tr·∫°ng th√°i hi·ªán t·∫°i"}),e.jsxs(V,{variant:"outline",className:k("mt-2",ql(t.status)),children:[Hl(t.status),e.jsx("span",{className:"ml-1",children:t.status})]})]}),e.jsxs("div",{children:[e.jsx(v,{children:"C·∫≠p nh·∫≠t tr·∫°ng th√°i"}),e.jsxs(ge,{value:i,onValueChange:c,children:[e.jsx(ue,{className:"mt-2",children:e.jsx(pe,{})}),e.jsx(me,{children:Bl.filter(h=>h!=="T·∫•t c·∫£").map(h=>e.jsx(E,{value:h,children:h},h))})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsxs(C,{onClick:o,disabled:i===t.status,children:[e.jsx(Ft,{className:"h-4 w-4 mr-2"}),"C·∫≠p nh·∫≠t tr·∫°ng th√°i"]}),e.jsxs(C,{variant:"outline",onClick:r,children:[e.jsx(Ut,{className:"h-4 w-4 mr-2"}),"Nh·∫Øn tin v·ªõi kh√°ch"]})]})]})]})})},pw=({request:t,messages:s,isOpen:n,onClose:a,onSendMessage:r,loading:i})=>{const[c,o]=l.useState(""),h=()=>{c.trim()&&(r(c.trim()),o(""))};return e.jsx(At,{open:n,onOpenChange:a,children:e.jsxs(gt,{className:"max-w-md",children:[e.jsx(pt,{children:e.jsxs(ft,{children:["Tin nh·∫Øn v·ªõi kh√°ch - Ph√≤ng ",t.roomNumber]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-60 overflow-y-auto border rounded-lg p-3 space-y-2",children:s.length===0?e.jsx("div",{className:"text-center text-gray-500 py-8",children:"Ch∆∞a c√≥ tin nh·∫Øn n√†o"}):s.map(d=>e.jsx("div",{className:k("flex",d.sender==="staff"?"justify-end":"justify-start"),children:e.jsxs("div",{className:k("max-w-[70%] p-2 rounded-lg text-sm",d.sender==="staff"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"),children:[e.jsx("p",{children:d.content}),e.jsx("p",{className:k("text-xs mt-1",d.sender==="staff"?"text-blue-100":"text-gray-500"),children:d.time})]})},d.id))}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ze,{placeholder:"Nh·∫≠p tin nh·∫Øn...",value:c,onChange:d=>o(d.target.value),className:"min-h-[60px]"}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(C,{onClick:h,disabled:!c.trim()||i,size:"sm",children:[i?e.jsx(se,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(Gd,{className:"h-4 w-4 mr-2"}),"G·ª≠i"]})})]})]})]})})},fw=()=>{const{user:t}=_e(),[s,n]=l.useState([]),[a,r]=l.useState(!0),[i,c]=l.useState(null),[o,h]=l.useState(!1),[d,x]=l.useState(!1),[u,m]=l.useState([]),[p,f]=l.useState(!1),[g,y]=l.useState("T·∫•t c·∫£"),[j,T]=l.useState(""),[M,b]=l.useState(""),[O,A]=l.useState(""),[z,Q]=l.useState(""),[Y,G]=l.useState(""),[_,S]=l.useState(!1),K=()=>({Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}),$=async()=>{try{r(!0);const P=await fetch("/api/staff/requests",{headers:K()});if(P.status===401){console.error("Unauthorized access");return}if(!P.ok)throw new Error("Failed to fetch requests");const ae=await P.json();n(ae)}catch(P){console.error("Failed to fetch requests:",P)}finally{r(!1)}},X=async(P,ae)=>{try{await fetch(`/api/staff/requests/${P}/status`,{method:"PATCH",headers:K(),body:JSON.stringify({status:ae})}),n(Ve=>Ve.map(D=>D.id===P?{...D,status:ae}:D)),i&&i.id===P&&c({...i,status:ae})}catch(Ve){console.error("Failed to update status:",Ve)}},xe=async P=>{try{const ae=await fetch(`/api/staff/requests/${P}/messages`,{headers:K()});if(ae.ok){const Ve=await ae.json();m(Ve)}}catch(ae){console.error("Failed to fetch messages:",ae),m([])}},Le=async P=>{if(i){f(!0);try{await fetch(`/api/staff/requests/${i.id}/message`,{method:"POST",headers:K(),body:JSON.stringify({content:P})});const ae={id:Date.now().toString(),sender:"staff",content:P,time:new Date().toLocaleTimeString().slice(0,5)};m(Ve=>[...Ve,ae])}catch(ae){console.error("Failed to send message:",ae)}finally{f(!1)}}},Te=async()=>{if(z!=="2208"){G("M·∫≠t kh·∫©u kh√¥ng ƒë√∫ng");return}S(!0);try{const ae=await(await fetch("/api/staff/requests/all",{method:"DELETE",headers:K()})).json();ae.success?(n([]),Q(""),G("")):G(ae.error||"Kh√¥ng th·ªÉ x√≥a requests")}catch(P){console.error("Error deleting requests:",P),G("ƒê√£ x·∫£y ra l·ªói khi x√≥a requests")}finally{S(!1)}},de=s.filter(P=>{if(g!=="T·∫•t c·∫£"&&P.status!==g)return!1;if(j||M){const ae=new Date(P.createdAt);if(j&&ae<new Date(j)||M&&ae>new Date(M+"T23:59:59"))return!1}if(O){const ae=O.toLowerCase();return P.roomNumber.toLowerCase().includes(ae)||P.guestName.toLowerCase().includes(ae)||P.requestContent.toLowerCase().includes(ae)||P.orderId.toLowerCase().includes(ae)}return!0});l.useEffect(()=>{$();const P=setInterval($,3e4);return()=>clearInterval(P)},[]);const ne=P=>{c(P),h(!0)},Dt=()=>{h(!1),c(null)},ke=async()=>{i&&(x(!0),await xe(i.id))},Ze=()=>{x(!1),m([])};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Y√™u c·∫ßu kh√°ch h√†ng"}),e.jsx("p",{className:"text-gray-600",children:"Qu·∫£n l√Ω v√† x·ª≠ l√Ω c√°c y√™u c·∫ßu t·ª´ kh√°ch h√†ng"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(C,{variant:"outline",onClick:$,disabled:a,children:[e.jsx(se,{className:k("h-4 w-4 mr-2",a&&"animate-spin")}),"L√†m m·ªõi"]}),e.jsxs(Fl,{children:[e.jsx(Ol,{asChild:!0,children:e.jsxs(C,{variant:"destructive",disabled:s.length===0,children:[e.jsx(Ot,{className:"h-4 w-4 mr-2"}),"X√≥a t·∫•t c·∫£"]})}),e.jsxs(Da,{children:[e.jsxs(Ia,{children:[e.jsx(Pa,{children:"X√°c nh·∫≠n x√≥a t·∫•t c·∫£ requests"}),e.jsx(Ma,{children:"H√†nh ƒë·ªông n√†y s·∫Ω x√≥a t·∫•t c·∫£ y√™u c·∫ßu v√† kh√¥ng th·ªÉ ho√†n t√°c. Vui l√≤ng nh·∫≠p m·∫≠t kh·∫©u ƒë·ªÉ x√°c nh·∫≠n:"})]}),e.jsxs("div",{className:"py-4",children:[e.jsx(L,{type:"password",placeholder:"Nh·∫≠p m·∫≠t kh·∫©u x√°c nh·∫≠n",value:z,onChange:P=>Q(P.target.value),className:Y?"border-red-500":""}),Y&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:Y})]}),e.jsxs(Ra,{children:[e.jsx($a,{onClick:()=>{Q(""),G("")},children:"H·ªßy"}),e.jsx(La,{onClick:Te,disabled:_,className:"bg-red-600 hover:bg-red-700",children:_?"ƒêang x√≥a...":"X√≥a t·∫•t c·∫£"})]})]})]})]})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(ra,{className:"h-5 w-5"}),"B·ªô l·ªçc"]})}),e.jsxs(N,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx(v,{children:"Tr·∫°ng th√°i"}),e.jsxs(ge,{value:g,onValueChange:y,children:[e.jsx(ue,{children:e.jsx(pe,{})}),e.jsx(me,{children:Bl.map(P=>e.jsx(E,{value:P,children:P},P))})]})]}),e.jsxs("div",{children:[e.jsx(v,{children:"T·ª´ ng√†y"}),e.jsx(L,{type:"date",value:j,onChange:P=>T(P.target.value)})]}),e.jsxs("div",{children:[e.jsx(v,{children:"ƒê·∫øn ng√†y"}),e.jsx(L,{type:"date",value:M,onChange:P=>b(P.target.value)})]}),e.jsxs("div",{children:[e.jsx(v,{children:"T√¨m ki·∫øm"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ct,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(L,{placeholder:"T√¨m theo ph√≤ng, kh√°ch...",value:O,onChange:P=>A(P.target.value),className:"pl-10"})]})]})]}),(g!=="T·∫•t c·∫£"||j||M||O)&&e.jsx("div",{className:"mt-4",children:e.jsx(C,{variant:"outline",size:"sm",onClick:()=>{y("T·∫•t c·∫£"),T(""),b(""),A("")},children:"X√≥a b·ªô l·ªçc"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(w,{children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(st,{className:"h-5 w-5 text-orange-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"ƒêang ch·ªù"}),e.jsx("p",{className:"text-2xl font-bold",children:s.filter(P=>P.status==="ƒê√£ ghi nh·∫≠n").length})]})]})})}),e.jsx(w,{children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-5 w-5 text-yellow-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"ƒêang x·ª≠ l√Ω"}),e.jsx("p",{className:"text-2xl font-bold",children:s.filter(P=>P.status==="ƒêang th·ª±c hi·ªán").length})]})]})})}),e.jsx(w,{children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Oe,{className:"h-5 w-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Ho√†n th√†nh"}),e.jsx("p",{className:"text-2xl font-bold",children:s.filter(P=>P.status==="Ho√†n thi·ªán").length})]})]})})}),e.jsx(w,{children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ve,{className:"h-5 w-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"T·ªïng c·ªông"}),e.jsx("p",{className:"text-2xl font-bold",children:s.length})]})]})})})]}),e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(R,{children:"Danh s√°ch y√™u c·∫ßu"}),e.jsxs(U,{children:["Hi·ªÉn th·ªã ",de.length," / ",s.length," y√™u c·∫ßu"]})]}),e.jsx(N,{children:a?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(se,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{children:"ƒêang t·∫£i..."})]}):de.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ve,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Kh√¥ng c√≥ y√™u c·∫ßu n√†o"})]}):e.jsx("div",{className:"space-y-4",children:de.sort((P,ae)=>new Date(ae.createdAt).getTime()-new Date(P.createdAt).getTime()).map(P=>e.jsx(w,{className:"hover:shadow-md transition-shadow",children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(la,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"font-semibold",children:["Ph√≤ng ",P.roomNumber]}),e.jsx(V,{variant:"outline",className:"text-xs",children:P.orderId})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(da,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:P.guestName}),e.jsx(sa,{className:"h-4 w-4 text-gray-500 ml-4"}),e.jsx("span",{className:"text-sm text-gray-600",children:new Date(P.createdAt).toLocaleString()})]}),e.jsx("p",{className:"text-sm text-gray-800 mb-3 line-clamp-2",children:P.requestContent}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(V,{variant:"outline",className:k("text-xs",ql(P.status)),children:[Hl(P.status),e.jsx("span",{className:"ml-1",children:P.status})]})})]}),e.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[e.jsxs(C,{variant:"outline",size:"sm",onClick:()=>ne(P),children:[e.jsx(kt,{className:"h-4 w-4 mr-2"}),"Chi ti·∫øt"]}),e.jsxs(C,{variant:"outline",size:"sm",onClick:()=>{c(P),ke()},children:[e.jsx(Ut,{className:"h-4 w-4 mr-2"}),"Nh·∫Øn tin"]})]})]})})},P.id))})})]}),i&&e.jsxs(e.Fragment,{children:[e.jsx(gw,{request:i,isOpen:o,onClose:Dt,onStatusChange:P=>X(i.id,P),onOpenMessage:ke}),e.jsx(pw,{request:i,messages:u,isOpen:d,onClose:Ze,onSendMessage:Le,loading:p})]})]})},jt=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF4560"],Os=({title:t,value:s,change:n,changeType:a,icon:r,description:i})=>{const c=()=>{switch(a){case"positive":return"text-green-600";case"negative":return"text-red-600";default:return"text-gray-600"}},o=()=>{switch(a){case"positive":return e.jsx($e,{className:"h-3 w-3"});case"negative":return e.jsx(Wd,{className:"h-3 w-3"});default:return e.jsx($e,{className:"h-3 w-3"})}};return e.jsx(w,{children:e.jsx(N,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:t}),e.jsx("p",{className:"text-2xl font-bold",children:s}),n&&e.jsxs("div",{className:k("flex items-center gap-1 text-sm mt-1",c()),children:[o(),e.jsx("span",{children:n})]}),i&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:i})]}),e.jsx(r,{className:"h-8 w-8 text-gray-400"})]})})})},Cn=({active:t,payload:s,label:n})=>t&&s&&s.length?e.jsxs("div",{className:"bg-white p-2 border rounded shadow",children:[e.jsx("p",{className:"font-medium",children:n}),s.map((a,r)=>e.jsx("p",{style:{color:a.color},children:`${a.dataKey}: ${a.value}`},r))]}):null,vw=()=>{const{user:t}=_e(),[s,n]=l.useState(null),[a,r]=l.useState(!0),[i,c]=l.useState("30d"),[o,h]=l.useState("all"),d={overview:{totalCalls:1247,averageCallDuration:"2:34",successRate:94.2,topLanguages:["Vietnamese","English","Korean"],callsThisMonth:423,growthRate:15.3},serviceDistribution:[{service:"Room Service",calls:450,percentage:36.1},{service:"Concierge",calls:300,percentage:24.1},{service:"Housekeeping",calls:250,percentage:20.1},{service:"Front Desk",calls:150,percentage:12},{service:"Spa & Wellness",calls:97,percentage:7.8}],hourlyActivity:[{hour:"06:00",calls:5},{hour:"07:00",calls:12},{hour:"08:00",calls:25},{hour:"09:00",calls:35},{hour:"10:00",calls:45},{hour:"11:00",calls:40},{hour:"12:00",calls:55},{hour:"13:00",calls:48},{hour:"14:00",calls:52},{hour:"15:00",calls:38},{hour:"16:00",calls:42},{hour:"17:00",calls:35},{hour:"18:00",calls:45},{hour:"19:00",calls:52},{hour:"20:00",calls:38},{hour:"21:00",calls:25},{hour:"22:00",calls:15},{hour:"23:00",calls:8}],dailyTrends:[{date:"2024-01-01",calls:45,duration:154,satisfaction:4.5},{date:"2024-01-02",calls:52,duration:162,satisfaction:4.6},{date:"2024-01-03",calls:38,duration:148,satisfaction:4.4},{date:"2024-01-04",calls:41,duration:156,satisfaction:4.7},{date:"2024-01-05",calls:48,duration:159,satisfaction:4.5},{date:"2024-01-06",calls:55,duration:165,satisfaction:4.8},{date:"2024-01-07",calls:42,duration:151,satisfaction:4.6}],languageDistribution:[{language:"Vietnamese",calls:687,percentage:55.1},{language:"English",calls:423,percentage:33.9},{language:"Korean",calls:87,percentage:7},{language:"Chinese",calls:50,percentage:4}]},x=async()=>{try{r(!0),setTimeout(()=>{n(d),r(!1)},1e3)}catch(u){console.error("Failed to fetch analytics:",u),r(!1)}};return l.useEffect(()=>{x()},[i]),a?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(se,{className:"h-8 w-8 animate-spin text-blue-600"}),e.jsx("span",{className:"ml-2",children:"ƒêang t·∫£i analytics..."})]}):s?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Analytics n√¢ng cao"}),e.jsx("p",{className:"text-gray-600",children:"Ph√¢n t√≠ch chi ti·∫øt ho·∫°t ƒë·ªông AI Assistant v√† kh√°ch h√†ng"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ge,{value:i,onValueChange:c,children:[e.jsx(ue,{className:"w-32",children:e.jsx(pe,{})}),e.jsxs(me,{children:[e.jsx(E,{value:"7d",children:"7 ng√†y"}),e.jsx(E,{value:"30d",children:"30 ng√†y"}),e.jsx(E,{value:"90d",children:"90 ng√†y"}),e.jsx(E,{value:"365d",children:"1 nƒÉm"})]})]}),e.jsxs(C,{variant:"outline",onClick:x,children:[e.jsx(se,{className:"h-4 w-4 mr-2"}),"L√†m m·ªõi"]}),e.jsxs(C,{variant:"outline",children:[e.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Xu·∫•t b√°o c√°o"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Os,{title:"T·ªïng cu·ªôc g·ªçi",value:s.overview.totalCalls.toLocaleString(),change:`+${s.overview.growthRate}%`,changeType:"positive",icon:nt,description:"30 ng√†y qua"}),e.jsx(Os,{title:"Th·ªùi gian TB",value:s.overview.averageCallDuration,change:"+12 gi√¢y",changeType:"positive",icon:st,description:"So v·ªõi th√°ng tr∆∞·ªõc"}),e.jsx(Os,{title:"T·ª∑ l·ªá th√†nh c√¥ng",value:`${s.overview.successRate}%`,change:"+2.1%",changeType:"positive",icon:mt,description:"Cu·ªôc g·ªçi ho√†n th√†nh"}),e.jsx(Os,{title:"Th√°ng n√†y",value:s.overview.callsThisMonth.toLocaleString(),change:"+23 h√¥m nay",changeType:"positive",icon:$e,description:"Cu·ªôc g·ªçi trong th√°ng"})]}),e.jsxs(at,{defaultValue:"overview",className:"space-y-4",children:[e.jsxs(Ye,{className:"grid w-full grid-cols-4",children:[e.jsx(J,{value:"overview",children:"T·ªïng quan"}),e.jsx(J,{value:"services",children:"D·ªãch v·ª•"}),e.jsx(J,{value:"activity",children:"Ho·∫°t ƒë·ªông"}),e.jsx(J,{value:"languages",children:"Ng√¥n ng·ªØ"})]}),e.jsx(ee,{value:"overview",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(R,{children:"Xu h∆∞·ªõng cu·ªôc g·ªçi theo ng√†y"}),e.jsx(U,{children:"7 ng√†y g·∫ßn ƒë√¢y"})]}),e.jsx(N,{children:e.jsx(ot,{width:"100%",height:300,children:e.jsxs(Ic,{data:s.dailyTrends,children:[e.jsx(Zt,{strokeDasharray:"3 3"}),e.jsx(Xt,{dataKey:"date"}),e.jsx(Yt,{}),e.jsx(lt,{content:e.jsx(Cn,{})}),e.jsx(Rc,{type:"monotone",dataKey:"calls",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})]})})})]}),e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(R,{children:"M·ª©c ƒë·ªô h√†i l√≤ng"}),e.jsx(U,{children:"ƒêi·ªÉm trung b√¨nh theo ng√†y"})]}),e.jsx(N,{children:e.jsx(ot,{width:"100%",height:300,children:e.jsxs(Zn,{data:s.dailyTrends,children:[e.jsx(Zt,{strokeDasharray:"3 3"}),e.jsx(Xt,{dataKey:"date"}),e.jsx(Yt,{domain:[4,5]}),e.jsx(lt,{content:e.jsx(Cn,{})}),e.jsx(xs,{type:"monotone",dataKey:"satisfaction",stroke:"#00C49F",strokeWidth:2})]})})})]})]})}),e.jsx(ee,{value:"services",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(R,{children:"Ph√¢n b·ªë d·ªãch v·ª•"}),e.jsx(U,{children:"Theo s·ªë l∆∞·ª£ng cu·ªôc g·ªçi"})]}),e.jsx(N,{children:e.jsx(ot,{width:"100%",height:300,children:e.jsxs(kn,{children:[e.jsx(_n,{data:s.serviceDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({name:u,percentage:m})=>`${u} (${m}%)`,outerRadius:80,fill:"#8884d8",dataKey:"calls",children:s.serviceDistribution.map((u,m)=>e.jsx(Tn,{fill:jt[m%jt.length]},`cell-${m}`))}),e.jsx(lt,{})]})})})]}),e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(R,{children:"Top d·ªãch v·ª•"}),e.jsx(U,{children:"X·∫øp h·∫°ng theo l∆∞·ª£ng s·ª≠ d·ª•ng"})]}),e.jsx(N,{children:e.jsx("div",{className:"space-y-3",children:s.serviceDistribution.map((u,m)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:jt[m%jt.length]}}),e.jsx("span",{className:"font-medium",children:u.service})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-semibold",children:[u.calls," cu·ªôc g·ªçi"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[u.percentage,"%"]})]})]},u.service))})})]})]})}),e.jsx(ee,{value:"activity",className:"space-y-4",children:e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(R,{children:"Ho·∫°t ƒë·ªông theo gi·ªù"}),e.jsx(U,{children:"Ph√¢n b·ªë cu·ªôc g·ªçi trong 24h"})]}),e.jsx(N,{children:e.jsx(ot,{width:"100%",height:400,children:e.jsxs(li,{data:s.hourlyActivity,children:[e.jsx(Zt,{strokeDasharray:"3 3"}),e.jsx(Xt,{dataKey:"hour"}),e.jsx(Yt,{}),e.jsx(lt,{content:e.jsx(Cn,{})}),e.jsx(ci,{dataKey:"calls",fill:"#8884d8"})]})})})]})}),e.jsx(ee,{value:"languages",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(R,{children:"Ph√¢n b·ªë ng√¥n ng·ªØ"}),e.jsx(U,{children:"T·ª∑ l·ªá s·ª≠ d·ª•ng c√°c ng√¥n ng·ªØ"})]}),e.jsx(N,{children:e.jsx(ot,{width:"100%",height:300,children:e.jsxs(kn,{children:[e.jsx(_n,{data:s.languageDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({name:u,percentage:m})=>`${u} (${m}%)`,outerRadius:80,fill:"#8884d8",dataKey:"calls",children:s.languageDistribution.map((u,m)=>e.jsx(Tn,{fill:jt[m%jt.length]},`cell-${m}`))}),e.jsx(lt,{})]})})})]}),e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(R,{children:"Th·ªëng k√™ ng√¥n ng·ªØ"}),e.jsx(U,{children:"Chi ti·∫øt s·ª≠ d·ª•ng"})]}),e.jsx(N,{children:e.jsx("div",{className:"space-y-4",children:s.languageDistribution.map((u,m)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:u.language}),e.jsxs("span",{className:"text-sm text-gray-500",children:[u.calls," cu·ªôc g·ªçi (",u.percentage,"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"h-2 rounded-full",style:{width:`${u.percentage}%`,backgroundColor:jt[m%jt.length]}})})]},u.language))})})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(R,{children:"Ng√¥n ng·ªØ ph·ªï bi·∫øn"})}),e.jsx(N,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:s.overview.topLanguages.map((u,m)=>e.jsx(V,{variant:"secondary",children:u},u))})})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(R,{children:"Gi·ªù cao ƒëi·ªÉm"})}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"S√°ng:"}),e.jsx("span",{className:"font-medium",children:"08:00 - 12:00"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Chi·ªÅu:"}),e.jsx("span",{className:"font-medium",children:"14:00 - 18:00"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"T·ªëi:"}),e.jsx("span",{className:"font-medium",children:"19:00 - 21:00"})]})]})})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(R,{children:"Xu h∆∞·ªõng"})}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($e,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm",children:"TƒÉng tr∆∞·ªüng 15.3%"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($e,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm",children:"Th·ªùi gian g·ªçi tƒÉng"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($e,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm",children:"H√†i l√≤ng c·∫£i thi·ªán"})]})]})})]})]})]}):e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:"Kh√¥ng th·ªÉ t·∫£i d·ªØ li·ªáu analytics"})})},dt=l.forwardRef(({className:t,...s},n)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:n,className:k("w-full caption-bottom text-sm",t),...s})}));dt.displayName="Table";const ht=l.forwardRef(({className:t,...s},n)=>e.jsx("thead",{ref:n,className:k("[&_tr]:border-b",t),...s}));ht.displayName="TableHeader";const ut=l.forwardRef(({className:t,...s},n)=>e.jsx("tbody",{ref:n,className:k("[&_tr:last-child]:border-0",t),...s}));ut.displayName="TableBody";const jw=l.forwardRef(({className:t,...s},n)=>e.jsx("tfoot",{ref:n,className:k("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s}));jw.displayName="TableFooter";const Ie=l.forwardRef(({className:t,...s},n)=>e.jsx("tr",{ref:n,className:k("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...s}));Ie.displayName="TableRow";const q=l.forwardRef(({className:t,...s},n)=>e.jsx("th",{ref:n,className:k("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...s}));q.displayName="TableHead";const H=l.forwardRef(({className:t,...s},n)=>e.jsx("td",{ref:n,className:k("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...s}));H.displayName="TableCell";const yw=l.forwardRef(({className:t,...s},n)=>e.jsx("caption",{ref:n,className:k("mt-4 text-sm text-muted-foreground",t),...s}));yw.displayName="TableCaption";const Zs={"hotel-manager":{label:"Qu·∫£n l√Ω kh√°ch s·∫°n",color:"bg-blue-100 text-blue-800 border-blue-300",icon:e.jsx(Ce,{className:"h-3 w-3"}),description:"Quy·ªÅn truy c·∫≠p ƒë·∫ßy ƒë·ªß"},"front-desk":{label:"L·ªÖ t√¢n",color:"bg-green-100 text-green-800 border-green-300",icon:e.jsx(He,{className:"h-3 w-3"}),description:"Qu·∫£n l√Ω y√™u c·∫ßu kh√°ch h√†ng"},"it-manager":{label:"Qu·∫£n l√Ω IT",color:"bg-purple-100 text-purple-800 border-purple-300",icon:e.jsx(Qe,{className:"h-3 w-3"}),description:"Qu·∫£n l√Ω h·ªá th·ªëng k·ªπ thu·∫≠t"}},Nr=({isOpen:t,onClose:s,onSubmit:n,staff:a=null,loading:r=!1})=>{const i=!!a,[c,o]=l.useState({username:a?.username||"",email:a?.email||"",displayName:a?.displayName||"",role:a?.role||"front-desk",password:"",confirmPassword:"",isActive:a?.isActive??!0}),[h,d]=l.useState({}),[x,u]=l.useState(!1);l.useEffect(()=>{t&&(o({username:a?.username||"",email:a?.email||"",displayName:a?.displayName||"",role:a?.role||"front-desk",password:"",confirmPassword:"",isActive:a?.isActive??!0}),d({}))},[t,a]);const m=()=>{const f={};return c.username.trim()?c.username.length<3&&(f.username="T√™n ƒëƒÉng nh·∫≠p ph·∫£i c√≥ √≠t nh·∫•t 3 k√Ω t·ª±"):f.username="T√™n ƒëƒÉng nh·∫≠p l√† b·∫Øt bu·ªôc",c.email.trim()?/\S+@\S+\.\S+/.test(c.email)||(f.email="Email kh√¥ng h·ª£p l·ªá"):f.email="Email l√† b·∫Øt bu·ªôc",c.displayName.trim()||(f.displayName="T√™n hi·ªÉn th·ªã l√† b·∫Øt bu·ªôc"),i||(c.password?c.password.length<6&&(f.password="M·∫≠t kh·∫©u ph·∫£i c√≥ √≠t nh·∫•t 6 k√Ω t·ª±"):f.password="M·∫≠t kh·∫©u l√† b·∫Øt bu·ªôc",c.password!==c.confirmPassword&&(f.confirmPassword="M·∫≠t kh·∫©u x√°c nh·∫≠n kh√¥ng kh·ªõp")),d(f),Object.keys(f).length===0},p=f=>{f.preventDefault(),m()&&n(c)};return e.jsx(At,{open:t,onOpenChange:s,children:e.jsxs(gt,{className:"max-w-md",children:[e.jsxs(pt,{children:[e.jsx(ft,{children:i?"Ch·ªânh s·ª≠a nh√¢n vi√™n":"Th√™m nh√¢n vi√™n m·ªõi"}),e.jsx(Et,{children:i?"C·∫≠p nh·∫≠t th√¥ng tin nh√¢n vi√™n":"T·∫°o t√†i kho·∫£n nh√¢n vi√™n m·ªõi"})]}),e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(v,{htmlFor:"username",children:"T√™n ƒëƒÉng nh·∫≠p"}),e.jsx(L,{id:"username",value:c.username,onChange:f=>o(g=>({...g,username:f.target.value})),className:h.username?"border-red-500":"",disabled:i}),h.username&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.username})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"email",children:"Email"}),e.jsx(L,{id:"email",type:"email",value:c.email,onChange:f=>o(g=>({...g,email:f.target.value})),className:h.email?"border-red-500":""}),h.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.email})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"displayName",children:"T√™n hi·ªÉn th·ªã"}),e.jsx(L,{id:"displayName",value:c.displayName,onChange:f=>o(g=>({...g,displayName:f.target.value})),className:h.displayName?"border-red-500":""}),h.displayName&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.displayName})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"role",children:"Vai tr√≤"}),e.jsxs(ge,{value:c.role,onValueChange:f=>o(g=>({...g,role:f})),children:[e.jsx(ue,{children:e.jsx(pe,{})}),e.jsx(me,{children:Object.entries(Zs).map(([f,g])=>e.jsx(E,{value:f,children:e.jsxs("div",{className:"flex items-center gap-2",children:[g.icon,e.jsx("span",{children:g.label})]})},f))})]})]}),!i&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(v,{htmlFor:"password",children:"M·∫≠t kh·∫©u"}),e.jsxs("div",{className:"relative",children:[e.jsx(L,{id:"password",type:x?"text":"password",value:c.password,onChange:f=>o(g=>({...g,password:f.target.value})),className:h.password?"border-red-500":""}),e.jsx(C,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>u(!x),children:x?e.jsx(Ui,{className:"h-4 w-4"}):e.jsx(kt,{className:"h-4 w-4"})})]}),h.password&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.password})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"confirmPassword",children:"X√°c nh·∫≠n m·∫≠t kh·∫©u"}),e.jsx(L,{id:"confirmPassword",type:"password",value:c.confirmPassword,onChange:f=>o(g=>({...g,confirmPassword:f.target.value})),className:h.confirmPassword?"border-red-500":""}),h.confirmPassword&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.confirmPassword})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"isActive",checked:c.isActive,onChange:f=>o(g=>({...g,isActive:f.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx(v,{htmlFor:"isActive",children:"T√†i kho·∫£n ho·∫°t ƒë·ªông"})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(C,{type:"button",variant:"outline",onClick:s,children:"H·ªßy"}),e.jsxs(C,{type:"submit",disabled:r,children:[r?e.jsx(se,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(js,{className:"h-4 w-4 mr-2"}),i?"C·∫≠p nh·∫≠t":"T·∫°o t√†i kho·∫£n"]})]})]})]})})},bw=({staff:t,isOpen:s,onClose:n})=>{if(!t)return null;const a=Zs[t.role];return e.jsx(At,{open:s,onOpenChange:n,children:e.jsxs(gt,{className:"max-w-lg",children:[e.jsxs(pt,{children:[e.jsxs(ft,{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"h-5 w-5"}),"Quy·ªÅn h·∫°n c·ªßa ",t.displayName]}),e.jsx(Et,{children:"Chi ti·∫øt quy·ªÅn truy c·∫≠p v√† vai tr√≤"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(v,{children:"Vai tr√≤"}),e.jsxs(V,{variant:"outline",className:k("mt-1",a.color),children:[a.icon,e.jsx("span",{className:"ml-1",children:a.label})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:a.description})]}),e.jsxs("div",{children:[e.jsxs(v,{children:["Quy·ªÅn h·∫°n (",t.permissions.length,")"]}),e.jsx("div",{className:"mt-2 max-h-48 overflow-y-auto border rounded-lg p-3",children:e.jsx("div",{className:"grid grid-cols-1 gap-1",children:t.permissions.map(r=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Gi,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{className:"font-mono text-xs",children:r})]},r))})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(C,{onClick:n,children:"ƒê√≥ng"})})]})]})})},ww=()=>{const{user:t}=_e(),[s,n]=l.useState([]),[a,r]=l.useState(!0),[i,c]=l.useState(""),[o,h]=l.useState("all"),[d,x]=l.useState("all"),[u,m]=l.useState(!1),[p,f]=l.useState(!1),[g,y]=l.useState(!1),[j,T]=l.useState(null),[M,b]=l.useState(!1),O=[{id:"1",username:"manager",email:"manager@hotel.com",displayName:"Hotel Manager",role:"hotel-manager",permissions:["dashboard:view","analytics:view_advanced","staff:manage","settings:manage"],isActive:!0,lastLogin:"2024-01-15T10:30:00Z",createdAt:"2024-01-01T09:00:00Z",updatedAt:"2024-01-15T10:30:00Z"},{id:"2",username:"frontdesk",email:"frontdesk@hotel.com",displayName:"Front Desk Staff",role:"front-desk",permissions:["dashboard:view","requests:view","calls:view","guests:manage"],isActive:!0,lastLogin:"2024-01-15T09:15:00Z",createdAt:"2024-01-02T10:00:00Z",updatedAt:"2024-01-15T09:15:00Z"},{id:"3",username:"itmanager",email:"it@hotel.com",displayName:"IT Manager",role:"it-manager",permissions:["dashboard:view","system:monitor","logs:view","security:manage"],isActive:!0,lastLogin:"2024-01-14T16:45:00Z",createdAt:"2024-01-03T11:00:00Z",updatedAt:"2024-01-14T16:45:00Z"},{id:"4",username:"receptionist2",email:"receptionist2@hotel.com",displayName:"Receptionist 2",role:"front-desk",permissions:["dashboard:view","requests:view","calls:view"],isActive:!1,lastLogin:"2024-01-10T14:20:00Z",createdAt:"2024-01-05T08:30:00Z",updatedAt:"2024-01-10T14:20:00Z"}],A=async()=>{try{r(!0),setTimeout(()=>{n(O),r(!1)},1e3)}catch(_){console.error("Failed to fetch staff:",_),r(!1)}},z=async _=>{try{if(b(!0),await new Promise(S=>setTimeout(S,1e3)),j)n(S=>S.map(K=>K.id===j.id?{...K,..._,updatedAt:new Date().toISOString()}:K)),f(!1);else{const S={id:Date.now().toString(),..._,permissions:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};n(K=>[...K,S]),m(!1)}T(null)}catch(S){console.error("Failed to save staff:",S)}finally{b(!1)}},Q=async _=>{try{await new Promise(S=>setTimeout(S,500)),n(S=>S.filter(K=>K.id!==_))}catch(S){console.error("Failed to delete staff:",S)}},Y=async _=>{try{n(S=>S.map(K=>K.id===_?{...K,isActive:!K.isActive,updatedAt:new Date().toISOString()}:K))}catch(S){console.error("Failed to toggle staff status:",S)}},G=s.filter(_=>{const S=_.displayName.toLowerCase().includes(i.toLowerCase())||_.username.toLowerCase().includes(i.toLowerCase())||_.email.toLowerCase().includes(i.toLowerCase()),K=o==="all"||_.role===o,$=d==="all"||d==="active"&&_.isActive||d==="inactive"&&!_.isActive;return S&&K&&$});return l.useEffect(()=>{A()},[]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Qu·∫£n l√Ω nh√¢n vi√™n"}),e.jsx("p",{className:"text-gray-600",children:"Th√™m, s·ª≠a, x√≥a t√†i kho·∫£n nh√¢n vi√™n v√† qu·∫£n l√Ω quy·ªÅn h·∫°n"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(C,{variant:"outline",onClick:A,disabled:a,children:[e.jsx(se,{className:k("h-4 w-4 mr-2",a&&"animate-spin")}),"L√†m m·ªõi"]}),e.jsxs(C,{onClick:()=>m(!0),children:[e.jsx(js,{className:"h-4 w-4 mr-2"}),"Th√™m nh√¢n vi√™n"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(w,{children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(He,{className:"h-5 w-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"T·ªïng nh√¢n vi√™n"}),e.jsx("p",{className:"text-2xl font-bold",children:s.length})]})]})})}),e.jsx(w,{children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(jn,{className:"h-5 w-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"ƒêang ho·∫°t ƒë·ªông"}),e.jsx("p",{className:"text-2xl font-bold",children:s.filter(_=>_.isActive).length})]})]})})}),e.jsx(w,{children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"h-5 w-5 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Qu·∫£n l√Ω"}),e.jsx("p",{className:"text-2xl font-bold",children:s.filter(_=>_.role==="hotel-manager").length})]})]})})}),e.jsx(w,{children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(He,{className:"h-5 w-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"L·ªÖ t√¢n"}),e.jsx("p",{className:"text-2xl font-bold",children:s.filter(_=>_.role==="front-desk").length})]})]})})})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(ra,{className:"h-5 w-5"}),"B·ªô l·ªçc"]})}),e.jsx(N,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(v,{children:"T√¨m ki·∫øm"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ct,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(L,{placeholder:"T√™n, username, email...",value:i,onChange:_=>c(_.target.value),className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx(v,{children:"Vai tr√≤"}),e.jsxs(ge,{value:o,onValueChange:h,children:[e.jsx(ue,{children:e.jsx(pe,{})}),e.jsxs(me,{children:[e.jsx(E,{value:"all",children:"T·∫•t c·∫£ vai tr√≤"}),Object.entries(Zs).map(([_,S])=>e.jsx(E,{value:_,children:S.label},_))]})]})]}),e.jsxs("div",{children:[e.jsx(v,{children:"Tr·∫°ng th√°i"}),e.jsxs(ge,{value:d,onValueChange:x,children:[e.jsx(ue,{children:e.jsx(pe,{})}),e.jsxs(me,{children:[e.jsx(E,{value:"all",children:"T·∫•t c·∫£"}),e.jsx(E,{value:"active",children:"Ho·∫°t ƒë·ªông"}),e.jsx(E,{value:"inactive",children:"Ng∆∞ng ho·∫°t ƒë·ªông"})]})]})]})]})})]}),e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(R,{children:"Danh s√°ch nh√¢n vi√™n"}),e.jsxs(U,{children:["Hi·ªÉn th·ªã ",G.length," / ",s.length," nh√¢n vi√™n"]})]}),e.jsx(N,{children:a?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(se,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{children:"ƒêang t·∫£i..."})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(dt,{children:[e.jsx(ht,{children:e.jsxs(Ie,{children:[e.jsx(q,{children:"Nh√¢n vi√™n"}),e.jsx(q,{children:"Vai tr√≤"}),e.jsx(q,{children:"Tr·∫°ng th√°i"}),e.jsx(q,{children:"L·∫ßn ƒëƒÉng nh·∫≠p cu·ªëi"}),e.jsx(q,{children:"Thao t√°c"})]})}),e.jsx(ut,{children:G.map(_=>{const S=Zs[_.role];return e.jsxs(Ie,{children:[e.jsx(H,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx(He,{className:"h-5 w-5 text-gray-500"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:_.displayName}),e.jsxs("div",{className:"text-sm text-gray-500",children:["@",_.username," ‚Ä¢ ",_.email]})]})]})}),e.jsx(H,{children:e.jsxs(V,{variant:"outline",className:S.color,children:[S.icon,e.jsx("span",{className:"ml-1",children:S.label})]})}),e.jsx(H,{children:e.jsx(V,{variant:_.isActive?"default":"secondary",children:_.isActive?e.jsxs(e.Fragment,{children:[e.jsx(jn,{className:"h-3 w-3 mr-1"}),"Ho·∫°t ƒë·ªông"]}):e.jsxs(e.Fragment,{children:[e.jsx(ss,{className:"h-3 w-3 mr-1"}),"Ng∆∞ng"]})})}),e.jsx(H,{children:e.jsx("div",{className:"text-sm",children:_.lastLogin?e.jsxs(e.Fragment,{children:[e.jsx("div",{children:new Date(_.lastLogin).toLocaleDateString()}),e.jsx("div",{className:"text-gray-500",children:new Date(_.lastLogin).toLocaleTimeString()})]}):e.jsx("span",{className:"text-gray-400",children:"Ch∆∞a ƒëƒÉng nh·∫≠p"})})}),e.jsx(H,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>{T(_),y(!0)},children:e.jsx(Ce,{className:"h-4 w-4"})}),e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>{T(_),f(!0)},children:e.jsx(Ft,{className:"h-4 w-4"})}),e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>Y(_.id),children:_.isActive?e.jsx(ss,{className:"h-4 w-4"}):e.jsx(jn,{className:"h-4 w-4"})}),e.jsxs(Fl,{children:[e.jsx(Ol,{asChild:!0,children:e.jsx(C,{variant:"ghost",size:"sm",children:e.jsx(Ot,{className:"h-4 w-4"})})}),e.jsxs(Da,{children:[e.jsxs(Ia,{children:[e.jsx(Pa,{children:"X√°c nh·∫≠n x√≥a"}),e.jsxs(Ma,{children:['B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a nh√¢n vi√™n "',_.displayName,'"? H√†nh ƒë·ªông n√†y kh√¥ng th·ªÉ ho√†n t√°c.']})]}),e.jsxs(Ra,{children:[e.jsx($a,{children:"H·ªßy"}),e.jsx(La,{onClick:()=>Q(_.id),className:"bg-red-600 hover:bg-red-700",children:"X√≥a"})]})]})]})]})})]},_.id)})})]})})})]}),e.jsx(Nr,{isOpen:u,onClose:()=>m(!1),onSubmit:z,loading:M}),e.jsx(Nr,{isOpen:p,onClose:()=>{f(!1),T(null)},onSubmit:z,staff:j,loading:M}),e.jsx(bw,{staff:j,isOpen:g,onClose:()=>{y(!1),T(null)}})]})},Cr={cpu:{usage:45.2,cores:4,temperature:62,processes:156},memory:{used:6.8,total:16,available:9.2,usage:42.5},disk:{used:85.4,total:500,available:414.6,usage:17.1},network:{downloadSpeed:125.5,uploadSpeed:25.2,latency:12,status:"connected"},database:{connections:15,queries:1250,responseTime:45,status:"healthy"},services:[{name:"Hotel API",status:"running",uptime:"15d 4h 23m",memory:256,cpu:12.5},{name:"Database",status:"running",uptime:"15d 4h 23m",memory:512,cpu:8.2},{name:"Web Server",status:"running",uptime:"15d 4h 23m",memory:128,cpu:5.1},{name:"Socket Server",status:"running",uptime:"15d 4h 23m",memory:64,cpu:3.8},{name:"Email Service",status:"error",uptime:"0d 0h 0m",memory:0,cpu:0}]},Sr=[{id:"1",type:"error",title:"Email Service Down",message:"Email service has been down for 2 hours",timestamp:"2024-01-15T10:30:00Z",resolved:!1},{id:"2",type:"warning",title:"High Memory Usage",message:"System memory usage is above 80%",timestamp:"2024-01-15T09:15:00Z",resolved:!1},{id:"3",type:"info",title:"Database Backup Completed",message:"Daily database backup completed successfully",timestamp:"2024-01-15T02:00:00Z",resolved:!0}],kr=[{id:"1",timestamp:"2024-01-15T10:35:22Z",level:"ERROR",service:"EmailService",message:"Failed to connect to SMTP server",details:"Connection timeout after 30 seconds"},{id:"2",timestamp:"2024-01-15T10:30:15Z",level:"WARN",service:"HotelAPI",message:"High response time detected",details:"Average response time: 2.5s (threshold: 1s)"},{id:"3",timestamp:"2024-01-15T10:25:08Z",level:"INFO",service:"Database",message:"Query executed successfully",details:"SELECT * FROM requests - 156 rows returned"},{id:"4",timestamp:"2024-01-15T10:20:03Z",level:"DEBUG",service:"WebServer",message:"Static file served",details:"GET /assets/logo.png - 200 OK"}],Nw=[{time:"00:00",cpu:35,memory:40,disk:15},{time:"04:00",cpu:28,memory:35,disk:15},{time:"08:00",cpu:45,memory:50,disk:18},{time:"12:00",cpu:65,memory:60,disk:22},{time:"16:00",cpu:55,memory:58,disk:20},{time:"20:00",cpu:42,memory:45,disk:17},{time:"24:00",cpu:35,memory:40,disk:15}],Cw=({metrics:t})=>{const s=a=>a<50?"text-green-600":a<80?"text-yellow-600":"text-red-600",n=a=>{switch(a){case"running":case"connected":case"healthy":return e.jsx(Oe,{className:"h-4 w-4 text-green-500"});case"error":return e.jsx(Ts,{className:"h-4 w-4 text-red-500"});case"stopped":return e.jsx(ns,{className:"h-4 w-4 text-yellow-500"});default:return e.jsx(ve,{className:"h-4 w-4 text-gray-500"})}};return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(w,{children:e.jsxs(N,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bd,{className:"h-5 w-5 text-blue-500"}),e.jsx("span",{className:"font-medium",children:"CPU"})]}),e.jsxs("span",{className:k("text-lg font-bold",s(t.cpu.usage)),children:[t.cpu.usage,"%"]})]}),e.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[e.jsxs("div",{children:["Cores: ",t.cpu.cores]}),e.jsxs("div",{children:["Temperature: ",t.cpu.temperature,"¬∞C"]}),e.jsxs("div",{children:["Processes: ",t.cpu.processes]})]})]})}),e.jsx(w,{children:e.jsxs(N,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(sn,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{className:"font-medium",children:"Memory"})]}),e.jsxs("span",{className:k("text-lg font-bold",s(t.memory.usage)),children:[t.memory.usage,"%"]})]}),e.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[e.jsxs("div",{children:["Used: ",t.memory.used,"GB"]}),e.jsxs("div",{children:["Total: ",t.memory.total,"GB"]}),e.jsxs("div",{children:["Available: ",t.memory.available,"GB"]})]})]})}),e.jsx(w,{children:e.jsxs(N,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(vs,{className:"h-5 w-5 text-purple-500"}),e.jsx("span",{className:"font-medium",children:"Disk"})]}),e.jsxs("span",{className:k("text-lg font-bold",s(t.disk.usage)),children:[t.disk.usage,"%"]})]}),e.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[e.jsxs("div",{children:["Used: ",t.disk.used,"GB"]}),e.jsxs("div",{children:["Total: ",t.disk.total,"GB"]}),e.jsxs("div",{children:["Available: ",t.disk.available,"GB"]})]})]})}),e.jsx(w,{children:e.jsxs(N,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ha,{className:"h-5 w-5 text-blue-500"}),e.jsx("span",{className:"font-medium",children:"Network"})]}),n(t.network.status)]}),e.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[e.jsxs("div",{children:["Download: ",t.network.downloadSpeed," Mbps"]}),e.jsxs("div",{children:["Upload: ",t.network.uploadSpeed," Mbps"]}),e.jsxs("div",{children:["Latency: ",t.network.latency,"ms"]})]})]})}),e.jsx(w,{children:e.jsxs(N,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(qt,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{className:"font-medium",children:"Database"})]}),n(t.database.status)]}),e.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[e.jsxs("div",{children:["Connections: ",t.database.connections]}),e.jsxs("div",{children:["Queries: ",t.database.queries]}),e.jsxs("div",{children:["Response: ",t.database.responseTime,"ms"]})]})]})}),e.jsx(w,{children:e.jsxs(N,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ca,{className:"h-5 w-5 text-orange-500"}),e.jsx("span",{className:"font-medium",children:"Services"})]}),e.jsxs("span",{className:"text-lg font-bold text-green-600",children:[t.services.filter(a=>a.status==="running").length,"/",t.services.length]})]}),e.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[e.jsxs("div",{children:["Running: ",t.services.filter(a=>a.status==="running").length]}),e.jsxs("div",{children:["Stopped: ",t.services.filter(a=>a.status==="stopped").length]}),e.jsxs("div",{children:["Error: ",t.services.filter(a=>a.status==="error").length]})]})]})})]})},Sw=({alerts:t})=>{const s=r=>{switch(r){case"error":return e.jsx(Ts,{className:"h-4 w-4 text-red-500"});case"warning":return e.jsx(ns,{className:"h-4 w-4 text-yellow-500"});case"info":return e.jsx(Mn,{className:"h-4 w-4 text-blue-500"});default:return e.jsx(ve,{className:"h-4 w-4 text-gray-500"})}},n=r=>{switch(r){case"error":return"border-red-200 bg-red-50";case"warning":return"border-yellow-200 bg-yellow-50";case"info":return"border-blue-200 bg-blue-50";default:return"border-gray-200 bg-gray-50"}},a=t.filter(r=>!r.resolved);return e.jsx("div",{className:"space-y-3",children:a.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Oe,{className:"h-12 w-12 mx-auto mb-4 text-green-500"}),e.jsx("p",{children:"Kh√¥ng c√≥ c·∫£nh b√°o n√†o"})]}):a.map(r=>e.jsx("div",{className:k("border rounded-lg p-4",n(r.type)),children:e.jsxs("div",{className:"flex items-start gap-3",children:[s(r.type),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h4",{className:"font-medium",children:r.title}),e.jsx("span",{className:"text-sm text-gray-500",children:new Date(r.timestamp).toLocaleTimeString()})]}),e.jsx("p",{className:"text-sm text-gray-600",children:r.message})]})]})},r.id))})},kw=({services:t})=>{const s=n=>{switch(n){case"running":return e.jsx(V,{className:"bg-green-100 text-green-800",children:"Running"});case"stopped":return e.jsx(V,{className:"bg-gray-100 text-gray-800",children:"Stopped"});case"error":return e.jsx(V,{className:"bg-red-100 text-red-800",children:"Error"});default:return e.jsx(V,{variant:"secondary",children:"Unknown"})}};return e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-3",children:"Service"}),e.jsx("th",{className:"text-left p-3",children:"Status"}),e.jsx("th",{className:"text-left p-3",children:"Uptime"}),e.jsx("th",{className:"text-left p-3",children:"Memory"}),e.jsx("th",{className:"text-left p-3",children:"CPU"}),e.jsx("th",{className:"text-left p-3",children:"Actions"})]})}),e.jsx("tbody",{children:t.map((n,a)=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-3 font-medium",children:n.name}),e.jsx("td",{className:"p-3",children:s(n.status)}),e.jsx("td",{className:"p-3 text-sm text-gray-600",children:n.uptime}),e.jsxs("td",{className:"p-3 text-sm",children:[n.memory,"MB"]}),e.jsxs("td",{className:"p-3 text-sm",children:[n.cpu,"%"]}),e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(C,{variant:"ghost",size:"sm",children:e.jsx(kt,{className:"h-4 w-4"})}),e.jsx(C,{variant:"ghost",size:"sm",children:e.jsx(Qe,{className:"h-4 w-4"})}),e.jsx(C,{variant:"ghost",size:"sm",children:e.jsx(se,{className:"h-4 w-4"})})]})})]},a))})]})})},_w=({logs:t})=>{const[s,n]=l.useState(null),a=r=>{switch(r){case"ERROR":return"bg-red-100 text-red-800";case"WARN":return"bg-yellow-100 text-yellow-800";case"INFO":return"bg-blue-100 text-blue-800";case"DEBUG":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return e.jsx("div",{className:"space-y-2",children:t.map(r=>e.jsx("div",{className:"border rounded-lg p-3 hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(V,{variant:"outline",className:k("text-xs",a(r.level)),children:r.level}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"font-medium text-sm",children:r.service}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(r.timestamp).toLocaleString()})]}),e.jsx("p",{className:"text-sm text-gray-700",children:r.message}),r.details&&e.jsx("p",{className:"text-xs text-gray-500 mt-1 font-mono",children:r.details})]})]})},r.id))})},Tw=()=>{const{user:t}=_e(),[s,n]=l.useState(Cr),[a,r]=l.useState(Sr),[i,c]=l.useState(kr),[o,h]=l.useState(!1),[d,x]=l.useState(!0),u=async()=>{try{h(!0),setTimeout(()=>{n(Cr),r(Sr),c(kr),h(!1)},1e3)}catch(m){console.error("Failed to fetch metrics:",m),h(!1)}};return l.useEffect(()=>{if(u(),d){const m=setInterval(u,3e4);return()=>clearInterval(m)}},[d]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Gi√°m s√°t h·ªá th·ªëng"}),e.jsx("p",{className:"text-gray-600",children:"Theo d√µi hi·ªáu su·∫•t, tr·∫°ng th√°i v√† logs h·ªá th·ªëng"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(C,{variant:"outline",onClick:()=>x(!d),className:d?"bg-green-50":"",children:[e.jsx(mt,{className:"h-4 w-4 mr-2"}),d?"Auto ON":"Auto OFF"]}),e.jsxs(C,{variant:"outline",onClick:u,disabled:o,children:[e.jsx(se,{className:k("h-4 w-4 mr-2",o&&"animate-spin")}),"L√†m m·ªõi"]}),e.jsxs(C,{variant:"outline",children:[e.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Xu·∫•t b√°o c√°o"]})]})]}),e.jsx(Cw,{metrics:s}),e.jsxs(at,{defaultValue:"performance",className:"space-y-4",children:[e.jsxs(Ye,{className:"grid w-full grid-cols-4",children:[e.jsx(J,{value:"performance",children:"Hi·ªáu su·∫•t"}),e.jsx(J,{value:"alerts",children:"C·∫£nh b√°o"}),e.jsx(J,{value:"services",children:"D·ªãch v·ª•"}),e.jsx(J,{value:"logs",children:"Logs"})]}),e.jsx(ee,{value:"performance",className:"space-y-4",children:e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(R,{children:"Hi·ªáu su·∫•t h·ªá th·ªëng 24h"}),e.jsx(U,{children:"CPU, Memory v√† Disk usage"})]}),e.jsx(N,{children:e.jsx(ot,{width:"100%",height:300,children:e.jsxs(Zn,{data:Nw,children:[e.jsx(Zt,{strokeDasharray:"3 3"}),e.jsx(Xt,{dataKey:"time"}),e.jsx(Yt,{}),e.jsx(lt,{}),e.jsx(xs,{type:"monotone",dataKey:"cpu",stroke:"#8884d8",strokeWidth:2}),e.jsx(xs,{type:"monotone",dataKey:"memory",stroke:"#82ca9d",strokeWidth:2}),e.jsx(xs,{type:"monotone",dataKey:"disk",stroke:"#ffc658",strokeWidth:2})]})})})]})}),e.jsx(ee,{value:"alerts",className:"space-y-4",children:e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(Bt,{className:"h-5 w-5"}),"C·∫£nh b√°o h·ªá th·ªëng"]}),e.jsxs(U,{children:[a.filter(m=>!m.resolved).length," c·∫£nh b√°o ch∆∞a x·ª≠ l√Ω"]})]}),e.jsx(N,{children:e.jsx(Sw,{alerts:a})})]})}),e.jsx(ee,{value:"services",className:"space-y-4",children:e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(R,{children:"D·ªãch v·ª• h·ªá th·ªëng"}),e.jsx(U,{children:"Tr·∫°ng th√°i v√† hi·ªáu su·∫•t c√°c d·ªãch v·ª•"})]}),e.jsx(N,{children:e.jsx(kw,{services:s.services})})]})}),e.jsx(ee,{value:"logs",className:"space-y-4",children:e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(Kd,{className:"h-5 w-5"}),"System Logs"]}),e.jsx(U,{children:"Logs h·ªá th·ªëng g·∫ßn ƒë√¢y"})]}),e.jsx(N,{children:e.jsx(_w,{logs:i})})]})})]})]})};var Aw="Separator",_r="horizontal",Ew=["horizontal","vertical"],Vl=l.forwardRef((t,s)=>{const{decorative:n,orientation:a=_r,...r}=t,i=Dw(a)?a:_r,o=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return e.jsx(je.div,{"data-orientation":i,...o,...r,ref:s})});Vl.displayName=Aw;function Dw(t){return Ew.includes(t)}var Ul=Vl;const ms=l.forwardRef(({className:t,orientation:s="horizontal",decorative:n=!0,...a},r)=>e.jsx(Ul,{ref:r,decorative:n,orientation:s,className:k("shrink-0 bg-border",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...a}));ms.displayName=Ul.displayName;const Iw=()=>{const{user:t}=_e(),[s,n]=l.useState(!1),[a,r]=l.useState("idle"),[i,c]=l.useState({hotelName:"Minh H·ªìng Hotel",description:"Premium hotel with AI-powered guest services",address:"123 Nguyen Hue Street, District 1, Ho Chi Minh City",phone:"+84 28 3823 4567",email:"info@minhhonghotel.com",website:"https://minhhonghotel.com",timezone:"Asia/Ho_Chi_Minh",language:"vi",currency:"VND"}),[o,h]=l.useState({enabled:!0,name:"Minh H·ªìng Assistant",language:"vi",responseDelay:500,enableSmallTalk:!0,enableTranscription:!0,confidenceThreshold:.8,customInstructions:"B·∫°n l√† tr·ª£ l√Ω AI c·ªßa kh√°ch s·∫°n Minh H·ªìng. Lu√¥n l·ªãch s·ª±, nhi·ªát t√¨nh v√† chuy√™n nghi·ªáp."}),[d,x]=l.useState({emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,newRequestAlert:!0,systemAlerts:!0,dailyReports:!0}),u=async()=>{n(!0),r("saving");try{await new Promise(m=>setTimeout(m,1e3)),r("success"),setTimeout(()=>r("idle"),2e3)}catch{r("error"),setTimeout(()=>r("idle"),2e3)}finally{n(!1)}};return s?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(se,{className:"h-8 w-8 animate-spin text-blue-600"}),e.jsx("span",{className:"ml-2",children:"ƒêang t·∫£i c√†i ƒë·∫∑t..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"C√†i ƒë·∫∑t h·ªá th·ªëng"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Qu·∫£n l√Ω c·∫•u h√¨nh kh√°ch s·∫°n, AI Assistant v√† c√°c t√≠nh nƒÉng kh√°c"})]}),e.jsxs(at,{defaultValue:"general",className:"space-y-6",children:[e.jsxs(Ye,{className:"grid w-full grid-cols-4",children:[e.jsxs(J,{value:"general",className:"flex items-center gap-2",children:[e.jsx(Us,{className:"h-4 w-4"}),"Chung"]}),e.jsxs(J,{value:"ai",className:"flex items-center gap-2",children:[e.jsx(We,{className:"h-4 w-4"}),"AI Assistant"]}),e.jsxs(J,{value:"notifications",className:"flex items-center gap-2",children:[e.jsx(Bt,{className:"h-4 w-4"}),"Th√¥ng b√°o"]}),e.jsxs(J,{value:"security",className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"h-4 w-4"}),"B·∫£o m·∫≠t"]})]}),e.jsx(ee,{value:"general",children:e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(Us,{className:"h-5 w-5"}),"C√†i ƒë·∫∑t chung"]}),e.jsx(U,{children:"Th√¥ng tin c∆° b·∫£n v·ªÅ kh√°ch s·∫°n v√† c·∫•u h√¨nh h·ªá th·ªëng"})]}),e.jsxs(N,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(v,{htmlFor:"hotelName",children:"T√™n kh√°ch s·∫°n"}),e.jsx(L,{id:"hotelName",value:i.hotelName,onChange:m=>c({...i,hotelName:m.target.value}),placeholder:"T√™n kh√°ch s·∫°n"})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"phone",children:"S·ªë ƒëi·ªán tho·∫°i"}),e.jsx(L,{id:"phone",value:i.phone,onChange:m=>c({...i,phone:m.target.value}),placeholder:"+84 28 3823 4567"})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"email",children:"Email"}),e.jsx(L,{id:"email",type:"email",value:i.email,onChange:m=>c({...i,email:m.target.value}),placeholder:"info@hotel.com"})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"website",children:"Website"}),e.jsx(L,{id:"website",value:i.website,onChange:m=>c({...i,website:m.target.value}),placeholder:"https://hotel.com"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(v,{htmlFor:"description",children:"M√¥ t·∫£"}),e.jsx(ze,{id:"description",value:i.description,onChange:m=>c({...i,description:m.target.value}),placeholder:"M√¥ t·∫£ v·ªÅ kh√°ch s·∫°n...",rows:3})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"address",children:"ƒê·ªãa ch·ªâ"}),e.jsx(ze,{id:"address",value:i.address,onChange:m=>c({...i,address:m.target.value}),placeholder:"ƒê·ªãa ch·ªâ ƒë·∫ßy ƒë·ªß",rows:3})]})]})]}),e.jsx(ms,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[a==="success"&&e.jsxs(e.Fragment,{children:[e.jsx(Oe,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm text-green-600",children:"ƒê√£ l∆∞u th√†nh c√¥ng"})]}),a==="error"&&e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-sm text-red-600",children:"L·ªói khi l∆∞u"})]})]}),e.jsx(C,{onClick:u,disabled:s,children:s?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"h-4 w-4 mr-2 animate-spin"}),"ƒêang l∆∞u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"L∆∞u thay ƒë·ªïi"]})})]})]})]})}),e.jsx(ee,{value:"ai",children:e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(We,{className:"h-5 w-5"}),"C√†i ƒë·∫∑t AI Assistant"]}),e.jsx(U,{children:"C·∫•u h√¨nh tr·ª£ l√Ω AI cho d·ªãch v·ª• kh√°ch h√†ng"})]}),e.jsxs(N,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium",children:"AI Assistant"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"K√≠ch ho·∫°t tr·ª£ l√Ω AI cho d·ªãch v·ª• kh√°ch h√†ng"})]}),e.jsx(te,{checked:o.enabled,onCheckedChange:m=>h({...o,enabled:m})})]}),e.jsx(ms,{}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(v,{htmlFor:"assistantName",children:"T√™n tr·ª£ l√Ω"}),e.jsx(L,{id:"assistantName",value:o.name,onChange:m=>h({...o,name:m.target.value}),placeholder:"T√™n tr·ª£ l√Ω AI"})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"responseDelay",children:"ƒê·ªô tr·ªÖ ph·∫£n h·ªìi (ms)"}),e.jsx(L,{id:"responseDelay",type:"number",value:o.responseDelay,onChange:m=>h({...o,responseDelay:parseInt(m.target.value)}),min:"0",max:"5000"})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"confidenceThreshold",children:"Ng∆∞·ª°ng tin c·∫≠y"}),e.jsx(L,{id:"confidenceThreshold",type:"number",step:"0.1",value:o.confidenceThreshold,onChange:m=>h({...o,confidenceThreshold:parseFloat(m.target.value)}),min:"0",max:"1"})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(v,{htmlFor:"enableSmallTalk",children:"K√≠ch ho·∫°t tr√≤ chuy·ªán phi·∫øm"}),e.jsx(te,{id:"enableSmallTalk",checked:o.enableSmallTalk,onCheckedChange:m=>h({...o,enableSmallTalk:m})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(v,{htmlFor:"enableTranscription",children:"K√≠ch ho·∫°t chuy·ªÉn ƒë·ªïi vƒÉn b·∫£n"}),e.jsx(te,{id:"enableTranscription",checked:o.enableTranscription,onCheckedChange:m=>h({...o,enableTranscription:m})})]})]})})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"customInstructions",children:"H∆∞·ªõng d·∫´n t√πy ch·ªânh"}),e.jsx(ze,{id:"customInstructions",value:o.customInstructions,onChange:m=>h({...o,customInstructions:m.target.value}),placeholder:"H∆∞·ªõng d·∫´n chi ti·∫øt cho AI v·ªÅ c√°ch ph·ª•c v·ª• kh√°ch h√†ng...",rows:4})]}),e.jsx(ms,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[a==="success"&&e.jsxs(e.Fragment,{children:[e.jsx(Oe,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm text-green-600",children:"ƒê√£ l∆∞u th√†nh c√¥ng"})]}),a==="error"&&e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-sm text-red-600",children:"L·ªói khi l∆∞u"})]})]}),e.jsx(C,{onClick:u,disabled:s,children:s?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"h-4 w-4 mr-2 animate-spin"}),"ƒêang l∆∞u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"L∆∞u c·∫•u h√¨nh"]})})]})]})]})}),e.jsx(ee,{value:"notifications",children:e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(Bt,{className:"h-5 w-5"}),"C√†i ƒë·∫∑t th√¥ng b√°o"]}),e.jsx(U,{children:"Qu·∫£n l√Ω c√°ch th·ª©c nh·∫≠n th√¥ng b√°o v√† c·∫£nh b√°o"})]}),e.jsxs(N,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"K√™nh th√¥ng b√°o"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(v,{children:"Email notifications"}),e.jsx(te,{checked:d.emailNotifications,onCheckedChange:m=>x({...d,emailNotifications:m})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(v,{children:"SMS notifications"}),e.jsx(te,{checked:d.smsNotifications,onCheckedChange:m=>x({...d,smsNotifications:m})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(v,{children:"Push notifications"}),e.jsx(te,{checked:d.pushNotifications,onCheckedChange:m=>x({...d,pushNotifications:m})})]})]})]})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Lo·∫°i th√¥ng b√°o"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(v,{children:"Y√™u c·∫ßu m·ªõi"}),e.jsx(te,{checked:d.newRequestAlert,onCheckedChange:m=>x({...d,newRequestAlert:m})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(v,{children:"C·∫£nh b√°o h·ªá th·ªëng"}),e.jsx(te,{checked:d.systemAlerts,onCheckedChange:m=>x({...d,systemAlerts:m})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(v,{children:"B√°o c√°o h√†ng ng√†y"}),e.jsx(te,{checked:d.dailyReports,onCheckedChange:m=>x({...d,dailyReports:m})})]})]})]})})]}),e.jsx(ms,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[a==="success"&&e.jsxs(e.Fragment,{children:[e.jsx(Oe,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm text-green-600",children:"ƒê√£ l∆∞u th√†nh c√¥ng"})]}),a==="error"&&e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-sm text-red-600",children:"L·ªói khi l∆∞u"})]})]}),e.jsx(C,{onClick:u,disabled:s,children:s?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"h-4 w-4 mr-2 animate-spin"}),"ƒêang l∆∞u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"L∆∞u c√†i ƒë·∫∑t"]})})]})]})]})}),e.jsx(ee,{value:"security",children:e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"h-5 w-5"}),"C√†i ƒë·∫∑t b·∫£o m·∫≠t"]}),e.jsx(U,{children:"Qu·∫£n l√Ω b·∫£o m·∫≠t t√†i kho·∫£n v√† h·ªá th·ªëng"})]}),e.jsx(N,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ce,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"C√†i ƒë·∫∑t b·∫£o m·∫≠t"}),e.jsx("p",{className:"text-gray-600",children:"C√°c t√πy ch·ªçn b·∫£o m·∫≠t n√¢ng cao s·∫Ω s·ªõm ra m·∫Øt"})]})})]})})]})]})},Tr=[{id:"1",firstName:"Nguyen",lastName:"Van A",email:"nguyenvana@email.com",phone:"+84 90 123 4567",nationality:"Vietnam",dateOfBirth:"1985-03-15",idNumber:"123456789",address:"123 Le Loi Street",city:"Ho Chi Minh City",country:"Vietnam",zipCode:"700000",preferredLanguage:"vi",membershipTier:"gold",totalStays:12,totalSpent:45e6,averageRating:4.8,notes:"VIP customer, prefers quiet rooms",createdAt:"2023-01-15T10:00:00Z",updatedAt:"2024-01-10T14:30:00Z",lastStay:"2024-01-10T14:30:00Z",status:"vip",preferences:{roomType:"Suite",floorPreference:"High floor",smokingPreference:"Non-smoking",bedPreference:"King bed",specialRequests:["Late check-out","Extra towels"]}},{id:"2",firstName:"Kim",lastName:"Min Jun",email:"kim.minjun@email.com",phone:"+82 10 9876 5432",nationality:"South Korea",dateOfBirth:"1990-07-22",idNumber:"KOR987654321",address:"456 Gangnam-gu",city:"Seoul",country:"South Korea",zipCode:"06543",preferredLanguage:"ko",membershipTier:"silver",totalStays:5,totalSpent:18e6,averageRating:4.5,notes:"Business traveler, needs early breakfast",createdAt:"2023-08-20T09:00:00Z",updatedAt:"2024-01-05T11:15:00Z",lastStay:"2024-01-05T11:15:00Z",status:"active",preferences:{roomType:"Deluxe",floorPreference:"Mid floor",smokingPreference:"Non-smoking",bedPreference:"Twin beds",specialRequests:["Early breakfast","Business center access"]}},{id:"3",firstName:"Sarah",lastName:"Johnson",email:"sarah.johnson@email.com",phone:"+1 555 123 4567",nationality:"United States",dateOfBirth:"1988-12-03",idNumber:"USA123456789",address:"789 Broadway",city:"New York",country:"United States",zipCode:"10001",preferredLanguage:"en",membershipTier:"platinum",totalStays:25,totalSpent:95e6,averageRating:4.9,notes:"Frequent traveler, allergic to shellfish",createdAt:"2022-05-10T16:00:00Z",updatedAt:"2024-01-12T09:45:00Z",lastStay:"2024-01-12T09:45:00Z",status:"vip",preferences:{roomType:"Presidential Suite",floorPreference:"Top floor",smokingPreference:"Non-smoking",bedPreference:"King bed",specialRequests:["Shellfish allergy","Concierge service","Airport transfer"]}}],Rw=[{id:"1",guestId:"1",roomNumber:"2101",roomType:"Suite",checkIn:"2024-01-10T15:00:00Z",checkOut:"2024-01-13T11:00:00Z",guests:2,totalAmount:12e6,status:"checked-out",paymentStatus:"paid",specialRequests:["Late check-out","Extra towels"],rating:5,review:"Excellent service and room quality",createdAt:"2024-01-05T10:00:00Z"},{id:"2",guestId:"2",roomNumber:"1505",roomType:"Deluxe",checkIn:"2024-01-05T14:00:00Z",checkOut:"2024-01-07T12:00:00Z",guests:1,totalAmount:6e6,status:"checked-out",paymentStatus:"paid",specialRequests:["Early breakfast"],rating:4,review:"Good stay, helpful staff",createdAt:"2024-01-01T09:00:00Z"}],Pw=[{id:"1",guestId:"1",note:"Guest requested room upgrade, complimentary provided",type:"general",staffMember:"Front Desk Staff",createdAt:"2024-01-10T16:00:00Z"},{id:"2",guestId:"1",note:"Prefers high floor rooms with city view",type:"preference",staffMember:"Front Desk Staff",createdAt:"2024-01-10T15:30:00Z"}],Gl=t=>{switch(t){case"platinum":return"bg-purple-100 text-purple-800";case"gold":return"bg-yellow-100 text-yellow-800";case"silver":return"bg-gray-100 text-gray-800";case"bronze":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},Kl=t=>{switch(t){case"vip":return"bg-purple-100 text-purple-800";case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},Mw=t=>{switch(t){case"confirmed":return"bg-blue-100 text-blue-800";case"checked-in":return"bg-green-100 text-green-800";case"checked-out":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},On=t=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",maximumFractionDigits:0}).format(t),Hs=t=>new Date(t).toLocaleDateString("vi-VN",{year:"numeric",month:"short",day:"numeric"}),Lw=({guest:t,isOpen:s,onClose:n,onUpdate:a})=>{const[r,i]=l.useState(!1),[c,o]=l.useState(t),[h,d]=l.useState(!1);l.useEffect(()=>{o(t)},[t]);const x=async()=>{if(c){d(!0);try{await new Promise(u=>setTimeout(u,1e3)),a(c),i(!1)}catch(u){console.error("Failed to update guest:",u)}finally{d(!1)}}};return!t||!c?null:e.jsx(At,{open:s,onOpenChange:n,children:e.jsxs(gt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(pt,{children:[e.jsxs(ft,{className:"flex items-center gap-2",children:[e.jsx(da,{className:"h-5 w-5"}),t.firstName," ",t.lastName,e.jsx(V,{className:k("ml-2",Gl(t.membershipTier)),children:t.membershipTier.toUpperCase()}),e.jsx(V,{className:k("ml-1",Kl(t.status)),children:t.status.toUpperCase()})]}),e.jsx(Et,{children:"Chi ti·∫øt th√¥ng tin kh√°ch h√†ng v√† l·ªãch s·ª≠ ƒë·∫∑t ph√≤ng"})]}),e.jsxs(at,{defaultValue:"info",className:"w-full",children:[e.jsxs(Ye,{className:"grid w-full grid-cols-3",children:[e.jsx(J,{value:"info",children:"Th√¥ng tin"}),e.jsx(J,{value:"bookings",children:"L·ªãch s·ª≠ ƒë·∫∑t ph√≤ng"}),e.jsx(J,{value:"notes",children:"Ghi ch√∫"})]}),e.jsxs(ee,{value:"info",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Th√¥ng tin c√° nh√¢n"}),e.jsxs(C,{variant:"outline",size:"sm",onClick:()=>i(!r),children:[e.jsx(Ft,{className:"h-4 w-4 mr-2"}),r?"H·ªßy":"Ch·ªânh s·ª≠a"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(v,{htmlFor:"firstName",children:"H·ªç"}),e.jsx(L,{id:"firstName",value:c.firstName,onChange:u=>o({...c,firstName:u.target.value}),disabled:!r})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"lastName",children:"T√™n"}),e.jsx(L,{id:"lastName",value:c.lastName,onChange:u=>o({...c,lastName:u.target.value}),disabled:!r})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"email",children:"Email"}),e.jsx(L,{id:"email",type:"email",value:c.email,onChange:u=>o({...c,email:u.target.value}),disabled:!r})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"phone",children:"S·ªë ƒëi·ªán tho·∫°i"}),e.jsx(L,{id:"phone",value:c.phone,onChange:u=>o({...c,phone:u.target.value}),disabled:!r})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"nationality",children:"Qu·ªëc t·ªãch"}),e.jsx(L,{id:"nationality",value:c.nationality,onChange:u=>o({...c,nationality:u.target.value}),disabled:!r})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(v,{htmlFor:"dateOfBirth",children:"Ng√†y sinh"}),e.jsx(L,{id:"dateOfBirth",type:"date",value:c.dateOfBirth,onChange:u=>o({...c,dateOfBirth:u.target.value}),disabled:!r})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"idNumber",children:"S·ªë CMND/CCCD"}),e.jsx(L,{id:"idNumber",value:c.idNumber,onChange:u=>o({...c,idNumber:u.target.value}),disabled:!r})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"address",children:"ƒê·ªãa ch·ªâ"}),e.jsx(ze,{id:"address",value:c.address,onChange:u=>o({...c,address:u.target.value}),disabled:!r,rows:2})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"city",children:"Th√†nh ph·ªë"}),e.jsx(L,{id:"city",value:c.city,onChange:u=>o({...c,city:u.target.value}),disabled:!r})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"country",children:"Qu·ªëc gia"}),e.jsx(L,{id:"country",value:c.country,onChange:u=>o({...c,country:u.target.value}),disabled:!r})]})]})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"notes",children:"Ghi ch√∫"}),e.jsx(ze,{id:"notes",value:c.notes,onChange:u=>o({...c,notes:u.target.value}),disabled:!r,rows:3})]}),r&&e.jsx("div",{className:"flex justify-end gap-2",children:e.jsx(C,{onClick:x,disabled:h,children:h?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"h-4 w-4 mr-2 animate-spin"}),"ƒêang l∆∞u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"L∆∞u thay ƒë·ªïi"]})})})]}),e.jsxs(ee,{value:"bookings",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium",children:"L·ªãch s·ª≠ ƒë·∫∑t ph√≤ng"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:["T·ªïng c·ªông: ",t.totalStays," l·∫ßn l∆∞u tr√∫"]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"‚Ä¢"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Chi ti√™u: ",On(t.totalSpent)]})]})]}),e.jsx("div",{className:"space-y-4",children:Rw.filter(u=>u.guestId===t.id).map(u=>e.jsx(w,{children:e.jsxs(N,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-medium",children:["Ph√≤ng ",u.roomNumber]}),e.jsx(V,{variant:"outline",children:u.roomType}),e.jsx(V,{className:k(Mw(u.status)),children:u.status})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[Hs(u.checkIn)," - ",Hs(u.checkOut)]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"S·ªë kh√°ch:"})," ",u.guests]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"T·ªïng ti·ªÅn:"})," ",On(u.totalAmount)]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"ƒê√°nh gi√°:"}),e.jsxs("div",{className:"flex items-center gap-1 ml-1",children:[[...Array(5)].map((m,p)=>e.jsx(Jt,{className:k("h-3 w-3",p<u.rating?"fill-yellow-400 text-yellow-400":"text-gray-300")},p)),e.jsxs("span",{className:"ml-1",children:["(",u.rating,"/5)"]})]})]})]}),u.review&&e.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"ƒê√°nh gi√°:"})," ",u.review]})]})},u.id))})]}),e.jsxs(ee,{value:"notes",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Ghi ch√∫ d·ªãch v·ª•"}),e.jsxs(C,{size:"sm",children:[e.jsx(bt,{className:"h-4 w-4 mr-2"}),"Th√™m ghi ch√∫"]})]}),e.jsx("div",{className:"space-y-3",children:Pw.filter(u=>u.guestId===t.id).map(u=>e.jsx(w,{children:e.jsxs(N,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(V,{variant:"outline",children:u.type}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[u.staffMember," ‚Ä¢ ",Hs(u.createdAt)]})]}),e.jsx("p",{className:"text-sm",children:u.note})]})},u.id))})]})]})]})})},$w=({isOpen:t,onClose:s,onAdd:n})=>{const[a,r]=l.useState({firstName:"",lastName:"",email:"",phone:"",nationality:"",dateOfBirth:"",idNumber:"",address:"",city:"",country:"",zipCode:"",preferredLanguage:"vi",membershipTier:"bronze",notes:""}),[i,c]=l.useState(!1),o=async h=>{h.preventDefault(),c(!0);try{await new Promise(x=>setTimeout(x,1e3));const d={id:Date.now().toString(),...a,totalStays:0,totalSpent:0,averageRating:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),lastStay:"",status:"active",preferences:{roomType:"",floorPreference:"",smokingPreference:"Non-smoking",bedPreference:"",specialRequests:[]}};n(d),s(),r({firstName:"",lastName:"",email:"",phone:"",nationality:"",dateOfBirth:"",idNumber:"",address:"",city:"",country:"",zipCode:"",preferredLanguage:"vi",membershipTier:"bronze",notes:""})}catch(d){console.error("Failed to add guest:",d)}finally{c(!1)}};return e.jsx(At,{open:t,onOpenChange:s,children:e.jsxs(gt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(pt,{children:[e.jsxs(ft,{className:"flex items-center gap-2",children:[e.jsx(js,{className:"h-5 w-5"}),"Th√™m kh√°ch h√†ng m·ªõi"]}),e.jsx(Et,{children:"Nh·∫≠p th√¥ng tin kh√°ch h√†ng ƒë·ªÉ t·∫°o h·ªì s∆° m·ªõi"})]}),e.jsxs("form",{onSubmit:o,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(v,{htmlFor:"firstName",children:"H·ªç *"}),e.jsx(L,{id:"firstName",value:a.firstName,onChange:h=>r({...a,firstName:h.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"lastName",children:"T√™n *"}),e.jsx(L,{id:"lastName",value:a.lastName,onChange:h=>r({...a,lastName:h.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"email",children:"Email *"}),e.jsx(L,{id:"email",type:"email",value:a.email,onChange:h=>r({...a,email:h.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"phone",children:"S·ªë ƒëi·ªán tho·∫°i *"}),e.jsx(L,{id:"phone",value:a.phone,onChange:h=>r({...a,phone:h.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"nationality",children:"Qu·ªëc t·ªãch"}),e.jsx(L,{id:"nationality",value:a.nationality,onChange:h=>r({...a,nationality:h.target.value})})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"dateOfBirth",children:"Ng√†y sinh"}),e.jsx(L,{id:"dateOfBirth",type:"date",value:a.dateOfBirth,onChange:h=>r({...a,dateOfBirth:h.target.value})})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"idNumber",children:"S·ªë CMND/CCCD"}),e.jsx(L,{id:"idNumber",value:a.idNumber,onChange:h=>r({...a,idNumber:h.target.value})})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"preferredLanguage",children:"Ng√¥n ng·ªØ ∆∞a th√≠ch"}),e.jsxs(ge,{value:a.preferredLanguage,onValueChange:h=>r({...a,preferredLanguage:h}),children:[e.jsx(ue,{children:e.jsx(pe,{})}),e.jsxs(me,{children:[e.jsx(E,{value:"vi",children:"Ti·∫øng Vi·ªát"}),e.jsx(E,{value:"en",children:"English"}),e.jsx(E,{value:"ko",children:"ÌïúÍµ≠Ïñ¥"}),e.jsx(E,{value:"ja",children:"Êó•Êú¨Ë™û"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"address",children:"ƒê·ªãa ch·ªâ"}),e.jsx(ze,{id:"address",value:a.address,onChange:h=>r({...a,address:h.target.value}),rows:2})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(v,{htmlFor:"city",children:"Th√†nh ph·ªë"}),e.jsx(L,{id:"city",value:a.city,onChange:h=>r({...a,city:h.target.value})})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"country",children:"Qu·ªëc gia"}),e.jsx(L,{id:"country",value:a.country,onChange:h=>r({...a,country:h.target.value})})]})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"notes",children:"Ghi ch√∫"}),e.jsx(ze,{id:"notes",value:a.notes,onChange:h=>r({...a,notes:h.target.value}),placeholder:"Th√¥ng tin b·ªï sung v·ªÅ kh√°ch h√†ng...",rows:3})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(C,{type:"button",variant:"outline",onClick:s,children:"H·ªßy"}),e.jsx(C,{type:"submit",disabled:i,children:i?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"h-4 w-4 mr-2 animate-spin"}),"ƒêang t·∫°o..."]}):e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"h-4 w-4 mr-2"}),"T·∫°o kh√°ch h√†ng"]})})]})]})]})})},Fw=()=>{const{user:t}=_e(),[s,n]=l.useState(Tr),[a,r]=l.useState(!1),[i,c]=l.useState(""),[o,h]=l.useState("all"),[d,x]=l.useState("all"),[u,m]=l.useState(null),[p,f]=l.useState(!1),[g,y]=l.useState(!1),j=s.filter(A=>{const z=!i||A.firstName.toLowerCase().includes(i.toLowerCase())||A.lastName.toLowerCase().includes(i.toLowerCase())||A.email.toLowerCase().includes(i.toLowerCase())||A.phone.includes(i),Q=o==="all"||A.membershipTier===o,Y=d==="all"||A.status===d;return z&&Q&&Y}),T=A=>{m(A),f(!0)},M=A=>{n(z=>z.map(Q=>Q.id===A.id?A:Q)),m(A)},b=A=>{n(z=>[...z,A])},O=async()=>{r(!0);try{await new Promise(A=>setTimeout(A,1e3)),n(Tr)}catch(A){console.error("Failed to fetch guests:",A)}finally{r(!1)}};return l.useEffect(()=>{O()},[]),a?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(se,{className:"h-8 w-8 animate-spin text-green-600"}),e.jsx("span",{className:"ml-2",children:"ƒêang t·∫£i danh s√°ch kh√°ch h√†ng..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Qu·∫£n l√Ω kh√°ch h√†ng"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Qu·∫£n l√Ω th√¥ng tin kh√°ch h√†ng v√† l·ªãch s·ª≠ l∆∞u tr√∫"})]}),e.jsxs(C,{onClick:()=>y(!0),children:[e.jsx(js,{className:"h-4 w-4 mr-2"}),"Th√™m kh√°ch h√†ng"]})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(R,{className:"text-lg",children:"T√¨m ki·∫øm v√† l·ªçc"})}),e.jsx(N,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ct,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(L,{placeholder:"T√¨m ki·∫øm theo t√™n, email ho·∫∑c s·ªë ƒëi·ªán tho·∫°i...",value:i,onChange:A=>c(A.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ge,{value:o,onValueChange:h,children:[e.jsx(ue,{className:"w-[180px]",children:e.jsx(pe,{placeholder:"Membership tier"})}),e.jsxs(me,{children:[e.jsx(E,{value:"all",children:"T·∫•t c·∫£ membership"}),e.jsx(E,{value:"bronze",children:"Bronze"}),e.jsx(E,{value:"silver",children:"Silver"}),e.jsx(E,{value:"gold",children:"Gold"}),e.jsx(E,{value:"platinum",children:"Platinum"})]})]}),e.jsxs(ge,{value:d,onValueChange:x,children:[e.jsx(ue,{className:"w-[150px]",children:e.jsx(pe,{placeholder:"Tr·∫°ng th√°i"})}),e.jsxs(me,{children:[e.jsx(E,{value:"all",children:"T·∫•t c·∫£ tr·∫°ng th√°i"}),e.jsx(E,{value:"active",children:"Active"}),e.jsx(E,{value:"inactive",children:"Inactive"}),e.jsx(E,{value:"vip",children:"VIP"})]})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(w,{children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"T·ªïng kh√°ch h√†ng"}),e.jsx("p",{className:"text-2xl font-bold",children:s.length})]}),e.jsx(He,{className:"h-8 w-8 text-blue-500"})]})})}),e.jsx(w,{children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Kh√°ch VIP"}),e.jsx("p",{className:"text-2xl font-bold",children:s.filter(A=>A.status==="vip").length})]}),e.jsx(Jt,{className:"h-8 w-8 text-purple-500"})]})})}),e.jsx(w,{children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Kh√°ch h√†ng m·ªõi"}),e.jsx("p",{className:"text-2xl font-bold",children:s.filter(A=>new Date(A.createdAt)>new Date(Date.now()-30*24*60*60*1e3)).length})]}),e.jsx(js,{className:"h-8 w-8 text-green-500"})]})})}),e.jsx(w,{children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"ƒê√°nh gi√° TB"}),e.jsx("p",{className:"text-2xl font-bold",children:(s.reduce((A,z)=>A+z.averageRating,0)/s.length).toFixed(1)})]}),e.jsx(Jt,{className:"h-8 w-8 text-yellow-500"})]})})})]}),e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsx(R,{children:"Danh s√°ch kh√°ch h√†ng"}),e.jsxs(U,{children:["Hi·ªÉn th·ªã ",j.length," trong t·ªïng s·ªë ",s.length," kh√°ch h√†ng"]})]}),e.jsx(N,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(dt,{children:[e.jsx(ht,{children:e.jsxs(Ie,{children:[e.jsx(q,{children:"Kh√°ch h√†ng"}),e.jsx(q,{children:"Li√™n h·ªá"}),e.jsx(q,{children:"Membership"}),e.jsx(q,{children:"Tr·∫°ng th√°i"}),e.jsx(q,{children:"L·∫ßn l∆∞u tr√∫"}),e.jsx(q,{children:"Chi ti√™u"}),e.jsx(q,{children:"ƒê√°nh gi√°"}),e.jsx(q,{children:"L·∫ßn cu·ªëi"}),e.jsx(q,{children:"H√†nh ƒë·ªông"})]})}),e.jsx(ut,{children:j.map(A=>e.jsxs(Ie,{children:[e.jsx(H,{children:e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[A.firstName," ",A.lastName]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:A.nationality})]})}),e.jsx(H,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(oa,{className:"h-3 w-3"}),A.email]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(nt,{className:"h-3 w-3"}),A.phone]})]})}),e.jsx(H,{children:e.jsx(V,{className:Gl(A.membershipTier),children:A.membershipTier.toUpperCase()})}),e.jsx(H,{children:e.jsx(V,{className:Kl(A.status),children:A.status.toUpperCase()})}),e.jsx(H,{children:A.totalStays}),e.jsx(H,{children:On(A.totalSpent)}),e.jsx(H,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Jt,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{children:A.averageRating})]})}),e.jsx(H,{children:A.lastStay?Hs(A.lastStay):"Ch∆∞a l∆∞u tr√∫"}),e.jsx(H,{children:e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>T(A),children:e.jsx(kt,{className:"h-4 w-4"})})})]},A.id))})]})})})]}),e.jsx(Lw,{guest:u,isOpen:p,onClose:()=>f(!1),onUpdate:M}),e.jsx($w,{isOpen:g,onClose:()=>y(!1),onAdd:b})]})},Ar={firewall:{enabled:!0,rules:[{id:"1",name:"Allow HTTP",source:"any",destination:"server",port:80,protocol:"tcp",action:"allow",enabled:!0,createdAt:"2024-01-01T00:00:00Z"},{id:"2",name:"Allow HTTPS",source:"any",destination:"server",port:443,protocol:"tcp",action:"allow",enabled:!0,createdAt:"2024-01-01T00:00:00Z"},{id:"3",name:"Block Suspicious IP",source:"192.168.1.100",destination:"any",port:0,protocol:"tcp",action:"deny",enabled:!0,createdAt:"2024-01-10T10:00:00Z"}],allowedPorts:[80,443,22,25,587],blockedIPs:["192.168.1.100","10.0.0.50"],ddosProtection:!0,rateLimiting:!0},ssl:{enabled:!0,certificates:[{id:"1",domain:"minhhonghotel.com",issuer:"Let's Encrypt",validFrom:"2024-01-01T00:00:00Z",validTo:"2024-04-01T00:00:00Z",status:"valid",type:"ssl"},{id:"2",domain:"*.minhhonghotel.com",issuer:"DigiCert",validFrom:"2023-12-01T00:00:00Z",validTo:"2024-12-01T00:00:00Z",status:"valid",type:"wildcard"}],forceHttps:!0,hstsEnabled:!0,cipherSuites:["TLS_AES_256_GCM_SHA384","TLS_CHACHA20_POLY1305_SHA256"]},authentication:{mfaEnabled:!0,passwordPolicy:{minLength:8,requireUppercase:!0,requireNumbers:!0,requireSymbols:!0,expirationDays:90},sessionTimeout:30,maxLoginAttempts:5,lockoutDuration:15},monitoring:{logLevel:"info",alertsEnabled:!0,alertThresholds:{failedLogins:10,diskUsage:85,memoryUsage:90,cpuUsage:95},retentionPeriod:90},backup:{enabled:!0,schedule:"0 2 * * *",retention:30,encryption:!0,location:"AWS S3",lastBackup:"2024-01-15T02:00:00Z",status:"success"},compliance:{gdprCompliant:!0,pciCompliant:!1,iso27001:!0,auditEnabled:!0,dataRetentionDays:365}},Er=[{id:"1",type:"authentication",severity:"high",message:"Multiple failed login attempts detected",timestamp:"2024-01-15T14:30:00Z",resolved:!1,details:"User attempted to login with incorrect credentials 8 times from IP 192.168.1.100"},{id:"2",type:"ssl",severity:"medium",message:"SSL certificate expiring soon",timestamp:"2024-01-15T10:00:00Z",resolved:!1,details:"Certificate for minhhonghotel.com will expire in 30 days"},{id:"3",type:"firewall",severity:"low",message:"Port scan detected",timestamp:"2024-01-15T08:15:00Z",resolved:!0,details:"Port scan from 10.0.0.50 was blocked by firewall"}],Dr=[{id:"1",timestamp:"2024-01-15T15:00:00Z",source:"auth",event:"LOGIN_SUCCESS",severity:"info",details:"User logged in successfully",ip:"192.168.1.50",user:"admin"},{id:"2",timestamp:"2024-01-15T14:45:00Z",source:"firewall",event:"BLOCKED_IP",severity:"warning",details:"Blocked connection from suspicious IP",ip:"192.168.1.100"},{id:"3",timestamp:"2024-01-15T14:30:00Z",source:"auth",event:"LOGIN_FAILED",severity:"error",details:"Failed login attempt",ip:"192.168.1.100",user:"admin"}],Ow=t=>{switch(t){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},Ns=t=>new Date(t).toLocaleDateString("vi-VN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),zw=({config:t,onUpdate:s})=>{const[n,a]=l.useState(!1),[r,i]=l.useState(!1),c=async()=>{a(!0);try{await new Promise(o=>setTimeout(o,1e3))}catch(o){console.error("Failed to save firewall config:",o)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"h-5 w-5"}),"C·∫•u h√¨nh Firewall"]}),e.jsx(U,{children:"Qu·∫£n l√Ω t∆∞·ªùng l·ª≠a v√† b·∫£o m·∫≠t m·∫°ng"})]}),e.jsxs(N,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(v,{className:"text-base font-medium",children:"K√≠ch ho·∫°t Firewall"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"B·∫≠t/t·∫Øt t∆∞·ªùng l·ª≠a cho h·ªá th·ªëng"})]}),e.jsx(te,{checked:t.enabled,onCheckedChange:o=>s({enabled:o})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(v,{children:"DDoS Protection"}),e.jsx(te,{checked:t.ddosProtection,onCheckedChange:o=>s({ddosProtection:o})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(v,{children:"Rate Limiting"}),e.jsx(te,{checked:t.rateLimiting,onCheckedChange:o=>s({rateLimiting:o})})]})]}),e.jsxs("div",{children:[e.jsx(v,{children:"Blocked IPs"}),e.jsx(ze,{value:t.blockedIPs.join(`
`),onChange:o=>s({blockedIPs:o.target.value.split(`
`).filter(h=>h.trim())}),placeholder:`192.168.1.100
10.0.0.50`,rows:3})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(C,{onClick:c,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"h-4 w-4 mr-2 animate-spin"}),"ƒêang l∆∞u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"L∆∞u c·∫•u h√¨nh"]})})})]})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(R,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Firewall Rules"}),e.jsxs(C,{size:"sm",onClick:()=>i(!r),children:[e.jsx(bt,{className:"h-4 w-4 mr-2"}),"Th√™m Rule"]})]})}),e.jsx(N,{children:e.jsxs(dt,{children:[e.jsx(ht,{children:e.jsxs(Ie,{children:[e.jsx(q,{children:"T√™n"}),e.jsx(q,{children:"Source"}),e.jsx(q,{children:"Destination"}),e.jsx(q,{children:"Port"}),e.jsx(q,{children:"Protocol"}),e.jsx(q,{children:"Action"}),e.jsx(q,{children:"Tr·∫°ng th√°i"}),e.jsx(q,{children:"H√†nh ƒë·ªông"})]})}),e.jsx(ut,{children:t.rules.map(o=>e.jsxs(Ie,{children:[e.jsx(H,{className:"font-medium",children:o.name}),e.jsx(H,{children:o.source}),e.jsx(H,{children:o.destination}),e.jsx(H,{children:o.port}),e.jsx(H,{children:o.protocol.toUpperCase()}),e.jsx(H,{children:e.jsx(V,{variant:o.action==="allow"?"default":"destructive",children:o.action.toUpperCase()})}),e.jsx(H,{children:e.jsx(V,{variant:o.enabled?"default":"secondary",children:o.enabled?"Enabled":"Disabled"})}),e.jsx(H,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(C,{variant:"ghost",size:"sm",children:e.jsx(Ft,{className:"h-4 w-4"})}),e.jsx(C,{variant:"ghost",size:"sm",children:e.jsx(Ot,{className:"h-4 w-4"})})]})})]},o.id))})]})})]})]})},Bw=({config:t,onUpdate:s})=>{const[n,a]=l.useState(!1),r=async()=>{a(!0);try{await new Promise(i=>setTimeout(i,1e3))}catch(i){console.error("Failed to save SSL config:",i)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(ss,{className:"h-5 w-5"}),"C·∫•u h√¨nh SSL/TLS"]}),e.jsx(U,{children:"Qu·∫£n l√Ω ch·ª©ng ch·ªâ SSL v√† c·∫•u h√¨nh TLS"})]}),e.jsxs(N,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(v,{children:"K√≠ch ho·∫°t SSL"}),e.jsx(te,{checked:t.enabled,onCheckedChange:i=>s({enabled:i})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(v,{children:"Force HTTPS"}),e.jsx(te,{checked:t.forceHttps,onCheckedChange:i=>s({forceHttps:i})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(v,{children:"HSTS Enabled"}),e.jsx(te,{checked:t.hstsEnabled,onCheckedChange:i=>s({hstsEnabled:i})})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(C,{onClick:r,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"h-4 w-4 mr-2 animate-spin"}),"ƒêang l∆∞u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"L∆∞u c·∫•u h√¨nh"]})})})]})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(R,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"SSL Certificates"}),e.jsxs(C,{size:"sm",children:[e.jsx(bt,{className:"h-4 w-4 mr-2"}),"Th√™m Certificate"]})]})}),e.jsx(N,{children:e.jsxs(dt,{children:[e.jsx(ht,{children:e.jsxs(Ie,{children:[e.jsx(q,{children:"Domain"}),e.jsx(q,{children:"Issuer"}),e.jsx(q,{children:"Type"}),e.jsx(q,{children:"Valid From"}),e.jsx(q,{children:"Valid To"}),e.jsx(q,{children:"Status"}),e.jsx(q,{children:"Actions"})]})}),e.jsx(ut,{children:t.certificates.map(i=>e.jsxs(Ie,{children:[e.jsx(H,{className:"font-medium",children:i.domain}),e.jsx(H,{children:i.issuer}),e.jsx(H,{children:e.jsx(V,{variant:"outline",children:i.type.toUpperCase()})}),e.jsx(H,{children:Ns(i.validFrom)}),e.jsx(H,{children:Ns(i.validTo)}),e.jsx(H,{children:e.jsx(V,{className:k(i.status==="valid"?"bg-green-100 text-green-800":i.status==="expired"?"bg-red-100 text-red-800":"bg-orange-100 text-orange-800"),children:i.status.toUpperCase()})}),e.jsx(H,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(C,{variant:"ghost",size:"sm",children:e.jsx(Vt,{className:"h-4 w-4"})}),e.jsx(C,{variant:"ghost",size:"sm",children:e.jsx(se,{className:"h-4 w-4"})}),e.jsx(C,{variant:"ghost",size:"sm",children:e.jsx(Ot,{className:"h-4 w-4"})})]})})]},i.id))})]})})]})]})},qw=({alerts:t})=>{const[s,n]=l.useState("all"),a=t.filter(r=>s==="all"||r.severity===s);return e.jsx("div",{className:"space-y-6",children:e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(ns,{className:"h-5 w-5"}),"C·∫£nh b√°o b·∫£o m·∫≠t"]}),e.jsx(U,{children:"Theo d√µi v√† x·ª≠ l√Ω c√°c c·∫£nh b√°o b·∫£o m·∫≠t"})]}),e.jsxs(N,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(C,{variant:s==="all"?"default":"outline",size:"sm",onClick:()=>n("all"),children:["T·∫•t c·∫£ (",t.length,")"]}),e.jsxs(C,{variant:s==="critical"?"default":"outline",size:"sm",onClick:()=>n("critical"),children:["Critical (",t.filter(r=>r.severity==="critical").length,")"]}),e.jsxs(C,{variant:s==="high"?"default":"outline",size:"sm",onClick:()=>n("high"),children:["High (",t.filter(r=>r.severity==="high").length,")"]})]}),e.jsxs(C,{size:"sm",children:[e.jsx(se,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),e.jsx("div",{className:"space-y-4",children:a.map(r=>e.jsx(w,{className:k("border-l-4",r.severity==="critical"?"border-l-red-500":r.severity==="high"?"border-l-orange-500":r.severity==="medium"?"border-l-yellow-500":"border-l-blue-500"),children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(V,{className:Ow(r.severity),children:r.severity.toUpperCase()}),e.jsx(V,{variant:"outline",children:r.type}),e.jsx("span",{className:"text-sm text-muted-foreground",children:Ns(r.timestamp)})]}),e.jsx("h4",{className:"font-medium",children:r.message}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:r.details})]}),e.jsxs("div",{className:"flex gap-2",children:[!r.resolved&&e.jsxs(C,{size:"sm",variant:"outline",children:[e.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Resolve"]}),e.jsx(C,{size:"sm",variant:"ghost",children:e.jsx(kt,{className:"h-4 w-4"})})]})]})})},r.id))})]})]})})},Hw=({logs:t})=>{const[s,n]=l.useState(""),[a,r]=l.useState("all"),i=t.filter(c=>{const o=!s||c.event.toLowerCase().includes(s.toLowerCase())||c.details.toLowerCase().includes(s.toLowerCase())||c.ip.includes(s),h=a==="all"||c.severity===a;return o&&h});return e.jsx("div",{className:"space-y-6",children:e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(tn,{className:"h-5 w-5"}),"Security Logs"]}),e.jsx(U,{children:"Nh·∫≠t k√Ω ho·∫°t ƒë·ªông b·∫£o m·∫≠t c·ªßa h·ªá th·ªëng"})]}),e.jsxs(N,{children:[e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ct,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(L,{placeholder:"T√¨m ki·∫øm logs...",value:s,onChange:c=>n(c.target.value),className:"pl-10"})]})}),e.jsxs(ge,{value:a,onValueChange:r,children:[e.jsx(ue,{className:"w-[150px]",children:e.jsx(pe,{})}),e.jsxs(me,{children:[e.jsx(E,{value:"all",children:"T·∫•t c·∫£"}),e.jsx(E,{value:"info",children:"Info"}),e.jsx(E,{value:"warning",children:"Warning"}),e.jsx(E,{value:"error",children:"Error"})]})]})]}),e.jsxs(dt,{children:[e.jsx(ht,{children:e.jsxs(Ie,{children:[e.jsx(q,{children:"Timestamp"}),e.jsx(q,{children:"Source"}),e.jsx(q,{children:"Event"}),e.jsx(q,{children:"Severity"}),e.jsx(q,{children:"IP"}),e.jsx(q,{children:"User"}),e.jsx(q,{children:"Details"})]})}),e.jsx(ut,{children:i.map(c=>e.jsxs(Ie,{children:[e.jsx(H,{className:"font-mono text-sm",children:Ns(c.timestamp)}),e.jsx(H,{children:c.source}),e.jsx(H,{className:"font-medium",children:c.event}),e.jsx(H,{children:e.jsx(V,{className:k(c.severity==="error"?"bg-red-100 text-red-800":c.severity==="warning"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:c.severity.toUpperCase()})}),e.jsx(H,{className:"font-mono text-sm",children:c.ip}),e.jsx(H,{children:c.user||"-"}),e.jsx(H,{className:"max-w-xs truncate",children:c.details})]},c.id))})]})]})]})})},Vw=({config:t,onUpdate:s})=>{const[n,a]=l.useState(!1),r=async()=>{a(!0);try{await new Promise(i=>setTimeout(i,3e3)),s({lastBackup:new Date().toISOString(),status:"success"})}catch(i){console.error("Backup failed:",i),s({status:"failed"})}finally{a(!1)}};return e.jsx("div",{className:"space-y-6",children:e.jsxs(w,{children:[e.jsxs(I,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(vs,{className:"h-5 w-5"}),"Backup & Recovery"]}),e.jsx(U,{children:"Qu·∫£n l√Ω sao l∆∞u v√† kh√¥i ph·ª•c d·ªØ li·ªáu"})]}),e.jsx(N,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(v,{children:"K√≠ch ho·∫°t backup t·ª± ƒë·ªông"}),e.jsx(te,{checked:t.enabled,onCheckedChange:i=>s({enabled:i})})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"schedule",children:"L·ªãch backup (Cron)"}),e.jsx(L,{id:"schedule",value:t.schedule,onChange:i=>s({schedule:i.target.value}),placeholder:"0 2 * * *"})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"retention",children:"Th·ªùi gian l∆∞u tr·ªØ (ng√†y)"}),e.jsx(L,{id:"retention",type:"number",value:t.retention,onChange:i=>s({retention:parseInt(i.target.value)})})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"location",children:"V·ªã tr√≠ l∆∞u tr·ªØ"}),e.jsxs(ge,{value:t.location,onValueChange:i=>s({location:i}),children:[e.jsx(ue,{children:e.jsx(pe,{})}),e.jsxs(me,{children:[e.jsx(E,{value:"AWS S3",children:"AWS S3"}),e.jsx(E,{value:"Google Cloud",children:"Google Cloud"}),e.jsx(E,{value:"Azure",children:"Azure"}),e.jsx(E,{value:"Local",children:"Local Storage"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(v,{children:"M√£ h√≥a backup"}),e.jsx(te,{checked:t.encryption,onCheckedChange:i=>s({encryption:i})})]}),e.jsxs("div",{children:[e.jsx(v,{children:"Backup cu·ªëi c√πng"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"text-sm",children:t.lastBackup?Ns(t.lastBackup):"Ch∆∞a c√≥ backup"}),e.jsx(V,{className:k("ml-2",t.status==="success"?"bg-green-100 text-green-800":t.status==="failed"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"),children:t.status.toUpperCase()})]})]}),e.jsxs("div",{children:[e.jsx(v,{children:"Dung l∆∞·ª£ng backup"}),e.jsxs("div",{className:"mt-1",children:[e.jsx(ct,{value:65,className:"h-2"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"2.1 GB / 5 GB"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(C,{onClick:r,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"h-4 w-4 mr-2 animate-spin"}),"ƒêang backup..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Qd,{className:"h-4 w-4 mr-2"}),"Backup ngay"]})}),e.jsxs(C,{variant:"outline",children:[e.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Kh√¥i ph·ª•c"]})]})]})]})})]})})},Uw=()=>{const{user:t}=_e(),[s,n]=l.useState(Ar),[a,r]=l.useState(Er),[i,c]=l.useState(Dr),[o,h]=l.useState(!1),d=(u,m)=>{n(p=>({...p,[u]:{...p[u],...m}}))},x=async()=>{h(!0);try{await new Promise(u=>setTimeout(u,1e3)),n(Ar),r(Er),c(Dr)}catch(u){console.error("Failed to fetch security data:",u)}finally{h(!1)}};return l.useEffect(()=>{x()},[]),o?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(se,{className:"h-8 w-8 animate-spin text-purple-600"}),e.jsx("span",{className:"ml-2",children:"ƒêang t·∫£i c·∫•u h√¨nh b·∫£o m·∫≠t..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"C√†i ƒë·∫∑t b·∫£o m·∫≠t"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Qu·∫£n l√Ω t∆∞·ªùng l·ª≠a, SSL, c·∫£nh b√°o b·∫£o m·∫≠t v√† sao l∆∞u h·ªá th·ªëng"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(w,{children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Firewall"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.firewall.enabled?"ON":"OFF"})]}),e.jsx(Ce,{className:k("h-8 w-8",s.firewall.enabled?"text-green-500":"text-gray-400")})]})})}),e.jsx(w,{children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"SSL"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.ssl.enabled?"ACTIVE":"INACTIVE"})]}),e.jsx(ss,{className:k("h-8 w-8",s.ssl.enabled?"text-green-500":"text-gray-400")})]})})}),e.jsx(w,{children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"C·∫£nh b√°o"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:a.filter(u=>!u.resolved).length})]}),e.jsx(ns,{className:"h-8 w-8 text-orange-500"})]})})}),e.jsx(w,{children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Backup"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.backup.status==="success"?"OK":"FAILED"})]}),e.jsx(vs,{className:k("h-8 w-8",s.backup.status==="success"?"text-blue-500":"text-red-500")})]})})})]}),e.jsxs(at,{defaultValue:"firewall",className:"space-y-6",children:[e.jsxs(Ye,{className:"grid w-full grid-cols-5",children:[e.jsxs(J,{value:"firewall",className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"h-4 w-4"}),"Firewall"]}),e.jsxs(J,{value:"ssl",className:"flex items-center gap-2",children:[e.jsx(ss,{className:"h-4 w-4"}),"SSL/TLS"]}),e.jsxs(J,{value:"alerts",className:"flex items-center gap-2",children:[e.jsx(ns,{className:"h-4 w-4"}),"C·∫£nh b√°o"]}),e.jsxs(J,{value:"logs",className:"flex items-center gap-2",children:[e.jsx(tn,{className:"h-4 w-4"}),"Logs"]}),e.jsxs(J,{value:"backup",className:"flex items-center gap-2",children:[e.jsx(vs,{className:"h-4 w-4"}),"Backup"]})]}),e.jsx(ee,{value:"firewall",children:e.jsx(zw,{config:s.firewall,onUpdate:u=>d("firewall",u)})}),e.jsx(ee,{value:"ssl",children:e.jsx(Bw,{config:s.ssl,onUpdate:u=>d("ssl",u)})}),e.jsx(ee,{value:"alerts",children:e.jsx(qw,{alerts:a})}),e.jsx(ee,{value:"logs",children:e.jsx(Hw,{logs:i})}),e.jsx(ee,{value:"backup",children:e.jsx(Vw,{config:s.backup,onUpdate:u=>d("backup",u)})})]})]})},Ir=[{id:"1",timestamp:"2024-01-15T15:30:25.123Z",level:"info",module:"auth",message:"User login successful",details:"User authenticated successfully with email",requestId:"req_123456",userId:"user_001",ip:"192.168.1.100",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",duration:125,statusCode:200,endpoint:"/api/auth/login"},{id:"2",timestamp:"2024-01-15T15:29:45.456Z",level:"error",module:"database",message:"Connection timeout",details:"Database connection pool exhausted, unable to acquire connection within timeout",requestId:"req_123455",ip:"192.168.1.101",duration:5e3,statusCode:500,endpoint:"/api/staff/requests"},{id:"3",timestamp:"2024-01-15T15:28:15.789Z",level:"warn",module:"api",message:"Rate limit exceeded",details:"Client has exceeded rate limit of 100 requests per minute",requestId:"req_123454",ip:"192.168.1.102",duration:1,statusCode:429,endpoint:"/api/staff/requests"},{id:"4",timestamp:"2024-01-15T15:27:30.012Z",level:"debug",module:"websocket",message:"WebSocket connection established",details:"New WebSocket connection from client",requestId:"ws_123453",ip:"192.168.1.103",userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36"},{id:"5",timestamp:"2024-01-15T15:26:45.345Z",level:"info",module:"email",message:"Email notification sent",details:"Daily report email sent to admin@hotel.com",requestId:"email_123452",duration:890,statusCode:200},{id:"6",timestamp:"2024-01-15T15:25:20.678Z",level:"error",module:"ai",message:"OpenAI API call failed",details:"OpenAI API returned 503 Service Unavailable",requestId:"req_123451",ip:"192.168.1.100",duration:2e3,statusCode:503,endpoint:"/api/ai/chat"},{id:"7",timestamp:"2024-01-15T15:24:55.901Z",level:"info",module:"backup",message:"Backup completed successfully",details:"Database backup completed, size: 2.1GB",duration:45e3,statusCode:200},{id:"8",timestamp:"2024-01-15T15:23:10.234Z",level:"warn",module:"security",message:"Failed login attempt",details:"User attempted login with incorrect credentials",requestId:"req_123450",userId:"user_002",ip:"192.168.1.104",userAgent:"curl/7.68.0",duration:100,statusCode:401,endpoint:"/api/auth/login"}],Rr={total:15420,byLevel:{debug:3240,info:8950,warn:2100,error:1050,fatal:80},byModule:{auth:2340,api:4560,database:1890,websocket:890,email:1200,ai:890,backup:340,security:1450,system:1860},recentErrors:25,averageResponseTime:245,errorRate:6.8},Wl=t=>{switch(t){case"debug":return"bg-blue-100 text-blue-800";case"info":return"bg-green-100 text-green-800";case"warn":return"bg-yellow-100 text-yellow-800";case"error":return"bg-red-100 text-red-800";case"fatal":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},zn=t=>{switch(t){case"debug":return e.jsx(Mn,{className:"h-4 w-4"});case"info":return e.jsx(Oe,{className:"h-4 w-4"});case"warn":return e.jsx(ns,{className:"h-4 w-4"});case"error":return e.jsx(Ts,{className:"h-4 w-4"});case"fatal":return e.jsx(ve,{className:"h-4 w-4"});default:return e.jsx(Mn,{className:"h-4 w-4"})}},Bn=t=>{switch(t){case"auth":return e.jsx(Ce,{className:"h-4 w-4"});case"api":return e.jsx(os,{className:"h-4 w-4"});case"database":return e.jsx(qt,{className:"h-4 w-4"});case"websocket":return e.jsx(ha,{className:"h-4 w-4"});case"email":return e.jsx(tn,{className:"h-4 w-4"});case"ai":return e.jsx(Qi,{className:"h-4 w-4"});case"backup":return e.jsx(vs,{className:"h-4 w-4"});case"security":return e.jsx(Ce,{className:"h-4 w-4"});case"system":return e.jsx(ca,{className:"h-4 w-4"});default:return e.jsx(sn,{className:"h-4 w-4"})}},Ql=t=>new Date(t).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3}),Zl=t=>t?t<1e3?`${t}ms`:`${(t/1e3).toFixed(2)}s`:"-",Gw=({log:t,isOpen:s,onClose:n})=>t?e.jsx("div",{className:k("fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",s?"block":"hidden"),children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Log Details"}),e.jsx(C,{variant:"ghost",size:"sm",onClick:n,children:e.jsx(Ts,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(v,{className:"text-sm font-medium",children:"Timestamp"}),e.jsx("p",{className:"text-sm font-mono",children:Ql(t.timestamp)})]}),e.jsxs("div",{children:[e.jsx(v,{className:"text-sm font-medium",children:"Level"}),e.jsxs("div",{className:"flex items-center gap-2",children:[zn(t.level),e.jsx(V,{className:Wl(t.level),children:t.level.toUpperCase()})]})]}),e.jsxs("div",{children:[e.jsx(v,{className:"text-sm font-medium",children:"Module"}),e.jsxs("div",{className:"flex items-center gap-2",children:[Bn(t.module),e.jsx("span",{className:"text-sm",children:t.module})]})]}),e.jsxs("div",{children:[e.jsx(v,{className:"text-sm font-medium",children:"Request ID"}),e.jsx("p",{className:"text-sm font-mono",children:t.requestId||"-"})]}),e.jsxs("div",{children:[e.jsx(v,{className:"text-sm font-medium",children:"User ID"}),e.jsx("p",{className:"text-sm font-mono",children:t.userId||"-"})]}),e.jsxs("div",{children:[e.jsx(v,{className:"text-sm font-medium",children:"IP Address"}),e.jsx("p",{className:"text-sm font-mono",children:t.ip||"-"})]}),e.jsxs("div",{children:[e.jsx(v,{className:"text-sm font-medium",children:"Duration"}),e.jsx("p",{className:"text-sm",children:Zl(t.duration)})]}),e.jsxs("div",{children:[e.jsx(v,{className:"text-sm font-medium",children:"Status Code"}),e.jsx("p",{className:"text-sm",children:t.statusCode||"-"})]})]}),e.jsxs("div",{children:[e.jsx(v,{className:"text-sm font-medium",children:"Message"}),e.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded border",children:t.message})]}),t.details&&e.jsxs("div",{children:[e.jsx(v,{className:"text-sm font-medium",children:"Details"}),e.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded border whitespace-pre-wrap",children:t.details})]}),t.userAgent&&e.jsxs("div",{children:[e.jsx(v,{className:"text-sm font-medium",children:"User Agent"}),e.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded border break-all",children:t.userAgent})]}),t.endpoint&&e.jsxs("div",{children:[e.jsx(v,{className:"text-sm font-medium",children:"Endpoint"}),e.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded border font-mono",children:t.endpoint})]})]})]})}):null,Kw=()=>{const{user:t}=_e(),[s,n]=l.useState(Ir),[a,r]=l.useState(Rr),[i,c]=l.useState(!1),[o,h]=l.useState(!1),[d,x]=l.useState(null),[u,m]=l.useState(!1),[p,f]=l.useState({level:"all",module:"all",startTime:"",endTime:"",search:"",requestId:"",userId:"",ip:""}),g=s.filter(b=>{const O=p.level==="all"||b.level===p.level,A=p.module==="all"||b.module===p.module,z=!p.search||b.message.toLowerCase().includes(p.search.toLowerCase())||b.details?.toLowerCase().includes(p.search.toLowerCase()),Q=!p.requestId||b.requestId?.includes(p.requestId),Y=!p.userId||b.userId?.includes(p.userId),G=!p.ip||b.ip?.includes(p.ip);let _=!0;return p.startTime&&(_=_&&new Date(b.timestamp)>=new Date(p.startTime)),p.endTime&&(_=_&&new Date(b.timestamp)<=new Date(p.endTime)),O&&A&&z&&Q&&Y&&G&&_}),y=b=>{x(b),m(!0)},j=async()=>{c(!0);try{await new Promise(Q=>setTimeout(Q,2e3));const b=g.map(Q=>`${Q.timestamp},${Q.level},${Q.module},"${Q.message}",${Q.requestId||""},${Q.userId||""},${Q.ip||""},${Q.statusCode||""}`).join(`
`),O=new Blob([b],{type:"text/csv"}),A=window.URL.createObjectURL(O),z=document.createElement("a");z.href=A,z.download=`system_logs_${new Date().toISOString().split("T")[0]}.csv`,z.click(),window.URL.revokeObjectURL(A)}catch(b){console.error("Export failed:",b)}finally{c(!1)}},T=async()=>{c(!0);try{await new Promise(b=>setTimeout(b,1e3)),n(Ir),r(Rr)}catch(b){console.error("Failed to fetch logs:",b)}finally{c(!1)}},M=()=>{f({level:"all",module:"all",startTime:"",endTime:"",search:"",requestId:"",userId:"",ip:""})};return l.useEffect(()=>{T()},[]),l.useEffect(()=>{if(!o)return;const b=setInterval(()=>{const O={id:Date.now().toString(),timestamp:new Date().toISOString(),level:["debug","info","warn","error"][Math.floor(Math.random()*4)],module:["auth","api","database","websocket"][Math.floor(Math.random()*4)],message:`Real-time log entry ${Date.now()}`,details:"Generated for real-time demonstration",requestId:`req_${Date.now()}`,ip:`192.168.1.${Math.floor(Math.random()*255)}`};n(A=>[O,...A.slice(0,99)])},3e3);return()=>clearInterval(b)},[o]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Logs"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Theo d√µi v√† ph√¢n t√≠ch logs h·ªá th·ªëng"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(te,{checked:o,onCheckedChange:h}),e.jsx(v,{className:"text-sm",children:"Real-time"})]}),e.jsxs(C,{onClick:T,disabled:i,children:[e.jsx(se,{className:k("h-4 w-4 mr-2",i&&"animate-spin")}),"Refresh"]}),e.jsxs(C,{onClick:j,disabled:i,children:[e.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(w,{children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Logs"}),e.jsx("p",{className:"text-2xl font-bold",children:a.total.toLocaleString()})]}),e.jsx(tn,{className:"h-8 w-8 text-blue-500"})]})})}),e.jsx(w,{children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Recent Errors"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:a.recentErrors})]}),e.jsx(ve,{className:"h-8 w-8 text-red-500"})]})})}),e.jsx(w,{children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Response Time"}),e.jsxs("p",{className:"text-2xl font-bold",children:[a.averageResponseTime,"ms"]})]}),e.jsx($e,{className:"h-8 w-8 text-green-500"})]})})}),e.jsx(w,{children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Error Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[a.errorRate,"%"]})]}),e.jsx(_s,{className:"h-8 w-8 text-orange-500"})]})})})]}),e.jsxs(at,{defaultValue:"logs",className:"space-y-6",children:[e.jsxs(Ye,{children:[e.jsx(J,{value:"logs",children:"Logs"}),e.jsx(J,{value:"stats",children:"Statistics"})]}),e.jsxs(ee,{value:"logs",className:"space-y-4",children:[e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(R,{className:"text-lg",children:"Filters"})}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(v,{htmlFor:"level",children:"Log Level"}),e.jsxs(ge,{value:p.level,onValueChange:b=>f({...p,level:b}),children:[e.jsx(ue,{children:e.jsx(pe,{})}),e.jsxs(me,{children:[e.jsx(E,{value:"all",children:"All Levels"}),e.jsx(E,{value:"debug",children:"Debug"}),e.jsx(E,{value:"info",children:"Info"}),e.jsx(E,{value:"warn",children:"Warning"}),e.jsx(E,{value:"error",children:"Error"}),e.jsx(E,{value:"fatal",children:"Fatal"})]})]})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"module",children:"Module"}),e.jsxs(ge,{value:p.module,onValueChange:b=>f({...p,module:b}),children:[e.jsx(ue,{children:e.jsx(pe,{})}),e.jsxs(me,{children:[e.jsx(E,{value:"all",children:"All Modules"}),e.jsx(E,{value:"auth",children:"Auth"}),e.jsx(E,{value:"api",children:"API"}),e.jsx(E,{value:"database",children:"Database"}),e.jsx(E,{value:"websocket",children:"WebSocket"}),e.jsx(E,{value:"email",children:"Email"}),e.jsx(E,{value:"ai",children:"AI"}),e.jsx(E,{value:"backup",children:"Backup"}),e.jsx(E,{value:"security",children:"Security"}),e.jsx(E,{value:"system",children:"System"})]})]})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"search",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ct,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(L,{id:"search",placeholder:"Search logs...",value:p.search,onChange:b=>f({...p,search:b.target.value}),className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"startTime",children:"Start Time"}),e.jsx(L,{id:"startTime",type:"datetime-local",value:p.startTime,onChange:b=>f({...p,startTime:b.target.value})})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"endTime",children:"End Time"}),e.jsx(L,{id:"endTime",type:"datetime-local",value:p.endTime,onChange:b=>f({...p,endTime:b.target.value})})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"requestId",children:"Request ID"}),e.jsx(L,{id:"requestId",placeholder:"Filter by request ID...",value:p.requestId,onChange:b=>f({...p,requestId:b.target.value})})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(C,{variant:"outline",onClick:M,children:"Clear Filters"})})]})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(R,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"System Logs"}),e.jsxs("div",{className:"flex items-center gap-2",children:[o&&e.jsxs(V,{variant:"outline",className:"text-green-600",children:[e.jsx(mt,{className:"h-3 w-3 mr-1"}),"Live"]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Showing ",g.length," of ",s.length," logs"]})]})]})}),e.jsx(N,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(dt,{children:[e.jsx(ht,{children:e.jsxs(Ie,{children:[e.jsx(q,{className:"w-[180px]",children:"Timestamp"}),e.jsx(q,{children:"Level"}),e.jsx(q,{children:"Module"}),e.jsx(q,{children:"Message"}),e.jsx(q,{children:"Request ID"}),e.jsx(q,{children:"Duration"}),e.jsx(q,{children:"Status"}),e.jsx(q,{children:"Actions"})]})}),e.jsx(ut,{children:g.map(b=>e.jsxs(Ie,{children:[e.jsx(H,{className:"font-mono text-sm",children:Ql(b.timestamp)}),e.jsx(H,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[zn(b.level),e.jsx(V,{className:Wl(b.level),children:b.level.toUpperCase()})]})}),e.jsx(H,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[Bn(b.module),b.module]})}),e.jsx(H,{className:"max-w-xs",children:e.jsx("div",{className:"truncate",title:b.message,children:b.message})}),e.jsx(H,{className:"font-mono text-sm",children:b.requestId&&e.jsx("span",{className:"text-blue-600 cursor-pointer hover:underline",children:b.requestId})}),e.jsx(H,{children:Zl(b.duration)}),e.jsx(H,{children:b.statusCode&&e.jsx(V,{variant:b.statusCode>=400?"destructive":"default",children:b.statusCode})}),e.jsx(H,{children:e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>y(b),children:e.jsx(kt,{className:"h-4 w-4"})})})]},b.id))})]})})})]})]}),e.jsx(ee,{value:"stats",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(R,{children:"Logs by Level"})}),e.jsx(N,{children:e.jsx("div",{className:"space-y-3",children:Object.entries(a.byLevel).map(([b,O])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[zn(b),e.jsx("span",{className:"capitalize",children:b})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${O/a.total*100}%`}})}),e.jsx("span",{className:"text-sm font-medium",children:O})]})]},b))})})]}),e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(R,{children:"Logs by Module"})}),e.jsx(N,{children:e.jsx("div",{className:"space-y-3",children:Object.entries(a.byModule).map(([b,O])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[Bn(b),e.jsx("span",{className:"capitalize",children:b})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${O/a.total*100}%`}})}),e.jsx("span",{className:"text-sm font-medium",children:O})]})]},b))})})]})]})})]}),e.jsx(Gw,{log:d,isOpen:u,onClose:()=>m(!1)})]})},Pr=[{id:"1",name:"OpenAI GPT",type:"ai",provider:"OpenAI",description:"AI-powered chatbot and content generation",status:"active",enabled:!0,config:{baseUrl:"https://api.openai.com/v1",apiKey:"sk-...",timeout:3e4,retryCount:3,rateLimitPerMinute:60},metrics:{totalRequests:15420,successRate:98.5,averageResponseTime:1250,lastRequest:"2024-01-15T15:30:00Z",uptime:99.8},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-15T10:00:00Z",lastSync:"2024-01-15T15:30:00Z"},{id:"2",name:"Stripe Payment",type:"payment",provider:"Stripe",description:"Payment processing and billing",status:"active",enabled:!0,config:{baseUrl:"https://api.stripe.com/v1",apiKey:"sk_live_...",timeout:1e4,retryCount:2,rateLimitPerMinute:100},metrics:{totalRequests:8950,successRate:99.9,averageResponseTime:450,lastRequest:"2024-01-15T15:25:00Z",uptime:99.9},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-15T12:00:00Z",lastSync:"2024-01-15T15:25:00Z"},{id:"3",name:"Twilio SMS",type:"notification",provider:"Twilio",description:"SMS notifications and alerts",status:"active",enabled:!0,config:{baseUrl:"https://api.twilio.com/2010-04-01",apiKey:"AC...",timeout:5e3,retryCount:3,rateLimitPerMinute:200},metrics:{totalRequests:2340,successRate:97.8,averageResponseTime:890,lastRequest:"2024-01-15T14:45:00Z",uptime:98.5},createdAt:"2024-01-05T00:00:00Z",updatedAt:"2024-01-15T09:00:00Z",lastSync:"2024-01-15T14:45:00Z"},{id:"4",name:"Google Places",type:"api",provider:"Google",description:"Location data and place information",status:"error",enabled:!1,config:{baseUrl:"https://maps.googleapis.com/maps/api/place",apiKey:"AIza...",timeout:8e3,retryCount:2,rateLimitPerMinute:50},metrics:{totalRequests:1250,successRate:45.2,averageResponseTime:2100,lastRequest:"2024-01-15T13:20:00Z",uptime:78.3},createdAt:"2024-01-10T00:00:00Z",updatedAt:"2024-01-15T13:20:00Z",lastSync:"2024-01-15T13:20:00Z"},{id:"5",name:"Slack Notifications",type:"webhook",provider:"Slack",description:"Team notifications and alerts",status:"active",enabled:!0,config:{webhookUrl:"https://hooks.slack.com/services/...",timeout:3e3,retryCount:2,rateLimitPerMinute:1},metrics:{totalRequests:450,successRate:100,averageResponseTime:320,lastRequest:"2024-01-15T15:00:00Z",uptime:100},createdAt:"2024-01-08T00:00:00Z",updatedAt:"2024-01-15T08:00:00Z",lastSync:"2024-01-15T15:00:00Z"}],Mr=[{id:"1",name:"Payment Webhook",url:"https://api.hotel.com/webhooks/payment",method:"POST",events:["payment.completed","payment.failed","payment.refunded"],active:!0,secret:"whsec_...",headers:{"Content-Type":"application/json","X-Webhook-Source":"hotel-system"},retryPolicy:{enabled:!0,maxRetries:3,retryDelay:1e3},logs:[{id:"1",timestamp:"2024-01-15T15:30:00Z",event:"payment.completed",statusCode:200,responseTime:245,success:!0},{id:"2",timestamp:"2024-01-15T15:25:00Z",event:"payment.failed",statusCode:500,responseTime:1e3,success:!1,error:"Internal server error"}]},{id:"2",name:"Booking Webhook",url:"https://api.hotel.com/webhooks/booking",method:"POST",events:["booking.created","booking.updated","booking.cancelled"],active:!0,secret:"whsec_...",headers:{"Content-Type":"application/json"},retryPolicy:{enabled:!0,maxRetries:5,retryDelay:2e3},logs:[]}],Lr=[{id:"1",name:"OpenAI Production",service:"OpenAI",type:"api_key",environment:"production",credentials:{apiKey:"sk-..."},lastUsed:"2024-01-15T15:30:00Z",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-15T10:00:00Z"},{id:"2",name:"Stripe Live",service:"Stripe",type:"api_key",environment:"production",credentials:{apiKey:"sk_live_..."},lastUsed:"2024-01-15T15:25:00Z",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-15T12:00:00Z"},{id:"3",name:"Google OAuth",service:"Google",type:"oauth",environment:"production",credentials:{clientId:"123456789-...",clientSecret:"GOCSPX-...",accessToken:"ya29.a0A...",refreshToken:"1//0G..."},expiresAt:"2024-01-16T15:30:00Z",lastUsed:"2024-01-15T13:20:00Z",createdAt:"2024-01-10T00:00:00Z",updatedAt:"2024-01-15T13:20:00Z"}],Ww=t=>{switch(t){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"error":return"bg-red-100 text-red-800";case"testing":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},Xl=t=>{switch(t){case"api":return e.jsx(os,{className:"h-4 w-4"});case"webhook":return e.jsx(Xd,{className:"h-4 w-4"});case"database":return e.jsx(qt,{className:"h-4 w-4"});case"payment":return e.jsx(en,{className:"h-4 w-4"});case"notification":return e.jsx(oa,{className:"h-4 w-4"});case"ai":return e.jsx(Qi,{className:"h-4 w-4"});case"analytics":return e.jsx(_s,{className:"h-4 w-4"});case"security":return e.jsx(Ce,{className:"h-4 w-4"});default:return e.jsx(Hd,{className:"h-4 w-4"})}},Sn=t=>new Date(t).toLocaleString("vi-VN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Qw=t=>new Intl.NumberFormat("vi-VN").format(t),Zw=({integration:t,isOpen:s,onClose:n,onSave:a})=>{const[r,i]=l.useState(t),[c,o]=l.useState(!1),[h,d]=l.useState(!1);l.useEffect(()=>{i(t)},[t]);const x=async()=>{if(r){o(!0);try{await new Promise(m=>setTimeout(m,1e3)),a(r),n()}catch(m){console.error("Failed to save integration:",m)}finally{o(!1)}}},u=async()=>{o(!0);try{await new Promise(m=>setTimeout(m,2e3)),alert("Integration test successful!")}catch{alert("Integration test failed!")}finally{o(!1)}};return!t||!r?null:e.jsx(At,{open:s,onOpenChange:n,children:e.jsxs(gt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(pt,{children:[e.jsxs(ft,{className:"flex items-center gap-2",children:[Xl(t.type),t.name]}),e.jsx(Et,{children:"C·∫•u h√¨nh chi ti·∫øt cho integration"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(v,{htmlFor:"name",children:"T√™n"}),e.jsx(L,{id:"name",value:r.name,onChange:m=>i({...r,name:m.target.value})})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"provider",children:"Provider"}),e.jsx(L,{id:"provider",value:r.provider,onChange:m=>i({...r,provider:m.target.value})})]})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"description",children:"M√¥ t·∫£"}),e.jsx(ze,{id:"description",value:r.description,onChange:m=>i({...r,description:m.target.value}),rows:2})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(v,{htmlFor:"baseUrl",children:"Base URL"}),e.jsx(L,{id:"baseUrl",value:r.config.baseUrl||"",onChange:m=>i({...r,config:{...r.config,baseUrl:m.target.value}})})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"timeout",children:"Timeout (ms)"}),e.jsx(L,{id:"timeout",type:"number",value:r.config.timeout||"",onChange:m=>i({...r,config:{...r.config,timeout:parseInt(m.target.value)}})})]})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"apiKey",children:"API Key"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(L,{id:"apiKey",type:h?"text":"password",value:r.config.apiKey||"",onChange:m=>i({...r,config:{...r.config,apiKey:m.target.value}})}),e.jsx(C,{type:"button",variant:"outline",size:"sm",onClick:()=>d(!h),children:h?e.jsx(Ui,{className:"h-4 w-4"}):e.jsx(kt,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(v,{htmlFor:"retryCount",children:"Retry Count"}),e.jsx(L,{id:"retryCount",type:"number",value:r.config.retryCount||"",onChange:m=>i({...r,config:{...r.config,retryCount:parseInt(m.target.value)}})})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"rateLimit",children:"Rate Limit/min"}),e.jsx(L,{id:"rateLimit",type:"number",value:r.config.rateLimitPerMinute||"",onChange:m=>i({...r,config:{...r.config,rateLimitPerMinute:parseInt(m.target.value)}})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(v,{children:"K√≠ch ho·∫°t"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"B·∫≠t/t·∫Øt integration n√†y"})]}),e.jsx(te,{checked:r.enabled,onCheckedChange:m=>i({...r,enabled:m})})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsxs(C,{variant:"outline",onClick:u,disabled:c,children:[e.jsx(Oe,{className:"h-4 w-4 mr-2"}),"Test Connection"]}),e.jsx(C,{onClick:x,disabled:c,children:c?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"h-4 w-4 mr-2 animate-spin"}),"ƒêang l∆∞u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"L∆∞u"]})})]})]})]})})},Xw=({isOpen:t,onClose:s,onAdd:n})=>{const[a,r]=l.useState({name:"",type:"api",provider:"",description:"",baseUrl:"",apiKey:"",timeout:3e4,retryCount:3,rateLimitPerMinute:100}),[i,c]=l.useState(!1),o=async h=>{h.preventDefault(),c(!0);try{await new Promise(x=>setTimeout(x,1e3));const d={id:Date.now().toString(),name:a.name,type:a.type,provider:a.provider,description:a.description,status:"inactive",enabled:!1,config:{baseUrl:a.baseUrl,apiKey:a.apiKey,timeout:a.timeout,retryCount:a.retryCount,rateLimitPerMinute:a.rateLimitPerMinute},metrics:{totalRequests:0,successRate:0,averageResponseTime:0,lastRequest:"",uptime:0},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),lastSync:""};n(d),s(),r({name:"",type:"api",provider:"",description:"",baseUrl:"",apiKey:"",timeout:3e4,retryCount:3,rateLimitPerMinute:100})}catch(d){console.error("Failed to add integration:",d)}finally{c(!1)}};return e.jsx(At,{open:t,onOpenChange:s,children:e.jsxs(gt,{className:"max-w-2xl",children:[e.jsxs(pt,{children:[e.jsx(ft,{children:"Th√™m Integration m·ªõi"}),e.jsx(Et,{children:"T·∫°o integration m·ªõi v·ªõi third-party service"})]}),e.jsxs("form",{onSubmit:o,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(v,{htmlFor:"name",children:"T√™n *"}),e.jsx(L,{id:"name",value:a.name,onChange:h=>r({...a,name:h.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"type",children:"Lo·∫°i *"}),e.jsxs(ge,{value:a.type,onValueChange:h=>r({...a,type:h}),children:[e.jsx(ue,{children:e.jsx(pe,{})}),e.jsxs(me,{children:[e.jsx(E,{value:"api",children:"API"}),e.jsx(E,{value:"webhook",children:"Webhook"}),e.jsx(E,{value:"database",children:"Database"}),e.jsx(E,{value:"payment",children:"Payment"}),e.jsx(E,{value:"notification",children:"Notification"}),e.jsx(E,{value:"ai",children:"AI"}),e.jsx(E,{value:"analytics",children:"Analytics"}),e.jsx(E,{value:"security",children:"Security"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"provider",children:"Provider *"}),e.jsx(L,{id:"provider",value:a.provider,onChange:h=>r({...a,provider:h.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"description",children:"M√¥ t·∫£"}),e.jsx(ze,{id:"description",value:a.description,onChange:h=>r({...a,description:h.target.value}),rows:2})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"baseUrl",children:"Base URL *"}),e.jsx(L,{id:"baseUrl",value:a.baseUrl,onChange:h=>r({...a,baseUrl:h.target.value}),placeholder:"https://api.example.com",required:!0})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"apiKey",children:"API Key *"}),e.jsx(L,{id:"apiKey",type:"password",value:a.apiKey,onChange:h=>r({...a,apiKey:h.target.value}),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(v,{htmlFor:"timeout",children:"Timeout (ms)"}),e.jsx(L,{id:"timeout",type:"number",value:a.timeout,onChange:h=>r({...a,timeout:parseInt(h.target.value)})})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"retryCount",children:"Retry Count"}),e.jsx(L,{id:"retryCount",type:"number",value:a.retryCount,onChange:h=>r({...a,retryCount:parseInt(h.target.value)})})]}),e.jsxs("div",{children:[e.jsx(v,{htmlFor:"rateLimit",children:"Rate Limit/min"}),e.jsx(L,{id:"rateLimit",type:"number",value:a.rateLimitPerMinute,onChange:h=>r({...a,rateLimitPerMinute:parseInt(h.target.value)})})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(C,{type:"button",variant:"outline",onClick:s,children:"H·ªßy"}),e.jsx(C,{type:"submit",disabled:i,children:i?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"h-4 w-4 mr-2 animate-spin"}),"ƒêang t·∫°o..."]}):e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"h-4 w-4 mr-2"}),"T·∫°o Integration"]})})]})]})]})})},Yw=()=>{const{user:t}=_e(),[s,n]=l.useState(Pr),[a,r]=l.useState(Mr),[i,c]=l.useState(Lr),[o,h]=l.useState(!1),[d,x]=l.useState(null),[u,m]=l.useState(!1),[p,f]=l.useState(!1),[g,y]=l.useState("all"),[j,T]=l.useState("all"),[M,b]=l.useState(""),O=s.filter(S=>{const K=g==="all"||S.status===g,$=j==="all"||S.type===j,X=!M||S.name.toLowerCase().includes(M.toLowerCase())||S.provider.toLowerCase().includes(M.toLowerCase());return K&&$&&X}),A=S=>{x(S),m(!0)},z=S=>{n(K=>K.map($=>$.id===S.id?S:$)),x(null)},Q=S=>{n(K=>[...K,S])},Y=S=>{confirm("B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a integration n√†y?")&&n(K=>K.filter($=>$.id!==S))},G=S=>{n(K=>K.map($=>$.id===S?{...$,enabled:!$.enabled,status:$.enabled?"inactive":"active"}:$))},_=async()=>{h(!0);try{await new Promise(S=>setTimeout(S,1e3)),n(Pr),r(Mr),c(Lr)}catch(S){console.error("Failed to fetch integrations:",S)}finally{h(!1)}};return l.useEffect(()=>{_()},[]),o?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(se,{className:"h-8 w-8 animate-spin text-purple-600"}),e.jsx("span",{className:"ml-2",children:"ƒêang t·∫£i integrations..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Integrations"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Qu·∫£n l√Ω t√≠ch h·ª£p v·ªõi c√°c d·ªãch v·ª• b√™n th·ª© ba"})]}),e.jsxs(C,{onClick:()=>f(!0),children:[e.jsx(bt,{className:"h-4 w-4 mr-2"}),"Th√™m Integration"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(w,{children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Integrations"}),e.jsx("p",{className:"text-2xl font-bold",children:s.length})]}),e.jsx(ua,{className:"h-8 w-8 text-blue-500"})]})})}),e.jsx(w,{children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.filter(S=>S.status==="active").length})]}),e.jsx(Oe,{className:"h-8 w-8 text-green-500"})]})})}),e.jsx(w,{children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Errors"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:s.filter(S=>S.status==="error").length})]}),e.jsx(Ts,{className:"h-8 w-8 text-red-500"})]})})}),e.jsx(w,{children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Success Rate"}),e.jsxs("p",{className:"text-2xl font-bold",children:[(s.reduce((S,K)=>S+K.metrics.successRate,0)/s.length).toFixed(1),"%"]})]}),e.jsx($e,{className:"h-8 w-8 text-blue-500"})]})})})]}),e.jsxs(at,{defaultValue:"integrations",className:"space-y-6",children:[e.jsxs(Ye,{className:"grid w-full grid-cols-3",children:[e.jsx(J,{value:"integrations",children:"Integrations"}),e.jsx(J,{value:"webhooks",children:"Webhooks"}),e.jsx(J,{value:"credentials",children:"Credentials"})]}),e.jsxs(ee,{value:"integrations",className:"space-y-4",children:[e.jsxs(w,{children:[e.jsx(I,{children:e.jsx(R,{children:"Filters"})}),e.jsx(N,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ct,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(L,{placeholder:"T√¨m ki·∫øm integrations...",value:M,onChange:S=>b(S.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ge,{value:g,onValueChange:y,children:[e.jsx(ue,{className:"w-[150px]",children:e.jsx(pe,{})}),e.jsxs(me,{children:[e.jsx(E,{value:"all",children:"All Status"}),e.jsx(E,{value:"active",children:"Active"}),e.jsx(E,{value:"inactive",children:"Inactive"}),e.jsx(E,{value:"error",children:"Error"}),e.jsx(E,{value:"testing",children:"Testing"})]})]}),e.jsxs(ge,{value:j,onValueChange:T,children:[e.jsx(ue,{className:"w-[150px]",children:e.jsx(pe,{})}),e.jsxs(me,{children:[e.jsx(E,{value:"all",children:"All Types"}),e.jsx(E,{value:"api",children:"API"}),e.jsx(E,{value:"webhook",children:"Webhook"}),e.jsx(E,{value:"payment",children:"Payment"}),e.jsx(E,{value:"notification",children:"Notification"}),e.jsx(E,{value:"ai",children:"AI"})]})]})]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:O.map(S=>e.jsxs(w,{children:[e.jsxs(I,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[Xl(S.type),e.jsx(R,{className:"text-lg",children:S.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{className:Ww(S.status),children:S.status.toUpperCase()}),e.jsx(te,{checked:S.enabled,onCheckedChange:()=>G(S.id)})]})]}),e.jsx(U,{children:S.description})]}),e.jsxs(N,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Provider:"}),e.jsx("span",{className:"font-medium",children:S.provider})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Success Rate:"}),e.jsxs("span",{className:"font-medium",children:[S.metrics.successRate,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Requests:"}),e.jsx("span",{className:"font-medium",children:Qw(S.metrics.totalRequests)})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Avg Response:"}),e.jsxs("span",{className:"font-medium",children:[S.metrics.averageResponseTime,"ms"]})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Uptime:"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(ct,{value:S.metrics.uptime,className:"h-2"}),e.jsxs("span",{className:"font-medium",children:[S.metrics.uptime,"%"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Last sync: ",S.lastSync?Sn(S.lastSync):"Never"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>A(S),children:e.jsx(Ft,{className:"h-4 w-4"})}),e.jsx(C,{variant:"ghost",size:"sm",onClick:()=>Y(S.id),children:e.jsx(Ot,{className:"h-4 w-4"})})]})]})]})]},S.id))})]}),e.jsx(ee,{value:"webhooks",className:"space-y-4",children:e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(R,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Webhook Endpoints"}),e.jsxs(C,{size:"sm",children:[e.jsx(bt,{className:"h-4 w-4 mr-2"}),"Add Webhook"]})]})}),e.jsx(N,{children:e.jsxs(dt,{children:[e.jsx(ht,{children:e.jsxs(Ie,{children:[e.jsx(q,{children:"Name"}),e.jsx(q,{children:"URL"}),e.jsx(q,{children:"Method"}),e.jsx(q,{children:"Events"}),e.jsx(q,{children:"Status"}),e.jsx(q,{children:"Actions"})]})}),e.jsx(ut,{children:a.map(S=>e.jsxs(Ie,{children:[e.jsx(H,{className:"font-medium",children:S.name}),e.jsx(H,{className:"font-mono text-sm",children:S.url}),e.jsx(H,{children:e.jsx(V,{variant:"outline",children:S.method})}),e.jsx(H,{children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[S.events.slice(0,2).map((K,$)=>e.jsx(V,{variant:"secondary",className:"text-xs",children:K},$)),S.events.length>2&&e.jsxs(V,{variant:"secondary",className:"text-xs",children:["+",S.events.length-2]})]})}),e.jsx(H,{children:e.jsx(V,{className:S.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:S.active?"Active":"Inactive"})}),e.jsx(H,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(C,{variant:"ghost",size:"sm",children:e.jsx(Ft,{className:"h-4 w-4"})}),e.jsx(C,{variant:"ghost",size:"sm",children:e.jsx(kt,{className:"h-4 w-4"})}),e.jsx(C,{variant:"ghost",size:"sm",children:e.jsx(Ot,{className:"h-4 w-4"})})]})})]},S.id))})]})})]})}),e.jsx(ee,{value:"credentials",className:"space-y-4",children:e.jsxs(w,{children:[e.jsx(I,{children:e.jsxs(R,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"API Credentials"}),e.jsxs(C,{size:"sm",children:[e.jsx(bt,{className:"h-4 w-4 mr-2"}),"Add Credential"]})]})}),e.jsx(N,{children:e.jsxs(dt,{children:[e.jsx(ht,{children:e.jsxs(Ie,{children:[e.jsx(q,{children:"Name"}),e.jsx(q,{children:"Service"}),e.jsx(q,{children:"Type"}),e.jsx(q,{children:"Environment"}),e.jsx(q,{children:"Expires"}),e.jsx(q,{children:"Last Used"}),e.jsx(q,{children:"Actions"})]})}),e.jsx(ut,{children:i.map(S=>e.jsxs(Ie,{children:[e.jsx(H,{className:"font-medium",children:S.name}),e.jsx(H,{children:S.service}),e.jsx(H,{children:e.jsx(V,{variant:"outline",children:S.type})}),e.jsx(H,{children:e.jsx(V,{className:k(S.environment==="production"?"bg-red-100 text-red-800":S.environment==="staging"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:S.environment})}),e.jsx(H,{children:S.expiresAt?Sn(S.expiresAt):"Never"}),e.jsx(H,{children:S.lastUsed?Sn(S.lastUsed):"Never"}),e.jsx(H,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(C,{variant:"ghost",size:"sm",children:e.jsx(Ft,{className:"h-4 w-4"})}),e.jsx(C,{variant:"ghost",size:"sm",children:e.jsx(se,{className:"h-4 w-4"})}),e.jsx(C,{variant:"ghost",size:"sm",children:e.jsx(Ot,{className:"h-4 w-4"})})]})})]},S.id))})]})})]})})]}),e.jsx(Zw,{integration:d,isOpen:u,onClose:()=>m(!1),onSave:z}),e.jsx(Xw,{isOpen:p,onClose:()=>f(!1),onAdd:Q})]})},Ae=({children:t,requireAuth:s=!0,requiredRole:n,redirectTo:a="/login"})=>{const{user:r,isAuthenticated:i,isLoading:c}=_e(),[,o]=as();return l.useEffect(()=>{if(!c&&s&&!i){o(a);return}},[i,c,r,s,n,a,o]),c?e.jsx(qn,{}):s&&!i?null:e.jsx(e.Fragment,{children:t})},Jw=Me.lazy(()=>Nt(()=>import("./CallHistory-CNZGHJmP.js"),__vite__mapDeps([2,3,1,4,5,6]))),eN=Me.lazy(()=>Nt(()=>import("./CallDetails-Cn583Ynd.js"),__vite__mapDeps([7,3,1,4,5,6]))),qn=()=>e.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"ƒêang t·∫£i..."})]})}),tN=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"container mx-auto",children:e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Ki·ªÉm tra T√≠nh nƒÉng Email"}),e.jsx(Ne,{href:"/",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90",children:"Quay l·∫°i Trang Ch√≠nh"})]})})}),sN=()=>{const{login:t,isLoading:s}=_e(),[,n]=as(),[a,r]=l.useState(""),[i,c]=l.useState(""),[o,h]=l.useState(""),[d,x]=l.useState(!1),u=async m=>{m.preventDefault(),h("");try{await t(a,i),n("/dashboard")}catch(p){h(p.message||"ƒêƒÉng nh·∫≠p th·∫•t b·∫°i")}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"ƒêƒÉng nh·∫≠p Dashboard"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Ho·∫∑c"," ",e.jsx(Ne,{href:"/",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"quay l·∫°i trang ch√≠nh"})]})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[e.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[e.jsx("div",{children:e.jsx("input",{id:"email",name:"email",type:"text",autoComplete:"username",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"T√™n ƒëƒÉng nh·∫≠p ho·∫∑c email",value:a,onChange:m=>r(m.target.value)})}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",name:"password",type:d?"text":"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"M·∫≠t kh·∫©u",value:i,onChange:m=>c(m.target.value)}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>x(!d),children:d?e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):e.jsxs("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),o&&e.jsx("div",{className:"text-red-600 text-sm text-center",children:o}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:s?"ƒêang ƒëƒÉng nh·∫≠p...":"ƒêƒÉng nh·∫≠p"})})]})]})})},nN=()=>e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Kh√¥ng c√≥ quy·ªÅn truy c·∫≠p"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"B·∫°n kh√¥ng c√≥ quy·ªÅn truy c·∫≠p v√†o trang n√†y."}),e.jsx(Ne,{href:"/",className:"text-indigo-600 hover:text-indigo-500",children:"Quay l·∫°i trang ch√≠nh"})]})});function aN(){const t=uo(),{isAuthenticated:s}=_e();return console.log("[DEBUG] Router render",{tenantInfo:t,isAuthenticated:s}),t?e.jsx(l.Suspense,{fallback:e.jsx(qn,{}),children:e.jsxs(dd,{children:[e.jsx(oe,{path:"/",component:cs}),e.jsx(oe,{path:"/interface1",component:cs}),e.jsx(oe,{path:"/interface2",component:cs}),e.jsx(oe,{path:"/interface3",component:cs}),e.jsx(oe,{path:"/interface4",component:cs}),e.jsx(oe,{path:"/call-history",component:Jw}),e.jsx(oe,{path:"/call-details/:callId",component:eN}),e.jsx(oe,{path:"/email-test",component:tN}),e.jsx(oe,{path:"/staff",component:w1}),e.jsx(oe,{path:"/staff/dashboard",component:wo}),e.jsx(oe,{path:"/analytics",component:N1}),e.jsx(oe,{path:"/login",component:sN}),e.jsx(oe,{path:"/unauthorized",component:nN}),e.jsx(oe,{path:"/unified-dashboard",children:e.jsx(Ae,{requireAuth:!0,children:e.jsx(tt,{children:e.jsx(ew,{})})})}),e.jsx(oe,{path:"/unified-dashboard/requests",children:e.jsx(Ae,{requireAuth:!0,children:e.jsx(tt,{children:e.jsx(fw,{})})})}),e.jsx(oe,{path:"/unified-dashboard/analytics",children:e.jsx(Ae,{requireAuth:!0,children:e.jsx(tt,{children:e.jsx(vw,{})})})}),e.jsx(oe,{path:"/unified-dashboard/staff-management",children:e.jsx(Ae,{requireAuth:!0,children:e.jsx(tt,{children:e.jsx(ww,{})})})}),e.jsx(oe,{path:"/unified-dashboard/system-monitoring",children:e.jsx(Ae,{requireAuth:!0,children:e.jsx(tt,{children:e.jsx(Tw,{})})})}),e.jsx(oe,{path:"/unified-dashboard/settings",children:e.jsx(Ae,{requireAuth:!0,children:e.jsx(tt,{children:e.jsx(Iw,{})})})}),e.jsx(oe,{path:"/unified-dashboard/guest-management",children:e.jsx(Ae,{requireAuth:!0,children:e.jsx(tt,{children:e.jsx(Fw,{})})})}),e.jsx(oe,{path:"/unified-dashboard/security",children:e.jsx(Ae,{requireAuth:!0,children:e.jsx(tt,{children:e.jsx(Uw,{})})})}),e.jsx(oe,{path:"/unified-dashboard/logs",children:e.jsx(Ae,{requireAuth:!0,children:e.jsx(tt,{children:e.jsx(Kw,{})})})}),e.jsx(oe,{path:"/unified-dashboard/integrations",children:e.jsx(Ae,{requireAuth:!0,children:e.jsx(tt,{children:e.jsx(Yw,{})})})}),e.jsx(oe,{path:"/dashboard",children:e.jsx(Ae,{requireAuth:!0,children:e.jsx(Mt,{children:e.jsx(J1,{})})})}),e.jsx(oe,{path:"/dashboard/setup",children:e.jsx(Ae,{requireAuth:!0,children:e.jsx(Mt,{children:e.jsx(b2,{})})})}),e.jsx(oe,{path:"/dashboard/assistant",children:e.jsx(Ae,{requireAuth:!0,children:e.jsx(Mt,{children:e.jsx(R2,{})})})}),e.jsx(oe,{path:"/dashboard/analytics",children:e.jsx(Ae,{requireAuth:!0,children:e.jsx(Mt,{children:e.jsx(O2,{})})})}),e.jsx(oe,{path:"/dashboard/settings",children:e.jsx(Ae,{requireAuth:!0,children:e.jsx(Mt,{children:e.jsx(U2,{})})})}),e.jsx(oe,{path:"/dashboard/billing",children:e.jsx(Ae,{requireAuth:!0,children:e.jsx(Mt,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Thanh to√°n & ƒêƒÉng k√Ω"}),e.jsx("p",{className:"text-gray-600",children:"Trang qu·∫£n l√Ω thanh to√°n ƒëang ƒë∆∞·ª£c ph√°t tri·ªÉn..."})]})})})}),e.jsx(oe,{path:"/dashboard/team",children:e.jsx(Ae,{requireAuth:!0,requiredRole:"admin",children:e.jsx(Mt,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Qu·∫£n l√Ω Nh√≥m"}),e.jsx("p",{className:"text-gray-600",children:"Trang qu·∫£n l√Ω nh√≥m ƒëang ƒë∆∞·ª£c ph√°t tri·ªÉn..."})]})})})}),e.jsx(oe,{component:p1})]})}):e.jsx(qn,{})}function rN(){return console.log("[DEBUG] AppContent render"),f1(),e.jsxs(di,{children:[e.jsx(aN,{}),e.jsx(th,{})]})}function iN(){return console.log("[DEBUG] App render"),e.jsx(Ec,{children:e.jsx(fu,{children:e.jsx(d1,{children:e.jsx(bu,{children:e.jsx(rN,{})})})})})}const oN=t=>{try{const n=JSON.parse(atob(t.split(".")[1])).exp*1e3,a=Date.now(),r=a>=n;return r&&console.log("‚è∞ [AuthHelper] Token expired:",new Date(n),"vs now:",new Date(a)),r}catch(s){return console.error("‚ùå [AuthHelper] Failed to decode token:",s),!0}},un=async()=>{let t=localStorage.getItem("token")||sessionStorage.getItem("token");if(t)if(oN(t))console.log("‚è∞ [AuthHelper] Token expired, generating new one..."),localStorage.removeItem("token"),sessionStorage.removeItem("token"),t=null;else return console.log("‚úÖ [AuthHelper] Valid token found"),t;return null},Cs=async()=>{const t={"Content-Type":"application/json"},s=await un();return s&&(t.Authorization=`Bearer ${s}`),t},lN=async(t,s={})=>{const n=async i=>fetch(t,{...s,headers:{...i,...s.headers}});let a=await Cs(),r=await n(a);return r.status===403&&(console.log("üîÑ [AuthHelper] 403 error, retrying with fresh token..."),localStorage.removeItem("token"),sessionStorage.removeItem("token"),a=await Cs(),r=await n(a),r.status===403?console.error("‚ùå [AuthHelper] Still 403 after token refresh - auth may be broken"):console.log("‚úÖ [AuthHelper] Success after token refresh!")),r},Yl=Object.freeze(Object.defineProperty({__proto__:null,authenticatedFetch:lN,getAuthHeaders:Cs,getAuthToken:un},Symbol.toStringTag,{value:"Module"})),cN={async testLogin(t="manager"){console.log(`üîê [DebugAuth] Testing login with ${t}...`);const s={manager:{email:"manager",password:"manager123"},frontdesk:{email:"frontdesk",password:"frontdesk123"},itmanager:{email:"itmanager",password:"itmanager123"}},n=s[t]||s.manager;try{const a=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(console.log("üìã [DebugAuth] Login response status:",a.status),a.ok){const r=await a.json();return console.log("‚úÖ [DebugAuth] Login successful:",r),r}else{const r=await a.text();return console.error("‚ùå [DebugAuth] Login failed:",r),t==="manager"?(console.log("üîÑ [DebugAuth] Manager failed, trying frontdesk..."),await this.testLogin("frontdesk")):null}}catch(a){return console.error("‚ùå [DebugAuth] Login error:",a),null}},async testGetAuthToken(){console.log("üé´ [DebugAuth] Testing getAuthToken...");try{const t=await un();return console.log("‚úÖ [DebugAuth] Got token:",t?"YES":"NO"),t}catch(t){return console.error("‚ùå [DebugAuth] getAuthToken error:",t),null}},async testAuthHeaders(){console.log("üìã [DebugAuth] Testing auth headers...");try{const t=await Cs();return console.log("‚úÖ [DebugAuth] Auth headers:",t),t}catch(t){return console.error("‚ùå [DebugAuth] Auth headers error:",t),null}},async testApiRequest(){console.log("üåê [DebugAuth] Testing authenticated API request...");try{const t=await Cs(),s=await fetch("/api/request",{method:"GET",headers:t});if(console.log("üìã [DebugAuth] API request status:",s.status),s.ok){const n=await s.json();return console.log("‚úÖ [DebugAuth] API request successful"),n}else{const n=await s.text();return console.error("‚ùå [DebugAuth] API request failed:",n),null}}catch(t){return console.error("‚ùå [DebugAuth] API request error:",t),null}},async clearTokens(){console.log("üßπ [DebugAuth] Clearing all stored tokens..."),localStorage.removeItem("token"),sessionStorage.removeItem("token"),localStorage.removeItem("dev_auth_token"),console.log("‚úÖ [DebugAuth] Tokens cleared")},async forceRefreshToken(){return console.log("üîÑ [DebugAuth] Force refreshing token..."),await this.clearTokens(),await this.testGetAuthToken()},async runFullTest(){console.log("üß™ [DebugAuth] Running full authentication test...");const t={login:await this.testLogin(),token:await this.testGetAuthToken(),headers:await this.testAuthHeaders(),apiRequest:await this.testApiRequest()};if(console.log("üìä [DebugAuth] Full test results:",t),!t.apiRequest){console.log("üîÑ [DebugAuth] API request failed, trying with fresh token..."),await this.forceRefreshToken();const s=await this.testApiRequest();t.retryWithFreshToken=s}return t}};typeof window<"u"&&(window.debugAuth=cN);const dN=async()=>{try{console.log("üöÄ [Main] Starting authentication initialization..."),localStorage.removeItem("token"),sessionStorage.removeItem("token"),localStorage.removeItem("dev_auth_token"),console.log("üßπ [Main] Cleared all existing tokens to test new credentials"),await un()?(console.log("‚úÖ [Main] Fresh authentication token generated successfully"),console.log("üé´ [Main] Token stored in localStorage")):(console.warn("‚ö†Ô∏è [Main] Failed to generate authentication token"),console.log("üîß [Main] You can run: debugAuth.runFullTest() in console to debug"))}catch(t){console.error("‚ùå [Main] Failed to initialize authentication:",t),console.log("üîß [Main] You can run: debugAuth.runFullTest() in console to debug")}};console.log("üöÄ [Main] App starting - initializing authentication...");dN();An.createRoot(document.getElementById("root")).render(e.jsx(Me.StrictMode,{children:e.jsx(iN,{})}));export{Ne as L,rn as S,tr as a,Kh as b,ou as c,Xh as d,Pe as e,ao as f,fN as g,on as i,Xe as n,su as p,Qh as r,pN as s,Wh as t,od as u};
