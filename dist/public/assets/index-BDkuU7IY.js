const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CallHistory-BP1vSUCO.js","assets/react-BlJs-Rj_.js","assets/@daily-co-CRt2XSsO.js","assets/@tanstack-MNH5btz0.js","assets/wouter-DEv3FHN2.js","assets/regexparam-CPXopyEH.js","assets/use-sync-external-store-T8uco2Ip.js","assets/CallDetails-nJ_1x3lq.js"])))=>i.map(i=>d[i]);
import{r as i,j as e,R as Be}from"./react-BlJs-Rj_.js";import{R as Lt,c as fn}from"./react-dom-qFx4IFJ8.js";import{L as Ie,u as rt,S as bn,R as ae}from"./wouter-DEv3FHN2.js";import{V as ns,R as as,A as is,C as rs,T as os,D as ls,P as jn,S as vn,a as cs,I as ds,F as ms,b as hs,c as us,d as yn,e as xs,f as gs,g as ps,h as fs,i as bs,L as js,j as vs,k as Nn,l as wn,m as ys,n as _n,o as Ns,p as ws,q as kn,r as _s,s as ks,t as Sn,u as Ss,v as Cn,w as Cs,x as $s,y as $n,z as Tn,B as Ts,E as An,G as In,H as As,J as Dn,K as Is,M as Rn,N as Ds,O as Rs,Q as Es,U as En}from"./@radix-ui-BzTdPly_.js";import{c as Ye}from"./class-variance-authority-Dp3B9jqt.js";import{c as Pn}from"./clsx-B-dksMZM.js";import{t as Mn}from"./tailwind-merge-D696Ktp4.js";import{X as ot,C as $e,I as Ln,H as Fn,R as It,a as Oe,b as Dt,c as On,B as Bn,d as zn,e as ze,f as Hn,S as He,M as qn,g as Ps,h as Vn,L as Un,i as Gn,U as lt,P as qe,j as Xe,T as ct,G as dt,A as mt,k as Wn,l as Ve,m as Rt,n as Re,o as Kn,p as Ft,q as Ee,r as $t,s as Ms,E as Yn,t as Xn,W as Zn,u as Jn,v as Qn,w as ea,V as Ot,x as ta,y as Ze,z as Bt,D as sa,F as Ls,J as na,K as aa,N as ia,O as Fs,Q as ra}from"./lucide-react-DFl-GSHs.js";import{_ as oa}from"./@vapi-ai-DrvmIiYL.js";import{Q as la}from"./@tanstack-MNH5btz0.js";import{j as zt}from"./jwt-decode-VWaDGczM.js";import{S as ca,N as da,P as ma,A as ha,a as ua}from"./swiper-CfFrfE8b.js";import{F as xa,a as Os,b as ga}from"./react-icons-D-KLi9l9.js";import{u as Bs}from"./react-router-DvHbwIsR.js";import{B as pa}from"./react-router-dom-BMXKYxTf.js";import{R as Nt,P as fa,a as ba,C as ja,T as wt,B as va,b as Ht,X as qt,Y as Vt,L as Ut,c as ya,d as Na,e as wa}from"./recharts--MJSPD-2.js";import"./@daily-co-CRt2XSsO.js";import"./scheduler-DYLXRpC5.js";import"./regexparam-CPXopyEH.js";import"./use-sync-external-store-T8uco2Ip.js";import"./aria-hidden-DvXkyWUv.js";import"./react-remove-scroll-BtL_ZE21.js";import"./tslib-CDuPK5Eb.js";import"./react-remove-scroll-bar-BrVopqW4.js";import"./react-style-singleton-QOKzqUsk.js";import"./get-nonce-C-Z93AgS.js";import"./use-sidecar-1JKJ7J1d.js";import"./use-callback-ref-5JKzev4p.js";import"./@floating-ui-cGkqCjD2.js";import"./events-CXH2uRM3.js";import"./@remix-run-DBo92Irb.js";import"./lodash-86XxYiBf.js";import"./react-smooth-Cmz7w04I.js";import"./prop-types-CwuqRrCR.js";import"./fast-equals-BIyco3rD.js";import"./tiny-invariant-BaFNuDhB.js";import"./d3-shape-nwul2LtV.js";import"./d3-path-CimkQT29.js";import"./victory-vendor-eFgrrWDw.js";import"./d3-scale-DCNNTN8k.js";import"./internmap-BkD7Hj8s.js";import"./d3-array-g_qRI3rN.js";import"./d3-time-format-j2_s_XYn.js";import"./d3-time-g9mLz1m7.js";import"./d3-interpolate-CvRPKVI0.js";import"./d3-color-9lF95FHy.js";import"./d3-format-CzD4bSOQ.js";import"./recharts-scale-CEDTliZZ.js";import"./decimal.js-light-ZKFLnszB.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const r of c)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function n(c){const r={};return c.integrity&&(r.integrity=c.integrity),c.referrerPolicy&&(r.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?r.credentials="include":c.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(c){if(c.ep)return;c.ep=!0;const r=n(c);fetch(c.href,r)}})();const _a="modulepreload",ka=function(t){return"/"+t},Gt={},zs=function(s,n,a){let c=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));c=Promise.allSettled(n.map(m=>{if(m=ka(m),m in Gt)return;Gt[m]=!0;const d=m.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${h}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":_a,d||(f.as="script"),f.crossOrigin="",f.href=m,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((j,v)=>{f.addEventListener("load",j),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${m}`)))})}))}function r(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return c.then(o=>{for(const l of o||[])l.status==="rejected"&&r(l.reason);return s().catch(r)})};class Sa extends i.Component{constructor(s){super(s),this.state={hasError:!1,error:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,n){console.error("Uncaught error in component tree:",s,n)}render(){return this.state.hasError?e.jsx("div",{className:"flex items-center justify-center h-screen p-4 bg-gray-50",children:e.jsxs("div",{className:"max-w-md text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-2",children:"Something went wrong."}),e.jsx("p",{className:"text-gray-700 mb-4",children:"An unexpected error occurred. Please try refreshing the page or contact support if the problem persists."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Reload Page"})]})}):this.props.children}}const Ca=1,$a=1e6;let _t=0;function Ta(){return _t=(_t+1)%Number.MAX_SAFE_INTEGER,_t.toString()}const kt=new Map,Wt=t=>{if(kt.has(t))return;const s=setTimeout(()=>{kt.delete(t),Ke({type:"REMOVE_TOAST",toastId:t})},$a);kt.set(t,s)},Aa=(t,s)=>{switch(s.type){case"ADD_TOAST":return{...t,toasts:[s.toast,...t.toasts].slice(0,Ca)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===s.toast.id?{...n,...s.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=s;return n?Wt(n):t.toasts.forEach(a=>{Wt(a.id)}),{...t,toasts:t.toasts.map(a=>a.id===n||n===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==s.toastId)}}},st=[];let nt={toasts:[]};function Ke(t){nt=Aa(nt,t),st.forEach(s=>{s(nt)})}function Ia({...t}){const s=Ta(),n=c=>Ke({type:"UPDATE_TOAST",toast:{...c,id:s}}),a=()=>Ke({type:"DISMISS_TOAST",toastId:s});return Ke({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:c=>{c||a()}}}),{id:s,dismiss:a,update:n}}function Da(){const[t,s]=i.useState(nt);return i.useEffect(()=>(st.push(s),()=>{const n=st.indexOf(s);n>-1&&st.splice(n,1)}),[t]),{...t,toast:Ia,dismiss:n=>Ke({type:"DISMISS_TOAST",toastId:n})}}function S(...t){return Mn(Pn(t))}const Ra=jn,Hs=i.forwardRef(({className:t,...s},n)=>e.jsx(ns,{ref:n,className:S("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...s}));Hs.displayName=ns.displayName;const Ea=Ye("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-dark",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),qs=i.forwardRef(({className:t,variant:s,...n},a)=>e.jsx(as,{ref:a,className:S(Ea({variant:s}),t),...n}));qs.displayName=as.displayName;const Pa=i.forwardRef(({className:t,...s},n)=>e.jsx(is,{ref:n,className:S("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...s}));Pa.displayName=is.displayName;const Vs=i.forwardRef(({className:t,...s},n)=>e.jsx(rs,{ref:n,className:S("absolute right-2 top-2 rounded-md p-1 text-dark/50 opacity-0 transition-opacity hover:text-dark focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...s,children:e.jsx(ot,{className:"h-4 w-4"})}));Vs.displayName=rs.displayName;const Us=i.forwardRef(({className:t,...s},n)=>e.jsx(os,{ref:n,className:S("text-sm font-semibold",t),...s}));Us.displayName=os.displayName;const Gs=i.forwardRef(({className:t,...s},n)=>e.jsx(ls,{ref:n,className:S("text-sm opacity-90",t),...s}));Gs.displayName=ls.displayName;function Ma(){const{toasts:t}=Da();return e.jsxs(Ra,{children:[t.map(function({id:s,title:n,description:a,action:c,...r}){return e.jsxs(qs,{...r,children:[e.jsxs("div",{className:"grid gap-1",children:[n&&e.jsx(Us,{children:n}),a&&e.jsx(Gs,{children:a})]}),c,e.jsx(Vs,{})]},s)}),e.jsx(Hs,{})]})}function La(t,s){if(t===s)return 1;if(t.length===0||s.length===0)return 0;const n=t.length>s.length?t:s,a=t.length>s.length?s:t;if(n.includes(a))return a.length/n.length;let c=0;for(let r=0;r<a.length;r++)n.includes(a[r])&&c++;return c/a.length}function Fa(t,s=.8){const n=[],a=new Map;for(const c of t){const r=c.name.toLowerCase().replace(/\s+/g," ").trim();let o=!1;const l=Array.from(a.keys());for(const m of l)if(La(r,m)>s){o=!0;break}o||(a.set(r,!0),n.push(c))}return n}const ht={roomNumber:/(?:room(?:\s+number)?|room|phÃ²ng)(?:\s*[:#\-]?\s*)([0-9]{1,4}[A-Za-z]?)|(?:staying in|in room|in phÃ²ng|phÃ²ng sá»‘)(?:\s+)([0-9]{1,4}[A-Za-z]?)/i,specialInstructions:/(?:special|additional|extra|note|instruction|request|preference)[:\s]*([^\.]+)/i,deliveryTime:/(?:delivery|arrival|ready|serve|bring)[:\s]*([^\.]+)/i,totalAmount:/(?:total|amount|cost|price|bill|charge)[:\s]*(\d+(?:,\d+)*(?:\.\d+)?)/i};function Oa(t){const s=t.match(ht.roomNumber);return s?s[1]||s[2]:null}function Ba(t){const s=t.match(ht.specialInstructions);return s?s[1].trim():null}function za(t){const s=t.match(ht.deliveryTime);return s?s[1].trim():null}function Ha(t){const s=t.match(ht.totalAmount);return s?parseFloat(s[1].replace(/,/g,"")):null}const ie={roomNumber:/(?:room(?:\s+number)?|room|phÃ²ng)(?:\s*[:#\-]?\s*)([0-9]{1,4}[A-Za-z]?)|(?:staying in|in room|in phÃ²ng|phÃ²ng sá»‘)(?:\s+)([0-9]{1,4}[A-Za-z]?)/i,food:/food|beverage|breakfast|lunch|dinner|meal|drink|snack|restaurant/i,housekeeping:/housekeeping|cleaning|towel|cleaning\s*service|laundry/i,roomService:/room\s*service/i,spa:/spa|massage|wellness|treatment/i,transportation:/transportation|taxi|car|shuttle|airport\s*transfer/i,tours:/tour|sightseeing|excursion|attraction|visit|activity/i,technical:/wifi|internet|tv|television|remote|device|technical|connection/i,concierge:/reservation|booking|restaurant|ticket|arrangement|concierge/i,wellness:/gym|fitness|exercise|yoga|swimming|pool|sauna/i,security:/safe|security|lost|found|key|card|lock|emergency/i,specialOccasion:/birthday|anniversary|celebration|honeymoon|proposal|wedding|special occasion/i,other:/currency\s*exchange|money\s*change|exchange\s*money|foreign\s*currency|bus\s*ticket|train\s*ticket|sell|purchase|buy/i,items:/items?[:\s]*([^\.]+)/i,request:/(?:requested|asked for|ordered|booking|reservation for|inquired about)\s+([^\.;]+)/gi,bullets:/(?:^|\n)[-â€¢*]\s*([^\n]+)/g,sentences:/\.(?:\s|$)/},qa={roomService:"room-service",food:"food-beverage",housekeeping:"housekeeping",transportation:"transportation",spa:"spa",tours:"tours-activities",technical:"technical-support",concierge:"concierge",wellness:"wellness-fitness",security:"security",specialOccasion:"special-occasions",wifi:"wifi-faq",checkIn:"check-in-out",checkOut:"check-in-out",information:"hotel-info",tourism:"attractions",feedback:"feedback",support:"support",other:"other"};function Kt(t){const s=t.match(ie.roomNumber);if(s)return s[1]||s[2]||null;const n=t.match(/(?:room details|room number|phÃ²ng sá»‘)(?:\s*[:#\-]?\s*)([0-9]{1,4}[A-Za-z]?)/i);if(n&&n[1])return n[1];const a=t.match(/(?:details[\s\S]*?room(?:\s+number)?[\s\S]*?)([0-9]{1,4}[A-Za-z]?)/i);return a&&a[1]?a[1]:null}function Va(t){const s=[];ie.food.test(t)&&s.push("food"),ie.housekeeping.test(t)&&s.push("housekeeping"),ie.transportation.test(t)&&s.push("transportation"),ie.roomService.test(t)&&s.push("roomService"),ie.spa.test(t)&&s.push("spa"),ie.tours.test(t)&&s.push("tours"),ie.technical.test(t)&&s.push("technical"),ie.concierge.test(t)&&s.push("concierge"),ie.wellness.test(t)&&s.push("wellness"),ie.security.test(t)&&s.push("security"),ie.specialOccasion.test(t)&&s.push("specialOccasion"),ie.other.test(t)&&s.push("other");const n=s.map(a=>qa[a]||"other");return n.length>0?n:["other"]}function Ua(t){return Va(t).join(",")}function Ga(t){const s=t.match(ie.items);let n=[];const a=t.match(ie.bullets);if(a&&a.length>0){const r=a.map((o,l)=>{const m=o.replace(/^[-â€¢*]\s*/,"").trim();return Qe(m,l)}).filter(o=>o.name.length>0);n=[...n,...r]}{const r=t.match(ie.request);if(r&&r.length>0){const o=r.map((l,m)=>{const d=l.replace(/(?:requested|asked for|ordered|booking|reservation for|inquired about)\s+/i,"").trim();return Qe(d,m)}).filter(l=>l.name.length>0);n=[...n,...o]}}if(s){const l=s[1].split(/(?:,\s*|\s+and\s+|\s*&\s*|\s*\+\s*)/).map((m,d)=>Qe(m,d)).filter(m=>m.name.length>0);n=[...n,...l]}if(n.length===0){const r=t.split(ie.sentences);for(let o=0;o<r.length;o++){const l=r[o].trim();(l.toLowerCase().includes("request")||l.toLowerCase().includes("book")||l.toLowerCase().includes("order")||l.toLowerCase().includes("exchange")||l.toLowerCase().includes("inquired"))&&n.push(Qe(l,n.length))}}return Fa(n,.8).map((r,o)=>({...r,id:(o+1).toString()}))}function Qe(t,s){const n=t.trim().replace(/^[-â€¢*]\s+/,"").replace(/^- /,""),a=n.match(/^([0-9]+)\s+(.+)$/),c=a?parseInt(a[1]):1,r=a?a[2]:n;let o="";const l=n.match(/(?:on|for)\s+((?:January|February|March|April|May|June|July|August|September|October|November|December|Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s+\d{1,2}(?:st|nd|rd|th)?(?:,?\s+\d{4})?|\d{1,2}\/\d{1,2}(?:\/\d{2,4})?)/i),m=l?`Date: ${l[1]}`:"",d=n.match(/(\d+)\s+(?:people|person|pax|guest|adult|child|passenger)/i),h=d?`Guests: ${d[1]} people`:"",f=n.match(/(?:to|in|at|for)\s+([A-Z][a-z]+(?:\s+[A-Z][a-z]+)*|[A-Z][A-Z]+|[A-Z][a-z]+)/),j=f?`Location: ${f[1]}`:"",v=n.match(/(?:at|from)\s+(\d{1,2}(?::\d{2})?\s*(?:AM|PM|am|pm))/i),u=v?`Time: ${v[1]}`:"",b=n.match(/(\d+(?:,\d+)*(?:\.\d+)?)\s*(?:USD|US dollars|\$|VND|dong)/i),x=b?`Amount: ${b[1]} ${b[0].includes("USD")||b[0].includes("US")||b[0].includes("$")?"USD":"VND"}`:"",w=[m,h,j,u,x].filter(z=>z.length>0);return w.length>0?o=w.join(`
`):o=`Details for ${r.charAt(0).toLowerCase()+r.slice(1)}`,{id:(s+1).toString(),name:r.charAt(0).toUpperCase()+r.slice(1),description:o,quantity:c,price:Wa(r)}}function Wa(t){const s=t.toLowerCase();return/sandwich|burger|pasta|steak|fish|chicken|breakfast|lunch|dinner/.test(s)?15:/coffee|tea|juice|water|soda|wine|beer|cocktail|drink/.test(s)?8:/towel|soap|shampoo|toothbrush|toothpaste|amenities/.test(s)?5:/cleaning|housekeeping|laundry|ironing/.test(s)?20:/taxi|car|shuttle|transfer/.test(s)?30:10}function Yt(t){if(!t)return{};const s=Oa(t)||"",n=Ua(t),a=za(t)||"",c=Ba(t)||"",r=Ga(t),o=Ha(t)||0;return{roomNumber:s,orderType:n,deliveryTime:a,guestName:"",guestEmail:"",guestPhone:"",specialInstructions:c,items:r,totalAmount:o}}const Ka=!1;let xe=null;const Ws=async t=>{try{return xe||(xe=new oa(t),xe.on("call-start",()=>{console.log("Call started")}),xe.on("call-end",()=>{console.log("Call ended")}),xe.on("speech-start",()=>{console.log("Speech started")}),xe.on("speech-end",()=>{console.log("Speech ended")}),xe.on("volume-level",s=>{console.log(`Volume level: ${s}`)}),xe.on("message",s=>{console.log("Message received:",s)}),xe.on("error",s=>{console.error("Error:",s)}),xe)}catch(s){throw console.error("Failed to initialize Vapi:",s),s}},We=()=>xe;async function Ks(t){if(!t.ok){const s=await t.text()||t.statusText;throw new Error(`${t.status}: ${s}`)}}async function Pe({url:t,method:s="GET",body:n=void 0}){const a=await fetch(t,{method:s,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});await Ks(a);try{return await a.json()}catch{return a}}const Ya=({on401:t})=>async({queryKey:s})=>{const n=await fetch(s[0],{credentials:"include"});return await Ks(n),await n.json()};new la({defaultOptions:{queries:{queryFn:Ya({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});const Ys=i.createContext(void 0),Et=()=>{const t=i.useContext(Ys);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Xa=({children:t})=>{console.log("[DEBUG] AuthProvider render");const[s,n]=i.useState(null),[a,c]=i.useState(null),[r,o]=i.useState(!0);i.useEffect(()=>{console.log("[DEBUG] AuthProvider useEffect - checking token");const d=localStorage.getItem("token");if(!d){console.log("[DEBUG] AuthProvider - no token found, setting loading false"),o(!1);return}try{console.log("[DEBUG] AuthProvider - decoding token");const h=zt(d);console.log("[DEBUG] AuthProvider - token decoded:",h);const f={id:h.username,name:h.username,email:h.username,tenantId:h.tenantId,role:h.role},j={id:h.tenantId,hotelName:"Mi Nhon Hotel",subdomain:"minhonmuine",subscriptionPlan:"premium",subscriptionStatus:"active"};n(f),c(j)}catch(h){console.log("[DEBUG] AuthProvider - token decode error:",h),localStorage.removeItem("token")}finally{console.log("[DEBUG] AuthProvider - setting loading false"),o(!1)}},[]);const l=i.useCallback(async(d,h)=>{o(!0);try{const f=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d,password:h})});if(!f.ok)throw new Error("Sai tÃ i khoáº£n hoáº·c máº­t kháº©u");const j=await f.json();if(!j.token)throw new Error("KhÃ´ng nháº­n Ä‘Æ°á»£c token tá»« server");localStorage.setItem("token",j.token);const v=zt(j.token),u={id:v.username,name:v.username,email:v.username,tenantId:v.tenantId,role:v.role},b={id:v.tenantId,hotelName:"Mi Nhon Hotel",subdomain:"minhonmuine",subscriptionPlan:"premium",subscriptionStatus:"active"};n(u),c(b)}catch(f){throw localStorage.removeItem("token"),n(null),c(null),f}finally{o(!1)}},[]),m=i.useCallback(()=>{console.log("[DEBUG] AuthProvider logout called"),n(null),c(null),localStorage.removeItem("token")},[]);return console.log("[DEBUG] AuthProvider state:",{user:s,tenant:a,isLoading:r}),e.jsx(Ys.Provider,{value:{user:s,tenant:a,isLoading:r,login:l,logout:m,isAuthenticated:!!s,refreshAuth:async()=>{},hasFeature:()=>!1,hasRole:()=>!1,isWithinLimits:()=>!0},children:t})},Xs=()=>{const[t,s]=i.useState(null);return i.useEffect(()=>{if(typeof window>"u")return;const n=window.location.hostname,a=n==="localhost"||n==="127.0.0.1",c=/^\d+\.\d+\.\d+\.\d+$/.test(n),r=n==="talk2go.online"||n==="www.talk2go.online";let o=null,l=!1,m;if(!a&&!c&&!r)if(n.includes(".talk2go.online")){const h=n.split(".");h.length>2&&(o=h[0],l=!0)}else m=n,l=!1;s({subdomain:o,isMiNhon:a||n==="minhotel.talk2go.online"||n==="talk2go.online"||n==="www.talk2go.online"||o==="minhon",isSubdomain:l,customDomain:m})},[]),t};class Zs{constructor(){this.baseUrl="/api/dashboard"}async researchHotel(s){try{return await Pe({url:`${this.baseUrl}/research-hotel`,method:"POST",body:s})}catch(n){throw console.error("Hotel research failed:",n),this.handleApiError(n)}}async generateAssistant(s){try{return await Pe({url:`${this.baseUrl}/generate-assistant`,method:"POST",body:s})}catch(n){throw console.error("Assistant generation failed:",n),this.handleApiError(n)}}async getHotelProfile(){try{return await Pe({url:`${this.baseUrl}/hotel-profile`,method:"GET"})}catch(s){throw console.error("Failed to fetch hotel profile:",s),this.handleApiError(s)}}async updateAssistantConfig(s){try{return await Pe({url:`${this.baseUrl}/assistant-config`,method:"PUT",body:s})}catch(n){throw console.error("Failed to update assistant config:",n),this.handleApiError(n)}}async getAnalytics(){try{return await Pe({url:`${this.baseUrl}/analytics`,method:"GET"})}catch(s){throw console.error("Failed to fetch analytics:",s),this.handleApiError(s)}}async getServiceHealth(){try{return await Pe({url:`${this.baseUrl}/service-health`,method:"GET"})}catch(s){throw console.error("Failed to fetch service health:",s),this.handleApiError(s)}}async resetAssistant(){try{return await Pe({url:`${this.baseUrl}/reset-assistant`,method:"POST"})}catch(s){throw console.error("Failed to reset assistant:",s),this.handleApiError(s)}}handleApiError(s){if(s.error)return s;const n=s.message||"An unexpected error occurred",a=n.match(/^(\d+):\s*(.+)$/);if(a){const[,c,r]=a,o=parseInt(c);try{const l=JSON.parse(r);return{error:l.error||r,details:l.details,feature:l.feature,currentPlan:l.currentPlan,upgradeRequired:l.upgradeRequired,setupRequired:l.setupRequired,assistantRequired:l.assistantRequired,requiresResearch:l.requiresResearch}}catch{return{error:r,details:{statusCode:o}}}}return{error:n,details:{originalError:s}}}}const Js=new Zs,Za=t=>t&&typeof t.name=="string"&&typeof t.address=="string"&&Array.isArray(t.services)&&Array.isArray(t.amenities)&&t.policies&&Array.isArray(t.roomTypes),Ja=t=>t&&["professional","friendly","luxurious","casual","enthusiastic"].includes(t.personality)&&["formal","friendly","warm","energetic","calm"].includes(t.tone)&&Array.isArray(t.languages)&&t.languages.length>0&&["office","off","hotel-lobby"].includes(t.backgroundSound),Qa=[{value:"professional",label:"ChuyÃªn nghiá»‡p",description:"Lá»‹ch sá»±, trang trá»ng vÃ  Ä‘Ã¡ng tin cáº­y"},{value:"friendly",label:"ThÃ¢n thiá»‡n",description:"áº¤m Ã¡p, dá»… gáº§n vÃ  há»¯u Ã­ch"},{value:"luxurious",label:"Sang trá»ng",description:"Tinh táº¿, Ä‘áº³ng cáº¥p vÃ  chuyÃªn nghiá»‡p"},{value:"casual",label:"Thoáº£i mÃ¡i",description:"Tá»± nhiÃªn, gáº§n gÅ©i vÃ  dá»… chá»‹u"},{value:"enthusiastic",label:"Nhiá»‡t tÃ¬nh",description:"TÃ­ch cá»±c, nÄƒng Ä‘á»™ng vÃ  sÃ´i ná»•i"}],ei=[{value:"formal",label:"Trang trá»ng",description:"Lá»‹ch sá»± vÃ  chuyÃªn nghiá»‡p"},{value:"friendly",label:"ThÃ¢n thiá»‡n",description:"áº¤m Ã¡p vÃ  dá»… gáº§n"},{value:"warm",label:"áº¤m Ã¡p",description:"Gáº§n gÅ©i vÃ  chÄƒm sÃ³c"},{value:"energetic",label:"NÄƒng Ä‘á»™ng",description:"TÃ­ch cá»±c vÃ  sÃ´i ná»•i"},{value:"calm",label:"Äiá»m tÄ©nh",description:"BÃ¬nh tÄ©nh vÃ  thÆ° thÃ¡i"}],ti=[{value:"vi",label:"Tiáº¿ng Viá»‡t",flag:"ğŸ‡»ğŸ‡³"},{value:"en",label:"English",flag:"ğŸ‡ºğŸ‡¸"},{value:"fr",label:"FranÃ§ais",flag:"ğŸ‡«ğŸ‡·"},{value:"ko",label:"í•œêµ­ì–´",flag:"ğŸ‡°ğŸ‡·"},{value:"zh",label:"ä¸­æ–‡",flag:"ğŸ‡¨ğŸ‡³"},{value:"ru",label:"Ğ ÑƒÑÑĞºĞ¸Ğ¹",flag:"ğŸ‡·ğŸ‡º"}],si=[{value:"hotel-lobby",label:"Sáº£nh khÃ¡ch sáº¡n",description:"Nháº¡c ná»n nháº¹ nhÃ ng"},{value:"office",label:"VÄƒn phÃ²ng",description:"Ã‚m thanh vÄƒn phÃ²ng"},{value:"off",label:"Táº¯t Ã¢m thanh",description:"KhÃ´ng cÃ³ Ã¢m thanh ná»n"}],Xt={hotelName:"Mi Nhon Hotel Mui Ne",logoUrl:"/assets/references/images/minhon-logo.jpg",primaryColor:"#1e40af",headerText:"Mi Nhon Hotel Mui Ne",vapiPublicKey:"",vapiAssistantId:"",branding:{logo:"/assets/references/images/minhon-logo.jpg",colors:{primary:"#1e40af",secondary:"#d4af37",accent:"#f59e0b"},fonts:{primary:"Poppins",secondary:"Inter"}},features:{callHistory:!0,multiLanguage:!0,analytics:!0,customization:!0},services:[{type:"room_service",name:"Room Service",enabled:!0},{type:"concierge",name:"Concierge",enabled:!0},{type:"housekeeping",name:"Housekeeping",enabled:!0},{type:"maintenance",name:"Maintenance",enabled:!0},{type:"restaurant",name:"Restaurant",enabled:!0}],supportedLanguages:["en","fr","zh","ru","ko","vi"]},ni=()=>{const[t,s]=i.useState(null),[n,a]=i.useState(!0),[c,r]=i.useState(null),o=Xs(),l=i.useCallback(async()=>{var m,d;try{if(a(!0),r(null),!o)return;if(o.isMiNhon){console.log("ğŸ¨ Loading Mi Nhon Hotel configuration (backward compatibility)"),s(Xt);return}if(o.subdomain||o.customDomain){console.log("ğŸ¨ Loading tenant configuration for:",o.subdomain||o.customDomain);try{const f=await new Zs().getHotelProfile();if(f.success&&f.profile){const j=f.profile,v={hotelName:j.researchData.name,logoUrl:"/assets/hotel-default-logo.png",primaryColor:"#1e40af",headerText:j.researchData.name,vapiPublicKey:"",vapiAssistantId:j.vapiAssistantId||"",branding:{logo:"/assets/hotel-default-logo.png",colors:{primary:"#1e40af",secondary:"#d4af37",accent:"#f59e0b"},fonts:{primary:"Poppins",secondary:"Inter"}},features:{callHistory:f.features.advancedAnalytics||!0,multiLanguage:((m=j.assistantConfig.languages)==null?void 0:m.length)>1||!0,analytics:f.features.advancedAnalytics||!0,customization:f.features.whiteLabel||!0},services:((d=j.researchData.services)==null?void 0:d.map(u=>({type:u.type,name:u.name,enabled:!0})))||[],supportedLanguages:j.assistantConfig.languages||["en"]};s(v)}else throw new Error("Hotel profile not found")}catch(h){console.error("âŒ Failed to load tenant configuration:",h);const f={hotelName:o.subdomain?`${o.subdomain.charAt(0).toUpperCase()}${o.subdomain.slice(1)} Hotel`:"Hotel",logoUrl:"/assets/hotel-default-logo.png",primaryColor:"#1e40af",headerText:o.subdomain?`${o.subdomain.charAt(0).toUpperCase()}${o.subdomain.slice(1)} Hotel`:"Hotel",vapiPublicKey:"",vapiAssistantId:"",branding:{logo:"/assets/hotel-default-logo.png",colors:{primary:"#1e40af",secondary:"#d4af37",accent:"#f59e0b"},fonts:{primary:"Poppins",secondary:"Inter"}},features:{callHistory:!1,multiLanguage:!1,analytics:!1,customization:!1},services:[{type:"concierge",name:"Concierge",enabled:!0}],supportedLanguages:["en"]};s(f),r("Configuration loaded with limited features. Please complete hotel setup.")}}}catch(h){console.error("âŒ Error loading hotel configuration:",h),r(h instanceof Error?h.message:"Failed to load configuration"),s(Xt)}finally{a(!1)}},[o]);return i.useEffect(()=>{l()},[l]),{config:t,isLoading:n,error:c,reload:l,isMiNhon:(o==null?void 0:o.isMiNhon)||!1}},Qs=(t,s)=>{if(s.hotelName==="Mi Nhon Hotel Mui Ne")switch(t){case"fr":return s.vapiPublicKey;case"zh":return s.vapiPublicKey;case"ru":return s.vapiPublicKey;case"ko":return s.vapiPublicKey;case"vi":return s.vapiPublicKey;default:return s.vapiPublicKey}return s.vapiPublicKey},en=(t,s)=>{if(s.hotelName==="Mi Nhon Hotel Mui Ne")switch(t){case"fr":return s.vapiAssistantId;case"zh":return s.vapiAssistantId;case"ru":return s.vapiAssistantId;case"ko":return s.vapiAssistantId;case"vi":return s.vapiAssistantId;default:return s.vapiAssistantId}return s.vapiAssistantId},ai={orderType:"Room Service",deliveryTime:"asap",roomNumber:"",guestName:"",guestEmail:"",guestPhone:"",specialInstructions:"",items:[{id:"1",name:"Club Sandwich",description:"Served with french fries and side salad",quantity:1,price:15},{id:"2",name:"Fresh Orange Juice",description:"Large size",quantity:1,price:8}],totalAmount:23},tn=i.createContext(void 0);function ii({children:t}){console.log("[DEBUG] AssistantProvider render");const[s,n]=i.useState("interface1"),[a,c]=i.useState([]),[r,o]=i.useState(null),[l,m]=i.useState(null),[d,h]=i.useState(null),[f,j]=i.useState(0),[v,u]=i.useState(null),[b,x]=i.useState(!1),[w,z]=i.useState(null),[se,ee]=i.useState([]),[V,ge]=i.useState(null),[B,C]=i.useState(!1),[T,U]=i.useState(null),[Y,y]=i.useState(()=>{if(typeof window>"u")return[];try{const P=localStorage.getItem("activeOrders");return P?JSON.parse(P).map(Q=>({...Q,requestedAt:new Date(Q.requestedAt)})):[]}catch(P){return console.error("Failed to parse activeOrders from localStorage",P),[]}}),[N,k]=i.useState(0),[F,J]=i.useState([]),[G,re]=i.useState("en"),[te,me]=i.useState(null),[O,oe]=i.useState(null),[Ne,ue]=i.useState(null),le=P=>{console.log("ğŸ”„ AssistantContext: setCurrentInterface called with:",P),console.log("ğŸ”„ Previous interface:",s),n(P),console.log("âœ… AssistantContext: setCurrentInterface completed")},Ue=P=>{console.log("ğŸ—‘ï¸ AssistantContext: setOrder called with:",P),console.log("ğŸ—‘ï¸ Previous order:",d),h(P),console.log("âœ… AssistantContext: setOrder completed")};i.useEffect(()=>{if(!(typeof window>"u"))try{localStorage.setItem("activeOrders",JSON.stringify(Y))}catch{console.error("Failed to persist activeOrders to localStorage")}},[Y]),i.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - currentInterface changed to:",s),console.log("[DEBUG] AssistantProvider - timestamp:",new Date().toISOString())},[s]),i.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - order changed to:",d),console.log("[DEBUG] AssistantProvider - order reference:",d==null?void 0:d.reference),console.log("[DEBUG] AssistantProvider - timestamp:",new Date().toISOString())},[d]),i.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - activeOrders changed:",Y.length),console.log("[DEBUG] AssistantProvider - activeOrders:",Y)},[Y]),i.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - hotelConfig changed:",te?"loaded":"null")},[te]),i.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - language changed to:",G)},[G]),i.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - callDetails changed:",l?"active":"null")},[l]),i.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - transcripts count:",a.length)},[a]),i.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - orderSummary changed:",r?"has summary":"null")},[r]),i.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - callSummary changed:",w?"has summary":"null")},[w]),i.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - serviceRequests count:",se.length)},[se]),i.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - modelOutput count:",F.length)},[F]),i.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - micLevel:",N)},[N]),i.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - isMuted:",b)},[b]),i.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - callDuration:",f)},[f]),i.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - emailSentForCurrentSession:",B)},[B]),i.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - requestReceivedAt:",T)},[T]),i.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - vietnameseSummary:",V?"has summary":"null")},[V]),i.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - tenantId:",O)},[O]),i.useEffect(()=>{console.log("[DEBUG] AssistantProvider useEffect - tenantConfig:",Ne?"loaded":"null")},[Ne]);const p=P=>{y(q=>[...q,{...P,status:P.status||"ÄÃ£ ghi nháº­n"}])},_=Be.useCallback(P=>{const q={...P,id:Date.now(),callId:(l==null?void 0:l.id)||`call-${Date.now()}`,timestamp:new Date,tenantId:O||"default"};c(Q=>[...Q,q])},[l==null?void 0:l.id,O]);i.useEffect(()=>((async()=>{try{const q=te?Qs(G,te):void 0;if(!q)throw new Error("Vapi public key is not configured");const Q=await Ws(q);Q.on("volume-level",W=>{k(W)});const we=async W=>{if(console.log("Raw message received:",W),console.log("Message type:",W.type),console.log("Message role:",W.role),console.log("Message content structure:",{content:W.content,text:W.text,transcript:W.transcript}),W.type==="model-output"){console.log("Model output detected - Full message:",W);const E=W.content||W.text||W.transcript||W.output;if(E){console.log("Adding model output to conversation:",E);const _e={id:Date.now(),callId:(l==null?void 0:l.id)||`call-${Date.now()}`,role:"assistant",content:E,timestamp:new Date,isModelOutput:!0,tenantId:O||"default"};console.log("Adding new transcript for model output:",_e),c(g=>{const X=[...g,_e];return console.log("Updated transcripts array:",X),X})}else console.warn("Model output message received but no content found:",W)}if(W.type==="transcript"&&W.role==="user"){console.log("Adding user transcript:",W);const E={id:Date.now(),callId:(l==null?void 0:l.id)||`call-${Date.now()}`,role:"user",content:W.content||W.transcript||"",timestamp:new Date,tenantId:O||"default"};c(_e=>[..._e,E])}};Q.on("message",we)}catch(q){console.error("Error setting up Vapi:",q)}})(),()=>{const q=We();q&&q.stop()}),[G,te,O]),i.useEffect(()=>{if(s==="interface2"){console.log("Starting call duration timer in interface2");const P=setInterval(()=>{j(q=>{const Q=q+1;return console.log("Call duration updated:",Q),Q})},1e3);u(P)}else v&&(console.log("Clearing call duration timer when leaving interface2"),clearInterval(v),u(null));return()=>{v&&(console.log("Cleaning up call duration timer"),clearInterval(v))}},[s,v]);const H=()=>{const P=We();P&&(P.setMuted(!b),x(!b))},Te=Be.useCallback(async()=>{try{C(!1);const P=`call-${Date.now()}`;m({id:P,roomNumber:"",duration:"",category:"",language:"en"}),c([]),J([]);const q=We();if(!q){console.error("Vapi instance not initialized");return}const Q=te?en(G,te):void 0;if(!Q){console.error("Assistant ID not configured");return}if(!await q.start(Q)){console.error("Failed to start call - call object is null");return}console.log("Call started successfully"),j(0);const W=setInterval(()=>{j(E=>E+1)},1e3);u(W),n("interface2")}catch(P){console.error("Error starting call:",P)}},[G,te,O]),pe=i.useCallback(()=>{try{const P=We();P&&P.stop();const q=()=>{v&&(clearInterval(v),u(null)),o(ai);const Q=f?`${Math.floor(f/60)}:${(f%60).toString().padStart(2,"0")}`:"0:00",we=a.map(E=>({role:E.role,content:E.content}));if(we.length<2){const E={id:Date.now(),callId:(l==null?void 0:l.id)||`call-${Date.now()}`,content:"Call was too short to generate a summary. Please try a more detailed conversation.",timestamp:new Date,tenantId:O||"default"};z(E);return}const W={id:Date.now(),callId:(l==null?void 0:l.id)||`call-${Date.now()}`,content:"Generating AI summary of your conversation...",timestamp:new Date,tenantId:O||"default"};z(W),fetch("/api/store-summary",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({summary:"",transcripts:we,timestamp:new Date().toISOString(),callId:(l==null?void 0:l.id)||`call-${Date.now()}`,callDuration:Q,forceBasicSummary:Ka,language:G,tenantId:O||"default"})}).then(E=>{if(!E.ok)throw new Error(`Network response was not ok: ${E.status}`);return E.json()}).then(E=>{if(E.success&&E.summary&&E.summary.content){const _e=E.summary.content;Lt.unstable_batchedUpdates(()=>{const g={id:Date.now(),callId:(l==null?void 0:l.id)||`call-${Date.now()}`,content:_e,timestamp:new Date(E.summary.timestamp||Date.now()),tenantId:O||"default"};z(g),E.serviceRequests&&Array.isArray(E.serviceRequests)&&E.serviceRequests.length>0&&ee(E.serviceRequests)})}}).catch(E=>{console.error("Error processing summary:",E);const _e={id:Date.now(),callId:(l==null?void 0:l.id)||`call-${Date.now()}`,content:"An error occurred while generating the call summary.",timestamp:new Date,tenantId:O||"default"};z(_e)})};Lt.unstable_batchedUpdates(q)}catch(P){console.error("Error in endCall:",P),n("interface1")}},[v,f,a,l,z,n,ee,G,O]),bt=async P=>{try{console.log("Requesting Vietnamese translation for summary...");const q=await fetch("/api/translate-to-vietnamese",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:P})});if(!q.ok)throw new Error(`Network response was not ok: ${q.status}`);const Q=await q.json();if(Q.success&&Q.translatedText)return ge(Q.translatedText),Q.translatedText;throw new Error("Translation failed")}catch(q){return console.error("Error translating to Vietnamese:",q),"KhÃ´ng thá»ƒ dá»‹ch ná»™i dung nÃ y sang tiáº¿ng Viá»‡t. Vui lÃ²ng thá»­ láº¡i sau."}},jt=P=>{J(q=>[...q,P])};i.useEffect(()=>{let P=null;const q=async()=>{try{const we=await fetch("https://minhnhotelben.onrender.com/api/orders");if(!we.ok)return;const W=await we.json();console.log("[AssistantContext] Fetched orders from API:",W),Array.isArray(W)&&y(W.map(E=>({reference:E.specialInstructions||E.reference||E.callId||"",requestedAt:E.createdAt?new Date(E.createdAt):new Date,estimatedTime:E.deliveryTime||"",status:E.status==="completed"?"HoÃ n thiá»‡n":E.status==="pending"?"ÄÃ£ ghi nháº­n":E.status,...E})))}catch{}};return(s==="interface1"||s==="interface2")&&(q(),P=setInterval(q,5e3)),()=>{P&&clearInterval(P)}},[s]);const vt={currentInterface:s,setCurrentInterface:le,transcripts:a,setTranscripts:c,addTranscript:_,orderSummary:r,setOrderSummary:o,callDetails:l,setCallDetails:m,order:d,setOrder:Ue,callDuration:f,setCallDuration:j,isMuted:b,toggleMute:H,startCall:Te,endCall:pe,callSummary:w,setCallSummary:z,serviceRequests:se,setServiceRequests:ee,vietnameseSummary:V,setVietnameseSummary:ge,translateToVietnamese:bt,emailSentForCurrentSession:B,setEmailSentForCurrentSession:C,requestReceivedAt:T,setRequestReceivedAt:U,activeOrders:Y,addActiveOrder:p,setActiveOrders:y,micLevel:N,modelOutput:F,setModelOutput:J,addModelOutput:jt,language:G,setLanguage:re,hotelConfig:te,setHotelConfig:me,tenantId:O,setTenantId:oe,tenantConfig:Ne,setTenantConfig:ue};return e.jsx(tn.Provider,{value:vt,children:t})}function De(){const t=i.useContext(tn);if(t===void 0)throw new Error("useAssistant must be used within an AssistantProvider");return t}const sn="/assets/hotel-exterior-BsmmGNZ1.jpeg",ri="Hotel Mui Ne",oi="AI-powered Voice Assistant - Supporting All Your Needs",li="Tap To Speak",ci="Room & Stay",di="Room Services",mi="Bookings & Facilities",hi="Tourism & Exploration",ui="Support to book external services",xi="Order Ref",gi="Requested At",pi="Estimated Completion",fi="Time Remaining",bi="Mute",ji="Unmute",vi="Confirm",yi="Please speak to the assistant first.",Ni="Tap to speak",wi="Order Summary",_i="Confirm",ki="Add Note",Si="Room Number",Ci="Enter room number",$i="Enter additional notes",Ti="Summary",Ai="Generated at",Ii="Order Confirmed!",Di="Your request has been confirmed and forwarded to our staff. They will process it right away.",Ri="Order Reference",Ei="Estimated delivery time:",Pi="Return to Home",Mi="Language",Li="English",Fi="French",Oi="Send",Bi="Cancel",zi="End Call",Hi="Room",qi="Order ID",Vi="Guest Name",Ui="Content",Gi="Time",Wi="Status",Ki="Action",Yi="Message Guest",Xi="Staff Request Management",Zi="Login",Ji="Username",Qi="Password",er="Tap the call button to start your request.",tr="Review and confirm your request for accuracy.",sr="Your request will be sent to the reception for processing.",nr="Acknowledged",ar="In Progress",ir="Delivering to You",rr="Completed",or="Special Note",lr="Check-in/Check-out",cr="Extended Stay Request",dr="Room Information",mr="Hotel Policies",hr="Wi-Fi Services",ur="Room Service Food",xr="Drinks & Bar Service",gr="Room Cleaning",pr="Laundry Service",fr="Wake-up Call",br="Additional Amenities",jr="Maintenance Request",vr="Restaurant Reservation",yr="Spa Services",Nr="Fitness Center",wr="Swimming Pool",_r="Car Rental",kr="Medical Assistance",Sr="Customer Support",Cr="Local Attractions",$r="Local Restaurants",Tr="Public Transportation",Ar="Local Events",Ir="Shopping Areas",Dr="Area Maps",Rr="Translation Services",Er="Leave a Review",Pr="Report an Issue",Mr="Luggage Services",Lr="Generating your summary...",Fr="Speak Multiple Languages with Our AI Voice Assistant",Or={hotel_name:ri,hotel_subtitle:oi,press_to_call:li,room_and_stay:ci,room_services:di,bookings_and_facilities:mi,tourism_and_exploration:hi,support_external_services:ui,order_ref:xi,requested_at:gi,estimated_completion:pi,time_remaining:fi,mute:bi,unmute:ji,confirm:vi,need_conversation:yi,tap_to_speak:Ni,order_summary:wi,send_to_reception:_i,add_note:ki,room_number:Si,enter_room_number:Ci,enter_notes:$i,summary:Ti,generated_at:Ai,order_confirmed:Ii,order_confirmed_message:Di,order_reference:Ri,estimated_delivery_time:Ei,return_to_home:Pi,language:Mi,english:Li,french:Fi,send:Oi,cancel:Bi,confirm_request:zi,room:Hi,order_id:qi,guest_name:Vi,content:Ui,time:Gi,status:Wi,action:Ki,message_guest:Yi,request_management:Xi,login:Zi,username:Ji,password:Qi,press_to_call_desc:er,confirm_request_desc:tr,send_to_reception_desc:sr,status_acknowledged:nr,status_in_progress:ar,status_delivering:ir,status_completed:rr,status_note:or,icon_login:lr,icon_hourglass_empty:cr,icon_info:dr,icon_policy:mr,icon_wifi:hr,icon_restaurant:ur,icon_local_bar:xr,icon_cleaning_services:gr,icon_local_laundry_service:pr,icon_alarm:fr,icon_add_circle:br,icon_build:jr,icon_event_seat:vr,icon_spa:yr,icon_fitness_center:Nr,icon_pool:wr,icon_directions_car:_r,icon_medical_services:kr,icon_support_agent:Sr,icon_location_on:Cr,icon_local_dining:$r,icon_directions_bus:Tr,icon_event:Ar,icon_shopping_bag:Ir,icon_map:Dr,icon_translate:Rr,icon_rate_review:Er,icon_report_problem:Pr,icon_luggage:Mr,generating_your_summary:Lr,speak_multiple_languages:Fr},Br="Bienvenue Ã  Mi Nhon Hotel",zr="Commencer",Hr="Langue",qr="Anglais",Vr="FranÃ§ais",Ur="Envoyer",Gr="Annuler",Wr="Confirmer la demande",Kr="Chambre",Yr="ID de commande",Xr="Nom du client",Zr="Contenu",Jr="Heure",Qr="Statut",eo="Action",to="Message au client",so="Gestion des demandes du personnel",no="Connexion",ao="Nom d'utilisateur",io="Mot de passe",ro="Hotel Mui Ne",oo="Assistant vocal IA - Ã€ votre service pour tous vos besoins",lo="Appuyez pour appeler",co="Chambre & SÃ©jour",mo="Services de chambre",ho="RÃ©servations & Installations",uo="Tourisme & Exploration",xo="Assistance pour services externes",go="RÃ©f. commande",po="DemandÃ© Ã ",fo="Fin estimÃ©e",bo="Temps restant",jo="Muet",vo="RÃ©tablir le son",yo="Confirmer",No="Veuillez d'abord parler avec l'assistant.",wo="Appuyez pour parler",_o="RÃ©capitulatif de la commande",ko="Envoyer Ã  la rÃ©ception",So="Ajouter une note",Co="NumÃ©ro de chambre",$o="Saisir le numÃ©ro de chambre",To="Saisir des notes supplÃ©mentaires",Ao="RÃ©sumÃ©",Io="GÃ©nÃ©rÃ© Ã ",Do="Commande confirmÃ©e !",Ro="Votre demande a Ã©tÃ© confirmÃ©e et transmise Ã  notre personnel. Elle sera traitÃ©e immÃ©diatement.",Eo="RÃ©fÃ©rence de la commande",Po="Heure de livraison estimÃ©e :",Mo="Retour Ã  l'accueil",Lo="Appuyez sur le bouton d'appel pour dÃ©marrer votre demande.",Fo="VÃ©rifiez et confirmez votre demande pour plus de prÃ©cision.",Oo="Votre demande sera envoyÃ©e Ã  la rÃ©ception pour traitement.",Bo="ReÃ§ue",zo="En cours",Ho="En livraison",qo="TerminÃ©e",Vo="Note spÃ©ciale",Uo="ArrivÃ©e/DÃ©part",Go="Prolongation de sÃ©jour",Wo="Informations sur la chambre",Ko="Politiques de l'hÃ´tel",Yo="Services Wi-Fi",Xo="Service de restauration",Zo="Service de bar",Jo="Nettoyage de chambre",Qo="Service de blanchisserie",el="Service de rÃ©veil",tl="AmÃ©nitÃ©s supplÃ©mentaires",sl="Demande de maintenance",nl="RÃ©servation au restaurant",al="Services de spa",il="Centre de fitness",rl="Piscine",ol="Location de voiture",ll="Assistance mÃ©dicale",cl="Service client",dl="Attractions locales",ml="Restaurants locaux",hl="Transports publics",ul="Ã‰vÃ©nements locaux",xl="Zones commerciales",gl="Cartes de la rÃ©gion",pl="Services de traduction",fl="Laisser un avis",bl="Signaler un problÃ¨me",jl="Services de bagagerie",vl="GÃ©nÃ©ration de votre rÃ©sumÃ©...",yl="Parlez Plusieurs Langues avec Notre Assistant Vocal IA",Nl={welcome:Br,start:zr,language:Hr,english:qr,french:Vr,send:Ur,cancel:Gr,confirm_request:Wr,room:Kr,order_id:Yr,guest_name:Xr,content:Zr,time:Jr,status:Qr,action:eo,message_guest:to,request_management:so,login:no,username:ao,password:io,hotel_name:ro,hotel_subtitle:oo,press_to_call:lo,room_and_stay:co,room_services:mo,bookings_and_facilities:ho,tourism_and_exploration:uo,support_external_services:xo,order_ref:go,requested_at:po,estimated_completion:fo,time_remaining:bo,mute:jo,unmute:vo,confirm:yo,need_conversation:No,tap_to_speak:wo,order_summary:_o,send_to_reception:ko,add_note:So,room_number:Co,enter_room_number:$o,enter_notes:To,summary:Ao,generated_at:Io,order_confirmed:Do,order_confirmed_message:Ro,order_reference:Eo,estimated_delivery_time:Po,return_to_home:Mo,press_to_call_desc:Lo,confirm_request_desc:Fo,send_to_reception_desc:Oo,status_acknowledged:Bo,status_in_progress:zo,status_delivering:Ho,status_completed:qo,status_note:Vo,icon_login:Uo,icon_hourglass_empty:Go,icon_info:Wo,icon_policy:Ko,icon_wifi:Yo,icon_restaurant:Xo,icon_local_bar:Zo,icon_cleaning_services:Jo,icon_local_laundry_service:Qo,icon_alarm:el,icon_add_circle:tl,icon_build:sl,icon_event_seat:nl,icon_spa:al,icon_fitness_center:il,icon_pool:rl,icon_directions_car:ol,icon_medical_services:ll,icon_support_agent:cl,icon_location_on:dl,icon_local_dining:ml,icon_directions_bus:hl,icon_event:ul,icon_shopping_bag:xl,icon_map:gl,icon_translate:pl,icon_rate_review:fl,icon_report_problem:bl,icon_luggage:jl,generating_your_summary:vl,speak_multiple_languages:yl},wl="æ¬¢è¿æ¥åˆ°ç¾å†œé…’åº— (Mi Nhon Hotel)",_l="å¼€å§‹",kl="è¯­è¨€",Sl="è‹±è¯­",Cl="æ³•è¯­",$l="å‘é€",Tl="å–æ¶ˆ",Al="ç¡®è®¤è¯·æ±‚",Il="æˆ¿é—´",Dl="è®¢å•ç¼–å·",Rl="å®¢äººå§“å",El="å†…å®¹",Pl="æ—¶é—´",Ml="çŠ¶æ€",Ll="æ“ä½œ",Fl="ç»™å®¢äººçš„æ¶ˆæ¯",Ol="å‘˜å·¥è¯·æ±‚ç®¡ç†",Bl="ç™»å½•",zl="ç”¨æˆ·å",Hl="å¯†ç ",ql="é…’åº— Mui Ne",Vl="AIè¯­éŸ³åŠ©æ‰‹ - æ»¡è¶³æ‚¨çš„æ‰€æœ‰éœ€æ±‚",Ul="æŒ‰ä¸‹å‘¼å«",Gl="æˆ¿é—´ä¸ä½å®¿",Wl="å®¢æˆ¿æœåŠ¡",Kl="é¢„è®¢ä¸è®¾æ–½",Yl="æ—…æ¸¸ä¸æ¢ç´¢",Xl="æ”¯æŒå¤–éƒ¨æœåŠ¡",Zl="è®¢å•å‚è€ƒ",Jl="è¯·æ±‚æ—¶é—´",Ql="é¢„è®¡å®Œæˆæ—¶é—´",ec="å‰©ä½™æ—¶é—´",tc="é™éŸ³",sc="å–æ¶ˆé™éŸ³",nc="ç¡®è®¤",ac="è¯·å…ˆä¸åŠ©æ‰‹å¯¹è¯ã€‚",ic="ç‚¹å‡»è¯´è¯",rc="è®¢å•æ‘˜è¦",oc="å‘é€åˆ°å‰å°",lc="æ·»åŠ å¤‡æ³¨",cc="æˆ¿é—´å·",dc="è¾“å…¥æˆ¿é—´å·",mc="è¾“å…¥é™„åŠ å¤‡æ³¨",hc="æ‘˜è¦",uc="ç”Ÿæˆæ—¶é—´",xc="è®¢å•å·²ç¡®è®¤ï¼",gc="æ‚¨çš„è¯·æ±‚å·²ç¡®è®¤å¹¶å‘é€ç»™æˆ‘ä»¬çš„å‘˜å·¥ã€‚æˆ‘ä»¬ä¼šç«‹å³å¤„ç†ã€‚",pc="è®¢å•å‚è€ƒ",fc="é¢„è®¡é€è¾¾æ—¶é—´ï¼š",bc="è¿”å›é¦–é¡µ",jc="ç‚¹å‡»å‘¼å«æŒ‰é’®å¼€å§‹æ‚¨çš„è¯·æ±‚ã€‚",vc="è¯·æ£€æŸ¥å¹¶ç¡®è®¤æ‚¨çš„è¯·æ±‚ä»¥ç¡®ä¿å‡†ç¡®ã€‚",yc="æ‚¨çš„è¯·æ±‚å°†è¢«å‘é€åˆ°å‰å°è¿›è¡Œå¤„ç†ã€‚",Nc="å·²ç¡®è®¤",wc="å¤„ç†ä¸­",_c="é…é€ä¸­",kc="å·²å®Œæˆ",Sc="ç‰¹åˆ«è¯´æ˜",Cc="å…¥ä½/é€€æˆ¿",$c="å»¶é•¿ä½å®¿è¯·æ±‚",Tc="æˆ¿é—´ä¿¡æ¯",Ac="é…’åº—æ”¿ç­–",Ic="æ— çº¿ç½‘ç»œæœåŠ¡",Dc="å®¢æˆ¿é¤é¥®æœåŠ¡",Rc="é¥®å“ä¸é…’å§æœåŠ¡",Ec="æˆ¿é—´æ¸…æ´",Pc="æ´—è¡£æœåŠ¡",Mc="å”¤é†’æœåŠ¡",Lc="é¢å¤–è®¾æ–½",Fc="ç»´ä¿®è¯·æ±‚",Oc="é¤å…é¢„è®¢",Bc="æ°´ç–—æœåŠ¡",zc="å¥èº«ä¸­å¿ƒ",Hc="æ¸¸æ³³æ± ",qc="ç§Ÿè½¦æœåŠ¡",Vc="åŒ»ç–—æ´åŠ©",Uc="å®¢æˆ·æ”¯æŒ",Gc="å½“åœ°æ™¯ç‚¹",Wc="å½“åœ°é¤å…",Kc="å…¬å…±äº¤é€š",Yc="å½“åœ°æ´»åŠ¨",Xc="è´­ç‰©åŒºåŸŸ",Zc="åŒºåŸŸåœ°å›¾",Jc="ç¿»è¯‘æœåŠ¡",Qc="ç•™ä¸‹è¯„è®º",ed="æŠ¥å‘Šé—®é¢˜",td="è¡ŒææœåŠ¡",sd="æ­£åœ¨ç”Ÿæˆæ‚¨çš„æ‘˜è¦...",nd={welcome:wl,start:_l,language:kl,english:Sl,french:Cl,send:$l,cancel:Tl,confirm_request:Al,room:Il,order_id:Dl,guest_name:Rl,content:El,time:Pl,status:Ml,action:Ll,message_guest:Fl,request_management:Ol,login:Bl,username:zl,password:Hl,hotel_name:ql,hotel_subtitle:Vl,press_to_call:Ul,room_and_stay:Gl,room_services:Wl,bookings_and_facilities:Kl,tourism_and_exploration:Yl,support_external_services:Xl,order_ref:Zl,requested_at:Jl,estimated_completion:Ql,time_remaining:ec,mute:tc,unmute:sc,confirm:nc,need_conversation:ac,tap_to_speak:ic,order_summary:rc,send_to_reception:oc,add_note:lc,room_number:cc,enter_room_number:dc,enter_notes:mc,summary:hc,generated_at:uc,order_confirmed:xc,order_confirmed_message:gc,order_reference:pc,estimated_delivery_time:fc,return_to_home:bc,press_to_call_desc:jc,confirm_request_desc:vc,send_to_reception_desc:yc,status_acknowledged:Nc,status_in_progress:wc,status_delivering:_c,status_completed:kc,status_note:Sc,icon_login:Cc,icon_hourglass_empty:$c,icon_info:Tc,icon_policy:Ac,icon_wifi:Ic,icon_restaurant:Dc,icon_local_bar:Rc,icon_cleaning_services:Ec,icon_local_laundry_service:Pc,icon_alarm:Mc,icon_add_circle:Lc,icon_build:Fc,icon_event_seat:Oc,icon_spa:Bc,icon_fitness_center:zc,icon_pool:Hc,icon_directions_car:qc,icon_medical_services:Vc,icon_support_agent:Uc,icon_location_on:Gc,icon_local_dining:Wc,icon_directions_bus:Kc,icon_event:Yc,icon_shopping_bag:Xc,icon_map:Zc,icon_translate:Jc,icon_rate_review:Qc,icon_report_problem:ed,icon_luggage:td,generating_your_summary:sd},ad="Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² Ğ¾Ñ‚ĞµĞ»ÑŒ Mi Nhon",id="ĞĞ°Ñ‡Ğ°Ñ‚ÑŒ",rd="Ğ¯Ğ·Ñ‹Ğº",od="ĞĞ½Ğ³Ğ»Ğ¸Ğ¹ÑĞºĞ¸Ğ¹",ld="Ğ¤Ñ€Ğ°Ğ½Ñ†ÑƒĞ·ÑĞºĞ¸Ğ¹",cd="Ğ ÑƒÑÑĞºĞ¸Ğ¹",dd="ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ",md="ĞÑ‚Ğ¼ĞµĞ½Ğ°",hd="ĞŸĞ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ´Ğ¸Ñ‚ÑŒ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ",ud="ĞĞ¾Ğ¼ĞµÑ€",xd="ID Ğ·Ğ°ĞºĞ°Ğ·Ğ°",gd="Ğ˜Ğ¼Ñ Ğ³Ğ¾ÑÑ‚Ñ",pd="Ğ¡Ğ¾Ğ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ğµ",fd="Ğ’Ñ€ĞµĞ¼Ñ",bd="Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ",jd="Ğ”ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ",vd="Ğ¡Ğ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ³Ğ¾ÑÑ‚Ñ",yd="Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°Ğ¼Ğ¸ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»Ğ°",Nd="Ğ’Ñ…Ğ¾Ğ´",wd="Ğ˜Ğ¼Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ",_d="ĞŸĞ°Ñ€Ğ¾Ğ»ÑŒ",kd="ĞÑ‚ĞµĞ»ÑŒ Mui Ne",Sd="Ğ˜Ğ˜-Ğ°ÑÑĞ¸ÑÑ‚ĞµĞ½Ñ‚ - ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° Ğ²ÑĞµÑ… Ğ²Ğ°ÑˆĞ¸Ñ… Ğ¿Ğ¾Ñ‚Ñ€ĞµĞ±Ğ½Ğ¾ÑÑ‚ĞµĞ¹",Cd="ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ Ğ´Ğ»Ñ Ğ·Ğ²Ğ¾Ğ½ĞºĞ°",$d="ĞĞ¾Ğ¼ĞµÑ€ Ğ¸ Ğ¿Ñ€Ğ¾Ğ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ",Td="Ğ£ÑĞ»ÑƒĞ³Ğ¸ Ğ½Ğ¾Ğ¼ĞµÑ€Ğ°",Ad="Ğ‘Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¸ ÑƒĞ´Ğ¾Ğ±ÑÑ‚Ğ²Ğ°",Id="Ğ¢ÑƒÑ€Ğ¸Ğ·Ğ¼ Ğ¸ Ğ¸ÑÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ",Dd="ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ñ… ÑƒÑĞ»ÑƒĞ³",Rd="Ğ¡ÑÑ‹Ğ»ĞºĞ° Ğ½Ğ° Ğ·Ğ°ĞºĞ°Ğ·",Ed="Ğ—Ğ°Ğ¿Ñ€Ğ¾ÑˆĞµĞ½Ğ¾ Ğ²",Pd="ĞŸÑ€ĞµĞ´Ğ¿Ğ¾Ğ»Ğ°Ğ³Ğ°ĞµĞ¼Ğ¾Ğµ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ğµ",Md="ĞÑÑ‚Ğ°Ğ²ÑˆĞµĞµÑÑ Ğ²Ñ€ĞµĞ¼Ñ",Ld="Ğ‘ĞµĞ· Ğ·Ğ²ÑƒĞºĞ°",Fd="Ğ’ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ Ğ·Ğ²ÑƒĞº",Od="ĞŸĞ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ´Ğ¸Ñ‚ÑŒ",Bd="ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, ÑĞ½Ğ°Ñ‡Ğ°Ğ»Ğ° Ğ¿Ğ¾Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ¸Ñ‚Ğµ Ñ Ğ°ÑÑĞ¸ÑÑ‚ĞµĞ½Ñ‚Ğ¾Ğ¼.",zd="ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ¸Ñ‚ÑŒ",Hd="Ğ¡Ğ²Ğ¾Ğ´ĞºĞ° Ğ·Ğ°ĞºĞ°Ğ·Ğ°",qd="ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ½Ğ° Ñ€ĞµÑĞµĞ¿ÑˆĞµĞ½",Vd="Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ·Ğ°Ğ¼ĞµÑ‚ĞºÑƒ",Ud="ĞĞ¾Ğ¼ĞµÑ€ ĞºĞ¾Ğ¼Ğ½Ğ°Ñ‚Ñ‹",Gd="Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ½Ğ¾Ğ¼ĞµÑ€ ĞºĞ¾Ğ¼Ğ½Ğ°Ñ‚Ñ‹",Wd="Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ´Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ·Ğ°Ğ¼ĞµÑ‚ĞºĞ¸",Kd="Ğ¡Ğ²Ğ¾Ğ´ĞºĞ°",Yd="Ğ¡Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¾ Ğ²",Xd="Ğ—Ğ°ĞºĞ°Ğ· Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½!",Zd="Ğ’Ğ°Ñˆ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½ Ğ¸ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ğ½ Ğ½Ğ°ÑˆĞµĞ¼Ñƒ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»Ñƒ. ĞĞ½Ğ¸ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‚ ĞµĞ³Ğ¾ Ğ½ĞµĞ¼ĞµĞ´Ğ»ĞµĞ½Ğ½Ğ¾.",Jd="Ğ¡ÑÑ‹Ğ»ĞºĞ° Ğ½Ğ° Ğ·Ğ°ĞºĞ°Ğ·",Qd="ĞŸÑ€ĞµĞ´Ğ¿Ğ¾Ğ»Ğ°Ğ³Ğ°ĞµĞ¼Ğ¾Ğµ Ğ²Ñ€ĞµĞ¼Ñ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸:",em="Ğ’ĞµÑ€Ğ½ÑƒÑ‚ÑŒÑÑ Ğ½Ğ° Ğ³Ğ»Ğ°Ğ²Ğ½ÑƒÑ",tm="ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ Ğ²Ñ‹Ğ·Ğ¾Ğ²Ğ°, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ½Ğ°Ñ‡Ğ°Ñ‚ÑŒ Ğ²Ğ°Ñˆ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ.",sm="ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ Ğ¸ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ´Ğ¸Ñ‚Ğµ Ğ²Ğ°Ñˆ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ´Ğ»Ñ Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚Ğ¸.",nm="Ğ’Ğ°Ñˆ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ±ÑƒĞ´ĞµÑ‚ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½ Ğ½Ğ° Ñ€ĞµÑĞµĞ¿ÑˆĞµĞ½ Ğ´Ğ»Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸.",am="ĞŸĞ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¾",im="Ğ’ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞµ",rm="Ğ”Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ÑÑ",om="Ğ—Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¾",lm="ĞÑĞ¾Ğ±Ğ°Ñ Ğ·Ğ°Ğ¼ĞµÑ‚ĞºĞ°",cm="Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ/Ğ’Ñ‹ÑĞµĞ»ĞµĞ½Ğ¸Ğµ",dm="Ğ—Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ½Ğ° Ğ¿Ñ€Ğ¾Ğ´Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ñ",mm="Ğ˜Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ Ğ½Ğ¾Ğ¼ĞµÑ€Ğµ",hm="ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ° Ğ¾Ñ‚ĞµĞ»Ñ",um="Wi-Fi ÑƒÑĞ»ÑƒĞ³Ğ¸",xm="Ğ ĞµÑÑ‚Ğ¾Ñ€Ğ°Ğ½Ğ½Ğ¾Ğµ Ğ¾Ğ±ÑĞ»ÑƒĞ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ½Ğ¾Ğ¼ĞµÑ€Ğ¾Ğ²",gm="ĞĞ°Ğ¿Ğ¸Ñ‚ĞºĞ¸ Ğ¸ Ğ±Ğ°Ñ€",pm="Ğ£Ğ±Ğ¾Ñ€ĞºĞ° Ğ½Ğ¾Ğ¼ĞµÑ€Ğ°",fm="Ğ£ÑĞ»ÑƒĞ³Ğ¸ Ğ¿Ñ€Ğ°Ñ‡ĞµÑ‡Ğ½Ğ¾Ğ¹",bm="Ğ£ÑĞ»ÑƒĞ³Ğ° Ğ±ÑƒĞ´Ğ¸Ğ»ÑŒĞ½Ğ¸ĞºĞ°",jm="Ğ”Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ ÑƒĞ´Ğ¾Ğ±ÑÑ‚Ğ²Ğ°",vm="Ğ—Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ½Ğ° Ñ‚ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¾Ğ±ÑĞ»ÑƒĞ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ",ym="Ğ‘Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ€ĞµÑÑ‚Ğ¾Ñ€Ğ°Ğ½Ğ°",Nm="Ğ¡ĞŸĞ ÑƒÑĞ»ÑƒĞ³Ğ¸",wm="Ğ¤Ğ¸Ñ‚Ğ½ĞµÑ-Ñ†ĞµĞ½Ñ‚Ñ€",_m="Ğ‘Ğ°ÑÑĞµĞ¹Ğ½",km="ĞÑ€ĞµĞ½Ğ´Ğ° Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ¾Ğ±Ğ¸Ğ»Ñ",Sm="ĞœĞµĞ´Ğ¸Ñ†Ğ¸Ğ½ÑĞºĞ°Ñ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒ",Cm="ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ²",$m="ĞœĞµÑÑ‚Ğ½Ñ‹Ğµ Ğ´Ğ¾ÑÑ‚Ğ¾Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸",Tm="ĞœĞµÑÑ‚Ğ½Ñ‹Ğµ Ñ€ĞµÑÑ‚Ğ¾Ñ€Ğ°Ğ½Ñ‹",Am="ĞĞ±Ñ‰ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğ¹ Ñ‚Ñ€Ğ°Ğ½ÑĞ¿Ğ¾Ñ€Ñ‚",Im="ĞœĞµÑÑ‚Ğ½Ñ‹Ğµ Ğ¼ĞµÑ€Ğ¾Ğ¿Ñ€Ğ¸ÑÑ‚Ğ¸Ñ",Dm="Ğ¢Ğ¾Ñ€Ğ³Ğ¾Ğ²Ñ‹Ğµ Ğ·Ğ¾Ğ½Ñ‹",Rm="ĞšĞ°Ñ€Ñ‚Ñ‹ Ğ¼ĞµÑÑ‚Ğ½Ğ¾ÑÑ‚Ğ¸",Em="Ğ£ÑĞ»ÑƒĞ³Ğ¸ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ°",Pm="ĞÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¾Ñ‚Ğ·Ñ‹Ğ²",Mm="Ğ¡Ğ¾Ğ¾Ğ±Ñ‰Ğ¸Ñ‚ÑŒ Ğ¾ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğµ",Lm="Ğ£ÑĞ»ÑƒĞ³Ğ¸ Ğ±Ğ°Ğ³Ğ°Ğ¶Ğ°",Fm="Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ Ğ²Ğ°Ñˆ Ğ¸Ñ‚Ğ¾Ğ³...",Om={welcome:ad,start:id,language:rd,english:od,french:ld,russian:cd,send:dd,cancel:md,confirm_request:hd,room:ud,order_id:xd,guest_name:gd,content:pd,time:fd,status:bd,action:jd,message_guest:vd,request_management:yd,login:Nd,username:wd,password:_d,hotel_name:kd,hotel_subtitle:Sd,press_to_call:Cd,room_and_stay:$d,room_services:Td,bookings_and_facilities:Ad,tourism_and_exploration:Id,support_external_services:Dd,order_ref:Rd,requested_at:Ed,estimated_completion:Pd,time_remaining:Md,mute:Ld,unmute:Fd,confirm:Od,need_conversation:Bd,tap_to_speak:zd,order_summary:Hd,send_to_reception:qd,add_note:Vd,room_number:Ud,enter_room_number:Gd,enter_notes:Wd,summary:Kd,generated_at:Yd,order_confirmed:Xd,order_confirmed_message:Zd,order_reference:Jd,estimated_delivery_time:Qd,return_to_home:em,press_to_call_desc:tm,confirm_request_desc:sm,send_to_reception_desc:nm,status_acknowledged:am,status_in_progress:im,status_delivering:rm,status_completed:om,status_note:lm,icon_login:cm,icon_hourglass_empty:dm,icon_info:mm,icon_policy:hm,icon_wifi:um,icon_restaurant:xm,icon_local_bar:gm,icon_cleaning_services:pm,icon_local_laundry_service:fm,icon_alarm:bm,icon_add_circle:jm,icon_build:vm,icon_event_seat:ym,icon_spa:Nm,icon_fitness_center:wm,icon_pool:_m,icon_directions_car:km,icon_medical_services:Sm,icon_support_agent:Cm,icon_location_on:$m,icon_local_dining:Tm,icon_directions_bus:Am,icon_event:Im,icon_shopping_bag:Dm,icon_map:Rm,icon_translate:Em,icon_rate_review:Pm,icon_report_problem:Mm,icon_luggage:Lm,generating_your_summary:Fm},Bm="ë¯¸ë…„ í˜¸í…”ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤",zm="ì‹œì‘",Hm="ì–¸ì–´",qm="ì˜ì–´",Vm="í”„ë‘ìŠ¤ì–´",Um="ëŸ¬ì‹œì•„ì–´",Gm="í•œêµ­ì–´",Wm="ë³´ë‚´ê¸°",Km="ì·¨ì†Œ",Ym="ìš”ì²­ í™•ì¸",Xm="ê°ì‹¤",Zm="ì£¼ë¬¸ ID",Jm="íˆ¬ìˆ™ê° ì´ë¦„",Qm="ë‚´ìš©",eh="ì‹œê°„",th="ìƒíƒœ",sh="ë™ì‘",nh="ê²ŒìŠ¤íŠ¸ì—ê²Œ ë©”ì‹œì§€ ë³´ë‚´ê¸°",ah="ì§ì› ìš”ì²­ ê´€ë¦¬",ih="ë¡œê·¸ì¸",rh="ì‚¬ìš©ì ì´ë¦„",oh="ë¹„ë°€ë²ˆí˜¸",lh="ë¬´ì´ë„¤ í˜¸í…”",ch="AI ì–´ì‹œìŠ¤í„´íŠ¸ - ëª¨ë“  í•„ìš”ë¥¼ ì§€ì›í•©ë‹ˆë‹¤",dh="í˜¸ì¶œí•˜ë ¤ë©´ ëˆ„ë¥´ì„¸ìš”",mh="ê°ì‹¤ ë° ìˆ™ë°•",hh="ê°ì‹¤ ì„œë¹„ìŠ¤",uh="ì˜ˆì•½ ë° ì‹œì„¤",xh="ê´€ê´‘ ë° íƒí—˜",gh="ì™¸ë¶€ ì„œë¹„ìŠ¤ ì§€ì›",ph="ì£¼ë¬¸ ì°¸ì¡°",fh="ìš”ì²­ ì‹œê°„",bh="ì˜ˆìƒ ì™„ë£Œ ì‹œê°„",jh="ë‚¨ì€ ì‹œê°„",vh="ìŒì†Œê±°",yh="ìŒì†Œê±° í•´ì œ",Nh="í™•ì¸",wh="ë¨¼ì € ì–´ì‹œìŠ¤í„´íŠ¸ì™€ ëŒ€í™”í•´ ì£¼ì„¸ìš”.",_h="ë§í•˜ë ¤ë©´ ëˆ„ë¥´ì„¸ìš”",kh="ì£¼ë¬¸ ìš”ì•½",Sh="í”„ëŸ°íŠ¸ë¡œ ë³´ë‚´ê¸°",Ch="ë©”ëª¨ ì¶”ê°€",$h="ê°ì‹¤ ë²ˆí˜¸",Th="ê°ì‹¤ ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”",Ah="ì¶”ê°€ ë©”ëª¨ë¥¼ ì…ë ¥í•˜ì„¸ìš”",Ih="ìš”ì•½",Dh="ìƒì„± ì‹œê°„",Rh="ì£¼ë¬¸ì´ í™•ì¸ë˜ì—ˆìŠµë‹ˆë‹¤!",Eh="ê·€í•˜ì˜ ìš”ì²­ì´ í™•ì¸ë˜ì–´ ì§ì›ì—ê²Œ ì „ë‹¬ë˜ì—ˆìŠµë‹ˆë‹¤. ì¦‰ì‹œ ì²˜ë¦¬í•˜ê² ìŠµë‹ˆë‹¤.",Ph="ì£¼ë¬¸ ì°¸ì¡°",Mh="ì˜ˆìƒ ë°°ë‹¬ ì‹œê°„:",Lh="í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°",Fh="ìš”ì²­ì„ ì‹œì‘í•˜ë ¤ë©´ í˜¸ì¶œ ë²„íŠ¼ì„ ëˆ„ë¥´ì„¸ìš”.",Oh="ì •í™•ì„±ì„ ìœ„í•´ ìš”ì²­ì„ í™•ì¸í•˜ì„¸ìš”.",Bh="ê·€í•˜ì˜ ìš”ì²­ì´ í”„ëŸ°íŠ¸ë¡œ ì „ì†¡ë˜ì–´ ì²˜ë¦¬ë©ë‹ˆë‹¤.",zh="ì ‘ìˆ˜ë¨",Hh="ì²˜ë¦¬ ì¤‘",qh="ë°°ë‹¬ ì¤‘",Vh="ì™„ë£Œë¨",Uh="íŠ¹ë³„ ì•ˆë‚´",Gh="ì²´í¬ì¸/ì²´í¬ì•„ì›ƒ",Wh="ìˆ™ë°• ì—°ì¥ ìš”ì²­",Kh="ê°ì‹¤ ì •ë³´",Yh="í˜¸í…” ì •ì±…",Xh="ì™€ì´íŒŒì´ ì„œë¹„ìŠ¤",Zh="ë£¸ì„œë¹„ìŠ¤ ìŒì‹",Jh="ìŒë£Œ ë° ë°” ì„œë¹„ìŠ¤",Qh="ê°ì‹¤ ì²­ì†Œ",eu="ì„¸íƒ ì„œë¹„ìŠ¤",tu="ëª¨ë‹ì½œ ì„œë¹„ìŠ¤",su="ì¶”ê°€ í¸ì˜ ì‹œì„¤",nu="ìœ ì§€ë³´ìˆ˜ ìš”ì²­",au="ë ˆìŠ¤í† ë‘ ì˜ˆì•½",iu="ìŠ¤íŒŒ ì„œë¹„ìŠ¤",ru="í”¼íŠ¸ë‹ˆìŠ¤ ì„¼í„°",ou="ìˆ˜ì˜ì¥",lu="ë Œí„°ì¹´",cu="ì˜ë£Œ ì§€ì›",du="ê³ ê° ì§€ì›",mu="ì§€ì—­ ëª…ì†Œ",hu="ì§€ì—­ ë ˆìŠ¤í† ë‘",uu="ëŒ€ì¤‘êµí†µ",xu="ì§€ì—­ ì´ë²¤íŠ¸",gu="ì‡¼í•‘ ì§€ì—­",pu="ì§€ì—­ ì§€ë„",fu="ë²ˆì—­ ì„œë¹„ìŠ¤",bu="ë¦¬ë·° ë‚¨ê¸°ê¸°",ju="ë¬¸ì œ ì‹ ê³ ",vu="ìˆ˜í™”ë¬¼ ì„œë¹„ìŠ¤",yu="ìš”ì•½ì„ ìƒì„±í•˜ëŠ” ì¤‘...",Nu={welcome:Bm,start:zm,language:Hm,english:qm,french:Vm,russian:Um,korean:Gm,send:Wm,cancel:Km,confirm_request:Ym,room:Xm,order_id:Zm,guest_name:Jm,content:Qm,time:eh,status:th,action:sh,message_guest:nh,request_management:ah,login:ih,username:rh,password:oh,hotel_name:lh,hotel_subtitle:ch,press_to_call:dh,room_and_stay:mh,room_services:hh,bookings_and_facilities:uh,tourism_and_exploration:xh,support_external_services:gh,order_ref:ph,requested_at:fh,estimated_completion:bh,time_remaining:jh,mute:vh,unmute:yh,confirm:Nh,need_conversation:wh,tap_to_speak:_h,order_summary:kh,send_to_reception:Sh,add_note:Ch,room_number:$h,enter_room_number:Th,enter_notes:Ah,summary:Ih,generated_at:Dh,order_confirmed:Rh,order_confirmed_message:Eh,order_reference:Ph,estimated_delivery_time:Mh,return_to_home:Lh,press_to_call_desc:Fh,confirm_request_desc:Oh,send_to_reception_desc:Bh,status_acknowledged:zh,status_in_progress:Hh,status_delivering:qh,status_completed:Vh,status_note:Uh,icon_login:Gh,icon_hourglass_empty:Wh,icon_info:Kh,icon_policy:Yh,icon_wifi:Xh,icon_restaurant:Zh,icon_local_bar:Jh,icon_cleaning_services:Qh,icon_local_laundry_service:eu,icon_alarm:tu,icon_add_circle:su,icon_build:nu,icon_event_seat:au,icon_spa:iu,icon_fitness_center:ru,icon_pool:ou,icon_directions_car:lu,icon_medical_services:cu,icon_support_agent:du,icon_location_on:mu,icon_local_dining:hu,icon_directions_bus:uu,icon_event:xu,icon_shopping_bag:gu,icon_map:pu,icon_translate:fu,icon_rate_review:bu,icon_report_problem:ju,icon_luggage:vu,generating_your_summary:yu},wu="KhÃ¡ch sáº¡n Mui Ne",_u="Trá»£ lÃ½ giá»ng nÃ³i AI - Há»— trá»£ má»i nhu cáº§u cá»§a báº¡n",ku="Nháº¥n Ä‘á»ƒ nÃ³i",Su="PhÃ²ng & LÆ°u trÃº",Cu="Dá»‹ch vá»¥ phÃ²ng",$u="Äáº·t chá»— & Tiá»‡n Ã­ch",Tu="Du lá»‹ch & KhÃ¡m phÃ¡",Au="Há»— trá»£ Ä‘áº·t dá»‹ch vá»¥ bÃªn ngoÃ i",Iu="MÃ£ Ä‘Æ¡n",Du="Thá»i gian yÃªu cáº§u",Ru="Dá»± kiáº¿n hoÃ n thÃ nh",Eu="Thá»i gian cÃ²n láº¡i",Pu="Táº¯t mic",Mu="Báº­t mic",Lu="XÃ¡c nháº­n",Fu="Vui lÃ²ng nÃ³i chuyá»‡n vá»›i trá»£ lÃ½ trÆ°á»›c.",Ou="Cháº¡m Ä‘á»ƒ nÃ³i",Bu="TÃ³m táº¯t Ä‘Æ¡n hÃ ng",zu="XÃ¡c nháº­n",Hu="ThÃªm ghi chÃº",qu="Sá»‘ phÃ²ng",Vu="Nháº­p sá»‘ phÃ²ng",Uu="Nháº­p ghi chÃº bá»• sung",Gu="TÃ³m táº¯t",Wu="Táº¡o lÃºc",Ku="ÄÃ£ xÃ¡c nháº­n Ä‘Æ¡n!",Yu="YÃªu cáº§u cá»§a báº¡n Ä‘Ã£ Ä‘Æ°á»£c xÃ¡c nháº­n vÃ  chuyá»ƒn Ä‘áº¿n nhÃ¢n viÃªn. ChÃºng tÃ´i sáº½ xá»­ lÃ½ ngay láº­p tá»©c.",Xu="MÃ£ tham chiáº¿u",Zu="Thá»i gian giao dá»± kiáº¿n:",Ju="Vá» trang chá»§",Qu="NgÃ´n ngá»¯",ex="Tiáº¿ng Anh",tx="Tiáº¿ng PhÃ¡p",sx="Gá»­i",nx="Há»§y",ax="Káº¿t thÃºc cuá»™c gá»i",ix="PhÃ²ng",rx="MÃ£ Ä‘Æ¡n",ox="TÃªn khÃ¡ch",lx="Ná»™i dung",cx="Thá»i gian",dx="Tráº¡ng thÃ¡i",mx="HÃ nh Ä‘á»™ng",hx="Nháº¯n khÃ¡ch",ux="Quáº£n lÃ½ yÃªu cáº§u nhÃ¢n viÃªn",xx="ÄÄƒng nháº­p",gx="TÃªn Ä‘Äƒng nháº­p",px="Máº­t kháº©u",fx="Nháº¥n nÃºt gá»i Ä‘á»ƒ báº¯t Ä‘áº§u yÃªu cáº§u cá»§a báº¡n.",bx="Xem láº¡i vÃ  xÃ¡c nháº­n yÃªu cáº§u cá»§a báº¡n.",jx="YÃªu cáº§u cá»§a báº¡n sáº½ Ä‘Æ°á»£c gá»­i Ä‘áº¿n lá»… tÃ¢n Ä‘á»ƒ xá»­ lÃ½.",vx="ÄÃ£ ghi nháº­n",yx="Äang xá»­ lÃ½",Nx="Äang giao cho báº¡n",wx="ÄÃ£ hoÃ n thÃ nh",_x="LÆ°u Ã½ Ä‘áº·c biá»‡t",kx="Nháº­n/Tráº£ phÃ²ng",Sx="YÃªu cáº§u gia háº¡n lÆ°u trÃº",Cx="ThÃ´ng tin phÃ²ng",$x="ChÃ­nh sÃ¡ch khÃ¡ch sáº¡n",Tx="Dá»‹ch vá»¥ Wi-Fi",Ax="Äá»“ Äƒn táº¡i phÃ²ng",Ix="Dá»‹ch vá»¥ Ä‘á»“ uá»‘ng & quáº§y bar",Dx="Dá»n phÃ²ng",Rx="Giáº·t lÃ ",Ex="BÃ¡o thá»©c",Px="Tiá»‡n Ã­ch bá»• sung",Mx="YÃªu cáº§u báº£o trÃ¬",Lx="Äáº·t chá»— nhÃ  hÃ ng",Fx="Dá»‹ch vá»¥ Spa",Ox="Trung tÃ¢m thá»ƒ hÃ¬nh",Bx="Há»“ bÆ¡i",zx="ThuÃª xe",Hx="Há»— trá»£ y táº¿",qx="ChÄƒm sÃ³c khÃ¡ch hÃ ng",Vx="Äiá»ƒm tham quan",Ux="NhÃ  hÃ ng Ä‘á»‹a phÆ°Æ¡ng",Gx="PhÆ°Æ¡ng tiá»‡n cÃ´ng cá»™ng",Wx="Sá»± kiá»‡n Ä‘á»‹a phÆ°Æ¡ng",Kx="Khu mua sáº¯m",Yx="Báº£n Ä‘á»“ khu vá»±c",Xx="Dá»‹ch vá»¥ phiÃªn dá»‹ch",Zx="ÄÃ¡nh giÃ¡",Jx="BÃ¡o sá»± cá»‘",Qx="Dá»‹ch vá»¥ hÃ nh lÃ½",eg="Äang táº¡o tÃ³m táº¯t cá»§a báº¡n...",tg="NÃ³i Nhiá»u NgÃ´n Ngá»¯ vá»›i Trá»£ LÃ½ AI cá»§a ChÃºng TÃ´i",sg={hotel_name:wu,hotel_subtitle:_u,press_to_call:ku,room_and_stay:Su,room_services:Cu,bookings_and_facilities:$u,tourism_and_exploration:Tu,support_external_services:Au,order_ref:Iu,requested_at:Du,estimated_completion:Ru,time_remaining:Eu,mute:Pu,unmute:Mu,confirm:Lu,need_conversation:Fu,tap_to_speak:Ou,order_summary:Bu,send_to_reception:zu,add_note:Hu,room_number:qu,enter_room_number:Vu,enter_notes:Uu,summary:Gu,generated_at:Wu,order_confirmed:Ku,order_confirmed_message:Yu,order_reference:Xu,estimated_delivery_time:Zu,return_to_home:Ju,language:Qu,english:ex,french:tx,send:sx,cancel:nx,confirm_request:ax,room:ix,order_id:rx,guest_name:ox,content:lx,time:cx,status:dx,action:mx,message_guest:hx,request_management:ux,login:xx,username:gx,password:px,press_to_call_desc:fx,confirm_request_desc:bx,send_to_reception_desc:jx,status_acknowledged:vx,status_in_progress:yx,status_delivering:Nx,status_completed:wx,status_note:_x,icon_login:kx,icon_hourglass_empty:Sx,icon_info:Cx,icon_policy:$x,icon_wifi:Tx,icon_restaurant:Ax,icon_local_bar:Ix,icon_cleaning_services:Dx,icon_local_laundry_service:Rx,icon_alarm:Ex,icon_add_circle:Px,icon_build:Mx,icon_event_seat:Lx,icon_spa:Fx,icon_fitness_center:Ox,icon_pool:Bx,icon_directions_car:zx,icon_medical_services:Hx,icon_support_agent:qx,icon_location_on:Vx,icon_local_dining:Ux,icon_directions_bus:Gx,icon_event:Wx,icon_shopping_bag:Kx,icon_map:Yx,icon_translate:Xx,icon_rate_review:Zx,icon_report_problem:Jx,icon_luggage:Qx,generating_your_summary:eg,speak_multiple_languages:tg},ng={en:Or,fr:Nl,zh:nd,ru:Om,ko:Nu,vi:sg};function $(t,s="en"){return ng[s][t]||t}class ag{constructor(s){this.gradientRotation=0,this.isHovered=!1,this.isActive=!1,this.waveformPhase=0,this.particles=[],this.mouseX=0,this.mouseY=0,this.isDarkMode=!1,this.elapsedTime=0,this.displayedTime=0,this.timeTarget=60,this.idleFrame=0,this.lastActiveTime=Date.now(),this.idleFlash=0,this.canvas=document.createElement("canvas");const n=document.getElementById(s);if(!n)throw new Error("Container element not found");n.appendChild(this.canvas);const a=this.canvas.getContext("2d");if(!a)throw new Error("Could not get canvas context");this.ctx=a,this.width=200,this.height=200,this.centerX=this.width/2,this.centerY=this.height/2,this.radius=40,this.ripples=[],this.isListening=!1,this.pulsePhase=0,this.volumeLevel=0,this.animationFrameId=0,this.resize(),this.animate(),window.addEventListener("resize",this.resize.bind(this)),n&&(n.addEventListener("mouseenter",()=>{this.isHovered=!0,this.lastActiveTime=Date.now()}),n.addEventListener("mouseleave",()=>{this.isHovered=!1,this.isActive=!1}),n.addEventListener("mousedown",()=>{this.isActive=!0,this.lastActiveTime=Date.now()}),n.addEventListener("mouseup",()=>{this.isActive=!1}),n.addEventListener("mousemove",c=>{const r=n.getBoundingClientRect();this.mouseX=c.clientX-r.left,this.mouseY=c.clientY-r.top,this.lastActiveTime=Date.now()})),this.isDarkMode=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",c=>{this.isDarkMode=c.matches})}resize(){const s=this.canvas.parentElement;if(!s)return;const n=window.devicePixelRatio||1,a=Math.min(s.clientWidth,s.clientHeight);this.width=this.height=a,this.canvas.width=this.canvas.height=a*n,this.canvas.style.width=this.canvas.style.height=`${a}px`,this.canvas.style.borderRadius="50%",this.canvas.style.overflow="hidden",this.ctx.setTransform(1,0,0,1,0,0),this.ctx.scale(n,n),this.centerX=this.width/2,this.centerY=this.height/2}drawTexturePattern(){const s="rgba(232,181,84,0.18)";for(let a=-this.radius;a<this.radius;a+=14)for(let c=-this.radius;c<this.radius;c+=14)a*a+c*c<this.radius*this.radius*.85&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.centerX+a,this.centerY+c,1.2,0,Math.PI*2),this.ctx.fillStyle=s,this.ctx.fill(),this.ctx.restore())}drawLightBeam(){if(!(this.isHovered||this.isActive))return;this.ctx.save();const s=this.ctx.createLinearGradient(this.centerX,this.centerY-this.radius*1.3,this.centerX,this.centerY+this.radius*.5);s.addColorStop(0,"rgba(255,255,255,0.22)"),s.addColorStop(.5,"rgba(255,255,255,0.08)"),s.addColorStop(1,"rgba(255,255,255,0)"),this.ctx.beginPath(),this.ctx.ellipse(this.centerX,this.centerY-this.radius*.7,this.radius*.7,this.radius*.22,0,0,2*Math.PI),this.ctx.fillStyle=s,this.ctx.filter="blur(2.5px)",this.ctx.fill(),this.ctx.filter="none",this.ctx.restore()}drawBaseCircle(){let s=0,n=0;this.isHovered&&(s=(this.mouseX-this.centerX)*.07,n=(this.mouseY-this.centerY)*.07),this.gradientRotation+=.0025;const a=this.gradientRotation%(2*Math.PI),c=this.centerX+Math.cos(a)*this.radius*1.2,r=this.centerY+Math.sin(a)*this.radius*1.2,o=this.ctx.createLinearGradient(this.centerX-this.radius*1.2+s,this.centerY-this.radius*1.2+n,c+s,r+n);o.addColorStop(0,this.isDarkMode?"#559A9A":"#5DB6B9"),o.addColorStop(1,this.isDarkMode?"#559A9A":"#5DB6B9"),this.ctx.save(),this.ctx.globalAlpha=.85,this.ctx.beginPath(),this.ctx.arc(this.centerX+s,this.centerY+n,this.radius*1.25,0,Math.PI*2),this.ctx.strokeStyle=o,this.ctx.lineWidth=12,this.ctx.shadowColor=(this.isHovered,"#559A9A"),this.ctx.shadowBlur=this.isHovered?32:16,this.ctx.stroke(),this.ctx.restore(),this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.centerX+s,this.centerY+n,this.radius*1.13,0,Math.PI*2),this.ctx.fillStyle=this.isDarkMode?"rgba(40,50,80,0.18)":"rgba(255,255,255,0.10)",this.ctx.filter="blur(2.5px)",this.ctx.fill(),this.ctx.filter="none",this.ctx.restore(),this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.centerX+s,this.centerY+n,this.radius*.98,0,Math.PI*2),this.ctx.fillStyle=this.isDarkMode?"#bfa133":"#E8B554",this.ctx.shadowColor=this.isDarkMode?"rgba(85,154,154,0.18)":"rgba(85,154,154,0.25)",this.ctx.shadowBlur=10,this.ctx.fill(),this.ctx.restore(),this.drawTexturePattern(),this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.centerX+s,this.centerY+n,this.radius*.98,0,Math.PI*2),this.ctx.shadowColor=this.isDarkMode?"rgba(85,154,154,0.10)":"rgba(85,154,154,0.18)",this.ctx.shadowBlur=24,this.ctx.globalAlpha=.7,this.ctx.strokeStyle="rgba(0,0,0,0)",this.ctx.lineWidth=8,this.ctx.stroke(),this.ctx.restore(),this.drawLightBeam(),this.drawMicIcon(s,n)}drawMicIcon(s=0,n=0){let a=.85+.15*Math.sin(this.pulsePhase*1.5);this.isHovered&&(a*=1.08),this.isActive&&(a*=.95),this.ctx.save(),this.ctx.translate(this.centerX+s,this.centerY+n),this.ctx.scale(a,a),this.ctx.shadowColor=this.isHovered?"rgba(255,255,255,0.95)":"rgba(255,255,255,0.7)",this.ctx.shadowBlur=16+8*a+(this.isHovered?8:0),this.ctx.beginPath(),this.ctx.moveTo(0,18),this.ctx.arc(0,0,18,Math.PI*.15,Math.PI*1.85,!1),this.ctx.lineTo(0,18),this.ctx.closePath(),this.ctx.fillStyle="rgba(255,255,255,0.92)",this.ctx.fill(),this.ctx.beginPath(),this.ctx.moveTo(-4,18),this.ctx.lineTo(-4,28),this.ctx.lineTo(4,28),this.ctx.lineTo(4,18),this.ctx.closePath(),this.ctx.fillStyle="rgba(255,255,255,0.92)",this.ctx.fill(),this.ctx.beginPath(),this.ctx.arc(0,28,6,0,Math.PI,!0),this.ctx.fillStyle="rgba(255,255,255,0.7)",this.ctx.fill(),this.ctx.restore()}drawRipples(){for(let s=this.ripples.length-1;s>=0;s--){const n=this.ripples[s];if(n.radius+=n.speed,n.alpha-=.01,n.alpha<=0){this.ripples.splice(s,1);continue}this.ctx.beginPath(),this.ctx.arc(this.centerX,this.centerY,n.radius,0,Math.PI*2),this.ctx.strokeStyle=`rgba(85,154,154, ${n.alpha})`,this.ctx.lineWidth=2,this.ctx.stroke()}}drawPulsingRing(){if(this.isListening){const s=this.radius+10+Math.sin(this.pulsePhase)*5,n=this.volumeLevel*20;this.ctx.beginPath(),this.ctx.arc(this.centerX,this.centerY,s+n,0,Math.PI*2),this.ctx.strokeStyle="rgba(33, 150, 243, 0.5)",this.ctx.lineWidth=3,this.ctx.stroke(),this.pulsePhase+=.1}}drawWaveform(){if(!this.isListening)return;const s=4;this.waveformPhase+=.08+this.volumeLevel*.12;for(let n=1;n<=s;n++){const a=this.radius*.98+n*10+Math.sin(this.waveformPhase+n)*3*(1+this.volumeLevel);this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.centerX,this.centerY,a,0,Math.PI*2),this.ctx.strokeStyle=`rgba(232,181,84,${.18+.08*(s-n)})`,this.ctx.lineWidth=2+this.volumeLevel*2,this.ctx.shadowColor="rgba(85,154,154,0.22)",this.ctx.shadowBlur=8,this.ctx.stroke(),this.ctx.restore()}}drawParticles(){if(this.isListening&&Math.random()<.18){const s=Math.random()*2*Math.PI,n=this.radius*1.18+Math.random()*16;this.particles.push({x:this.centerX+Math.cos(s)*n,y:this.centerY+Math.sin(s)*n,alpha:.7+Math.random()*.3,size:2+Math.random()*2,speed:.5+Math.random()*.7})}for(let s=this.particles.length-1;s>=0;s--){const n=this.particles[s];if(n.alpha-=.012,n.size*=.98,n.y-=n.speed*.5,n.x+=Math.sin(n.y*.1)*.2,n.alpha<=.05||n.size<.5){this.particles.splice(s,1);continue}this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.x,n.y,n.size,0,Math.PI*2),this.ctx.fillStyle=`rgba(232,181,84,${n.alpha})`,this.ctx.shadowColor="rgba(85,154,154,0.22)",this.ctx.shadowBlur=6,this.ctx.fill(),this.ctx.restore()}}drawTimeRing(){const s=Math.min(1,this.elapsedTime/this.timeTarget),n=s<.5?"#E8B554":s<1?"#d4af37":"#e53935";this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.centerX,this.centerY,this.radius*1.32,-Math.PI/2,-Math.PI/2+s*2*Math.PI),this.ctx.strokeStyle=n,this.ctx.lineWidth=4,this.ctx.shadowColor=n,this.ctx.shadowBlur=s>.95?16:6,this.ctx.globalAlpha=.85,this.ctx.stroke(),this.ctx.restore()}drawTimeText(){this.displayedTime+=(this.elapsedTime-this.displayedTime)*.18;const s=Math.round(this.displayedTime),n=Math.floor(s/60).toString().padStart(2,"0"),a=(s%60).toString().padStart(2,"0"),c=`${n}:${a}`;this.ctx.save(),this.ctx.font="600 1.25rem Montserrat, Raleway, Arial, sans-serif",this.ctx.textAlign="center",this.ctx.textBaseline="top",this.ctx.shadowColor="rgba(85,154,154,0.22)",this.ctx.shadowBlur=8,this.ctx.fillStyle="#fff",this.isDarkMode&&(this.ctx.fillStyle="#e8e8e8"),this.ctx.globalAlpha=.95,this.ctx.fillText(c,this.centerX,this.centerY+this.radius*1.45),this.ctx.restore()}drawIdleFlash(){if(Date.now()-this.lastActiveTime>6e3){this.idleFlash+=.08;const n=.7+.3*Math.abs(Math.sin(this.idleFlash*1.2));this.ctx.save(),this.ctx.globalAlpha=.18*n,this.ctx.beginPath(),this.ctx.arc(this.centerX,this.centerY,this.radius*1.18,0,Math.PI*2),this.ctx.fillStyle="#E8B554",this.ctx.filter="blur(2.5px)",this.ctx.fill(),this.ctx.filter="none",this.ctx.restore()}else this.idleFlash=0}drawVolumeVisualization(){if(!this.isListening)return;const s=16,n=this.radius*1.08;for(let a=0;a<s;a++){const c=2*Math.PI*a/s,r=8+Math.sin(this.waveformPhase+a)*4+this.volumeLevel*18,o=this.centerX+Math.cos(c)*n,l=this.centerY+Math.sin(c)*n,m=this.centerX+Math.cos(c)*(n+r),d=this.centerY+Math.sin(c)*(n+r);this.ctx.save(),this.ctx.strokeStyle=`rgba(232,181,84,${.18+.18*this.volumeLevel})`,this.ctx.lineWidth=2.2,this.ctx.beginPath(),this.ctx.moveTo(o,l),this.ctx.lineTo(m,d),this.ctx.shadowColor="rgba(85,154,154,0.22)",this.ctx.shadowBlur=6,this.ctx.stroke(),this.ctx.restore()}}animate(){const s=Math.min(this.width,this.height)<340;this.radius=s?Math.max(32,Math.min(this.width,this.height)/2.8):Math.max(36,Math.min(this.width,this.height)/5.2),this.ctx.clearRect(0,0,this.width,this.height),this.drawBaseCircle(),this.drawWaveform(),this.drawParticles(),this.drawRipples(),this.drawPulsingRing(),this.drawTimeRing(),this.drawTimeText(),this.drawIdleFlash(),this.drawVolumeVisualization(),this.isListening&&Math.random()<(s?.05:.1)&&this.ripples.push({radius:this.radius,alpha:.4,speed:1+this.volumeLevel*2}),this.animationFrameId=requestAnimationFrame(this.animate.bind(this))}setListening(s){this.isListening=s,s&&(this.ripples=[])}setVolumeLevel(s){this.volumeLevel=Math.max(0,Math.min(1,s))}setTime(s,n=60){this.elapsedTime=s,this.timeTarget=n}getTime(){return this.elapsedTime}cleanup(){window.removeEventListener("resize",this.resize),this.animationFrameId&&cancelAnimationFrame(this.animationFrameId),this.canvas.remove()}}const nn=({isListening:t,volumeLevel:s,containerId:n})=>{const a=i.useRef(null);return i.useEffect(()=>(a.current=new ag(n),()=>{a.current&&(a.current.cleanup(),a.current=null)}),[n]),i.useEffect(()=>{a.current&&a.current.setListening(t)},[t]),i.useEffect(()=>{a.current&&a.current.setVolumeLevel(s)},[s]),e.jsx("div",{id:n,className:"w-[220px] h-[220px] relative rounded-full overflow-visible",style:{cursor:"pointer",borderRadius:"50%"}})},Zt=({isOpen:t,onClose:s,isRight:n})=>{const{transcripts:a,modelOutput:c,language:r}=De(),o=i.useRef(null),l=i.useRef({}),[m,d]=i.useState({}),[h,f]=i.useState([]),j=()=>{Object.values(l.current).forEach(v=>{cancelAnimationFrame(v)}),l.current={}};return i.useEffect(()=>{const v=[...a].sort((x,w)=>x.timestamp.getTime()-w.timestamp.getTime()),u=[];let b=null;v.forEach(x=>{x.role==="user"?(b={id:x.id.toString(),role:"user",timestamp:x.timestamp,messages:[{id:x.id.toString(),content:x.content,timestamp:x.timestamp}]},u.push(b)):((!b||b.role==="user")&&(b={id:x.id.toString(),role:"assistant",timestamp:x.timestamp,messages:[]},u.push(b)),b.messages.push({id:x.id.toString(),content:x.content,timestamp:x.timestamp}))}),f(u)},[a]),i.useEffect(()=>(h.filter(u=>u.role==="assistant").flatMap(u=>u.messages).forEach(u=>{if(m[u.id]===u.content.length)return;let b=m[u.id]||0;const x=u.content,w=()=>{b<x.length?(d(z=>({...z,[u.id]:b+1})),b++,l.current[u.id]=requestAnimationFrame(w)):delete l.current[u.id]};l.current[u.id]=requestAnimationFrame(w)}),()=>j()),[h]),i.useEffect(()=>{o.current&&(o.current.scrollTop=o.current.scrollHeight)},[h]),t?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`relative z-30 overflow-hidden rounded-2xl shadow-2xl realtime-popup ${n?"popup-right":""}`,style:{width:"90vw",maxWidth:360,height:"70vh",maxHeight:440,background:"rgba(255,255,255,0.12)",backdropFilter:"blur(18px)",WebkitBackdropFilter:"blur(18px)",border:"1.5px solid rgba(255,255,255,0.25)",boxShadow:n?"0 8px 32px rgba(0,0,0,0.18), 8px 0 24px rgba(0,0,0,0.10)":"0 8px 32px rgba(0,0,0,0.18)",borderTopLeftRadius:24,borderBottomLeftRadius:24,borderTopRightRadius:24,borderBottomRightRadius:24},children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200/40 bg-white/10",style:{backdropFilter:"blur(4px)"},children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Conversation"}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(ot,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{ref:o,className:"p-4 h-[calc(100%-4rem)] overflow-y-auto",children:[h.length===0&&e.jsx("div",{className:"text-gray-400 text-base text-center select-none",style:{opacity:.7},children:$("tap_to_speak",r)}),h.map((v,u)=>e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0",style:{background:v.role==="user"?"#3B82F6":"#10B981"},children:e.jsx("span",{className:"text-white text-sm",children:v.role==="user"?"U":"A"})}),e.jsxs("div",{className:"flex-1",children:[v.role==="user"?e.jsx("div",{className:"bg-gray-100 rounded-lg p-3",children:e.jsx("p",{className:"text-gray-800",children:v.messages[0].content})}):e.jsx("div",{className:"bg-green-50 rounded-lg p-3",children:e.jsxs("p",{className:"text-base md:text-lg font-medium",style:{position:"relative",background:"linear-gradient(90deg, #FF512F, #F09819, #FFD700, #56ab2f, #43cea2, #1e90ff, #6a11cb, #FF512F)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:600,letterSpacing:.2,transition:"background 0.5s"},children:[e.jsx("span",{className:"inline-flex flex-wrap",children:v.messages.map((b,x)=>{const w=b.content.slice(0,m[b.id]||0);return e.jsxs("span",{style:{whiteSpace:"pre"},children:[w,x===v.messages.length-1&&u===0&&m[b.id]<b.content.length&&e.jsx("span",{className:"animate-blink text-yellow-500",style:{marginLeft:1},children:"|"})]},b.id)})}),u===0&&v.role==="assistant"&&m[v.messages[v.messages.length-1].id]===v.messages[v.messages.length-1].content.length&&e.jsx("span",{className:"ml-2 animate-ellipsis text-yellow-500",children:"..."})]})}),e.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:v.timestamp.toLocaleTimeString()})]})]})},v.id))]})]}),e.jsx("style",{children:`
        @media (min-width: 640px) {
          .realtime-popup {
            width: 340px !important;
            height: 420px !important;
            max-width: 340px !important;
            max-height: 420px !important;
          }
          .popup-right {
            /* CÃ³ thá»ƒ thÃªm hiá»‡u á»©ng Ä‘á»‘i xá»©ng náº¿u muá»‘n */
          }
        }
      `})]}):null},Jt=({isOpen:t,onClose:s})=>t?e.jsxs("div",{className:"relative z-30 overflow-hidden rounded-2xl shadow-2xl reference-popup",style:{width:"90vw",maxWidth:360,height:"70vh",maxHeight:440,background:"rgba(255,255,255,0.12)",backdropFilter:"blur(18px)",WebkitBackdropFilter:"blur(18px)",border:"1.5px solid rgba(255,255,255,0.25)",boxShadow:"0 8px 32px rgba(0,0,0,0.18)"},children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200/40 bg-white/10",style:{backdropFilter:"blur(4px)"},children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Reference"}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx("span",{className:"material-icons text-gray-500",children:"close"})})]}),e.jsx("div",{className:"p-4 h-[calc(100%-4rem)] overflow-y-auto flex items-center justify-center text-gray-400"}),e.jsx("style",{children:`
        @media (min-width: 640px) {
          .reference-popup {
            width: 340px !important;
            height: 420px !important;
            max-width: 340px !important;
            max-height: 420px !important;
          }
        }
      `})]}):null,ig=Ye("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-[10px] text-base font-semibold ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-5 [&_svg]:shrink-0 shadow-sm px-5 py-2",{variants:{variant:{default:"bg-gradient-to-tr from-[#4e5ab7] to-[#3f51b5] text-white hover:brightness-110 hover:shadow-lg",yellow:"bg-gradient-to-b from-[#ffe066] to-[#ffd700] text-blue-900 border-2 border-[#d4af37] shadow-xl hover:brightness-105 hover:shadow-2xl text-shadow-white",outline:"border-2 border-[#4e5ab7] bg-white text-[#4e5ab7] hover:bg-[#f5f7fa]",secondary:"bg-white text-[#4e5ab7] border border-[#4e5ab7] hover:bg-[#e8eaf6]",destructive:"bg-red-500 text-white hover:bg-red-600",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-12 px-6 py-2",sm:"h-10 rounded-md px-4 py-2 text-sm",lg:"h-14 rounded-xl px-8 py-3 text-lg",icon:"h-12 w-12"}},defaultVariants:{variant:"default",size:"default"}}),L=i.forwardRef(({className:t,variant:s,size:n,asChild:a=!1,...c},r)=>{const o=a?vn:"button";return e.jsx(o,{className:S(ig({variant:s,size:n,className:t})),ref:r,...c})});L.displayName="Button";const an=({isActive:t})=>{const{orderSummary:s,setOrderSummary:n,setCurrentInterface:a,setOrder:c,callSummary:r,setCallSummary:o,serviceRequests:l,callDuration:m,callDetails:d,emailSentForCurrentSession:h,setEmailSentForCurrentSession:f,addActiveOrder:j,translateToVietnamese:v,language:u,hotelConfig:b}=De(),[x,w]=i.useState({}),[z,se]=i.useState("");if(!b)return e.jsx("div",{className:"absolute w-full min-h-screen h-full flex items-center justify-center z-10 bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Loading hotel configuration..."})]})});const ee=(B,C)=>{s&&n({...s,[B]:C})};i.useEffect(()=>{if(l&&l.length>0){const B=l.reduce((C,T)=>{const U=T.serviceType;return C[U]||(C[U]=[]),C[U].push(T),C},{});if(w(B),s&&(!s.items||s.items.length===0)){const C=l.map((T,U)=>{let Y=1;const y=T.details||{},N=T.requestText.match(/(\d+)\s+(towels|bottles|pieces|cups|glasses|plates|servings|items)/i);N?Y=parseInt(N[1]):typeof y.people=="number"&&(Y=y.people);let k=10;return T.serviceType==="room-service"?k=15:T.serviceType==="housekeeping"?k=8:T.serviceType==="transportation"?k=25:T.serviceType==="tours-activities"?k=35:T.serviceType==="spa"&&(k=30),{id:`item-${U}`,name:T.serviceType,description:T.requestText,quantity:Y,price:k}});n({...s,items:C,totalAmount:C.reduce((T,U)=>T+U.price*U.quantity,0)})}}},[l,s,n]),i.useEffect(()=>{if(t&&r&&s){const B=r.content,C=Kt(B);if(C&&C!==s.roomNumber&&n({...s,roomNumber:C}),!l||l.length===0){const T=B.match(/List of Requests:([\s\S]*?)(?:\n\nSpecial Instructions|\n\nThe conversation)/);if(T){const U=T[1],Y=/Request (\d+): ([^\n]+)/g;let y;const N=[];let k=1;for(;(y=Y.exec(U))!==null;){const F=y[2].trim(),J=y.index,G=U.indexOf(`Request ${parseInt(y[1])+1}:`,J),re=G>-1?U.substring(J,G):U.substring(J),te=/- ([^:]+): ([^\n]+)/g;let me;const O={};for(;(me=te.exec(re))!==null;){const Ne=me[1].trim(),ue=me[2].trim();O[Ne.toLowerCase()]=ue}let oe="";O["service description"]&&(oe+=`${O["service description"]}`),O.details&&(oe+=oe?`. ${O.details}`:O.details),O.items&&(oe+=oe?`
Items: ${O.items}`:`Items: ${O.items}`),O["service timing requested"]&&(oe+=`
Timing: ${O["service timing requested"]}`),O.destinations&&(oe+=`
Destinations: ${O.destinations}`),oe||(oe=`Requested ${F} service`),N.push({id:k.toString(),name:F,description:oe,quantity:1,price:10}),k++}if(N.length>0&&(!s.items||s.items.length===0)){const F=N.map(me=>me.name.toLowerCase().replace(/\s+/g,"-")).join(","),J=Kt(B)||s.roomNumber,G=B.match(/Service Timing Requested:?\s*([^\n]+)/i),re=G?G[1]:s.deliveryTime;let te=s.deliveryTime;re&&(/soon|immediate|urgent|right now/i.test(re)?te="asap":/30 minute|half hour/i.test(re)?te="30min":/hour|60 minute/i.test(re)?te="1hour":/schedule|later|specific/i.test(re)&&(te="specific")),n({...s,items:N,orderType:F,roomNumber:J,deliveryTime:te,totalAmount:N.reduce((me,O)=>me+O.price*O.quantity,0)})}}}}},[t,r,s,n]);const V=async()=>{if(!s)return;const B=()=>{if(s.roomNumber&&s.roomNumber!=="unknown")return s.roomNumber;if(r&&r.content){const k=r.content.match(/Room Number:?\s*(\w+)/i);if(k&&k[1])return k[1]}return"unknown"},C=s.items&&s.items.length>0?s.items:[{id:"1",name:"General Service",description:"No details provided",quantity:1,price:0}],T=s.orderType||"Room Service",U=s.deliveryTime||"asap",Y=`ORD-${Math.floor(1e4+Math.random()*9e4)}`,y=new Date,N={callId:Y,roomNumber:B(),orderType:T,deliveryTime:U,specialInstructions:Y,items:C,totalAmount:s.totalAmount||0,status:"pending",createdAt:y.toISOString()};try{if(!(await fetch("https://minhnhotelben.onrender.com/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)})).ok)throw new Error("Failed to create order");c({reference:N.specialInstructions||N.callId,estimatedTime:N.deliveryTime,summary:s,...N}),a("interface4")}catch{alert("Failed to send order to reception!")}},ge=()=>{!z.trim()||!r||o({...r,content:`${r.content}

Additional Notes:
${z}`})};return s?e.jsx("div",{className:`w-full transition-opacity duration-500 ${t?"opacity-100":"opacity-0 pointer-events-none"} z-30`,id:"interface3",style:{backgroundImage:`linear-gradient(${b.branding.colors.primary}CC, ${b.branding.colors.secondary}99), url(${sn})`,backgroundSize:"cover",backgroundPosition:"center",fontFamily:b.branding.fonts.primary+", SF Pro Text, Roboto, Open Sans, Arial, sans-serif"},children:e.jsx("div",{className:"container mx-auto flex flex-col p-2 sm:p-4 md:p-8",children:e.jsxs("div",{className:"mx-auto w-full max-w-4xl bg-white/90 rounded-2xl shadow-xl p-3 sm:p-6 md:p-10 mb-4 sm:mb-6 flex-grow border border-white/40 backdrop-blur-md",style:{minHeight:420},children:[e.jsx("div",{className:"mb-3 sm:mb-4 pb-2 sm:pb-3 border-b border-gray-200",children:e.jsx("p",{className:"font-poppins font-bold text-xl sm:text-2xl text-blue-900 tracking-wide",children:$("order_summary",u)})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 sm:gap-10 md:gap-16",children:[e.jsxs("div",{className:"md:w-3/4 w-full space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex sm:hidden flex-row w-full gap-2 mb-2",children:[e.jsxs("button",{className:"flex-1 flex items-center justify-center px-2 py-1.5 bg-white/80 hover:bg-blue-100 text-blue-900 rounded-full text-xs font-semibold border border-white/30 shadow transition-colors",onClick:()=>a("interface1"),children:[e.jsx("span",{className:"material-icons text-base mr-1",children:"cancel"}),$("cancel",u)]}),e.jsxs(L,{onClick:V,variant:"yellow",className:"flex-1 flex items-center justify-center space-x-2 text-xs font-bold sm:hidden",style:{minHeight:44,minWidth:120,zIndex:10},children:[e.jsx("span",{className:"material-icons",children:"send"}),e.jsx("span",{className:"whitespace-nowrap",children:$("send_to_reception",u)})]})]}),e.jsxs("div",{className:"flex flex-col gap-2 mb-2 sm:hidden",children:[e.jsxs("div",{className:"flex flex-row w-full gap-2",children:[e.jsx("button",{className:"h-10 px-3 bg-[#ffe082] hover:bg-[#ffe9b3] text-blue-900 rounded-full text-xs font-semibold shadow transition-colors flex-1",onClick:ge,disabled:!z.trim(),children:$("add_note",u)}),e.jsxs("div",{className:"flex items-center space-x-2 w-full justify-center",children:[e.jsx("label",{className:"text-xs text-gray-600 font-medium",children:$("room_number",u)}),e.jsx("input",{type:"text",placeholder:$("enter_room_number",u),className:"w-16 p-2 border border-white/30 rounded-xl focus:ring-2 focus:ring-[#d4af37] focus:border-[#d4af37] bg-white/70 text-gray-900 font-semibold text-xs",value:s.roomNumber,onChange:B=>ee("roomNumber",B.target.value)})]}),e.jsx("button",{className:"h-10 px-3 bg-white/70 text-blue-900 rounded-full text-xs font-semibold border border-white/30 shadow flex items-center justify-center",onClick:()=>a("interface3vi"),children:e.jsx("span",{className:"material-icons text-base",children:"language"})})]}),e.jsx("textarea",{placeholder:$("enter_notes",u),className:"w-full p-2 border border-white/30 rounded-xl text-xs bg-white/60 focus:bg-white/90 focus:ring-2 focus:ring-[#d4af37] transition italic font-light text-gray-500",value:z,onChange:B=>se(B.target.value),rows:3,style:{fontFamily:"inherit"}})]}),r&&e.jsxs("div",{id:"summary-container",className:"mb-3 sm:mb-4",children:[e.jsxs("div",{className:"p-3 sm:p-5 bg-white/80 rounded-xl shadow border border-white/30 mb-3 sm:mb-4 relative",style:{backdropFilter:"blur(2px)"},children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg mb-1 sm:mb-2 text-blue-800",children:$("summary",u)}),e.jsx("div",{className:"text-sm sm:text-base leading-relaxed text-gray-800 whitespace-pre-line",style:{fontWeight:400},children:(r.content||"").split(`
`).filter(C=>!/^Next Step:/i.test(C)&&!/Please Press Send To Reception/i.test(C)).map((C,T)=>{if(/^Guest's Name/i.test(C)){const U=C.replace(/\s*\(used for Guest with a confirmed reservation\)/i,"");return e.jsx("div",{children:e.jsx("b",{children:U})},T)}return/^Room Number:/i.test(C)?e.jsx("div",{children:e.jsx("b",{children:C})},T):/^REQUEST \d+:/i.test(C)?e.jsx("div",{className:"mt-3 mb-1",children:e.jsx("b",{children:C})},T):/^â€¢ Service Timing:/i.test(C)?e.jsx("div",{style:{marginLeft:16},children:e.jsx("b",{children:C})},T):/^â€¢ Order Details:/i.test(C)?e.jsx("div",{style:{marginLeft:16},children:e.jsx("b",{children:C})},T):/^â€¢ Special Requirements:/i.test(C)?e.jsx("div",{style:{marginLeft:16},children:e.jsx("b",{children:C})},T):/^â€¢ [^-].+/.test(C)?e.jsx("div",{style:{marginLeft:32},children:C},T):/^\s*[-â€¢]/.test(C)?e.jsx("div",{style:{marginLeft:32},children:C},T):/^\s*$/.test(C)?e.jsx("div",{style:{height:8}},T):e.jsx("div",{children:C},T)})}),e.jsx("div",{className:"mt-2 sm:mt-3 flex justify-end",children:e.jsxs("div",{className:"text-xs text-gray-500",children:[$("generated_at",u)," ",new Date(r.timestamp).toLocaleTimeString()]})})]}),e.jsx("div",{className:"text-center mt-2 mb-1",children:e.jsxs("span",{className:"italic text-sm",style:{color:"#2563eb",background:"#e0f2fe",borderRadius:"6px",padding:"4px 12px",display:"inline-block",fontWeight:500},children:["Please Press ",e.jsx("b",{style:{fontWeight:700,color:"#1d4ed8"},children:$("send_to_reception",u)})," To Complete Your Request"]})})]}),e.jsxs("div",{className:"hidden sm:flex flex-row items-center gap-2 h-10",children:[e.jsx("button",{className:"h-10 px-3 sm:px-4 bg-[#ffe082] hover:bg-[#ffe9b3] text-blue-900 rounded-full text-xs sm:text-sm font-semibold shadow transition-colors",onClick:ge,disabled:!z.trim(),children:$("add_note",u)}),e.jsxs("div",{className:"flex items-center space-x-2 w-full justify-center",children:[e.jsx("label",{className:"text-xs sm:text-base text-gray-600 font-medium",children:$("room_number",u)}),e.jsx("input",{type:"text",placeholder:$("enter_room_number",u),className:"w-16 sm:w-32 p-2 border border-white/30 rounded-xl focus:ring-2 focus:ring-[#d4af37] focus:border-[#d4af37] bg-white/70 text-gray-900 font-semibold text-xs sm:text-base",value:s.roomNumber,onChange:B=>ee("roomNumber",B.target.value)})]}),e.jsx("button",{className:"h-10 px-3 sm:px-4 bg-white/70 text-blue-900 rounded-full text-xs sm:text-sm font-semibold border border-white/30 shadow flex items-center justify-center",onClick:()=>a("interface3vi"),children:e.jsx("span",{className:"material-icons text-base",children:"language"})})]}),e.jsx("textarea",{placeholder:$("enter_notes",u),className:"hidden sm:block w-full p-2 sm:p-3 border border-white/30 rounded-xl mb-3 sm:mb-4 text-xs sm:text-sm bg-white/60 focus:bg-white/90 focus:ring-2 focus:ring-[#d4af37] transition italic font-light text-gray-500",value:z,onChange:B=>se(B.target.value),rows:3,style:{fontFamily:"inherit"}})]}),e.jsx("div",{className:"md:w-1/4 w-full hidden sm:flex md:justify-end justify-center",children:e.jsxs("div",{className:"flex flex-col items-end space-y-2 sm:space-y-3 w-full md:w-auto",children:[e.jsxs(L,{onClick:V,variant:"yellow",className:"w-full md:w-auto flex items-center justify-center space-x-2 text-xs sm:text-sm font-bold",style:{minHeight:44,minWidth:160,zIndex:10},children:[e.jsx("span",{className:"material-icons",children:"send"}),e.jsx("span",{className:"whitespace-nowrap",children:$("send_to_reception",u)})]}),e.jsxs("button",{className:"w-full md:w-auto flex items-center justify-center px-2 sm:px-3 py-1.5 bg-white/80 hover:bg-blue-100 text-blue-900 rounded-full text-xs font-semibold border border-white/30 shadow transition-colors",onClick:()=>a("interface1"),children:[e.jsx("span",{className:"material-icons text-base mr-1",children:"cancel"}),$("cancel",u)]})]})})]})]})})}):null},rg=({isActive:t})=>{const{setCurrentInterface:s,setTranscripts:n,setModelOutput:a,setCallDetails:c,setCallDuration:r,setEmailSentForCurrentSession:o,activeOrders:l,language:m,setLanguage:d,callSummary:h,orderSummary:f,setOrderSummary:j,endCall:v,hotelConfig:u}=De(),[b,x]=i.useState(!1),[w,z]=i.useState(0),[se,ee]=i.useState(0),[V,ge]=i.useState(!1),[B,C]=i.useState(null),[T,U]=i.useState(!1),[Y,y]=i.useState(!1),[N,k]=i.useState(!1),[F,J]=i.useState(!1),[G,re]=i.useState(!1),[te,me]=i.useState(new Date);i.useEffect(()=>{const g=setInterval(()=>me(new Date),1e3);return()=>clearInterval(g)},[]);const O=()=>{x(!b)},oe=g=>{const X=Math.floor(g/60).toString().padStart(2,"0"),fe=(g%60).toString().padStart(2,"0");return`${X}:${fe}`};i.useCallback(()=>{s("interface1")},[s]),i.useCallback(()=>{s(m==="fr"?"interface3fr":"interface3")},[s,m]),i.useEffect(()=>{let g=null;return t&&(console.log("Interface1 is active, starting local timer"),ee(0),g=setInterval(()=>{ee(X=>X+1)},1e3)),()=>{g&&(console.log("Cleaning up local timer in Interface1"),clearInterval(g))}},[t]);const Ne=async g=>{if(!u){console.error("Hotel configuration not loaded");return}o(!1),c({id:`call-${Date.now()}`,roomNumber:"",duration:"",category:"",language:"en"}),n([]),a([]),r(0);const X=Qs(g,u),fe=en(g,u);if(!X||!fe){console.error("Vapi configuration not available for language:",g);return}const Je=await Ws(X);Je&&fe&&(await Je.start(fe),U(!0),y(!0))},ue=g=>{C(B===g?null:g),B!==g&&setTimeout(()=>{C(X=>X===g?null:X)},3e3)},le=({iconName:g,tooltip:X,className:fe})=>e.jsxs("div",{className:"relative flex flex-col items-center justify-center cursor-pointer",children:[e.jsx("span",{className:`material-icons text-xl sm:text-4xl text-[#F9BF3B] ${fe||""}`,style:{filter:"drop-shadow(0px 2px 3px rgba(0, 0, 0, 0.2))"},onClick:()=>ue(g),children:g}),B===g&&e.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 w-max max-w-[160px] sm:max-w-[200px] bg-white/90 text-gray-800 text-xs sm:text-sm font-medium py-1 px-2 rounded shadow-lg z-50 pointer-events-none text-center",children:[X,e.jsx("div",{className:"absolute w-2 h-2 bg-white/90 transform rotate-45 left-1/2 -translate-x-1/2 top-full -mt-1"})]})]}),Ue=g=>{if(!g)return{bg:"bg-gray-300",text:"text-gray-800",icon:"info"};switch(g){case"ÄÃ£ ghi nháº­n":return{bg:"bg-gray-300",text:"text-gray-800",icon:"assignment_turned_in"};case"Äang thá»±c hiá»‡n":return{bg:"bg-yellow-400",text:"text-yellow-900",icon:"autorenew"};case"ÄÃ£ thá»±c hiá»‡n vÃ  Ä‘ang bÃ n giao cho khÃ¡ch":return{bg:"bg-blue-400",text:"text-blue-900",icon:"local_shipping"};case"HoÃ n thiá»‡n":return{bg:"bg-green-500",text:"text-white",icon:"check_circle"};case"LÆ°u Ã½ khÃ¡c":return{bg:"bg-red-400",text:"text-white",icon:"error"};default:return{bg:"bg-gray-300",text:"text-gray-800",icon:"info"}}},p=g=>{if(!g)return"status_acknowledged";const X=g.trim().toLowerCase();return X.includes("Ä‘Ã£ ghi nháº­n")||X.includes("acknowledged")?"status_acknowledged":X.includes("Ä‘ang thá»±c hiá»‡n")||X.includes("in progress")?"status_in_progress":X.includes("bÃ n giao")||X.includes("delivering")?"status_delivering":X.includes("hoÃ n thiá»‡n")||X.includes("completed")?"status_completed":X.includes("lÆ°u Ã½")||X.includes("note")?"status_note":"status_acknowledged"};console.log("ActiveOrders:",l);const _=We(),H=()=>{_&&_.stop(),U(!1),y(!1),k(!1),s("interface1")},Te=async()=>{if(!(!T||!_)){re(!0);try{if(_.stop(),v(),!f&&(h!=null&&h.content)){const g=Yt(h.content);j(g)}!(h!=null&&h.content)||h.content==="Generating AI summary of your conversation..."?J(!0):k(!0)}catch(g){console.error("Error ending call:",g)}finally{re(!1)}}};i.useEffect(()=>{F&&(h!=null&&h.content)&&h.content!=="Generating AI summary of your conversation..."&&(J(!1),k(!0))},[h,F]),i.useEffect(()=>{if(h!=null&&h.content&&h.content!=="Generating AI summary of your conversation..."&&(!f||!f.items||f.items.length===0)){const g=Yt(h.content);j(g)}},[h,f,j]),i.useEffect(()=>{t&&(k(!1),J(!1),U(!1),y(!1))},[t]),i.useEffect(()=>{console.log("activeOrders changed:",l),l&&l.length>0&&(console.log("Setting showOrderCard to true"),ge(!0))},[l]),i.useEffect(()=>{console.log("showOrderCard changed:",V)},[V]);const pe=[{iconName:"wb_sunny",tooltip:"Half Day"},{iconName:"calendar_today",tooltip:"Full Day"},{iconName:"event_note",tooltip:"Multi Day"},{iconName:"star",tooltip:"Special Tours"}],bt=[{iconName:"location_city",tooltip:"Ho Chi Minh"},{iconName:"park",tooltip:"Da Lat"},{iconName:"beach_access",tooltip:"Nha Trang"},{iconName:"waves",tooltip:"Da Nang"},{iconName:"directions_boat",tooltip:"Can Tho"},{iconName:"directions_bus",tooltip:"Vung Tau"},{iconName:"nature_people",tooltip:"My Tho"}],jt=[{iconName:"two_wheeler",tooltip:"Motorbike"},{iconName:"drive_eta",tooltip:"Car with driver"},{iconName:"directions_car",tooltip:"Car without Driver"}],vt=[{iconName:"attach_money",tooltip:"USD"},{iconName:"euro",tooltip:"EUR"},{iconName:"currency_ruble",tooltip:"RUB"},{iconName:"currency_yen",tooltip:"KWR"},{iconName:"swap_horiz",tooltip:"Other"}],P=[{iconName:"local_laundry_service",tooltip:"Standard"},{iconName:"bolt",tooltip:"Express"},{iconName:"dry_cleaning",tooltip:"Dry Cleaning"},{iconName:"iron",tooltip:"Iron Service"},{iconName:"help",tooltip:"Special Request"}],q=[{iconName:"home",tooltip:"Under 300.000 VND"},{iconName:"attach_money",tooltip:"300.000 to 600.000 VND"},{iconName:"house_siding",tooltip:"Over 600.000 VND"},{iconName:"calendar_month",tooltip:"Long-Rent"},{iconName:"meeting_room",tooltip:"Full-House"}],Q=[{iconName:"map",tooltip:"Area Map"},{iconName:"place",tooltip:"Attractions"},{iconName:"directions_walk",tooltip:"Walking Tour"},{iconName:"info",tooltip:"Tourist Info"}],we=[{iconName:"restaurant",tooltip:"Order Food"},{iconName:"local_cafe",tooltip:"Beverages"},{iconName:"breakfast_dining",tooltip:"Breakfast"},{iconName:"room_service",tooltip:"Other Requests"}],W=[{iconName:"cleaning_services",tooltip:"Cleaning"},{iconName:"local_laundry_service",tooltip:"Laundry"},{iconName:"bathtub",tooltip:"Bathroom"},{iconName:"king_bed",tooltip:"Bedding"}],E=[{iconName:"rate_review",tooltip:"Review"},{iconName:"feedback",tooltip:"Feedback"},{iconName:"star_rate",tooltip:"Rate Us"},{iconName:"question_answer",tooltip:"Q&A"}],_e=[{iconName:"shopping_bag",tooltip:"Souvenir Shop"},{iconName:"local_florist",tooltip:"Handicraft"},{iconName:"redeem",tooltip:"Gift"},{iconName:"storefront",tooltip:"Local Product"}];return u?e.jsxs("div",{className:`absolute w-full min-h-screen h-full transition-opacity duration-500 ${t?"opacity-100":"opacity-0 pointer-events-none"} z-30 overflow-y-auto`,id:"interface1",style:{backgroundImage:`linear-gradient(${u.branding.colors.primary}CC, ${u.branding.colors.secondary}99), url(${sn})`,backgroundSize:"cover",backgroundPosition:"center",fontFamily:u.branding.fonts.primary+", SF Pro Text, Roboto, Open Sans, Arial, sans-serif"},children:[e.jsxs("div",{className:`container mx-auto flex flex-col items-center justify-start text-white p-3 pt-6 sm:p-5 sm:pt-10 lg:pt-16 overflow-visible pb-32 sm:pb-24 ${G?"opacity-5":"opacity-100"} transition-opacity duration-300`,style:{transform:"translateZ(20px)",minHeight:"fit-content"},children:[e.jsx("div",{className:"w-full flex flex-row items-center justify-start mb-2"}),e.jsx("p",{className:"text-2xl sm:text-4xl lg:text-5xl text-center max-w-full mb-4 truncate sm:whitespace-nowrap overflow-x-auto font-[Dancing_Script,cursive] font-bold bg-gradient-to-r from-red-500 via-orange-400 via-yellow-400 via-green-400 via-blue-500 via-indigo-500 to-purple-600 bg-clip-text text-transparent",style:{fontFamily:u.branding.fonts.primary+", Dancing Script, Poppins, cursive",letterSpacing:1},children:u.features.multiLanguage?$("speak_multiple_languages",m):`Welcome to ${u.hotelName} - AI Voice Assistant`}),e.jsxs("div",{className:"flex flex-row items-start justify-center gap-4 mb-4 sm:mb-12 w-full relative",children:[Y&&e.jsx("div",{className:"hidden sm:block flex-shrink-0",style:{marginRight:0},children:e.jsx(Zt,{isOpen:Y,onClose:()=>y(!1)})}),e.jsx("div",{className:"flex-none flex flex-col items-center justify-center mx-auto",style:{zIndex:10},children:T?e.jsxs("div",{className:"relative flex flex-col items-center justify-center mb-1 sm:mb-6 w-full max-w-xs mx-auto",children:[e.jsx(nn,{containerId:"siri-button",isListening:!b,volumeLevel:w}),e.jsxs("div",{className:"flex items-center justify-center mt-2 w-full gap-2 sm:gap-3",children:[e.jsx("button",{className:"flex items-center justify-center transition-colors",title:$(b?"unmute":"mute",m),onClick:O,style:{fontSize:22,padding:0,background:"none",border:"none",color:"#d4af37",width:28,height:28},onMouseOver:g=>g.currentTarget.style.color="#ffd700",onMouseOut:g=>g.currentTarget.style.color="#d4af37",children:e.jsx("span",{className:"material-icons",children:b?"mic_off":"mic"})}),e.jsx("div",{className:"flex-1 flex justify-center",children:e.jsx("div",{className:"text-white text-xs sm:text-sm bg-blue-900/80 rounded-full px-3 sm:px-4 py-1 shadow-lg border border-white/30 flex items-center justify-center",style:{backdropFilter:"blur(2px)"},children:oe(se)})}),e.jsx("div",{className:"w-7 h-7 flex items-center justify-center",children:e.jsx("div",{className:"w-5 h-5 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx("div",{className:"w-3 h-3 rounded-full bg-white transition-all duration-200",style:{transform:`scale(${1+w*.5})`,opacity:.7+w*.3}})})})]}),T&&e.jsxs("div",{className:"flex flex-row justify-between items-center w-full max-w-xs mx-auto mt-2 gap-2",children:[e.jsx("button",{className:"flex-1 py-2 rounded-full bg-white hover:bg-red-100 text-red-700 font-semibold text-sm border border-red-200 shadow transition",style:{minWidth:90,maxWidth:120},onClick:H,children:"Cancel"}),e.jsx("button",{className:"flex-1 py-2 rounded-full bg-yellow-400 hover:bg-yellow-500 text-blue-900 font-bold text-sm shadow transition",style:{minWidth:90,maxWidth:120},onClick:Te,children:$("confirm_request",m)})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-amber-400 animate-[ripple_1.5s_linear_infinite] pointer-events-none transition-opacity duration-300 group-hover:opacity-80 opacity-60"}),e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-amber-400/70 animate-[ripple_2s_linear_infinite] pointer-events-none transition-opacity duration-300 group-hover:opacity-60 opacity-40"}),e.jsxs("button",{id:`vapiButton${m==="en"?"En":m==="fr"?"Fr":m==="zh"?"Zh":m==="ru"?"Ru":m==="ko"?"Ko":"Vi"}`,className:"group relative w-36 h-36 sm:w-40 sm:h-40 lg:w-56 lg:h-56 rounded-full font-poppins font-bold flex flex-col items-center justify-center overflow-hidden hover:translate-y-[-2px] hover:shadow-[0px_12px_20px_rgba(0,0,0,0.2)]",onClick:()=>Ne(m),style:{background:m==="en"?"linear-gradient(180deg, rgba(85,154,154,0.9) 0%, rgba(85,154,154,0.9) 100%)":m==="fr"?"linear-gradient(180deg, rgba(59, 130, 246, 0.9) 0%, rgba(37, 99, 235, 0.9) 100%)":m==="zh"?"linear-gradient(180deg, rgba(220, 38, 38, 0.9) 0%, rgba(185, 28, 28, 0.9) 100%)":m==="ru"?"linear-gradient(180deg, rgba(79, 70, 229, 0.9) 0%, rgba(67, 56, 202, 0.9) 100%)":"linear-gradient(180deg, rgba(16, 185, 129, 0.9) 0%, rgba(5, 150, 105, 0.9) 100%)",boxShadow:"0px 12px 24px rgba(0, 0, 0, 0.25), 0px 6px 12px rgba(0, 0, 0, 0.15), inset 0px 1px 0px rgba(255, 255, 255, 0.3)",border:"1px solid rgba(255, 255, 255, 0.5)",transition:"all 0.3s ease",transform:"translateY(0) translateZ(30px)"},children:[e.jsx("span",{className:"material-icons text-4xl sm:text-6xl lg:text-7xl mb-2 text-[#F9BF3B] transition-all duration-300 group-hover:scale-110",style:{filter:"drop-shadow(0px 2px 3px rgba(0, 0, 0, 0.2))",color:m==="en"?"#F9BF3B":m==="fr"?"#FFFFFF":m==="zh"?"#FFEB3B":m==="ru"?"#F48FB1":"#4ADE80"},children:"mic"}),e.jsx("span",{className:"text-lg sm:text-2xl lg:text-3xl font-bold whitespace-nowrap text-white",style:{textShadow:"0px 1px 2px rgba(0, 0, 0, 0.2)"},children:$("press_to_call",m)}),e.jsx("span",{className:"absolute w-full h-full rounded-full pointer-events-none"})]})]})}),Y&&e.jsx("div",{className:"hidden sm:block flex-shrink-0 text-gray-800",style:{marginLeft:0},children:e.jsx(Jt,{isOpen:Y,onClose:()=>y(!1)})})]}),Y&&e.jsxs("div",{className:"block sm:hidden w-full flex flex-col items-center gap-2 mb-2 text-gray-800",children:[e.jsx(Zt,{isOpen:Y,onClose:()=>y(!1)}),e.jsx(Jt,{isOpen:Y,onClose:()=>y(!1)})]}),e.jsxs("div",{className:"text-center w-full max-w-5xl mb-10 sm:mb-8",style:{perspective:"1000px"},children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-center gap-3 mb-3 w-full",children:[e.jsxs("div",{className:"p-0.5 py-0 sm:p-2 w-4/5 mx-auto md:w-48 min-h-[38px] h-[45px] sm:min-h-[77px] sm:h-[90px] transition-all duration-250 hover:scale-103 hover:-translate-y-1 flex flex-col justify-between",style:{background:"rgba(85,154,154,0.7)",backdropFilter:"blur(8px)",borderRadius:"12px",boxShadow:"0px 10px 25px rgba(0, 0, 0, 0.15)",border:"1px solid rgba(255, 255, 255, 0.18)",transform:"translateZ(20px)"},children:[e.jsx("h4",{className:"font-medium text-amber-400 pb-0 mb-0.5 text-xs sm:text-sm",style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)",textShadow:"0px 1px 2px rgba(0, 0, 0, 0.2)"},children:"Local Tourism Info"}),e.jsx("ul",{className:"grid grid-cols-4 gap-0 sm:gap-2 py-0.5 sm:py-2",children:Q.map(g=>e.jsx("li",{children:e.jsx(le,{iconName:g.iconName,tooltip:g.tooltip})},g.iconName))})]}),e.jsxs("div",{className:"p-0.5 py-0 sm:p-2 w-4/5 mx-auto md:w-48 min-h-[38px] h-[45px] sm:min-h-[77px] sm:h-[90px] transition-all duration-250 hover:scale-103 hover:-translate-y-1 flex flex-col justify-between",style:{background:"rgba(85,154,154,0.7)",backdropFilter:"blur(8px)",borderRadius:"12px",boxShadow:"0px 10px 25px rgba(0, 0, 0, 0.15)",border:"1px solid rgba(255, 255, 255, 0.18)",transform:"translateZ(20px)"},children:[e.jsx("h4",{className:"font-medium text-amber-400 pb-0 mb-0.5 text-xs sm:text-sm",style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)",textShadow:"0px 1px 2px rgba(0, 0, 0, 0.2)"},children:"Room Service"}),e.jsx("ul",{className:"grid grid-cols-4 gap-0 sm:gap-2 py-0.5 sm:py-2",children:we.map(g=>e.jsx("li",{children:e.jsx(le,{iconName:g.iconName,tooltip:g.tooltip})},g.iconName))})]}),e.jsxs("div",{className:"p-0.5 py-0 sm:p-2 w-4/5 mx-auto md:w-48 min-h-[38px] h-[45px] sm:min-h-[77px] sm:h-[90px] transition-all duration-250 hover:scale-103 hover:-translate-y-1 flex flex-col justify-between",style:{background:"rgba(85,154,154,0.7)",backdropFilter:"blur(8px)",borderRadius:"12px",boxShadow:"0px 10px 25px rgba(0, 0, 0, 0.15)",border:"1px solid rgba(255, 255, 255, 0.18)",transform:"translateZ(20px)"},children:[e.jsx("h4",{className:"font-medium text-amber-400 pb-0 mb-0.5 text-xs sm:text-sm",style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)",textShadow:"0px 1px 2px rgba(0, 0, 0, 0.2)"},children:"Housekeeping"}),e.jsx("ul",{className:"grid grid-cols-4 gap-0 sm:gap-2 py-0.5 sm:py-2",children:W.map(g=>e.jsx("li",{children:e.jsx(le,{iconName:g.iconName,tooltip:g.tooltip})},g.iconName))})]}),e.jsxs("div",{className:"p-0.5 py-0 sm:p-2 w-4/5 mx-auto md:w-48 min-h-[38px] h-[45px] sm:min-h-[77px] sm:h-[90px] transition-all duration-250 hover:scale-103 hover:-translate-y-1 flex flex-col justify-between",style:{background:"rgba(85,154,154,0.7)",backdropFilter:"blur(8px)",borderRadius:"12px",boxShadow:"0px 10px 25px rgba(0, 0, 0, 0.15)",border:"1px solid rgba(255, 255, 255, 0.18)",transform:"translateZ(20px)"},children:[e.jsx("h4",{className:"font-medium text-amber-400 pb-0 mb-0.5 text-xs sm:text-sm",style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)",textShadow:"0px 1px 2px rgba(0, 0, 0, 0.2)"},children:"Guest Feedbacks"}),e.jsx("ul",{className:"grid grid-cols-4 gap-0 sm:gap-2 py-0.5 sm:py-2",children:E.map(g=>e.jsx("li",{children:e.jsx(le,{iconName:g.iconName,tooltip:g.tooltip})},g.iconName))})]}),e.jsxs("div",{className:"p-0.5 py-0 sm:p-2 w-4/5 mx-auto md:w-48 min-h-[38px] h-[45px] sm:min-h-[77px] sm:h-[90px] transition-all duration-250 hover:scale-103 hover:-translate-y-1 flex flex-col justify-between",style:{background:"rgba(85,154,154,0.7)",backdropFilter:"blur(8px)",borderRadius:"12px",boxShadow:"0px 10px 25px rgba(0, 0, 0, 0.15)",border:"1px solid rgba(255, 255, 255, 0.18)",transform:"translateZ(20px)"},children:[e.jsx("h4",{className:"font-medium text-amber-400 pb-0 mb-0.5 text-xs sm:text-sm",style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)",textShadow:"0px 1px 2px rgba(0, 0, 0, 0.2)"},children:"Local Souvenir"}),e.jsx("ul",{className:"grid grid-cols-4 gap-0 sm:gap-2 py-0.5 sm:py-2",children:_e.map(g=>e.jsx("li",{children:e.jsx(le,{iconName:g.iconName,tooltip:g.tooltip})},g.iconName))})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-center gap-3 mb-3 w-full",children:[e.jsxs("div",{className:"p-0.5 py-0 sm:p-2 w-4/5 mx-auto md:w-64 min-h-[38px] h-[45px] sm:min-h-[77px] sm:h-[90px] transition-all duration-250 hover:scale-103 hover:-translate-y-1 flex flex-col justify-between",style:{background:"rgba(85,154,154,0.7)",backdropFilter:"blur(8px)",borderRadius:"12px",boxShadow:"0px 10px 25px rgba(0, 0, 0, 0.15)",border:"1px solid rgba(255, 255, 255, 0.18)",transform:"translateZ(20px)"},children:[e.jsx("h4",{className:"font-medium text-amber-400 pb-0 mb-0.5 text-xs sm:text-sm",style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)",textShadow:"0px 1px 2px rgba(0, 0, 0, 0.2)"},children:"Tours"}),e.jsx("ul",{className:"grid grid-cols-4 gap-0 sm:gap-2 py-0.5 sm:py-2",children:pe.map(g=>e.jsx("li",{children:e.jsx(le,{iconName:g.iconName,tooltip:g.tooltip})},g.iconName))})]}),e.jsxs("div",{className:"p-0.5 py-0 sm:p-2 w-4/5 mx-auto md:w-[560px] min-h-[38px] h-[45px] sm:min-h-[77px] sm:h-[90px] transition-all duration-250 hover:scale-103 hover:-translate-y-1 flex flex-col justify-between",style:{background:"rgba(85,154,154,0.7)",backdropFilter:"blur(8px)",borderRadius:"12px",boxShadow:"0px 10px 25px rgba(0, 0, 0, 0.15)",border:"1px solid rgba(255, 255, 255, 0.18)",transform:"translateZ(20px)"},children:[e.jsx("h4",{className:"font-medium text-amber-400 pb-0 mb-0.5 text-xs sm:text-sm",style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)",textShadow:"0px 1px 2px rgba(0, 0, 0, 0.2)"},children:"Bus Tickets"}),e.jsx("ul",{className:"flex flex-row flex-nowrap gap-4 py-0.5 sm:py-2 justify-center items-center",children:bt.map(g=>e.jsx("li",{children:e.jsx(le,{iconName:g.iconName,tooltip:g.tooltip})},g.iconName))})]}),e.jsxs("div",{className:"p-0.5 py-0 sm:p-2 w-4/5 mx-auto md:w-64 min-h-[38px] h-[45px] sm:min-h-[77px] sm:h-[90px] transition-all duration-250 hover:scale-103 hover:-translate-y-1 flex flex-col justify-between",style:{background:"rgba(85,154,154,0.7)",backdropFilter:"blur(8px)",borderRadius:"12px",boxShadow:"0px 10px 25px rgba(0, 0, 0, 0.15)",border:"1px solid rgba(255, 255, 255, 0.18)",transform:"translateZ(20px)"},children:[e.jsx("h4",{className:"font-medium text-amber-400 pb-0 mb-0.5 text-xs sm:text-sm",style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)",textShadow:"0px 1px 2px rgba(0, 0, 0, 0.2)"},children:"Vehicle Rental"}),e.jsx("ul",{className:"grid grid-cols-3 gap-0 sm:gap-2 py-0.5 sm:py-2",children:jt.map(g=>e.jsx("li",{children:e.jsx(le,{iconName:g.iconName,tooltip:g.tooltip})},g.iconName))})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-center gap-3 w-full mb-8",children:[e.jsxs("div",{className:"p-0.5 py-0 sm:p-2 w-4/5 mx-auto md:w-64 mb-2 sm:mb-0 min-h-[38px] h-[45px] sm:min-h-[77px] sm:h-[90px] transition-all duration-250 hover:scale-103 hover:-translate-y-1 flex flex-col justify-between",style:{background:"rgba(85,154,154,0.7)",backdropFilter:"blur(8px)",borderRadius:"12px",boxShadow:"0px 10px 25px rgba(0, 0, 0, 0.15)",border:"1px solid rgba(255, 255, 255, 0.18)",transform:"translateZ(20px)"},children:[e.jsx("h4",{className:"font-medium text-amber-400 pb-0 mb-0.5 text-xs sm:text-sm",style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)",textShadow:"0px 1px 2px rgba(0, 0, 0, 0.2)"},children:"Currency Exchange"}),e.jsx("ul",{className:"grid grid-cols-5 gap-0 sm:gap-2 py-0.5 sm:py-2",children:vt.map(g=>e.jsx("li",{children:e.jsx(le,{iconName:g.iconName,tooltip:g.tooltip})},g.iconName))})]}),e.jsxs("div",{className:"p-0.5 py-0 sm:p-2 w-4/5 mx-auto md:w-64 mb-2 sm:mb-0 min-h-[38px] h-[45px] sm:min-h-[77px] sm:h-[90px] transition-all duration-250 hover:scale-103 hover:-translate-y-1 flex flex-col justify-between",style:{background:"rgba(85,154,154,0.7)",backdropFilter:"blur(8px)",borderRadius:"12px",boxShadow:"0px 10px 25px rgba(0, 0, 0, 0.15)",border:"1px solid rgba(255, 255, 255, 0.18)",transform:"translateZ(20px)"},children:[e.jsx("h4",{className:"font-medium text-amber-400 pb-0 mb-0.5 text-xs sm:text-sm",style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)",textShadow:"0px 1px 2px rgba(0, 0, 0, 0.2)"},children:"Laundry Service"}),e.jsx("ul",{className:"grid grid-cols-5 gap-0 sm:gap-2 py-0.5 sm:py-2",children:P.map(g=>e.jsx("li",{children:e.jsx(le,{iconName:g.iconName,tooltip:g.tooltip})},g.iconName))})]}),e.jsxs("div",{className:"p-0.5 py-0 sm:p-2 w-4/5 mx-auto md:w-64 mb-4 sm:mb-0 min-h-[38px] h-[45px] sm:min-h-[77px] sm:h-[90px] transition-all duration-250 hover:scale-103 hover:-translate-y-1 flex flex-col justify-between",style:{background:"rgba(85,154,154,0.7)",backdropFilter:"blur(8px)",borderRadius:"12px",boxShadow:"0px 10px 25px rgba(0,0,0,0.15)",border:"1px solid rgba(255,255,255,0.18)",transform:"translateZ(20px)"},children:[e.jsx("h4",{className:"font-medium text-amber-400 pb-0 mb-0.5 text-xs sm:text-sm",style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)",textShadow:"0px 1px 2px rgba(0, 0, 0, 0.2)"},children:"HomeStay"}),e.jsx("ul",{className:"grid grid-cols-5 gap-0 sm:gap-2 py-0.5 sm:py-2",children:q.map(g=>e.jsx("li",{children:e.jsx(le,{iconName:g.iconName,tooltip:g.tooltip})},g.iconName))})]})]})]}),V&&l&&l.length>0&&e.jsx("div",{className:"flex flex-col items-center gap-y-4 mb-20 pb-16 w-full px-2 sm:mb-12 sm:pb-8 sm:flex-row sm:flex-nowrap sm:gap-x-4 sm:overflow-x-auto sm:justify-start mt-4",children:[...l].sort((g,X)=>X.requestedAt.getTime()-g.requestedAt.getTime()).map(g=>{const X=new Date(g.requestedAt.getTime()+36e5),fe=Math.max(Math.ceil((X.getTime()-te.getTime())/1e3),0);if(fe<=0)return null;const Je=Math.floor(fe/60).toString().padStart(2,"0"),pn=(fe%60).toString().padStart(2,"0");return e.jsxs("div",{className:"p-2 sm:p-3 text-gray-800 max-w-xs w-[220px] flex-shrink-0 transition-all duration-250 hover:rotate-1 hover:scale-105",style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(8px)",borderRadius:"24px",boxShadow:"0px 10px 25px rgba(0, 0, 0, 0.15)",border:"1px solid rgba(255, 255, 255, 0.4)",transform:"translateZ(20px)",transformStyle:"preserve-3d",zIndex:20,marginBottom:"8px",transition:"all 0.3s ease-in-out"},children:[e.jsx("div",{className:"flex justify-center items-center mb-1.5",children:e.jsx("span",{className:"font-bold text-lg text-blue-800 bg-blue-50 px-4 py-1.5 rounded-full shadow-sm",style:{borderRadius:"16px",boxShadow:"0px 2px 6px rgba(0, 0, 0, 0.1)"},children:`${Je}:${pn}`})}),e.jsxs("p",{className:"text-xs sm:text-sm mb-0.5 px-1.5",children:[e.jsxs("strong",{children:[$("order_ref",m),":"]})," ",g.reference]}),e.jsxs("p",{className:"text-xs sm:text-sm mb-0.5 px-1.5",children:[e.jsxs("strong",{children:[$("requested_at",m),":"]})," ",g.requestedAt.toLocaleString("en-US",{timeZone:"Asia/Ho_Chi_Minh",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})]}),e.jsxs("p",{className:"text-xs sm:text-sm mb-0.5 px-1.5",children:[e.jsxs("strong",{children:[$("estimated_completion",m),":"]})," ",g.estimatedTime]}),e.jsx("div",{className:"mt-2 flex justify-center",children:(()=>{const yt=Ue(g.status);return console.log("Order status:",g.status,"->",p(g.status)),e.jsxs("span",{className:`flex items-center gap-1 px-2 py-1 text-xs font-semibold ${yt.bg} ${yt.text} w-full text-center shadow-md border border-white/60`,style:{borderRadius:"16px",boxShadow:"0px 1px 4px rgba(0, 0, 0, 0.12)",transition:"all 0.2s ease",letterSpacing:.2},children:[e.jsx("span",{className:"material-icons text-base mr-1",style:{marginTop:-2},children:yt.icon}),$(p(g.status),m)]})})()})]},g.reference)})})]}),F&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-sm",children:e.jsx("div",{className:"relative bg-white/90 rounded-2xl shadow-xl p-6 sm:p-8 max-w-md w-full mx-4",children:e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx("span",{className:"material-icons text-blue-600 text-3xl sm:text-4xl animate-spin",children:"sync"})}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-blue-900 text-center",children:$("generating_your_summary",m)})]})})}),N&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-start sm:items-center justify-center bg-black/30 backdrop-blur-sm",children:e.jsxs("div",{className:"relative w-full h-full flex items-start sm:items-center justify-center",children:[e.jsx("button",{className:"absolute top-2 right-2 z-10 p-2 bg-white/80 rounded-full shadow hover:bg-white",onClick:()=>k(!1),title:"ÄÃ³ng summary",children:e.jsx("span",{className:"material-icons text-gray-600",children:"close"})}),e.jsx("div",{className:"w-full max-w-4xl flex justify-center pt-50 sm:pt-0",children:e.jsx("div",{className:"w-full max-h-screen overflow-y-auto",children:e.jsx(an,{isActive:!0})})})]})})]}):e.jsx("div",{className:"absolute w-full min-h-screen h-full flex items-center justify-center z-30 bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Loading hotel configuration..."})]})})},Qt=["Landmark","Hotel Amenities","Local Cuisine","Area Map","Activity and Experiences","Tours","Transportation","Dining"],og=({references:t})=>{const[s,n]=i.useState({}),[a,c]=i.useState(!0),[r,o]=i.useState(Qt[0]),[l,m]=i.useState(null);i.useEffect(()=>{c(!0);let x=0;if(t.length===0){c(!1);return}t.forEach(w=>{w.type==="document"&&w.url.endsWith(".txt")&&!s[w.url]?fetch(w.url).then(z=>z.text()).then(z=>{n(se=>({...se,[w.url]:z})),x++,x===t.length&&c(!1)}).catch(()=>{x++,x===t.length&&c(!1)}):(x++,x===t.length&&c(!1))}),t.every(w=>w.type!=="document"||!w.url.endsWith(".txt"))&&c(!1)},[t]);const d=x=>/^https?:\/\//.test(x)?x:`/${x.replace(/^\//,"")}`,h=async(x,w)=>{try{const se=await(await fetch(d(x))).blob(),ee=URL.createObjectURL(se),V=document.createElement("a");V.href=ee,V.download=w,document.body.appendChild(V),V.click(),document.body.removeChild(V),URL.revokeObjectURL(ee)}catch(z){console.error("Error downloading file:",z)}},f=x=>{window.open(d(x),"_blank")},j=()=>e.jsxs("div",{className:"animate-pulse bg-white/80 rounded-xl shadow-md h-[180px] flex flex-col p-4 gap-2",children:[e.jsx("div",{className:"bg-gray-200 rounded w-full h-2/3 mb-2"}),e.jsx("div",{className:"bg-gray-200 rounded w-2/3 h-4 mb-1"}),e.jsx("div",{className:"bg-gray-100 rounded w-1/2 h-3"})]}),v=x=>e.jsxs("div",{className:"group bg-white/90 rounded-xl shadow-md h-[180px] flex flex-col justify-between cursor-pointer transition-transform duration-200 hover:scale-[1.03] active:scale-95 border border-white/40 backdrop-blur-md",style:{minWidth:220,maxWidth:260},onClick:()=>x.type==="link"?f(x.url):void 0,children:[e.jsxs("div",{className:"flex-1 flex items-center justify-center overflow-hidden rounded-t-xl",style:{height:"60%"},children:[x.type==="image"&&e.jsx("img",{src:d(x.url),alt:x.title,className:"object-cover w-full h-full rounded-t-xl hover:opacity-80 transition cursor-zoom-in",onClick:w=>{w.stopPropagation(),m(d(x.url))},tabIndex:0,onKeyDown:w=>{(w.key==="Enter"||w.key===" ")&&m(d(x.url))}}),x.type==="document"&&x.url.endsWith(".pdf")&&e.jsx("span",{className:"material-icons text-5xl text-blue-700/80",children:"picture_as_pdf"}),x.type==="document"&&x.url.endsWith(".txt")&&e.jsx("span",{className:"material-icons text-5xl text-green-700/80",children:"description"}),x.type==="link"&&e.jsx("span",{className:"material-icons text-5xl text-yellow-700/80",children:"link"})]}),e.jsxs("div",{className:"flex flex-col gap-1 px-3 py-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-base font-medium text-gray-900 truncate",children:x.title}),x.type==="document"&&e.jsx("button",{onClick:w=>{w.stopPropagation(),h(x.url,x.title)},className:"ml-auto p-1 rounded-full hover:bg-yellow-100 text-yellow-700 transition-colors",children:e.jsx("span",{className:"material-icons text-base",children:"download"})}),x.type==="link"&&e.jsx("span",{className:"material-icons text-xs text-gray-400 ml-1",children:"open_in_new"})]}),x.description&&e.jsx("span",{className:"text-xs text-gray-500 truncate",children:x.description}),x.url.endsWith(".txt")&&s[x.url]&&e.jsxs("pre",{className:"mt-1 max-h-12 overflow-auto whitespace-pre-wrap text-xs text-gray-700 bg-gray-50 rounded p-1",children:[s[x.url].slice(0,120),"..."]})]})]}),u=()=>window.innerWidth<640?"auto":window.innerWidth<1024?2:window.innerWidth<1280?3:4,b=t.filter(x=>x.category&&x.category.trim().toLowerCase()===r.trim().toLowerCase());return e.jsxs("div",{className:"w-full sm:max-w-5xl mx-auto mt-2 mb-2 px-2 py-3 rounded-2xl",style:{background:"rgba(85,154,154,0.85)",minHeight:260},children:[l&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",onClick:()=>m(null),children:e.jsxs("div",{className:"relative max-w-3xl w-full flex flex-col items-center",children:[e.jsx("button",{className:"absolute top-2 right-2 bg-white/80 hover:bg-white text-gray-800 rounded-full p-2 shadow-lg z-10",onClick:x=>{x.stopPropagation(),m(null)},children:e.jsx("span",{className:"material-icons text-2xl",children:"close"})}),e.jsx("img",{src:l,alt:"PhÃ³ng to áº£nh reference",className:"rounded-xl max-h-[80vh] w-auto object-contain border-4 border-white shadow-2xl",onClick:x=>x.stopPropagation()})]})}),e.jsx("div",{className:"flex items-center mb-4 px-2",children:e.jsxs("div",{className:"flex items-center px-3 py-2 sm:py-1.5 gap-2 transition-all duration-300 mx-auto sm:mx-0",style:{background:"linear-gradient(135deg, #79DBDC 0%, #559A9A 100%)",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.15)",borderRadius:"8px",minWidth:"150px",maxWidth:"95%",width:"auto",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[e.jsx(xa,{className:"text-[#F9BF3B] text-xl mr-1.5",style:{filter:"drop-shadow(0px 2px 3px rgba(0, 0, 0, 0.2))"}}),e.jsx("label",{className:"mr-2 font-semibold font-sans text-white whitespace-nowrap text-sm sm:text-base",children:"Category:"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("select",{value:r,onChange:x=>o(x.target.value),className:"appearance-none w-full pl-6 sm:pl-8 pr-6 py-1 sm:py-1.5 font-sans bg-transparent focus:outline-none transition-all duration-200",style:{fontWeight:600,color:"#fff",textShadow:"0px 1px 2px rgba(0, 0, 0, 0.2)",borderRadius:"8px"},children:Qt.map(x=>e.jsx("option",{value:x,className:"bg-blue-800 text-white",children:x},x))}),e.jsx(Os,{className:"absolute right-2 top-1/2 -translate-y-1/2 text-[#F9BF3B] pointer-events-none text-lg"})]})]})}),a?e.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2",children:[...Array(3)].map((x,w)=>e.jsx(j,{},w))}):b.length===0?e.jsx("div",{className:"flex items-center justify-center h-[120px] text-white/80 text-base font-medium",children:"No references available"}):e.jsx(ca,{modules:[da,ma,ha],spaceBetween:16,slidesPerView:u(),navigation:b.length>3,pagination:{clickable:!0,dynamicBullets:!0},className:"w-full",style:{paddingBottom:32,overflowX:window.innerWidth<640?"auto":void 0},children:b.map((x,w)=>e.jsx(ua,{className:"flex justify-center",style:window.innerWidth<640?{width:"90vw",maxWidth:"98vw",minWidth:0}:{},children:v(x)},x.url+w))})]})};class lg{constructor(){this.referenceMap={}}async initialize(){try{const s=await fetch("/assets/references/reference-map.json");this.referenceMap=await s.json(),console.log("Loaded referenceMap:",this.referenceMap)}catch(s){console.error("Error loading reference map:",s)}}findReferences(s){const n=s.toLowerCase(),a=[];return Object.values(this.referenceMap).forEach(c=>{c.keywords.some(o=>n.includes(o.toLowerCase()))&&!a.find(o=>o.url===c.url)&&a.push(c)}),a}async addReference(s,n){this.referenceMap[s]=n;try{await fetch("/api/references",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...n,id:s})})}catch(a){console.error("Error saving reference:",a)}}}const es=new lg,cg=({isActive:t})=>{const{transcripts:s,callDetails:n,callDuration:a,endCall:c,isMuted:r,toggleMute:o,setCurrentInterface:l,micLevel:m,modelOutput:d,language:h,hotelConfig:f}=De(),[j,v]=i.useState({}),u=i.useRef({}),[b,x]=i.useState([]),[w,z]=i.useState([]),[se,ee]=i.useState(0),V=i.useRef(null),[ge,B]=i.useState(!0),C=()=>{Object.values(u.current).forEach(y=>{cancelAnimationFrame(y)}),u.current={}};i.useEffect(()=>{async function y(){await es.initialize();const N=Object.values(es.referenceMap||{});console.log("All references loaded:",N),z(N)}y()},[]),i.useEffect(()=>{const y=[...s].sort((F,J)=>F.timestamp.getTime()-J.timestamp.getTime()),N=[];let k=null;y.forEach(F=>{F.role==="user"?(k={id:F.id.toString(),role:"user",timestamp:F.timestamp,messages:[{id:F.id.toString(),content:F.content,timestamp:F.timestamp}]},N.push(k)):((!k||k.role==="user")&&(k={id:F.id.toString(),role:"assistant",timestamp:F.timestamp,messages:[]},N.push(k)),k.messages.push({id:F.id.toString(),content:F.content,timestamp:F.timestamp}))}),x(N)},[s]),i.useEffect(()=>(b.filter(N=>N.role==="assistant").flatMap(N=>N.messages).forEach(N=>{if(j[N.id]===N.content.length)return;let k=j[N.id]||0;const F=N.content,J=()=>{k<F.length?(v(G=>({...G,[N.id]:k+1})),k++,u.current[N.id]=requestAnimationFrame(J)):delete u.current[N.id]};u.current[N.id]=requestAnimationFrame(J)}),()=>C()),[b]);const T=i.useCallback(()=>{const y=a>0?a:se;console.log("Canceling call with duration:",y),c(),l("interface1")},[a,se,c,l]),U=i.useCallback(()=>{if(!s||s.length===0){alert($("need_conversation",h));return}const y=a>0?a:se;console.log("Ending call with duration:",y),c(),l(h==="fr"?"interface3fr":h==="vi"?"interface3vi":"interface3")},[a,se,c,l,s,h]),Y=y=>{const N=Math.floor(y/60).toString().padStart(2,"0"),k=(y%60).toString().padStart(2,"0");return`${N}:${k}`};return f?(i.useEffect(()=>{let y=null;return t&&(console.log("Interface2 is active, starting local timer"),ee(a||0),y=setInterval(()=>{ee(N=>N+1)},1e3)),()=>{y&&(console.log("Cleaning up local timer in Interface2"),clearInterval(y))}},[t,a]),i.useEffect(()=>{V.current&&t&&(V.current.scrollTop=0)},[b,t]),e.jsx("div",{className:`absolute w-full min-h-screen h-full transition-opacity duration-500 ${t?"opacity-100":"opacity-0 pointer-events-none"} z-20 overflow-y-auto`,id:"interface2",style:{backgroundImage:`linear-gradient(${f.branding.colors.primary}CC, ${f.branding.colors.secondary}99), url('/assets/courtyard.jpeg')`,backgroundSize:"cover",backgroundPosition:"center",fontFamily:f.branding.fonts.primary+", SF Pro Text, Roboto, Open Sans, Arial, sans-serif"},children:e.jsxs("div",{className:"container mx-auto flex flex-col md:flex-row p-2 h-full gap-2",children:[e.jsxs("div",{className:"w-full md:w-3/4 lg:w-2/3 flex flex-col items-center space-y-1 sm:space-y-4 mt-1 min-h-0 overflow-y-auto",children:[e.jsxs("div",{className:"relative flex flex-col items-center justify-center mb-1 sm:mb-6 w-full max-w-xs mx-auto",children:[e.jsx(nn,{containerId:"siri-button",isListening:!r,volumeLevel:m}),e.jsxs("div",{className:"flex items-center justify-center mt-2 w-full gap-2 sm:gap-3",children:[e.jsx("button",{className:"flex items-center justify-center transition-colors",title:$(r?"unmute":"mute",h),onClick:o,style:{fontSize:22,padding:0,background:"none",border:"none",color:"#d4af37",width:28,height:28},onMouseOver:y=>y.currentTarget.style.color="#ffd700",onMouseOut:y=>y.currentTarget.style.color="#d4af37",children:e.jsx("span",{className:"material-icons",children:r?"mic_off":"mic"})}),e.jsxs("button",{id:"cancelButton",onClick:T,className:"flex items-center justify-center px-3 py-2 bg-white/80 hover:bg-blue-100 text-blue-900 rounded-full text-xs font-semibold border-2 border-blue-200 shadow transition-colors sm:hidden active:scale-95 active:bg-blue-100",style:{fontFamily:"inherit",letterSpacing:.2,minHeight:44,minWidth:90,fontSize:14,touchAction:"manipulation",zIndex:10},children:[e.jsx("span",{className:"material-icons text-base mr-1",children:"cancel"}),$("cancel",h)]}),e.jsx("div",{className:"flex-1 flex justify-center",children:e.jsx("div",{className:"text-white text-xs sm:text-sm bg-blue-900/80 rounded-full px-3 sm:px-4 py-1 shadow-lg border border-white/30 flex items-center justify-center",style:{backdropFilter:"blur(2px)"},children:Y(se)})}),e.jsxs(L,{id:"confirmButton",onClick:U,variant:"yellow",className:"flex items-center justify-center sm:hidden text-xs font-bold",style:{minHeight:44,minWidth:120,fontSize:14,zIndex:10},children:[e.jsx("span",{className:"material-icons text-lg mr-2",children:"send"}),$("confirm",h)]}),e.jsxs("button",{className:"flex items-center justify-center transition-colors",title:"Mic Level",style:{fontSize:22,padding:0,background:"none",border:"none",color:"#d4af37",width:28,height:28},tabIndex:-1,disabled:!0,onMouseOver:y=>y.currentTarget.style.color="#ffd700",onMouseOut:y=>y.currentTarget.style.color="#d4af37",children:[e.jsx("span",{className:"material-icons",children:"graphic_eq"}),e.jsx("span",{className:"ml-1 flex items-end h-4 w-6",children:[...Array(4)].map((y,N)=>e.jsx("span",{style:{display:"inline-block",width:2,height:`${4+Math.round(m/100*12)*(N%2+1)}px`,background:"#d4af37",marginLeft:1,borderRadius:1}},N))})]})]})]}),ge&&e.jsxs("div",{id:"realTimeConversation",ref:V,className:"w-full flex flex-col-reverse gap-1 pr-2 relative max-w-full sm:max-w-2xl mx-auto min-h-[60px] max-h-[12vh] overflow-y-auto mb-1",style:{background:"rgba(255,255,255,0.88)",borderRadius:12,border:"1px solid rgba(255,255,255,0.35)",boxShadow:"0px 4px 10px rgba(0,0,0,0.15)",padding:"8px",transition:"box-shadow 0.3s, background 0.3s",fontFamily:"SF Pro Text, Roboto, Open Sans, Arial, sans-serif",fontSize:window.innerWidth<640?14:16,lineHeight:1.5,color:"#222",fontWeight:400,backdropFilter:"blur(2px)",display:"flex",flexDirection:"column",justifyContent:"flex-end"},children:[e.jsx("button",{className:"absolute top-1.5 right-1.5 w-5 h-5 flex items-center justify-center rounded-full bg-white/40 hover:bg-white/70 text-gray-400 hover:text-gray-700 shadow z-10 opacity-60 hover:opacity-90 transition-all",style:{fontSize:14,display:"block"},title:"áº¨n realtime conversation",onClick:()=>B(!1),children:e.jsx("span",{className:"material-icons",style:{fontSize:16},children:"close"})}),e.jsxs("div",{className:"w-full flex flex-col gap-1 pr-2",style:{overflowY:"auto",maxHeight:"28vh"},children:[b.length===0&&e.jsx("div",{className:"text-gray-400 text-base text-center select-none",style:{opacity:.7},children:$("tap_to_speak",h)}),[...b].reverse().map((y,N)=>e.jsx("div",{className:"mb-1",children:e.jsx("div",{className:"flex items-start",children:e.jsx("div",{className:"flex-grow",children:y.role==="user"?e.jsx("p",{className:"text-base md:text-lg font-medium text-gray-900",style:{marginBottom:2},children:y.messages[0].content}):e.jsxs("p",{className:"text-base md:text-lg font-medium",style:{marginBottom:2,position:"relative",background:"linear-gradient(90deg, #FF512F, #F09819, #FFD700, #56ab2f, #43cea2, #1e90ff, #6a11cb, #FF512F)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:600,letterSpacing:.2,transition:"background 0.5s"},children:[e.jsx("span",{className:"inline-flex flex-wrap",children:y.messages.map((k,F)=>{const J=k.content.slice(0,j[k.id]||0);return e.jsxs("span",{style:{whiteSpace:"pre"},children:[J,F===y.messages.length-1&&N===0&&j[k.id]<k.content.length&&e.jsx("span",{className:"animate-blink text-yellow-500",style:{marginLeft:1},children:"|"})]},k.id)})}),N===0&&y.role==="assistant"&&j[y.messages[y.messages.length-1].id]===y.messages[y.messages.length-1].content.length&&e.jsx("span",{className:"ml-2 animate-ellipsis text-yellow-500",children:"..."})]})})})},y.id))]})]}),e.jsx("div",{className:"w-full mt-1",children:e.jsx("div",{className:"w-full flex flex-row items-center gap-x-2 mb-3 px-2",children:e.jsx(og,{references:w})})})]}),e.jsx("div",{className:"w-1/4 lg:w-1/3 flex-col items-center lg:items-end p-2 space-y-4 overflow-auto hidden sm:flex",style:{maxHeight:"100%"},children:e.jsxs("div",{className:"flex flex-col gap-4 w-full md:w-auto",children:[e.jsxs(L,{id:"endCallButton",onClick:U,variant:"yellow",className:"w-full md:w-auto flex items-center justify-center space-x-2 text-base sm:text-lg",style:{minHeight:56,minWidth:220,zIndex:10},children:[e.jsx("span",{className:"material-icons",children:"send"}),e.jsx("span",{className:"whitespace-nowrap",children:$("confirm_request",h)})]}),e.jsxs("button",{id:"cancelButtonDesktop",onClick:T,className:"w-full md:w-auto bg-white hover:bg-blue-100 text-blue-900 font-semibold py-3 px-8 rounded-full shadow flex items-center justify-center space-x-2 transition-all duration-200 border-2 border-blue-200 text-base sm:text-lg active:scale-95 active:bg-blue-100",style:{fontFamily:"inherit",letterSpacing:.2,minHeight:56,minWidth:120,touchAction:"manipulation",zIndex:10},children:[e.jsx("span",{className:"material-icons text-lg mr-2",children:"cancel"}),$("cancel",h)]})]})})]})})):e.jsx("div",{className:"absolute w-full min-h-screen h-full flex items-center justify-center z-40 bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Loading hotel configuration..."})]})})},dg=({isActive:t})=>{const{order:s,setCurrentInterface:n,language:a,setOrder:c,hotelConfig:r}=De();Be.useEffect(()=>{t&&(console.clear(),console.log("ğŸ¬ === Interface4 Debug Session Started ==="),console.log("ğŸ¬ Interface4 mounted with isActive:",t),console.log("ğŸ¬ Order:",s))},[t]);const o=()=>{console.log("ğŸ  Return to Home button clicked"),console.log("Current interface before:",t),console.log("Order exists:",!!s);try{console.log("ğŸ—‘ï¸ Clearing order..."),c(null),console.log("ğŸ”„ Setting interface to interface1..."),n("interface1"),console.log('âœ… Order cleared and setCurrentInterface("interface1") called'),setTimeout(()=>{console.log("â° Delayed check - Current interface should be interface1"),console.log("â° Order should be null:",!s)},100)}catch(l){console.error("âŒ Error in handleReturnHome:",l)}};return console.log("ğŸ” Interface4 render:",{isActive:t,hasOrder:!!s,orderReference:s==null?void 0:s.reference,timestamp:new Date().toISOString()}),r?((!t||!s)&&console.log("âŒ Interface4 not rendering - isActive:",t,"hasOrder:",!!s),!t||!s?null:e.jsx("div",{className:"fixed inset-0 z-50 w-full h-full min-h-screen flex items-start sm:items-center justify-center bg-black/30 backdrop-blur-sm",id:"interface4",onClick:l=>{l.target===l.currentTarget&&console.log("ğŸ–±ï¸ Background clicked - not closing dialog")},children:e.jsx("div",{className:"container mx-auto flex flex-col items-center justify-center pt-50 sm:pt-0 p-3 sm:p-5 text-center h-auto",children:e.jsxs("div",{className:"w-full max-w-xs sm:max-w-md bg-white rounded-lg shadow-lg p-4 sm:p-8",style:{fontFamily:r.branding.fonts.primary+", SF Pro Text, Roboto, Open Sans, Arial, sans-serif"},children:[e.jsx("div",{className:"mb-4 sm:mb-6 flex justify-center",children:e.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 rounded-full flex items-center justify-center",style:{backgroundColor:r.branding.colors.primary},children:e.jsx("span",{className:"material-icons text-white text-4xl sm:text-5xl",children:"check"})})}),e.jsx("h2",{className:"font-poppins font-bold text-xl sm:text-2xl text-primary mb-2 sm:mb-3",children:$("order_confirmed",a)}),e.jsx("p",{className:"text-gray-700 mb-4 sm:mb-6 text-sm sm:text-base",children:$("order_confirmed_message",a)}),e.jsx("div",{className:"bg-neutral p-3 sm:p-4 rounded-lg mb-4 sm:mb-6",children:e.jsxs("p",{className:"font-medium text-gray-800 text-sm sm:text-base",children:[$("order_reference",a),": ",e.jsx("span",{className:"font-bold",children:s.reference})]})}),e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:$("estimated_delivery_time",a)}),e.jsx("p",{className:"font-poppins font-bold text-lg sm:text-xl",children:s.estimatedTime})]}),e.jsx("button",{className:"w-full px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-poppins font-medium text-sm sm:text-base transition-colors cursor-pointer",onClick:o,onMouseDown:()=>console.log("ğŸ–±ï¸ Mouse down on Return to Home button"),onMouseUp:()=>console.log("ğŸ–±ï¸ Mouse up on Return to Home button"),style:{zIndex:9999,position:"relative",pointerEvents:"auto",backgroundColor:r.branding.colors.secondary,color:"#ffffff"},children:$("return_to_home",a)}),e.jsx("button",{className:"w-full mt-2 px-4 sm:px-6 py-2 sm:py-3 bg-red-500 text-white rounded-lg font-poppins font-medium text-xs opacity-50 hover:opacity-100",onClick:()=>{console.log("ğŸ”§ DEBUG: Force interface change button clicked"),n("interface1"),console.log("ğŸ”§ DEBUG: setCurrentInterface called directly")},style:{zIndex:9999,position:"relative",pointerEvents:"auto"},children:"DEBUG: Force to Interface1"})]})})})):e.jsx("div",{className:"fixed inset-0 z-50 w-full h-full min-h-screen flex items-center justify-center bg-black/30 backdrop-blur-sm",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-white text-lg",children:"Loading hotel configuration..."})]})})};function mg({currentStep:t=1,compact:s=!1,horizontal:n=!1,language:a}){const{language:c}=De?De():{language:"en"},r=a||c||"en",o=[{icon:"call",title:$("press_to_call",r),desc:$("press_to_call_desc",r)},{icon:"check_circle",title:$("confirm_request",r),desc:$("confirm_request_desc",r)},{icon:"mail",title:$("send_to_reception",r),desc:$("send_to_reception_desc",r)}];return n?e.jsx("div",{className:"flex flex-row items-center justify-center w-full gap-2 md:gap-6 py-1",children:o.map((l,m)=>e.jsxs(Be.Fragment,{children:[e.jsxs("div",{className:`flex flex-col items-center transition-all duration-300 ${m+1===t?"opacity-100 scale-105":m+1<t?"opacity-60":"opacity-40"}`,children:[e.jsx("div",{className:`flex items-center justify-center rounded-full shadow-lg mb-0.5 transition-all duration-300 ${m+1===t?"bg-[#d4af37] text-blue-900 border-2 border-[#d4af37]":m+1===2||m+1===3?"bg-white/30 text-[#d4af37] border-2 border-[#d4af37]":"bg-white/30 text-white border border-gray-200"}`,style:{width:22,height:22,fontSize:13,boxShadow:m+1===2||m+1===3?"0 0 0 2px #d4af37":void 0},children:e.jsx("span",{className:"material-icons",children:l.icon})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`font-semibold font-poppins mb-0 text-[10px] ${m+1===t?"text-[#d4af37]":"text-[#d4af37]/70"} ${m+1===2||m+1===3?"font-extrabold text-base":""}`,children:l.title}),e.jsx("div",{className:`font-light text-[8px] ${m+1===2||m+1===3?"text-base text-[#b48a19]":"text-[#d4af37]/80"} hidden md:block`,children:l.desc})]})]}),m<o.length-1&&e.jsx("div",{className:"h-0.5 w-3 md:w-8 bg-gradient-to-r from-[#d4af37]/80 to-transparent mx-1 rounded-full"})]},l.title))}):e.jsx("div",{className:`w-full ${s?"max-w-[160px] py-2 gap-3":"max-w-xs py-6 gap-6"} mx-auto flex flex-col items-center`,children:o.map((l,m)=>e.jsxs("div",{className:`flex flex-col items-center w-full transition-all duration-300 ${m+1===t?"opacity-100 scale-105":m+1<t?"opacity-60":"opacity-40"}`,children:[e.jsx("div",{className:`flex items-center justify-center rounded-full shadow-lg mb-2 transition-all duration-300 ${m+1===t?"bg-[#d4af37] text-blue-900 border-2 border-[#d4af37]":m+1===2||m+1===3?"bg-white/30 text-[#d4af37] border-2 border-[#d4af37]":"bg-white/30 text-white border border-gray-200"}`,style:{width:s?32:48,height:s?32:48,fontSize:s?18:28,boxShadow:m+1===2||m+1===3?"0 0 0 2px #d4af37":void 0},children:e.jsx("span",{className:"material-icons",children:l.icon})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`font-semibold font-poppins mb-1 ${s?"text-xs":m+1===2||m+1===3?"text-lg":"text-base"} ${m+1===t?"text-[#d4af37]":"text-[#d4af37]/70"} ${m+1===2||m+1===3?"font-extrabold":""}`,style:m+1===2||m+1===3?{letterSpacing:.5}:{},children:l.title}),e.jsx("div",{className:`font-light ${s?"text-[10px]":m+1===2||m+1===3?"text-base":"text-sm"} ${m+1===2||m+1===3?"text-[#b48a19]":"text-[#d4af37]/80"}`,children:l.desc})]}),m<o.length-1&&e.jsx("div",{className:`mx-auto my-1 rounded-full ${s?"w-0.5 h-4":"w-1 h-8"} bg-gradient-to-b from-[#d4af37]/80 to-transparent`})]},l.title))})}const hg=({onClose:t})=>e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm font-sans",children:e.jsxs("div",{className:"bg-gradient-to-br from-[rgba(255,255,255,0.7)] to-[rgba(255,255,255,0.5)] dark:from-[rgba(30,30,30,0.7)] dark:to-[rgba(30,30,30,0.5)] text-gray-800 dark:text-gray-200 rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto border border-white/30",style:{transformStyle:"preserve-3d"},children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 sm:gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-blue-900 dark:text-amber-400 font-poppins",children:"Ná»™i dung"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"target",children:"ğŸ¯"})," Má»¤C ÄÃCH:"]}),e.jsx("p",{className:"pl-6 text-gray-700 dark:text-gray-300",children:"Thay tháº¿ cho nhÃ¢n sá»± lá»… tÃ¢n báº±ng AI Voice Assistant Ä‘Æ°á»£c Ä‘Ã o táº¡o riÃªng vá»›i thÃ´ng tin vÃ  dá»‹ch vá»¥ cá»§a má»™t khÃ¡ch sáº¡n cá»¥ thá»ƒ."})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"money",children:"ğŸ’°"})," GIÃ TRá»Š MANG Láº I:"]}),e.jsxs("ul",{className:"list-inside list-disc pl-6 space-y-1 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"Phá»¥c vá»¥ Ä‘a ngÃ´n ngá»¯ â€“ khÃ´ng cáº§n thÃ´ng dá»‹ch viÃªn"}),e.jsx("li",{children:"Hoáº¡t Ä‘á»™ng 24/7 â€“ khÃ´ng bao giá» nghá»‰"}),e.jsx("li",{children:"Xá»­ lÃ½ Ä‘á»“ng thá»i nhiá»u khÃ¡ch cÃ¹ng lÃºc"}),e.jsx("li",{children:"TÄƒng doanh thu dá»‹ch vá»¥ thÃ´ng qua gá»£i Ã½ thÃ´ng minh"})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"speech bubble",children:"ğŸ—£ï¸"})," Äáº¶C ÄIá»‚M Ná»”I Báº¬T:"]}),e.jsx("p",{className:"pl-6 text-gray-700 dark:text-gray-300",children:"Voice Bot â€“ Báº¡n NÃ“I CHUYá»†N vá»›i AI, khÃ´ng cáº§n gÃµ phÃ­m!"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"bell",children:"ğŸ””"})," CHá»¨C NÄ‚NG Cá»¦A AI VOICE BOT:"]}),e.jsxs("ul",{className:"list-inside list-disc pl-6 space-y-1 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"Äáº·t phÃ²ng & Check-in/out"}),e.jsx("li",{children:"Room Service & Housekeeping"}),e.jsx("li",{children:"Tour bookings & VÃ© xe buÃ½t"}),e.jsx("li",{children:"ThÃ´ng tin du lá»‹ch Ä‘á»‹a phÆ°Æ¡ng"}),e.jsx("li",{children:"Homestay & Äá»•i tiá»n, giáº·t á»§i"})]}),e.jsx("p",{className:"pl-6 text-xs italic text-gray-600 dark:text-gray-400 mt-1",children:"*Táº¥t cáº£ dá»‹ch vá»¥ nÃ y sáº½ do khÃ¡ch sáº¡n cung cáº¥p"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"microphone",children:"ğŸ¤"})," CÃCH Sá»¬ Dá»¤NG:"]}),e.jsx("p",{className:"pl-6 text-gray-700 dark:text-gray-300",children:"Nháº¥n mic â†’ NÃ“I yÃªu cáº§u â†’ Nháº­n pháº£n há»“i báº±ng giá»ng nÃ³i"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"light bulb",children:"ğŸ’¡"})," THá»¬ NGAY (6 ngÃ´n ngá»¯ Ä‘á»ƒ tráº£i nghiá»‡m):"]}),e.jsxs("div",{className:"pl-6 text-gray-700 dark:text-gray-300 italic",children:[e.jsx("p",{children:'"Äáº·t phÃ²ng cho 2 ngÆ°á»i tá»‘i nay"'}),e.jsx("p",{children:'"Order breakfast to room 101"'}),e.jsx("p",{children:'"Book tour Fairy Stream tomorrow"'})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-blue-900 dark:text-amber-400 font-poppins",children:"Content"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"target",children:"ğŸ¯"})," PURPOSE:"]}),e.jsx("p",{className:"pl-6 text-gray-700 dark:text-gray-300",children:"Replace human receptionists with an AI Voice Assistant trained with the specific information and services of a hotel."})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"money",children:"ğŸ’°"})," VALUE PROPOSITION:"]}),e.jsxs("ul",{className:"list-inside list-disc pl-6 space-y-1 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"Serves multiple languages â€“ no interpreter needed"}),e.jsx("li",{children:"Operates 24/7 â€“ never takes a break"}),e.jsx("li",{children:"Handles multiple guests simultaneously"}),e.jsx("li",{children:"Increases service revenue through smart suggestions"})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"speech bubble",children:"ğŸ—£ï¸"})," HIGHLIGHT:"]}),e.jsx("p",{className:"pl-6 text-gray-700 dark:text-gray-300",children:"Voice Bot â€“ You SPEAK with AI, no typing needed!"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"bell",children:"ğŸ””"})," AI VOICE BOT FEATURES:"]}),e.jsxs("ul",{className:"list-inside list-disc pl-6 space-y-1 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"Booking & Check-in/out"}),e.jsx("li",{children:"Room Service & Housekeeping"}),e.jsx("li",{children:"Tour bookings & Bus tickets"}),e.jsx("li",{children:"Local tourism information"}),e.jsx("li",{children:"Homestay & Currency exchange, laundry"})]}),e.jsx("p",{className:"pl-6 text-xs italic text-gray-600 dark:text-gray-400 mt-1",children:"*All these services are provided by the hotel"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"microphone",children:"ğŸ¤"})," HOW TO USE:"]}),e.jsx("p",{className:"pl-6 text-gray-700 dark:text-gray-300",children:"Press mic â†’ SPEAK request â†’ Receive voice response"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"light bulb",children:"ğŸ’¡"})," TRY NOW (6 languages to experience):"]}),e.jsxs("div",{className:"pl-6 text-gray-700 dark:text-gray-300 italic",children:[e.jsx("p",{children:'"Book a room for 2 people tonight"'}),e.jsx("p",{children:'"Order breakfast to room 101"'}),e.jsx("p",{children:'"Book tour Fairy Stream tomorrow"'})]})]})]})]}),e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsx(L,{onClick:t,className:"font-bold text-lg bg-yellow-400 hover:bg-yellow-500 text-blue-900 px-8 py-6 rounded-full shadow-lg transition-transform transform hover:scale-105",children:"ÄÃ³ng / Close"})})]})}),ug=()=>{const{currentInterface:t,language:s,setLanguage:n,hotelConfig:a,setHotelConfig:c}=De(),[r,o]=i.useState(!1),[l,m]=i.useState(!1),{config:d,isLoading:h,error:f}=ni();i.useEffect(()=>{console.log("ğŸ”„ Current interface changed to:",t)},[t]),i.useEffect(()=>{d&&d!==a&&(console.log("ğŸ¨ Hotel configuration loaded:",d),c(d))},[d,a,c]),i.useEffect(()=>{localStorage.getItem("hasSeenWelcomePopup")||(m(!0),localStorage.setItem("hasSeenWelcomePopup","true"))},[]);const j=x=>{n(x)};if(console.log("ğŸ¯ VoiceAssistant render - currentInterface:",t),console.log("ğŸ” Interface rendering states:",{interface1:t==="interface1",interface2:t==="interface2",interface3:t==="interface3",interface3vi:t==="interface3vi",interface3fr:t==="interface3fr",interface4:t==="interface4"}),i.useEffect(()=>{t==="interface4"?console.log("ğŸ¯ Interface4 is now active - VoiceAssistant level"):t==="interface1"&&console.log("ğŸ  Interface1 is now active - VoiceAssistant level")},[t]),h||!d)return e.jsx("div",{className:"relative h-screen overflow-hidden font-sans text-gray-800 bg-neutral-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Loading hotel configuration..."})]})});if(f&&!d)return e.jsx("div",{className:"relative h-screen overflow-hidden font-sans text-gray-800 bg-neutral-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx($e,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-600 text-lg font-semibold mb-2",children:"Configuration Error"}),e.jsx("p",{className:"text-gray-600 mb-4",children:f}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors",children:"Reload Page"})]})});const b=(d.supportedLanguages||["en"]).filter(x=>["en","fr","zh","ru","ko","vi"].includes(x));return e.jsxs("div",{className:"relative h-screen overflow-hidden font-sans text-gray-800 bg-neutral-50",id:"app",children:[l&&e.jsx(hg,{onClose:()=>m(!1)}),f&&e.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx($e,{className:"h-5 w-5 text-yellow-400"})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-yellow-700",children:f})})]})}),e.jsx("header",{className:"w-full bg-primary text-white p-4 shadow-md",style:{backgroundColor:d.branding.colors.primary},children:e.jsxs("div",{className:"container mx-auto flex items-center justify-between px-2",children:[e.jsxs("div",{className:"flex items-center justify-start ml-1 sm:ml-4 mr-2 sm:mr-6 gap-3 min-w-fit",children:[e.jsx("img",{src:d.branding.logo,alt:`${d.hotelName} Logo`,className:"h-10 sm:h-14 w-auto rounded-lg shadow-md bg-white/80 p-1",onError:x=>{x.currentTarget.src="/assets/references/images/minhon-logo.jpg"}}),e.jsx("span",{className:"font-poppins font-bold text-xl sm:text-2xl lg:text-3xl whitespace-nowrap",style:{color:d.branding.colors.secondary,textShadow:"0px 1px 2px rgba(0,0,0,0.18)"},children:d.headerText})]}),e.jsx("div",{className:"flex-1"}),e.jsxs("div",{className:"flex items-center gap-2",children:[d.features.multiLanguage&&e.jsxs("div",{className:"flex items-center px-2 py-1 rounded bg-primary-dark text-white text-xs sm:text-sm",children:[e.jsx(ga,{className:"text-[#F9BF3B] text-sm sm:text-base mr-1.5"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:s,onChange:x=>j(x.target.value),className:"appearance-none bg-transparent focus:outline-none transition-all duration-200 pr-6",style:{fontWeight:600,color:"#fff",textShadow:"0px 1px 2px rgba(0, 0, 0, 0.2)"},children:b.map(x=>{const w={en:"ğŸ‡¬ğŸ‡§ EN",fr:"ğŸ‡«ğŸ‡· FR",zh:"ğŸ‡¨ğŸ‡³ ZH",ru:"ğŸ‡·ğŸ‡º RU",ko:"ğŸ‡°ğŸ‡· KO",vi:"ğŸ‡»ğŸ‡³ VI"};return e.jsx("option",{value:x,children:w[x]},x)})}),e.jsx(Os,{className:"absolute right-0 top-1/2 -translate-y-1/2 text-[#F9BF3B] pointer-events-none text-sm"})]})]}),e.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-1 px-2 py-1 rounded bg-primary-dark text-white text-xs sm:text-sm hover:bg-primary-darker transition-colors",title:"View Steps",children:[e.jsx(Ln,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Steps"})]}),d.features.callHistory&&e.jsx(Ie,{href:"/call-history",children:e.jsxs("a",{className:"flex items-center gap-1 px-2 py-1 rounded bg-primary-dark text-white text-xs sm:text-sm hover:bg-primary-darker transition-colors",children:[e.jsx(Fn,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Call History"})]})})]})]})}),r&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 relative",children:[e.jsx("button",{onClick:()=>o(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:e.jsx(ot,{className:"w-6 h-6"})}),e.jsx("div",{className:"mt-4",children:e.jsx(mg,{horizontal:!1,compact:!1,currentStep:t==="interface3"?3:t==="interface2"?2:1,language:s})})]})}),e.jsxs("div",{className:"relative w-full h-full",id:"interfaceContainer",children:[e.jsx(rg,{isActive:t==="interface1"}),e.jsx(cg,{isActive:t==="interface2"}),e.jsx(an,{isActive:t==="interface3"}),e.jsx(dg,{isActive:t==="interface4"})]})]})},rn=()=>({id:"mi-nhon-default",name:"Mi Nhon Hotel",subdomain:"minhon",branding:{primaryColor:"#2E7D32",secondaryColor:"#FFC107",accentColor:"#FF6B6B",logo:"/assets/haily-logo1.jpg",primaryFont:"Inter",secondaryFont:"Roboto"},contact:{phone:"+84 123 456 789",email:"info@minhonhotel.com",address:"Mui Ne, Phan Thiet, Vietnam"},features:{multiLanguage:!0,callHistory:!0,roomService:!0,concierge:!0,voiceCloning:!1,analytics:!0},services:[{id:"room-service",name:"Room Service",category:"dining",available:!0},{id:"concierge",name:"Concierge",category:"service",available:!0},{id:"spa",name:"Spa Services",category:"wellness",available:!0},{id:"tour",name:"Tour Booking",category:"activities",available:!0}],supportedLanguages:["en","vi","fr"],vapiConfig:{publicKeys:{en:"",vi:"",fr:""},assistantIds:{en:"",vi:"",fr:""}},timezone:"Asia/Ho_Chi_Minh",currency:"VND",location:{city:"Phan Thiet",country:"Vietnam",latitude:10.928,longitude:108.102}}),xg=()=>{const t=window.location.hostname;if(t==="localhost"||t==="127.0.0.1"||t.includes("minhon")||t.includes("localhost"))return{type:"default",identifier:"mi-nhon-hotel"};const n=t.split(".");return n.length>=3&&n[n.length-2]==="talk2go"&&n[n.length-1]==="online"?{type:"subdomain",identifier:n[0]}:{type:"custom",identifier:t}},gg=async(t,s)=>{if(s==="default")return rn();const n=s==="subdomain"?`/api/hotels/by-subdomain/${t}`:`/api/hotels/by-domain/${t}`,a=await fetch(n);if(!a.ok)throw new Error(`Failed to load hotel configuration: ${a.status}`);const c=await a.json();if(!c)throw new Error("Hotel not found");return c},St=new Map,pg=5*60*1e3,fg=()=>{const[t,s]=i.useState({config:null,loading:!0,error:null,isDefaultConfig:!1}),n=i.useCallback(async()=>{try{s(f=>({...f,loading:!0,error:null}));const{type:o,identifier:l}=xg(),m=`${o}-${l}`,d=St.get(m);if(d&&Date.now()-d.timestamp<pg){s({config:d.config,loading:!1,error:null,isDefaultConfig:o==="default"});return}const h=await gg(l,o);St.set(m,{config:h,timestamp:Date.now()}),s({config:h,loading:!1,error:null,isDefaultConfig:o==="default"})}catch(o){console.error("Failed to load hotel configuration:",o);const l=rn();s({config:l,loading:!1,error:o instanceof Error?o.message:"Failed to load hotel configuration",isDefaultConfig:!0})}},[]),a=i.useCallback(async()=>{St.clear(),await n()},[n]),c=i.useCallback(()=>{s(o=>({...o,error:null}))},[]),r=i.useCallback(o=>{s(l=>({...l,config:l.config?{...l.config,...o}:null}))},[]);return i.useEffect(()=>{n()},[n]),{...t,reload:a,clearError:c,updateConfig:r}},bg=(t,s)=>t&&(t.vapiConfig.publicKeys[s]||t.vapiConfig.publicKeys.en)||"",jg=(t,s)=>t&&(t.vapiConfig.assistantIds[s]||t.vapiConfig.assistantIds.en)||"",vg=(t,s)=>(t==null?void 0:t.features[s])??!1,yg=t=>(t==null?void 0:t.supportedLanguages)??["en"],Ng=(t,s)=>{if(!t)return[];const n=t.services.filter(a=>a.available);return s?n.filter(a=>a.category===s):n},wg=i.createContext(void 0);class Cf extends Be.Component{constructor(s){super(s),this.state={hasError:!1,error:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,n){console.error("Hotel configuration error:",s,n)}render(){return this.state.hasError?this.props.fallback||e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[e.jsx($e,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Configuration Error"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Failed to load hotel configuration. Please try refreshing the page."}),e.jsxs("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md",children:[e.jsx(It,{className:"w-4 h-4 inline mr-2"}),"Reload Page"]})]})}):this.props.children}}const _g=({children:t,fallback:s})=>{console.log("[DEBUG] HotelProvider render");const n=fg(),{config:a,loading:c,error:r,isDefaultConfig:o,reload:l,clearError:m,updateConfig:d}=n,h=V=>bg(a,V),f=V=>jg(a,V),j=V=>vg(a,V),v=()=>yg(a),u=V=>Ng(a,V),b=()=>({primary:(a==null?void 0:a.branding.primaryColor)||"#2E7D32",secondary:(a==null?void 0:a.branding.secondaryColor)||"#FFC107",accent:(a==null?void 0:a.branding.accentColor)||"#FF6B6B"}),x=()=>({primary:(a==null?void 0:a.branding.primaryFont)||"Inter",secondary:(a==null?void 0:a.branding.secondaryFont)||"Roboto"}),w=()=>(a==null?void 0:a.contact)||null,z=()=>(a==null?void 0:a.location)||null,se=()=>(a==null?void 0:a.timezone)||"UTC",ee=()=>(a==null?void 0:a.currency)||"USD";return e.jsx(wg.Provider,{value:{config:a,loading:c,error:r,isDefaultConfig:o,reload:l,clearError:m,updateConfig:d,getVapiPublicKey:h,getVapiAssistantId:f,hasFeature:j,getSupportedLanguages:v,getAvailableServices:u,getThemeColors:b,getFontFamilies:x,getContactInfo:w,getLocation:z,getTimezone:se,getCurrency:ee},children:t})},A=i.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:S("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s}));A.displayName="Card";const D=i.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:S("flex flex-col space-y-1.5 p-6",t),...s}));D.displayName="CardHeader";const R=i.forwardRef(({className:t,...s},n)=>e.jsx("h3",{ref:n,className:S("text-2xl font-semibold leading-none tracking-tight",t),...s}));R.displayName="CardTitle";const Z=i.forwardRef(({className:t,...s},n)=>e.jsx("p",{ref:n,className:S("text-sm text-muted-foreground",t),...s}));Z.displayName="CardDescription";const I=i.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:S("p-6 pt-0",t),...s}));I.displayName="CardContent";const kg=i.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:S("flex items-center p-6 pt-0",t),...s}));kg.displayName="CardFooter";function Sg(){return e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:e.jsx(A,{className:"w-full max-w-md mx-4",children:e.jsxs(I,{className:"pt-6",children:[e.jsxs("div",{className:"flex mb-4 gap-2",children:[e.jsx($e,{className:"h-8 w-8 text-red-500"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function Cg(){var d;const[t,s]=i.useState(null),[n,a]=i.useState(!1),c=De(),r=i.useRef(0),o=i.useCallback(()=>{console.log("useWebSocket env VITE_API_HOST:",void 0),t!==null&&t.close();const f=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`;console.log("Attempting WebSocket connection to",f);const j=new WebSocket(f);return j.onopen=()=>{console.log("WebSocket connection established"),a(!0),r.current=0,c.callDetails&&j.send(JSON.stringify({type:"init",callId:c.callDetails.id}))},j.onmessage=v=>{try{const u=JSON.parse(v.data);u.type==="transcript"&&c.addTranscript({callId:u.callId,role:u.role,content:u.content,tenantId:"default"}),u.type==="order_status_update"&&(u.orderId||u.reference)&&u.status&&c.setActiveOrders(b=>b.map(x=>u.reference&&x.reference===u.reference||u.orderId&&x.reference===u.orderId?{...x,status:u.status}:x))}catch(u){console.error("Error parsing WebSocket message:",u)}},j.onclose=v=>{if(console.log("WebSocket connection closed",v),a(!1),r.current<5){const u=Math.pow(2,r.current)*1e3;console.log(`Reconnecting WebSocket in ${u}ms (attempt ${r.current+1})`),setTimeout(o,u),r.current++}else console.warn("Max WebSocket reconnection attempts reached")},j.onerror=v=>{console.error("WebSocket encountered error",v),j.readyState!==WebSocket.CLOSED&&j.close()},s(j),()=>{j.close()}},[c.callDetails,c.addTranscript,c.activeOrders,c.setActiveOrders]),l=i.useCallback(h=>{t&&n?t.send(JSON.stringify(h)):console.error("Cannot send message, WebSocket not connected")},[t,n]),m=i.useCallback(()=>{n||o()},[n,o]);return i.useEffect(()=>(o(),()=>{t&&t.close()}),[]),i.useEffect(()=>{var h;t&&n&&((h=c.callDetails)!=null&&h.id)&&(console.log("Sending init message with callId after availability",c.callDetails.id),t.send(JSON.stringify({type:"init",callId:c.callDetails.id})))},[(d=c.callDetails)==null?void 0:d.id,t,n]),{connected:n,sendMessage:l,reconnect:m}}const $g=({onLogin:t})=>{const[s,n]=i.useState(""),[a,c]=i.useState(""),[r,o]=i.useState(""),[l,m]=i.useState(!1),d=async h=>{if(h.preventDefault(),!s||!a){o("Please enter both username and password.");return}o("");try{const f=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,password:a})});if(!f.ok){const v=await f.json();o(v.error||"Login failed.");return}const j=await f.json();j.token?(localStorage.setItem("token",j.token),t()):o("Login failed: No token received.")}catch{o("Login failed: Network or server error.")}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-100 to-blue-300",children:e.jsxs("form",{onSubmit:d,className:"bg-white p-8 rounded-xl shadow-lg w-full max-w-md space-y-6 border border-gray-200",children:[e.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-4 text-center",children:"Staff Login"}),r&&e.jsx("div",{className:"text-red-500 text-sm mb-2",children:r}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Username"}),e.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400",value:s,onChange:h=>n(h.target.value),autoFocus:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:l?"text":"password",className:"w-full p-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400",value:a,onChange:h=>c(h.target.value)}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>m(!l),children:l?e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):e.jsxs("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-700 hover:bg-blue-800 text-white font-semibold py-2 rounded-lg transition",children:"Login"})]})})},Tg=["ÄÃ£ ghi nháº­n","Äang thá»±c hiá»‡n","ÄÃ£ thá»±c hiá»‡n vÃ  Ä‘ang bÃ n giao cho khÃ¡ch","HoÃ n thiá»‡n","LÆ°u Ã½ khÃ¡c"],Ag=({request:t,onClose:s,onStatusChange:n,onOpenMessage:a})=>{const[c,r]=i.useState(t.status);return t?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 w-full max-w-lg relative",children:[e.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-blue-700",onClick:s,children:"Ã—"}),e.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-4",children:"Request Details"}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{children:[e.jsx("b",{children:"Room:"})," ",t.room]}),e.jsxs("div",{children:[e.jsx("b",{children:"Order ID:"})," ",t.id]}),e.jsxs("div",{children:[e.jsx("b",{children:"Guest Name:"})," ",t.guestName]}),e.jsxs("div",{children:[e.jsx("b",{children:"Content:"})," ",t.content]}),e.jsxs("div",{children:[e.jsx("b",{children:"Time:"})," ",t.time]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("b",{children:"Status:"}),e.jsx("select",{className:"border rounded px-2 py-1 text-xs",value:c,onChange:o=>r(o.target.value),children:Tg.map(o=>e.jsx("option",{value:o,children:o},o))})]}),e.jsxs("div",{children:[e.jsx("b",{children:"Notes:"})," ",t.notes||"-"]})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded font-semibold",onClick:()=>{c!==t.status&&n(c)},children:"Cáº­p Nháº­t"}),e.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded font-semibold",onClick:a,children:"Nháº¯n khÃ¡ch"}),e.jsx("button",{className:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded font-semibold",onClick:s,children:"ÄÃ³ng"})]})]})}):null},Ig=({messages:t,onSend:s,onClose:n,loading:a})=>{const[c,r]=i.useState(""),o=()=>{c.trim()&&(s(c),r(""))};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-5 w-full max-w-md relative flex flex-col",children:[e.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-blue-700",onClick:n,children:"Ã—"}),e.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-3",children:"Nháº¯n tin tá»›i Guest"}),e.jsx("div",{className:"flex-1 overflow-y-auto mb-3 max-h-60 border rounded p-2 bg-gray-50",children:t.length===0?e.jsx("div",{className:"text-gray-400 text-sm text-center",children:"ChÆ°a cÃ³ tin nháº¯n"}):t.map(l=>e.jsxs("div",{className:`mb-2 ${l.sender==="staff"?"text-right":"text-left"}`,children:[e.jsxs("div",{className:`inline-block px-3 py-1 rounded-lg ${l.sender==="staff"?"bg-blue-100 text-blue-900":"bg-gray-200 text-gray-800"}`,children:[e.jsxs("span",{className:"font-semibold",children:[l.sender==="staff"?"Staff":"Guest",":"]})," ",l.content]}),e.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:l.time})]},l.id))}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("input",{type:"text",className:"flex-1 border rounded px-2 py-1",placeholder:"Nháº­p tin nháº¯n...",value:c,onChange:l=>r(l.target.value),onKeyDown:l=>{l.key==="Enter"&&o()},disabled:a}),e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-1 rounded font-semibold",onClick:o,disabled:a||!c.trim(),children:"Gá»­i"})]})]})})},Ct=["Táº¥t cáº£","ÄÃ£ ghi nháº­n","Äang thá»±c hiá»‡n","ÄÃ£ thá»±c hiá»‡n vÃ  Ä‘ang bÃ n giao cho khÃ¡ch","HoÃ n thiá»‡n","LÆ°u Ã½ khÃ¡c"],ts=t=>{switch(t){case"ÄÃ£ ghi nháº­n":return"bg-gray-300 text-gray-800";case"Äang thá»±c hiá»‡n":return"bg-yellow-200 text-yellow-800";case"ÄÃ£ thá»±c hiá»‡n vÃ  Ä‘ang bÃ n giao cho khÃ¡ch":return"bg-blue-200 text-blue-800";case"HoÃ n thiá»‡n":return"bg-green-200 text-green-800";case"LÆ°u Ã½ khÃ¡c":return"bg-red-200 text-red-800";default:return"bg-gray-100 text-gray-700"}},on=()=>{const[t,s]=i.useState([]),[n,a]=i.useState(null),[c,r]=i.useState(!1),[o,l]=i.useState(!1),[m,d]=i.useState([]),[h,f]=i.useState(!1),[j,v]=i.useState("Táº¥t cáº£"),[u,b]=i.useState(""),[x,w]=i.useState(""),[z,se]=i.useState(null),[ee,V]=i.useState(!1),[ge,B]=i.useState(!1),[C,T]=i.useState(""),[U,Y]=i.useState(""),[y,N]=i.useState({}),k=Bs(),F=()=>localStorage.getItem("staff_token"),J=async()=>{const p=F();if(!p){k("/staff");return}try{const _=await fetch("/api/staff/requests",{headers:{Authorization:`Bearer ${p}`},credentials:"include"});if(_.status===401){localStorage.removeItem("staff_token"),k("/staff");return}const H=await _.json();console.log("Fetched requests data:",H),s(H)}catch(_){console.error("Failed to fetch requests:",_)}};i.useEffect(()=>{J();const p=setInterval(J,3e4);return()=>clearInterval(p)},[]);const G=()=>{r(!1),a(null)},re=async(p,_)=>{const H=F();if(!H)return k("/staff");try{await fetch(`/api/staff/requests/${_}/status`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${H}`},credentials:"include",body:JSON.stringify({status:p})}),s(Te=>Te.map(pe=>pe.id===_?{...pe,status:p}:pe)),n&&n.id===_&&a({...n,status:p})}catch(Te){console.error("Failed to update status:",Te)}},te=async()=>{if(l(!0),!n)return;const p=F();if(!p)return k("/staff");try{const H=await(await fetch(`/api/staff/requests/${n.id}/messages`,{headers:{Authorization:`Bearer ${p}`},credentials:"include"})).json();d(H)}catch{d([])}},me=()=>l(!1),O=async p=>{f(!0);const _=F();if(!_)return k("/staff");try{await fetch(`/api/staff/requests/${n.id}/message`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`},credentials:"include",body:JSON.stringify({content:p})}),d(H=>[...H,{id:(H.length+1).toString(),sender:"staff",content:p,time:new Date().toLocaleTimeString().slice(0,5)}])}catch{}f(!1)},oe=async()=>{B(!0),T(""),Y("")},Ne=async()=>{if(C!=="2208"){Y("Máº­t kháº©u khÃ´ng Ä‘Ãºng");return}V(!0);try{const p=F();if(!p)return B(!1),k("/staff");const H=await(await fetch("/api/staff/requests/all",{method:"DELETE",headers:{Authorization:`Bearer ${p}`},credentials:"include"})).json();B(!1),H.success?(alert(`${H.message}`),s([])):alert(`Lá»—i: ${H.error||"KhÃ´ng thá»ƒ xÃ³a requests"}`)}catch(p){console.error("Error deleting all requests:",p),alert("ÄÃ£ xáº£y ra lá»—i khi xÃ³a requests"),B(!1)}finally{V(!1),T("")}},ue=t.filter(p=>{if(j!=="Táº¥t cáº£"&&p.status!==j)return!1;if(u||x){const _=new Date(p.created_at);if(u){const H=new Date(u);if(H.setHours(0,0,0,0),_<H)return!1}if(x){const H=new Date(x);if(H.setHours(23,59,59,999),_>H)return!1}}return!0}),le=p=>{p.key==="Enter"&&Ne(),U&&Y("")},Ue=p=>{p.stopPropagation()};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-200 p-2 sm:p-6",children:[e.jsxs("div",{className:"max-w-7xl mx-auto bg-white rounded-xl shadow-lg p-3 sm:p-6 border border-gray-200",children:[e.jsxs("div",{className:"flex flex-col items-center mb-6",children:[e.jsx("img",{src:"/assets/references/images/minhon-logo.jpg",alt:"Minhon Logo",className:"h-16 object-contain mb-2"}),e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-blue-900 text-center",children:"Staff Request Management"})]}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("button",{onClick:()=>k("/analytics"),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-semibold shadow transition",children:"View Analytics"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:oe,disabled:ee||t.length===0,className:`bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-semibold shadow transition ${ee||t.length===0?"opacity-50 cursor-not-allowed":""}`,children:ee?"Deleting...":"Delete All Requests"}),e.jsx("button",{onClick:J,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold shadow transition",children:"Refresh"})]})]}),e.jsxs("div",{className:"mb-4 grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[e.jsx("label",{className:"font-semibold text-blue-900 w-full sm:w-auto",children:"Lá»c theo tráº¡ng thÃ¡i:"}),e.jsx("select",{className:"w-full sm:w-auto border rounded px-3 py-1 text-sm",value:j,onChange:p=>v(p.target.value),children:Ct.map(p=>e.jsx("option",{value:p,children:p},p))})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[e.jsx("label",{className:"font-semibold text-blue-900 w-full sm:w-auto",children:"Lá»c theo thá»i gian:"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 w-full sm:w-auto",children:[e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("label",{className:"text-sm text-gray-600 min-w-10",children:"Tá»«:"}),e.jsx("input",{type:"date",className:"border rounded px-2 py-1 text-sm w-full",value:u,onChange:p=>b(p.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("label",{className:"text-sm text-gray-600 min-w-10",children:"Äáº¿n:"}),e.jsx("input",{type:"date",className:"border rounded px-2 py-1 text-sm w-full",value:x,onChange:p=>w(p.target.value)})]}),(u||x)&&e.jsx("button",{onClick:()=>{b(""),w("")},className:"text-blue-600 hover:text-blue-800 text-sm mt-2 sm:mt-0",children:"XÃ³a lá»c"})]})]})]}),e.jsx("div",{className:"block sm:hidden",children:e.jsxs("div",{className:"space-y-4",children:[(console.log("Mobile rendering - filteredRequests:",ue),null),ue.length>0?[...ue].sort((p,_)=>new Date(_.created_at).getTime()-new Date(p.created_at).getTime()).map(p=>e.jsxs("div",{className:"border rounded-lg p-3 bg-white shadow-sm",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsxs("div",{className:"font-semibold",children:["PhÃ²ng: ",p.room_number||"N/A"]}),e.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-semibold ${ts(p.status)}`,children:p.status||"ChÆ°a xÃ¡c Ä‘á»‹nh"})]}),e.jsxs("div",{className:"text-sm text-gray-500 mb-2",children:["Order ID: ",p.orderId||p.id||"N/A"]}),e.jsx("div",{className:"text-xs text-gray-500 mb-3",children:p.created_at?e.jsxs(e.Fragment,{children:[new Date(p.created_at).toLocaleDateString()," ",new Date(p.created_at).toLocaleTimeString()]}):"Thá»i gian khÃ´ng xÃ¡c Ä‘á»‹nh"}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("button",{onClick:()=>se(z===p.id?null:p.id),className:"w-full flex justify-between items-center py-1 px-2 border rounded bg-gray-50 hover:bg-gray-100",children:[e.jsx("span",{className:"text-sm font-medium text-blue-700",children:z===p.id?"áº¨n ná»™i dung":"Xem ná»™i dung"}),e.jsx("svg",{className:`w-4 h-4 text-blue-700 transition-transform ${z===p.id?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),z===p.id&&e.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded-md whitespace-pre-line break-words text-sm",children:p.request_content||"KhÃ´ng cÃ³ ná»™i dung"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("select",{className:"border rounded px-2 py-2 text-sm w-full",value:y[p.id]??p.status,onChange:_=>N(H=>({...H,[p.id]:_.target.value})),children:Ct.filter(_=>_!=="Táº¥t cáº£").map(_=>e.jsx("option",{value:_,children:_},_))}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-2 py-2 rounded text-sm font-semibold",onClick:async()=>{const _=y[p.id];_&&_!==p.status&&(await re(_,p.id),N(H=>{const{[p.id]:Te,...pe}=H;return pe}))},children:"Cáº­p Nháº­t"}),e.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-2 py-2 rounded text-sm font-semibold",onClick:()=>{a(p),te()},children:"Nháº¯n khÃ¡ch"})]})]})]},p.id)):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("p",{children:"KhÃ´ng cÃ³ yÃªu cáº§u nÃ o"}),e.jsx("p",{className:"mt-2 text-sm",children:"Nháº¥n Refresh Ä‘á»ƒ táº£i láº¡i dá»¯ liá»‡u"})]})]})}),e.jsx("div",{className:"hidden sm:block overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-blue-100 text-blue-900",children:[e.jsx("th",{className:"py-2 px-3 text-left",children:"Room"}),e.jsx("th",{className:"py-2 px-3 text-left",children:"Order ID"}),e.jsx("th",{className:"py-2 px-6 text-left w-3/5",children:"Content"}),e.jsx("th",{className:"py-2 px-3 text-left",children:"Time"}),e.jsx("th",{className:"py-2 px-2 text-left w-1/12",children:"Status"}),e.jsx("th",{className:"py-2 px-3 text-left",children:"Action"})]})}),e.jsxs("tbody",{children:[(Array.isArray(ue)?[...ue].sort((p,_)=>new Date(_.created_at).getTime()-new Date(p.created_at).getTime()):[]).map(p=>e.jsxs("tr",{className:"border-b hover:bg-blue-50",children:[e.jsx("td",{className:"py-2 px-3 font-semibold",children:p.room_number}),e.jsx("td",{className:"py-2 px-3",children:p.orderId||p.id}),e.jsx("td",{className:"py-2 px-6 whitespace-pre-line break-words max-w-4xl",children:p.request_content}),e.jsxs("td",{className:"py-2 px-3",children:[p.created_at&&e.jsx("span",{className:"block whitespace-nowrap",children:new Date(p.created_at).toLocaleDateString()}),p.created_at&&e.jsx("span",{className:"block whitespace-nowrap text-xs text-gray-500",children:new Date(p.created_at).toLocaleTimeString()})]}),e.jsx("td",{className:"py-2 px-2",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${ts(p.status)} break-words whitespace-normal block text-center`,children:p.status})}),e.jsxs("td",{className:"py-2 px-3 space-x-2",children:[e.jsx("select",{className:"border rounded px-2 py-1 text-xs",value:y[p.id]??p.status,onChange:_=>N(H=>({...H,[p.id]:_.target.value})),children:Ct.filter(_=>_!=="Táº¥t cáº£").map(_=>e.jsx("option",{value:_,children:_},_))}),e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-xs font-semibold",onClick:async()=>{const _=y[p.id];_&&_!==p.status&&(await re(_,p.id),N(H=>{const{[p.id]:Te,...pe}=H;return pe}))},children:"Cáº­p Nháº­t"}),e.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-xs font-semibold",onClick:()=>{a(p),te()},children:"Nháº¯n khÃ¡ch"})]})]},p.id)),ue.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"py-8 text-center text-gray-500",children:"KhÃ´ng cÃ³ yÃªu cáº§u nÃ o"})})]})]})})]}),c&&n&&e.jsx(Ag,{request:n,onClose:G,onStatusChange:p=>re(p,n.id),onOpenMessage:te}),o&&n&&e.jsx(Ig,{messages:m,onClose:me,onSend:O,loading:h}),ge&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md mx-4",onClick:Ue,children:[e.jsx("h3",{className:"text-lg font-bold text-red-600 mb-4",children:"XÃ¡c nháº­n xÃ³a toÃ n bá»™ requests"}),e.jsx("p",{className:"mb-4 text-gray-700",children:"HÃ nh Ä‘á»™ng nÃ y sáº½ xÃ³a táº¥t cáº£ requests vÃ  khÃ´ng thá»ƒ hoÃ n tÃ¡c. Vui lÃ²ng nháº­p máº­t kháº©u Ä‘á»ƒ xÃ¡c nháº­n:"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("input",{type:"password",value:C,onChange:p=>T(p.target.value),onKeyDown:le,className:`w-full px-3 py-2 border rounded ${U?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-red-500`,placeholder:"Nháº­p máº­t kháº©u xÃ¡c nháº­n",autoFocus:!0}),U&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:U}),e.jsx("p",{className:"text-gray-500 text-xs mt-2 italic",children:"Biá»‡n phÃ¡p báº£o vá»‡: Chá»©c nÄƒng xÃ³a yÃªu cáº§u máº­t kháº©u xÃ¡c nháº­n Ä‘á»ƒ ngÄƒn ngá»«a xÃ³a dá»¯ liá»‡u do nháº§m láº«n."})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>B(!1),className:"px-4 py-2 bg-gray-300 hover:bg-gray-400 rounded transition duration-200",children:"Há»§y"}),e.jsx("button",{onClick:Ne,disabled:ee,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded transition duration-200 flex items-center disabled:opacity-70",children:ee?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Äang xÃ³a..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"XÃ¡c nháº­n xÃ³a"]})})]})]})})]})},Dg=()=>{const[t,s]=i.useState(!1),n=()=>s(!0);return t?e.jsx(on,{}):e.jsx($g,{onLogin:n})},ss=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF4560"],Rg=()=>{const[t,s]=i.useState(null),[n,a]=i.useState([]),[c,r]=i.useState([]),o=Bs(),l=async m=>{const d=localStorage.getItem("staff_token");if(!d)return o("/staff"),null;try{const h=await fetch(m,{headers:{Authorization:`Bearer ${d}`}});return h.status===401?(o("/staff"),null):h.json()}catch(h){return console.error(`Failed to fetch from ${m}:`,h),null}};return i.useEffect(()=>{(async()=>{const d=await l("/api/analytics/overview"),h=await l("/api/analytics/service-distribution"),f=await l("/api/analytics/hourly-activity");d&&s(d),h&&a(h),f&&r(f)})()},[]),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-100 to-gray-200 p-4 sm:p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800",children:"Analytics Dashboard"}),e.jsx("button",{onClick:()=>o("/staff/dashboard"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold shadow transition",children:"Back to Staff Dashboard"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Total Calls"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:(t==null?void 0:t.totalCalls)||"..."})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Avg. Call Duration"}),e.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[(t==null?void 0:t.averageCallDuration)||"...","s"]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Languages"}),e.jsx(Nt,{width:"100%",height:150,children:e.jsxs(fa,{children:[e.jsx(ba,{data:t==null?void 0:t.languageDistribution,dataKey:"count",nameKey:"language",cx:"50%",cy:"50%",outerRadius:60,fill:"#8884d8",label:!0,children:t==null?void 0:t.languageDistribution.map((m,d)=>e.jsx(ja,{fill:ss[d%ss.length]},`cell-${d}`))}),e.jsx(wt,{})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Popular Services"}),e.jsx(Nt,{width:"100%",height:300,children:e.jsxs(va,{data:n,margin:{top:5,right:20,left:10,bottom:5},children:[e.jsx(Ht,{strokeDasharray:"3 3"}),e.jsx(qt,{dataKey:"serviceType"}),e.jsx(Vt,{}),e.jsx(wt,{}),e.jsx(Ut,{}),e.jsx(ya,{dataKey:"count",fill:"#8884d8"})]})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Hourly Activity"}),e.jsx(Nt,{width:"100%",height:300,children:e.jsxs(Na,{data:c,margin:{top:5,right:20,left:10,bottom:5},children:[e.jsx(Ht,{strokeDasharray:"3 3"}),e.jsx(qt,{dataKey:"hour"}),e.jsx(Vt,{}),e.jsx(wt,{}),e.jsx(Ut,{}),e.jsx(wa,{type:"monotone",dataKey:"count",stroke:"#82ca9d"})]})})]})]})]})})},Eg=Ye("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-dark"}},defaultVariants:{variant:"default"}});function de({className:t,variant:s,...n}){return e.jsx("div",{className:S(Eg({variant:s}),t),...n})}const ln=i.forwardRef(({className:t,...s},n)=>e.jsx(cs,{ref:n,className:S("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...s}));ln.displayName=cs.displayName;const cn=i.forwardRef(({className:t,...s},n)=>e.jsx(ds,{ref:n,className:S("aspect-square h-full w-full",t),...s}));cn.displayName=ds.displayName;const dn=i.forwardRef(({className:t,...s},n)=>e.jsx(ms,{ref:n,className:S("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...s}));dn.displayName=ms.displayName;const Pg=Nn,Mg=wn,Lg=i.forwardRef(({className:t,inset:s,children:n,...a},c)=>e.jsxs(hs,{ref:c,className:S("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",t),...a,children:[n,e.jsx(Oe,{className:"ml-auto h-4 w-4"})]}));Lg.displayName=hs.displayName;const Fg=i.forwardRef(({className:t,...s},n)=>e.jsx(us,{ref:n,className:S("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));Fg.displayName=us.displayName;const mn=i.forwardRef(({className:t,sideOffset:s=4,...n},a)=>e.jsx(yn,{children:e.jsx(xs,{ref:a,sideOffset:s,className:S("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));mn.displayName=xs.displayName;const at=i.forwardRef(({className:t,inset:s,...n},a)=>e.jsx(gs,{ref:a,className:S("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",t),...n}));at.displayName=gs.displayName;const Og=i.forwardRef(({className:t,children:s,checked:n,...a},c)=>e.jsxs(ps,{ref:c,className:S("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(fs,{children:e.jsx(Dt,{className:"h-4 w-4"})})}),s]}));Og.displayName=ps.displayName;const Bg=i.forwardRef(({className:t,children:s,...n},a)=>e.jsxs(bs,{ref:a,className:S("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(fs,{children:e.jsx(On,{className:"h-2 w-2 fill-current"})})}),s]}));Bg.displayName=bs.displayName;const hn=i.forwardRef(({className:t,inset:s,...n},a)=>e.jsx(js,{ref:a,className:S("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...n}));hn.displayName=js.displayName;const Tt=i.forwardRef(({className:t,...s},n)=>e.jsx(vs,{ref:n,className:S("-mx-1 my-1 h-px bg-muted",t),...s}));Tt.displayName=vs.displayName;const Ae={id:"tenant-1",hotelName:"Mi Nhon Hotel",subscriptionPlan:"premium",subscriptionStatus:"active",remainingDays:15},zg=[{href:"/dashboard",icon:zn,label:"Tá»•ng quan",description:"Metrics vÃ  thá»‘ng kÃª tá»•ng quan"},{href:"/dashboard/setup",icon:ze,label:"Thiáº¿t láº­p Assistant",description:"Cáº¥u hÃ¬nh vÃ  tÃ¹y chá»‰nh AI Assistant"},{href:"/dashboard/analytics",icon:Hn,label:"PhÃ¢n tÃ­ch",description:"BÃ¡o cÃ¡o vÃ  thá»‘ng kÃª chi tiáº¿t"},{href:"/dashboard/settings",icon:He,label:"CÃ i Ä‘áº·t",description:"Quáº£n lÃ½ thÃ´ng tin khÃ¡ch sáº¡n"}],Hg=t=>{const s=[];return t!=="trial"&&s.push({href:"/dashboard/billing",icon:Gn,label:"Thanh toÃ¡n",description:"Quáº£n lÃ½ subscription vÃ  billing"}),t==="enterprise"&&s.push({href:"/dashboard/team",icon:lt,label:"NhÃ³m",description:"Quáº£n lÃ½ team vÃ  permissions"}),s},qg=({href:t,icon:s,label:n,description:a,isActive:c})=>e.jsx(Ie,{href:t,children:e.jsxs(L,{variant:c?"default":"ghost",className:S("w-full justify-start gap-3 px-3 py-6 h-auto","hover:bg-gray-100 dark:hover:bg-gray-800",c&&"bg-primary text-primary-foreground hover:bg-primary/90"),children:[e.jsx(s,{className:"h-5 w-5 shrink-0"}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("div",{className:"font-medium",children:n}),e.jsx("div",{className:S("text-xs text-muted-foreground",c&&"text-primary-foreground/80"),children:a})]})]})}),Vg=({plan:t,status:s})=>{const n=()=>s==="expired"?"destructive":t==="trial"?"secondary":t==="enterprise"?"default":"outline",a=()=>t==="trial"?"DÃ¹ng thá»­":t==="basic"?"CÆ¡ báº£n":t==="premium"?"Cao cáº¥p":t==="enterprise"?"Doanh nghiá»‡p":t;return e.jsx(de,{variant:n(),className:"ml-auto",children:a()})},Ug=({tenant:t})=>e.jsxs(Pg,{children:[e.jsx(Mg,{asChild:!0,children:e.jsx(L,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:e.jsxs(ln,{className:"h-10 w-10",children:[e.jsx(cn,{src:"",alt:t.hotelName}),e.jsx(dn,{className:"bg-primary text-primary-foreground",children:t.hotelName.charAt(0).toUpperCase()})]})})}),e.jsxs(mn,{className:"w-56",align:"end",children:[e.jsxs(hn,{className:"flex flex-col",children:[e.jsx("div",{className:"font-medium",children:t.hotelName}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["ID: ",t.id]})]}),e.jsx(Tt,{}),e.jsxs(at,{children:[e.jsx(He,{className:"mr-2 h-4 w-4"}),"CÃ i Ä‘áº·t tÃ i khoáº£n"]}),e.jsxs(at,{children:[e.jsx(Vn,{className:"mr-2 h-4 w-4"}),"Trá»£ giÃºp"]}),e.jsx(Tt,{}),e.jsxs(at,{className:"text-red-600 focus:text-red-600",children:[e.jsx(Un,{className:"mr-2 h-4 w-4"}),"ÄÄƒng xuáº¥t"]})]})]}),Me=({children:t})=>{const[s,n]=i.useState(!1),[a]=rt(),c=[...zg,...Hg(Ae.subscriptionPlan)];return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s&&e.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:()=>n(!1)}),e.jsx("aside",{className:S("fixed inset-y-0 left-0 z-50 w-80 bg-white dark:bg-gray-800 shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0",s?"translate-x-0":"-translate-x-full"),children:e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary text-primary-foreground",children:e.jsx(Bn,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold",children:"Talk2Go"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"SaaS Dashboard"})]})]}),e.jsx(L,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>n(!1),children:e.jsx(ot,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"p-6 border-b bg-gray-50 dark:bg-gray-900",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"font-semibold text-gray-900 dark:text-white",children:Ae.hotelName}),e.jsx("p",{className:"text-sm text-muted-foreground",children:Ae.subscriptionStatus==="active"?"Hoáº¡t Ä‘á»™ng":"Háº¿t háº¡n"})]}),e.jsx(Vg,{plan:Ae.subscriptionPlan,status:Ae.subscriptionStatus})]}),Ae.subscriptionPlan==="trial"&&Ae.remainingDays&&e.jsxs("div",{className:"mt-3 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-md",children:[e.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[e.jsxs("strong",{children:["CÃ²n ",Ae.remainingDays," ngÃ y"]})," dÃ¹ng thá»­"]}),e.jsx(Ie,{href:"/dashboard/billing",children:e.jsx(L,{size:"sm",className:"mt-2 w-full",children:"NÃ¢ng cáº¥p ngay"})})]})]}),e.jsx("nav",{className:"flex-1 p-4 space-y-2",children:c.map(r=>e.jsx(qg,{href:r.href,icon:r.icon,label:r.label,description:r.description,isActive:a===r.href},r.href))}),e.jsx("div",{className:"p-4 border-t",children:e.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Â© 2024 Talk2Go. All rights reserved."})})]})}),e.jsxs("div",{className:"lg:ml-80",children:[e.jsx("header",{className:"sticky top-0 z-30 bg-white dark:bg-gray-800 border-b shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(L,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>n(!0),children:e.jsx(qn,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Dashboard"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Quáº£n lÃ½ khÃ¡ch sáº¡n vÃ  AI Assistant"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(L,{variant:"ghost",size:"icon",className:"relative",children:[e.jsx(Ps,{className:"h-5 w-5"}),e.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 bg-red-500 rounded-full text-xs flex items-center justify-center text-white",children:"2"})]}),e.jsx(Ug,{tenant:Ae})]})]})}),e.jsx("main",{className:"p-6",children:t})]})]})},ut=i.forwardRef(({className:t,value:s,...n},a)=>e.jsx(ys,{ref:a,className:S("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:e.jsx(_n,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));ut.displayName=ys.displayName;const ke={totalCalls:1247,totalCallsGrowth:12.5,averageCallDuration:245,callDurationGrowth:-5.2,activeUsers:89,activeUsersGrowth:8.3,satisfactionScore:4.7,satisfactionGrowth:2.1,languageDistribution:[{language:"Tiáº¿ng Viá»‡t",count:687,percentage:55.1},{language:"English",count:423,percentage:33.9},{language:"FranÃ§ais",count:137,percentage:11}],recentActivity:[{time:"2 phÃºt trÆ°á»›c",action:"Cuá»™c gá»i tá»« phÃ²ng 205",type:"call"},{time:"5 phÃºt trÆ°á»›c",action:"Äáº·t room service tá»« phÃ²ng 301",type:"service"},{time:"12 phÃºt trÆ°á»›c",action:"Há»i thÃ´ng tin vá» spa",type:"inquiry"},{time:"18 phÃºt trÆ°á»›c",action:"PhÃ n nÃ n vá» tiáº¿ng á»“n",type:"complaint"}]},Le={usageLimit:5e3,currentUsage:1247,resetDate:"2024-01-01"},et=({title:t,value:s,change:n,icon:a,description:c,suffix:r=""})=>e.jsxs(A,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(R,{className:"text-sm font-medium",children:t}),e.jsx(a,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(I,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[s,r]}),e.jsxs("div",{className:"flex items-center pt-1",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:c}),n!==void 0&&e.jsxs("div",{className:`ml-auto flex items-center text-xs ${n>0?"text-green-600":"text-red-600"}`,children:[e.jsx(ct,{className:`h-3 w-3 mr-1 ${n<0?"rotate-180":""}`}),Math.abs(n),"%"]})]})]})]}),Gg=({time:t,action:s,type:n})=>{const a=()=>{switch(n){case"call":return e.jsx(qe,{className:"h-4 w-4 text-blue-500"});case"service":return e.jsx(ze,{className:"h-4 w-4 text-green-500"});case"inquiry":return e.jsx(Rt,{className:"h-4 w-4 text-purple-500"});case"complaint":return e.jsx($e,{className:"h-4 w-4 text-red-500"});default:return e.jsx(mt,{className:"h-4 w-4 text-gray-500"})}};return e.jsxs("div",{className:"flex items-center space-x-3 p-3 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0",children:a()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:s}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:t})]})]})},Wg=()=>e.jsxs(A,{children:[e.jsxs(D,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(He,{className:"h-5 w-5"}),"Thao tÃ¡c nhanh"]}),e.jsx(Z,{children:"CÃ¡c tÃ­nh nÄƒng thÆ°á»ng dÃ¹ng"})]}),e.jsxs(I,{className:"space-y-3",children:[e.jsx(Ie,{href:"/dashboard/setup",children:e.jsxs(L,{variant:"outline",className:"w-full justify-start",children:[e.jsx(ze,{className:"h-4 w-4 mr-2"}),"Cáº¥u hÃ¬nh AI Assistant"]})}),e.jsx(Ie,{href:"/dashboard/analytics",children:e.jsxs(L,{variant:"outline",className:"w-full justify-start",children:[e.jsx(Wn,{className:"h-4 w-4 mr-2"}),"Xem bÃ¡o cÃ¡o chi tiáº¿t"]})}),e.jsx(Ie,{href:"/dashboard/settings",children:e.jsxs(L,{variant:"outline",className:"w-full justify-start",children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),"CÃ i Ä‘áº·t khÃ¡ch sáº¡n"]})})]})]}),Kg=()=>{const t=Le.currentUsage/Le.usageLimit*100;return e.jsxs(A,{children:[e.jsxs(D,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(mt,{className:"h-5 w-5"}),"Sá»­ dá»¥ng thÃ¡ng nÃ y"]}),e.jsx(Z,{children:"Theo dÃµi giá»›i háº¡n subscription"})]}),e.jsxs(I,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Cuá»™c gá»i"}),e.jsxs("span",{children:[Le.currentUsage.toLocaleString()," / ",Le.usageLimit.toLocaleString()]})]}),e.jsx(ut,{value:t,className:"h-2"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"CÃ²n láº¡i"}),e.jsxs("span",{className:"font-medium",children:[(Le.usageLimit-Le.currentUsage).toLocaleString()," cuá»™c gá»i"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Xe,{className:"h-4 w-4"}),e.jsxs("span",{children:["Reset vÃ o ",Le.resetDate]})]})]})]})},Yg=()=>e.jsxs(A,{children:[e.jsx(D,{children:e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"h-5 w-5 text-green-500"}),"Tráº¡ng thÃ¡i há»‡ thá»‘ng"]})}),e.jsxs(I,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"AI Assistant"})]}),e.jsx(de,{variant:"outline",className:"text-green-600",children:"Hoáº¡t Ä‘á»™ng"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"Voice API"})]}),e.jsx(de,{variant:"outline",className:"text-green-600",children:"Hoáº¡t Ä‘á»™ng"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"Analytics"})]}),e.jsx(de,{variant:"outline",className:"text-green-600",children:"Hoáº¡t Ä‘á»™ng"})]})]})]}),Xg=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Tá»•ng quan"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Theo dÃµi hiá»‡u suáº¥t AI Assistant vÃ  hoáº¡t Ä‘á»™ng khÃ¡ch sáº¡n"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(et,{title:"Tá»•ng cuá»™c gá»i",value:ke.totalCalls.toLocaleString(),change:ke.totalCallsGrowth,icon:qe,description:"ThÃ¡ng nÃ y"}),e.jsx(et,{title:"Thá»i gian trung bÃ¬nh",value:Math.floor(ke.averageCallDuration/60),change:ke.callDurationGrowth,icon:Xe,description:"PhÃºt/cuá»™c gá»i",suffix:"m"}),e.jsx(et,{title:"NgÆ°á»i dÃ¹ng hoáº¡t Ä‘á»™ng",value:ke.activeUsers,change:ke.activeUsersGrowth,icon:lt,description:"Trong 7 ngÃ y"}),e.jsx(et,{title:"Äiá»ƒm hÃ i lÃ²ng",value:ke.satisfactionScore,change:ke.satisfactionGrowth,icon:ct,description:"TrÃªn 5 Ä‘iá»ƒm",suffix:"/5"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(A,{className:"lg:col-span-2",children:[e.jsxs(D,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(dt,{className:"h-5 w-5"}),"PhÃ¢n bá»‘ ngÃ´n ngá»¯"]}),e.jsx(Z,{children:"NgÃ´n ngá»¯ Ä‘Æ°á»£c sá»­ dá»¥ng trong cÃ¡c cuá»™c gá»i"})]}),e.jsx(I,{children:e.jsx("div",{className:"space-y-4",children:ke.languageDistribution.map(t=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium",children:t.language}),e.jsxs("span",{className:"text-muted-foreground",children:[t.count," (",t.percentage,"%)"]})]}),e.jsx(ut,{value:t.percentage,className:"h-2"})]},t.language))})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(Wg,{}),e.jsx(Kg,{})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(A,{children:[e.jsxs(D,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(mt,{className:"h-5 w-5"}),"Hoáº¡t Ä‘á»™ng gáº§n Ä‘Ã¢y"]}),e.jsx(Z,{children:"CÃ¡c sá»± kiá»‡n má»›i nháº¥t tá»« AI Assistant"})]}),e.jsx(I,{children:e.jsx("div",{className:"space-y-1",children:ke.recentActivity.map((t,s)=>e.jsx(Gg,{time:t.time,action:t.action,type:t.type},s))})})]}),e.jsx(Yg,{})]})]}),ne=i.forwardRef(({className:t,type:s,...n},a)=>e.jsx("input",{type:s,className:S("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm font-medium text-dark placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...n}));ne.displayName="Input";const Zg=Ye("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),M=i.forwardRef(({className:t,...s},n)=>e.jsx(Ns,{ref:n,className:S(Zg(),t),...s}));M.displayName=Ns.displayName;const Se=An,Ce=In,be=i.forwardRef(({className:t,children:s,...n},a)=>e.jsxs(ws,{ref:a,className:S("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[s,e.jsx(kn,{asChild:!0,children:e.jsx(Re,{className:"h-4 w-4 opacity-50"})})]}));be.displayName=ws.displayName;const un=i.forwardRef(({className:t,...s},n)=>e.jsx(_s,{ref:n,className:S("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Kn,{className:"h-4 w-4"})}));un.displayName=_s.displayName;const xn=i.forwardRef(({className:t,...s},n)=>e.jsx(ks,{ref:n,className:S("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Re,{className:"h-4 w-4"})}));xn.displayName=ks.displayName;const je=i.forwardRef(({className:t,children:s,position:n="popper",...a},c)=>e.jsx(Sn,{children:e.jsxs(Ss,{ref:c,className:S("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...a,children:[e.jsx(un,{}),e.jsx(Cn,{className:S("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(xn,{})]})}));je.displayName=Ss.displayName;const Jg=i.forwardRef(({className:t,...s},n)=>e.jsx(Cs,{ref:n,className:S("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));Jg.displayName=Cs.displayName;const K=i.forwardRef(({className:t,children:s,...n},a)=>e.jsxs($s,{ref:a,className:S("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx($n,{children:e.jsx(Dt,{className:"h-4 w-4"})})}),e.jsx(Tn,{children:s})]}));K.displayName=$s.displayName;const Qg=i.forwardRef(({className:t,...s},n)=>e.jsx(Ts,{ref:n,className:S("-mx-1 my-1 h-px bg-muted",t),...s}));Qg.displayName=Ts.displayName;const gn=i.forwardRef(({className:t,...s},n)=>e.jsx(As,{ref:n,className:S("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...s,children:e.jsx(Dn,{className:S("flex items-center justify-center text-current"),children:e.jsx(Dt,{className:"h-4 w-4"})})}));gn.displayName=As.displayName;const ep=Ye("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-dark",{variants:{variant:{default:"bg-background text-dark",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),xt=i.forwardRef(({className:t,variant:s,...n},a)=>e.jsx("div",{ref:a,role:"alert",className:S(ep({variant:s}),t),...n}));xt.displayName="Alert";const tp=i.forwardRef(({className:t,...s},n)=>e.jsx("h5",{ref:n,className:S("mb-1 font-medium leading-none tracking-tight",t),...s}));tp.displayName="AlertTitle";const gt=i.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:S("text-sm [&_p]:leading-relaxed",t),...s}));gt.displayName="AlertDescription";const sp=({state:t,onNext:s,onError:n,onUpdateState:a})=>{const c=(l,m)=>{a({formData:{...t.formData,[l]:m},validation:{...t.validation,[l]:null}})},r=()=>{const l={};return t.formData.hotelName.trim()?t.formData.hotelName.length<2&&(l.hotelName="TÃªn khÃ¡ch sáº¡n pháº£i cÃ³ Ã­t nháº¥t 2 kÃ½ tá»±"):l.hotelName="TÃªn khÃ¡ch sáº¡n lÃ  báº¯t buá»™c",a({validation:{...t.validation,...l}}),Object.keys(l).length===0},o=async()=>{if(r()){a({isResearching:!0,error:null});try{const l=await Js.researchHotel({hotelName:t.formData.hotelName,location:t.formData.location||void 0,researchTier:t.formData.researchTier});l.success&&Za(l.hotelData)?s(l.hotelData):n({error:"Dá»¯ liá»‡u khÃ¡ch sáº¡n khÃ´ng há»£p lá»‡"})}catch(l){n(l)}finally{a({isResearching:!1})}}};return e.jsxs(A,{className:"max-w-2xl mx-auto",children:[e.jsxs(D,{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary text-primary-foreground",children:e.jsx(Ft,{className:"h-6 w-6"})})}),e.jsx(R,{className:"text-2xl",children:"TÃ¬m kiáº¿m thÃ´ng tin khÃ¡ch sáº¡n"}),e.jsx(Z,{children:"ChÃºng tÃ´i sáº½ tá»± Ä‘á»™ng nghiÃªn cá»©u vÃ  thu tháº­p thÃ´ng tin vá» khÃ¡ch sáº¡n cá»§a báº¡n"})]}),e.jsxs(I,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"hotel-name",children:"TÃªn khÃ¡ch sáº¡n *"}),e.jsx(ne,{id:"hotel-name",placeholder:"VÃ­ dá»¥: Grand Hotel Saigon",value:t.formData.hotelName,onChange:l=>c("hotelName",l.target.value),className:`mt-1 ${t.validation.hotelName?"border-red-500":""}`}),t.validation.hotelName&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:t.validation.hotelName})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"location",children:"Äá»‹a Ä‘iá»ƒm (khÃ´ng báº¯t buá»™c)"}),e.jsx(ne,{id:"location",placeholder:"VÃ­ dá»¥: Ho Chi Minh City, Vietnam",value:t.formData.location,onChange:l=>c("location",l.target.value),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"research-tier",children:"Má»©c Ä‘á»™ nghiÃªn cá»©u"}),e.jsxs(Se,{value:t.formData.researchTier,onValueChange:l=>c("researchTier",l),children:[e.jsx(be,{className:"mt-1",children:e.jsx(Ce,{})}),e.jsxs(je,{children:[e.jsx(K,{value:"basic",children:"CÆ¡ báº£n (Miá»…n phÃ­)"}),e.jsx(K,{value:"advanced",children:"NÃ¢ng cao (Premium)"})]})]})]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"ThÃ´ng tin sáº½ Ä‘Æ°á»£c thu tháº­p:"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"â€¢ ThÃ´ng tin cÆ¡ báº£n (Ä‘á»‹a chá»‰, sá»‘ Ä‘iá»‡n thoáº¡i, website)"}),e.jsx("li",{children:"â€¢ Dá»‹ch vá»¥ vÃ  tiá»‡n nghi"}),e.jsx("li",{children:"â€¢ CÃ¡c loáº¡i phÃ²ng vÃ  giÃ¡ cáº£"}),e.jsx("li",{children:"â€¢ ChÃ­nh sÃ¡ch check-in/check-out"}),e.jsx("li",{children:"â€¢ CÃ¡c Ä‘iá»ƒm tham quan gáº§n Ä‘Ã³"}),t.formData.researchTier==="advanced"&&e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"â€¢ Dá»¯ liá»‡u máº¡ng xÃ£ há»™i"}),e.jsx("li",{children:"â€¢ PhÃ¢n tÃ­ch Ä‘Ã¡nh giÃ¡ khÃ¡ch hÃ ng"}),e.jsx("li",{children:"â€¢ ThÃ´ng tin Ä‘á»‘i thá»§ cáº¡nh tranh"})]})]})]}),t.error&&e.jsxs(xt,{variant:"destructive",children:[e.jsx($e,{className:"h-4 w-4"}),e.jsxs(gt,{children:[t.error.error,t.error.upgradeRequired&&e.jsx("div",{className:"mt-2",children:e.jsx(L,{variant:"outline",size:"sm",children:"NÃ¢ng cáº¥p gÃ³i dá»‹ch vá»¥"})})]})]}),e.jsx(L,{onClick:o,disabled:!t.formData.hotelName.trim()||t.isResearching,className:"w-full",size:"lg",children:t.isResearching?e.jsxs(e.Fragment,{children:[e.jsx(Ee,{className:"w-4 h-4 mr-2 animate-spin"}),"Äang tÃ¬m kiáº¿m..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ft,{className:"w-4 h-4 mr-2"}),"TÃ¬m kiáº¿m khÃ¡ch sáº¡n"]})})]})]})},np=({state:t,onNext:s,onBack:n,onError:a,onUpdateState:c})=>{const[r,o]=i.useState(!1),[l,m]=i.useState(t.hotelData),[d,h]=i.useState(new Set(["basic"])),f=u=>{const b=new Set(d);b.has(u)?b.delete(u):b.add(u),h(b)},j=()=>{o(!r),r&&l&&c({hotelData:l})},v=()=>{t.hotelData&&s()};return t.hotelData?e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-green-100 text-green-600",children:e.jsx(Ve,{className:"h-6 w-6"})})}),e.jsx("h2",{className:"text-2xl font-bold",children:"XÃ¡c nháº­n thÃ´ng tin khÃ¡ch sáº¡n"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Vui lÃ²ng kiá»ƒm tra vÃ  xÃ¡c nháº­n thÃ´ng tin Ä‘Ã£ thu tháº­p"})]}),e.jsxs("div",{className:"flex justify-center gap-2 mb-6",children:[e.jsxs(L,{variant:r?"default":"outline",onClick:j,size:"sm",children:[e.jsx(He,{className:"w-4 h-4 mr-2"}),r?"LÆ°u thay Ä‘á»•i":"Chá»‰nh sá»­a"]}),e.jsxs(L,{variant:"outline",onClick:n,size:"sm",children:[e.jsx($t,{className:"w-4 h-4 mr-2"}),"TÃ¬m kiáº¿m láº¡i"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(A,{children:[e.jsx(D,{className:"cursor-pointer",onClick:()=>f("basic"),children:e.jsxs(R,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ms,{className:"h-5 w-5"}),"ThÃ´ng tin cÆ¡ báº£n"]}),d.has("basic")?e.jsx(Re,{className:"h-4 w-4"}):e.jsx(Oe,{className:"h-4 w-4"})]})}),d.has("basic")&&e.jsxs(I,{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:"TÃªn khÃ¡ch sáº¡n"}),e.jsx("p",{className:"font-medium",children:t.hotelData.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:"Äá»‹a chá»‰"}),e.jsx("p",{className:"text-sm text-gray-600",children:t.hotelData.address})]}),t.hotelData.phone&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:"Sá»‘ Ä‘iá»‡n thoáº¡i"}),e.jsx("p",{className:"text-sm",children:t.hotelData.phone})]}),t.hotelData.website&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:"Website"}),e.jsxs("a",{href:t.hotelData.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm flex items-center gap-1",children:[t.hotelData.website,e.jsx(Yn,{className:"h-3 w-3"})]})]}),t.hotelData.rating&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:"ÄÃ¡nh giÃ¡"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Xn,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"font-medium",children:t.hotelData.rating})]})]})]})]}),e.jsxs(A,{children:[e.jsx(D,{className:"cursor-pointer",onClick:()=>f("services"),children:e.jsxs(R,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(He,{className:"h-5 w-5"}),"Dá»‹ch vá»¥ (",t.hotelData.services.length,")"]}),d.has("services")?e.jsx(Re,{className:"h-4 w-4"}):e.jsx(Oe,{className:"h-4 w-4"})]})}),d.has("services")&&e.jsx(I,{children:e.jsx("div",{className:"space-y-2",children:t.hotelData.services.map((u,b)=>e.jsxs("div",{className:"p-2 bg-gray-50 rounded",children:[e.jsx("div",{className:"font-medium text-sm",children:u.name}),e.jsx("div",{className:"text-xs text-gray-600",children:u.description})]},b))})})]}),e.jsxs(A,{children:[e.jsx(D,{className:"cursor-pointer",onClick:()=>f("amenities"),children:e.jsxs(R,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Zn,{className:"h-5 w-5"}),"Tiá»‡n nghi (",t.hotelData.amenities.length,")"]}),d.has("amenities")?e.jsx(Re,{className:"h-4 w-4"}):e.jsx(Oe,{className:"h-4 w-4"})]})}),d.has("amenities")&&e.jsx(I,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:t.hotelData.amenities.map((u,b)=>e.jsx(de,{variant:"secondary",children:u},b))})})]}),e.jsxs(A,{children:[e.jsx(D,{className:"cursor-pointer",onClick:()=>f("rooms"),children:e.jsxs(R,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(lt,{className:"h-5 w-5"}),"Loáº¡i phÃ²ng (",t.hotelData.roomTypes.length,")"]}),d.has("rooms")?e.jsx(Re,{className:"h-4 w-4"}):e.jsx(Oe,{className:"h-4 w-4"})]})}),d.has("rooms")&&e.jsx(I,{children:e.jsx("div",{className:"space-y-3",children:t.hotelData.roomTypes.map((u,b)=>e.jsx("div",{className:"p-3 border rounded",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:u.name}),e.jsx("div",{className:"text-sm text-gray-600",children:u.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-green-600",children:[u.price.toLocaleString()," VND"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"/ Ä‘Ãªm"})]})]})},b))})})]}),e.jsxs(A,{children:[e.jsx(D,{className:"cursor-pointer",onClick:()=>f("policies"),children:e.jsxs(R,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"h-5 w-5"}),"ChÃ­nh sÃ¡ch"]}),d.has("policies")?e.jsx(Re,{className:"h-4 w-4"}):e.jsx(Oe,{className:"h-4 w-4"})]})}),d.has("policies")&&e.jsxs(I,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Check-in:"}),e.jsx("span",{className:"font-medium",children:t.hotelData.policies.checkIn})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Check-out:"}),e.jsx("span",{className:"font-medium",children:t.hotelData.policies.checkOut})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Há»§y phÃ²ng:"}),e.jsx("span",{className:"font-medium",children:t.hotelData.policies.cancellation})]})]})]}),e.jsxs(A,{children:[e.jsx(D,{className:"cursor-pointer",onClick:()=>f("attractions"),children:e.jsxs(R,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Jn,{className:"h-5 w-5"}),"Äiá»ƒm tham quan (",t.hotelData.localAttractions.length,")"]}),d.has("attractions")?e.jsx(Re,{className:"h-4 w-4"}):e.jsx(Oe,{className:"h-4 w-4"})]})}),d.has("attractions")&&e.jsx(I,{children:e.jsx("div",{className:"space-y-2",children:t.hotelData.localAttractions.map((u,b)=>e.jsxs("div",{className:"p-2 bg-gray-50 rounded",children:[e.jsx("div",{className:"font-medium text-sm",children:u.name}),e.jsx("div",{className:"text-xs text-gray-600",children:u.description}),u.distance&&e.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["CÃ¡ch ",u.distance]})]},b))})})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(L,{variant:"outline",onClick:n,children:[e.jsx($t,{className:"w-4 h-4 mr-2"}),"Quay láº¡i"]}),e.jsxs(L,{onClick:v,size:"lg",children:["Tiáº¿p tá»¥c",e.jsx(Qn,{className:"w-4 h-4 ml-2"})]})]})]}):e.jsx(A,{className:"max-w-2xl mx-auto",children:e.jsxs(I,{className:"text-center py-8",children:[e.jsx($e,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),e.jsx("p",{children:"KhÃ´ng tÃ¬m tháº¥y dá»¯ liá»‡u khÃ¡ch sáº¡n. Vui lÃ²ng thá»­ láº¡i."}),e.jsx(L,{onClick:n,className:"mt-4",children:"Quay láº¡i"})]})})},ap=({state:t,onNext:s,onBack:n,onError:a,onUpdateState:c})=>{const r=(d,h)=>{c({customization:{...t.customization,[d]:h},validation:{...t.validation,[d]:null}})},o=(d,h)=>{let f=[...t.customization.languages];h?f.push(d):f=f.filter(j=>j!==d),r("languages",f)},l=()=>{const d={};return t.customization.languages.length===0&&(d.languages="Vui lÃ²ng chá»n Ã­t nháº¥t má»™t ngÃ´n ngá»¯"),c({validation:{...t.validation,...d}}),Object.keys(d).length===0},m=async()=>{if(!(!l()||!t.hotelData)){if(!Ja(t.customization)){a({error:"Cáº¥u hÃ¬nh Assistant khÃ´ng há»£p lá»‡"});return}c({isGenerating:!0,error:null});try{const d=await Js.generateAssistant({hotelData:t.hotelData,customization:t.customization});d.success?s(d.assistantId):a({error:"KhÃ´ng thá»ƒ táº¡o Assistant"})}catch(d){a(d)}finally{c({isGenerating:!1})}}};return e.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-purple-100 text-purple-600",children:e.jsx(ze,{className:"h-6 w-6"})})}),e.jsx("h2",{className:"text-2xl font-bold",children:"TÃ¹y chá»‰nh AI Assistant"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"CÃ¡ nhÃ¢n hÃ³a AI Assistant theo phong cÃ¡ch khÃ¡ch sáº¡n cá»§a báº¡n"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(A,{children:[e.jsxs(D,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(ea,{className:"h-5 w-5"}),"TÃ­nh cÃ¡ch"]}),e.jsx(Z,{children:"Chá»n phong cÃ¡ch giao tiáº¿p cá»§a AI Assistant"})]}),e.jsx(I,{children:e.jsxs(Se,{value:t.customization.personality,onValueChange:d=>r("personality",d),children:[e.jsx(be,{children:e.jsx(Ce,{})}),e.jsx(je,{children:Qa.map(d=>e.jsx(K,{value:d.value,children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:d.label}),e.jsx("div",{className:"text-xs text-gray-500",children:d.description})]})},d.value))})]})})]}),e.jsxs(A,{children:[e.jsxs(D,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(Ot,{className:"h-5 w-5"}),"Giá»ng Ä‘iá»‡u"]}),e.jsx(Z,{children:"Chá»n cÃ¡ch thá»©c giao tiáº¿p"})]}),e.jsx(I,{children:e.jsxs(Se,{value:t.customization.tone,onValueChange:d=>r("tone",d),children:[e.jsx(be,{children:e.jsx(Ce,{})}),e.jsx(je,{children:ei.map(d=>e.jsx(K,{value:d.value,children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:d.label}),e.jsx("div",{className:"text-xs text-gray-500",children:d.description})]})},d.value))})]})})]}),e.jsxs(A,{className:"md:col-span-2",children:[e.jsxs(D,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(dt,{className:"h-5 w-5"}),"NgÃ´n ngá»¯ há»— trá»£"]}),e.jsx(Z,{children:"Chá»n cÃ¡c ngÃ´n ngá»¯ mÃ  AI Assistant cÃ³ thá»ƒ giao tiáº¿p"})]}),e.jsxs(I,{children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:ti.map(d=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(gn,{id:d.value,checked:t.customization.languages.includes(d.value),onCheckedChange:h=>o(d.value,h)}),e.jsxs(M,{htmlFor:d.value,className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("span",{children:d.flag}),e.jsx("span",{children:d.label})]})]},d.value))}),t.validation.languages&&e.jsx("p",{className:"text-sm text-red-500 mt-2",children:t.validation.languages})]})]}),e.jsxs(A,{children:[e.jsxs(D,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(ta,{className:"h-5 w-5"}),"CÃ i Ä‘áº·t giá»ng nÃ³i"]}),e.jsx(Z,{children:"Äiá»u chá»‰nh thá»i gian vÃ  Ã¢m thanh"})]}),e.jsxs(I,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(M,{children:"Thá»i gian chá» (giÃ¢y)"}),e.jsx(ne,{type:"number",min:"10",max:"120",value:t.customization.silenceTimeout||30,onChange:d=>r("silenceTimeout",parseInt(d.target.value)),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(M,{children:"Thá»i gian tá»‘i Ä‘a (giÃ¢y)"}),e.jsx(ne,{type:"number",min:"300",max:"3600",value:t.customization.maxDuration||1800,onChange:d=>r("maxDuration",parseInt(d.target.value)),className:"mt-1"})]})]})]}),e.jsxs(A,{children:[e.jsxs(D,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(Ot,{className:"h-5 w-5"}),"Ã‚m thanh ná»n"]}),e.jsx(Z,{children:"Chá»n Ã¢m thanh ná»n cho cuá»™c gá»i"})]}),e.jsx(I,{children:e.jsxs(Se,{value:t.customization.backgroundSound,onValueChange:d=>r("backgroundSound",d),children:[e.jsx(be,{children:e.jsx(Ce,{})}),e.jsx(je,{children:si.map(d=>e.jsx(K,{value:d.value,children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:d.label}),e.jsx("div",{className:"text-xs text-gray-500",children:d.description})]})},d.value))})]})})]})]}),t.error&&e.jsxs(xt,{variant:"destructive",children:[e.jsx($e,{className:"h-4 w-4"}),e.jsxs(gt,{children:[t.error.error,t.error.upgradeRequired&&e.jsx("div",{className:"mt-2",children:e.jsx(L,{variant:"outline",size:"sm",children:"NÃ¢ng cáº¥p gÃ³i dá»‹ch vá»¥"})})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(L,{variant:"outline",onClick:n,children:[e.jsx($t,{className:"w-4 h-4 mr-2"}),"Quay láº¡i"]}),e.jsx(L,{onClick:m,disabled:t.customization.languages.length===0||t.isGenerating,size:"lg",children:t.isGenerating?e.jsxs(e.Fragment,{children:[e.jsx(Ee,{className:"w-4 h-4 mr-2 animate-spin"}),"Äang táº¡o Assistant..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ze,{className:"w-4 h-4 mr-2"}),"Táº¡o AI Assistant"]})})]})]})},ip=({state:t,onUpdateState:s})=>{const[,n]=rt(),a=()=>{n("/dashboard")},c=()=>{n("/dashboard/assistant")};return e.jsxs(A,{className:"max-w-2xl mx-auto",children:[e.jsxs(D,{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-green-100 text-green-600",children:e.jsx(Ve,{className:"h-8 w-8"})})}),e.jsx(R,{className:"text-2xl",children:"AI Assistant Ä‘Ã£ sáºµn sÃ ng!"}),e.jsx(Z,{className:"text-base",children:"KhÃ¡ch sáº¡n cá»§a báº¡n Ä‘Ã£ Ä‘Æ°á»£c thiáº¿t láº­p thÃ nh cÃ´ng. AI Assistant hiá»‡n cÃ³ thá»ƒ phá»¥c vá»¥ khÃ¡ch hÃ ng 24/7."})]}),e.jsxs(I,{className:"space-y-6",children:[e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Nhá»¯ng gÃ¬ Ä‘Ã£ Ä‘Æ°á»£c thiáº¿t láº­p:"}),e.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[e.jsx("li",{children:"âœ“ ThÃ´ng tin khÃ¡ch sáº¡n Ä‘Ã£ Ä‘Æ°á»£c lÆ°u trá»¯"}),e.jsx("li",{children:"âœ“ Knowledge base Ä‘Ã£ Ä‘Æ°á»£c táº¡o"}),e.jsx("li",{children:"âœ“ AI Assistant Ä‘Ã£ Ä‘Æ°á»£c cáº¥u hÃ¬nh"}),e.jsx("li",{children:"âœ“ Voice API Ä‘Ã£ Ä‘Æ°á»£c kÃ­ch hoáº¡t"}),e.jsx("li",{children:"âœ“ Dashboard Ä‘Ã£ sáºµn sÃ ng sá»­ dá»¥ng"})]})]}),t.assistantId&&e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"ThÃ´ng tin Assistant:"}),e.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[e.jsxs("div",{children:["ID: ",e.jsx("code",{className:"bg-blue-100 px-1 rounded",children:t.assistantId})]}),e.jsxs("div",{children:["TÃ­nh cÃ¡ch: ",e.jsx("span",{className:"capitalize",children:t.customization.personality})]}),e.jsxs("div",{children:["NgÃ´n ngá»¯: ",t.customization.languages.join(", ")]})]})]}),e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Báº¡n cÃ³ thá»ƒ báº¯t Ä‘áº§u sá»­ dá»¥ng AI Assistant ngay bÃ¢y giá» hoáº·c tÃ¹y chá»‰nh thÃªm trong cÃ i Ä‘áº·t."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(L,{onClick:c,variant:"outline",className:"flex-1",children:[e.jsx(qe,{className:"w-4 h-4 mr-2"}),"Kiá»ƒm tra Assistant"]}),e.jsx(L,{onClick:a,size:"lg",className:"flex-1",children:"Äi tá»›i Dashboard"})]})]})]})]})},rp=()=>{const[t,s]=i.useState({currentStep:1,hotelData:null,customization:{personality:"professional",tone:"friendly",languages:["vi"],backgroundSound:"hotel-lobby"},isLoading:!1,error:null,isResearching:!1,isGenerating:!1,assistantId:null,retryCount:0,formData:{hotelName:"",location:"",researchTier:"basic"},validation:{hotelName:null,languages:null}}),n=4,a=t.currentStep/n*100,c=h=>{s(f=>({...f,...h}))},r=h=>{t.currentStep===1&&h?c({hotelData:h,currentStep:2,error:null}):t.currentStep===2?c({currentStep:3,error:null}):t.currentStep===3&&h&&c({assistantId:h,currentStep:4,error:null})},o=()=>{t.currentStep>1&&c({currentStep:t.currentStep-1,error:null})},l=h=>{c({error:h})},m=()=>{c({error:null,retryCount:t.retryCount+1})},d={state:t,onNext:r,onBack:o,onError:l,onUpdateState:c};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"max-w-2xl mx-auto mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:["BÆ°á»›c ",t.currentStep," / ",n]}),e.jsxs("span",{className:"text-sm text-gray-600",children:[Math.round(a),"%"]})]}),e.jsx(ut,{value:a,className:"h-2"})]}),t.error&&e.jsx("div",{className:"max-w-2xl mx-auto mb-6",children:e.jsxs(xt,{variant:"destructive",children:[e.jsx($e,{className:"h-4 w-4"}),e.jsxs(gt,{className:"flex items-center justify-between",children:[e.jsx("span",{children:t.error.error}),e.jsxs(L,{variant:"outline",size:"sm",onClick:m,children:[e.jsx(It,{className:"w-4 h-4 mr-2"}),"Thá»­ láº¡i"]})]})]})}),t.currentStep===1&&e.jsx(sp,{...d}),t.currentStep===2&&e.jsx(np,{...d}),t.currentStep===3&&e.jsx(ap,{...d}),t.currentStep===4&&e.jsx(ip,{...d})]})})},Pt=i.forwardRef(({className:t,...s},n)=>e.jsx("textarea",{className:S("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...s}));Pt.displayName="Textarea";const ce=i.forwardRef(({className:t,...s},n)=>e.jsx(Is,{className:S("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...s,ref:n,children:e.jsx(Rn,{className:S("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ce.displayName=Is.displayName;const Mt=En,pt=i.forwardRef(({className:t,...s},n)=>e.jsx(Ds,{ref:n,className:S("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s}));pt.displayName=Ds.displayName;const ve=i.forwardRef(({className:t,...s},n)=>e.jsx(Rs,{ref:n,className:S("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-dark data-[state=active]:shadow-sm",t),...s}));ve.displayName=Rs.displayName;const ye=i.forwardRef(({className:t,...s},n)=>e.jsx(Es,{ref:n,className:S("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));ye.displayName=Es.displayName;const it={id:"asst_abc123",name:"Mi Nhon Hotel AI Concierge",personality:"professional",tone:"friendly",languages:["vi","en","fr"],voiceId:"jennifer",silenceTimeout:30,maxDuration:600,backgroundSound:"hotel-lobby",systemPrompt:"You are the AI concierge for Mi Nhon Hotel...",status:"active",lastUpdated:"2024-01-15T10:30:00Z"},Ge={totalCalls:1247,averageRating:4.7,responseTime:1.2,successRate:96.5,topIntents:[{intent:"Room Service",count:342,percentage:27.4},{intent:"Hotel Information",count:298,percentage:23.9},{intent:"Spa Booking",count:187,percentage:15},{intent:"Restaurant Reservation",count:156,percentage:12.5}]},op=()=>{const[t,s]=i.useState(it),[n,a]=i.useState(!1),c=async()=>{a(!0);try{await new Promise(r=>setTimeout(r,1e3)),console.log("Saving configuration:",t)}catch(r){console.error("Failed to save configuration:",r)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(A,{children:[e.jsxs(D,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(He,{className:"h-5 w-5"}),"Cáº¥u hÃ¬nh cÆ¡ báº£n"]}),e.jsx(Z,{children:"Thiáº¿t láº­p thÃ´ng tin vÃ  hÃ nh vi cá»§a AI Assistant"})]}),e.jsxs(I,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"assistant-name",children:"TÃªn Assistant"}),e.jsx(ne,{id:"assistant-name",value:t.name,onChange:r=>s(o=>({...o,name:r.target.value})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"voice-id",children:"Giá»ng nÃ³i"}),e.jsxs(Se,{value:t.voiceId,onValueChange:r=>s(o=>({...o,voiceId:r})),children:[e.jsx(be,{className:"mt-1",children:e.jsx(Ce,{})}),e.jsxs(je,{children:[e.jsx(K,{value:"jennifer",children:"Jennifer (Ná»¯, Tiáº¿ng Anh)"}),e.jsx(K,{value:"david",children:"David (Nam, Tiáº¿ng Anh)"}),e.jsx(K,{value:"linh",children:"Linh (Ná»¯, Tiáº¿ng Viá»‡t)"}),e.jsx(K,{value:"duc",children:"Äá»©c (Nam, Tiáº¿ng Viá»‡t)"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"personality",children:"TÃ­nh cÃ¡ch"}),e.jsxs(Se,{value:t.personality,onValueChange:r=>s(o=>({...o,personality:r})),children:[e.jsx(be,{className:"mt-1",children:e.jsx(Ce,{})}),e.jsxs(je,{children:[e.jsx(K,{value:"professional",children:"ChuyÃªn nghiá»‡p"}),e.jsx(K,{value:"friendly",children:"ThÃ¢n thiá»‡n"}),e.jsx(K,{value:"luxurious",children:"Sang trá»ng"}),e.jsx(K,{value:"casual",children:"Thoáº£i mÃ¡i"})]})]})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"tone",children:"Giá»ng Ä‘iá»‡u"}),e.jsxs(Se,{value:t.tone,onValueChange:r=>s(o=>({...o,tone:r})),children:[e.jsx(be,{className:"mt-1",children:e.jsx(Ce,{})}),e.jsxs(je,{children:[e.jsx(K,{value:"formal",children:"Lá»‹ch sá»±"}),e.jsx(K,{value:"friendly",children:"ThÃ¢n thiá»‡n"}),e.jsx(K,{value:"warm",children:"áº¤m Ã¡p"}),e.jsx(K,{value:"energetic",children:"NÄƒng Ä‘á»™ng"}),e.jsx(K,{value:"calm",children:"BÃ¬nh tÄ©nh"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"silence-timeout",children:"Thá»i gian chá» (giÃ¢y)"}),e.jsx(ne,{id:"silence-timeout",type:"number",value:t.silenceTimeout,onChange:r=>s(o=>({...o,silenceTimeout:parseInt(r.target.value)})),className:"mt-1",min:"10",max:"120"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"max-duration",children:"Thá»i lÆ°á»£ng tá»‘i Ä‘a (giÃ¢y)"}),e.jsx(ne,{id:"max-duration",type:"number",value:t.maxDuration,onChange:r=>s(o=>({...o,maxDuration:parseInt(r.target.value)})),className:"mt-1",min:"300",max:"3600"})]})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"background-sound",children:"Ã‚m thanh ná»n"}),e.jsxs(Se,{value:t.backgroundSound,onValueChange:r=>s(o=>({...o,backgroundSound:r})),children:[e.jsx(be,{className:"mt-1",children:e.jsx(Ce,{})}),e.jsxs(je,{children:[e.jsx(K,{value:"hotel-lobby",children:"Sáº£nh khÃ¡ch sáº¡n"}),e.jsx(K,{value:"office",children:"VÄƒn phÃ²ng"}),e.jsx(K,{value:"off",children:"Táº¯t Ã¢m thanh ná»n"})]})]})]})]})]}),e.jsxs(A,{children:[e.jsxs(D,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(Rt,{className:"h-5 w-5"}),"System Prompt"]}),e.jsx(Z,{children:"HÆ°á»›ng dáº«n chi tiáº¿t cho AI Assistant vá» cÃ¡ch hÃ nh xá»­ vÃ  tráº£ lá»i"})]}),e.jsx(I,{children:e.jsx(Pt,{value:t.systemPrompt,onChange:r=>s(o=>({...o,systemPrompt:r.target.value})),rows:8,className:"font-mono text-sm",placeholder:"Nháº­p system prompt cho AI Assistant..."})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(L,{onClick:c,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(Ee,{className:"w-4 h-4 mr-2 animate-spin"}),"Äang lÆ°u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ze,{className:"w-4 h-4 mr-2"}),"LÆ°u cáº¥u hÃ¬nh"]})})})]})},lp=()=>{const[t,s]=i.useState(!1),[n,a]=i.useState(""),[c,r]=i.useState(""),[o,l]=i.useState(!1),m=async()=>{if(n.trim()){l(!0);try{await new Promise(d=>setTimeout(d,2e3)),r(`Xin chÃ o! TÃ´i lÃ  AI Assistant cá»§a Mi Nhon Hotel. TÃ´i cÃ³ thá»ƒ giÃºp báº¡n vá» ${n}. Báº¡n cÃ³ cáº§n tÃ´i há»— trá»£ gÃ¬ thÃªm khÃ´ng?`)}catch{r("ÄÃ£ xáº£y ra lá»—i khi kiá»ƒm tra. Vui lÃ²ng thá»­ láº¡i.")}finally{l(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(A,{children:[e.jsxs(D,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(Bt,{className:"h-5 w-5"}),"Test AI Assistant"]}),e.jsx(Z,{children:"Kiá»ƒm tra pháº£n há»“i cá»§a AI Assistant vá»›i cÃ¡c cÃ¢u há»i máº«u"})]}),e.jsxs(I,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ce,{id:"test-mode",checked:t,onCheckedChange:s}),e.jsx(M,{htmlFor:"test-mode",children:"Cháº¿ Ä‘á»™ kiá»ƒm tra"})]}),t&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"test-phrase",children:"CÃ¢u há»i thá»­ nghiá»‡m"}),e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsx(ne,{id:"test-phrase",value:n,onChange:d=>a(d.target.value),placeholder:"VÃ­ dá»¥: TÃ´i muá»‘n Ä‘áº·t phÃ²ng",className:"flex-1"}),e.jsx(L,{onClick:m,disabled:!n.trim()||o,children:o?e.jsx(Ee,{className:"w-4 h-4 animate-spin"}):e.jsx(Bt,{className:"w-4 h-4"})})]})]}),c&&e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx(M,{className:"text-sm font-medium",children:"Pháº£n há»“i cá»§a AI:"}),e.jsx("p",{className:"text-sm text-gray-700 mt-1",children:c})]})]})]})]}),e.jsxs(A,{children:[e.jsxs(D,{children:[e.jsx(R,{children:"Máº«u cÃ¢u há»i thÆ°á»ng gáº·p"}),e.jsx(Z,{children:"CÃ¡c cÃ¢u há»i mÃ  khÃ¡ch hÃ ng thÆ°á»ng há»i"})]}),e.jsx(I,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:["TÃ´i muá»‘n Ä‘áº·t phÃ²ng","Giá» check-in lÃ  máº¥y giá»?","KhÃ¡ch sáº¡n cÃ³ dá»‹ch vá»¥ spa khÃ´ng?","TÃ´i muá»‘n Ä‘áº·t bÃ n Äƒn tá»‘i","LÃ m sao Ä‘á»ƒ Ä‘i sÃ¢n bay?","CÃ³ wifi miá»…n phÃ­ khÃ´ng?","TÃ´i muá»‘n gá»i room service","KhÃ¡ch sáº¡n cÃ³ há»“ bÆ¡i khÃ´ng?"].map((d,h)=>e.jsxs(L,{variant:"outline",size:"sm",className:"justify-start text-left h-auto p-2",onClick:()=>a(d),children:[e.jsx(Rt,{className:"w-3 h-3 mr-2 shrink-0"}),e.jsx("span",{className:"text-xs",children:d})]},h))})})]})]})},cp=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(A,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(R,{className:"text-sm font-medium",children:"Tá»•ng cuá»™c gá»i"}),e.jsx(qe,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(I,{children:[e.jsx("div",{className:"text-2xl font-bold",children:Ge.totalCalls.toLocaleString()}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"ThÃ¡ng nÃ y"})]})]}),e.jsxs(A,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(R,{className:"text-sm font-medium",children:"ÄÃ¡nh giÃ¡ trung bÃ¬nh"}),e.jsx(mt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(I,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[Ge.averageRating,"/5"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Äiá»ƒm hÃ i lÃ²ng"})]})]}),e.jsxs(A,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(R,{className:"text-sm font-medium",children:"Thá»i gian pháº£n há»“i"}),e.jsx(Xe,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(I,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[Ge.responseTime,"s"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Trung bÃ¬nh"})]})]}),e.jsxs(A,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(R,{className:"text-sm font-medium",children:"Tá»· lá»‡ thÃ nh cÃ´ng"}),e.jsx(Ve,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(I,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[Ge.successRate,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Cuá»™c gá»i thÃ nh cÃ´ng"})]})]})]}),e.jsxs(A,{children:[e.jsxs(D,{children:[e.jsx(R,{children:"Ã Ä‘á»‹nh phá»• biáº¿n"}),e.jsx(Z,{children:"CÃ¡c yÃªu cáº§u mÃ  khÃ¡ch hÃ ng thÆ°á»ng há»i nháº¥t"})]}),e.jsx(I,{children:e.jsx("div",{className:"space-y-4",children:Ge.topIntents.map((t,s)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),e.jsx("span",{className:"font-medium",children:t.intent})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx("span",{children:t.count}),e.jsxs(de,{variant:"outline",children:[t.percentage,"%"]})]})]},s))})})]})]}),dp=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"AI Assistant"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh AI Assistant cho khÃ¡ch sáº¡n"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(de,{variant:"outline",className:"text-green-600",children:[e.jsx(Ve,{className:"w-3 h-3 mr-1"}),"Hoáº¡t Ä‘á»™ng"]})})]}),e.jsxs(A,{children:[e.jsx(D,{children:e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"h-5 w-5"}),"Tráº¡ng thÃ¡i Assistant"]})}),e.jsx(I,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(M,{className:"text-sm font-medium",children:"TÃªn Assistant"}),e.jsx("p",{className:"text-sm text-gray-600",children:it.name})]}),e.jsxs("div",{children:[e.jsx(M,{className:"text-sm font-medium",children:"ID Assistant"}),e.jsx("p",{className:"text-sm text-gray-600 font-mono",children:it.id})]}),e.jsxs("div",{children:[e.jsx(M,{className:"text-sm font-medium",children:"Cáº­p nháº­t láº§n cuá»‘i"}),e.jsx("p",{className:"text-sm text-gray-600",children:new Date(it.lastUpdated).toLocaleString("vi-VN")})]})]})})]}),e.jsxs(Mt,{defaultValue:"config",className:"space-y-4",children:[e.jsxs(pt,{className:"grid w-full grid-cols-3",children:[e.jsx(ve,{value:"config",children:"Cáº¥u hÃ¬nh"}),e.jsx(ve,{value:"test",children:"Kiá»ƒm tra"}),e.jsx(ve,{value:"performance",children:"Hiá»‡u suáº¥t"})]}),e.jsx(ye,{value:"config",className:"space-y-4",children:e.jsx(op,{})}),e.jsx(ye,{value:"test",className:"space-y-4",children:e.jsx(lp,{})}),e.jsx(ye,{value:"performance",className:"space-y-4",children:e.jsx(cp,{})})]})]}),he={overview:{totalCalls:1247,totalCallsGrowth:12.5,averageCallDuration:245,callDurationGrowth:-5.2,uniqueUsers:89,uniqueUsersGrowth:8.3,satisfactionScore:4.7,satisfactionGrowth:2.1},callsByHour:[{hour:"00",calls:12},{hour:"01",calls:8},{hour:"02",calls:5},{hour:"03",calls:3},{hour:"04",calls:2},{hour:"05",calls:4},{hour:"06",calls:15},{hour:"07",calls:28},{hour:"08",calls:45},{hour:"09",calls:67},{hour:"10",calls:89},{hour:"11",calls:78},{hour:"12",calls:95},{hour:"13",calls:87},{hour:"14",calls:92},{hour:"15",calls:85},{hour:"16",calls:78},{hour:"17",calls:65},{hour:"18",calls:82},{hour:"19",calls:75},{hour:"20",calls:58},{hour:"21",calls:45},{hour:"22",calls:32},{hour:"23",calls:22}],languageDistribution:[{language:"Tiáº¿ng Viá»‡t",calls:687,percentage:55.1},{language:"English",calls:423,percentage:33.9},{language:"FranÃ§ais",calls:137,percentage:11}],intentDistribution:[{intent:"Room Service",calls:342,percentage:27.4},{intent:"Hotel Information",calls:298,percentage:23.9},{intent:"Spa Booking",calls:187,percentage:15},{intent:"Restaurant Reservation",calls:156,percentage:12.5},{intent:"Housekeeping",calls:98,percentage:7.9},{intent:"Concierge",calls:87,percentage:7},{intent:"Complaints",calls:45,percentage:3.6},{intent:"Other",calls:34,percentage:2.7}],callsByDay:[{day:"Thá»© 2",calls:145},{day:"Thá»© 3",calls:178},{day:"Thá»© 4",calls:189},{day:"Thá»© 5",calls:234},{day:"Thá»© 6",calls:267},{day:"Thá»© 7",calls:156},{day:"Chá»§ nháº­t",calls:78}],satisfactionByIntent:[{intent:"Room Service",rating:4.8},{intent:"Hotel Information",rating:4.9},{intent:"Spa Booking",rating:4.6},{intent:"Restaurant Reservation",rating:4.7},{intent:"Housekeeping",rating:4.5},{intent:"Concierge",rating:4.8},{intent:"Complaints",rating:3.2}]},tt=({title:t,value:s,change:n,icon:a,description:c,suffix:r=""})=>e.jsxs(A,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(R,{className:"text-sm font-medium",children:t}),e.jsx(a,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(I,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[s,r]}),e.jsxs("div",{className:"flex items-center pt-1",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:c}),n!==void 0&&e.jsxs("div",{className:`ml-auto flex items-center text-xs ${n>0?"text-green-600":"text-red-600"}`,children:[e.jsx(ct,{className:`h-3 w-3 mr-1 ${n<0?"rotate-180":""}`}),Math.abs(n),"%"]})]})]})]}),mp=({data:t,dataKey:s,nameKey:n,title:a})=>{const c=Math.max(...t.map(r=>r[s]));return e.jsxs(A,{children:[e.jsx(D,{children:e.jsx(R,{className:"text-base",children:a})}),e.jsx(I,{children:e.jsx("div",{className:"space-y-2",children:t.map((r,o)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-20 text-sm text-gray-600 text-right",children:r[n]}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${r[s]/c*100}%`}})}),e.jsx("div",{className:"w-16 text-sm font-medium text-right",children:r[s]})]},o))})})]})},hp=()=>{const[t,s]=i.useState("30d"),[n,a]=i.useState("all");return e.jsxs(A,{children:[e.jsx(D,{children:e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(na,{className:"h-5 w-5"}),"Bá»™ lá»c"]})}),e.jsx(I,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Khoáº£ng thá»i gian"}),e.jsxs(Se,{value:t,onValueChange:s,children:[e.jsx(be,{className:"mt-1",children:e.jsx(Ce,{})}),e.jsxs(je,{children:[e.jsx(K,{value:"7d",children:"7 ngÃ y qua"}),e.jsx(K,{value:"30d",children:"30 ngÃ y qua"}),e.jsx(K,{value:"90d",children:"90 ngÃ y qua"}),e.jsx(K,{value:"1y",children:"1 nÄƒm qua"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"NgÃ´n ngá»¯"}),e.jsxs(Se,{value:n,onValueChange:a,children:[e.jsx(be,{className:"mt-1",children:e.jsx(Ce,{})}),e.jsxs(je,{children:[e.jsx(K,{value:"all",children:"Táº¥t cáº£"}),e.jsx(K,{value:"vi",children:"Tiáº¿ng Viá»‡t"}),e.jsx(K,{value:"en",children:"English"}),e.jsx(K,{value:"fr",children:"FranÃ§ais"})]})]})]}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(It,{className:"h-4 w-4 mr-2"}),"LÃ m má»›i"]}),e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Xuáº¥t Excel"]})]})]})})]})},up=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(tt,{title:"Tá»•ng cuá»™c gá»i",value:he.overview.totalCalls.toLocaleString(),change:he.overview.totalCallsGrowth,icon:qe,description:"ThÃ¡ng nÃ y"}),e.jsx(tt,{title:"Thá»i gian trung bÃ¬nh",value:Math.floor(he.overview.averageCallDuration/60),change:he.overview.callDurationGrowth,icon:Xe,description:"PhÃºt/cuá»™c gá»i",suffix:"m"}),e.jsx(tt,{title:"NgÆ°á»i dÃ¹ng duy nháº¥t",value:he.overview.uniqueUsers,change:he.overview.uniqueUsersGrowth,icon:lt,description:"ThÃ¡ng nÃ y"}),e.jsx(tt,{title:"Äiá»ƒm hÃ i lÃ²ng",value:he.overview.satisfactionScore,change:he.overview.satisfactionGrowth,icon:ct,description:"TrÃªn 5 Ä‘iá»ƒm",suffix:"/5"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(mp,{data:he.callsByDay,dataKey:"calls",nameKey:"day",title:"Cuá»™c gá»i theo ngÃ y trong tuáº§n"}),e.jsxs(A,{children:[e.jsx(D,{children:e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(dt,{className:"h-5 w-5"}),"PhÃ¢n bá»‘ ngÃ´n ngá»¯"]})}),e.jsx(I,{children:e.jsx("div",{className:"space-y-3",children:he.languageDistribution.map((t,s)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-primary rounded-full"}),e.jsx("span",{className:"font-medium",children:t.language})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:t.calls}),e.jsxs(de,{variant:"outline",children:[t.percentage,"%"]})]})]},s))})})]})]})]}),xp=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(A,{children:[e.jsxs(D,{children:[e.jsx(R,{children:"Cuá»™c gá»i theo giá»"}),e.jsx(Z,{children:"PhÃ¢n bá»‘ cuá»™c gá»i trong 24 giá»"})]}),e.jsx(I,{children:e.jsx("div",{className:"space-y-2",children:he.callsByHour.map((t,s)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"w-8 text-xs text-gray-600",children:[t.hour,"h"]}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${t.calls/95*100}%`}})}),e.jsx("div",{className:"w-8 text-xs font-medium text-right",children:t.calls})]},s))})})]}),e.jsxs(A,{children:[e.jsxs(D,{children:[e.jsx(R,{children:"Ã Ä‘á»‹nh cuá»™c gá»i"}),e.jsx(Z,{children:"PhÃ¢n loáº¡i theo má»¥c Ä‘Ã­ch"})]}),e.jsx(I,{children:e.jsx("div",{className:"space-y-3",children:he.intentDistribution.map((t,s)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:t.intent}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:t.calls}),e.jsxs(de,{variant:"outline",children:[t.percentage,"%"]})]})]},s))})})]})]})}),gp=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(A,{children:[e.jsxs(D,{children:[e.jsx(R,{children:"Äiá»ƒm hÃ i lÃ²ng theo Ã½ Ä‘á»‹nh"}),e.jsx(Z,{children:"ÄÃ¡nh giÃ¡ khÃ¡ch hÃ ng cho tá»«ng loáº¡i dá»‹ch vá»¥"})]}),e.jsx(I,{children:e.jsx("div",{className:"space-y-4",children:he.satisfactionByIntent.map((t,s)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:t.intent}),e.jsxs(de,{variant:t.rating>=4.5?"default":t.rating>=4?"secondary":"destructive",children:[t.rating,"/5"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${t.rating>=4.5?"bg-green-500":t.rating>=4?"bg-yellow-500":"bg-red-500"}`,style:{width:`${t.rating/5*100}%`}})})]},s))})})]}),e.jsxs(A,{children:[e.jsxs(D,{children:[e.jsx(R,{children:"Xu hÆ°á»›ng Ä‘iá»ƒm hÃ i lÃ²ng"}),e.jsx(Z,{children:"Thay Ä‘á»•i theo thá»i gian"})]}),e.jsx(I,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:"4.7/5"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Äiá»ƒm trung bÃ¬nh thÃ¡ng nÃ y"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"5 sao"}),e.jsx("span",{children:"68%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"68%"}})}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"4 sao"}),e.jsx("span",{children:"22%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"22%"}})}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"3 sao"}),e.jsx("span",{children:"7%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:"7%"}})}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"2 sao"}),e.jsx("span",{children:"2%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:"2%"}})}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"1 sao"}),e.jsx("span",{children:"1%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:"1%"}})})]})]})})]})]})}),pp=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"PhÃ¢n tÃ­ch & BÃ¡o cÃ¡o"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Thá»‘ng kÃª chi tiáº¿t vá» hiá»‡u suáº¥t AI Assistant"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(sa,{className:"h-4 w-4 mr-2"}),"TÃ¹y chá»‰nh khoáº£ng thá»i gian"]}),e.jsxs(L,{variant:"outline",size:"sm",children:[e.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Xuáº¥t bÃ¡o cÃ¡o"]})]})]}),e.jsx(hp,{}),e.jsxs(Mt,{defaultValue:"overview",className:"space-y-4",children:[e.jsxs(pt,{className:"grid w-full grid-cols-3",children:[e.jsx(ve,{value:"overview",children:"Tá»•ng quan"}),e.jsx(ve,{value:"patterns",children:"Máº«u cuá»™c gá»i"}),e.jsx(ve,{value:"satisfaction",children:"HÃ i lÃ²ng"})]}),e.jsx(ye,{value:"overview",className:"space-y-4",children:e.jsx(up,{})}),e.jsx(ye,{value:"patterns",className:"space-y-4",children:e.jsx(xp,{})}),e.jsx(ye,{value:"satisfaction",className:"space-y-4",children:e.jsx(gp,{})})]})]}),ft={basicInfo:{name:"Mi Nhon Hotel",address:"123 Nguyen Hue Street, District 1, Ho Chi Minh City",phone:"+84 28 3829 2999",email:"info@minhonhotel.com",website:"https://minhonhotel.com",description:"KhÃ¡ch sáº¡n 4 sao sang trá»ng táº¡i trung tÃ¢m thÃ nh phá»‘ vá»›i view biá»ƒn tuyá»‡t Ä‘áº¹p vÃ  dá»‹ch vá»¥ chuyÃªn nghiá»‡p.",checkInTime:"14:00",checkOutTime:"12:00",currency:"VND",timezone:"Asia/Ho_Chi_Minh"},notifications:{emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,dailyReports:!0,weeklyReports:!0,monthlyReports:!0,alertOnErrors:!0,alertOnLowRating:!0},privacy:{recordCalls:!0,dataRetentionDays:90,shareAnalytics:!1,allowDataExport:!0,gdprCompliance:!0},api:{webhookUrl:"https://minhonhotel.com/webhook",apiKeys:{vapi:"vapi_***************",openai:"sk-***************"}}},fp=()=>{const[t,s]=i.useState(ft.basicInfo),[n,a]=i.useState(!1),c=async()=>{a(!0);try{await new Promise(r=>setTimeout(r,1e3)),console.log("Saving hotel settings:",t)}catch(r){console.error("Failed to save settings:",r)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(A,{children:[e.jsxs(D,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(Ms,{className:"h-5 w-5"}),"ThÃ´ng tin cÆ¡ báº£n"]}),e.jsx(Z,{children:"Cáº­p nháº­t thÃ´ng tin chi tiáº¿t vá» khÃ¡ch sáº¡n"})]}),e.jsxs(I,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"hotel-name",children:"TÃªn khÃ¡ch sáº¡n"}),e.jsx(ne,{id:"hotel-name",value:t.name,onChange:r=>s(o=>({...o,name:r.target.value})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"phone",children:"Sá»‘ Ä‘iá»‡n thoáº¡i"}),e.jsx(ne,{id:"phone",value:t.phone,onChange:r=>s(o=>({...o,phone:r.target.value})),className:"mt-1"})]})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"address",children:"Äá»‹a chá»‰"}),e.jsx(ne,{id:"address",value:t.address,onChange:r=>s(o=>({...o,address:r.target.value})),className:"mt-1"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"email",children:"Email"}),e.jsx(ne,{id:"email",type:"email",value:t.email,onChange:r=>s(o=>({...o,email:r.target.value})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"website",children:"Website"}),e.jsx(ne,{id:"website",value:t.website,onChange:r=>s(o=>({...o,website:r.target.value})),className:"mt-1"})]})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"description",children:"MÃ´ táº£ khÃ¡ch sáº¡n"}),e.jsx(Pt,{id:"description",value:t.description,onChange:r=>s(o=>({...o,description:r.target.value})),className:"mt-1",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"check-in",children:"Giá» check-in"}),e.jsx(ne,{id:"check-in",type:"time",value:t.checkInTime,onChange:r=>s(o=>({...o,checkInTime:r.target.value})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"check-out",children:"Giá» check-out"}),e.jsx(ne,{id:"check-out",type:"time",value:t.checkOutTime,onChange:r=>s(o=>({...o,checkOutTime:r.target.value})),className:"mt-1"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"currency",children:"ÄÆ¡n vá»‹ tiá»n tá»‡"}),e.jsx(ne,{id:"currency",value:t.currency,onChange:r=>s(o=>({...o,currency:r.target.value})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"timezone",children:"MÃºi giá»"}),e.jsx(ne,{id:"timezone",value:t.timezone,onChange:r=>s(o=>({...o,timezone:r.target.value})),className:"mt-1"})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(L,{onClick:c,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(Ee,{className:"w-4 h-4 mr-2 animate-spin"}),"Äang lÆ°u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ze,{className:"w-4 h-4 mr-2"}),"LÆ°u thay Ä‘á»•i"]})})})]})},bp=()=>{const[t,s]=i.useState(ft.notifications),[n,a]=i.useState(!1),c=o=>{s(l=>({...l,[o]:!l[o]}))},r=async()=>{a(!0);try{await new Promise(o=>setTimeout(o,1e3)),console.log("Saving notification settings:",t)}catch(o){console.error("Failed to save settings:",o)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(A,{children:[e.jsxs(D,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(Ps,{className:"h-5 w-5"}),"CÃ i Ä‘áº·t thÃ´ng bÃ¡o"]}),e.jsx(Z,{children:"TÃ¹y chá»n thÃ´ng bÃ¡o vÃ  bÃ¡o cÃ¡o"})]}),e.jsxs(I,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"PhÆ°Æ¡ng thá»©c thÃ´ng bÃ¡o"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Email notifications"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Nháº­n thÃ´ng bÃ¡o qua email"})]}),e.jsx(ce,{checked:t.emailNotifications,onCheckedChange:()=>c("emailNotifications")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"SMS notifications"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Nháº­n thÃ´ng bÃ¡o qua SMS"})]}),e.jsx(ce,{checked:t.smsNotifications,onCheckedChange:()=>c("smsNotifications")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Push notifications"}),e.jsx("div",{className:"text-sm text-gray-600",children:"ThÃ´ng bÃ¡o Ä‘áº©y trÃªn trÃ¬nh duyá»‡t"})]}),e.jsx(ce,{checked:t.pushNotifications,onCheckedChange:()=>c("pushNotifications")})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"BÃ¡o cÃ¡o Ä‘á»‹nh ká»³"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"BÃ¡o cÃ¡o hÃ ng ngÃ y"}),e.jsx("div",{className:"text-sm text-gray-600",children:"TÃ³m táº¯t hoáº¡t Ä‘á»™ng hÃ ng ngÃ y"})]}),e.jsx(ce,{checked:t.dailyReports,onCheckedChange:()=>c("dailyReports")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"BÃ¡o cÃ¡o hÃ ng tuáº§n"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Thá»‘ng kÃª tuáº§n"})]}),e.jsx(ce,{checked:t.weeklyReports,onCheckedChange:()=>c("weeklyReports")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"BÃ¡o cÃ¡o hÃ ng thÃ¡ng"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Tá»•ng quan thÃ¡ng"})]}),e.jsx(ce,{checked:t.monthlyReports,onCheckedChange:()=>c("monthlyReports")})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Cáº£nh bÃ¡o"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Cáº£nh bÃ¡o lá»—i"}),e.jsx("div",{className:"text-sm text-gray-600",children:"ThÃ´ng bÃ¡o khi cÃ³ lá»—i há»‡ thá»‘ng"})]}),e.jsx(ce,{checked:t.alertOnErrors,onCheckedChange:()=>c("alertOnErrors")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Cáº£nh bÃ¡o Ä‘iá»ƒm tháº¥p"}),e.jsx("div",{className:"text-sm text-gray-600",children:"ThÃ´ng bÃ¡o khi Ä‘iá»ƒm hÃ i lÃ²ng tháº¥p"})]}),e.jsx(ce,{checked:t.alertOnLowRating,onCheckedChange:()=>c("alertOnLowRating")})]})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(L,{onClick:r,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(Ee,{className:"w-4 h-4 mr-2 animate-spin"}),"Äang lÆ°u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ze,{className:"w-4 h-4 mr-2"}),"LÆ°u cÃ i Ä‘áº·t"]})})})]})},jp=()=>{const[t,s]=i.useState(ft.privacy),[n,a]=i.useState(!1),c=o=>{s(l=>({...l,[o]:!l[o]}))},r=async()=>{a(!0);try{await new Promise(o=>setTimeout(o,1e3)),console.log("Saving privacy settings:",t)}catch(o){console.error("Failed to save settings:",o)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(A,{children:[e.jsxs(D,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(Fs,{className:"h-5 w-5"}),"Quyá»n riÃªng tÆ° & Báº£o máº­t"]}),e.jsx(Z,{children:"Cáº¥u hÃ¬nh báº£o máº­t vÃ  quyá»n riÃªng tÆ° dá»¯ liá»‡u"})]}),e.jsxs(I,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Ghi Ã¢m cuá»™c gá»i"}),e.jsx("div",{className:"text-sm text-gray-600",children:"LÆ°u trá»¯ cuá»™c gá»i Ä‘á»ƒ cáº£i thiá»‡n cháº¥t lÆ°á»£ng"})]}),e.jsx(ce,{checked:t.recordCalls,onCheckedChange:()=>c("recordCalls")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Chia sáº» dá»¯ liá»‡u phÃ¢n tÃ­ch"}),e.jsx("div",{className:"text-sm text-gray-600",children:"GiÃºp cáº£i thiá»‡n sáº£n pháº©m (dá»¯ liá»‡u áº©n danh)"})]}),e.jsx(ce,{checked:t.shareAnalytics,onCheckedChange:()=>c("shareAnalytics")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Cho phÃ©p xuáº¥t dá»¯ liá»‡u"}),e.jsx("div",{className:"text-sm text-gray-600",children:"KhÃ¡ch hÃ ng cÃ³ thá»ƒ yÃªu cáº§u xuáº¥t dá»¯ liá»‡u"})]}),e.jsx(ce,{checked:t.allowDataExport,onCheckedChange:()=>c("allowDataExport")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"TuÃ¢n thá»§ GDPR"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Báº£o vá»‡ quyá»n riÃªng tÆ° theo chuáº©n EU"})]}),e.jsx(ce,{checked:t.gdprCompliance,onCheckedChange:()=>c("gdprCompliance")})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"LÆ°u trá»¯ dá»¯ liá»‡u"}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"retention-days",children:"Thá»i gian lÆ°u trá»¯ (ngÃ y)"}),e.jsx(ne,{id:"retention-days",type:"number",value:t.dataRetentionDays,onChange:o=>s(l=>({...l,dataRetentionDays:parseInt(o.target.value)})),className:"mt-1 max-w-xs",min:"30",max:"365"}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["Dá»¯ liá»‡u sáº½ Ä‘Æ°á»£c tá»± Ä‘á»™ng xÃ³a sau ",t.dataRetentionDays," ngÃ y"]})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(L,{onClick:r,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(Ee,{className:"w-4 h-4 mr-2 animate-spin"}),"Äang lÆ°u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ze,{className:"w-4 h-4 mr-2"}),"LÆ°u cÃ i Ä‘áº·t"]})})})]})},vp=()=>{const[t,s]=i.useState(ft.api),[n,a]=i.useState(!1),c=async()=>{a(!0);try{await new Promise(r=>setTimeout(r,1e3)),console.log("Saving API settings:",t)}catch(r){console.error("Failed to save settings:",r)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(A,{children:[e.jsxs(D,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(ra,{className:"h-5 w-5"}),"Cáº¥u hÃ¬nh API"]}),e.jsx(Z,{children:"Quáº£n lÃ½ API keys vÃ  webhook"})]}),e.jsxs(I,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"webhook-url",children:"Webhook URL"}),e.jsx(ne,{id:"webhook-url",value:t.webhookUrl,onChange:r=>s(o=>({...o,webhookUrl:r.target.value})),className:"mt-1",placeholder:"https://yourhotel.com/webhook"}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"URL Ä‘á»ƒ nháº­n thÃ´ng bÃ¡o vá» cÃ¡c sá»± kiá»‡n"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"API Keys"}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx($e,{className:"h-4 w-4 text-yellow-600"}),e.jsx("span",{className:"font-medium text-yellow-800",children:"LÆ°u Ã½ báº£o máº­t"})]}),e.jsx("p",{className:"text-sm text-yellow-700",children:"KhÃ´ng chia sáº» API keys vá»›i ngÆ°á»i khÃ¡c. Thay Ä‘á»•i ngay náº¿u bá»‹ lá»™."})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"vapi-key",children:"Vapi API Key"}),e.jsx(ne,{id:"vapi-key",type:"password",value:t.apiKeys.vapi,onChange:r=>s(o=>({...o,apiKeys:{...o.apiKeys,vapi:r.target.value}})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"openai-key",children:"OpenAI API Key"}),e.jsx(ne,{id:"openai-key",type:"password",value:t.apiKeys.openai,onChange:r=>s(o=>({...o,apiKeys:{...o.apiKeys,openai:r.target.value}})),className:"mt-1"})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(L,{onClick:c,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(Ee,{className:"w-4 h-4 mr-2 animate-spin"}),"Äang lÆ°u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ze,{className:"w-4 h-4 mr-2"}),"LÆ°u cÃ i Ä‘áº·t"]})})})]})},yp=()=>{const t=[{name:"Database Connection",status:"healthy",icon:aa},{name:"Vapi API",status:"healthy",icon:qe},{name:"OpenAI API",status:"healthy",icon:ze},{name:"Email Service",status:"healthy",icon:ia},{name:"Webhook Endpoint",status:"warning",icon:dt},{name:"SSL Certificate",status:"healthy",icon:Fs}],s=a=>{switch(a){case"healthy":return"text-green-600";case"warning":return"text-yellow-600";case"error":return"text-red-600";default:return"text-gray-600"}},n=a=>{switch(a){case"healthy":return e.jsx(de,{className:"bg-green-100 text-green-800",children:"Hoáº¡t Ä‘á»™ng"});case"warning":return e.jsx(de,{className:"bg-yellow-100 text-yellow-800",children:"Cáº£nh bÃ¡o"});case"error":return e.jsx(de,{className:"bg-red-100 text-red-800",children:"Lá»—i"});default:return e.jsx(de,{variant:"outline",children:"KhÃ´ng xÃ¡c Ä‘á»‹nh"})}};return e.jsxs(A,{children:[e.jsxs(D,{children:[e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"h-5 w-5"}),"Tráº¡ng thÃ¡i há»‡ thá»‘ng"]}),e.jsx(Z,{children:"Kiá»ƒm tra tÃ¬nh tráº¡ng cÃ¡c dá»‹ch vá»¥"})]}),e.jsx(I,{children:e.jsx("div",{className:"space-y-4",children:t.map((a,c)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(a.icon,{className:`h-5 w-5 ${s(a.status)}`}),e.jsx("span",{className:"font-medium",children:a.name})]}),n(a.status)]},c))})})]})},Np=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"CÃ i Ä‘áº·t"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Quáº£n lÃ½ thÃ´ng tin khÃ¡ch sáº¡n vÃ  cáº¥u hÃ¬nh há»‡ thá»‘ng"})]}),e.jsx(yp,{}),e.jsxs(Mt,{defaultValue:"hotel",className:"space-y-4",children:[e.jsxs(pt,{className:"grid w-full grid-cols-4",children:[e.jsx(ve,{value:"hotel",children:"KhÃ¡ch sáº¡n"}),e.jsx(ve,{value:"notifications",children:"ThÃ´ng bÃ¡o"}),e.jsx(ve,{value:"privacy",children:"Quyá»n riÃªng tÆ°"}),e.jsx(ve,{value:"api",children:"API"})]}),e.jsx(ye,{value:"hotel",className:"space-y-4",children:e.jsx(fp,{})}),e.jsx(ye,{value:"notifications",className:"space-y-4",children:e.jsx(bp,{})}),e.jsx(ye,{value:"privacy",className:"space-y-4",children:e.jsx(jp,{})}),e.jsx(ye,{value:"api",className:"space-y-4",children:e.jsx(vp,{})})]})]}),Fe=({children:t,requireAuth:s=!0,requiredRole:n,redirectTo:a="/login"})=>{const{user:c,isAuthenticated:r,isLoading:o}=Et(),[,l]=rt();return i.useEffect(()=>{if(!o){if(s&&!r){l(a);return}if(n&&c&&c.role!==n){l("/unauthorized");return}}},[r,o,c,s,n,a,l]),o?e.jsx(At,{}):s&&!r||n&&c&&c.role!==n?null:e.jsx(e.Fragment,{children:t})},wp=Be.lazy(()=>zs(()=>import("./CallHistory-BP1vSUCO.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),_p=Be.lazy(()=>zs(()=>import("./CallDetails-nJ_1x3lq.js"),__vite__mapDeps([7,1,2,3,4,5,6]))),At=()=>e.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Äang táº£i..."})]})}),kp=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"container mx-auto",children:e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Kiá»ƒm tra TÃ­nh nÄƒng Email"}),e.jsx(Ie,{href:"/",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90",children:"Quay láº¡i Trang ChÃ­nh"})]})})}),Sp=()=>{const{login:t,isLoading:s}=Et(),[,n]=rt(),[a,c]=i.useState(""),[r,o]=i.useState(""),[l,m]=i.useState(""),[d,h]=i.useState(!1),f=async j=>{j.preventDefault(),m("");try{await t(a,r),n("/dashboard")}catch(v){m(v.message||"ÄÄƒng nháº­p tháº¥t báº¡i")}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"ÄÄƒng nháº­p Dashboard"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Hoáº·c"," ",e.jsx(Ie,{href:"/",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"quay láº¡i trang chÃ­nh"})]})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:f,children:[e.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[e.jsx("div",{children:e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Äá»‹a chá»‰ email",value:a,onChange:j=>c(j.target.value)})}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",name:"password",type:d?"text":"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Máº­t kháº©u",value:r,onChange:j=>o(j.target.value)}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>h(!d),children:d?e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):e.jsxs("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),l&&e.jsx("div",{className:"text-red-600 text-sm text-center",children:l}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:s?"Äang Ä‘Äƒng nháº­p...":"ÄÄƒng nháº­p"})})]})]})})},Cp=()=>e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"KhÃ´ng cÃ³ quyá»n truy cáº­p"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Báº¡n khÃ´ng cÃ³ quyá»n truy cáº­p vÃ o trang nÃ y."}),e.jsx(Ie,{href:"/",className:"text-indigo-600 hover:text-indigo-500",children:"Quay láº¡i trang chÃ­nh"})]})});function $p(){const t=Xs(),{isAuthenticated:s}=Et();return console.log("[DEBUG] Router render",{tenantInfo:t,isAuthenticated:s}),t?e.jsx(i.Suspense,{fallback:e.jsx(At,{}),children:e.jsxs(bn,{children:[e.jsx(ae,{path:"/",component:ug}),e.jsx(ae,{path:"/call-history",component:wp}),e.jsx(ae,{path:"/call-details/:callId",component:_p}),e.jsx(ae,{path:"/email-test",component:kp}),e.jsx(ae,{path:"/staff",component:Dg}),e.jsx(ae,{path:"/staff/dashboard",component:on}),e.jsx(ae,{path:"/analytics",component:Rg}),e.jsx(ae,{path:"/login",component:Sp}),e.jsx(ae,{path:"/unauthorized",component:Cp}),e.jsx(ae,{path:"/dashboard",children:e.jsx(Fe,{requireAuth:!0,children:e.jsx(Me,{children:e.jsx(Xg,{})})})}),e.jsx(ae,{path:"/dashboard/setup",children:e.jsx(Fe,{requireAuth:!0,children:e.jsx(Me,{children:e.jsx(rp,{})})})}),e.jsx(ae,{path:"/dashboard/assistant",children:e.jsx(Fe,{requireAuth:!0,children:e.jsx(Me,{children:e.jsx(dp,{})})})}),e.jsx(ae,{path:"/dashboard/analytics",children:e.jsx(Fe,{requireAuth:!0,children:e.jsx(Me,{children:e.jsx(pp,{})})})}),e.jsx(ae,{path:"/dashboard/settings",children:e.jsx(Fe,{requireAuth:!0,children:e.jsx(Me,{children:e.jsx(Np,{})})})}),e.jsx(ae,{path:"/dashboard/billing",children:e.jsx(Fe,{requireAuth:!0,children:e.jsx(Me,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Thanh toÃ¡n & ÄÄƒng kÃ½"}),e.jsx("p",{className:"text-gray-600",children:"Trang quáº£n lÃ½ thanh toÃ¡n Ä‘ang Ä‘Æ°á»£c phÃ¡t triá»ƒn..."})]})})})}),e.jsx(ae,{path:"/dashboard/team",children:e.jsx(Fe,{requireAuth:!0,requiredRole:"admin",children:e.jsx(Me,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Quáº£n lÃ½ NhÃ³m"}),e.jsx("p",{className:"text-gray-600",children:"Trang quáº£n lÃ½ nhÃ³m Ä‘ang Ä‘Æ°á»£c phÃ¡t triá»ƒn..."})]})})})}),e.jsx(ae,{component:Sg})]})}):e.jsx(At,{})}function Tp(){return console.log("[DEBUG] AppContent render"),Cg(),e.jsxs(Sa,{children:[e.jsx($p,{}),e.jsx(Ma,{})]})}function Ap(){return console.log("[DEBUG] App render"),e.jsx(pa,{children:e.jsx(Xa,{children:e.jsx(_g,{children:e.jsx(ii,{children:e.jsx(Tp,{})})})})})}fn(document.getElementById("root")).render(e.jsx(Ap,{}));
