const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CallHistory-BP1vSUCO.js","assets/react-BlJs-Rj_.js","assets/@daily-co-CRt2XSsO.js","assets/@tanstack-MNH5btz0.js","assets/wouter-DEv3FHN2.js","assets/regexparam-CPXopyEH.js","assets/use-sync-external-store-T8uco2Ip.js","assets/CallDetails-nJ_1x3lq.js"])))=>i.map(i=>d[i]);
import{r,j as e,R as Oe}from"./react-BlJs-Rj_.js";import{R as Tt,c as ln}from"./react-dom-qFx4IFJ8.js";import{L as ke,u as Ge,S as cn,R as Z}from"./wouter-DEv3FHN2.js";import{V as Gt,R as Ut,A as Wt,C as Kt,T as Xt,D as Yt,P as dn,S as hn,a as Qt,I as Jt,F as Zt,b as es,c as ts,d as mn,e as ss,f as ns,g as as,h as is,i as rs,L as os,j as ls,k as un,l as xn,m as cs,n as gn,o as ds,p as hs,q as pn,r as ms,s as us,t as fn,u as xs,v as jn,w as gs,x as ps,y as bn,z as vn,B as fs,E as yn,G as Nn,H as js,J as wn,K as bs,M as _n,N as vs,O as ys,Q as Ns,U as kn}from"./@radix-ui-BzTdPly_.js";import{c as Ue}from"./class-variance-authority-Dp3B9jqt.js";import{c as Cn}from"./clsx-B-dksMZM.js";import{t as Sn}from"./tailwind-merge-D696Ktp4.js";import{X as at,C as Ne,I as $n,H as Tn,R as wt,a as Me,b as _t,c as In,d as ws,B as Ie,e as _s,S as Ae,f as ks,U as We,g as An,M as Dn,h as Cs,i as Rn,L as Pn,P as Be,j as Ke,T as it,G as rt,A as ot,k as En,l as ze,m as kt,n as Te,o as Ln,p as It,q as De,r as vt,s as Ss,E as Mn,t as Fn,W as On,u as Bn,v as zn,w as Hn,V as At,x as Vn,y as Xe,z as Dt,D as qn,F as $s,J as Gn,K as Un,N as Wn,O as Ts,Q as Kn}from"./lucide-react-CwmH2utw.js";import{_ as Xn}from"./@vapi-ai-DrvmIiYL.js";import{Q as Yn}from"./@tanstack-MNH5btz0.js";import{j as Rt}from"./jwt-decode-VWaDGczM.js";import{S as Qn,N as Jn,P as Zn,A as ea,a as ta}from"./swiper-CfFrfE8b.js";import{F as sa,a as Is,b as na}from"./react-icons-D-KLi9l9.js";import{u as As}from"./react-router-DvHbwIsR.js";import{B as aa}from"./react-router-dom-BMXKYxTf.js";import{R as gt,P as ia,a as ra,C as oa,T as pt,B as la,b as Pt,X as Et,Y as Lt,L as Mt,c as ca,d as da,e as ha}from"./recharts--MJSPD-2.js";import"./@daily-co-CRt2XSsO.js";import"./scheduler-DYLXRpC5.js";import"./regexparam-CPXopyEH.js";import"./use-sync-external-store-T8uco2Ip.js";import"./aria-hidden-DvXkyWUv.js";import"./react-remove-scroll-BtL_ZE21.js";import"./tslib-CDuPK5Eb.js";import"./react-remove-scroll-bar-BrVopqW4.js";import"./react-style-singleton-QOKzqUsk.js";import"./get-nonce-C-Z93AgS.js";import"./use-sidecar-1JKJ7J1d.js";import"./use-callback-ref-5JKzev4p.js";import"./@floating-ui-cGkqCjD2.js";import"./events-CXH2uRM3.js";import"./@remix-run-DBo92Irb.js";import"./lodash-86XxYiBf.js";import"./react-smooth-Cmz7w04I.js";import"./prop-types-CwuqRrCR.js";import"./fast-equals-BIyco3rD.js";import"./tiny-invariant-BaFNuDhB.js";import"./d3-shape-nwul2LtV.js";import"./d3-path-CimkQT29.js";import"./victory-vendor-eFgrrWDw.js";import"./d3-scale-DCNNTN8k.js";import"./internmap-BkD7Hj8s.js";import"./d3-array-g_qRI3rN.js";import"./d3-time-format-j2_s_XYn.js";import"./d3-time-g9mLz1m7.js";import"./d3-interpolate-CvRPKVI0.js";import"./d3-color-9lF95FHy.js";import"./d3-format-CzD4bSOQ.js";import"./recharts-scale-CEDTliZZ.js";import"./decimal.js-light-ZKFLnszB.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();const ma="modulepreload",ua=function(t){return"/"+t},Ft={},Ds=function(s,n,a){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),l=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));o=Promise.allSettled(n.map(h=>{if(h=ua(h),h in Ft)return;Ft[h]=!0;const d=h.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${u}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":ma,d||(p.as="script"),p.crossOrigin="",p.href=h,l&&p.setAttribute("nonce",l),document.head.appendChild(p),d)return new Promise((f,v)=>{p.addEventListener("load",f),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(c){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=c,window.dispatchEvent(l),!l.defaultPrevented)throw c}return o.then(c=>{for(const l of c||[])l.status==="rejected"&&i(l.reason);return s().catch(i)})};class xa extends r.Component{constructor(s){super(s),this.state={hasError:!1,error:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,n){console.error("Uncaught error in component tree:",s,n)}render(){return this.state.hasError?e.jsx("div",{className:"flex items-center justify-center h-screen p-4 bg-gray-50",children:e.jsxs("div",{className:"max-w-md text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-2",children:"Something went wrong."}),e.jsx("p",{className:"text-gray-700 mb-4",children:"An unexpected error occurred. Please try refreshing the page or contact support if the problem persists."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Reload Page"})]})}):this.props.children}}const ga=1,pa=1e6;let ft=0;function fa(){return ft=(ft+1)%Number.MAX_SAFE_INTEGER,ft.toString()}const jt=new Map,Ot=t=>{if(jt.has(t))return;const s=setTimeout(()=>{jt.delete(t),qe({type:"REMOVE_TOAST",toastId:t})},pa);jt.set(t,s)},ja=(t,s)=>{switch(s.type){case"ADD_TOAST":return{...t,toasts:[s.toast,...t.toasts].slice(0,ga)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===s.toast.id?{...n,...s.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=s;return n?Ot(n):t.toasts.forEach(a=>{Ot(a.id)}),{...t,toasts:t.toasts.map(a=>a.id===n||n===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==s.toastId)}}},et=[];let tt={toasts:[]};function qe(t){tt=ja(tt,t),et.forEach(s=>{s(tt)})}function ba({...t}){const s=fa(),n=o=>qe({type:"UPDATE_TOAST",toast:{...o,id:s}}),a=()=>qe({type:"DISMISS_TOAST",toastId:s});return qe({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:o=>{o||a()}}}),{id:s,dismiss:a,update:n}}function va(){const[t,s]=r.useState(tt);return r.useEffect(()=>(et.push(s),()=>{const n=et.indexOf(s);n>-1&&et.splice(n,1)}),[t]),{...t,toast:ba,dismiss:n=>qe({type:"DISMISS_TOAST",toastId:n})}}function S(...t){return Sn(Cn(t))}const ya=dn,Rs=r.forwardRef(({className:t,...s},n)=>e.jsx(Gt,{ref:n,className:S("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...s}));Rs.displayName=Gt.displayName;const Na=Ue("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-dark",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ps=r.forwardRef(({className:t,variant:s,...n},a)=>e.jsx(Ut,{ref:a,className:S(Na({variant:s}),t),...n}));Ps.displayName=Ut.displayName;const wa=r.forwardRef(({className:t,...s},n)=>e.jsx(Wt,{ref:n,className:S("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...s}));wa.displayName=Wt.displayName;const Es=r.forwardRef(({className:t,...s},n)=>e.jsx(Kt,{ref:n,className:S("absolute right-2 top-2 rounded-md p-1 text-dark/50 opacity-0 transition-opacity hover:text-dark focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...s,children:e.jsx(at,{className:"h-4 w-4"})}));Es.displayName=Kt.displayName;const Ls=r.forwardRef(({className:t,...s},n)=>e.jsx(Xt,{ref:n,className:S("text-sm font-semibold",t),...s}));Ls.displayName=Xt.displayName;const Ms=r.forwardRef(({className:t,...s},n)=>e.jsx(Yt,{ref:n,className:S("text-sm opacity-90",t),...s}));Ms.displayName=Yt.displayName;function _a(){const{toasts:t}=va();return e.jsxs(ya,{children:[t.map(function({id:s,title:n,description:a,action:o,...i}){return e.jsxs(Ps,{...i,children:[e.jsxs("div",{className:"grid gap-1",children:[n&&e.jsx(Ls,{children:n}),a&&e.jsx(Ms,{children:a})]}),o,e.jsx(Es,{})]},s)}),e.jsx(Rs,{})]})}const ka={roomNumber:/(?:room(?:\s+number)?|room|phÃ²ng)(?:\s*[:#\-]?\s*)([0-9]{1,4}[A-Za-z]?)|(?:staying in|in room|in phÃ²ng|phÃ²ng sá»‘)(?:\s+)([0-9]{1,4}[A-Za-z]?)/i};function Bt(t){const s=t.match(ka.roomNumber);if(s)return s[1]||s[2]||null;const n=t.match(/(?:room details|room number|phÃ²ng sá»‘)(?:\s*[:#\-]?\s*)([0-9]{1,4}[A-Za-z]?)/i);if(n&&n[1])return n[1];const a=t.match(/(?:details[\s\S]*?room(?:\s+number)?[\s\S]*?)([0-9]{1,4}[A-Za-z]?)/i);return a&&a[1]?a[1]:null}const Ca=!1;let se=null;const Fs=async t=>{try{if(console.log("[vapiClient] Initializing Vapi with public key:",t),se){console.log("[vapiClient] Cleaning up existing instance");try{se.stop()}catch(s){console.log("[vapiClient] Error stopping existing instance:",s)}se=null}return console.log("[vapiClient] Creating new Vapi instance"),se=new Xn(t),se.on("call-start",()=>{console.log("[vapiClient] Call started")}),se.on("call-end",()=>{console.log("[vapiClient] Call ended")}),se.on("speech-start",()=>{console.log("[vapiClient] Speech started")}),se.on("speech-end",()=>{console.log("[vapiClient] Speech ended")}),se.on("volume-level",s=>{console.log(`[vapiClient] Volume level: ${s}`)}),se.on("message",s=>{console.log("[vapiClient] Message received:",s)}),se.on("error",s=>{console.error("[vapiClient] Error:",s)}),console.log("[vapiClient] Vapi instance created successfully"),se}catch(s){throw console.error("[vapiClient] Failed to initialize Vapi:",s),se=null,s}},Ye=()=>se,Sa=()=>{if(console.log("[vapiClient] Resetting Vapi instance"),se){try{se.stop()}catch(t){console.log("[vapiClient] Error stopping instance during reset:",t)}se=null}};async function Os(t){if(!t.ok){const s=await t.text()||t.statusText;throw new Error(`${t.status}: ${s}`)}}async function Re({url:t,method:s="GET",body:n=void 0}){const a=await fetch(t,{method:s,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});await Os(a);try{return await a.json()}catch{return a}}const $a=({on401:t})=>async({queryKey:s})=>{const n=await fetch(s[0],{credentials:"include"});return await Os(n),await n.json()};new Yn({defaultOptions:{queries:{queryFn:$a({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});const Bs=r.createContext(void 0),lt=()=>{const t=r.useContext(Bs);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Ta=({children:t})=>{const[s,n]=r.useState(null),[a,o]=r.useState(null),[i,c]=r.useState(!0);r.useEffect(()=>{console.log("[DEBUG] AuthProvider useEffect - checking token");const d=localStorage.getItem("token");if(!d){console.log("[DEBUG] AuthProvider - no token found, setting loading false"),c(!1);return}try{console.log("[DEBUG] AuthProvider - decoding token");const u=Rt(d);console.log("[DEBUG] AuthProvider - token decoded:",u);const p={id:u.username,name:u.username,email:u.username,tenantId:u.tenantId,role:u.role},f={id:u.tenantId,hotelName:"Mi Nhon Hotel",subdomain:"minhonmuine",subscriptionPlan:"premium",subscriptionStatus:"active"};n(p),o(f)}catch(u){console.log("[DEBUG] AuthProvider - token decode error:",u),localStorage.removeItem("token")}finally{console.log("[DEBUG] AuthProvider - setting loading false"),c(!1)}},[]);const l=r.useCallback(async(d,u)=>{c(!0);try{const p=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d,password:u})});if(!p.ok)throw new Error("Sai tÃ i khoáº£n hoáº·c máº­t kháº©u");const f=await p.json();if(!f.token)throw new Error("KhÃ´ng nháº­n Ä‘Æ°á»£c token tá»« server");localStorage.setItem("token",f.token);const v=Rt(f.token),x={id:v.username,name:v.username,email:v.username,tenantId:v.tenantId,role:v.role},y={id:v.tenantId,hotelName:"Mi Nhon Hotel",subdomain:"minhonmuine",subscriptionPlan:"premium",subscriptionStatus:"active"};n(x),o(y)}catch(p){throw localStorage.removeItem("token"),n(null),o(null),p}finally{c(!1)}},[]),h=r.useCallback(()=>{console.log("[DEBUG] AuthProvider logout called"),n(null),o(null),localStorage.removeItem("token"),window.location.href="/login"},[]);return console.log("[DEBUG] AuthProvider state:",{user:s,tenant:a,isLoading:i}),e.jsx(Bs.Provider,{value:{user:s,tenant:a,isLoading:i,login:l,logout:h,isAuthenticated:!!s,refreshAuth:async()=>{},hasFeature:()=>!1,hasRole:()=>!1,isWithinLimits:()=>!0},children:t})},zs=()=>{const[t,s]=r.useState(null);return r.useEffect(()=>{if(typeof window>"u")return;const n=window.location.hostname,a=n==="localhost"||n==="127.0.0.1",o=/^\d+\.\d+\.\d+\.\d+$/.test(n),i=n==="talk2go.online"||n==="www.talk2go.online";let c=null,l=!1,h;if(!a&&!o&&!i)if(n.includes(".talk2go.online")){const u=n.split(".");u.length>2&&(c=u[0],l=!0)}else h=n,l=!1;s({subdomain:c,isMiNhon:a||n==="minhotel.talk2go.online"||n==="talk2go.online"||n==="www.talk2go.online"||c==="minhon",isSubdomain:l,customDomain:h})},[]),t},Qe={hotelName:"Mi Nhon Hotel Mui Ne",logoUrl:"/assets/references/images/minhon-logo.jpg",primaryColor:"#1e40af",headerText:"Mi Nhon Hotel Mui Ne",vapiPublicKey:"",vapiAssistantId:"",branding:{logo:"/assets/references/images/minhon-logo.jpg",colors:{primary:"#1e40af",secondary:"#d4af37",accent:"#f59e0b"},fonts:{primary:"Poppins",secondary:"Inter"}},features:{callHistory:!0,multiLanguage:!0,analytics:!0,customization:!0},services:[{type:"room_service",name:"Room Service",enabled:!0},{type:"concierge",name:"Concierge",enabled:!0},{type:"housekeeping",name:"Housekeeping",enabled:!0},{type:"maintenance",name:"Maintenance",enabled:!0},{type:"restaurant",name:"Restaurant",enabled:!0}],supportedLanguages:["en","fr","zh","ru","ko","vi"]},He=()=>{const[t,s]=r.useState(null),[n,a]=r.useState(!0),[o,i]=r.useState(null);zs();const c=()=>{const h=window.location.hostname;if(h==="localhost"||h==="127.0.0.1")return{type:"default",identifier:"mi-nhon-hotel"};const u=h.split(".");return u.length>=3&&u[u.length-2]==="talk2go"&&u[u.length-1]==="online"?{type:"subdomain",identifier:u[0]}:{type:"custom",identifier:h}},l=r.useCallback(async()=>{if(n){console.log("[DEBUG] loadConfiguration already loading, skipping");return}console.log("[DEBUG] loadConfiguration called");try{a(!0),i(null);const{type:h,identifier:d}=c();if(console.log("[DEBUG] extractHotelIdentifier",{type:h,identifier:d}),h==="default"){s(Qe);return}if(h==="subdomain"){const u=`/api/hotels/by-subdomain/${d}`;console.log("[DEBUG] Fetching hotel config from",u);try{const p=await fetch(u);if(console.log("[DEBUG] fetch response",p),!p.ok)throw new Error("Failed to load hotel configuration");const f=await p.json();console.log("[DEBUG] hotelData",f),s({hotelName:f.name,logoUrl:f.branding.logo,primaryColor:f.branding.primaryColor,headerText:f.name,vapiPublicKey:"",vapiAssistantId:"",branding:{...f.branding,colors:{primary:f.branding.primaryColor||"#2E7D32",secondary:f.branding.secondaryColor||"#FFC107",accent:f.branding.accentColor||"#FF6B6B"},fonts:{primary:f.branding.PrimaryFont||"Inter",secondary:f.branding.SecondaryFont||"Roboto"}},features:f.features,services:f.services,supportedLanguages:f.supportedLanguages});return}catch(p){console.error("[DEBUG] fetch hotel config error",p),s(Qe);return}}s(Qe)}catch(h){i(h instanceof Error?h.message:"Failed to load configuration"),s(Qe)}finally{a(!1)}},[]);return r.useEffect(()=>{l()},[l]),{config:t,isLoading:n,error:o,reload:l,isMiNhon:!1}},Hs=(t,s)=>{if(s.hotelName==="Mi Nhon Hotel Mui Ne")switch(t){case"fr":return s.vapiPublicKey;case"zh":return s.vapiPublicKey;case"ru":return s.vapiPublicKey;case"ko":return s.vapiPublicKey;case"vi":return s.vapiPublicKey;case"en":default:return s.vapiPublicKey}return s.vapiPublicKey||void 0},Vs=(t,s)=>{if(s.hotelName==="Mi Nhon Hotel Mui Ne")switch(t){case"fr":return s.vapiAssistantId;case"zh":return s.vapiAssistantId;case"ru":return s.vapiAssistantId;case"ko":return s.vapiAssistantId;case"vi":return s.vapiAssistantId;case"en":default:return s.vapiAssistantId}return s.vapiAssistantId||void 0},Ia={orderType:"Room Service",deliveryTime:"asap",roomNumber:"",guestName:"",guestEmail:"",guestPhone:"",specialInstructions:"",items:[{id:"1",name:"Club Sandwich",description:"Served with french fries and side salad",quantity:1,price:15},{id:"2",name:"Fresh Orange Juice",description:"Large size",quantity:1,price:8}],totalAmount:23},qs=r.createContext(void 0);function Aa({children:t}){const[s,n]=r.useState("interface1"),[a,o]=r.useState([]),[i,c]=r.useState(null),[l,h]=r.useState(null),[d,u]=r.useState(null),[p,f]=r.useState(0),[v,x]=r.useState(null),[y,g]=r.useState(!1),[N,T]=r.useState(null),[ee,B]=r.useState([]),[X,he]=r.useState(null),[J,ce]=r.useState(!1),[ne,re]=r.useState(null),[te,W]=r.useState(()=>{if(typeof window>"u")return[];try{const F=localStorage.getItem("activeOrders");return F?JSON.parse(F).map(Y=>({...Y,requestedAt:new Date(Y.requestedAt)})):[]}catch(F){return console.error("Failed to parse activeOrders from localStorage",F),[]}}),[H,C]=r.useState(0),[D,V]=r.useState([]),[_,j]=r.useState("en"),[b,$]=r.useState(null),[E,ae]=r.useState(null),[me,ie]=r.useState(null),ue=F=>{console.log("ğŸ”„ AssistantContext: setCurrentInterface called with:",F),console.log("ğŸ”„ Previous interface:",s),n(F),console.log("âœ… AssistantContext: setCurrentInterface completed")},xe=F=>{console.log("ğŸ—‘ï¸ AssistantContext: setOrder called with:",F),console.log("ğŸ—‘ï¸ Previous order:",d),u(F),console.log("âœ… AssistantContext: setOrder completed")};r.useEffect(()=>{if(!(typeof window>"u"))try{localStorage.setItem("activeOrders",JSON.stringify(te))}catch{console.error("Failed to persist activeOrders to localStorage")}},[te]);const m=F=>{W(q=>[...q,{...F,status:F.status||"ÄÃ£ ghi nháº­n"}])},k=Oe.useCallback(F=>{const q={...F,id:Date.now(),callId:(l==null?void 0:l.id)||`call-${Date.now()}`,timestamp:new Date,tenantId:E||"default"};o(Y=>[...Y,q])},[l==null?void 0:l.id,E]);r.useEffect(()=>((async()=>{try{const q=b?Hs(_,b):void 0;if(!q)throw new Error("Vapi public key is not configured");const Y=await Fs(q);Y.on("volume-level",U=>{C(U)});const Se=async U=>{if(console.log("Raw message received:",U),console.log("Message type:",U.type),console.log("Message role:",U.role),console.log("Message content structure:",{content:U.content,text:U.text,transcript:U.transcript}),U.type==="model-output"){console.log("Model output detected - Full message:",U);const L=U.content||U.text||U.transcript||U.output;if(L){console.log("Adding model output to conversation:",L);const $e={id:Date.now(),callId:(l==null?void 0:l.id)||`call-${Date.now()}`,role:"assistant",content:L,timestamp:new Date,isModelOutput:!0,tenantId:E||"default"};console.log("Adding new transcript for model output:",$e),o(xt=>{const $t=[...xt,$e];return console.log("Updated transcripts array:",$t),$t})}else console.warn("Model output message received but no content found:",U)}if(U.type==="transcript"&&U.role==="user"){console.log("Adding user transcript:",U);const L={id:Date.now(),callId:(l==null?void 0:l.id)||`call-${Date.now()}`,role:"user",content:U.content||U.transcript||"",timestamp:new Date,tenantId:E||"default"};o($e=>[...$e,L])}};Y.on("message",Se)}catch(q){console.error("Error setting up Vapi:",q)}})(),()=>{const q=Ye();q&&q.stop()}),[_,b,E]),r.useEffect(()=>{if(s==="interface2"){console.log("Starting call duration timer in interface2");const F=setInterval(()=>{f(q=>{const Y=q+1;return console.log("Call duration updated:",Y),Y})},1e3);x(F)}else v&&(console.log("Clearing call duration timer when leaving interface2"),clearInterval(v),x(null));return()=>{v&&(console.log("Cleaning up call duration timer"),clearInterval(v))}},[s,v]);const z=()=>{const F=Ye();F&&(F.setMuted(!y),g(!y))},we=Oe.useCallback(async()=>{try{ce(!1);const F=`call-${Date.now()}`;h({id:F,roomNumber:"",duration:"",category:"",language:"en"}),o([]),V([]);const q=Ye();if(!q){console.error("Vapi instance not initialized");return}const Y=b?Vs(_,b):void 0;if(!Y){console.error("Assistant ID not configured");return}if(!await q.start(Y)){console.error("Failed to start call - call object is null");return}console.log("Call started successfully"),f(0);const U=setInterval(()=>{f(L=>L+1)},1e3);x(U),n("interface2")}catch(F){console.error("Error starting call:",F)}},[_,b,E]),_e=r.useCallback(()=>{try{const F=Ye();F&&F.stop();const q=()=>{v&&(clearInterval(v),x(null)),c(Ia);const Y=p?`${Math.floor(p/60)}:${(p%60).toString().padStart(2,"0")}`:"0:00",Se=a.map(L=>({role:L.role,content:L.content}));if(Se.length<2){const L={id:Date.now(),callId:(l==null?void 0:l.id)||`call-${Date.now()}`,content:"Call was too short to generate a summary. Please try a more detailed conversation.",timestamp:new Date,tenantId:E||"default"};T(L);return}const U={id:Date.now(),callId:(l==null?void 0:l.id)||`call-${Date.now()}`,content:"Generating AI summary of your conversation...",timestamp:new Date,tenantId:E||"default"};T(U),fetch("/api/store-summary",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({summary:"",transcripts:Se,timestamp:new Date().toISOString(),callId:(l==null?void 0:l.id)||`call-${Date.now()}`,callDuration:Y,forceBasicSummary:Ca,language:_,tenantId:E||"default"})}).then(L=>{if(!L.ok)throw new Error(`Network response was not ok: ${L.status}`);return L.json()}).then(L=>{if(L.success&&L.summary&&L.summary.content){const $e=L.summary.content;Tt.unstable_batchedUpdates(()=>{const xt={id:Date.now(),callId:(l==null?void 0:l.id)||`call-${Date.now()}`,content:$e,timestamp:new Date(L.summary.timestamp||Date.now()),tenantId:E||"default"};T(xt),L.serviceRequests&&Array.isArray(L.serviceRequests)&&L.serviceRequests.length>0&&B(L.serviceRequests)})}}).catch(L=>{console.error("Error processing summary:",L);const $e={id:Date.now(),callId:(l==null?void 0:l.id)||`call-${Date.now()}`,content:"An error occurred while generating the call summary.",timestamp:new Date,tenantId:E||"default"};T($e)})};Tt.unstable_batchedUpdates(q)}catch(F){console.error("Error in endCall:",F),n("interface1")}},[v,p,a,l,T,n,B,_,E]),an=async F=>{try{console.log("Requesting Vietnamese translation for summary...");const q=await fetch("/api/translate-to-vietnamese",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:F})});if(!q.ok)throw new Error(`Network response was not ok: ${q.status}`);const Y=await q.json();if(Y.success&&Y.translatedText)return he(Y.translatedText),Y.translatedText;throw new Error("Translation failed")}catch(q){return console.error("Error translating to Vietnamese:",q),"KhÃ´ng thá»ƒ dá»‹ch ná»™i dung nÃ y sang tiáº¿ng Viá»‡t. Vui lÃ²ng thá»­ láº¡i sau."}},rn=F=>{V(q=>[...q,F])};r.useEffect(()=>{let F=null;const q=async()=>{try{const Se=await fetch("https://minhnhotelben.onrender.com/api/orders");if(!Se.ok)return;const U=await Se.json();console.log("[AssistantContext] Fetched orders from API:",U),Array.isArray(U)&&W(U.map(L=>({reference:L.specialInstructions||L.reference||L.callId||"",requestedAt:L.createdAt?new Date(L.createdAt):new Date,estimatedTime:L.deliveryTime||"",status:L.status==="completed"?"HoÃ n thiá»‡n":L.status==="pending"?"ÄÃ£ ghi nháº­n":L.status,...L})))}catch{}};return(s==="interface1"||s==="interface2")&&(q(),F=setInterval(q,5e3)),()=>{F&&clearInterval(F)}},[s]);const on={currentInterface:s,setCurrentInterface:ue,transcripts:a,setTranscripts:o,addTranscript:k,orderSummary:i,setOrderSummary:c,callDetails:l,setCallDetails:h,order:d,setOrder:xe,callDuration:p,setCallDuration:f,isMuted:y,toggleMute:z,startCall:we,endCall:_e,callSummary:N,setCallSummary:T,serviceRequests:ee,setServiceRequests:B,vietnameseSummary:X,setVietnameseSummary:he,translateToVietnamese:an,emailSentForCurrentSession:J,setEmailSentForCurrentSession:ce,requestReceivedAt:ne,setRequestReceivedAt:re,activeOrders:te,addActiveOrder:m,setActiveOrders:W,micLevel:H,modelOutput:D,setModelOutput:V,addModelOutput:rn,language:_,setLanguage:j,hotelConfig:b,setHotelConfig:$,tenantId:E,setTenantId:ae,tenantConfig:me,setTenantConfig:ie};return e.jsx(qs.Provider,{value:on,children:t})}function Ce(){const t=r.useContext(qs);if(t===void 0)throw new Error("useAssistant must be used within an AssistantProvider");return t}const Gs="/assets/hotel-exterior-BsmmGNZ1.jpeg",Da="Hotel Mui Ne",Ra="AI-powered Voice Assistant - Supporting All Your Needs",Pa="Tap To Speak",Ea="Room & Stay",La="Room Services",Ma="Bookings & Facilities",Fa="Tourism & Exploration",Oa="Support to book external services",Ba="Order Ref",za="Requested At",Ha="Estimated Completion",Va="Time Remaining",qa="Mute",Ga="Unmute",Ua="Confirm",Wa="Please speak to the assistant first.",Ka="Tap to speak",Xa="Order Summary",Ya="Confirm",Qa="Add Note",Ja="Room Number",Za="Enter room number",ei="Enter additional notes",ti="Summary",si="Generated at",ni="Order Confirmed!",ai="Your request has been confirmed and forwarded to our staff. They will process it right away.",ii="Order Reference",ri="Estimated delivery time:",oi="Return to Home",li="Language",ci="English",di="French",hi="Send",mi="Cancel",ui="End Call",xi="Room",gi="Order ID",pi="Guest Name",fi="Content",ji="Time",bi="Status",vi="Action",yi="Message Guest",Ni="Staff Request Management",wi="Login",_i="Username",ki="Password",Ci="Tap the call button to start your request.",Si="Review and confirm your request for accuracy.",$i="Your request will be sent to the reception for processing.",Ti="Acknowledged",Ii="In Progress",Ai="Delivering to You",Di="Completed",Ri="Special Note",Pi="Check-in/Check-out",Ei="Extended Stay Request",Li="Room Information",Mi="Hotel Policies",Fi="Wi-Fi Services",Oi="Room Service Food",Bi="Drinks & Bar Service",zi="Room Cleaning",Hi="Laundry Service",Vi="Wake-up Call",qi="Additional Amenities",Gi="Maintenance Request",Ui="Restaurant Reservation",Wi="Spa Services",Ki="Fitness Center",Xi="Swimming Pool",Yi="Car Rental",Qi="Medical Assistance",Ji="Customer Support",Zi="Local Attractions",er="Local Restaurants",tr="Public Transportation",sr="Local Events",nr="Shopping Areas",ar="Area Maps",ir="Translation Services",rr="Leave a Review",or="Report an Issue",lr="Luggage Services",cr="Generating your summary...",dr="Speak Multiple Languages with Our AI Voice Assistant",hr={hotel_name:Da,hotel_subtitle:Ra,press_to_call:Pa,room_and_stay:Ea,room_services:La,bookings_and_facilities:Ma,tourism_and_exploration:Fa,support_external_services:Oa,order_ref:Ba,requested_at:za,estimated_completion:Ha,time_remaining:Va,mute:qa,unmute:Ga,confirm:Ua,need_conversation:Wa,tap_to_speak:Ka,order_summary:Xa,send_to_reception:Ya,add_note:Qa,room_number:Ja,enter_room_number:Za,enter_notes:ei,summary:ti,generated_at:si,order_confirmed:ni,order_confirmed_message:ai,order_reference:ii,estimated_delivery_time:ri,return_to_home:oi,language:li,english:ci,french:di,send:hi,cancel:mi,confirm_request:ui,room:xi,order_id:gi,guest_name:pi,content:fi,time:ji,status:bi,action:vi,message_guest:yi,request_management:Ni,login:wi,username:_i,password:ki,press_to_call_desc:Ci,confirm_request_desc:Si,send_to_reception_desc:$i,status_acknowledged:Ti,status_in_progress:Ii,status_delivering:Ai,status_completed:Di,status_note:Ri,icon_login:Pi,icon_hourglass_empty:Ei,icon_info:Li,icon_policy:Mi,icon_wifi:Fi,icon_restaurant:Oi,icon_local_bar:Bi,icon_cleaning_services:zi,icon_local_laundry_service:Hi,icon_alarm:Vi,icon_add_circle:qi,icon_build:Gi,icon_event_seat:Ui,icon_spa:Wi,icon_fitness_center:Ki,icon_pool:Xi,icon_directions_car:Yi,icon_medical_services:Qi,icon_support_agent:Ji,icon_location_on:Zi,icon_local_dining:er,icon_directions_bus:tr,icon_event:sr,icon_shopping_bag:nr,icon_map:ar,icon_translate:ir,icon_rate_review:rr,icon_report_problem:or,icon_luggage:lr,generating_your_summary:cr,speak_multiple_languages:dr},mr="Bienvenue Ã  Mi Nhon Hotel",ur="Commencer",xr="Langue",gr="Anglais",pr="FranÃ§ais",fr="Envoyer",jr="Annuler",br="Confirmer la demande",vr="Chambre",yr="ID de commande",Nr="Nom du client",wr="Contenu",_r="Heure",kr="Statut",Cr="Action",Sr="Message au client",$r="Gestion des demandes du personnel",Tr="Connexion",Ir="Nom d'utilisateur",Ar="Mot de passe",Dr="Hotel Mui Ne",Rr="Assistant vocal IA - Ã€ votre service pour tous vos besoins",Pr="Appuyez pour appeler",Er="Chambre & SÃ©jour",Lr="Services de chambre",Mr="RÃ©servations & Installations",Fr="Tourisme & Exploration",Or="Assistance pour services externes",Br="RÃ©f. commande",zr="DemandÃ© Ã ",Hr="Fin estimÃ©e",Vr="Temps restant",qr="Muet",Gr="RÃ©tablir le son",Ur="Confirmer",Wr="Veuillez d'abord parler avec l'assistant.",Kr="Appuyez pour parler",Xr="RÃ©capitulatif de la commande",Yr="Envoyer Ã  la rÃ©ception",Qr="Ajouter une note",Jr="NumÃ©ro de chambre",Zr="Saisir le numÃ©ro de chambre",eo="Saisir des notes supplÃ©mentaires",to="RÃ©sumÃ©",so="GÃ©nÃ©rÃ© Ã ",no="Commande confirmÃ©e !",ao="Votre demande a Ã©tÃ© confirmÃ©e et transmise Ã  notre personnel. Elle sera traitÃ©e immÃ©diatement.",io="RÃ©fÃ©rence de la commande",ro="Heure de livraison estimÃ©e :",oo="Retour Ã  l'accueil",lo="Appuyez sur le bouton d'appel pour dÃ©marrer votre demande.",co="VÃ©rifiez et confirmez votre demande pour plus de prÃ©cision.",ho="Votre demande sera envoyÃ©e Ã  la rÃ©ception pour traitement.",mo="ReÃ§ue",uo="En cours",xo="En livraison",go="TerminÃ©e",po="Note spÃ©ciale",fo="ArrivÃ©e/DÃ©part",jo="Prolongation de sÃ©jour",bo="Informations sur la chambre",vo="Politiques de l'hÃ´tel",yo="Services Wi-Fi",No="Service de restauration",wo="Service de bar",_o="Nettoyage de chambre",ko="Service de blanchisserie",Co="Service de rÃ©veil",So="AmÃ©nitÃ©s supplÃ©mentaires",$o="Demande de maintenance",To="RÃ©servation au restaurant",Io="Services de spa",Ao="Centre de fitness",Do="Piscine",Ro="Location de voiture",Po="Assistance mÃ©dicale",Eo="Service client",Lo="Attractions locales",Mo="Restaurants locaux",Fo="Transports publics",Oo="Ã‰vÃ©nements locaux",Bo="Zones commerciales",zo="Cartes de la rÃ©gion",Ho="Services de traduction",Vo="Laisser un avis",qo="Signaler un problÃ¨me",Go="Services de bagagerie",Uo="GÃ©nÃ©ration de votre rÃ©sumÃ©...",Wo="Parlez Plusieurs Langues avec Notre Assistant Vocal IA",Ko={welcome:mr,start:ur,language:xr,english:gr,french:pr,send:fr,cancel:jr,confirm_request:br,room:vr,order_id:yr,guest_name:Nr,content:wr,time:_r,status:kr,action:Cr,message_guest:Sr,request_management:$r,login:Tr,username:Ir,password:Ar,hotel_name:Dr,hotel_subtitle:Rr,press_to_call:Pr,room_and_stay:Er,room_services:Lr,bookings_and_facilities:Mr,tourism_and_exploration:Fr,support_external_services:Or,order_ref:Br,requested_at:zr,estimated_completion:Hr,time_remaining:Vr,mute:qr,unmute:Gr,confirm:Ur,need_conversation:Wr,tap_to_speak:Kr,order_summary:Xr,send_to_reception:Yr,add_note:Qr,room_number:Jr,enter_room_number:Zr,enter_notes:eo,summary:to,generated_at:so,order_confirmed:no,order_confirmed_message:ao,order_reference:io,estimated_delivery_time:ro,return_to_home:oo,press_to_call_desc:lo,confirm_request_desc:co,send_to_reception_desc:ho,status_acknowledged:mo,status_in_progress:uo,status_delivering:xo,status_completed:go,status_note:po,icon_login:fo,icon_hourglass_empty:jo,icon_info:bo,icon_policy:vo,icon_wifi:yo,icon_restaurant:No,icon_local_bar:wo,icon_cleaning_services:_o,icon_local_laundry_service:ko,icon_alarm:Co,icon_add_circle:So,icon_build:$o,icon_event_seat:To,icon_spa:Io,icon_fitness_center:Ao,icon_pool:Do,icon_directions_car:Ro,icon_medical_services:Po,icon_support_agent:Eo,icon_location_on:Lo,icon_local_dining:Mo,icon_directions_bus:Fo,icon_event:Oo,icon_shopping_bag:Bo,icon_map:zo,icon_translate:Ho,icon_rate_review:Vo,icon_report_problem:qo,icon_luggage:Go,generating_your_summary:Uo,speak_multiple_languages:Wo},Xo="æ¬¢è¿æ¥åˆ°ç¾å†œé…’åº— (Mi Nhon Hotel)",Yo="å¼€å§‹",Qo="è¯­è¨€",Jo="è‹±è¯­",Zo="æ³•è¯­",el="å‘é€",tl="å–æ¶ˆ",sl="ç¡®è®¤è¯·æ±‚",nl="æˆ¿é—´",al="è®¢å•ç¼–å·",il="å®¢äººå§“å",rl="å†…å®¹",ol="æ—¶é—´",ll="çŠ¶æ€",cl="æ“ä½œ",dl="ç»™å®¢äººçš„æ¶ˆæ¯",hl="å‘˜å·¥è¯·æ±‚ç®¡ç†",ml="ç™»å½•",ul="ç”¨æˆ·å",xl="å¯†ç ",gl="é…’åº— Mui Ne",pl="AIè¯­éŸ³åŠ©æ‰‹ - æ»¡è¶³æ‚¨çš„æ‰€æœ‰éœ€æ±‚",fl="æŒ‰ä¸‹å‘¼å«",jl="æˆ¿é—´ä¸ä½å®¿",bl="å®¢æˆ¿æœåŠ¡",vl="é¢„è®¢ä¸è®¾æ–½",yl="æ—…æ¸¸ä¸æ¢ç´¢",Nl="æ”¯æŒå¤–éƒ¨æœåŠ¡",wl="è®¢å•å‚è€ƒ",_l="è¯·æ±‚æ—¶é—´",kl="é¢„è®¡å®Œæˆæ—¶é—´",Cl="å‰©ä½™æ—¶é—´",Sl="é™éŸ³",$l="å–æ¶ˆé™éŸ³",Tl="ç¡®è®¤",Il="è¯·å…ˆä¸åŠ©æ‰‹å¯¹è¯ã€‚",Al="ç‚¹å‡»è¯´è¯",Dl="è®¢å•æ‘˜è¦",Rl="å‘é€åˆ°å‰å°",Pl="æ·»åŠ å¤‡æ³¨",El="æˆ¿é—´å·",Ll="è¾“å…¥æˆ¿é—´å·",Ml="è¾“å…¥é™„åŠ å¤‡æ³¨",Fl="æ‘˜è¦",Ol="ç”Ÿæˆæ—¶é—´",Bl="è®¢å•å·²ç¡®è®¤ï¼",zl="æ‚¨çš„è¯·æ±‚å·²ç¡®è®¤å¹¶å‘é€ç»™æˆ‘ä»¬çš„å‘˜å·¥ã€‚æˆ‘ä»¬ä¼šç«‹å³å¤„ç†ã€‚",Hl="è®¢å•å‚è€ƒ",Vl="é¢„è®¡é€è¾¾æ—¶é—´ï¼š",ql="è¿”å›é¦–é¡µ",Gl="ç‚¹å‡»å‘¼å«æŒ‰é’®å¼€å§‹æ‚¨çš„è¯·æ±‚ã€‚",Ul="è¯·æ£€æŸ¥å¹¶ç¡®è®¤æ‚¨çš„è¯·æ±‚ä»¥ç¡®ä¿å‡†ç¡®ã€‚",Wl="æ‚¨çš„è¯·æ±‚å°†è¢«å‘é€åˆ°å‰å°è¿›è¡Œå¤„ç†ã€‚",Kl="å·²ç¡®è®¤",Xl="å¤„ç†ä¸­",Yl="é…é€ä¸­",Ql="å·²å®Œæˆ",Jl="ç‰¹åˆ«è¯´æ˜",Zl="å…¥ä½/é€€æˆ¿",ec="å»¶é•¿ä½å®¿è¯·æ±‚",tc="æˆ¿é—´ä¿¡æ¯",sc="é…’åº—æ”¿ç­–",nc="æ— çº¿ç½‘ç»œæœåŠ¡",ac="å®¢æˆ¿é¤é¥®æœåŠ¡",ic="é¥®å“ä¸é…’å§æœåŠ¡",rc="æˆ¿é—´æ¸…æ´",oc="æ´—è¡£æœåŠ¡",lc="å”¤é†’æœåŠ¡",cc="é¢å¤–è®¾æ–½",dc="ç»´ä¿®è¯·æ±‚",hc="é¤å…é¢„è®¢",mc="æ°´ç–—æœåŠ¡",uc="å¥èº«ä¸­å¿ƒ",xc="æ¸¸æ³³æ± ",gc="ç§Ÿè½¦æœåŠ¡",pc="åŒ»ç–—æ´åŠ©",fc="å®¢æˆ·æ”¯æŒ",jc="å½“åœ°æ™¯ç‚¹",bc="å½“åœ°é¤å…",vc="å…¬å…±äº¤é€š",yc="å½“åœ°æ´»åŠ¨",Nc="è´­ç‰©åŒºåŸŸ",wc="åŒºåŸŸåœ°å›¾",_c="ç¿»è¯‘æœåŠ¡",kc="ç•™ä¸‹è¯„è®º",Cc="æŠ¥å‘Šé—®é¢˜",Sc="è¡ŒææœåŠ¡",$c="æ­£åœ¨ç”Ÿæˆæ‚¨çš„æ‘˜è¦...",Tc={welcome:Xo,start:Yo,language:Qo,english:Jo,french:Zo,send:el,cancel:tl,confirm_request:sl,room:nl,order_id:al,guest_name:il,content:rl,time:ol,status:ll,action:cl,message_guest:dl,request_management:hl,login:ml,username:ul,password:xl,hotel_name:gl,hotel_subtitle:pl,press_to_call:fl,room_and_stay:jl,room_services:bl,bookings_and_facilities:vl,tourism_and_exploration:yl,support_external_services:Nl,order_ref:wl,requested_at:_l,estimated_completion:kl,time_remaining:Cl,mute:Sl,unmute:$l,confirm:Tl,need_conversation:Il,tap_to_speak:Al,order_summary:Dl,send_to_reception:Rl,add_note:Pl,room_number:El,enter_room_number:Ll,enter_notes:Ml,summary:Fl,generated_at:Ol,order_confirmed:Bl,order_confirmed_message:zl,order_reference:Hl,estimated_delivery_time:Vl,return_to_home:ql,press_to_call_desc:Gl,confirm_request_desc:Ul,send_to_reception_desc:Wl,status_acknowledged:Kl,status_in_progress:Xl,status_delivering:Yl,status_completed:Ql,status_note:Jl,icon_login:Zl,icon_hourglass_empty:ec,icon_info:tc,icon_policy:sc,icon_wifi:nc,icon_restaurant:ac,icon_local_bar:ic,icon_cleaning_services:rc,icon_local_laundry_service:oc,icon_alarm:lc,icon_add_circle:cc,icon_build:dc,icon_event_seat:hc,icon_spa:mc,icon_fitness_center:uc,icon_pool:xc,icon_directions_car:gc,icon_medical_services:pc,icon_support_agent:fc,icon_location_on:jc,icon_local_dining:bc,icon_directions_bus:vc,icon_event:yc,icon_shopping_bag:Nc,icon_map:wc,icon_translate:_c,icon_rate_review:kc,icon_report_problem:Cc,icon_luggage:Sc,generating_your_summary:$c},Ic="Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² Ğ¾Ñ‚ĞµĞ»ÑŒ Mi Nhon",Ac="ĞĞ°Ñ‡Ğ°Ñ‚ÑŒ",Dc="Ğ¯Ğ·Ñ‹Ğº",Rc="ĞĞ½Ğ³Ğ»Ğ¸Ğ¹ÑĞºĞ¸Ğ¹",Pc="Ğ¤Ñ€Ğ°Ğ½Ñ†ÑƒĞ·ÑĞºĞ¸Ğ¹",Ec="Ğ ÑƒÑÑĞºĞ¸Ğ¹",Lc="ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ",Mc="ĞÑ‚Ğ¼ĞµĞ½Ğ°",Fc="ĞŸĞ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ´Ğ¸Ñ‚ÑŒ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ",Oc="ĞĞ¾Ğ¼ĞµÑ€",Bc="ID Ğ·Ğ°ĞºĞ°Ğ·Ğ°",zc="Ğ˜Ğ¼Ñ Ğ³Ğ¾ÑÑ‚Ñ",Hc="Ğ¡Ğ¾Ğ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ğµ",Vc="Ğ’Ñ€ĞµĞ¼Ñ",qc="Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ",Gc="Ğ”ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ",Uc="Ğ¡Ğ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ³Ğ¾ÑÑ‚Ñ",Wc="Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°Ğ¼Ğ¸ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»Ğ°",Kc="Ğ’Ñ…Ğ¾Ğ´",Xc="Ğ˜Ğ¼Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ",Yc="ĞŸĞ°Ñ€Ğ¾Ğ»ÑŒ",Qc="ĞÑ‚ĞµĞ»ÑŒ Mui Ne",Jc="Ğ˜Ğ˜-Ğ°ÑÑĞ¸ÑÑ‚ĞµĞ½Ñ‚ - ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° Ğ²ÑĞµÑ… Ğ²Ğ°ÑˆĞ¸Ñ… Ğ¿Ğ¾Ñ‚Ñ€ĞµĞ±Ğ½Ğ¾ÑÑ‚ĞµĞ¹",Zc="ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ Ğ´Ğ»Ñ Ğ·Ğ²Ğ¾Ğ½ĞºĞ°",ed="ĞĞ¾Ğ¼ĞµÑ€ Ğ¸ Ğ¿Ñ€Ğ¾Ğ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ",td="Ğ£ÑĞ»ÑƒĞ³Ğ¸ Ğ½Ğ¾Ğ¼ĞµÑ€Ğ°",sd="Ğ‘Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¸ ÑƒĞ´Ğ¾Ğ±ÑÑ‚Ğ²Ğ°",nd="Ğ¢ÑƒÑ€Ğ¸Ğ·Ğ¼ Ğ¸ Ğ¸ÑÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ",ad="ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ñ… ÑƒÑĞ»ÑƒĞ³",id="Ğ¡ÑÑ‹Ğ»ĞºĞ° Ğ½Ğ° Ğ·Ğ°ĞºĞ°Ğ·",rd="Ğ—Ğ°Ğ¿Ñ€Ğ¾ÑˆĞµĞ½Ğ¾ Ğ²",od="ĞŸÑ€ĞµĞ´Ğ¿Ğ¾Ğ»Ğ°Ğ³Ğ°ĞµĞ¼Ğ¾Ğµ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ğµ",ld="ĞÑÑ‚Ğ°Ğ²ÑˆĞµĞµÑÑ Ğ²Ñ€ĞµĞ¼Ñ",cd="Ğ‘ĞµĞ· Ğ·Ğ²ÑƒĞºĞ°",dd="Ğ’ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ Ğ·Ğ²ÑƒĞº",hd="ĞŸĞ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ´Ğ¸Ñ‚ÑŒ",md="ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, ÑĞ½Ğ°Ñ‡Ğ°Ğ»Ğ° Ğ¿Ğ¾Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ¸Ñ‚Ğµ Ñ Ğ°ÑÑĞ¸ÑÑ‚ĞµĞ½Ñ‚Ğ¾Ğ¼.",ud="ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ¸Ñ‚ÑŒ",xd="Ğ¡Ğ²Ğ¾Ğ´ĞºĞ° Ğ·Ğ°ĞºĞ°Ğ·Ğ°",gd="ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ½Ğ° Ñ€ĞµÑĞµĞ¿ÑˆĞµĞ½",pd="Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ·Ğ°Ğ¼ĞµÑ‚ĞºÑƒ",fd="ĞĞ¾Ğ¼ĞµÑ€ ĞºĞ¾Ğ¼Ğ½Ğ°Ñ‚Ñ‹",jd="Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ½Ğ¾Ğ¼ĞµÑ€ ĞºĞ¾Ğ¼Ğ½Ğ°Ñ‚Ñ‹",bd="Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ´Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ·Ğ°Ğ¼ĞµÑ‚ĞºĞ¸",vd="Ğ¡Ğ²Ğ¾Ğ´ĞºĞ°",yd="Ğ¡Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¾ Ğ²",Nd="Ğ—Ğ°ĞºĞ°Ğ· Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½!",wd="Ğ’Ğ°Ñˆ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½ Ğ¸ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ğ½ Ğ½Ğ°ÑˆĞµĞ¼Ñƒ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»Ñƒ. ĞĞ½Ğ¸ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‚ ĞµĞ³Ğ¾ Ğ½ĞµĞ¼ĞµĞ´Ğ»ĞµĞ½Ğ½Ğ¾.",_d="Ğ¡ÑÑ‹Ğ»ĞºĞ° Ğ½Ğ° Ğ·Ğ°ĞºĞ°Ğ·",kd="ĞŸÑ€ĞµĞ´Ğ¿Ğ¾Ğ»Ğ°Ğ³Ğ°ĞµĞ¼Ğ¾Ğµ Ğ²Ñ€ĞµĞ¼Ñ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸:",Cd="Ğ’ĞµÑ€Ğ½ÑƒÑ‚ÑŒÑÑ Ğ½Ğ° Ğ³Ğ»Ğ°Ğ²Ğ½ÑƒÑ",Sd="ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ Ğ²Ñ‹Ğ·Ğ¾Ğ²Ğ°, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ½Ğ°Ñ‡Ğ°Ñ‚ÑŒ Ğ²Ğ°Ñˆ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ.",$d="ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ Ğ¸ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ´Ğ¸Ñ‚Ğµ Ğ²Ğ°Ñˆ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ´Ğ»Ñ Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚Ğ¸.",Td="Ğ’Ğ°Ñˆ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ±ÑƒĞ´ĞµÑ‚ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½ Ğ½Ğ° Ñ€ĞµÑĞµĞ¿ÑˆĞµĞ½ Ğ´Ğ»Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸.",Id="ĞŸĞ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¾",Ad="Ğ’ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞµ",Dd="Ğ”Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ÑÑ",Rd="Ğ—Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¾",Pd="ĞÑĞ¾Ğ±Ğ°Ñ Ğ·Ğ°Ğ¼ĞµÑ‚ĞºĞ°",Ed="Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ/Ğ’Ñ‹ÑĞµĞ»ĞµĞ½Ğ¸Ğµ",Ld="Ğ—Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ½Ğ° Ğ¿Ñ€Ğ¾Ğ´Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ñ",Md="Ğ˜Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ Ğ½Ğ¾Ğ¼ĞµÑ€Ğµ",Fd="ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ° Ğ¾Ñ‚ĞµĞ»Ñ",Od="Wi-Fi ÑƒÑĞ»ÑƒĞ³Ğ¸",Bd="Ğ ĞµÑÑ‚Ğ¾Ñ€Ğ°Ğ½Ğ½Ğ¾Ğµ Ğ¾Ğ±ÑĞ»ÑƒĞ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ½Ğ¾Ğ¼ĞµÑ€Ğ¾Ğ²",zd="ĞĞ°Ğ¿Ğ¸Ñ‚ĞºĞ¸ Ğ¸ Ğ±Ğ°Ñ€",Hd="Ğ£Ğ±Ğ¾Ñ€ĞºĞ° Ğ½Ğ¾Ğ¼ĞµÑ€Ğ°",Vd="Ğ£ÑĞ»ÑƒĞ³Ğ¸ Ğ¿Ñ€Ğ°Ñ‡ĞµÑ‡Ğ½Ğ¾Ğ¹",qd="Ğ£ÑĞ»ÑƒĞ³Ğ° Ğ±ÑƒĞ´Ğ¸Ğ»ÑŒĞ½Ğ¸ĞºĞ°",Gd="Ğ”Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ ÑƒĞ´Ğ¾Ğ±ÑÑ‚Ğ²Ğ°",Ud="Ğ—Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ½Ğ° Ñ‚ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¾Ğ±ÑĞ»ÑƒĞ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ",Wd="Ğ‘Ñ€Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ€ĞµÑÑ‚Ğ¾Ñ€Ğ°Ğ½Ğ°",Kd="Ğ¡ĞŸĞ ÑƒÑĞ»ÑƒĞ³Ğ¸",Xd="Ğ¤Ğ¸Ñ‚Ğ½ĞµÑ-Ñ†ĞµĞ½Ñ‚Ñ€",Yd="Ğ‘Ğ°ÑÑĞµĞ¹Ğ½",Qd="ĞÑ€ĞµĞ½Ğ´Ğ° Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ¾Ğ±Ğ¸Ğ»Ñ",Jd="ĞœĞµĞ´Ğ¸Ñ†Ğ¸Ğ½ÑĞºĞ°Ñ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒ",Zd="ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ²",eh="ĞœĞµÑÑ‚Ğ½Ñ‹Ğµ Ğ´Ğ¾ÑÑ‚Ğ¾Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸",th="ĞœĞµÑÑ‚Ğ½Ñ‹Ğµ Ñ€ĞµÑÑ‚Ğ¾Ñ€Ğ°Ğ½Ñ‹",sh="ĞĞ±Ñ‰ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğ¹ Ñ‚Ñ€Ğ°Ğ½ÑĞ¿Ğ¾Ñ€Ñ‚",nh="ĞœĞµÑÑ‚Ğ½Ñ‹Ğµ Ğ¼ĞµÑ€Ğ¾Ğ¿Ñ€Ğ¸ÑÑ‚Ğ¸Ñ",ah="Ğ¢Ğ¾Ñ€Ğ³Ğ¾Ğ²Ñ‹Ğµ Ğ·Ğ¾Ğ½Ñ‹",ih="ĞšĞ°Ñ€Ñ‚Ñ‹ Ğ¼ĞµÑÑ‚Ğ½Ğ¾ÑÑ‚Ğ¸",rh="Ğ£ÑĞ»ÑƒĞ³Ğ¸ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ°",oh="ĞÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¾Ñ‚Ğ·Ñ‹Ğ²",lh="Ğ¡Ğ¾Ğ¾Ğ±Ñ‰Ğ¸Ñ‚ÑŒ Ğ¾ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğµ",ch="Ğ£ÑĞ»ÑƒĞ³Ğ¸ Ğ±Ğ°Ğ³Ğ°Ğ¶Ğ°",dh="Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ Ğ²Ğ°Ñˆ Ğ¸Ñ‚Ğ¾Ğ³...",hh={welcome:Ic,start:Ac,language:Dc,english:Rc,french:Pc,russian:Ec,send:Lc,cancel:Mc,confirm_request:Fc,room:Oc,order_id:Bc,guest_name:zc,content:Hc,time:Vc,status:qc,action:Gc,message_guest:Uc,request_management:Wc,login:Kc,username:Xc,password:Yc,hotel_name:Qc,hotel_subtitle:Jc,press_to_call:Zc,room_and_stay:ed,room_services:td,bookings_and_facilities:sd,tourism_and_exploration:nd,support_external_services:ad,order_ref:id,requested_at:rd,estimated_completion:od,time_remaining:ld,mute:cd,unmute:dd,confirm:hd,need_conversation:md,tap_to_speak:ud,order_summary:xd,send_to_reception:gd,add_note:pd,room_number:fd,enter_room_number:jd,enter_notes:bd,summary:vd,generated_at:yd,order_confirmed:Nd,order_confirmed_message:wd,order_reference:_d,estimated_delivery_time:kd,return_to_home:Cd,press_to_call_desc:Sd,confirm_request_desc:$d,send_to_reception_desc:Td,status_acknowledged:Id,status_in_progress:Ad,status_delivering:Dd,status_completed:Rd,status_note:Pd,icon_login:Ed,icon_hourglass_empty:Ld,icon_info:Md,icon_policy:Fd,icon_wifi:Od,icon_restaurant:Bd,icon_local_bar:zd,icon_cleaning_services:Hd,icon_local_laundry_service:Vd,icon_alarm:qd,icon_add_circle:Gd,icon_build:Ud,icon_event_seat:Wd,icon_spa:Kd,icon_fitness_center:Xd,icon_pool:Yd,icon_directions_car:Qd,icon_medical_services:Jd,icon_support_agent:Zd,icon_location_on:eh,icon_local_dining:th,icon_directions_bus:sh,icon_event:nh,icon_shopping_bag:ah,icon_map:ih,icon_translate:rh,icon_rate_review:oh,icon_report_problem:lh,icon_luggage:ch,generating_your_summary:dh},mh="ë¯¸ë…„ í˜¸í…”ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤",uh="ì‹œì‘",xh="ì–¸ì–´",gh="ì˜ì–´",ph="í”„ë‘ìŠ¤ì–´",fh="ëŸ¬ì‹œì•„ì–´",jh="í•œêµ­ì–´",bh="ë³´ë‚´ê¸°",vh="ì·¨ì†Œ",yh="ìš”ì²­ í™•ì¸",Nh="ê°ì‹¤",wh="ì£¼ë¬¸ ID",_h="íˆ¬ìˆ™ê° ì´ë¦„",kh="ë‚´ìš©",Ch="ì‹œê°„",Sh="ìƒíƒœ",$h="ë™ì‘",Th="ê²ŒìŠ¤íŠ¸ì—ê²Œ ë©”ì‹œì§€ ë³´ë‚´ê¸°",Ih="ì§ì› ìš”ì²­ ê´€ë¦¬",Ah="ë¡œê·¸ì¸",Dh="ì‚¬ìš©ì ì´ë¦„",Rh="ë¹„ë°€ë²ˆí˜¸",Ph="ë¬´ì´ë„¤ í˜¸í…”",Eh="AI ì–´ì‹œìŠ¤í„´íŠ¸ - ëª¨ë“  í•„ìš”ë¥¼ ì§€ì›í•©ë‹ˆë‹¤",Lh="í˜¸ì¶œí•˜ë ¤ë©´ ëˆ„ë¥´ì„¸ìš”",Mh="ê°ì‹¤ ë° ìˆ™ë°•",Fh="ê°ì‹¤ ì„œë¹„ìŠ¤",Oh="ì˜ˆì•½ ë° ì‹œì„¤",Bh="ê´€ê´‘ ë° íƒí—˜",zh="ì™¸ë¶€ ì„œë¹„ìŠ¤ ì§€ì›",Hh="ì£¼ë¬¸ ì°¸ì¡°",Vh="ìš”ì²­ ì‹œê°„",qh="ì˜ˆìƒ ì™„ë£Œ ì‹œê°„",Gh="ë‚¨ì€ ì‹œê°„",Uh="ìŒì†Œê±°",Wh="ìŒì†Œê±° í•´ì œ",Kh="í™•ì¸",Xh="ë¨¼ì € ì–´ì‹œìŠ¤í„´íŠ¸ì™€ ëŒ€í™”í•´ ì£¼ì„¸ìš”.",Yh="ë§í•˜ë ¤ë©´ ëˆ„ë¥´ì„¸ìš”",Qh="ì£¼ë¬¸ ìš”ì•½",Jh="í”„ëŸ°íŠ¸ë¡œ ë³´ë‚´ê¸°",Zh="ë©”ëª¨ ì¶”ê°€",em="ê°ì‹¤ ë²ˆí˜¸",tm="ê°ì‹¤ ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”",sm="ì¶”ê°€ ë©”ëª¨ë¥¼ ì…ë ¥í•˜ì„¸ìš”",nm="ìš”ì•½",am="ìƒì„± ì‹œê°„",im="ì£¼ë¬¸ì´ í™•ì¸ë˜ì—ˆìŠµë‹ˆë‹¤!",rm="ê·€í•˜ì˜ ìš”ì²­ì´ í™•ì¸ë˜ì–´ ì§ì›ì—ê²Œ ì „ë‹¬ë˜ì—ˆìŠµë‹ˆë‹¤. ì¦‰ì‹œ ì²˜ë¦¬í•˜ê² ìŠµë‹ˆë‹¤.",om="ì£¼ë¬¸ ì°¸ì¡°",lm="ì˜ˆìƒ ë°°ë‹¬ ì‹œê°„:",cm="í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°",dm="ìš”ì²­ì„ ì‹œì‘í•˜ë ¤ë©´ í˜¸ì¶œ ë²„íŠ¼ì„ ëˆ„ë¥´ì„¸ìš”.",hm="ì •í™•ì„±ì„ ìœ„í•´ ìš”ì²­ì„ í™•ì¸í•˜ì„¸ìš”.",mm="ê·€í•˜ì˜ ìš”ì²­ì´ í”„ëŸ°íŠ¸ë¡œ ì „ì†¡ë˜ì–´ ì²˜ë¦¬ë©ë‹ˆë‹¤.",um="ì ‘ìˆ˜ë¨",xm="ì²˜ë¦¬ ì¤‘",gm="ë°°ë‹¬ ì¤‘",pm="ì™„ë£Œë¨",fm="íŠ¹ë³„ ì•ˆë‚´",jm="ì²´í¬ì¸/ì²´í¬ì•„ì›ƒ",bm="ìˆ™ë°• ì—°ì¥ ìš”ì²­",vm="ê°ì‹¤ ì •ë³´",ym="í˜¸í…” ì •ì±…",Nm="ì™€ì´íŒŒì´ ì„œë¹„ìŠ¤",wm="ë£¸ì„œë¹„ìŠ¤ ìŒì‹",_m="ìŒë£Œ ë° ë°” ì„œë¹„ìŠ¤",km="ê°ì‹¤ ì²­ì†Œ",Cm="ì„¸íƒ ì„œë¹„ìŠ¤",Sm="ëª¨ë‹ì½œ ì„œë¹„ìŠ¤",$m="ì¶”ê°€ í¸ì˜ ì‹œì„¤",Tm="ìœ ì§€ë³´ìˆ˜ ìš”ì²­",Im="ë ˆìŠ¤í† ë‘ ì˜ˆì•½",Am="ìŠ¤íŒŒ ì„œë¹„ìŠ¤",Dm="í”¼íŠ¸ë‹ˆìŠ¤ ì„¼í„°",Rm="ìˆ˜ì˜ì¥",Pm="ë Œí„°ì¹´",Em="ì˜ë£Œ ì§€ì›",Lm="ê³ ê° ì§€ì›",Mm="ì§€ì—­ ëª…ì†Œ",Fm="ì§€ì—­ ë ˆìŠ¤í† ë‘",Om="ëŒ€ì¤‘êµí†µ",Bm="ì§€ì—­ ì´ë²¤íŠ¸",zm="ì‡¼í•‘ ì§€ì—­",Hm="ì§€ì—­ ì§€ë„",Vm="ë²ˆì—­ ì„œë¹„ìŠ¤",qm="ë¦¬ë·° ë‚¨ê¸°ê¸°",Gm="ë¬¸ì œ ì‹ ê³ ",Um="ìˆ˜í™”ë¬¼ ì„œë¹„ìŠ¤",Wm="ìš”ì•½ì„ ìƒì„±í•˜ëŠ” ì¤‘...",Km={welcome:mh,start:uh,language:xh,english:gh,french:ph,russian:fh,korean:jh,send:bh,cancel:vh,confirm_request:yh,room:Nh,order_id:wh,guest_name:_h,content:kh,time:Ch,status:Sh,action:$h,message_guest:Th,request_management:Ih,login:Ah,username:Dh,password:Rh,hotel_name:Ph,hotel_subtitle:Eh,press_to_call:Lh,room_and_stay:Mh,room_services:Fh,bookings_and_facilities:Oh,tourism_and_exploration:Bh,support_external_services:zh,order_ref:Hh,requested_at:Vh,estimated_completion:qh,time_remaining:Gh,mute:Uh,unmute:Wh,confirm:Kh,need_conversation:Xh,tap_to_speak:Yh,order_summary:Qh,send_to_reception:Jh,add_note:Zh,room_number:em,enter_room_number:tm,enter_notes:sm,summary:nm,generated_at:am,order_confirmed:im,order_confirmed_message:rm,order_reference:om,estimated_delivery_time:lm,return_to_home:cm,press_to_call_desc:dm,confirm_request_desc:hm,send_to_reception_desc:mm,status_acknowledged:um,status_in_progress:xm,status_delivering:gm,status_completed:pm,status_note:fm,icon_login:jm,icon_hourglass_empty:bm,icon_info:vm,icon_policy:ym,icon_wifi:Nm,icon_restaurant:wm,icon_local_bar:_m,icon_cleaning_services:km,icon_local_laundry_service:Cm,icon_alarm:Sm,icon_add_circle:$m,icon_build:Tm,icon_event_seat:Im,icon_spa:Am,icon_fitness_center:Dm,icon_pool:Rm,icon_directions_car:Pm,icon_medical_services:Em,icon_support_agent:Lm,icon_location_on:Mm,icon_local_dining:Fm,icon_directions_bus:Om,icon_event:Bm,icon_shopping_bag:zm,icon_map:Hm,icon_translate:Vm,icon_rate_review:qm,icon_report_problem:Gm,icon_luggage:Um,generating_your_summary:Wm},Xm="KhÃ¡ch sáº¡n Mui Ne",Ym="Trá»£ lÃ½ giá»ng nÃ³i AI - Há»— trá»£ má»i nhu cáº§u cá»§a báº¡n",Qm="Nháº¥n Ä‘á»ƒ nÃ³i",Jm="PhÃ²ng & LÆ°u trÃº",Zm="Dá»‹ch vá»¥ phÃ²ng",eu="Äáº·t chá»— & Tiá»‡n Ã­ch",tu="Du lá»‹ch & KhÃ¡m phÃ¡",su="Há»— trá»£ Ä‘áº·t dá»‹ch vá»¥ bÃªn ngoÃ i",nu="MÃ£ Ä‘Æ¡n",au="Thá»i gian yÃªu cáº§u",iu="Dá»± kiáº¿n hoÃ n thÃ nh",ru="Thá»i gian cÃ²n láº¡i",ou="Táº¯t mic",lu="Báº­t mic",cu="XÃ¡c nháº­n",du="Vui lÃ²ng nÃ³i chuyá»‡n vá»›i trá»£ lÃ½ trÆ°á»›c.",hu="Cháº¡m Ä‘á»ƒ nÃ³i",mu="TÃ³m táº¯t Ä‘Æ¡n hÃ ng",uu="XÃ¡c nháº­n",xu="ThÃªm ghi chÃº",gu="Sá»‘ phÃ²ng",pu="Nháº­p sá»‘ phÃ²ng",fu="Nháº­p ghi chÃº bá»• sung",ju="TÃ³m táº¯t",bu="Táº¡o lÃºc",vu="ÄÃ£ xÃ¡c nháº­n Ä‘Æ¡n!",yu="YÃªu cáº§u cá»§a báº¡n Ä‘Ã£ Ä‘Æ°á»£c xÃ¡c nháº­n vÃ  chuyá»ƒn Ä‘áº¿n nhÃ¢n viÃªn. ChÃºng tÃ´i sáº½ xá»­ lÃ½ ngay láº­p tá»©c.",Nu="MÃ£ tham chiáº¿u",wu="Thá»i gian giao dá»± kiáº¿n:",_u="Vá» trang chá»§",ku="NgÃ´n ngá»¯",Cu="Tiáº¿ng Anh",Su="Tiáº¿ng PhÃ¡p",$u="Gá»­i",Tu="Há»§y",Iu="Káº¿t thÃºc cuá»™c gá»i",Au="PhÃ²ng",Du="MÃ£ Ä‘Æ¡n",Ru="TÃªn khÃ¡ch",Pu="Ná»™i dung",Eu="Thá»i gian",Lu="Tráº¡ng thÃ¡i",Mu="HÃ nh Ä‘á»™ng",Fu="Nháº¯n khÃ¡ch",Ou="Quáº£n lÃ½ yÃªu cáº§u nhÃ¢n viÃªn",Bu="ÄÄƒng nháº­p",zu="TÃªn Ä‘Äƒng nháº­p",Hu="Máº­t kháº©u",Vu="Nháº¥n nÃºt gá»i Ä‘á»ƒ báº¯t Ä‘áº§u yÃªu cáº§u cá»§a báº¡n.",qu="Xem láº¡i vÃ  xÃ¡c nháº­n yÃªu cáº§u cá»§a báº¡n.",Gu="YÃªu cáº§u cá»§a báº¡n sáº½ Ä‘Æ°á»£c gá»­i Ä‘áº¿n lá»… tÃ¢n Ä‘á»ƒ xá»­ lÃ½.",Uu="ÄÃ£ ghi nháº­n",Wu="Äang xá»­ lÃ½",Ku="Äang giao cho báº¡n",Xu="ÄÃ£ hoÃ n thÃ nh",Yu="LÆ°u Ã½ Ä‘áº·c biá»‡t",Qu="Nháº­n/Tráº£ phÃ²ng",Ju="YÃªu cáº§u gia háº¡n lÆ°u trÃº",Zu="ThÃ´ng tin phÃ²ng",ex="ChÃ­nh sÃ¡ch khÃ¡ch sáº¡n",tx="Dá»‹ch vá»¥ Wi-Fi",sx="Äá»“ Äƒn táº¡i phÃ²ng",nx="Dá»‹ch vá»¥ Ä‘á»“ uá»‘ng & quáº§y bar",ax="Dá»n phÃ²ng",ix="Giáº·t lÃ ",rx="BÃ¡o thá»©c",ox="Tiá»‡n Ã­ch bá»• sung",lx="YÃªu cáº§u báº£o trÃ¬",cx="Äáº·t chá»— nhÃ  hÃ ng",dx="Dá»‹ch vá»¥ Spa",hx="Trung tÃ¢m thá»ƒ hÃ¬nh",mx="Há»“ bÆ¡i",ux="ThuÃª xe",xx="Há»— trá»£ y táº¿",gx="ChÄƒm sÃ³c khÃ¡ch hÃ ng",px="Äiá»ƒm tham quan",fx="NhÃ  hÃ ng Ä‘á»‹a phÆ°Æ¡ng",jx="PhÆ°Æ¡ng tiá»‡n cÃ´ng cá»™ng",bx="Sá»± kiá»‡n Ä‘á»‹a phÆ°Æ¡ng",vx="Khu mua sáº¯m",yx="Báº£n Ä‘á»“ khu vá»±c",Nx="Dá»‹ch vá»¥ phiÃªn dá»‹ch",wx="ÄÃ¡nh giÃ¡",_x="BÃ¡o sá»± cá»‘",kx="Dá»‹ch vá»¥ hÃ nh lÃ½",Cx="Äang táº¡o tÃ³m táº¯t cá»§a báº¡n...",Sx="NÃ³i Nhiá»u NgÃ´n Ngá»¯ vá»›i Trá»£ LÃ½ AI cá»§a ChÃºng TÃ´i",$x={hotel_name:Xm,hotel_subtitle:Ym,press_to_call:Qm,room_and_stay:Jm,room_services:Zm,bookings_and_facilities:eu,tourism_and_exploration:tu,support_external_services:su,order_ref:nu,requested_at:au,estimated_completion:iu,time_remaining:ru,mute:ou,unmute:lu,confirm:cu,need_conversation:du,tap_to_speak:hu,order_summary:mu,send_to_reception:uu,add_note:xu,room_number:gu,enter_room_number:pu,enter_notes:fu,summary:ju,generated_at:bu,order_confirmed:vu,order_confirmed_message:yu,order_reference:Nu,estimated_delivery_time:wu,return_to_home:_u,language:ku,english:Cu,french:Su,send:$u,cancel:Tu,confirm_request:Iu,room:Au,order_id:Du,guest_name:Ru,content:Pu,time:Eu,status:Lu,action:Mu,message_guest:Fu,request_management:Ou,login:Bu,username:zu,password:Hu,press_to_call_desc:Vu,confirm_request_desc:qu,send_to_reception_desc:Gu,status_acknowledged:Uu,status_in_progress:Wu,status_delivering:Ku,status_completed:Xu,status_note:Yu,icon_login:Qu,icon_hourglass_empty:Ju,icon_info:Zu,icon_policy:ex,icon_wifi:tx,icon_restaurant:sx,icon_local_bar:nx,icon_cleaning_services:ax,icon_local_laundry_service:ix,icon_alarm:rx,icon_add_circle:ox,icon_build:lx,icon_event_seat:cx,icon_spa:dx,icon_fitness_center:hx,icon_pool:mx,icon_directions_car:ux,icon_medical_services:xx,icon_support_agent:gx,icon_location_on:px,icon_local_dining:fx,icon_directions_bus:jx,icon_event:bx,icon_shopping_bag:vx,icon_map:yx,icon_translate:Nx,icon_rate_review:wx,icon_report_problem:_x,icon_luggage:kx,generating_your_summary:Cx,speak_multiple_languages:Sx},Tx={en:hr,fr:Ko,zh:Tc,ru:hh,ko:Km,vi:$x};function w(t,s="en"){return Tx[s][t]||t}class Ix{constructor(s){this.gradientRotation=0,this.isHovered=!1,this.isActive=!1,this.waveformPhase=0,this.particles=[],this.mouseX=0,this.mouseY=0,this.isDarkMode=!1,this.elapsedTime=0,this.displayedTime=0,this.timeTarget=60,this.idleFrame=0,this.lastActiveTime=Date.now(),this.idleFlash=0,this.canvas=document.createElement("canvas");const n=document.getElementById(s);if(!n)throw new Error("Container element not found");n.appendChild(this.canvas);const a=this.canvas.getContext("2d");if(!a)throw new Error("Could not get canvas context");this.ctx=a,this.width=200,this.height=200,this.centerX=this.width/2,this.centerY=this.height/2,this.radius=40,this.ripples=[],this.isListening=!1,this.pulsePhase=0,this.volumeLevel=0,this.animationFrameId=0,this.resize(),this.animate(),window.addEventListener("resize",this.resize.bind(this)),n&&(n.addEventListener("mouseenter",()=>{this.isHovered=!0,this.lastActiveTime=Date.now()}),n.addEventListener("mouseleave",()=>{this.isHovered=!1,this.isActive=!1}),n.addEventListener("mousedown",()=>{this.isActive=!0,this.lastActiveTime=Date.now()}),n.addEventListener("mouseup",()=>{this.isActive=!1}),n.addEventListener("mousemove",o=>{const i=n.getBoundingClientRect();this.mouseX=o.clientX-i.left,this.mouseY=o.clientY-i.top,this.lastActiveTime=Date.now()})),this.isDarkMode=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",o=>{this.isDarkMode=o.matches})}resize(){const s=this.canvas.parentElement;if(!s)return;const n=window.devicePixelRatio||1,a=Math.min(s.clientWidth,s.clientHeight);this.width=this.height=a,this.canvas.width=this.canvas.height=a*n,this.canvas.style.width=this.canvas.style.height=`${a}px`,this.canvas.style.borderRadius="50%",this.canvas.style.overflow="hidden",this.ctx.setTransform(1,0,0,1,0,0),this.ctx.scale(n,n),this.centerX=this.width/2,this.centerY=this.height/2}drawTexturePattern(){const s="rgba(232,181,84,0.18)";for(let a=-this.radius;a<this.radius;a+=14)for(let o=-this.radius;o<this.radius;o+=14)a*a+o*o<this.radius*this.radius*.85&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.centerX+a,this.centerY+o,1.2,0,Math.PI*2),this.ctx.fillStyle=s,this.ctx.fill(),this.ctx.restore())}drawLightBeam(){if(!(this.isHovered||this.isActive))return;this.ctx.save();const s=this.ctx.createLinearGradient(this.centerX,this.centerY-this.radius*1.3,this.centerX,this.centerY+this.radius*.5);s.addColorStop(0,"rgba(255,255,255,0.22)"),s.addColorStop(.5,"rgba(255,255,255,0.08)"),s.addColorStop(1,"rgba(255,255,255,0)"),this.ctx.beginPath(),this.ctx.ellipse(this.centerX,this.centerY-this.radius*.7,this.radius*.7,this.radius*.22,0,0,2*Math.PI),this.ctx.fillStyle=s,this.ctx.filter="blur(2.5px)",this.ctx.fill(),this.ctx.filter="none",this.ctx.restore()}drawBaseCircle(){let s=0,n=0;this.isHovered&&(s=(this.mouseX-this.centerX)*.07,n=(this.mouseY-this.centerY)*.07),this.gradientRotation+=.0025;const a=this.gradientRotation%(2*Math.PI),o=this.centerX+Math.cos(a)*this.radius*1.2,i=this.centerY+Math.sin(a)*this.radius*1.2,c=this.ctx.createLinearGradient(this.centerX-this.radius*1.2+s,this.centerY-this.radius*1.2+n,o+s,i+n);c.addColorStop(0,this.isDarkMode?"#559A9A":"#5DB6B9"),c.addColorStop(1,this.isDarkMode?"#559A9A":"#5DB6B9"),this.ctx.save(),this.ctx.globalAlpha=.85,this.ctx.beginPath(),this.ctx.arc(this.centerX+s,this.centerY+n,this.radius*1.25,0,Math.PI*2),this.ctx.strokeStyle=c,this.ctx.lineWidth=12,this.ctx.shadowColor=(this.isHovered,"#559A9A"),this.ctx.shadowBlur=this.isHovered?32:16,this.ctx.stroke(),this.ctx.restore(),this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.centerX+s,this.centerY+n,this.radius*1.13,0,Math.PI*2),this.ctx.fillStyle=this.isDarkMode?"rgba(40,50,80,0.18)":"rgba(255,255,255,0.10)",this.ctx.filter="blur(2.5px)",this.ctx.fill(),this.ctx.filter="none",this.ctx.restore(),this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.centerX+s,this.centerY+n,this.radius*.98,0,Math.PI*2),this.ctx.fillStyle=this.isDarkMode?"#bfa133":"#E8B554",this.ctx.shadowColor=this.isDarkMode?"rgba(85,154,154,0.18)":"rgba(85,154,154,0.25)",this.ctx.shadowBlur=10,this.ctx.fill(),this.ctx.restore(),this.drawTexturePattern(),this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.centerX+s,this.centerY+n,this.radius*.98,0,Math.PI*2),this.ctx.shadowColor=this.isDarkMode?"rgba(85,154,154,0.10)":"rgba(85,154,154,0.18)",this.ctx.shadowBlur=24,this.ctx.globalAlpha=.7,this.ctx.strokeStyle="rgba(0,0,0,0)",this.ctx.lineWidth=8,this.ctx.stroke(),this.ctx.restore(),this.drawLightBeam(),this.drawMicIcon(s,n)}drawMicIcon(s=0,n=0){let a=.85+.15*Math.sin(this.pulsePhase*1.5);this.isHovered&&(a*=1.08),this.isActive&&(a*=.95),this.ctx.save(),this.ctx.translate(this.centerX+s,this.centerY+n),this.ctx.scale(a,a),this.ctx.shadowColor=this.isHovered?"rgba(255,255,255,0.95)":"rgba(255,255,255,0.7)",this.ctx.shadowBlur=16+8*a+(this.isHovered?8:0),this.ctx.beginPath(),this.ctx.moveTo(0,18),this.ctx.arc(0,0,18,Math.PI*.15,Math.PI*1.85,!1),this.ctx.lineTo(0,18),this.ctx.closePath(),this.ctx.fillStyle="rgba(255,255,255,0.92)",this.ctx.fill(),this.ctx.beginPath(),this.ctx.moveTo(-4,18),this.ctx.lineTo(-4,28),this.ctx.lineTo(4,28),this.ctx.lineTo(4,18),this.ctx.closePath(),this.ctx.fillStyle="rgba(255,255,255,0.92)",this.ctx.fill(),this.ctx.beginPath(),this.ctx.arc(0,28,6,0,Math.PI,!0),this.ctx.fillStyle="rgba(255,255,255,0.7)",this.ctx.fill(),this.ctx.restore()}drawRipples(){for(let s=this.ripples.length-1;s>=0;s--){const n=this.ripples[s];if(n.radius+=n.speed,n.alpha-=.01,n.alpha<=0){this.ripples.splice(s,1);continue}this.ctx.beginPath(),this.ctx.arc(this.centerX,this.centerY,n.radius,0,Math.PI*2),this.ctx.strokeStyle=`rgba(85,154,154, ${n.alpha})`,this.ctx.lineWidth=2,this.ctx.stroke()}}drawPulsingRing(){if(this.isListening){const s=this.radius+10+Math.sin(this.pulsePhase)*5,n=this.volumeLevel*20;this.ctx.beginPath(),this.ctx.arc(this.centerX,this.centerY,s+n,0,Math.PI*2),this.ctx.strokeStyle="rgba(33, 150, 243, 0.5)",this.ctx.lineWidth=3,this.ctx.stroke(),this.pulsePhase+=.1}}drawWaveform(){if(!this.isListening)return;const s=4;this.waveformPhase+=.08+this.volumeLevel*.12;for(let n=1;n<=s;n++){const a=this.radius*.98+n*10+Math.sin(this.waveformPhase+n)*3*(1+this.volumeLevel);this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.centerX,this.centerY,a,0,Math.PI*2),this.ctx.strokeStyle=`rgba(232,181,84,${.18+.08*(s-n)})`,this.ctx.lineWidth=2+this.volumeLevel*2,this.ctx.shadowColor="rgba(85,154,154,0.22)",this.ctx.shadowBlur=8,this.ctx.stroke(),this.ctx.restore()}}drawParticles(){if(this.isListening&&Math.random()<.18){const s=Math.random()*2*Math.PI,n=this.radius*1.18+Math.random()*16;this.particles.push({x:this.centerX+Math.cos(s)*n,y:this.centerY+Math.sin(s)*n,alpha:.7+Math.random()*.3,size:2+Math.random()*2,speed:.5+Math.random()*.7})}for(let s=this.particles.length-1;s>=0;s--){const n=this.particles[s];if(n.alpha-=.012,n.size*=.98,n.y-=n.speed*.5,n.x+=Math.sin(n.y*.1)*.2,n.alpha<=.05||n.size<.5){this.particles.splice(s,1);continue}this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.x,n.y,n.size,0,Math.PI*2),this.ctx.fillStyle=`rgba(232,181,84,${n.alpha})`,this.ctx.shadowColor="rgba(85,154,154,0.22)",this.ctx.shadowBlur=6,this.ctx.fill(),this.ctx.restore()}}drawTimeRing(){const s=Math.min(1,this.elapsedTime/this.timeTarget),n=s<.5?"#E8B554":s<1?"#d4af37":"#e53935";this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(this.centerX,this.centerY,this.radius*1.32,-Math.PI/2,-Math.PI/2+s*2*Math.PI),this.ctx.strokeStyle=n,this.ctx.lineWidth=4,this.ctx.shadowColor=n,this.ctx.shadowBlur=s>.95?16:6,this.ctx.globalAlpha=.85,this.ctx.stroke(),this.ctx.restore()}drawTimeText(){this.displayedTime+=(this.elapsedTime-this.displayedTime)*.18;const s=Math.round(this.displayedTime),n=Math.floor(s/60).toString().padStart(2,"0"),a=(s%60).toString().padStart(2,"0"),o=`${n}:${a}`;this.ctx.save(),this.ctx.font="600 1.25rem Montserrat, Raleway, Arial, sans-serif",this.ctx.textAlign="center",this.ctx.textBaseline="top",this.ctx.shadowColor="rgba(85,154,154,0.22)",this.ctx.shadowBlur=8,this.ctx.fillStyle="#fff",this.isDarkMode&&(this.ctx.fillStyle="#e8e8e8"),this.ctx.globalAlpha=.95,this.ctx.fillText(o,this.centerX,this.centerY+this.radius*1.45),this.ctx.restore()}drawIdleFlash(){if(Date.now()-this.lastActiveTime>6e3){this.idleFlash+=.08;const n=.7+.3*Math.abs(Math.sin(this.idleFlash*1.2));this.ctx.save(),this.ctx.globalAlpha=.18*n,this.ctx.beginPath(),this.ctx.arc(this.centerX,this.centerY,this.radius*1.18,0,Math.PI*2),this.ctx.fillStyle="#E8B554",this.ctx.filter="blur(2.5px)",this.ctx.fill(),this.ctx.filter="none",this.ctx.restore()}else this.idleFlash=0}drawVolumeVisualization(){if(!this.isListening)return;const s=16,n=this.radius*1.08;for(let a=0;a<s;a++){const o=2*Math.PI*a/s,i=8+Math.sin(this.waveformPhase+a)*4+this.volumeLevel*18,c=this.centerX+Math.cos(o)*n,l=this.centerY+Math.sin(o)*n,h=this.centerX+Math.cos(o)*(n+i),d=this.centerY+Math.sin(o)*(n+i);this.ctx.save(),this.ctx.strokeStyle=`rgba(232,181,84,${.18+.18*this.volumeLevel})`,this.ctx.lineWidth=2.2,this.ctx.beginPath(),this.ctx.moveTo(c,l),this.ctx.lineTo(h,d),this.ctx.shadowColor="rgba(85,154,154,0.22)",this.ctx.shadowBlur=6,this.ctx.stroke(),this.ctx.restore()}}animate(){const s=Math.min(this.width,this.height)<340;this.radius=s?Math.max(32,Math.min(this.width,this.height)/2.8):Math.max(36,Math.min(this.width,this.height)/5.2),this.ctx.clearRect(0,0,this.width,this.height),this.drawBaseCircle(),this.drawWaveform(),this.drawParticles(),this.drawRipples(),this.drawPulsingRing(),this.drawTimeRing(),this.drawTimeText(),this.drawIdleFlash(),this.drawVolumeVisualization(),this.isListening&&Math.random()<(s?.05:.1)&&this.ripples.push({radius:this.radius,alpha:.4,speed:1+this.volumeLevel*2}),this.animationFrameId=requestAnimationFrame(this.animate.bind(this))}setListening(s){this.isListening=s,s&&(this.ripples=[])}setVolumeLevel(s){this.volumeLevel=Math.max(0,Math.min(1,s))}setTime(s,n=60){this.elapsedTime=s,this.timeTarget=n}getTime(){return this.elapsedTime}cleanup(){window.removeEventListener("resize",this.resize),this.animationFrameId&&cancelAnimationFrame(this.animationFrameId),this.canvas.remove()}}const Us=({isListening:t,volumeLevel:s,containerId:n,onCallStart:a,onCallEnd:o})=>{const i=r.useRef(null),c=r.useRef(null);return r.useEffect(()=>{console.log("[SiriCallButton] Initializing with containerId:",n),i.current=new Ix(n);const l=async d=>{if(console.log("[SiriCallButton] Click detected! isListening:",t),d.preventDefault(),d.stopPropagation(),!t&&a){console.log("[SiriCallButton] Calling onCallStart");try{await a()}catch(u){console.error("[SiriCallButton] Error in onCallStart:",u)}}else t&&o&&(console.log("[SiriCallButton] Calling onCallEnd"),o())};c.current=l;const h=document.getElementById(n);if(h){console.log("[SiriCallButton] Adding click listener to element:",h),h.addEventListener("click",l);const d=h.querySelector("canvas");d&&(console.log("[SiriCallButton] Adding click listener to canvas"),d.addEventListener("click",l))}else console.error("[SiriCallButton] Container element not found:",n);return()=>{console.log("[SiriCallButton] Cleaning up"),i.current&&(i.current.cleanup(),i.current=null);const d=document.getElementById(n);if(d&&c.current){d.removeEventListener("click",c.current);const u=d.querySelector("canvas");u&&u.removeEventListener("click",c.current)}c.current=null}},[n]),r.useEffect(()=>{console.log("[SiriCallButton] Callbacks updated - isListening:",t)},[t,a,o]),r.useEffect(()=>{i.current&&i.current.setListening(t)},[t]),r.useEffect(()=>{i.current&&i.current.setVolumeLevel(s)},[s]),e.jsx("div",{id:n,className:"w-[220px] h-[220px] relative rounded-full overflow-visible",style:{cursor:"pointer",borderRadius:"50%"},onClick:l=>{console.log("[SiriCallButton] Div click detected!"),!t&&a?(console.log("[SiriCallButton] Fallback - calling onCallStart"),a()):t&&o&&(console.log("[SiriCallButton] Fallback - calling onCallEnd"),o())}})},Ax=({isOpen:t,onClose:s,isRight:n})=>{const{transcripts:a,modelOutput:o,language:i}=Ce(),c=r.useRef(null),l=r.useRef({}),[h,d]=r.useState({}),[u,p]=r.useState([]),f=()=>{Object.values(l.current).forEach(v=>{cancelAnimationFrame(v)}),l.current={}};return r.useEffect(()=>{const v=[...a].sort((g,N)=>g.timestamp.getTime()-N.timestamp.getTime()),x=[];let y=null;v.forEach(g=>{g.role==="user"?(y={id:g.id.toString(),role:"user",timestamp:g.timestamp,messages:[{id:g.id.toString(),content:g.content,timestamp:g.timestamp}]},x.push(y)):((!y||y.role==="user")&&(y={id:g.id.toString(),role:"assistant",timestamp:g.timestamp,messages:[]},x.push(y)),y.messages.push({id:g.id.toString(),content:g.content,timestamp:g.timestamp}))}),p(x)},[a]),r.useEffect(()=>(u.filter(x=>x.role==="assistant").flatMap(x=>x.messages).forEach(x=>{if(h[x.id]===x.content.length)return;let y=h[x.id]||0;const g=x.content,N=()=>{y<g.length?(d(T=>({...T,[x.id]:y+1})),y++,l.current[x.id]=requestAnimationFrame(N)):delete l.current[x.id]};l.current[x.id]=requestAnimationFrame(N)}),()=>f()),[u]),r.useEffect(()=>{c.current&&(c.current.scrollTop=c.current.scrollHeight)},[u]),t?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`relative z-30 overflow-hidden rounded-2xl shadow-2xl realtime-popup ${n?"popup-right":""}`,style:{width:"90vw",maxWidth:360,height:"70vh",maxHeight:440,background:"rgba(255,255,255,0.12)",backdropFilter:"blur(18px)",WebkitBackdropFilter:"blur(18px)",border:"1.5px solid rgba(255,255,255,0.25)",boxShadow:n?"0 8px 32px rgba(0,0,0,0.18), 8px 0 24px rgba(0,0,0,0.10)":"0 8px 32px rgba(0,0,0,0.18)",borderTopLeftRadius:24,borderBottomLeftRadius:24,borderTopRightRadius:24,borderBottomRightRadius:24},children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200/40 bg-white/10",style:{backdropFilter:"blur(4px)"},children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Conversation"}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(at,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{ref:c,className:"p-4 h-[calc(100%-4rem)] overflow-y-auto",children:[u.length===0&&e.jsx("div",{className:"text-gray-400 text-base text-center select-none",style:{opacity:.7},children:w("tap_to_speak",i)}),u.map((v,x)=>e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0",style:{background:v.role==="user"?"#3B82F6":"#10B981"},children:e.jsx("span",{className:"text-white text-sm",children:v.role==="user"?"U":"A"})}),e.jsxs("div",{className:"flex-1",children:[v.role==="user"?e.jsx("div",{className:"bg-gray-100 rounded-lg p-3",children:e.jsx("p",{className:"text-gray-800",children:v.messages[0].content})}):e.jsx("div",{className:"bg-green-50 rounded-lg p-3",children:e.jsxs("p",{className:"text-base md:text-lg font-medium",style:{position:"relative",background:"linear-gradient(90deg, #FF512F, #F09819, #FFD700, #56ab2f, #43cea2, #1e90ff, #6a11cb, #FF512F)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:600,letterSpacing:.2,transition:"background 0.5s"},children:[e.jsx("span",{className:"inline-flex flex-wrap",children:v.messages.map((y,g)=>{const N=y.content.slice(0,h[y.id]||0);return e.jsxs("span",{style:{whiteSpace:"pre"},children:[N,g===v.messages.length-1&&x===0&&h[y.id]<y.content.length&&e.jsx("span",{className:"animate-blink text-yellow-500",style:{marginLeft:1},children:"|"})]},y.id)})}),x===0&&v.role==="assistant"&&h[v.messages[v.messages.length-1].id]===v.messages[v.messages.length-1].content.length&&e.jsx("span",{className:"ml-2 animate-ellipsis text-yellow-500",children:"..."})]})}),e.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:v.timestamp.toLocaleTimeString()})]})]})},v.id))]})]}),e.jsx("style",{children:`
        @media (min-width: 640px) {
          .realtime-popup {
            width: 340px !important;
            height: 420px !important;
            max-width: 340px !important;
            max-height: 420px !important;
          }
          .popup-right {
            /* CÃ³ thá»ƒ thÃªm hiá»‡u á»©ng Ä‘á»‘i xá»©ng náº¿u muá»‘n */
          }
        }
      `})]}):null},Ws=({isActive:t=!0})=>{var H,C,D,V;const{setCurrentInterface:s,setTranscripts:n,setModelOutput:a,setCallDetails:o,setCallDuration:i,setEmailSentForCurrentSession:c,language:l,setLanguage:h}=Ce(),{config:d,isLoading:u,error:p}=He(),[f,v]=r.useState(!1),[x,y]=r.useState(0),[g,N]=r.useState(0),[T,ee]=r.useState(!1),[B,X]=r.useState(null),[he,J]=r.useState(!1),[ce,ne]=r.useState(!1),re=r.useMemo(()=>new Date,[]),te=r.useCallback(async _=>{if(console.log("ğŸš€ [Interface1] ===== HANDLE CALL START ====="),console.log("[Interface1] handleCall called with language:",_),!d){console.error("âŒ [Interface1] Hotel configuration not loaded");return}console.log("âœ… [Interface1] Hotel config loaded:",d.hotelName),console.log("[Interface1] Starting call with language:",_),console.log("[Interface1] Hotel config:",d),c(!1),o({id:`call-${Date.now()}`,roomNumber:"",duration:"",category:"",language:"en"}),n([]),a([]),i(0);const j=Hs(_,d),b=Vs(_,d);if(console.log("[Interface1] Vapi configuration:",{publicKey:j,assistantId:b,lang:_}),!j||!b){console.error("[Interface1] Vapi configuration not available for language:",_),alert(`Vapi configuration not available for language: ${_}`);return}try{console.log("ğŸ”§ [Interface1] Initializing Vapi with public key:",j),h(_),console.log("ğŸ”§ [Interface1] Language set to:",_);const $=await Fs(j);console.log("ğŸ”§ [Interface1] initVapi returned:",!!$),$&&b?(console.log("ğŸ”§ [Interface1] Starting Vapi call with assistant ID:",b),J(!0),ne(!0),await $.start(b),console.log("[Interface1] Vapi call started successfully"),console.log('[Interface1] DEBUG: About to call setCurrentInterface("interface2")'),s("interface2"),console.log('[Interface1] DEBUG: setCurrentInterface("interface2") completed')):(console.error("[Interface1] Failed to get Vapi instance or assistant ID"),J(!1),ne(!1))}catch($){console.error("[Interface1] Error starting Vapi call:",$),J(!1),ne(!1);const E=$ instanceof Error?$.message:String($);alert(`Error starting call: ${E}`)}},[d,c,o,n,a,i,h,s]),W=r.useCallback(_=>{X(B===_?null:_),B!==_&&setTimeout(()=>{X(j=>j===_?null:j)},3e3)},[B]);return r.useEffect(()=>{let _=null;return t&&(console.log("Interface1 is active, starting local timer"),N(0),_=setInterval(()=>{N(j=>j+1)},1e3)),()=>{_&&(console.log("Cleaning up local timer in Interface1"),clearInterval(_))}},[t]),u||!d?e.jsx("div",{className:"absolute w-full min-h-screen h-full flex items-center justify-center z-10 bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Loading hotel configuration..."})]})}):p?e.jsx("div",{className:"absolute w-full min-h-screen h-full flex items-center justify-center z-10 bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-500 text-lg mb-4",children:"Failed to load hotel configuration"}),e.jsx("p",{className:"text-gray-600",children:p})]})}):e.jsxs("div",{className:`absolute w-full h-full transition-opacity duration-300 ${t?"opacity-100 z-10":"opacity-0 -z-10"}`,style:{backgroundColor:t?"rgba(0,255,0,0.1)":"rgba(255,0,0,0.1)",border:t?"3px solid green":"3px solid red"},children:[e.jsxs("div",{className:"absolute top-20 left-4 bg-black/80 text-white p-2 rounded text-xs z-50",children:[e.jsxs("div",{children:["Interface1 isActive: ",t?"TRUE":"FALSE"]}),e.jsxs("div",{children:["Timestamp: ",new Date().toLocaleTimeString()]})]}),e.jsxs("div",{className:"relative w-full h-full overflow-hidden",style:{backgroundImage:`linear-gradient(${((C=(H=d==null?void 0:d.branding)==null?void 0:H.colors)==null?void 0:C.primary)||"#1e40af"}CC, ${((V=(D=d==null?void 0:d.branding)==null?void 0:D.colors)==null?void 0:V.secondary)||"#d4af37"}99), url(${Gs})`,backgroundSize:"cover",backgroundPosition:"center",fontFamily:d.branding.fonts.primary+", SF Pro Text, Roboto, Open Sans, Arial, sans-serif"},children:[e.jsx("div",{className:"absolute top-4 left-4 right-4 flex justify-between items-center text-white z-20",children:e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-lg font-semibold",children:re.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})}),e.jsx("div",{className:"text-sm opacity-90",children:re.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})]})}),e.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-4",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-4",style:{textShadow:"2px 2px 4px rgba(0,0,0,0.5)"},children:w("speak_multiple_languages",l)}),e.jsx("p",{className:"text-xl text-white/90 mb-8",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.5)"},children:w("tap_to_speak",l)})]}),e.jsxs("div",{className:"mb-12",children:[e.jsx(Us,{containerId:"main-siri-button",isListening:he,volumeLevel:x,onCallStart:()=>te(l),onCallEnd:()=>{J(!1),ne(!1)}}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsxs("button",{onClick:()=>{console.log("[Interface1] Test button clicked!"),te(l)},className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 mr-2",children:["Test Call (",l,")"]}),e.jsx("button",{onClick:()=>{console.log("[Interface1] Reset Vapi clicked!"),Sa()},className:"px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600 mr-2",children:"Reset Vapi"}),e.jsx("button",{onClick:()=>{console.log("[Interface1] DEBUG: Force switch to Interface2"),s("interface2"),console.log("[Interface1] DEBUG: setCurrentInterface called")},className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"DEBUG: Force Interface2"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 w-full max-w-6xl",children:[e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-4 text-center hover:bg-white/30 transition-all cursor-pointer",onClick:()=>W("tourism"),children:[e.jsx("div",{className:"text-4xl mb-2",children:"ğŸ–ï¸"}),e.jsx("h3",{className:"text-white font-semibold text-sm",children:w("local_tourism_info",l)}),B==="tourism"&&e.jsx("div",{className:"absolute z-50 mt-2 p-2 bg-black/80 text-white text-xs rounded max-w-xs",children:w("tourism_tooltip",l)})]}),e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-4 text-center hover:bg-white/30 transition-all cursor-pointer",onClick:()=>W("room_service"),children:[e.jsx("div",{className:"text-4xl mb-2",children:"ğŸ½ï¸"}),e.jsx("h3",{className:"text-white font-semibold text-sm",children:w("room_service",l)}),B==="room_service"&&e.jsx("div",{className:"absolute z-50 mt-2 p-2 bg-black/80 text-white text-xs rounded max-w-xs",children:w("room_service_tooltip",l)})]}),e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-4 text-center hover:bg-white/30 transition-all cursor-pointer",onClick:()=>W("housekeeping"),children:[e.jsx("div",{className:"text-4xl mb-2",children:"ğŸ§¹"}),e.jsx("h3",{className:"text-white font-semibold text-sm",children:w("housekeeping",l)}),B==="housekeeping"&&e.jsx("div",{className:"absolute z-50 mt-2 p-2 bg-black/80 text-white text-xs rounded max-w-xs",children:w("housekeeping_tooltip",l)})]}),e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-4 text-center hover:bg-white/30 transition-all cursor-pointer",onClick:()=>W("feedback"),children:[e.jsx("div",{className:"text-4xl mb-2",children:"ğŸ’¬"}),e.jsx("h3",{className:"text-white font-semibold text-sm",children:w("guest_feedback",l)}),B==="feedback"&&e.jsx("div",{className:"absolute z-50 mt-2 p-2 bg-black/80 text-white text-xs rounded max-w-xs",children:w("feedback_tooltip",l)})]}),e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-4 text-center hover:bg-white/30 transition-all cursor-pointer",onClick:()=>W("souvenir"),children:[e.jsx("div",{className:"text-4xl mb-2",children:"ğŸ"}),e.jsx("h3",{className:"text-white font-semibold text-sm",children:w("local_souvenir",l)}),B==="souvenir"&&e.jsx("div",{className:"absolute z-50 mt-2 p-2 bg-black/80 text-white text-xs rounded max-w-xs",children:w("souvenir_tooltip",l)})]}),e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-4 text-center hover:bg-white/30 transition-all cursor-pointer",onClick:()=>W("tours"),children:[e.jsx("div",{className:"text-4xl mb-2",children:"ğŸšŒ"}),e.jsx("h3",{className:"text-white font-semibold text-sm",children:w("tours",l)}),B==="tours"&&e.jsx("div",{className:"absolute z-50 mt-2 p-2 bg-black/80 text-white text-xs rounded max-w-xs",children:w("tours_tooltip",l)})]}),e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-4 text-center hover:bg-white/30 transition-all cursor-pointer",onClick:()=>W("bus_tickets"),children:[e.jsx("div",{className:"text-4xl mb-2",children:"ğŸ«"}),e.jsx("h3",{className:"text-white font-semibold text-sm",children:w("bus_tickets",l)}),B==="bus_tickets"&&e.jsx("div",{className:"absolute z-50 mt-2 p-2 bg-black/80 text-white text-xs rounded max-w-xs",children:w("bus_tickets_tooltip",l)})]}),e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-4 text-center hover:bg-white/30 transition-all cursor-pointer",onClick:()=>W("vehicle_rental"),children:[e.jsx("div",{className:"text-4xl mb-2",children:"ğŸï¸"}),e.jsx("h3",{className:"text-white font-semibold text-sm",children:w("vehicle_rental",l)}),B==="vehicle_rental"&&e.jsx("div",{className:"absolute z-50 mt-2 p-2 bg-black/80 text-white text-xs rounded max-w-xs",children:w("vehicle_rental_tooltip",l)})]}),e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-4 text-center hover:bg-white/30 transition-all cursor-pointer",onClick:()=>W("currency_exchange"),children:[e.jsx("div",{className:"text-4xl mb-2",children:"ğŸ’±"}),e.jsx("h3",{className:"text-white font-semibold text-sm",children:w("currency_exchange",l)}),B==="currency_exchange"&&e.jsx("div",{className:"absolute z-50 mt-2 p-2 bg-black/80 text-white text-xs rounded max-w-xs",children:w("currency_exchange_tooltip",l)})]}),e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-4 text-center hover:bg-white/30 transition-all cursor-pointer",onClick:()=>W("laundry"),children:[e.jsx("div",{className:"text-4xl mb-2",children:"ğŸ‘•"}),e.jsx("h3",{className:"text-white font-semibold text-sm",children:w("laundry_service",l)}),B==="laundry"&&e.jsx("div",{className:"absolute z-50 mt-2 p-2 bg-black/80 text-white text-xs rounded max-w-xs",children:w("laundry_tooltip",l)})]}),e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-4 text-center hover:bg-white/30 transition-all cursor-pointer",onClick:()=>W("homestay"),children:[e.jsx("div",{className:"text-4xl mb-2",children:"ğŸ "}),e.jsx("h3",{className:"text-white font-semibold text-sm",children:w("homestay",l)}),B==="homestay"&&e.jsx("div",{className:"absolute z-50 mt-2 p-2 bg-black/80 text-white text-xs rounded max-w-xs",children:w("homestay_tooltip",l)})]})]}),e.jsx("div",{className:"flex flex-wrap justify-center gap-3 mt-8",children:["en","fr","zh","ru","ko","vi"].map(_=>e.jsxs("button",{onClick:()=>te(_),className:"px-6 py-3 bg-white/20 backdrop-blur-sm rounded-full text-white font-semibold hover:bg-white/30 transition-all",children:[_==="en"&&"ğŸ‡¬ğŸ‡§ English",_==="fr"&&"ğŸ‡«ğŸ‡· FranÃ§ais",_==="zh"&&"ğŸ‡¨ğŸ‡³ ä¸­æ–‡",_==="ru"&&"ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹",_==="ko"&&"ğŸ‡°ğŸ‡· í•œêµ­ì–´",_==="vi"&&"ğŸ‡»ğŸ‡³ Tiáº¿ng Viá»‡t"]},_))})]}),ce&&e.jsx(Ax,{isOpen:ce,onClose:()=>ne(!1),isRight:!0})]})]})},zt=["Landmark","Hotel Amenities","Local Cuisine","Area Map","Activity and Experiences","Tours","Transportation","Dining"],Dx=({references:t})=>{const[s,n]=r.useState({}),[a,o]=r.useState(!0),[i,c]=r.useState(zt[0]),[l,h]=r.useState(null);r.useEffect(()=>{o(!0);let g=0;if(t.length===0){o(!1);return}t.forEach(N=>{N.type==="document"&&N.url.endsWith(".txt")&&!s[N.url]?fetch(N.url).then(T=>T.text()).then(T=>{n(ee=>({...ee,[N.url]:T})),g++,g===t.length&&o(!1)}).catch(()=>{g++,g===t.length&&o(!1)}):(g++,g===t.length&&o(!1))}),t.every(N=>N.type!=="document"||!N.url.endsWith(".txt"))&&o(!1)},[t]);const d=g=>/^https?:\/\//.test(g)?g:`/${g.replace(/^\//,"")}`,u=async(g,N)=>{try{const ee=await(await fetch(d(g))).blob(),B=URL.createObjectURL(ee),X=document.createElement("a");X.href=B,X.download=N,document.body.appendChild(X),X.click(),document.body.removeChild(X),URL.revokeObjectURL(B)}catch(T){console.error("Error downloading file:",T)}},p=g=>{window.open(d(g),"_blank")},f=()=>e.jsxs("div",{className:"animate-pulse bg-white/80 rounded-xl shadow-md h-[180px] flex flex-col p-4 gap-2",children:[e.jsx("div",{className:"bg-gray-200 rounded w-full h-2/3 mb-2"}),e.jsx("div",{className:"bg-gray-200 rounded w-2/3 h-4 mb-1"}),e.jsx("div",{className:"bg-gray-100 rounded w-1/2 h-3"})]}),v=g=>e.jsxs("div",{className:"group bg-white/90 rounded-xl shadow-md h-[180px] flex flex-col justify-between cursor-pointer transition-transform duration-200 hover:scale-[1.03] active:scale-95 border border-white/40 backdrop-blur-md",style:{minWidth:220,maxWidth:260},onClick:()=>g.type==="link"?p(g.url):void 0,children:[e.jsxs("div",{className:"flex-1 flex items-center justify-center overflow-hidden rounded-t-xl",style:{height:"60%"},children:[g.type==="image"&&e.jsx("img",{src:d(g.url),alt:g.title,className:"object-cover w-full h-full rounded-t-xl hover:opacity-80 transition cursor-zoom-in",onClick:N=>{N.stopPropagation(),h(d(g.url))},tabIndex:0,onKeyDown:N=>{(N.key==="Enter"||N.key===" ")&&h(d(g.url))}}),g.type==="document"&&g.url.endsWith(".pdf")&&e.jsx("span",{className:"material-icons text-5xl text-blue-700/80",children:"picture_as_pdf"}),g.type==="document"&&g.url.endsWith(".txt")&&e.jsx("span",{className:"material-icons text-5xl text-green-700/80",children:"description"}),g.type==="link"&&e.jsx("span",{className:"material-icons text-5xl text-yellow-700/80",children:"link"})]}),e.jsxs("div",{className:"flex flex-col gap-1 px-3 py-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-base font-medium text-gray-900 truncate",children:g.title}),g.type==="document"&&e.jsx("button",{onClick:N=>{N.stopPropagation(),u(g.url,g.title)},className:"ml-auto p-1 rounded-full hover:bg-yellow-100 text-yellow-700 transition-colors",children:e.jsx("span",{className:"material-icons text-base",children:"download"})}),g.type==="link"&&e.jsx("span",{className:"material-icons text-xs text-gray-400 ml-1",children:"open_in_new"})]}),g.description&&e.jsx("span",{className:"text-xs text-gray-500 truncate",children:g.description}),g.url.endsWith(".txt")&&s[g.url]&&e.jsxs("pre",{className:"mt-1 max-h-12 overflow-auto whitespace-pre-wrap text-xs text-gray-700 bg-gray-50 rounded p-1",children:[s[g.url].slice(0,120),"..."]})]})]}),x=()=>window.innerWidth<640?"auto":window.innerWidth<1024?2:window.innerWidth<1280?3:4,y=t.filter(g=>g.category&&g.category.trim().toLowerCase()===i.trim().toLowerCase());return e.jsxs("div",{className:"w-full sm:max-w-5xl mx-auto mt-2 mb-2 px-2 py-3 rounded-2xl",style:{background:"rgba(85,154,154,0.85)",minHeight:260},children:[l&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",onClick:()=>h(null),children:e.jsxs("div",{className:"relative max-w-3xl w-full flex flex-col items-center",children:[e.jsx("button",{className:"absolute top-2 right-2 bg-white/80 hover:bg-white text-gray-800 rounded-full p-2 shadow-lg z-10",onClick:g=>{g.stopPropagation(),h(null)},children:e.jsx("span",{className:"material-icons text-2xl",children:"close"})}),e.jsx("img",{src:l,alt:"PhÃ³ng to áº£nh reference",className:"rounded-xl max-h-[80vh] w-auto object-contain border-4 border-white shadow-2xl",onClick:g=>g.stopPropagation()})]})}),e.jsx("div",{className:"flex items-center mb-4 px-2",children:e.jsxs("div",{className:"flex items-center px-3 py-2 sm:py-1.5 gap-2 transition-all duration-300 mx-auto sm:mx-0",style:{background:"linear-gradient(135deg, #79DBDC 0%, #559A9A 100%)",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.15)",borderRadius:"8px",minWidth:"150px",maxWidth:"95%",width:"auto",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[e.jsx(sa,{className:"text-[#F9BF3B] text-xl mr-1.5",style:{filter:"drop-shadow(0px 2px 3px rgba(0, 0, 0, 0.2))"}}),e.jsx("label",{className:"mr-2 font-semibold font-sans text-white whitespace-nowrap text-sm sm:text-base",children:"Category:"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("select",{value:i,onChange:g=>c(g.target.value),className:"appearance-none w-full pl-6 sm:pl-8 pr-6 py-1 sm:py-1.5 font-sans bg-transparent focus:outline-none transition-all duration-200",style:{fontWeight:600,color:"#fff",textShadow:"0px 1px 2px rgba(0, 0, 0, 0.2)",borderRadius:"8px"},children:zt.map(g=>e.jsx("option",{value:g,className:"bg-blue-800 text-white",children:g},g))}),e.jsx(Is,{className:"absolute right-2 top-1/2 -translate-y-1/2 text-[#F9BF3B] pointer-events-none text-lg"})]})]})}),a?e.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2",children:[...Array(3)].map((g,N)=>e.jsx(f,{},N))}):y.length===0?e.jsx("div",{className:"flex items-center justify-center h-[120px] text-white/80 text-base font-medium",children:"No references available"}):e.jsx(Qn,{modules:[Jn,Zn,ea],spaceBetween:16,slidesPerView:x(),navigation:y.length>3,pagination:{clickable:!0,dynamicBullets:!0},className:"w-full",style:{paddingBottom:32,overflowX:window.innerWidth<640?"auto":void 0},children:y.map((g,N)=>e.jsx(ta,{className:"flex justify-center",style:window.innerWidth<640?{width:"90vw",maxWidth:"98vw",minWidth:0}:{},children:v(g)},g.url+N))})]})};class Rx{constructor(){this.referenceMap={}}async initialize(){try{const s=await fetch("/assets/references/reference-map.json");this.referenceMap=await s.json(),console.log("Loaded referenceMap:",this.referenceMap)}catch(s){console.error("Error loading reference map:",s)}}findReferences(s){const n=s.toLowerCase(),a=[];return Object.values(this.referenceMap).forEach(o=>{o.keywords.some(c=>n.includes(c.toLowerCase()))&&!a.find(c=>c.url===o.url)&&a.push(o)}),a}async addReference(s,n){this.referenceMap[s]=n;try{await fetch("/api/references",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...n,id:s})})}catch(a){console.error("Error saving reference:",a)}}}const Ht=new Rx,Px=Ue("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-[10px] text-base font-semibold ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-5 [&_svg]:shrink-0 shadow-sm px-5 py-2",{variants:{variant:{default:"bg-gradient-to-tr from-[#4e5ab7] to-[#3f51b5] text-white hover:brightness-110 hover:shadow-lg",yellow:"bg-gradient-to-b from-[#ffe066] to-[#ffd700] text-blue-900 border-2 border-[#d4af37] shadow-xl hover:brightness-105 hover:shadow-2xl text-shadow-white",outline:"border-2 border-[#4e5ab7] bg-white text-[#4e5ab7] hover:bg-[#f5f7fa]",secondary:"bg-white text-[#4e5ab7] border border-[#4e5ab7] hover:bg-[#e8eaf6]",destructive:"bg-red-500 text-white hover:bg-red-600",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-12 px-6 py-2",sm:"h-10 rounded-md px-4 py-2 text-sm",lg:"h-14 rounded-xl px-8 py-3 text-lg",icon:"h-12 w-12"}},defaultVariants:{variant:"default",size:"default"}}),O=r.forwardRef(({className:t,variant:s,size:n,asChild:a=!1,...o},i)=>{const c=a?hn:"button";return e.jsx(c,{className:S(Px({variant:s,size:n,className:t})),ref:i,...o})});O.displayName="Button";const Ex=({isActive:t})=>{var C,D,V,_;const{transcripts:s,callDetails:n,callDuration:a,endCall:o,isMuted:i,toggleMute:c,setCurrentInterface:l,micLevel:h,modelOutput:d,language:u}=Ce(),{config:p,isLoading:f,error:v}=He(),[x,y]=r.useState({}),g=r.useRef({}),[N,T]=r.useState([]),[ee,B]=r.useState([]),[X,he]=r.useState(0),J=r.useRef(null),[ce,ne]=r.useState(!0),re=r.useCallback(()=>{Object.values(g.current).forEach(j=>{cancelAnimationFrame(j)}),g.current={}},[]),te=r.useCallback(()=>{const j=a>0?a:X;console.log("Canceling call with duration:",j),o(),l("interface1")},[a,X,o,l]),W=r.useCallback(()=>{if(!s||s.length===0){alert(w("need_conversation",u));return}const j=a>0?a:X;console.log("Ending call with duration:",j),o(),l(u==="fr"?"interface3fr":u==="vi"?"interface3vi":"interface3")},[a,X,o,l,s,u]),H=r.useCallback(j=>{const b=Math.floor(j/60).toString().padStart(2,"0"),$=(j%60).toString().padStart(2,"0");return`${b}:${$}`},[]);return r.useEffect(()=>{async function j(){await Ht.initialize();const b=Object.values(Ht.referenceMap||{});console.log("All references loaded:",b),B(b)}j()},[]),r.useEffect(()=>{const j=[...s].sort((E,ae)=>E.timestamp.getTime()-ae.timestamp.getTime()),b=[];let $=null;j.forEach(E=>{E.role==="user"?($={id:E.id.toString(),role:"user",timestamp:E.timestamp,messages:[{id:E.id.toString(),content:E.content,timestamp:E.timestamp}]},b.push($)):((!$||$.role==="user")&&($={id:E.id.toString(),role:"assistant",timestamp:E.timestamp,messages:[]},b.push($)),$.messages.push({id:E.id.toString(),content:E.content,timestamp:E.timestamp}))}),T(b)},[s]),r.useEffect(()=>(N.filter(b=>b.role==="assistant").flatMap(b=>b.messages).forEach(b=>{if(x[b.id]===b.content.length)return;let $=x[b.id]||0;const E=b.content,ae=()=>{$<E.length?(y(me=>({...me,[b.id]:$+1})),$++,g.current[b.id]=requestAnimationFrame(ae)):delete g.current[b.id]};g.current[b.id]=requestAnimationFrame(ae)}),()=>re()),[N,re]),r.useEffect(()=>{let j=null;return t&&(console.log("Interface2 is active, starting local timer"),he(a||0),j=setInterval(()=>{he(b=>b+1)},1e3)),()=>{j&&(console.log("Cleaning up local timer in Interface2"),clearInterval(j))}},[t,a]),r.useEffect(()=>{J.current&&t&&(J.current.scrollTop=0)},[N,t]),f||!p?e.jsx("div",{className:"absolute w-full min-h-screen h-full flex items-center justify-center z-40 bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Loading hotel configuration..."})]})}):v?e.jsx("div",{className:"absolute w-full min-h-screen h-full flex items-center justify-center z-40 bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-500 text-lg mb-4",children:"Failed to load hotel configuration"}),e.jsx("p",{className:"text-gray-600",children:v})]})}):e.jsxs("div",{className:`absolute w-full min-h-screen h-full transition-opacity duration-500 ${t?"opacity-100":"opacity-0 pointer-events-none"} z-20 overflow-y-auto`,id:"interface2",style:{backgroundImage:`linear-gradient(${((D=(C=p==null?void 0:p.branding)==null?void 0:C.colors)==null?void 0:D.primary)||"#1e40af"}CC, ${((_=(V=p==null?void 0:p.branding)==null?void 0:V.colors)==null?void 0:_.secondary)||"#d4af37"}99), url('/assets/courtyard.jpeg')`,backgroundSize:"cover",backgroundPosition:"center",fontFamily:p.branding.fonts.primary+", SF Pro Text, Roboto, Open Sans, Arial, sans-serif",backgroundColor:t?"rgba(0,0,255,0.1)":"rgba(255,255,0,0.1)",border:t?"3px solid blue":"3px solid yellow"},children:[e.jsxs("div",{className:"absolute top-4 right-4 bg-black/80 text-white p-2 rounded text-xs z-50",children:[e.jsxs("div",{children:["Interface2 isActive: ",t?"TRUE":"FALSE"]}),e.jsxs("div",{children:["Timestamp: ",new Date().toLocaleTimeString()]}),e.jsx("div",{children:"Z-index: 20"})]}),e.jsxs("div",{className:"container mx-auto flex flex-col md:flex-row p-2 h-full gap-2",children:[e.jsxs("div",{className:"w-full md:w-3/4 lg:w-2/3 flex flex-col items-center space-y-1 sm:space-y-4 mt-1 min-h-0 overflow-y-auto",children:[e.jsxs("div",{className:"relative flex flex-col items-center justify-center mb-1 sm:mb-6 w-full max-w-xs mx-auto",children:[e.jsx(Us,{containerId:"siri-button",isListening:!i,volumeLevel:h}),e.jsxs("div",{className:"flex items-center justify-center mt-2 w-full gap-2 sm:gap-3",children:[e.jsx("button",{className:"flex items-center justify-center transition-colors",title:w(i?"unmute":"mute",u),onClick:c,style:{fontSize:22,padding:0,background:"none",border:"none",color:"#d4af37",width:28,height:28},onMouseOver:j=>j.currentTarget.style.color="#ffd700",onMouseOut:j=>j.currentTarget.style.color="#d4af37",children:e.jsx("span",{className:"material-icons",children:i?"mic_off":"mic"})}),e.jsxs("button",{id:"cancelButton",onClick:te,className:"flex items-center justify-center px-3 py-2 bg-white/80 hover:bg-blue-100 text-blue-900 rounded-full text-xs font-semibold border-2 border-blue-200 shadow transition-colors sm:hidden active:scale-95 active:bg-blue-100",style:{fontFamily:"inherit",letterSpacing:.2,minHeight:44,minWidth:90,fontSize:14,touchAction:"manipulation",zIndex:10},children:[e.jsx("span",{className:"material-icons text-base mr-1",children:"cancel"}),w("cancel",u)]}),e.jsx("div",{className:"flex-1 flex justify-center",children:e.jsx("div",{className:"text-white text-xs sm:text-sm bg-blue-900/80 rounded-full px-3 sm:px-4 py-1 shadow-lg border border-white/30 flex items-center justify-center",style:{backdropFilter:"blur(2px)"},children:H(X)})}),e.jsxs(O,{id:"confirmButton",onClick:W,variant:"yellow",className:"flex items-center justify-center sm:hidden text-xs font-bold",style:{minHeight:44,minWidth:120,fontSize:14,zIndex:10},children:[e.jsx("span",{className:"material-icons text-lg mr-2",children:"send"}),w("confirm",u)]}),e.jsxs("button",{className:"flex items-center justify-center transition-colors",title:"Mic Level",style:{fontSize:22,padding:0,background:"none",border:"none",color:"#d4af37",width:28,height:28},tabIndex:-1,disabled:!0,onMouseOver:j=>j.currentTarget.style.color="#ffd700",onMouseOut:j=>j.currentTarget.style.color="#d4af37",children:[e.jsx("span",{className:"material-icons",children:"graphic_eq"}),e.jsx("span",{className:"ml-1 flex items-end h-4 w-6",children:[...Array(4)].map((j,b)=>e.jsx("span",{style:{display:"inline-block",width:2,height:`${4+Math.round(h/100*12)*(b%2+1)}px`,background:"#d4af37",marginLeft:1,borderRadius:1}},b))})]})]})]}),ce&&e.jsxs("div",{id:"realTimeConversation",ref:J,className:"w-full flex flex-col-reverse gap-1 pr-2 relative max-w-full sm:max-w-2xl mx-auto min-h-[60px] max-h-[12vh] overflow-y-auto mb-1",style:{background:"rgba(255,255,255,0.88)",borderRadius:12,border:"1px solid rgba(255,255,255,0.35)",boxShadow:"0px 4px 10px rgba(0,0,0,0.15)",padding:"8px",transition:"box-shadow 0.3s, background 0.3s",fontFamily:"SF Pro Text, Roboto, Open Sans, Arial, sans-serif",fontSize:window.innerWidth<640?14:16,lineHeight:1.5,color:"#222",fontWeight:400,backdropFilter:"blur(2px)",display:"flex",flexDirection:"column",justifyContent:"flex-end"},children:[e.jsx("button",{className:"absolute top-1.5 right-1.5 w-5 h-5 flex items-center justify-center rounded-full bg-white/40 hover:bg-white/70 text-gray-400 hover:text-gray-700 shadow z-10 opacity-60 hover:opacity-90 transition-all",style:{fontSize:14,display:"block"},title:"áº¨n realtime conversation",onClick:()=>ne(!1),children:e.jsx("span",{className:"material-icons",style:{fontSize:16},children:"close"})}),e.jsxs("div",{className:"w-full flex flex-col gap-1 pr-2",style:{overflowY:"auto",maxHeight:"28vh"},children:[N.length===0&&e.jsx("div",{className:"text-gray-400 text-base text-center select-none",style:{opacity:.7},children:w("tap_to_speak",u)}),[...N].reverse().map((j,b)=>e.jsx("div",{className:"mb-1",children:e.jsx("div",{className:"flex items-start",children:e.jsx("div",{className:"flex-grow",children:j.role==="user"?e.jsx("p",{className:"text-base md:text-lg font-medium text-gray-900",style:{marginBottom:2},children:j.messages[0].content}):e.jsxs("p",{className:"text-base md:text-lg font-medium",style:{marginBottom:2,position:"relative",background:"linear-gradient(90deg, #FF512F, #F09819, #FFD700, #56ab2f, #43cea2, #1e90ff, #6a11cb, #FF512F)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:600,letterSpacing:.2,transition:"background 0.5s"},children:[e.jsx("span",{className:"inline-flex flex-wrap",children:j.messages.map(($,E)=>{const ae=$.content.slice(0,x[$.id]||0);return e.jsxs("span",{style:{whiteSpace:"pre"},children:[ae,E===j.messages.length-1&&b===0&&x[$.id]<$.content.length&&e.jsx("span",{className:"animate-blink text-yellow-500",style:{marginLeft:1},children:"|"})]},$.id)})}),b===0&&j.role==="assistant"&&x[j.messages[j.messages.length-1].id]===j.messages[j.messages.length-1].content.length&&e.jsx("span",{className:"ml-2 animate-ellipsis text-yellow-500",children:"..."})]})})})},j.id))]})]}),e.jsx("div",{className:"w-full mt-1",children:e.jsx("div",{className:"w-full flex flex-row items-center gap-x-2 mb-3 px-2",children:e.jsx(Dx,{references:ee})})})]}),e.jsx("div",{className:"w-1/4 lg:w-1/3 flex-col items-center lg:items-end p-2 space-y-4 overflow-auto hidden sm:flex",style:{maxHeight:"100%"},children:e.jsxs("div",{className:"flex flex-col gap-4 w-full md:w-auto",children:[e.jsxs(O,{id:"endCallButton",onClick:W,variant:"yellow",className:"w-full md:w-auto flex items-center justify-center space-x-2 text-base sm:text-lg",style:{minHeight:56,minWidth:220,zIndex:10},children:[e.jsx("span",{className:"material-icons",children:"send"}),e.jsx("span",{className:"whitespace-nowrap",children:w("confirm_request",u)})]}),e.jsxs("button",{id:"cancelButtonDesktop",onClick:te,className:"w-full md:w-auto bg-white hover:bg-blue-100 text-blue-900 font-semibold py-3 px-8 rounded-full shadow flex items-center justify-center space-x-2 transition-all duration-200 border-2 border-blue-200 text-base sm:text-lg active:scale-95 active:bg-blue-100",style:{fontFamily:"inherit",letterSpacing:.2,minHeight:56,minWidth:120,touchAction:"manipulation",zIndex:10},children:[e.jsx("span",{className:"material-icons text-lg mr-2",children:"cancel"}),w("cancel",u)]})]})})]})]})},Lx=({isActive:t})=>{var ne,re,te,W;const{orderSummary:s,setOrderSummary:n,setCurrentInterface:a,setOrder:o,callSummary:i,setCallSummary:c,serviceRequests:l,callDuration:h,callDetails:d,emailSentForCurrentSession:u,setEmailSentForCurrentSession:p,addActiveOrder:f,translateToVietnamese:v,language:x}=Ce(),{config:y,isLoading:g,error:N}=He(),[T,ee]=r.useState({}),[B,X]=r.useState("");if(g||!y)return e.jsx("div",{className:"absolute w-full min-h-screen h-full flex items-center justify-center z-10 bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Loading hotel configuration..."})]})});if(N)return e.jsx("div",{className:"absolute w-full min-h-screen h-full flex items-center justify-center z-10 bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-500 text-lg mb-4",children:"Failed to load hotel configuration"}),e.jsx("p",{className:"text-gray-600",children:N})]})});if(!s)return null;const he=(H,C)=>{s&&n({...s,[H]:C})};r.useEffect(()=>{if(l&&l.length>0){const H=l.reduce((C,D)=>{const V=D.serviceType;return C[V]||(C[V]=[]),C[V].push(D),C},{});if(ee(H),s&&(!s.items||s.items.length===0)){const C=l.map((D,V)=>{let _=1;const j=D.details||{},b=D.requestText.match(/(\d+)\s+(towels|bottles|pieces|cups|glasses|plates|servings|items)/i);b?_=parseInt(b[1]):typeof j.people=="number"&&(_=j.people);let $=10;return D.serviceType==="room-service"?$=15:D.serviceType==="housekeeping"?$=8:D.serviceType==="transportation"?$=25:D.serviceType==="tours-activities"?$=35:D.serviceType==="spa"&&($=30),{id:`item-${V}`,name:D.serviceType,description:D.requestText,quantity:_,price:$}});n({...s,items:C,totalAmount:C.reduce((D,V)=>D+V.price*V.quantity,0)})}}},[l,s,n]),r.useEffect(()=>{if(t&&i&&s){const H=i.content,C=Bt(H);if(C&&C!==s.roomNumber&&n({...s,roomNumber:C}),!l||l.length===0){const D=H.match(/List of Requests:([\s\S]*?)(?:\n\nSpecial Instructions|\n\nThe conversation)/);if(D){const V=D[1],_=/Request (\d+): ([^\n]+)/g;let j;const b=[];let $=1;for(;(j=_.exec(V))!==null;){const E=j[2].trim(),ae=j.index,me=V.indexOf(`Request ${parseInt(j[1])+1}:`,ae),ie=me>-1?V.substring(ae,me):V.substring(ae),ue=/- ([^:]+): ([^\n]+)/g;let xe;const m={};for(;(xe=ue.exec(ie))!==null;){const z=xe[1].trim(),we=xe[2].trim();m[z.toLowerCase()]=we}let k="";m["service description"]&&(k+=`${m["service description"]}`),m.details&&(k+=k?`. ${m.details}`:m.details),m.items&&(k+=k?`
Items: ${m.items}`:`Items: ${m.items}`),m["service timing requested"]&&(k+=`
Timing: ${m["service timing requested"]}`),m.destinations&&(k+=`
Destinations: ${m.destinations}`),k||(k=`Requested ${E} service`),b.push({id:$.toString(),name:E,description:k,quantity:1,price:10}),$++}if(b.length>0&&(!s.items||s.items.length===0)){const E=b.map(xe=>xe.name.toLowerCase().replace(/\s+/g,"-")).join(","),ae=Bt(H)||s.roomNumber,me=H.match(/Service Timing Requested:?\s*([^\n]+)/i),ie=me?me[1]:s.deliveryTime;let ue=s.deliveryTime;ie&&(/soon|immediate|urgent|right now/i.test(ie)?ue="asap":/30 minute|half hour/i.test(ie)?ue="30min":/hour|60 minute/i.test(ie)?ue="1hour":/schedule|later|specific/i.test(ie)&&(ue="specific")),n({...s,items:b,orderType:E,roomNumber:ae,deliveryTime:ue,totalAmount:b.reduce((xe,m)=>xe+m.price*m.quantity,0)})}}}}},[t,i,s,n]);const J=async()=>{if(!s)return;const H=()=>{if(s.roomNumber&&s.roomNumber!=="unknown")return s.roomNumber;if(i&&i.content){const $=i.content.match(/Room Number:?\s*(\w+)/i);if($&&$[1])return $[1]}return"unknown"},C=s.items&&s.items.length>0?s.items:[{id:"1",name:"General Service",description:"No details provided",quantity:1,price:0}],D=s.orderType||"Room Service",V=s.deliveryTime||"asap",_=`ORD-${Math.floor(1e4+Math.random()*9e4)}`,j=new Date,b={callId:_,roomNumber:H(),orderType:D,deliveryTime:V,specialInstructions:_,items:C,totalAmount:s.totalAmount||0,status:"pending",createdAt:j.toISOString()};try{if(!(await fetch("https://minhnhotelben.onrender.com/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)})).ok)throw new Error("Failed to create order");o({reference:b.specialInstructions||b.callId,estimatedTime:b.deliveryTime,summary:s,...b}),a("interface4")}catch{alert("Failed to send order to reception!")}},ce=()=>{!B.trim()||!i||c({...i,content:`${i.content}

Additional Notes:
${B}`})};return e.jsx("div",{className:`w-full transition-opacity duration-500 ${t?"opacity-100":"opacity-0 pointer-events-none"} z-30`,id:"interface3",style:{backgroundImage:`linear-gradient(${((re=(ne=y==null?void 0:y.branding)==null?void 0:ne.colors)==null?void 0:re.primary)||"#1e40af"}CC, ${((W=(te=y==null?void 0:y.branding)==null?void 0:te.colors)==null?void 0:W.secondary)||"#d4af37"}99), url(${Gs})`,backgroundSize:"cover",backgroundPosition:"center",fontFamily:y.branding.fonts.primary+", SF Pro Text, Roboto, Open Sans, Arial, sans-serif"},children:e.jsx("div",{className:"container mx-auto flex flex-col p-2 sm:p-4 md:p-8",children:e.jsxs("div",{className:"mx-auto w-full max-w-4xl bg-white/90 rounded-2xl shadow-xl p-3 sm:p-6 md:p-10 mb-4 sm:mb-6 flex-grow border border-white/40 backdrop-blur-md",style:{minHeight:420},children:[e.jsx("div",{className:"mb-3 sm:mb-4 pb-2 sm:pb-3 border-b border-gray-200",children:e.jsx("p",{className:"font-poppins font-bold text-xl sm:text-2xl text-blue-900 tracking-wide",children:w("order_summary",x)})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 sm:gap-10 md:gap-16",children:[e.jsxs("div",{className:"md:w-3/4 w-full space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"flex sm:hidden flex-row w-full gap-2 mb-2",children:[e.jsxs("button",{className:"flex-1 flex items-center justify-center px-2 py-1.5 bg-white/80 hover:bg-blue-100 text-blue-900 rounded-full text-xs font-semibold border border-white/30 shadow transition-colors",onClick:()=>a("interface1"),children:[e.jsx("span",{className:"material-icons text-base mr-1",children:"cancel"}),w("cancel",x)]}),e.jsxs(O,{onClick:J,variant:"yellow",className:"flex-1 flex items-center justify-center space-x-2 text-xs font-bold sm:hidden",style:{minHeight:44,minWidth:120,zIndex:10},children:[e.jsx("span",{className:"material-icons",children:"send"}),e.jsx("span",{className:"whitespace-nowrap",children:w("send_to_reception",x)})]})]}),e.jsxs("div",{className:"flex flex-col gap-2 mb-2 sm:hidden",children:[e.jsxs("div",{className:"flex flex-row w-full gap-2",children:[e.jsx("button",{className:"h-10 px-3 bg-[#ffe082] hover:bg-[#ffe9b3] text-blue-900 rounded-full text-xs font-semibold shadow transition-colors flex-1",onClick:ce,disabled:!B.trim(),children:w("add_note",x)}),e.jsxs("div",{className:"flex items-center space-x-2 w-full justify-center",children:[e.jsx("label",{className:"text-xs text-gray-600 font-medium",children:w("room_number",x)}),e.jsx("input",{type:"text",placeholder:w("enter_room_number",x),className:"w-16 p-2 border border-white/30 rounded-xl focus:ring-2 focus:ring-[#d4af37] focus:border-[#d4af37] bg-white/70 text-gray-900 font-semibold text-xs",value:s.roomNumber,onChange:H=>he("roomNumber",H.target.value)})]}),e.jsx("button",{className:"h-10 px-3 bg-white/70 text-blue-900 rounded-full text-xs font-semibold border border-white/30 shadow flex items-center justify-center",onClick:()=>a("interface3vi"),children:e.jsx("span",{className:"material-icons text-base",children:"language"})})]}),e.jsx("textarea",{placeholder:w("enter_notes",x),className:"w-full p-2 border border-white/30 rounded-xl text-xs bg-white/60 focus:bg-white/90 focus:ring-2 focus:ring-[#d4af37] transition italic font-light text-gray-500",value:B,onChange:H=>X(H.target.value),rows:3,style:{fontFamily:"inherit"}})]}),i&&e.jsxs("div",{id:"summary-container",className:"mb-3 sm:mb-4",children:[e.jsxs("div",{className:"p-3 sm:p-5 bg-white/80 rounded-xl shadow border border-white/30 mb-3 sm:mb-4 relative",style:{backdropFilter:"blur(2px)"},children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg mb-1 sm:mb-2 text-blue-800",children:w("summary",x)}),e.jsx("div",{className:"text-sm sm:text-base leading-relaxed text-gray-800 whitespace-pre-line",style:{fontWeight:400},children:(i.content||"").split(`
`).filter(C=>!/^Next Step:/i.test(C)&&!/Please Press Send To Reception/i.test(C)).map((C,D)=>{if(/^Guest's Name/i.test(C)){const V=C.replace(/\s*\(used for Guest with a confirmed reservation\)/i,"");return e.jsx("div",{children:e.jsx("b",{children:V})},D)}return/^Room Number:/i.test(C)?e.jsx("div",{children:e.jsx("b",{children:C})},D):/^REQUEST \d+:/i.test(C)?e.jsx("div",{className:"mt-3 mb-1",children:e.jsx("b",{children:C})},D):/^â€¢ Service Timing:/i.test(C)?e.jsx("div",{style:{marginLeft:16},children:e.jsx("b",{children:C})},D):/^â€¢ Order Details:/i.test(C)?e.jsx("div",{style:{marginLeft:16},children:e.jsx("b",{children:C})},D):/^â€¢ Special Requirements:/i.test(C)?e.jsx("div",{style:{marginLeft:16},children:e.jsx("b",{children:C})},D):/^â€¢ [^-].+/.test(C)?e.jsx("div",{style:{marginLeft:32},children:C},D):/^\s*[-â€¢]/.test(C)?e.jsx("div",{style:{marginLeft:32},children:C},D):/^\s*$/.test(C)?e.jsx("div",{style:{height:8}},D):e.jsx("div",{children:C},D)})}),e.jsx("div",{className:"mt-2 sm:mt-3 flex justify-end",children:e.jsxs("div",{className:"text-xs text-gray-500",children:[w("generated_at",x)," ",new Date(i.timestamp).toLocaleTimeString()]})})]}),e.jsx("div",{className:"text-center mt-2 mb-1",children:e.jsxs("span",{className:"italic text-sm",style:{color:"#2563eb",background:"#e0f2fe",borderRadius:"6px",padding:"4px 12px",display:"inline-block",fontWeight:500},children:["Please Press ",e.jsx("b",{style:{fontWeight:700,color:"#1d4ed8"},children:w("send_to_reception",x)})," To Complete Your Request"]})})]}),e.jsxs("div",{className:"hidden sm:flex flex-row items-center gap-2 h-10",children:[e.jsx("button",{className:"h-10 px-3 sm:px-4 bg-[#ffe082] hover:bg-[#ffe9b3] text-blue-900 rounded-full text-xs sm:text-sm font-semibold shadow transition-colors",onClick:ce,disabled:!B.trim(),children:w("add_note",x)}),e.jsxs("div",{className:"flex items-center space-x-2 w-full justify-center",children:[e.jsx("label",{className:"text-xs sm:text-base text-gray-600 font-medium",children:w("room_number",x)}),e.jsx("input",{type:"text",placeholder:w("enter_room_number",x),className:"w-16 sm:w-32 p-2 border border-white/30 rounded-xl focus:ring-2 focus:ring-[#d4af37] focus:border-[#d4af37] bg-white/70 text-gray-900 font-semibold text-xs sm:text-base",value:s.roomNumber,onChange:H=>he("roomNumber",H.target.value)})]}),e.jsx("button",{className:"h-10 px-3 sm:px-4 bg-white/70 text-blue-900 rounded-full text-xs sm:text-sm font-semibold border border-white/30 shadow flex items-center justify-center",onClick:()=>a("interface3vi"),children:e.jsx("span",{className:"material-icons text-base",children:"language"})})]}),e.jsx("textarea",{placeholder:w("enter_notes",x),className:"hidden sm:block w-full p-2 sm:p-3 border border-white/30 rounded-xl mb-3 sm:mb-4 text-xs sm:text-sm bg-white/60 focus:bg-white/90 focus:ring-2 focus:ring-[#d4af37] transition italic font-light text-gray-500",value:B,onChange:H=>X(H.target.value),rows:3,style:{fontFamily:"inherit"}})]}),e.jsx("div",{className:"md:w-1/4 w-full hidden sm:flex md:justify-end justify-center",children:e.jsxs("div",{className:"flex flex-col items-end space-y-2 sm:space-y-3 w-full md:w-auto",children:[e.jsxs(O,{onClick:J,variant:"yellow",className:"w-full md:w-auto flex items-center justify-center space-x-2 text-xs sm:text-sm font-bold",style:{minHeight:44,minWidth:160,zIndex:10},children:[e.jsx("span",{className:"material-icons",children:"send"}),e.jsx("span",{className:"whitespace-nowrap",children:w("send_to_reception",x)})]}),e.jsxs("button",{className:"w-full md:w-auto flex items-center justify-center px-2 sm:px-3 py-1.5 bg-white/80 hover:bg-blue-100 text-blue-900 rounded-full text-xs font-semibold border border-white/30 shadow transition-colors",onClick:()=>a("interface1"),children:[e.jsx("span",{className:"material-icons text-base mr-1",children:"cancel"}),w("cancel",x)]})]})})]})]})})})},Mx=({isActive:t})=>{var d,u;const{order:s,setCurrentInterface:n,language:a,setOrder:o}=Ce(),{config:i,isLoading:c,error:l}=He();r.useEffect(()=>{t&&(console.clear(),console.log("ğŸ¬ === Interface4 Debug Session Started ==="),console.log("ğŸ¬ Interface4 mounted with isActive:",t),console.log("ğŸ¬ Order:",s))},[t,s]);const h=r.useCallback(()=>{console.log("ğŸ  Return to Home button clicked"),console.log("Current interface before:",t),console.log("Order exists:",!!s);try{console.log("ğŸ—‘ï¸ Clearing order..."),o(null),console.log("ğŸ”„ Setting interface to interface1..."),n("interface1"),console.log('âœ… Order cleared and setCurrentInterface("interface1") called'),setTimeout(()=>{console.log("â° Delayed check - Current interface should be interface1"),console.log("â° Order should be null:",!s)},100)}catch(p){console.error("âŒ Error in handleReturnHome:",p)}},[t,s,o,n]);return console.log("ğŸ” Interface4 render:",{isActive:t,hasOrder:!!s,orderReference:s==null?void 0:s.reference,timestamp:new Date().toISOString()}),c||!i?e.jsx("div",{className:"fixed inset-0 z-50 w-full h-full min-h-screen flex items-center justify-center bg-black/30 backdrop-blur-sm",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-white text-lg",children:"Loading hotel configuration..."})]})}):l?e.jsx("div",{className:"fixed inset-0 z-50 w-full h-full min-h-screen flex items-center justify-center bg-black/30 backdrop-blur-sm",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-500 text-lg mb-4",children:"Failed to load hotel configuration"}),e.jsx("p",{className:"text-white",children:l})]})}):!t||!s?(console.log("âŒ Interface4 not rendering - isActive:",t,"hasOrder:",!!s),null):e.jsx("div",{className:"fixed inset-0 z-50 w-full h-full min-h-screen flex items-start sm:items-center justify-center bg-black/30 backdrop-blur-sm",id:"interface4",onClick:p=>{p.target===p.currentTarget&&console.log("ğŸ–±ï¸ Background clicked - not closing dialog")},children:e.jsx("div",{className:"container mx-auto flex flex-col items-center justify-center pt-50 sm:pt-0 p-3 sm:p-5 text-center h-auto",children:e.jsxs("div",{className:"w-full max-w-xs sm:max-w-md bg-white rounded-lg shadow-lg p-4 sm:p-8",style:{fontFamily:i.branding.fonts.primary+", SF Pro Text, Roboto, Open Sans, Arial, sans-serif"},children:[e.jsx("div",{className:"mb-4 sm:mb-6 flex justify-center",children:e.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 rounded-full flex items-center justify-center",style:{backgroundColor:((u=(d=i==null?void 0:i.branding)==null?void 0:d.colors)==null?void 0:u.primary)||"#1e40af"},children:e.jsx("span",{className:"material-icons text-white text-4xl sm:text-5xl",children:"check"})})}),e.jsx("h2",{className:"font-poppins font-bold text-xl sm:text-2xl text-primary mb-2 sm:mb-3",children:w("order_confirmed",a)}),e.jsx("p",{className:"text-gray-700 mb-4 sm:mb-6 text-sm sm:text-base",children:w("order_confirmed_message",a)}),e.jsx("div",{className:"bg-neutral p-3 sm:p-4 rounded-lg mb-4 sm:mb-6",children:e.jsxs("p",{className:"font-medium text-gray-800 text-sm sm:text-base",children:[w("order_reference",a),": ",e.jsx("span",{className:"font-bold",children:s.reference})]})}),e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:w("estimated_delivery_time",a)}),e.jsx("p",{className:"font-poppins font-bold text-lg sm:text-xl",children:s.estimatedTime})]}),e.jsx("button",{className:"w-full px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-poppins font-medium text-sm sm:text-base transition-colors cursor-pointer",onClick:h,onMouseDown:()=>console.log("ğŸ–±ï¸ Mouse down on Return to Home button"),onMouseUp:()=>console.log("ğŸ–±ï¸ Mouse up on Return to Home button"),style:{zIndex:9999,position:"relative",pointerEvents:"auto",backgroundColor:i.branding.colors.secondary,color:"#ffffff"},children:w("return_to_home",a)}),e.jsx("button",{className:"w-full mt-2 px-4 sm:px-6 py-2 sm:py-3 bg-red-500 text-white rounded-lg font-poppins font-medium text-xs opacity-50 hover:opacity-100",onClick:()=>{console.log("ğŸ”§ DEBUG: Force interface change button clicked"),n("interface1"),console.log("ğŸ”§ DEBUG: setCurrentInterface called directly")},style:{zIndex:9999,position:"relative",pointerEvents:"auto"},children:"DEBUG: Force to Interface1"})]})})})};function Fx({currentStep:t=1,compact:s=!1,horizontal:n=!1,language:a}){const{language:o}=Ce?Ce():{language:"en"},i=a||o||"en",c=[{icon:"call",title:w("press_to_call",i),desc:w("press_to_call_desc",i)},{icon:"check_circle",title:w("confirm_request",i),desc:w("confirm_request_desc",i)},{icon:"mail",title:w("send_to_reception",i),desc:w("send_to_reception_desc",i)}];return n?e.jsx("div",{className:"flex flex-row items-center justify-center w-full gap-2 md:gap-6 py-1",children:c.map((l,h)=>e.jsxs(Oe.Fragment,{children:[e.jsxs("div",{className:`flex flex-col items-center transition-all duration-300 ${h+1===t?"opacity-100 scale-105":h+1<t?"opacity-60":"opacity-40"}`,children:[e.jsx("div",{className:`flex items-center justify-center rounded-full shadow-lg mb-0.5 transition-all duration-300 ${h+1===t?"bg-[#d4af37] text-blue-900 border-2 border-[#d4af37]":h+1===2||h+1===3?"bg-white/30 text-[#d4af37] border-2 border-[#d4af37]":"bg-white/30 text-white border border-gray-200"}`,style:{width:22,height:22,fontSize:13,boxShadow:h+1===2||h+1===3?"0 0 0 2px #d4af37":void 0},children:e.jsx("span",{className:"material-icons",children:l.icon})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`font-semibold font-poppins mb-0 text-[10px] ${h+1===t?"text-[#d4af37]":"text-[#d4af37]/70"} ${h+1===2||h+1===3?"font-extrabold text-base":""}`,children:l.title}),e.jsx("div",{className:`font-light text-[8px] ${h+1===2||h+1===3?"text-base text-[#b48a19]":"text-[#d4af37]/80"} hidden md:block`,children:l.desc})]})]}),h<c.length-1&&e.jsx("div",{className:"h-0.5 w-3 md:w-8 bg-gradient-to-r from-[#d4af37]/80 to-transparent mx-1 rounded-full"})]},l.title))}):e.jsx("div",{className:`w-full ${s?"max-w-[160px] py-2 gap-3":"max-w-xs py-6 gap-6"} mx-auto flex flex-col items-center`,children:c.map((l,h)=>e.jsxs("div",{className:`flex flex-col items-center w-full transition-all duration-300 ${h+1===t?"opacity-100 scale-105":h+1<t?"opacity-60":"opacity-40"}`,children:[e.jsx("div",{className:`flex items-center justify-center rounded-full shadow-lg mb-2 transition-all duration-300 ${h+1===t?"bg-[#d4af37] text-blue-900 border-2 border-[#d4af37]":h+1===2||h+1===3?"bg-white/30 text-[#d4af37] border-2 border-[#d4af37]":"bg-white/30 text-white border border-gray-200"}`,style:{width:s?32:48,height:s?32:48,fontSize:s?18:28,boxShadow:h+1===2||h+1===3?"0 0 0 2px #d4af37":void 0},children:e.jsx("span",{className:"material-icons",children:l.icon})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`font-semibold font-poppins mb-1 ${s?"text-xs":h+1===2||h+1===3?"text-lg":"text-base"} ${h+1===t?"text-[#d4af37]":"text-[#d4af37]/70"} ${h+1===2||h+1===3?"font-extrabold":""}`,style:h+1===2||h+1===3?{letterSpacing:.5}:{},children:l.title}),e.jsx("div",{className:`font-light ${s?"text-[10px]":h+1===2||h+1===3?"text-base":"text-sm"} ${h+1===2||h+1===3?"text-[#b48a19]":"text-[#d4af37]/80"}`,children:l.desc})]}),h<c.length-1&&e.jsx("div",{className:`mx-auto my-1 rounded-full ${s?"w-0.5 h-4":"w-1 h-8"} bg-gradient-to-b from-[#d4af37]/80 to-transparent`})]},l.title))})}const Ox=({onClose:t})=>e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm font-sans",children:e.jsxs("div",{className:"bg-gradient-to-br from-[rgba(255,255,255,0.7)] to-[rgba(255,255,255,0.5)] dark:from-[rgba(30,30,30,0.7)] dark:to-[rgba(30,30,30,0.5)] text-gray-800 dark:text-gray-200 rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto border border-white/30",style:{transformStyle:"preserve-3d"},children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 sm:gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-blue-900 dark:text-amber-400 font-poppins",children:"Ná»™i dung"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"target",children:"ğŸ¯"})," Má»¤C ÄÃCH:"]}),e.jsx("p",{className:"pl-6 text-gray-700 dark:text-gray-300",children:"Thay tháº¿ cho nhÃ¢n sá»± lá»… tÃ¢n báº±ng AI Voice Assistant Ä‘Æ°á»£c Ä‘Ã o táº¡o riÃªng vá»›i thÃ´ng tin vÃ  dá»‹ch vá»¥ cá»§a má»™t khÃ¡ch sáº¡n cá»¥ thá»ƒ."})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"money",children:"ğŸ’°"})," GIÃ TRá»Š MANG Láº I:"]}),e.jsxs("ul",{className:"list-inside list-disc pl-6 space-y-1 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"Phá»¥c vá»¥ Ä‘a ngÃ´n ngá»¯ â€“ khÃ´ng cáº§n thÃ´ng dá»‹ch viÃªn"}),e.jsx("li",{children:"Hoáº¡t Ä‘á»™ng 24/7 â€“ khÃ´ng bao giá» nghá»‰"}),e.jsx("li",{children:"Xá»­ lÃ½ Ä‘á»“ng thá»i nhiá»u khÃ¡ch cÃ¹ng lÃºc"}),e.jsx("li",{children:"TÄƒng doanh thu dá»‹ch vá»¥ thÃ´ng qua gá»£i Ã½ thÃ´ng minh"})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"speech bubble",children:"ğŸ—£ï¸"})," Äáº¶C ÄIá»‚M Ná»”I Báº¬T:"]}),e.jsx("p",{className:"pl-6 text-gray-700 dark:text-gray-300",children:"Voice Bot â€“ Báº¡n NÃ“I CHUYá»†N vá»›i AI, khÃ´ng cáº§n gÃµ phÃ­m!"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"bell",children:"ğŸ””"})," CHá»¨C NÄ‚NG Cá»¦A AI VOICE BOT:"]}),e.jsxs("ul",{className:"list-inside list-disc pl-6 space-y-1 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"Äáº·t phÃ²ng & Check-in/out"}),e.jsx("li",{children:"Room Service & Housekeeping"}),e.jsx("li",{children:"Tour bookings & VÃ© xe buÃ½t"}),e.jsx("li",{children:"ThÃ´ng tin du lá»‹ch Ä‘á»‹a phÆ°Æ¡ng"}),e.jsx("li",{children:"Homestay & Äá»•i tiá»n, giáº·t á»§i"})]}),e.jsx("p",{className:"pl-6 text-xs italic text-gray-600 dark:text-gray-400 mt-1",children:"*Táº¥t cáº£ dá»‹ch vá»¥ nÃ y sáº½ do khÃ¡ch sáº¡n cung cáº¥p"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"microphone",children:"ğŸ¤"})," CÃCH Sá»¬ Dá»¤NG:"]}),e.jsx("p",{className:"pl-6 text-gray-700 dark:text-gray-300",children:"Nháº¥n mic â†’ NÃ“I yÃªu cáº§u â†’ Nháº­n pháº£n há»“i báº±ng giá»ng nÃ³i"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"light bulb",children:"ğŸ’¡"})," THá»¬ NGAY (6 ngÃ´n ngá»¯ Ä‘á»ƒ tráº£i nghiá»‡m):"]}),e.jsxs("div",{className:"pl-6 text-gray-700 dark:text-gray-300 italic",children:[e.jsx("p",{children:'"Äáº·t phÃ²ng cho 2 ngÆ°á»i tá»‘i nay"'}),e.jsx("p",{children:'"Order breakfast to room 101"'}),e.jsx("p",{children:'"Book tour Fairy Stream tomorrow"'})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-blue-900 dark:text-amber-400 font-poppins",children:"Content"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"target",children:"ğŸ¯"})," PURPOSE:"]}),e.jsx("p",{className:"pl-6 text-gray-700 dark:text-gray-300",children:"Replace human receptionists with an AI Voice Assistant trained with the specific information and services of a hotel."})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"money",children:"ğŸ’°"})," VALUE PROPOSITION:"]}),e.jsxs("ul",{className:"list-inside list-disc pl-6 space-y-1 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"Serves multiple languages â€“ no interpreter needed"}),e.jsx("li",{children:"Operates 24/7 â€“ never takes a break"}),e.jsx("li",{children:"Handles multiple guests simultaneously"}),e.jsx("li",{children:"Increases service revenue through smart suggestions"})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"speech bubble",children:"ğŸ—£ï¸"})," HIGHLIGHT:"]}),e.jsx("p",{className:"pl-6 text-gray-700 dark:text-gray-300",children:"Voice Bot â€“ You SPEAK with AI, no typing needed!"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"bell",children:"ğŸ””"})," AI VOICE BOT FEATURES:"]}),e.jsxs("ul",{className:"list-inside list-disc pl-6 space-y-1 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"Booking & Check-in/out"}),e.jsx("li",{children:"Room Service & Housekeeping"}),e.jsx("li",{children:"Tour bookings & Bus tickets"}),e.jsx("li",{children:"Local tourism information"}),e.jsx("li",{children:"Homestay & Currency exchange, laundry"})]}),e.jsx("p",{className:"pl-6 text-xs italic text-gray-600 dark:text-gray-400 mt-1",children:"*All these services are provided by the hotel"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"microphone",children:"ğŸ¤"})," HOW TO USE:"]}),e.jsx("p",{className:"pl-6 text-gray-700 dark:text-gray-300",children:"Press mic â†’ SPEAK request â†’ Receive voice response"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[e.jsx("span",{role:"img","aria-label":"light bulb",children:"ğŸ’¡"})," TRY NOW (6 languages to experience):"]}),e.jsxs("div",{className:"pl-6 text-gray-700 dark:text-gray-300 italic",children:[e.jsx("p",{children:'"Book a room for 2 people tonight"'}),e.jsx("p",{children:'"Order breakfast to room 101"'}),e.jsx("p",{children:'"Book tour Fairy Stream tomorrow"'})]})]})]})]}),e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsx(O,{onClick:t,className:"font-bold text-lg bg-yellow-400 hover:bg-yellow-500 text-blue-900 px-8 py-6 rounded-full shadow-lg transition-transform transform hover:scale-105",children:"ÄÃ³ng / Close"})})]})}),Bx=()=>{var g,N;const{currentInterface:t,language:s,setLanguage:n,hotelConfig:a,setHotelConfig:o}=Ce(),{config:i,isLoading:c,error:l}=He(),[h,d]=r.useState(!1),[u,p]=r.useState(!1),f=r.useMemo(()=>({interface1:t==="interface1",interface2:t==="interface2",interface3:t==="interface3",interface3vi:t==="interface3vi",interface3fr:t==="interface3fr",interface4:t==="interface4"}),[t]);r.useEffect(()=>{console.log("ğŸ”„ Current interface changed to:",t)},[t]),r.useEffect(()=>{i&&i!==a&&(console.log("ğŸ¨ Hotel configuration loaded:",i),o(i))},[i,a,o]),r.useEffect(()=>{localStorage.getItem("hasSeenWelcomePopup")||(p(!0),localStorage.setItem("hasSeenWelcomePopup","true"))},[]);const v=T=>{n(T)},y=((i==null?void 0:i.supportedLanguages)||["en"]).filter(T=>["en","fr","zh","ru","ko","vi"].includes(T));return c||!i?e.jsx("div",{className:"relative h-screen overflow-hidden font-sans text-gray-800 bg-neutral-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Loading hotel configuration..."})]})}):l&&!i?e.jsx("div",{className:"relative h-screen overflow-hidden font-sans text-gray-800 bg-neutral-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ne,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-600 text-lg font-semibold mb-2",children:"Configuration Error"}),e.jsx("p",{className:"text-gray-600 mb-4",children:l}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors",children:"Reload Page"})]})}):e.jsxs("div",{className:"relative h-screen overflow-hidden font-sans text-gray-800 bg-neutral-50",id:"app",children:[u&&e.jsx(Ox,{onClose:()=>p(!1)}),l&&e.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Ne,{className:"h-5 w-5 text-yellow-400"})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-yellow-700",children:l})})]})}),e.jsx("header",{className:"w-full bg-primary text-white p-4 shadow-md",style:{backgroundColor:((N=(g=i==null?void 0:i.branding)==null?void 0:g.colors)==null?void 0:N.primary)||"#1e40af"},children:e.jsxs("div",{className:"container mx-auto flex items-center justify-between px-2",children:[e.jsxs("div",{className:"flex items-center justify-start ml-1 sm:ml-4 mr-2 sm:mr-6 gap-3 min-w-fit",children:[e.jsx("img",{src:i.branding.logo,alt:`${i.hotelName} Logo`,className:"h-10 sm:h-14 w-auto rounded-lg shadow-md bg-white/80 p-1",onError:T=>{T.currentTarget.src="/assets/references/images/minhon-logo.jpg"}}),e.jsx("span",{className:"font-poppins font-bold text-xl sm:text-2xl lg:text-3xl whitespace-nowrap",style:{color:i.branding.colors.secondary,textShadow:"0px 1px 2px rgba(0,0,0,0.18)"},children:i.headerText})]}),e.jsx("div",{className:"flex-1"}),e.jsxs("div",{className:"flex items-center gap-2",children:[i.features.multiLanguage&&e.jsxs("div",{className:"flex items-center px-2 py-1 rounded bg-primary-dark text-white text-xs sm:text-sm",children:[e.jsx(na,{className:"text-[#F9BF3B] text-sm sm:text-base mr-1.5"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:s,onChange:T=>v(T.target.value),className:"appearance-none bg-transparent focus:outline-none transition-all duration-200 pr-6",style:{fontWeight:600,color:"#fff",textShadow:"0px 1px 2px rgba(0, 0, 0, 0.2)"},children:y.map(T=>{const ee={en:"ğŸ‡¬ğŸ‡§ EN",fr:"ğŸ‡«ğŸ‡· FR",zh:"ğŸ‡¨ğŸ‡³ ZH",ru:"ğŸ‡·ğŸ‡º RU",ko:"ğŸ‡°ğŸ‡· KO",vi:"ğŸ‡»ğŸ‡³ VI"};return e.jsx("option",{value:T,children:ee[T]},T)})}),e.jsx(Is,{className:"absolute right-0 top-1/2 -translate-y-1/2 text-[#F9BF3B] pointer-events-none text-sm"})]})]}),e.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-1 px-2 py-1 rounded bg-primary-dark text-white text-xs sm:text-sm hover:bg-primary-darker transition-colors",title:"View Steps",children:[e.jsx($n,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Steps"})]}),i.features.callHistory&&e.jsxs(ke,{href:"/call-history",className:"flex items-center gap-1 px-2 py-1 rounded bg-primary-dark text-white text-xs sm:text-sm hover:bg-primary-darker transition-colors",children:[e.jsx(Tn,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Call History"})]})]})]})}),h&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 relative",children:[e.jsx("button",{onClick:()=>d(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:e.jsx(at,{className:"w-6 h-6"})}),e.jsx("div",{className:"mt-4",children:e.jsx(Fx,{horizontal:!1,compact:!1,currentStep:t==="interface3"?3:t==="interface2"?2:1,language:s})})]})}),e.jsxs("div",{className:"relative w-full h-full",id:"interfaceContainer",children:[e.jsxs("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 bg-red-500/90 text-white p-3 rounded-lg text-sm z-[9999] font-mono",children:[e.jsx("div",{className:"font-bold",children:"ğŸ” DEBUG STATE:"}),e.jsxs("div",{children:["currentInterface: ",e.jsx("span",{className:"font-bold text-yellow-300",children:t})]}),e.jsxs("div",{children:["interface1: ",f.interface1?"ACTIVE":"inactive"]}),e.jsxs("div",{children:["interface2: ",f.interface2?"ACTIVE":"inactive"]}),e.jsxs("div",{children:["interface3: ",f.interface3?"ACTIVE":"inactive"]}),e.jsxs("div",{children:["Timestamp: ",new Date().toLocaleTimeString()]})]}),e.jsx(Ws,{isActive:f.interface1}),e.jsx(Ex,{isActive:f.interface2}),e.jsx(Lx,{isActive:f.interface3}),e.jsx(Mx,{isActive:f.interface4})]})]})},zx=r.createContext(void 0);class ef extends Oe.Component{constructor(s){super(s),this.state={hasError:!1,error:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,n){console.error("Hotel configuration error:",s,n)}render(){return this.state.hasError?this.props.fallback||e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[e.jsx(Ne,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Configuration Error"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Failed to load hotel configuration. Please try refreshing the page."}),e.jsxs("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md",children:[e.jsx(wt,{className:"w-4 h-4 inline mr-2"}),"Reload Page"]})]})}):this.props.children}}const Hx=({children:t})=>{const s=He(),{config:n,isLoading:a,error:o,reload:i}=s,c=N=>"",l=N=>"",h=N=>{var T;return((T=n==null?void 0:n.features)==null?void 0:T[N])??!1},d=()=>(n==null?void 0:n.supportedLanguages)||[],u=N=>(n==null?void 0:n.services)||[],p=()=>{var N,T,ee;return{primary:((N=n==null?void 0:n.branding)==null?void 0:N.colors.primary)||"#2E7D32",secondary:((T=n==null?void 0:n.branding)==null?void 0:T.colors.secondary)||"#FFC107",accent:((ee=n==null?void 0:n.branding)==null?void 0:ee.colors.accent)||"#FF6B6B"}},f=()=>{var N,T;return{primary:((N=n==null?void 0:n.branding)==null?void 0:N.fonts.primary)||"Inter",secondary:((T=n==null?void 0:n.branding)==null?void 0:T.fonts.secondary)||"Roboto"}},v=()=>null,x=()=>null,y=()=>"UTC",g=()=>"USD";return e.jsx(zx.Provider,{value:{config:n,loading:a,error:o,reload:i,getVapiPublicKey:c,getVapiAssistantId:l,hasFeature:h,getSupportedLanguages:d,getAvailableServices:u,getThemeColors:p,getFontFamilies:f,getContactInfo:v,getLocation:x,getTimezone:y,getCurrency:g},children:t})},I=r.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:S("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s}));I.displayName="Card";const R=r.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:S("flex flex-col space-y-1.5 p-6",t),...s}));R.displayName="CardHeader";const P=r.forwardRef(({className:t,...s},n)=>e.jsx("h3",{ref:n,className:S("text-2xl font-semibold leading-none tracking-tight",t),...s}));P.displayName="CardTitle";const K=r.forwardRef(({className:t,...s},n)=>e.jsx("p",{ref:n,className:S("text-sm text-muted-foreground",t),...s}));K.displayName="CardDescription";const A=r.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:S("p-6 pt-0",t),...s}));A.displayName="CardContent";const Vx=r.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:S("flex items-center p-6 pt-0",t),...s}));Vx.displayName="CardFooter";function qx(){return e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:e.jsx(I,{className:"w-full max-w-md mx-4",children:e.jsxs(A,{className:"pt-6",children:[e.jsxs("div",{className:"flex mb-4 gap-2",children:[e.jsx(Ne,{className:"h-8 w-8 text-red-500"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function Gx(){var d;const[t,s]=r.useState(null),[n,a]=r.useState(!1),o=Ce(),i=r.useRef(0),c=r.useCallback(()=>{console.log("useWebSocket env VITE_API_HOST:",void 0),t!==null&&t.close();const p=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`;console.log("Attempting WebSocket connection to",p);const f=new WebSocket(p);return f.onopen=()=>{console.log("WebSocket connection established"),a(!0),i.current=0,o.callDetails&&f.send(JSON.stringify({type:"init",callId:o.callDetails.id}))},f.onmessage=v=>{try{const x=JSON.parse(v.data);x.type==="transcript"&&o.addTranscript({callId:x.callId,role:x.role,content:x.content,tenantId:"default"}),x.type==="order_status_update"&&(x.orderId||x.reference)&&x.status&&o.setActiveOrders(y=>y.map(g=>x.reference&&g.reference===x.reference||x.orderId&&g.reference===x.orderId?{...g,status:x.status}:g))}catch(x){console.error("Error parsing WebSocket message:",x)}},f.onclose=v=>{if(console.log("WebSocket connection closed",v),a(!1),i.current<5){const x=Math.pow(2,i.current)*1e3;console.log(`Reconnecting WebSocket in ${x}ms (attempt ${i.current+1})`),setTimeout(c,x),i.current++}else console.warn("Max WebSocket reconnection attempts reached")},f.onerror=v=>{console.error("WebSocket encountered error",v),f.readyState!==WebSocket.CLOSED&&f.close()},s(f),()=>{f.close()}},[o.callDetails,o.addTranscript,o.activeOrders,o.setActiveOrders]),l=r.useCallback(u=>{t&&n?t.send(JSON.stringify(u)):console.error("Cannot send message, WebSocket not connected")},[t,n]),h=r.useCallback(()=>{n||c()},[n,c]);return r.useEffect(()=>(c(),()=>{t&&t.close()}),[]),r.useEffect(()=>{var u;t&&n&&((u=o.callDetails)!=null&&u.id)&&(console.log("Sending init message with callId after availability",o.callDetails.id),t.send(JSON.stringify({type:"init",callId:o.callDetails.id})))},[(d=o.callDetails)==null?void 0:d.id,t,n]),{connected:n,sendMessage:l,reconnect:h}}const Ux=({onLogin:t})=>{const[s,n]=r.useState(""),[a,o]=r.useState(""),[i,c]=r.useState(""),[l,h]=r.useState(!1),d=async u=>{if(u.preventDefault(),!s||!a){c("Please enter both username and password.");return}c("");try{const p=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,password:a})});if(!p.ok){const v=await p.json();c(v.error||"Login failed.");return}const f=await p.json();f.token?(localStorage.setItem("token",f.token),t()):c("Login failed: No token received.")}catch{c("Login failed: Network or server error.")}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-100 to-blue-300",children:e.jsxs("form",{onSubmit:d,className:"bg-white p-8 rounded-xl shadow-lg w-full max-w-md space-y-6 border border-gray-200",children:[e.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-4 text-center",children:"Staff Login"}),i&&e.jsx("div",{className:"text-red-500 text-sm mb-2",children:i}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Username"}),e.jsx("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400",value:s,onChange:u=>n(u.target.value),autoFocus:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:l?"text":"password",className:"w-full p-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400",value:a,onChange:u=>o(u.target.value)}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>h(!l),children:l?e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):e.jsxs("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-700 hover:bg-blue-800 text-white font-semibold py-2 rounded-lg transition",children:"Login"})]})})},Wx=["ÄÃ£ ghi nháº­n","Äang thá»±c hiá»‡n","ÄÃ£ thá»±c hiá»‡n vÃ  Ä‘ang bÃ n giao cho khÃ¡ch","HoÃ n thiá»‡n","LÆ°u Ã½ khÃ¡c"],Kx=({request:t,onClose:s,onStatusChange:n,onOpenMessage:a})=>{const[o,i]=r.useState(t.status);return t?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 w-full max-w-lg relative",children:[e.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-blue-700",onClick:s,children:"Ã—"}),e.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-4",children:"Request Details"}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{children:[e.jsx("b",{children:"Room:"})," ",t.room]}),e.jsxs("div",{children:[e.jsx("b",{children:"Order ID:"})," ",t.id]}),e.jsxs("div",{children:[e.jsx("b",{children:"Guest Name:"})," ",t.guestName]}),e.jsxs("div",{children:[e.jsx("b",{children:"Content:"})," ",t.content]}),e.jsxs("div",{children:[e.jsx("b",{children:"Time:"})," ",t.time]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("b",{children:"Status:"}),e.jsx("select",{className:"border rounded px-2 py-1 text-xs",value:o,onChange:c=>i(c.target.value),children:Wx.map(c=>e.jsx("option",{value:c,children:c},c))})]}),e.jsxs("div",{children:[e.jsx("b",{children:"Notes:"})," ",t.notes||"-"]})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded font-semibold",onClick:()=>{o!==t.status&&n(o)},children:"Cáº­p Nháº­t"}),e.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded font-semibold",onClick:a,children:"Nháº¯n khÃ¡ch"}),e.jsx("button",{className:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded font-semibold",onClick:s,children:"ÄÃ³ng"})]})]})}):null},Xx=({messages:t,onSend:s,onClose:n,loading:a})=>{const[o,i]=r.useState(""),c=()=>{o.trim()&&(s(o),i(""))};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-5 w-full max-w-md relative flex flex-col",children:[e.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-blue-700",onClick:n,children:"Ã—"}),e.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-3",children:"Nháº¯n tin tá»›i Guest"}),e.jsx("div",{className:"flex-1 overflow-y-auto mb-3 max-h-60 border rounded p-2 bg-gray-50",children:t.length===0?e.jsx("div",{className:"text-gray-400 text-sm text-center",children:"ChÆ°a cÃ³ tin nháº¯n"}):t.map(l=>e.jsxs("div",{className:`mb-2 ${l.sender==="staff"?"text-right":"text-left"}`,children:[e.jsxs("div",{className:`inline-block px-3 py-1 rounded-lg ${l.sender==="staff"?"bg-blue-100 text-blue-900":"bg-gray-200 text-gray-800"}`,children:[e.jsxs("span",{className:"font-semibold",children:[l.sender==="staff"?"Staff":"Guest",":"]})," ",l.content]}),e.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:l.time})]},l.id))}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("input",{type:"text",className:"flex-1 border rounded px-2 py-1",placeholder:"Nháº­p tin nháº¯n...",value:o,onChange:l=>i(l.target.value),onKeyDown:l=>{l.key==="Enter"&&c()},disabled:a}),e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-1 rounded font-semibold",onClick:c,disabled:a||!o.trim(),children:"Gá»­i"})]})]})})},bt=["Táº¥t cáº£","ÄÃ£ ghi nháº­n","Äang thá»±c hiá»‡n","ÄÃ£ thá»±c hiá»‡n vÃ  Ä‘ang bÃ n giao cho khÃ¡ch","HoÃ n thiá»‡n","LÆ°u Ã½ khÃ¡c"],Vt=t=>{switch(t){case"ÄÃ£ ghi nháº­n":return"bg-gray-300 text-gray-800";case"Äang thá»±c hiá»‡n":return"bg-yellow-200 text-yellow-800";case"ÄÃ£ thá»±c hiá»‡n vÃ  Ä‘ang bÃ n giao cho khÃ¡ch":return"bg-blue-200 text-blue-800";case"HoÃ n thiá»‡n":return"bg-green-200 text-green-800";case"LÆ°u Ã½ khÃ¡c":return"bg-red-200 text-red-800";default:return"bg-gray-100 text-gray-700"}},Ks=()=>{const[t,s]=r.useState([]),[n,a]=r.useState(null),[o,i]=r.useState(!1),[c,l]=r.useState(!1),[h,d]=r.useState([]),[u,p]=r.useState(!1),[f,v]=r.useState("Táº¥t cáº£"),[x,y]=r.useState(""),[g,N]=r.useState(""),[T,ee]=r.useState(null),[B,X]=r.useState(!1),[he,J]=r.useState(!1),[ce,ne]=r.useState(""),[re,te]=r.useState(""),[W,H]=r.useState({}),C=As(),D=()=>localStorage.getItem("staff_token"),V=async()=>{const m=D();if(!m){C("/staff");return}try{const k=await fetch("/api/staff/requests",{headers:{Authorization:`Bearer ${m}`},credentials:"include"});if(k.status===401){localStorage.removeItem("staff_token"),C("/staff");return}const z=await k.json();console.log("Fetched requests data:",z),s(z)}catch(k){console.error("Failed to fetch requests:",k)}};r.useEffect(()=>{V();const m=setInterval(V,3e4);return()=>clearInterval(m)},[]);const _=()=>{i(!1),a(null)},j=async(m,k)=>{const z=D();if(!z)return C("/staff");try{await fetch(`/api/staff/requests/${k}/status`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${z}`},credentials:"include",body:JSON.stringify({status:m})}),s(we=>we.map(_e=>_e.id===k?{..._e,status:m}:_e)),n&&n.id===k&&a({...n,status:m})}catch(we){console.error("Failed to update status:",we)}},b=async()=>{if(l(!0),!n)return;const m=D();if(!m)return C("/staff");try{const z=await(await fetch(`/api/staff/requests/${n.id}/messages`,{headers:{Authorization:`Bearer ${m}`},credentials:"include"})).json();d(z)}catch{d([])}},$=()=>l(!1),E=async m=>{p(!0);const k=D();if(!k)return C("/staff");try{await fetch(`/api/staff/requests/${n.id}/message`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k}`},credentials:"include",body:JSON.stringify({content:m})}),d(z=>[...z,{id:(z.length+1).toString(),sender:"staff",content:m,time:new Date().toLocaleTimeString().slice(0,5)}])}catch{}p(!1)},ae=async()=>{J(!0),ne(""),te("")},me=async()=>{if(ce!=="2208"){te("Máº­t kháº©u khÃ´ng Ä‘Ãºng");return}X(!0);try{const m=D();if(!m)return J(!1),C("/staff");const z=await(await fetch("/api/staff/requests/all",{method:"DELETE",headers:{Authorization:`Bearer ${m}`},credentials:"include"})).json();J(!1),z.success?(alert(`${z.message}`),s([])):alert(`Lá»—i: ${z.error||"KhÃ´ng thá»ƒ xÃ³a requests"}`)}catch(m){console.error("Error deleting all requests:",m),alert("ÄÃ£ xáº£y ra lá»—i khi xÃ³a requests"),J(!1)}finally{X(!1),ne("")}},ie=t.filter(m=>{if(f!=="Táº¥t cáº£"&&m.status!==f)return!1;if(x||g){const k=new Date(m.created_at);if(x){const z=new Date(x);if(z.setHours(0,0,0,0),k<z)return!1}if(g){const z=new Date(g);if(z.setHours(23,59,59,999),k>z)return!1}}return!0}),ue=m=>{m.key==="Enter"&&me(),re&&te("")},xe=m=>{m.stopPropagation()};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-200 p-2 sm:p-6",children:[e.jsxs("div",{className:"max-w-7xl mx-auto bg-white rounded-xl shadow-lg p-3 sm:p-6 border border-gray-200",children:[e.jsxs("div",{className:"flex flex-col items-center mb-6",children:[e.jsx("img",{src:"/assets/references/images/minhon-logo.jpg",alt:"Minhon Logo",className:"h-16 object-contain mb-2"}),e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-blue-900 text-center",children:"Staff Request Management"})]}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("button",{onClick:()=>C("/analytics"),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-semibold shadow transition",children:"View Analytics"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:ae,disabled:B||t.length===0,className:`bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-semibold shadow transition ${B||t.length===0?"opacity-50 cursor-not-allowed":""}`,children:B?"Deleting...":"Delete All Requests"}),e.jsx("button",{onClick:V,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold shadow transition",children:"Refresh"})]})]}),e.jsxs("div",{className:"mb-4 grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[e.jsx("label",{className:"font-semibold text-blue-900 w-full sm:w-auto",children:"Lá»c theo tráº¡ng thÃ¡i:"}),e.jsx("select",{className:"w-full sm:w-auto border rounded px-3 py-1 text-sm",value:f,onChange:m=>v(m.target.value),children:bt.map(m=>e.jsx("option",{value:m,children:m},m))})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[e.jsx("label",{className:"font-semibold text-blue-900 w-full sm:w-auto",children:"Lá»c theo thá»i gian:"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 w-full sm:w-auto",children:[e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("label",{className:"text-sm text-gray-600 min-w-10",children:"Tá»«:"}),e.jsx("input",{type:"date",className:"border rounded px-2 py-1 text-sm w-full",value:x,onChange:m=>y(m.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[e.jsx("label",{className:"text-sm text-gray-600 min-w-10",children:"Äáº¿n:"}),e.jsx("input",{type:"date",className:"border rounded px-2 py-1 text-sm w-full",value:g,onChange:m=>N(m.target.value)})]}),(x||g)&&e.jsx("button",{onClick:()=>{y(""),N("")},className:"text-blue-600 hover:text-blue-800 text-sm mt-2 sm:mt-0",children:"XÃ³a lá»c"})]})]})]}),e.jsx("div",{className:"block sm:hidden",children:e.jsxs("div",{className:"space-y-4",children:[(console.log("Mobile rendering - filteredRequests:",ie),null),ie.length>0?[...ie].sort((m,k)=>new Date(k.created_at).getTime()-new Date(m.created_at).getTime()).map(m=>e.jsxs("div",{className:"border rounded-lg p-3 bg-white shadow-sm",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsxs("div",{className:"font-semibold",children:["PhÃ²ng: ",m.room_number||"N/A"]}),e.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-semibold ${Vt(m.status)}`,children:m.status||"ChÆ°a xÃ¡c Ä‘á»‹nh"})]}),e.jsxs("div",{className:"text-sm text-gray-500 mb-2",children:["Order ID: ",m.orderId||m.id||"N/A"]}),e.jsx("div",{className:"text-xs text-gray-500 mb-3",children:m.created_at?e.jsxs(e.Fragment,{children:[new Date(m.created_at).toLocaleDateString()," ",new Date(m.created_at).toLocaleTimeString()]}):"Thá»i gian khÃ´ng xÃ¡c Ä‘á»‹nh"}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("button",{onClick:()=>ee(T===m.id?null:m.id),className:"w-full flex justify-between items-center py-1 px-2 border rounded bg-gray-50 hover:bg-gray-100",children:[e.jsx("span",{className:"text-sm font-medium text-blue-700",children:T===m.id?"áº¨n ná»™i dung":"Xem ná»™i dung"}),e.jsx("svg",{className:`w-4 h-4 text-blue-700 transition-transform ${T===m.id?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),T===m.id&&e.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded-md whitespace-pre-line break-words text-sm",children:m.request_content||"KhÃ´ng cÃ³ ná»™i dung"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("select",{className:"border rounded px-2 py-2 text-sm w-full",value:W[m.id]??m.status,onChange:k=>H(z=>({...z,[m.id]:k.target.value})),children:bt.filter(k=>k!=="Táº¥t cáº£").map(k=>e.jsx("option",{value:k,children:k},k))}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-2 py-2 rounded text-sm font-semibold",onClick:async()=>{const k=W[m.id];k&&k!==m.status&&(await j(k,m.id),H(z=>{const{[m.id]:we,..._e}=z;return _e}))},children:"Cáº­p Nháº­t"}),e.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-2 py-2 rounded text-sm font-semibold",onClick:()=>{a(m),b()},children:"Nháº¯n khÃ¡ch"})]})]})]},m.id)):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("p",{children:"KhÃ´ng cÃ³ yÃªu cáº§u nÃ o"}),e.jsx("p",{className:"mt-2 text-sm",children:"Nháº¥n Refresh Ä‘á»ƒ táº£i láº¡i dá»¯ liá»‡u"})]})]})}),e.jsx("div",{className:"hidden sm:block overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-blue-100 text-blue-900",children:[e.jsx("th",{className:"py-2 px-3 text-left",children:"Room"}),e.jsx("th",{className:"py-2 px-3 text-left",children:"Order ID"}),e.jsx("th",{className:"py-2 px-6 text-left w-3/5",children:"Content"}),e.jsx("th",{className:"py-2 px-3 text-left",children:"Time"}),e.jsx("th",{className:"py-2 px-2 text-left w-1/12",children:"Status"}),e.jsx("th",{className:"py-2 px-3 text-left",children:"Action"})]})}),e.jsxs("tbody",{children:[(Array.isArray(ie)?[...ie].sort((m,k)=>new Date(k.created_at).getTime()-new Date(m.created_at).getTime()):[]).map(m=>e.jsxs("tr",{className:"border-b hover:bg-blue-50",children:[e.jsx("td",{className:"py-2 px-3 font-semibold",children:m.room_number}),e.jsx("td",{className:"py-2 px-3",children:m.orderId||m.id}),e.jsx("td",{className:"py-2 px-6 whitespace-pre-line break-words max-w-4xl",children:m.request_content}),e.jsxs("td",{className:"py-2 px-3",children:[m.created_at&&e.jsx("span",{className:"block whitespace-nowrap",children:new Date(m.created_at).toLocaleDateString()}),m.created_at&&e.jsx("span",{className:"block whitespace-nowrap text-xs text-gray-500",children:new Date(m.created_at).toLocaleTimeString()})]}),e.jsx("td",{className:"py-2 px-2",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${Vt(m.status)} break-words whitespace-normal block text-center`,children:m.status})}),e.jsxs("td",{className:"py-2 px-3 space-x-2",children:[e.jsx("select",{className:"border rounded px-2 py-1 text-xs",value:W[m.id]??m.status,onChange:k=>H(z=>({...z,[m.id]:k.target.value})),children:bt.filter(k=>k!=="Táº¥t cáº£").map(k=>e.jsx("option",{value:k,children:k},k))}),e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-xs font-semibold",onClick:async()=>{const k=W[m.id];k&&k!==m.status&&(await j(k,m.id),H(z=>{const{[m.id]:we,..._e}=z;return _e}))},children:"Cáº­p Nháº­t"}),e.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-xs font-semibold",onClick:()=>{a(m),b()},children:"Nháº¯n khÃ¡ch"})]})]},m.id)),ie.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"py-8 text-center text-gray-500",children:"KhÃ´ng cÃ³ yÃªu cáº§u nÃ o"})})]})]})})]}),o&&n&&e.jsx(Kx,{request:n,onClose:_,onStatusChange:m=>j(m,n.id),onOpenMessage:b}),c&&n&&e.jsx(Xx,{messages:h,onClose:$,onSend:E,loading:u}),he&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md mx-4",onClick:xe,children:[e.jsx("h3",{className:"text-lg font-bold text-red-600 mb-4",children:"XÃ¡c nháº­n xÃ³a toÃ n bá»™ requests"}),e.jsx("p",{className:"mb-4 text-gray-700",children:"HÃ nh Ä‘á»™ng nÃ y sáº½ xÃ³a táº¥t cáº£ requests vÃ  khÃ´ng thá»ƒ hoÃ n tÃ¡c. Vui lÃ²ng nháº­p máº­t kháº©u Ä‘á»ƒ xÃ¡c nháº­n:"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("input",{type:"password",value:ce,onChange:m=>ne(m.target.value),onKeyDown:ue,className:`w-full px-3 py-2 border rounded ${re?"border-red-500":"border-gray-300"} focus:outline-none focus:ring-2 focus:ring-red-500`,placeholder:"Nháº­p máº­t kháº©u xÃ¡c nháº­n",autoFocus:!0}),re&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:re}),e.jsx("p",{className:"text-gray-500 text-xs mt-2 italic",children:"Biá»‡n phÃ¡p báº£o vá»‡: Chá»©c nÄƒng xÃ³a yÃªu cáº§u máº­t kháº©u xÃ¡c nháº­n Ä‘á»ƒ ngÄƒn ngá»«a xÃ³a dá»¯ liá»‡u do nháº§m láº«n."})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>J(!1),className:"px-4 py-2 bg-gray-300 hover:bg-gray-400 rounded transition duration-200",children:"Há»§y"}),e.jsx("button",{onClick:me,disabled:B,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded transition duration-200 flex items-center disabled:opacity-70",children:B?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Äang xÃ³a..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"XÃ¡c nháº­n xÃ³a"]})})]})]})})]})},Yx=()=>{const[t,s]=r.useState(!1),n=()=>s(!0);return t?e.jsx(Ks,{}):e.jsx(Ux,{onLogin:n})},qt=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF4560"],Qx=()=>{const[t,s]=r.useState(null),[n,a]=r.useState([]),[o,i]=r.useState([]),c=As(),l=async h=>{const d=localStorage.getItem("staff_token");if(!d)return c("/staff"),null;try{const u=await fetch(h,{headers:{Authorization:`Bearer ${d}`}});return u.status===401?(c("/staff"),null):u.json()}catch(u){return console.error(`Failed to fetch from ${h}:`,u),null}};return r.useEffect(()=>{(async()=>{const d=await l("/api/analytics/overview"),u=await l("/api/analytics/service-distribution"),p=await l("/api/analytics/hourly-activity");d&&s(d),u&&a(u),p&&i(p)})()},[]),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-100 to-gray-200 p-4 sm:p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800",children:"Analytics Dashboard"}),e.jsx("button",{onClick:()=>c("/staff/dashboard"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold shadow transition",children:"Back to Staff Dashboard"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Total Calls"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:(t==null?void 0:t.totalCalls)||"..."})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Avg. Call Duration"}),e.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[(t==null?void 0:t.averageCallDuration)||"...","s"]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Languages"}),e.jsx(gt,{width:"100%",height:150,children:e.jsxs(ia,{children:[e.jsx(ra,{data:t==null?void 0:t.languageDistribution,dataKey:"count",nameKey:"language",cx:"50%",cy:"50%",outerRadius:60,fill:"#8884d8",label:!0,children:t==null?void 0:t.languageDistribution.map((h,d)=>e.jsx(oa,{fill:qt[d%qt.length]},`cell-${d}`))}),e.jsx(pt,{})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Popular Services"}),e.jsx(gt,{width:"100%",height:300,children:e.jsxs(la,{data:n,margin:{top:5,right:20,left:10,bottom:5},children:[e.jsx(Pt,{strokeDasharray:"3 3"}),e.jsx(Et,{dataKey:"serviceType"}),e.jsx(Lt,{}),e.jsx(pt,{}),e.jsx(Mt,{}),e.jsx(ca,{dataKey:"count",fill:"#8884d8"})]})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Hourly Activity"}),e.jsx(gt,{width:"100%",height:300,children:e.jsxs(da,{data:o,margin:{top:5,right:20,left:10,bottom:5},children:[e.jsx(Pt,{strokeDasharray:"3 3"}),e.jsx(Et,{dataKey:"hour"}),e.jsx(Lt,{}),e.jsx(pt,{}),e.jsx(Mt,{}),e.jsx(ha,{type:"monotone",dataKey:"count",stroke:"#82ca9d"})]})})]})]})]})})},Jx=Ue("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-dark"}},defaultVariants:{variant:"default"}});function oe({className:t,variant:s,...n}){return e.jsx("div",{className:S(Jx({variant:s}),t),...n})}const Xs=r.forwardRef(({className:t,...s},n)=>e.jsx(Qt,{ref:n,className:S("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...s}));Xs.displayName=Qt.displayName;const Ys=r.forwardRef(({className:t,...s},n)=>e.jsx(Jt,{ref:n,className:S("aspect-square h-full w-full",t),...s}));Ys.displayName=Jt.displayName;const Qs=r.forwardRef(({className:t,...s},n)=>e.jsx(Zt,{ref:n,className:S("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...s}));Qs.displayName=Zt.displayName;const Zx=un,eg=xn,tg=r.forwardRef(({className:t,inset:s,children:n,...a},o)=>e.jsxs(es,{ref:o,className:S("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",t),...a,children:[n,e.jsx(Me,{className:"ml-auto h-4 w-4"})]}));tg.displayName=es.displayName;const sg=r.forwardRef(({className:t,...s},n)=>e.jsx(ts,{ref:n,className:S("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));sg.displayName=ts.displayName;const Js=r.forwardRef(({className:t,sideOffset:s=4,...n},a)=>e.jsx(mn,{children:e.jsx(ss,{ref:a,sideOffset:s,className:S("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Js.displayName=ss.displayName;const st=r.forwardRef(({className:t,inset:s,...n},a)=>e.jsx(ns,{ref:a,className:S("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",t),...n}));st.displayName=ns.displayName;const ng=r.forwardRef(({className:t,children:s,checked:n,...a},o)=>e.jsxs(as,{ref:o,className:S("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(is,{children:e.jsx(_t,{className:"h-4 w-4"})})}),s]}));ng.displayName=as.displayName;const ag=r.forwardRef(({className:t,children:s,...n},a)=>e.jsxs(rs,{ref:a,className:S("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(is,{children:e.jsx(In,{className:"h-2 w-2 fill-current"})})}),s]}));ag.displayName=rs.displayName;const Zs=r.forwardRef(({className:t,inset:s,...n},a)=>e.jsx(os,{ref:a,className:S("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...n}));Zs.displayName=os.displayName;const yt=r.forwardRef(({className:t,...s},n)=>e.jsx(ls,{ref:n,className:S("-mx-1 my-1 h-px bg-muted",t),...s}));yt.displayName=ls.displayName;const ig=[{href:"/dashboard",icon:ws,label:"Tá»•ng quan",description:"Metrics vÃ  thá»‘ng kÃª tá»•ng quan"},{href:"/dashboard/setup",icon:Ie,label:"Thiáº¿t láº­p Assistant",description:"Cáº¥u hÃ¬nh vÃ  tÃ¹y chá»‰nh AI Assistant"},{href:"/dashboard/analytics",icon:_s,label:"PhÃ¢n tÃ­ch",description:"BÃ¡o cÃ¡o vÃ  thá»‘ng kÃª chi tiáº¿t"},{href:"/dashboard/settings",icon:Ae,label:"CÃ i Ä‘áº·t",description:"Quáº£n lÃ½ thÃ´ng tin khÃ¡ch sáº¡n"}],rg=[{href:"/dashboard/billing",icon:ks,label:"Thanh toÃ¡n",description:"Quáº£n lÃ½ subscription vÃ  billing",requiresPlan:"basic"},{href:"/dashboard/team",icon:We,label:"NhÃ³m",description:"Quáº£n lÃ½ team vÃ  permissions",requiresPlan:"enterprise"}],og=({href:t,icon:s,label:n,description:a,isActive:o,disabled:i=!1})=>{const c=e.jsxs(O,{variant:o?"default":"ghost",className:S("w-full justify-start gap-3 px-3 py-6 h-auto","hover:bg-gray-100 dark:hover:bg-gray-800",o&&"bg-primary text-primary-foreground hover:bg-primary/90",i&&"opacity-50 cursor-not-allowed hover:bg-transparent"),disabled:i,children:[e.jsx(s,{className:"h-5 w-5 shrink-0"}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("div",{className:"font-medium",children:n}),e.jsx("div",{className:S("text-xs text-muted-foreground",o&&"text-primary-foreground/80"),children:a})]}),i&&e.jsx(oe,{variant:"outline",className:"text-xs",children:"Premium"})]});return i?e.jsx("div",{children:c}):e.jsx(ke,{href:t,children:c})},lg=({plan:t,status:s})=>{const n=()=>s==="expired"?"destructive":t==="trial"?"secondary":t==="enterprise"?"default":"outline",a=()=>t==="trial"?"DÃ¹ng thá»­":t==="basic"?"CÆ¡ báº£n":t==="premium"?"Cao cáº¥p":t==="enterprise"?"Doanh nghiá»‡p":t;return e.jsx(oe,{variant:n(),className:"text-xs",children:a()})},cg=(t,s)=>{if(!s)return!0;const n={trial:0,basic:1,premium:2,enterprise:3},a=n[t]??0,o=n[s]??0;return a>=o},dg=({isOpen:t,onClose:s,tenantData:n})=>{const[a]=Ge(),o=[...ig,...rg.filter(i=>i.requiresPlan&&n.subscriptionPlan!=="trial")];return e.jsx("aside",{className:S("fixed inset-y-0 left-0 z-50 w-80 bg-white dark:bg-gray-800 shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0",t?"translate-x-0":"-translate-x-full"),children:e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary text-primary-foreground",children:e.jsx(An,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold",children:"Talk2Go"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"SaaS Dashboard"})]})]}),e.jsx(O,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:s,children:e.jsx(at,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"px-6 py-4 border-b",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-lg",children:n.hotelName}),e.jsx("div",{className:"text-xs text-gray-500",children:n.subscriptionStatus==="active"?"Hoáº¡t Ä‘á»™ng":"Háº¿t háº¡n"})]}),e.jsx(lg,{plan:n.subscriptionPlan,status:n.subscriptionStatus})]}),e.jsx(ke,{href:"/interface1",className:"block mt-3 px-3 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 transition text-center",children:"Xem giao diá»‡n khÃ¡ch"})]}),e.jsx("nav",{className:"flex-1 p-4 space-y-2",children:o.map(i=>{const c=cg(n.subscriptionPlan,i.requiresPlan);return e.jsx(og,{href:i.href,icon:i.icon,label:i.label,description:i.description,isActive:a===i.href,disabled:!c},i.href)})}),e.jsx("div",{className:"p-4 border-t",children:e.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Â© 2024 Talk2Go. All rights reserved."})})]})})},Fe={id:"tenant-1",hotelName:"Mi Nhon Hotel",subscriptionPlan:"premium",subscriptionStatus:"active",remainingDays:15},hg=[{href:"/dashboard",icon:ws,label:"Tá»•ng quan",description:"Metrics vÃ  thá»‘ng kÃª tá»•ng quan"},{href:"/dashboard/setup",icon:Ie,label:"Thiáº¿t láº­p Assistant",description:"Cáº¥u hÃ¬nh vÃ  tÃ¹y chá»‰nh AI Assistant"},{href:"/dashboard/analytics",icon:_s,label:"PhÃ¢n tÃ­ch",description:"BÃ¡o cÃ¡o vÃ  thá»‘ng kÃª chi tiáº¿t"},{href:"/dashboard/settings",icon:Ae,label:"CÃ i Ä‘áº·t",description:"Quáº£n lÃ½ thÃ´ng tin khÃ¡ch sáº¡n"}],mg=t=>{const s=[];return t!=="trial"&&s.push({href:"/dashboard/billing",icon:ks,label:"Thanh toÃ¡n",description:"Quáº£n lÃ½ subscription vÃ  billing"}),t==="enterprise"&&s.push({href:"/dashboard/team",icon:We,label:"NhÃ³m",description:"Quáº£n lÃ½ team vÃ  permissions"}),s},Pe=({children:t})=>{const[s,n]=r.useState(!1);Ge();const{tenant:a,logout:o}=lt();return[...hg,...mg((a==null?void 0:a.subscriptionPlan)||Fe.subscriptionPlan)],e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s&&e.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:()=>n(!1)}),e.jsx(dg,{isOpen:s,onClose:()=>n(!1),tenantData:a||Fe}),e.jsxs("div",{className:"lg:ml-80",children:[e.jsx("header",{className:"sticky top-0 z-30 bg-white dark:bg-gray-800 border-b shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(O,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>n(!0),children:e.jsx(Dn,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Dashboard"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Quáº£n lÃ½ khÃ¡ch sáº¡n vÃ  AI Assistant"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(O,{variant:"ghost",size:"icon",className:"relative",children:[e.jsx(Cs,{className:"h-5 w-5"}),e.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 bg-red-500 rounded-full text-xs flex items-center justify-center text-white",children:"2"})]}),e.jsxs(Zx,{children:[e.jsx(eg,{asChild:!0,children:e.jsx(O,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:e.jsxs(Xs,{className:"h-10 w-10",children:[e.jsx(Ys,{src:"",alt:(a||Fe).hotelName}),e.jsx(Qs,{className:"bg-primary text-primary-foreground",children:(a||Fe).hotelName.charAt(0).toUpperCase()})]})})}),e.jsxs(Js,{className:"w-56",align:"end",children:[e.jsxs(Zs,{className:"flex flex-col",children:[e.jsx("div",{className:"font-medium",children:(a||Fe).hotelName}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["ID: ",(a||Fe).id]})]}),e.jsx(yt,{}),e.jsxs(st,{children:[e.jsx(Ae,{className:"mr-2 h-4 w-4"}),"CÃ i Ä‘áº·t tÃ i khoáº£n"]}),e.jsxs(st,{children:[e.jsx(Rn,{className:"mr-2 h-4 w-4"}),"Trá»£ giÃºp"]}),e.jsx(yt,{}),e.jsxs(st,{className:"text-red-600 focus:text-red-600",onClick:o,children:[e.jsx(Pn,{className:"mr-2 h-4 w-4"}),"ÄÄƒng xuáº¥t"]})]})]})]})]})}),e.jsx("main",{className:"p-6",children:t})]})]})},ct=r.forwardRef(({className:t,value:s,...n},a)=>e.jsx(cs,{ref:a,className:S("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:e.jsx(gn,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));ct.displayName=cs.displayName;const be={totalCalls:1247,totalCallsGrowth:12.5,averageCallDuration:245,callDurationGrowth:-5.2,activeUsers:89,activeUsersGrowth:8.3,satisfactionScore:4.7,satisfactionGrowth:2.1,languageDistribution:[{language:"Tiáº¿ng Viá»‡t",count:687,percentage:55.1},{language:"English",count:423,percentage:33.9},{language:"FranÃ§ais",count:137,percentage:11}],recentActivity:[{time:"2 phÃºt trÆ°á»›c",action:"Cuá»™c gá»i tá»« phÃ²ng 205",type:"call"},{time:"5 phÃºt trÆ°á»›c",action:"Äáº·t room service tá»« phÃ²ng 301",type:"service"},{time:"12 phÃºt trÆ°á»›c",action:"Há»i thÃ´ng tin vá» spa",type:"inquiry"},{time:"18 phÃºt trÆ°á»›c",action:"PhÃ n nÃ n vá» tiáº¿ng á»“n",type:"complaint"}]},Ee={usageLimit:5e3,currentUsage:1247,resetDate:"2024-01-01"},Je=({title:t,value:s,change:n,icon:a,description:o,suffix:i=""})=>e.jsxs(I,{children:[e.jsxs(R,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(P,{className:"text-sm font-medium",children:t}),e.jsx(a,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(A,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[s,i]}),e.jsxs("div",{className:"flex items-center pt-1",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:o}),n!==void 0&&e.jsxs("div",{className:`ml-auto flex items-center text-xs ${n>0?"text-green-600":"text-red-600"}`,children:[e.jsx(it,{className:`h-3 w-3 mr-1 ${n<0?"rotate-180":""}`}),Math.abs(n),"%"]})]})]})]}),ug=({time:t,action:s,type:n})=>{const a=()=>{switch(n){case"call":return e.jsx(Be,{className:"h-4 w-4 text-blue-500"});case"service":return e.jsx(Ie,{className:"h-4 w-4 text-green-500"});case"inquiry":return e.jsx(kt,{className:"h-4 w-4 text-purple-500"});case"complaint":return e.jsx(Ne,{className:"h-4 w-4 text-red-500"});default:return e.jsx(ot,{className:"h-4 w-4 text-gray-500"})}};return e.jsxs("div",{className:"flex items-center space-x-3 p-3 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0",children:a()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:s}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:t})]})]})},xg=()=>e.jsxs(I,{children:[e.jsxs(R,{children:[e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(Ae,{className:"h-5 w-5"}),"Thao tÃ¡c nhanh"]}),e.jsx(K,{children:"CÃ¡c tÃ­nh nÄƒng thÆ°á»ng dÃ¹ng"})]}),e.jsxs(A,{className:"space-y-3",children:[e.jsx(ke,{href:"/dashboard/setup",children:e.jsxs(O,{variant:"outline",className:"w-full justify-start",children:[e.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Cáº¥u hÃ¬nh AI Assistant"]})}),e.jsx(ke,{href:"/dashboard/analytics",children:e.jsxs(O,{variant:"outline",className:"w-full justify-start",children:[e.jsx(En,{className:"h-4 w-4 mr-2"}),"Xem bÃ¡o cÃ¡o chi tiáº¿t"]})}),e.jsx(ke,{href:"/dashboard/settings",children:e.jsxs(O,{variant:"outline",className:"w-full justify-start",children:[e.jsx(Ae,{className:"h-4 w-4 mr-2"}),"CÃ i Ä‘áº·t khÃ¡ch sáº¡n"]})})]})]}),gg=()=>{const t=Ee.currentUsage/Ee.usageLimit*100;return e.jsxs(I,{children:[e.jsxs(R,{children:[e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(ot,{className:"h-5 w-5"}),"Sá»­ dá»¥ng thÃ¡ng nÃ y"]}),e.jsx(K,{children:"Theo dÃµi giá»›i háº¡n subscription"})]}),e.jsxs(A,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Cuá»™c gá»i"}),e.jsxs("span",{children:[Ee.currentUsage.toLocaleString()," / ",Ee.usageLimit.toLocaleString()]})]}),e.jsx(ct,{value:t,className:"h-2"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"CÃ²n láº¡i"}),e.jsxs("span",{className:"font-medium",children:[(Ee.usageLimit-Ee.currentUsage).toLocaleString()," cuá»™c gá»i"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Ke,{className:"h-4 w-4"}),e.jsxs("span",{children:["Reset vÃ o ",Ee.resetDate]})]})]})]})},pg=()=>e.jsxs(I,{children:[e.jsx(R,{children:e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"h-5 w-5 text-green-500"}),"Tráº¡ng thÃ¡i há»‡ thá»‘ng"]})}),e.jsxs(A,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"AI Assistant"})]}),e.jsx(oe,{variant:"outline",className:"text-green-600",children:"Hoáº¡t Ä‘á»™ng"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"Voice API"})]}),e.jsx(oe,{variant:"outline",className:"text-green-600",children:"Hoáº¡t Ä‘á»™ng"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"Analytics"})]}),e.jsx(oe,{variant:"outline",className:"text-green-600",children:"Hoáº¡t Ä‘á»™ng"})]})]})]}),fg=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Tá»•ng quan"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Theo dÃµi hiá»‡u suáº¥t AI Assistant vÃ  hoáº¡t Ä‘á»™ng khÃ¡ch sáº¡n"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(Je,{title:"Tá»•ng cuá»™c gá»i",value:be.totalCalls.toLocaleString(),change:be.totalCallsGrowth,icon:Be,description:"ThÃ¡ng nÃ y"}),e.jsx(Je,{title:"Thá»i gian trung bÃ¬nh",value:Math.floor(be.averageCallDuration/60),change:be.callDurationGrowth,icon:Ke,description:"PhÃºt/cuá»™c gá»i",suffix:"m"}),e.jsx(Je,{title:"NgÆ°á»i dÃ¹ng hoáº¡t Ä‘á»™ng",value:be.activeUsers,change:be.activeUsersGrowth,icon:We,description:"Trong 7 ngÃ y"}),e.jsx(Je,{title:"Äiá»ƒm hÃ i lÃ²ng",value:be.satisfactionScore,change:be.satisfactionGrowth,icon:it,description:"TrÃªn 5 Ä‘iá»ƒm",suffix:"/5"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(I,{className:"lg:col-span-2",children:[e.jsxs(R,{children:[e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"h-5 w-5"}),"PhÃ¢n bá»‘ ngÃ´n ngá»¯"]}),e.jsx(K,{children:"NgÃ´n ngá»¯ Ä‘Æ°á»£c sá»­ dá»¥ng trong cÃ¡c cuá»™c gá»i"})]}),e.jsx(A,{children:e.jsx("div",{className:"space-y-4",children:be.languageDistribution.map(t=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium",children:t.language}),e.jsxs("span",{className:"text-muted-foreground",children:[t.count," (",t.percentage,"%)"]})]}),e.jsx(ct,{value:t.percentage,className:"h-2"})]},t.language))})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(xg,{}),e.jsx(gg,{})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(I,{children:[e.jsxs(R,{children:[e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(ot,{className:"h-5 w-5"}),"Hoáº¡t Ä‘á»™ng gáº§n Ä‘Ã¢y"]}),e.jsx(K,{children:"CÃ¡c sá»± kiá»‡n má»›i nháº¥t tá»« AI Assistant"})]}),e.jsx(A,{children:e.jsx("div",{className:"space-y-1",children:be.recentActivity.map((t,s)=>e.jsx(ug,{time:t.time,action:t.action,type:t.type},s))})})]}),e.jsx(pg,{})]})]}),Q=r.forwardRef(({className:t,type:s,...n},a)=>e.jsx("input",{type:s,className:S("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm font-medium text-dark placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...n}));Q.displayName="Input";const jg=Ue("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),M=r.forwardRef(({className:t,...s},n)=>e.jsx(ds,{ref:n,className:S(jg(),t),...s}));M.displayName=ds.displayName;const ve=yn,ye=Nn,ge=r.forwardRef(({className:t,children:s,...n},a)=>e.jsxs(hs,{ref:a,className:S("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[s,e.jsx(pn,{asChild:!0,children:e.jsx(Te,{className:"h-4 w-4 opacity-50"})})]}));ge.displayName=hs.displayName;const en=r.forwardRef(({className:t,...s},n)=>e.jsx(ms,{ref:n,className:S("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Ln,{className:"h-4 w-4"})}));en.displayName=ms.displayName;const tn=r.forwardRef(({className:t,...s},n)=>e.jsx(us,{ref:n,className:S("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Te,{className:"h-4 w-4"})}));tn.displayName=us.displayName;const pe=r.forwardRef(({className:t,children:s,position:n="popper",...a},o)=>e.jsx(fn,{children:e.jsxs(xs,{ref:o,className:S("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...a,children:[e.jsx(en,{}),e.jsx(jn,{className:S("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(tn,{})]})}));pe.displayName=xs.displayName;const bg=r.forwardRef(({className:t,...s},n)=>e.jsx(gs,{ref:n,className:S("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));bg.displayName=gs.displayName;const G=r.forwardRef(({className:t,children:s,...n},a)=>e.jsxs(ps,{ref:a,className:S("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(bn,{children:e.jsx(_t,{className:"h-4 w-4"})})}),e.jsx(vn,{children:s})]}));G.displayName=ps.displayName;const vg=r.forwardRef(({className:t,...s},n)=>e.jsx(fs,{ref:n,className:S("-mx-1 my-1 h-px bg-muted",t),...s}));vg.displayName=fs.displayName;const sn=r.forwardRef(({className:t,...s},n)=>e.jsx(js,{ref:n,className:S("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...s,children:e.jsx(wn,{className:S("flex items-center justify-center text-current"),children:e.jsx(_t,{className:"h-4 w-4"})})}));sn.displayName=js.displayName;const yg=Ue("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-dark",{variants:{variant:{default:"bg-background text-dark",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),dt=r.forwardRef(({className:t,variant:s,...n},a)=>e.jsx("div",{ref:a,role:"alert",className:S(yg({variant:s}),t),...n}));dt.displayName="Alert";const Ng=r.forwardRef(({className:t,...s},n)=>e.jsx("h5",{ref:n,className:S("mb-1 font-medium leading-none tracking-tight",t),...s}));Ng.displayName="AlertTitle";const ht=r.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:S("text-sm [&_p]:leading-relaxed",t),...s}));ht.displayName="AlertDescription";class wg{constructor(){this.baseUrl="/api/dashboard"}async researchHotel(s){try{return await Re({url:`${this.baseUrl}/research-hotel`,method:"POST",body:s})}catch(n){throw console.error("Hotel research failed:",n),this.handleApiError(n)}}async generateAssistant(s){try{return await Re({url:`${this.baseUrl}/generate-assistant`,method:"POST",body:s})}catch(n){throw console.error("Assistant generation failed:",n),this.handleApiError(n)}}async getHotelProfile(){try{return await Re({url:`${this.baseUrl}/hotel-profile`,method:"GET"})}catch(s){throw console.error("Failed to fetch hotel profile:",s),this.handleApiError(s)}}async updateAssistantConfig(s){try{return await Re({url:`${this.baseUrl}/assistant-config`,method:"PUT",body:s})}catch(n){throw console.error("Failed to update assistant config:",n),this.handleApiError(n)}}async getAnalytics(){try{return await Re({url:`${this.baseUrl}/analytics`,method:"GET"})}catch(s){throw console.error("Failed to fetch analytics:",s),this.handleApiError(s)}}async getServiceHealth(){try{return await Re({url:`${this.baseUrl}/service-health`,method:"GET"})}catch(s){throw console.error("Failed to fetch service health:",s),this.handleApiError(s)}}async resetAssistant(){try{return await Re({url:`${this.baseUrl}/reset-assistant`,method:"POST"})}catch(s){throw console.error("Failed to reset assistant:",s),this.handleApiError(s)}}handleApiError(s){if(s.error)return s;const n=s.message||"An unexpected error occurred",a=n.match(/^(\d+):\s*(.+)$/);if(a){const[,o,i]=a,c=parseInt(o);try{const l=JSON.parse(i);return{error:l.error||i,details:l.details,feature:l.feature,currentPlan:l.currentPlan,upgradeRequired:l.upgradeRequired,setupRequired:l.setupRequired,assistantRequired:l.assistantRequired,requiresResearch:l.requiresResearch}}catch{return{error:i,details:{statusCode:c}}}}return{error:n,details:{originalError:s}}}}const nn=new wg,_g=t=>t&&typeof t.name=="string"&&typeof t.address=="string"&&Array.isArray(t.services)&&Array.isArray(t.amenities)&&t.policies&&Array.isArray(t.roomTypes),kg=t=>t&&["professional","friendly","luxurious","casual","enthusiastic"].includes(t.personality)&&["formal","friendly","warm","energetic","calm"].includes(t.tone)&&Array.isArray(t.languages)&&t.languages.length>0&&["office","off","hotel-lobby"].includes(t.backgroundSound),Cg=[{value:"professional",label:"ChuyÃªn nghiá»‡p",description:"Lá»‹ch sá»±, trang trá»ng vÃ  Ä‘Ã¡ng tin cáº­y"},{value:"friendly",label:"ThÃ¢n thiá»‡n",description:"áº¤m Ã¡p, dá»… gáº§n vÃ  há»¯u Ã­ch"},{value:"luxurious",label:"Sang trá»ng",description:"Tinh táº¿, Ä‘áº³ng cáº¥p vÃ  chuyÃªn nghiá»‡p"},{value:"casual",label:"Thoáº£i mÃ¡i",description:"Tá»± nhiÃªn, gáº§n gÅ©i vÃ  dá»… chá»‹u"},{value:"enthusiastic",label:"Nhiá»‡t tÃ¬nh",description:"TÃ­ch cá»±c, nÄƒng Ä‘á»™ng vÃ  sÃ´i ná»•i"}],Sg=[{value:"formal",label:"Trang trá»ng",description:"Lá»‹ch sá»± vÃ  chuyÃªn nghiá»‡p"},{value:"friendly",label:"ThÃ¢n thiá»‡n",description:"áº¤m Ã¡p vÃ  dá»… gáº§n"},{value:"warm",label:"áº¤m Ã¡p",description:"Gáº§n gÅ©i vÃ  chÄƒm sÃ³c"},{value:"energetic",label:"NÄƒng Ä‘á»™ng",description:"TÃ­ch cá»±c vÃ  sÃ´i ná»•i"},{value:"calm",label:"Äiá»m tÄ©nh",description:"BÃ¬nh tÄ©nh vÃ  thÆ° thÃ¡i"}],$g=[{value:"vi",label:"Tiáº¿ng Viá»‡t",flag:"ğŸ‡»ğŸ‡³"},{value:"en",label:"English",flag:"ğŸ‡ºğŸ‡¸"},{value:"fr",label:"FranÃ§ais",flag:"ğŸ‡«ğŸ‡·"},{value:"ko",label:"í•œêµ­ì–´",flag:"ğŸ‡°ğŸ‡·"},{value:"zh",label:"ä¸­æ–‡",flag:"ğŸ‡¨ğŸ‡³"},{value:"ru",label:"Ğ ÑƒÑÑĞºĞ¸Ğ¹",flag:"ğŸ‡·ğŸ‡º"}],Tg=[{value:"hotel-lobby",label:"Sáº£nh khÃ¡ch sáº¡n",description:"Nháº¡c ná»n nháº¹ nhÃ ng"},{value:"office",label:"VÄƒn phÃ²ng",description:"Ã‚m thanh vÄƒn phÃ²ng"},{value:"off",label:"Táº¯t Ã¢m thanh",description:"KhÃ´ng cÃ³ Ã¢m thanh ná»n"}],Ig=({state:t,onNext:s,onError:n,onUpdateState:a})=>{const o=(l,h)=>{a({formData:{...t.formData,[l]:h},validation:{...t.validation,[l]:null}})},i=()=>{const l={};return t.formData.hotelName.trim()?t.formData.hotelName.length<2&&(l.hotelName="TÃªn khÃ¡ch sáº¡n pháº£i cÃ³ Ã­t nháº¥t 2 kÃ½ tá»±"):l.hotelName="TÃªn khÃ¡ch sáº¡n lÃ  báº¯t buá»™c",a({validation:{...t.validation,...l}}),Object.keys(l).length===0},c=async()=>{if(i()){a({isResearching:!0,error:null});try{const l=await nn.researchHotel({hotelName:t.formData.hotelName,location:t.formData.location||void 0,researchTier:t.formData.researchTier});l.success&&_g(l.hotelData)?s(l.hotelData):n({error:"Dá»¯ liá»‡u khÃ¡ch sáº¡n khÃ´ng há»£p lá»‡"})}catch(l){n(l)}finally{a({isResearching:!1})}}};return e.jsxs(I,{className:"max-w-2xl mx-auto",children:[e.jsxs(R,{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary text-primary-foreground",children:e.jsx(It,{className:"h-6 w-6"})})}),e.jsx(P,{className:"text-2xl",children:"TÃ¬m kiáº¿m thÃ´ng tin khÃ¡ch sáº¡n"}),e.jsx(K,{children:"ChÃºng tÃ´i sáº½ tá»± Ä‘á»™ng nghiÃªn cá»©u vÃ  thu tháº­p thÃ´ng tin vá» khÃ¡ch sáº¡n cá»§a báº¡n"})]}),e.jsxs(A,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"hotel-name",children:"TÃªn khÃ¡ch sáº¡n *"}),e.jsx(Q,{id:"hotel-name",placeholder:"VÃ­ dá»¥: Grand Hotel Saigon",value:t.formData.hotelName,onChange:l=>o("hotelName",l.target.value),className:`mt-1 ${t.validation.hotelName?"border-red-500":""}`}),t.validation.hotelName&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:t.validation.hotelName})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"location",children:"Äá»‹a Ä‘iá»ƒm (khÃ´ng báº¯t buá»™c)"}),e.jsx(Q,{id:"location",placeholder:"VÃ­ dá»¥: Ho Chi Minh City, Vietnam",value:t.formData.location,onChange:l=>o("location",l.target.value),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"research-tier",children:"Má»©c Ä‘á»™ nghiÃªn cá»©u"}),e.jsxs(ve,{value:t.formData.researchTier,onValueChange:l=>o("researchTier",l),children:[e.jsx(ge,{className:"mt-1",children:e.jsx(ye,{})}),e.jsxs(pe,{children:[e.jsx(G,{value:"basic",children:"CÆ¡ báº£n (Miá»…n phÃ­)"}),e.jsx(G,{value:"advanced",children:"NÃ¢ng cao (Premium)"})]})]})]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"ThÃ´ng tin sáº½ Ä‘Æ°á»£c thu tháº­p:"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"â€¢ ThÃ´ng tin cÆ¡ báº£n (Ä‘á»‹a chá»‰, sá»‘ Ä‘iá»‡n thoáº¡i, website)"}),e.jsx("li",{children:"â€¢ Dá»‹ch vá»¥ vÃ  tiá»‡n nghi"}),e.jsx("li",{children:"â€¢ CÃ¡c loáº¡i phÃ²ng vÃ  giÃ¡ cáº£"}),e.jsx("li",{children:"â€¢ ChÃ­nh sÃ¡ch check-in/check-out"}),e.jsx("li",{children:"â€¢ CÃ¡c Ä‘iá»ƒm tham quan gáº§n Ä‘Ã³"}),t.formData.researchTier==="advanced"&&e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"â€¢ Dá»¯ liá»‡u máº¡ng xÃ£ há»™i"}),e.jsx("li",{children:"â€¢ PhÃ¢n tÃ­ch Ä‘Ã¡nh giÃ¡ khÃ¡ch hÃ ng"}),e.jsx("li",{children:"â€¢ ThÃ´ng tin Ä‘á»‘i thá»§ cáº¡nh tranh"})]})]})]}),t.error&&e.jsxs(dt,{variant:"destructive",children:[e.jsx(Ne,{className:"h-4 w-4"}),e.jsxs(ht,{children:[t.error.error,t.error.upgradeRequired&&e.jsx("div",{className:"mt-2",children:e.jsx(O,{variant:"outline",size:"sm",children:"NÃ¢ng cáº¥p gÃ³i dá»‹ch vá»¥"})})]})]}),e.jsx(O,{onClick:c,disabled:!t.formData.hotelName.trim()||t.isResearching,className:"w-full",size:"lg",children:t.isResearching?e.jsxs(e.Fragment,{children:[e.jsx(De,{className:"w-4 h-4 mr-2 animate-spin"}),"Äang tÃ¬m kiáº¿m..."]}):e.jsxs(e.Fragment,{children:[e.jsx(It,{className:"w-4 h-4 mr-2"}),"TÃ¬m kiáº¿m khÃ¡ch sáº¡n"]})})]})]})},Ag=({state:t,onNext:s,onBack:n,onError:a,onUpdateState:o})=>{const[i,c]=r.useState(!1),[l,h]=r.useState(t.hotelData),[d,u]=r.useState(new Set(["basic"])),p=x=>{const y=new Set(d);y.has(x)?y.delete(x):y.add(x),u(y)},f=()=>{c(!i),i&&l&&o({hotelData:l})},v=()=>{t.hotelData&&s()};return t.hotelData?e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-green-100 text-green-600",children:e.jsx(ze,{className:"h-6 w-6"})})}),e.jsx("h2",{className:"text-2xl font-bold",children:"XÃ¡c nháº­n thÃ´ng tin khÃ¡ch sáº¡n"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Vui lÃ²ng kiá»ƒm tra vÃ  xÃ¡c nháº­n thÃ´ng tin Ä‘Ã£ thu tháº­p"})]}),e.jsxs("div",{className:"flex justify-center gap-2 mb-6",children:[e.jsxs(O,{variant:i?"default":"outline",onClick:f,size:"sm",children:[e.jsx(Ae,{className:"w-4 h-4 mr-2"}),i?"LÆ°u thay Ä‘á»•i":"Chá»‰nh sá»­a"]}),e.jsxs(O,{variant:"outline",onClick:n,size:"sm",children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),"TÃ¬m kiáº¿m láº¡i"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(I,{children:[e.jsx(R,{className:"cursor-pointer",onClick:()=>p("basic"),children:e.jsxs(P,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ss,{className:"h-5 w-5"}),"ThÃ´ng tin cÆ¡ báº£n"]}),d.has("basic")?e.jsx(Te,{className:"h-4 w-4"}):e.jsx(Me,{className:"h-4 w-4"})]})}),d.has("basic")&&e.jsxs(A,{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:"TÃªn khÃ¡ch sáº¡n"}),e.jsx("p",{className:"font-medium",children:t.hotelData.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:"Äá»‹a chá»‰"}),e.jsx("p",{className:"text-sm text-gray-600",children:t.hotelData.address})]}),t.hotelData.phone&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:"Sá»‘ Ä‘iá»‡n thoáº¡i"}),e.jsx("p",{className:"text-sm",children:t.hotelData.phone})]}),t.hotelData.website&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:"Website"}),e.jsxs("a",{href:t.hotelData.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm flex items-center gap-1",children:[t.hotelData.website,e.jsx(Mn,{className:"h-3 w-3"})]})]}),t.hotelData.rating&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{children:"ÄÃ¡nh giÃ¡"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Fn,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"font-medium",children:t.hotelData.rating})]})]})]})]}),e.jsxs(I,{children:[e.jsx(R,{className:"cursor-pointer",onClick:()=>p("services"),children:e.jsxs(P,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ae,{className:"h-5 w-5"}),"Dá»‹ch vá»¥ (",t.hotelData.services.length,")"]}),d.has("services")?e.jsx(Te,{className:"h-4 w-4"}):e.jsx(Me,{className:"h-4 w-4"})]})}),d.has("services")&&e.jsx(A,{children:e.jsx("div",{className:"space-y-2",children:t.hotelData.services.map((x,y)=>e.jsxs("div",{className:"p-2 bg-gray-50 rounded",children:[e.jsx("div",{className:"font-medium text-sm",children:x.name}),e.jsx("div",{className:"text-xs text-gray-600",children:x.description})]},y))})})]}),e.jsxs(I,{children:[e.jsx(R,{className:"cursor-pointer",onClick:()=>p("amenities"),children:e.jsxs(P,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(On,{className:"h-5 w-5"}),"Tiá»‡n nghi (",t.hotelData.amenities.length,")"]}),d.has("amenities")?e.jsx(Te,{className:"h-4 w-4"}):e.jsx(Me,{className:"h-4 w-4"})]})}),d.has("amenities")&&e.jsx(A,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:t.hotelData.amenities.map((x,y)=>e.jsx(oe,{variant:"secondary",children:x},y))})})]}),e.jsxs(I,{children:[e.jsx(R,{className:"cursor-pointer",onClick:()=>p("rooms"),children:e.jsxs(P,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(We,{className:"h-5 w-5"}),"Loáº¡i phÃ²ng (",t.hotelData.roomTypes.length,")"]}),d.has("rooms")?e.jsx(Te,{className:"h-4 w-4"}):e.jsx(Me,{className:"h-4 w-4"})]})}),d.has("rooms")&&e.jsx(A,{children:e.jsx("div",{className:"space-y-3",children:t.hotelData.roomTypes.map((x,y)=>e.jsx("div",{className:"p-3 border rounded",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:x.name}),e.jsx("div",{className:"text-sm text-gray-600",children:x.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-green-600",children:[x.price.toLocaleString()," VND"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"/ Ä‘Ãªm"})]})]})},y))})})]}),e.jsxs(I,{children:[e.jsx(R,{className:"cursor-pointer",onClick:()=>p("policies"),children:e.jsxs(P,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ke,{className:"h-5 w-5"}),"ChÃ­nh sÃ¡ch"]}),d.has("policies")?e.jsx(Te,{className:"h-4 w-4"}):e.jsx(Me,{className:"h-4 w-4"})]})}),d.has("policies")&&e.jsxs(A,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Check-in:"}),e.jsx("span",{className:"font-medium",children:t.hotelData.policies.checkIn})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Check-out:"}),e.jsx("span",{className:"font-medium",children:t.hotelData.policies.checkOut})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Há»§y phÃ²ng:"}),e.jsx("span",{className:"font-medium",children:t.hotelData.policies.cancellation})]})]})]}),e.jsxs(I,{children:[e.jsx(R,{className:"cursor-pointer",onClick:()=>p("attractions"),children:e.jsxs(P,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bn,{className:"h-5 w-5"}),"Äiá»ƒm tham quan (",t.hotelData.localAttractions.length,")"]}),d.has("attractions")?e.jsx(Te,{className:"h-4 w-4"}):e.jsx(Me,{className:"h-4 w-4"})]})}),d.has("attractions")&&e.jsx(A,{children:e.jsx("div",{className:"space-y-2",children:t.hotelData.localAttractions.map((x,y)=>e.jsxs("div",{className:"p-2 bg-gray-50 rounded",children:[e.jsx("div",{className:"font-medium text-sm",children:x.name}),e.jsx("div",{className:"text-xs text-gray-600",children:x.description}),x.distance&&e.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["CÃ¡ch ",x.distance]})]},y))})})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(O,{variant:"outline",onClick:n,children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),"Quay láº¡i"]}),e.jsxs(O,{onClick:v,size:"lg",children:["Tiáº¿p tá»¥c",e.jsx(zn,{className:"w-4 h-4 ml-2"})]})]})]}):e.jsx(I,{className:"max-w-2xl mx-auto",children:e.jsxs(A,{className:"text-center py-8",children:[e.jsx(Ne,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),e.jsx("p",{children:"KhÃ´ng tÃ¬m tháº¥y dá»¯ liá»‡u khÃ¡ch sáº¡n. Vui lÃ²ng thá»­ láº¡i."}),e.jsx(O,{onClick:n,className:"mt-4",children:"Quay láº¡i"})]})})},Dg=({state:t,onNext:s,onBack:n,onError:a,onUpdateState:o})=>{const i=(d,u)=>{o({customization:{...t.customization,[d]:u},validation:{...t.validation,[d]:null}})},c=(d,u)=>{let p=[...t.customization.languages];u?p.push(d):p=p.filter(f=>f!==d),i("languages",p)},l=()=>{const d={};return t.customization.languages.length===0&&(d.languages="Vui lÃ²ng chá»n Ã­t nháº¥t má»™t ngÃ´n ngá»¯"),o({validation:{...t.validation,...d}}),Object.keys(d).length===0},h=async()=>{if(!(!l()||!t.hotelData)){if(!kg(t.customization)){a({error:"Cáº¥u hÃ¬nh Assistant khÃ´ng há»£p lá»‡"});return}o({isGenerating:!0,error:null});try{const d=await nn.generateAssistant({hotelData:t.hotelData,customization:t.customization});d.success?s(d.assistantId):a({error:"KhÃ´ng thá»ƒ táº¡o Assistant"})}catch(d){a(d)}finally{o({isGenerating:!1})}}};return e.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-purple-100 text-purple-600",children:e.jsx(Ie,{className:"h-6 w-6"})})}),e.jsx("h2",{className:"text-2xl font-bold",children:"TÃ¹y chá»‰nh AI Assistant"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"CÃ¡ nhÃ¢n hÃ³a AI Assistant theo phong cÃ¡ch khÃ¡ch sáº¡n cá»§a báº¡n"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(I,{children:[e.jsxs(R,{children:[e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(Hn,{className:"h-5 w-5"}),"TÃ­nh cÃ¡ch"]}),e.jsx(K,{children:"Chá»n phong cÃ¡ch giao tiáº¿p cá»§a AI Assistant"})]}),e.jsx(A,{children:e.jsxs(ve,{value:t.customization.personality,onValueChange:d=>i("personality",d),children:[e.jsx(ge,{children:e.jsx(ye,{})}),e.jsx(pe,{children:Cg.map(d=>e.jsx(G,{value:d.value,children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:d.label}),e.jsx("div",{className:"text-xs text-gray-500",children:d.description})]})},d.value))})]})})]}),e.jsxs(I,{children:[e.jsxs(R,{children:[e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(At,{className:"h-5 w-5"}),"Giá»ng Ä‘iá»‡u"]}),e.jsx(K,{children:"Chá»n cÃ¡ch thá»©c giao tiáº¿p"})]}),e.jsx(A,{children:e.jsxs(ve,{value:t.customization.tone,onValueChange:d=>i("tone",d),children:[e.jsx(ge,{children:e.jsx(ye,{})}),e.jsx(pe,{children:Sg.map(d=>e.jsx(G,{value:d.value,children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:d.label}),e.jsx("div",{className:"text-xs text-gray-500",children:d.description})]})},d.value))})]})})]}),e.jsxs(I,{className:"md:col-span-2",children:[e.jsxs(R,{children:[e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"h-5 w-5"}),"NgÃ´n ngá»¯ há»— trá»£"]}),e.jsx(K,{children:"Chá»n cÃ¡c ngÃ´n ngá»¯ mÃ  AI Assistant cÃ³ thá»ƒ giao tiáº¿p"})]}),e.jsxs(A,{children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:$g.map(d=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(sn,{id:d.value,checked:t.customization.languages.includes(d.value),onCheckedChange:u=>c(d.value,u)}),e.jsxs(M,{htmlFor:d.value,className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("span",{children:d.flag}),e.jsx("span",{children:d.label})]})]},d.value))}),t.validation.languages&&e.jsx("p",{className:"text-sm text-red-500 mt-2",children:t.validation.languages})]})]}),e.jsxs(I,{children:[e.jsxs(R,{children:[e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(Vn,{className:"h-5 w-5"}),"CÃ i Ä‘áº·t giá»ng nÃ³i"]}),e.jsx(K,{children:"Äiá»u chá»‰nh thá»i gian vÃ  Ã¢m thanh"})]}),e.jsxs(A,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(M,{children:"Thá»i gian chá» (giÃ¢y)"}),e.jsx(Q,{type:"number",min:"10",max:"120",value:t.customization.silenceTimeout||30,onChange:d=>i("silenceTimeout",parseInt(d.target.value)),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(M,{children:"Thá»i gian tá»‘i Ä‘a (giÃ¢y)"}),e.jsx(Q,{type:"number",min:"300",max:"3600",value:t.customization.maxDuration||1800,onChange:d=>i("maxDuration",parseInt(d.target.value)),className:"mt-1"})]})]})]}),e.jsxs(I,{children:[e.jsxs(R,{children:[e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(At,{className:"h-5 w-5"}),"Ã‚m thanh ná»n"]}),e.jsx(K,{children:"Chá»n Ã¢m thanh ná»n cho cuá»™c gá»i"})]}),e.jsx(A,{children:e.jsxs(ve,{value:t.customization.backgroundSound,onValueChange:d=>i("backgroundSound",d),children:[e.jsx(ge,{children:e.jsx(ye,{})}),e.jsx(pe,{children:Tg.map(d=>e.jsx(G,{value:d.value,children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:d.label}),e.jsx("div",{className:"text-xs text-gray-500",children:d.description})]})},d.value))})]})})]})]}),t.error&&e.jsxs(dt,{variant:"destructive",children:[e.jsx(Ne,{className:"h-4 w-4"}),e.jsxs(ht,{children:[t.error.error,t.error.upgradeRequired&&e.jsx("div",{className:"mt-2",children:e.jsx(O,{variant:"outline",size:"sm",children:"NÃ¢ng cáº¥p gÃ³i dá»‹ch vá»¥"})})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(O,{variant:"outline",onClick:n,children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),"Quay láº¡i"]}),e.jsx(O,{onClick:h,disabled:t.customization.languages.length===0||t.isGenerating,size:"lg",children:t.isGenerating?e.jsxs(e.Fragment,{children:[e.jsx(De,{className:"w-4 h-4 mr-2 animate-spin"}),"Äang táº¡o Assistant..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ie,{className:"w-4 h-4 mr-2"}),"Táº¡o AI Assistant"]})})]})]})},Rg=({state:t,onUpdateState:s})=>{const[,n]=Ge(),a=()=>{n("/dashboard")},o=()=>{n("/dashboard/assistant")};return e.jsxs(I,{className:"max-w-2xl mx-auto",children:[e.jsxs(R,{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-green-100 text-green-600",children:e.jsx(ze,{className:"h-8 w-8"})})}),e.jsx(P,{className:"text-2xl",children:"AI Assistant Ä‘Ã£ sáºµn sÃ ng!"}),e.jsx(K,{className:"text-base",children:"KhÃ¡ch sáº¡n cá»§a báº¡n Ä‘Ã£ Ä‘Æ°á»£c thiáº¿t láº­p thÃ nh cÃ´ng. AI Assistant hiá»‡n cÃ³ thá»ƒ phá»¥c vá»¥ khÃ¡ch hÃ ng 24/7."})]}),e.jsxs(A,{className:"space-y-6",children:[e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Nhá»¯ng gÃ¬ Ä‘Ã£ Ä‘Æ°á»£c thiáº¿t láº­p:"}),e.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[e.jsx("li",{children:"âœ“ ThÃ´ng tin khÃ¡ch sáº¡n Ä‘Ã£ Ä‘Æ°á»£c lÆ°u trá»¯"}),e.jsx("li",{children:"âœ“ Knowledge base Ä‘Ã£ Ä‘Æ°á»£c táº¡o"}),e.jsx("li",{children:"âœ“ AI Assistant Ä‘Ã£ Ä‘Æ°á»£c cáº¥u hÃ¬nh"}),e.jsx("li",{children:"âœ“ Voice API Ä‘Ã£ Ä‘Æ°á»£c kÃ­ch hoáº¡t"}),e.jsx("li",{children:"âœ“ Dashboard Ä‘Ã£ sáºµn sÃ ng sá»­ dá»¥ng"})]})]}),t.assistantId&&e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"ThÃ´ng tin Assistant:"}),e.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[e.jsxs("div",{children:["ID: ",e.jsx("code",{className:"bg-blue-100 px-1 rounded",children:t.assistantId})]}),e.jsxs("div",{children:["TÃ­nh cÃ¡ch: ",e.jsx("span",{className:"capitalize",children:t.customization.personality})]}),e.jsxs("div",{children:["NgÃ´n ngá»¯: ",t.customization.languages.join(", ")]})]})]}),e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Báº¡n cÃ³ thá»ƒ báº¯t Ä‘áº§u sá»­ dá»¥ng AI Assistant ngay bÃ¢y giá» hoáº·c tÃ¹y chá»‰nh thÃªm trong cÃ i Ä‘áº·t."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(O,{onClick:o,variant:"outline",className:"flex-1",children:[e.jsx(Be,{className:"w-4 h-4 mr-2"}),"Kiá»ƒm tra Assistant"]}),e.jsx(O,{onClick:a,size:"lg",className:"flex-1",children:"Äi tá»›i Dashboard"})]})]})]})]})},Pg=()=>{const[t,s]=r.useState({currentStep:1,hotelData:null,customization:{personality:"professional",tone:"friendly",languages:["vi"],backgroundSound:"hotel-lobby"},isLoading:!1,error:null,isResearching:!1,isGenerating:!1,assistantId:null,retryCount:0,formData:{hotelName:"",location:"",researchTier:"basic"},validation:{hotelName:null,languages:null}}),n=4,a=t.currentStep/n*100,o=u=>{s(p=>({...p,...u}))},i=u=>{t.currentStep===1&&u?o({hotelData:u,currentStep:2,error:null}):t.currentStep===2?o({currentStep:3,error:null}):t.currentStep===3&&u&&o({assistantId:u,currentStep:4,error:null})},c=()=>{t.currentStep>1&&o({currentStep:t.currentStep-1,error:null})},l=u=>{o({error:u})},h=()=>{o({error:null,retryCount:t.retryCount+1})},d={state:t,onNext:i,onBack:c,onError:l,onUpdateState:o};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"max-w-2xl mx-auto mb-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:["BÆ°á»›c ",t.currentStep," / ",n]}),e.jsxs("span",{className:"text-sm text-gray-600",children:[Math.round(a),"%"]})]}),e.jsx(ct,{value:a,className:"h-2"})]}),t.error&&e.jsx("div",{className:"max-w-2xl mx-auto mb-6",children:e.jsxs(dt,{variant:"destructive",children:[e.jsx(Ne,{className:"h-4 w-4"}),e.jsxs(ht,{className:"flex items-center justify-between",children:[e.jsx("span",{children:t.error.error}),e.jsxs(O,{variant:"outline",size:"sm",onClick:h,children:[e.jsx(wt,{className:"w-4 h-4 mr-2"}),"Thá»­ láº¡i"]})]})]})}),t.currentStep===1&&e.jsx(Ig,{...d}),t.currentStep===2&&e.jsx(Ag,{...d}),t.currentStep===3&&e.jsx(Dg,{...d}),t.currentStep===4&&e.jsx(Rg,{...d})]})})},Ct=r.forwardRef(({className:t,...s},n)=>e.jsx("textarea",{className:S("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...s}));Ct.displayName="Textarea";const le=r.forwardRef(({className:t,...s},n)=>e.jsx(bs,{className:S("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...s,ref:n,children:e.jsx(_n,{className:S("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));le.displayName=bs.displayName;const St=kn,mt=r.forwardRef(({className:t,...s},n)=>e.jsx(vs,{ref:n,className:S("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s}));mt.displayName=vs.displayName;const fe=r.forwardRef(({className:t,...s},n)=>e.jsx(ys,{ref:n,className:S("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-dark data-[state=active]:shadow-sm",t),...s}));fe.displayName=ys.displayName;const je=r.forwardRef(({className:t,...s},n)=>e.jsx(Ns,{ref:n,className:S("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));je.displayName=Ns.displayName;const nt={id:"asst_abc123",name:"Mi Nhon Hotel AI Concierge",personality:"professional",tone:"friendly",languages:["vi","en","fr"],voiceId:"jennifer",silenceTimeout:30,maxDuration:600,backgroundSound:"hotel-lobby",systemPrompt:"You are the AI concierge for Mi Nhon Hotel...",status:"active",lastUpdated:"2024-01-15T10:30:00Z"},Ve={totalCalls:1247,averageRating:4.7,responseTime:1.2,successRate:96.5,topIntents:[{intent:"Room Service",count:342,percentage:27.4},{intent:"Hotel Information",count:298,percentage:23.9},{intent:"Spa Booking",count:187,percentage:15},{intent:"Restaurant Reservation",count:156,percentage:12.5}]},Eg=()=>{const[t,s]=r.useState(nt),[n,a]=r.useState(!1),o=async()=>{a(!0);try{await new Promise(i=>setTimeout(i,1e3)),console.log("Saving configuration:",t)}catch(i){console.error("Failed to save configuration:",i)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(I,{children:[e.jsxs(R,{children:[e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(Ae,{className:"h-5 w-5"}),"Cáº¥u hÃ¬nh cÆ¡ báº£n"]}),e.jsx(K,{children:"Thiáº¿t láº­p thÃ´ng tin vÃ  hÃ nh vi cá»§a AI Assistant"})]}),e.jsxs(A,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"assistant-name",children:"TÃªn Assistant"}),e.jsx(Q,{id:"assistant-name",value:t.name,onChange:i=>s(c=>({...c,name:i.target.value})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"voice-id",children:"Giá»ng nÃ³i"}),e.jsxs(ve,{value:t.voiceId,onValueChange:i=>s(c=>({...c,voiceId:i})),children:[e.jsx(ge,{className:"mt-1",children:e.jsx(ye,{})}),e.jsxs(pe,{children:[e.jsx(G,{value:"jennifer",children:"Jennifer (Ná»¯, Tiáº¿ng Anh)"}),e.jsx(G,{value:"david",children:"David (Nam, Tiáº¿ng Anh)"}),e.jsx(G,{value:"linh",children:"Linh (Ná»¯, Tiáº¿ng Viá»‡t)"}),e.jsx(G,{value:"duc",children:"Äá»©c (Nam, Tiáº¿ng Viá»‡t)"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"personality",children:"TÃ­nh cÃ¡ch"}),e.jsxs(ve,{value:t.personality,onValueChange:i=>s(c=>({...c,personality:i})),children:[e.jsx(ge,{className:"mt-1",children:e.jsx(ye,{})}),e.jsxs(pe,{children:[e.jsx(G,{value:"professional",children:"ChuyÃªn nghiá»‡p"}),e.jsx(G,{value:"friendly",children:"ThÃ¢n thiá»‡n"}),e.jsx(G,{value:"luxurious",children:"Sang trá»ng"}),e.jsx(G,{value:"casual",children:"Thoáº£i mÃ¡i"})]})]})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"tone",children:"Giá»ng Ä‘iá»‡u"}),e.jsxs(ve,{value:t.tone,onValueChange:i=>s(c=>({...c,tone:i})),children:[e.jsx(ge,{className:"mt-1",children:e.jsx(ye,{})}),e.jsxs(pe,{children:[e.jsx(G,{value:"formal",children:"Lá»‹ch sá»±"}),e.jsx(G,{value:"friendly",children:"ThÃ¢n thiá»‡n"}),e.jsx(G,{value:"warm",children:"áº¤m Ã¡p"}),e.jsx(G,{value:"energetic",children:"NÄƒng Ä‘á»™ng"}),e.jsx(G,{value:"calm",children:"BÃ¬nh tÄ©nh"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"silence-timeout",children:"Thá»i gian chá» (giÃ¢y)"}),e.jsx(Q,{id:"silence-timeout",type:"number",value:t.silenceTimeout,onChange:i=>s(c=>({...c,silenceTimeout:parseInt(i.target.value)})),className:"mt-1",min:"10",max:"120"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"max-duration",children:"Thá»i lÆ°á»£ng tá»‘i Ä‘a (giÃ¢y)"}),e.jsx(Q,{id:"max-duration",type:"number",value:t.maxDuration,onChange:i=>s(c=>({...c,maxDuration:parseInt(i.target.value)})),className:"mt-1",min:"300",max:"3600"})]})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"background-sound",children:"Ã‚m thanh ná»n"}),e.jsxs(ve,{value:t.backgroundSound,onValueChange:i=>s(c=>({...c,backgroundSound:i})),children:[e.jsx(ge,{className:"mt-1",children:e.jsx(ye,{})}),e.jsxs(pe,{children:[e.jsx(G,{value:"hotel-lobby",children:"Sáº£nh khÃ¡ch sáº¡n"}),e.jsx(G,{value:"office",children:"VÄƒn phÃ²ng"}),e.jsx(G,{value:"off",children:"Táº¯t Ã¢m thanh ná»n"})]})]})]})]})]}),e.jsxs(I,{children:[e.jsxs(R,{children:[e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(kt,{className:"h-5 w-5"}),"System Prompt"]}),e.jsx(K,{children:"HÆ°á»›ng dáº«n chi tiáº¿t cho AI Assistant vá» cÃ¡ch hÃ nh xá»­ vÃ  tráº£ lá»i"})]}),e.jsx(A,{children:e.jsx(Ct,{value:t.systemPrompt,onChange:i=>s(c=>({...c,systemPrompt:i.target.value})),rows:8,className:"font-mono text-sm",placeholder:"Nháº­p system prompt cho AI Assistant..."})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(O,{onClick:o,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(De,{className:"w-4 h-4 mr-2 animate-spin"}),"Äang lÆ°u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Xe,{className:"w-4 h-4 mr-2"}),"LÆ°u cáº¥u hÃ¬nh"]})})})]})},Lg=()=>{const[t,s]=r.useState(!1),[n,a]=r.useState(""),[o,i]=r.useState(""),[c,l]=r.useState(!1),h=async()=>{if(n.trim()){l(!0);try{await new Promise(d=>setTimeout(d,2e3)),i(`Xin chÃ o! TÃ´i lÃ  AI Assistant cá»§a Mi Nhon Hotel. TÃ´i cÃ³ thá»ƒ giÃºp báº¡n vá» ${n}. Báº¡n cÃ³ cáº§n tÃ´i há»— trá»£ gÃ¬ thÃªm khÃ´ng?`)}catch{i("ÄÃ£ xáº£y ra lá»—i khi kiá»ƒm tra. Vui lÃ²ng thá»­ láº¡i.")}finally{l(!1)}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(I,{children:[e.jsxs(R,{children:[e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(Dt,{className:"h-5 w-5"}),"Test AI Assistant"]}),e.jsx(K,{children:"Kiá»ƒm tra pháº£n há»“i cá»§a AI Assistant vá»›i cÃ¡c cÃ¢u há»i máº«u"})]}),e.jsxs(A,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(le,{id:"test-mode",checked:t,onCheckedChange:s}),e.jsx(M,{htmlFor:"test-mode",children:"Cháº¿ Ä‘á»™ kiá»ƒm tra"})]}),t&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"test-phrase",children:"CÃ¢u há»i thá»­ nghiá»‡m"}),e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsx(Q,{id:"test-phrase",value:n,onChange:d=>a(d.target.value),placeholder:"VÃ­ dá»¥: TÃ´i muá»‘n Ä‘áº·t phÃ²ng",className:"flex-1"}),e.jsx(O,{onClick:h,disabled:!n.trim()||c,children:c?e.jsx(De,{className:"w-4 h-4 animate-spin"}):e.jsx(Dt,{className:"w-4 h-4"})})]})]}),o&&e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx(M,{className:"text-sm font-medium",children:"Pháº£n há»“i cá»§a AI:"}),e.jsx("p",{className:"text-sm text-gray-700 mt-1",children:o})]})]})]})]}),e.jsxs(I,{children:[e.jsxs(R,{children:[e.jsx(P,{children:"Máº«u cÃ¢u há»i thÆ°á»ng gáº·p"}),e.jsx(K,{children:"CÃ¡c cÃ¢u há»i mÃ  khÃ¡ch hÃ ng thÆ°á»ng há»i"})]}),e.jsx(A,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:["TÃ´i muá»‘n Ä‘áº·t phÃ²ng","Giá» check-in lÃ  máº¥y giá»?","KhÃ¡ch sáº¡n cÃ³ dá»‹ch vá»¥ spa khÃ´ng?","TÃ´i muá»‘n Ä‘áº·t bÃ n Äƒn tá»‘i","LÃ m sao Ä‘á»ƒ Ä‘i sÃ¢n bay?","CÃ³ wifi miá»…n phÃ­ khÃ´ng?","TÃ´i muá»‘n gá»i room service","KhÃ¡ch sáº¡n cÃ³ há»“ bÆ¡i khÃ´ng?"].map((d,u)=>e.jsxs(O,{variant:"outline",size:"sm",className:"justify-start text-left h-auto p-2",onClick:()=>a(d),children:[e.jsx(kt,{className:"w-3 h-3 mr-2 shrink-0"}),e.jsx("span",{className:"text-xs",children:d})]},u))})})]})]})},Mg=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(I,{children:[e.jsxs(R,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(P,{className:"text-sm font-medium",children:"Tá»•ng cuá»™c gá»i"}),e.jsx(Be,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(A,{children:[e.jsx("div",{className:"text-2xl font-bold",children:Ve.totalCalls.toLocaleString()}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"ThÃ¡ng nÃ y"})]})]}),e.jsxs(I,{children:[e.jsxs(R,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(P,{className:"text-sm font-medium",children:"ÄÃ¡nh giÃ¡ trung bÃ¬nh"}),e.jsx(ot,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(A,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[Ve.averageRating,"/5"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Äiá»ƒm hÃ i lÃ²ng"})]})]}),e.jsxs(I,{children:[e.jsxs(R,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(P,{className:"text-sm font-medium",children:"Thá»i gian pháº£n há»“i"}),e.jsx(Ke,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(A,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[Ve.responseTime,"s"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Trung bÃ¬nh"})]})]}),e.jsxs(I,{children:[e.jsxs(R,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(P,{className:"text-sm font-medium",children:"Tá»· lá»‡ thÃ nh cÃ´ng"}),e.jsx(ze,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(A,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[Ve.successRate,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Cuá»™c gá»i thÃ nh cÃ´ng"})]})]})]}),e.jsxs(I,{children:[e.jsxs(R,{children:[e.jsx(P,{children:"Ã Ä‘á»‹nh phá»• biáº¿n"}),e.jsx(K,{children:"CÃ¡c yÃªu cáº§u mÃ  khÃ¡ch hÃ ng thÆ°á»ng há»i nháº¥t"})]}),e.jsx(A,{children:e.jsx("div",{className:"space-y-4",children:Ve.topIntents.map((t,s)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),e.jsx("span",{className:"font-medium",children:t.intent})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx("span",{children:t.count}),e.jsxs(oe,{variant:"outline",children:[t.percentage,"%"]})]})]},s))})})]})]}),Fg=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"AI Assistant"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Quáº£n lÃ½ vÃ  tÃ¹y chá»‰nh AI Assistant cho khÃ¡ch sáº¡n"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(oe,{variant:"outline",className:"text-green-600",children:[e.jsx(ze,{className:"w-3 h-3 mr-1"}),"Hoáº¡t Ä‘á»™ng"]})})]}),e.jsxs(I,{children:[e.jsx(R,{children:e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(Ie,{className:"h-5 w-5"}),"Tráº¡ng thÃ¡i Assistant"]})}),e.jsx(A,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(M,{className:"text-sm font-medium",children:"TÃªn Assistant"}),e.jsx("p",{className:"text-sm text-gray-600",children:nt.name})]}),e.jsxs("div",{children:[e.jsx(M,{className:"text-sm font-medium",children:"ID Assistant"}),e.jsx("p",{className:"text-sm text-gray-600 font-mono",children:nt.id})]}),e.jsxs("div",{children:[e.jsx(M,{className:"text-sm font-medium",children:"Cáº­p nháº­t láº§n cuá»‘i"}),e.jsx("p",{className:"text-sm text-gray-600",children:new Date(nt.lastUpdated).toLocaleString("vi-VN")})]})]})})]}),e.jsxs(St,{defaultValue:"config",className:"space-y-4",children:[e.jsxs(mt,{className:"grid w-full grid-cols-3",children:[e.jsx(fe,{value:"config",children:"Cáº¥u hÃ¬nh"}),e.jsx(fe,{value:"test",children:"Kiá»ƒm tra"}),e.jsx(fe,{value:"performance",children:"Hiá»‡u suáº¥t"})]}),e.jsx(je,{value:"config",className:"space-y-4",children:e.jsx(Eg,{})}),e.jsx(je,{value:"test",className:"space-y-4",children:e.jsx(Lg,{})}),e.jsx(je,{value:"performance",className:"space-y-4",children:e.jsx(Mg,{})})]})]}),de={overview:{totalCalls:1247,totalCallsGrowth:12.5,averageCallDuration:245,callDurationGrowth:-5.2,uniqueUsers:89,uniqueUsersGrowth:8.3,satisfactionScore:4.7,satisfactionGrowth:2.1},callsByHour:[{hour:"00",calls:12},{hour:"01",calls:8},{hour:"02",calls:5},{hour:"03",calls:3},{hour:"04",calls:2},{hour:"05",calls:4},{hour:"06",calls:15},{hour:"07",calls:28},{hour:"08",calls:45},{hour:"09",calls:67},{hour:"10",calls:89},{hour:"11",calls:78},{hour:"12",calls:95},{hour:"13",calls:87},{hour:"14",calls:92},{hour:"15",calls:85},{hour:"16",calls:78},{hour:"17",calls:65},{hour:"18",calls:82},{hour:"19",calls:75},{hour:"20",calls:58},{hour:"21",calls:45},{hour:"22",calls:32},{hour:"23",calls:22}],languageDistribution:[{language:"Tiáº¿ng Viá»‡t",calls:687,percentage:55.1},{language:"English",calls:423,percentage:33.9},{language:"FranÃ§ais",calls:137,percentage:11}],intentDistribution:[{intent:"Room Service",calls:342,percentage:27.4},{intent:"Hotel Information",calls:298,percentage:23.9},{intent:"Spa Booking",calls:187,percentage:15},{intent:"Restaurant Reservation",calls:156,percentage:12.5},{intent:"Housekeeping",calls:98,percentage:7.9},{intent:"Concierge",calls:87,percentage:7},{intent:"Complaints",calls:45,percentage:3.6},{intent:"Other",calls:34,percentage:2.7}],callsByDay:[{day:"Thá»© 2",calls:145},{day:"Thá»© 3",calls:178},{day:"Thá»© 4",calls:189},{day:"Thá»© 5",calls:234},{day:"Thá»© 6",calls:267},{day:"Thá»© 7",calls:156},{day:"Chá»§ nháº­t",calls:78}],satisfactionByIntent:[{intent:"Room Service",rating:4.8},{intent:"Hotel Information",rating:4.9},{intent:"Spa Booking",rating:4.6},{intent:"Restaurant Reservation",rating:4.7},{intent:"Housekeeping",rating:4.5},{intent:"Concierge",rating:4.8},{intent:"Complaints",rating:3.2}]},Ze=({title:t,value:s,change:n,icon:a,description:o,suffix:i=""})=>e.jsxs(I,{children:[e.jsxs(R,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(P,{className:"text-sm font-medium",children:t}),e.jsx(a,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(A,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[s,i]}),e.jsxs("div",{className:"flex items-center pt-1",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:o}),n!==void 0&&e.jsxs("div",{className:`ml-auto flex items-center text-xs ${n>0?"text-green-600":"text-red-600"}`,children:[e.jsx(it,{className:`h-3 w-3 mr-1 ${n<0?"rotate-180":""}`}),Math.abs(n),"%"]})]})]})]}),Og=({data:t,dataKey:s,nameKey:n,title:a})=>{const o=Math.max(...t.map(i=>i[s]));return e.jsxs(I,{children:[e.jsx(R,{children:e.jsx(P,{className:"text-base",children:a})}),e.jsx(A,{children:e.jsx("div",{className:"space-y-2",children:t.map((i,c)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-20 text-sm text-gray-600 text-right",children:i[n]}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${i[s]/o*100}%`}})}),e.jsx("div",{className:"w-16 text-sm font-medium text-right",children:i[s]})]},c))})})]})},Bg=()=>{const[t,s]=r.useState("30d"),[n,a]=r.useState("all");return e.jsxs(I,{children:[e.jsx(R,{children:e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(Gn,{className:"h-5 w-5"}),"Bá»™ lá»c"]})}),e.jsx(A,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Khoáº£ng thá»i gian"}),e.jsxs(ve,{value:t,onValueChange:s,children:[e.jsx(ge,{className:"mt-1",children:e.jsx(ye,{})}),e.jsxs(pe,{children:[e.jsx(G,{value:"7d",children:"7 ngÃ y qua"}),e.jsx(G,{value:"30d",children:"30 ngÃ y qua"}),e.jsx(G,{value:"90d",children:"90 ngÃ y qua"}),e.jsx(G,{value:"1y",children:"1 nÄƒm qua"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"NgÃ´n ngá»¯"}),e.jsxs(ve,{value:n,onValueChange:a,children:[e.jsx(ge,{className:"mt-1",children:e.jsx(ye,{})}),e.jsxs(pe,{children:[e.jsx(G,{value:"all",children:"Táº¥t cáº£"}),e.jsx(G,{value:"vi",children:"Tiáº¿ng Viá»‡t"}),e.jsx(G,{value:"en",children:"English"}),e.jsx(G,{value:"fr",children:"FranÃ§ais"})]})]})]}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsxs(O,{variant:"outline",size:"sm",children:[e.jsx(wt,{className:"h-4 w-4 mr-2"}),"LÃ m má»›i"]}),e.jsxs(O,{variant:"outline",size:"sm",children:[e.jsx($s,{className:"h-4 w-4 mr-2"}),"Xuáº¥t Excel"]})]})]})})]})},zg=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Ze,{title:"Tá»•ng cuá»™c gá»i",value:de.overview.totalCalls.toLocaleString(),change:de.overview.totalCallsGrowth,icon:Be,description:"ThÃ¡ng nÃ y"}),e.jsx(Ze,{title:"Thá»i gian trung bÃ¬nh",value:Math.floor(de.overview.averageCallDuration/60),change:de.overview.callDurationGrowth,icon:Ke,description:"PhÃºt/cuá»™c gá»i",suffix:"m"}),e.jsx(Ze,{title:"NgÆ°á»i dÃ¹ng duy nháº¥t",value:de.overview.uniqueUsers,change:de.overview.uniqueUsersGrowth,icon:We,description:"ThÃ¡ng nÃ y"}),e.jsx(Ze,{title:"Äiá»ƒm hÃ i lÃ²ng",value:de.overview.satisfactionScore,change:de.overview.satisfactionGrowth,icon:it,description:"TrÃªn 5 Ä‘iá»ƒm",suffix:"/5"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(Og,{data:de.callsByDay,dataKey:"calls",nameKey:"day",title:"Cuá»™c gá»i theo ngÃ y trong tuáº§n"}),e.jsxs(I,{children:[e.jsx(R,{children:e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"h-5 w-5"}),"PhÃ¢n bá»‘ ngÃ´n ngá»¯"]})}),e.jsx(A,{children:e.jsx("div",{className:"space-y-3",children:de.languageDistribution.map((t,s)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-primary rounded-full"}),e.jsx("span",{className:"font-medium",children:t.language})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:t.calls}),e.jsxs(oe,{variant:"outline",children:[t.percentage,"%"]})]})]},s))})})]})]})]}),Hg=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(I,{children:[e.jsxs(R,{children:[e.jsx(P,{children:"Cuá»™c gá»i theo giá»"}),e.jsx(K,{children:"PhÃ¢n bá»‘ cuá»™c gá»i trong 24 giá»"})]}),e.jsx(A,{children:e.jsx("div",{className:"space-y-2",children:de.callsByHour.map((t,s)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"w-8 text-xs text-gray-600",children:[t.hour,"h"]}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${t.calls/95*100}%`}})}),e.jsx("div",{className:"w-8 text-xs font-medium text-right",children:t.calls})]},s))})})]}),e.jsxs(I,{children:[e.jsxs(R,{children:[e.jsx(P,{children:"Ã Ä‘á»‹nh cuá»™c gá»i"}),e.jsx(K,{children:"PhÃ¢n loáº¡i theo má»¥c Ä‘Ã­ch"})]}),e.jsx(A,{children:e.jsx("div",{className:"space-y-3",children:de.intentDistribution.map((t,s)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:t.intent}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:t.calls}),e.jsxs(oe,{variant:"outline",children:[t.percentage,"%"]})]})]},s))})})]})]})}),Vg=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(I,{children:[e.jsxs(R,{children:[e.jsx(P,{children:"Äiá»ƒm hÃ i lÃ²ng theo Ã½ Ä‘á»‹nh"}),e.jsx(K,{children:"ÄÃ¡nh giÃ¡ khÃ¡ch hÃ ng cho tá»«ng loáº¡i dá»‹ch vá»¥"})]}),e.jsx(A,{children:e.jsx("div",{className:"space-y-4",children:de.satisfactionByIntent.map((t,s)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:t.intent}),e.jsxs(oe,{variant:t.rating>=4.5?"default":t.rating>=4?"secondary":"destructive",children:[t.rating,"/5"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${t.rating>=4.5?"bg-green-500":t.rating>=4?"bg-yellow-500":"bg-red-500"}`,style:{width:`${t.rating/5*100}%`}})})]},s))})})]}),e.jsxs(I,{children:[e.jsxs(R,{children:[e.jsx(P,{children:"Xu hÆ°á»›ng Ä‘iá»ƒm hÃ i lÃ²ng"}),e.jsx(K,{children:"Thay Ä‘á»•i theo thá»i gian"})]}),e.jsx(A,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:"4.7/5"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Äiá»ƒm trung bÃ¬nh thÃ¡ng nÃ y"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"5 sao"}),e.jsx("span",{children:"68%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"68%"}})}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"4 sao"}),e.jsx("span",{children:"22%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"22%"}})}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"3 sao"}),e.jsx("span",{children:"7%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:"7%"}})}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"2 sao"}),e.jsx("span",{children:"2%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-500 h-2 rounded-full",style:{width:"2%"}})}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"1 sao"}),e.jsx("span",{children:"1%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:"1%"}})})]})]})})]})]})}),qg=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"PhÃ¢n tÃ­ch & BÃ¡o cÃ¡o"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Thá»‘ng kÃª chi tiáº¿t vá» hiá»‡u suáº¥t AI Assistant"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(O,{variant:"outline",size:"sm",children:[e.jsx(qn,{className:"h-4 w-4 mr-2"}),"TÃ¹y chá»‰nh khoáº£ng thá»i gian"]}),e.jsxs(O,{variant:"outline",size:"sm",children:[e.jsx($s,{className:"h-4 w-4 mr-2"}),"Xuáº¥t bÃ¡o cÃ¡o"]})]})]}),e.jsx(Bg,{}),e.jsxs(St,{defaultValue:"overview",className:"space-y-4",children:[e.jsxs(mt,{className:"grid w-full grid-cols-3",children:[e.jsx(fe,{value:"overview",children:"Tá»•ng quan"}),e.jsx(fe,{value:"patterns",children:"Máº«u cuá»™c gá»i"}),e.jsx(fe,{value:"satisfaction",children:"HÃ i lÃ²ng"})]}),e.jsx(je,{value:"overview",className:"space-y-4",children:e.jsx(zg,{})}),e.jsx(je,{value:"patterns",className:"space-y-4",children:e.jsx(Hg,{})}),e.jsx(je,{value:"satisfaction",className:"space-y-4",children:e.jsx(Vg,{})})]})]}),ut={basicInfo:{name:"Mi Nhon Hotel",address:"123 Nguyen Hue Street, District 1, Ho Chi Minh City",phone:"+84 28 3829 2999",email:"info@minhonhotel.com",website:"https://minhonhotel.com",description:"KhÃ¡ch sáº¡n 4 sao sang trá»ng táº¡i trung tÃ¢m thÃ nh phá»‘ vá»›i view biá»ƒn tuyá»‡t Ä‘áº¹p vÃ  dá»‹ch vá»¥ chuyÃªn nghiá»‡p.",checkInTime:"14:00",checkOutTime:"12:00",currency:"VND",timezone:"Asia/Ho_Chi_Minh"},notifications:{emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,dailyReports:!0,weeklyReports:!0,monthlyReports:!0,alertOnErrors:!0,alertOnLowRating:!0},privacy:{recordCalls:!0,dataRetentionDays:90,shareAnalytics:!1,allowDataExport:!0,gdprCompliance:!0},api:{webhookUrl:"https://minhonhotel.com/webhook",apiKeys:{vapi:"vapi_***************",openai:"sk-***************"}}},Gg=()=>{const[t,s]=r.useState(ut.basicInfo),[n,a]=r.useState(!1),o=async()=>{a(!0);try{await new Promise(i=>setTimeout(i,1e3)),console.log("Saving hotel settings:",t)}catch(i){console.error("Failed to save settings:",i)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(I,{children:[e.jsxs(R,{children:[e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(Ss,{className:"h-5 w-5"}),"ThÃ´ng tin cÆ¡ báº£n"]}),e.jsx(K,{children:"Cáº­p nháº­t thÃ´ng tin chi tiáº¿t vá» khÃ¡ch sáº¡n"})]}),e.jsxs(A,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"hotel-name",children:"TÃªn khÃ¡ch sáº¡n"}),e.jsx(Q,{id:"hotel-name",value:t.name,onChange:i=>s(c=>({...c,name:i.target.value})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"phone",children:"Sá»‘ Ä‘iá»‡n thoáº¡i"}),e.jsx(Q,{id:"phone",value:t.phone,onChange:i=>s(c=>({...c,phone:i.target.value})),className:"mt-1"})]})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"address",children:"Äá»‹a chá»‰"}),e.jsx(Q,{id:"address",value:t.address,onChange:i=>s(c=>({...c,address:i.target.value})),className:"mt-1"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"email",children:"Email"}),e.jsx(Q,{id:"email",type:"email",value:t.email,onChange:i=>s(c=>({...c,email:i.target.value})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"website",children:"Website"}),e.jsx(Q,{id:"website",value:t.website,onChange:i=>s(c=>({...c,website:i.target.value})),className:"mt-1"})]})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"description",children:"MÃ´ táº£ khÃ¡ch sáº¡n"}),e.jsx(Ct,{id:"description",value:t.description,onChange:i=>s(c=>({...c,description:i.target.value})),className:"mt-1",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"check-in",children:"Giá» check-in"}),e.jsx(Q,{id:"check-in",type:"time",value:t.checkInTime,onChange:i=>s(c=>({...c,checkInTime:i.target.value})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"check-out",children:"Giá» check-out"}),e.jsx(Q,{id:"check-out",type:"time",value:t.checkOutTime,onChange:i=>s(c=>({...c,checkOutTime:i.target.value})),className:"mt-1"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"currency",children:"ÄÆ¡n vá»‹ tiá»n tá»‡"}),e.jsx(Q,{id:"currency",value:t.currency,onChange:i=>s(c=>({...c,currency:i.target.value})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"timezone",children:"MÃºi giá»"}),e.jsx(Q,{id:"timezone",value:t.timezone,onChange:i=>s(c=>({...c,timezone:i.target.value})),className:"mt-1"})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(O,{onClick:o,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(De,{className:"w-4 h-4 mr-2 animate-spin"}),"Äang lÆ°u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Xe,{className:"w-4 h-4 mr-2"}),"LÆ°u thay Ä‘á»•i"]})})})]})},Ug=()=>{const[t,s]=r.useState(ut.notifications),[n,a]=r.useState(!1),o=c=>{s(l=>({...l,[c]:!l[c]}))},i=async()=>{a(!0);try{await new Promise(c=>setTimeout(c,1e3)),console.log("Saving notification settings:",t)}catch(c){console.error("Failed to save settings:",c)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(I,{children:[e.jsxs(R,{children:[e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(Cs,{className:"h-5 w-5"}),"CÃ i Ä‘áº·t thÃ´ng bÃ¡o"]}),e.jsx(K,{children:"TÃ¹y chá»n thÃ´ng bÃ¡o vÃ  bÃ¡o cÃ¡o"})]}),e.jsxs(A,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"PhÆ°Æ¡ng thá»©c thÃ´ng bÃ¡o"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Email notifications"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Nháº­n thÃ´ng bÃ¡o qua email"})]}),e.jsx(le,{checked:t.emailNotifications,onCheckedChange:()=>o("emailNotifications")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"SMS notifications"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Nháº­n thÃ´ng bÃ¡o qua SMS"})]}),e.jsx(le,{checked:t.smsNotifications,onCheckedChange:()=>o("smsNotifications")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Push notifications"}),e.jsx("div",{className:"text-sm text-gray-600",children:"ThÃ´ng bÃ¡o Ä‘áº©y trÃªn trÃ¬nh duyá»‡t"})]}),e.jsx(le,{checked:t.pushNotifications,onCheckedChange:()=>o("pushNotifications")})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"BÃ¡o cÃ¡o Ä‘á»‹nh ká»³"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"BÃ¡o cÃ¡o hÃ ng ngÃ y"}),e.jsx("div",{className:"text-sm text-gray-600",children:"TÃ³m táº¯t hoáº¡t Ä‘á»™ng hÃ ng ngÃ y"})]}),e.jsx(le,{checked:t.dailyReports,onCheckedChange:()=>o("dailyReports")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"BÃ¡o cÃ¡o hÃ ng tuáº§n"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Thá»‘ng kÃª tuáº§n"})]}),e.jsx(le,{checked:t.weeklyReports,onCheckedChange:()=>o("weeklyReports")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"BÃ¡o cÃ¡o hÃ ng thÃ¡ng"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Tá»•ng quan thÃ¡ng"})]}),e.jsx(le,{checked:t.monthlyReports,onCheckedChange:()=>o("monthlyReports")})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Cáº£nh bÃ¡o"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Cáº£nh bÃ¡o lá»—i"}),e.jsx("div",{className:"text-sm text-gray-600",children:"ThÃ´ng bÃ¡o khi cÃ³ lá»—i há»‡ thá»‘ng"})]}),e.jsx(le,{checked:t.alertOnErrors,onCheckedChange:()=>o("alertOnErrors")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Cáº£nh bÃ¡o Ä‘iá»ƒm tháº¥p"}),e.jsx("div",{className:"text-sm text-gray-600",children:"ThÃ´ng bÃ¡o khi Ä‘iá»ƒm hÃ i lÃ²ng tháº¥p"})]}),e.jsx(le,{checked:t.alertOnLowRating,onCheckedChange:()=>o("alertOnLowRating")})]})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(O,{onClick:i,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(De,{className:"w-4 h-4 mr-2 animate-spin"}),"Äang lÆ°u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Xe,{className:"w-4 h-4 mr-2"}),"LÆ°u cÃ i Ä‘áº·t"]})})})]})},Wg=()=>{const[t,s]=r.useState(ut.privacy),[n,a]=r.useState(!1),o=c=>{s(l=>({...l,[c]:!l[c]}))},i=async()=>{a(!0);try{await new Promise(c=>setTimeout(c,1e3)),console.log("Saving privacy settings:",t)}catch(c){console.error("Failed to save settings:",c)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(I,{children:[e.jsxs(R,{children:[e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(Ts,{className:"h-5 w-5"}),"Quyá»n riÃªng tÆ° & Báº£o máº­t"]}),e.jsx(K,{children:"Cáº¥u hÃ¬nh báº£o máº­t vÃ  quyá»n riÃªng tÆ° dá»¯ liá»‡u"})]}),e.jsxs(A,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Ghi Ã¢m cuá»™c gá»i"}),e.jsx("div",{className:"text-sm text-gray-600",children:"LÆ°u trá»¯ cuá»™c gá»i Ä‘á»ƒ cáº£i thiá»‡n cháº¥t lÆ°á»£ng"})]}),e.jsx(le,{checked:t.recordCalls,onCheckedChange:()=>o("recordCalls")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Chia sáº» dá»¯ liá»‡u phÃ¢n tÃ­ch"}),e.jsx("div",{className:"text-sm text-gray-600",children:"GiÃºp cáº£i thiá»‡n sáº£n pháº©m (dá»¯ liá»‡u áº©n danh)"})]}),e.jsx(le,{checked:t.shareAnalytics,onCheckedChange:()=>o("shareAnalytics")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Cho phÃ©p xuáº¥t dá»¯ liá»‡u"}),e.jsx("div",{className:"text-sm text-gray-600",children:"KhÃ¡ch hÃ ng cÃ³ thá»ƒ yÃªu cáº§u xuáº¥t dá»¯ liá»‡u"})]}),e.jsx(le,{checked:t.allowDataExport,onCheckedChange:()=>o("allowDataExport")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"TuÃ¢n thá»§ GDPR"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Báº£o vá»‡ quyá»n riÃªng tÆ° theo chuáº©n EU"})]}),e.jsx(le,{checked:t.gdprCompliance,onCheckedChange:()=>o("gdprCompliance")})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"LÆ°u trá»¯ dá»¯ liá»‡u"}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"retention-days",children:"Thá»i gian lÆ°u trá»¯ (ngÃ y)"}),e.jsx(Q,{id:"retention-days",type:"number",value:t.dataRetentionDays,onChange:c=>s(l=>({...l,dataRetentionDays:parseInt(c.target.value)})),className:"mt-1 max-w-xs",min:"30",max:"365"}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["Dá»¯ liá»‡u sáº½ Ä‘Æ°á»£c tá»± Ä‘á»™ng xÃ³a sau ",t.dataRetentionDays," ngÃ y"]})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(O,{onClick:i,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(De,{className:"w-4 h-4 mr-2 animate-spin"}),"Äang lÆ°u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Xe,{className:"w-4 h-4 mr-2"}),"LÆ°u cÃ i Ä‘áº·t"]})})})]})},Kg=()=>{const[t,s]=r.useState(ut.api),[n,a]=r.useState(!1),o=async()=>{a(!0);try{await new Promise(i=>setTimeout(i,1e3)),console.log("Saving API settings:",t)}catch(i){console.error("Failed to save settings:",i)}finally{a(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(I,{children:[e.jsxs(R,{children:[e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(Kn,{className:"h-5 w-5"}),"Cáº¥u hÃ¬nh API"]}),e.jsx(K,{children:"Quáº£n lÃ½ API keys vÃ  webhook"})]}),e.jsxs(A,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(M,{htmlFor:"webhook-url",children:"Webhook URL"}),e.jsx(Q,{id:"webhook-url",value:t.webhookUrl,onChange:i=>s(c=>({...c,webhookUrl:i.target.value})),className:"mt-1",placeholder:"https://yourhotel.com/webhook"}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"URL Ä‘á»ƒ nháº­n thÃ´ng bÃ¡o vá» cÃ¡c sá»± kiá»‡n"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"API Keys"}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ne,{className:"h-4 w-4 text-yellow-600"}),e.jsx("span",{className:"font-medium text-yellow-800",children:"LÆ°u Ã½ báº£o máº­t"})]}),e.jsx("p",{className:"text-sm text-yellow-700",children:"KhÃ´ng chia sáº» API keys vá»›i ngÆ°á»i khÃ¡c. Thay Ä‘á»•i ngay náº¿u bá»‹ lá»™."})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"vapi-key",children:"Vapi API Key"}),e.jsx(Q,{id:"vapi-key",type:"password",value:t.apiKeys.vapi,onChange:i=>s(c=>({...c,apiKeys:{...c.apiKeys,vapi:i.target.value}})),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(M,{htmlFor:"openai-key",children:"OpenAI API Key"}),e.jsx(Q,{id:"openai-key",type:"password",value:t.apiKeys.openai,onChange:i=>s(c=>({...c,apiKeys:{...c.apiKeys,openai:i.target.value}})),className:"mt-1"})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(O,{onClick:o,disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(De,{className:"w-4 h-4 mr-2 animate-spin"}),"Äang lÆ°u..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Xe,{className:"w-4 h-4 mr-2"}),"LÆ°u cÃ i Ä‘áº·t"]})})})]})},Xg=()=>{const t=[{name:"Database Connection",status:"healthy",icon:Un},{name:"Vapi API",status:"healthy",icon:Be},{name:"OpenAI API",status:"healthy",icon:Ie},{name:"Email Service",status:"healthy",icon:Wn},{name:"Webhook Endpoint",status:"warning",icon:rt},{name:"SSL Certificate",status:"healthy",icon:Ts}],s=a=>{switch(a){case"healthy":return"text-green-600";case"warning":return"text-yellow-600";case"error":return"text-red-600";default:return"text-gray-600"}},n=a=>{switch(a){case"healthy":return e.jsx(oe,{className:"bg-green-100 text-green-800",children:"Hoáº¡t Ä‘á»™ng"});case"warning":return e.jsx(oe,{className:"bg-yellow-100 text-yellow-800",children:"Cáº£nh bÃ¡o"});case"error":return e.jsx(oe,{className:"bg-red-100 text-red-800",children:"Lá»—i"});default:return e.jsx(oe,{variant:"outline",children:"KhÃ´ng xÃ¡c Ä‘á»‹nh"})}};return e.jsxs(I,{children:[e.jsxs(R,{children:[e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"h-5 w-5"}),"Tráº¡ng thÃ¡i há»‡ thá»‘ng"]}),e.jsx(K,{children:"Kiá»ƒm tra tÃ¬nh tráº¡ng cÃ¡c dá»‹ch vá»¥"})]}),e.jsx(A,{children:e.jsx("div",{className:"space-y-4",children:t.map((a,o)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(a.icon,{className:`h-5 w-5 ${s(a.status)}`}),e.jsx("span",{className:"font-medium",children:a.name})]}),n(a.status)]},o))})})]})},Yg=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"CÃ i Ä‘áº·t"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Quáº£n lÃ½ thÃ´ng tin khÃ¡ch sáº¡n vÃ  cáº¥u hÃ¬nh há»‡ thá»‘ng"})]}),e.jsx(Xg,{}),e.jsxs(St,{defaultValue:"hotel",className:"space-y-4",children:[e.jsxs(mt,{className:"grid w-full grid-cols-4",children:[e.jsx(fe,{value:"hotel",children:"KhÃ¡ch sáº¡n"}),e.jsx(fe,{value:"notifications",children:"ThÃ´ng bÃ¡o"}),e.jsx(fe,{value:"privacy",children:"Quyá»n riÃªng tÆ°"}),e.jsx(fe,{value:"api",children:"API"})]}),e.jsx(je,{value:"hotel",className:"space-y-4",children:e.jsx(Gg,{})}),e.jsx(je,{value:"notifications",className:"space-y-4",children:e.jsx(Ug,{})}),e.jsx(je,{value:"privacy",className:"space-y-4",children:e.jsx(Wg,{})}),e.jsx(je,{value:"api",className:"space-y-4",children:e.jsx(Kg,{})})]})]}),Le=({children:t,requireAuth:s=!0,requiredRole:n,redirectTo:a="/login"})=>{const{user:o,isAuthenticated:i,isLoading:c}=lt(),[,l]=Ge();return r.useEffect(()=>{if(!c){if(s&&!i){l(a);return}if(n&&o&&o.role!==n){l("/unauthorized");return}}},[i,c,o,s,n,a,l]),c?e.jsx(Nt,{}):s&&!i||n&&o&&o.role!==n?null:e.jsx(e.Fragment,{children:t})},Qg=Oe.lazy(()=>Ds(()=>import("./CallHistory-BP1vSUCO.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),Jg=Oe.lazy(()=>Ds(()=>import("./CallDetails-nJ_1x3lq.js"),__vite__mapDeps([7,1,2,3,4,5,6]))),Nt=()=>e.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Äang táº£i..."})]})}),Zg=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"container mx-auto",children:e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Kiá»ƒm tra TÃ­nh nÄƒng Email"}),e.jsx(ke,{href:"/",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90",children:"Quay láº¡i Trang ChÃ­nh"})]})})}),ep=()=>{const{login:t,isLoading:s}=lt(),[,n]=Ge(),[a,o]=r.useState(""),[i,c]=r.useState(""),[l,h]=r.useState(""),[d,u]=r.useState(!1),p=async f=>{f.preventDefault(),h("");try{await t(a,i),n("/dashboard")}catch(v){h(v.message||"ÄÄƒng nháº­p tháº¥t báº¡i")}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"ÄÄƒng nháº­p Dashboard"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Hoáº·c"," ",e.jsx(ke,{href:"/",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"quay láº¡i trang chÃ­nh"})]})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[e.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[e.jsx("div",{children:e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Äá»‹a chá»‰ email",value:a,onChange:f=>o(f.target.value)})}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",name:"password",type:d?"text":"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Máº­t kháº©u",value:i,onChange:f=>c(f.target.value)}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>u(!d),children:d?e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):e.jsxs("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),l&&e.jsx("div",{className:"text-red-600 text-sm text-center",children:l}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:s?"Äang Ä‘Äƒng nháº­p...":"ÄÄƒng nháº­p"})})]})]})})},tp=()=>e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"KhÃ´ng cÃ³ quyá»n truy cáº­p"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Báº¡n khÃ´ng cÃ³ quyá»n truy cáº­p vÃ o trang nÃ y."}),e.jsx(ke,{href:"/",className:"text-indigo-600 hover:text-indigo-500",children:"Quay láº¡i trang chÃ­nh"})]})});function sp(){const t=zs(),{isAuthenticated:s}=lt();return t?e.jsx(r.Suspense,{fallback:e.jsx(Nt,{}),children:e.jsxs(cn,{children:[e.jsx(Z,{path:"/",component:Bx}),e.jsx(Z,{path:"/interface1",children:e.jsx(Ws,{})}),e.jsx(Z,{path:"/call-history",component:Qg}),e.jsx(Z,{path:"/call-details/:callId",component:Jg}),e.jsx(Z,{path:"/email-test",component:Zg}),e.jsx(Z,{path:"/staff",component:Yx}),e.jsx(Z,{path:"/staff/dashboard",component:Ks}),e.jsx(Z,{path:"/analytics",component:Qx}),e.jsx(Z,{path:"/login",component:ep}),e.jsx(Z,{path:"/unauthorized",component:tp}),e.jsx(Z,{path:"/dashboard",children:e.jsx(Le,{requireAuth:!0,children:e.jsx(Pe,{children:e.jsx(fg,{})})})}),e.jsx(Z,{path:"/dashboard/setup",children:e.jsx(Le,{requireAuth:!0,children:e.jsx(Pe,{children:e.jsx(Pg,{})})})}),e.jsx(Z,{path:"/dashboard/assistant",children:e.jsx(Le,{requireAuth:!0,children:e.jsx(Pe,{children:e.jsx(Fg,{})})})}),e.jsx(Z,{path:"/dashboard/analytics",children:e.jsx(Le,{requireAuth:!0,children:e.jsx(Pe,{children:e.jsx(qg,{})})})}),e.jsx(Z,{path:"/dashboard/settings",children:e.jsx(Le,{requireAuth:!0,children:e.jsx(Pe,{children:e.jsx(Yg,{})})})}),e.jsx(Z,{path:"/dashboard/billing",children:e.jsx(Le,{requireAuth:!0,children:e.jsx(Pe,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Thanh toÃ¡n & ÄÄƒng kÃ½"}),e.jsx("p",{className:"text-gray-600",children:"Trang quáº£n lÃ½ thanh toÃ¡n Ä‘ang Ä‘Æ°á»£c phÃ¡t triá»ƒn..."})]})})})}),e.jsx(Z,{path:"/dashboard/team",children:e.jsx(Le,{requireAuth:!0,requiredRole:"admin",children:e.jsx(Pe,{children:e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Quáº£n lÃ½ NhÃ³m"}),e.jsx("p",{className:"text-gray-600",children:"Trang quáº£n lÃ½ nhÃ³m Ä‘ang Ä‘Æ°á»£c phÃ¡t triá»ƒn..."})]})})})}),e.jsx(Z,{component:qx})]})}):e.jsx(Nt,{})}function np(){return Gx(),e.jsxs(xa,{children:[e.jsx(sp,{}),e.jsx(_a,{})]})}function ap(){return e.jsx(aa,{children:e.jsx(Ta,{children:e.jsx(Hx,{children:e.jsx(Aa,{children:e.jsx(np,{})})})})})}ln(document.getElementById("root")).render(e.jsx(ap,{}));
